const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index.es-vusUI_6d.js","assets/pdf-Dk5WTbHu.js","assets/vendor-CO3gwbdG.js","assets/supabase-Bkxd03PV.js"])))=>i.map(i=>d[i]);
import{r as reactExports,a as reactDomExports,b as getDefaultExportFromCjs,R as React$2,L as Link,u as useParams,d as useNavigate,e as useLocation,N as NavLink,O as Outlet,c as commonjsGlobal,g as getAugmentedNamespace,f as useSearchParams,h as e$1,i as ReactDOM,j as Routes,k as Route,l as Navigate,B as BrowserRouter}from"./vendor-CO3gwbdG.js";import{c as createClient,B as Buffer$B,g as global,_ as __vitePreload}from"./supabase-Bkxd03PV.js";import{l as lib,p as process$1,s as safeBufferExports$1,a as streamBrowserify,i as inherits_browserExports,r as require$$0$3,b as string_decoder,e as eventsExports,u as util$3,c as browser$e,d as commonjsRequire}from"./pdf-Dk5WTbHu.js";(function(){const je=document.createElement("link").relList;if(je&&je.supports&&je.supports("modulepreload"))return;for(const $e of document.querySelectorAll('link[rel="modulepreload"]'))Me($e);new MutationObserver($e=>{for(const ke of $e)if(ke.type==="childList")for(const Ce of ke.addedNodes)Ce.tagName==="LINK"&&Ce.rel==="modulepreload"&&Me(Ce)}).observe(document,{childList:!0,subtree:!0});function _e($e){const ke={};return $e.integrity&&(ke.integrity=$e.integrity),$e.referrerPolicy&&(ke.referrerPolicy=$e.referrerPolicy),$e.crossOrigin==="use-credentials"?ke.credentials="include":$e.crossOrigin==="anonymous"?ke.credentials="omit":ke.credentials="same-origin",ke}function Me($e){if($e.ep)return;$e.ep=!0;const ke=_e($e);fetch($e.href,ke)}})();var jsxRuntime={exports:{}},reactJsxRuntime_production_min={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$4=reactExports,k$3=Symbol.for("react.element"),l$4=Symbol.for("react.fragment"),m$4=Object.prototype.hasOwnProperty,n$3=f$4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$2={key:!0,ref:!0,__self:!0,__source:!0};function q$2(Re,je,_e){var Me,$e={},ke=null,Ce=null;_e!==void 0&&(ke=""+_e),je.key!==void 0&&(ke=""+je.key),je.ref!==void 0&&(Ce=je.ref);for(Me in je)m$4.call(je,Me)&&!p$2.hasOwnProperty(Me)&&($e[Me]=je[Me]);if(Re&&Re.defaultProps)for(Me in je=Re.defaultProps,je)$e[Me]===void 0&&($e[Me]=je[Me]);return{$$typeof:k$3,type:Re,key:ke,ref:Ce,props:$e,_owner:n$3.current}}reactJsxRuntime_production_min.Fragment=l$4;reactJsxRuntime_production_min.jsx=q$2;reactJsxRuntime_production_min.jsxs=q$2;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,createRoot,m$3=reactDomExports;createRoot=m$3.createRoot,m$3.hydrateRoot;let e={data:""},t$2=Re=>typeof window=="object"?((Re?Re.querySelector("#_goober"):window._goober)||Object.assign((Re||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:Re||e,l$3=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,a$2=/\/\*[^]*?\*\/|  +/g,n$2=/\n+/g,o$6=(Re,je)=>{let _e="",Me="",$e="";for(let ke in Re){let Ce=Re[ke];ke[0]=="@"?ke[1]=="i"?_e=ke+" "+Ce+";":Me+=ke[1]=="f"?o$6(Ce,ke):ke+"{"+o$6(Ce,ke[1]=="k"?"":je)+"}":typeof Ce=="object"?Me+=o$6(Ce,je?je.replace(/([^,])+/g,Be=>ke.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,qe=>/&/.test(qe)?qe.replace(/&/g,Be):Be?Be+" "+qe:qe)):ke):Ce!=null&&(ke=/^--/.test(ke)?ke:ke.replace(/[A-Z]/g,"-$&").toLowerCase(),$e+=o$6.p?o$6.p(ke,Ce):ke+":"+Ce+";")}return _e+(je&&$e?je+"{"+$e+"}":$e)+Me},c$2={},s$6=Re=>{if(typeof Re=="object"){let je="";for(let _e in Re)je+=_e+s$6(Re[_e]);return je}return Re},i$5=(Re,je,_e,Me,$e)=>{let ke=s$6(Re),Ce=c$2[ke]||(c$2[ke]=(qe=>{let He=0,We=11;for(;He<qe.length;)We=101*We+qe.charCodeAt(He++)>>>0;return"go"+We})(ke));if(!c$2[Ce]){let qe=ke!==Re?Re:(He=>{let We,Ke,Je=[{}];for(;We=l$3.exec(He.replace(a$2,""));)We[4]?Je.shift():We[3]?(Ke=We[3].replace(n$2," ").trim(),Je.unshift(Je[0][Ke]=Je[0][Ke]||{})):Je[0][We[1]]=We[2].replace(n$2," ").trim();return Je[0]})(Re);c$2[Ce]=o$6($e?{["@keyframes "+Ce]:qe}:qe,_e?"":"."+Ce)}let Be=_e&&c$2.g?c$2.g:null;return _e&&(c$2.g=c$2[Ce]),((qe,He,We,Ke)=>{Ke?He.data=He.data.replace(Ke,qe):He.data.indexOf(qe)===-1&&(He.data=We?qe+He.data:He.data+qe)})(c$2[Ce],je,Me,Be),Ce},p$1=(Re,je,_e)=>Re.reduce((Me,$e,ke)=>{let Ce=je[ke];if(Ce&&Ce.call){let Be=Ce(_e),qe=Be&&Be.props&&Be.props.className||/^go/.test(Be)&&Be;Ce=qe?"."+qe:Be&&typeof Be=="object"?Be.props?"":o$6(Be,""):Be===!1?"":Be}return Me+$e+(Ce??"")},"");function u$5(Re){let je=this||{},_e=Re.call?Re(je.p):Re;return i$5(_e.unshift?_e.raw?p$1(_e,[].slice.call(arguments,1),je.p):_e.reduce((Me,$e)=>Object.assign(Me,$e&&$e.call?$e(je.p):$e),{}):_e,t$2(je.target),je.g,je.o,je.k)}let d$3,f$3,g$1;u$5.bind({g:1});let h$1=u$5.bind({k:1});function m$2(Re,je,_e,Me){o$6.p=je,d$3=Re,f$3=_e,g$1=Me}function j$1(Re,je){let _e=this||{};return function(){let Me=arguments;function $e(ke,Ce){let Be=Object.assign({},ke),qe=Be.className||$e.className;_e.p=Object.assign({theme:f$3&&f$3()},Be),_e.o=/ *go\d+/.test(qe),Be.className=u$5.apply(_e,Me)+(qe?" "+qe:"");let He=Re;return Re[0]&&(He=Be.as||Re,delete Be.as),g$1&&He[0]&&g$1(Be),d$3(He,Be)}return $e}}var W$7=Re=>typeof Re=="function",f$2=(Re,je)=>W$7(Re)?Re(je):Re,F$3=(()=>{let Re=0;return()=>(++Re).toString()})(),A$1=(()=>{let Re;return()=>{if(Re===void 0&&typeof window<"u"){let je=matchMedia("(prefers-reduced-motion: reduce)");Re=!je||je.matches}return Re}})(),Y$2=20,U$2=(Re,je)=>{switch(je.type){case 0:return{...Re,toasts:[je.toast,...Re.toasts].slice(0,Y$2)};case 1:return{...Re,toasts:Re.toasts.map(ke=>ke.id===je.toast.id?{...ke,...je.toast}:ke)};case 2:let{toast:_e}=je;return U$2(Re,{type:Re.toasts.find(ke=>ke.id===_e.id)?1:0,toast:_e});case 3:let{toastId:Me}=je;return{...Re,toasts:Re.toasts.map(ke=>ke.id===Me||Me===void 0?{...ke,dismissed:!0,visible:!1}:ke)};case 4:return je.toastId===void 0?{...Re,toasts:[]}:{...Re,toasts:Re.toasts.filter(ke=>ke.id!==je.toastId)};case 5:return{...Re,pausedAt:je.time};case 6:let $e=je.time-(Re.pausedAt||0);return{...Re,pausedAt:void 0,toasts:Re.toasts.map(ke=>({...ke,pauseDuration:ke.pauseDuration+$e}))}}},P$1=[],y$2={toasts:[],pausedAt:void 0},u$4=Re=>{y$2=U$2(y$2,Re),P$1.forEach(je=>{je(y$2)})},q$1={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},D$1=(Re={})=>{let[je,_e]=reactExports.useState(y$2),Me=reactExports.useRef(y$2);reactExports.useEffect(()=>(Me.current!==y$2&&_e(y$2),P$1.push(_e),()=>{let ke=P$1.indexOf(_e);ke>-1&&P$1.splice(ke,1)}),[]);let $e=je.toasts.map(ke=>{var Ce,Be,qe;return{...Re,...Re[ke.type],...ke,removeDelay:ke.removeDelay||((Ce=Re[ke.type])==null?void 0:Ce.removeDelay)||Re?.removeDelay,duration:ke.duration||((Be=Re[ke.type])==null?void 0:Be.duration)||Re?.duration||q$1[ke.type],style:{...Re.style,...(qe=Re[ke.type])==null?void 0:qe.style,...ke.style}}});return{...je,toasts:$e}},J$1=(Re,je="blank",_e)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:je,ariaProps:{role:"status","aria-live":"polite"},message:Re,pauseDuration:0,..._e,id:_e?.id||F$3()}),x$3=Re=>(je,_e)=>{let Me=J$1(je,Re,_e);return u$4({type:2,toast:Me}),Me.id},c$1=(Re,je)=>x$3("blank")(Re,je);c$1.error=x$3("error");c$1.success=x$3("success");c$1.loading=x$3("loading");c$1.custom=x$3("custom");c$1.dismiss=Re=>{u$4({type:3,toastId:Re})};c$1.remove=Re=>u$4({type:4,toastId:Re});c$1.promise=(Re,je,_e)=>{let Me=c$1.loading(je.loading,{..._e,..._e?.loading});return typeof Re=="function"&&(Re=Re()),Re.then($e=>{let ke=je.success?f$2(je.success,$e):void 0;return ke?c$1.success(ke,{id:Me,..._e,..._e?.success}):c$1.dismiss(Me),$e}).catch($e=>{let ke=je.error?f$2(je.error,$e):void 0;ke?c$1.error(ke,{id:Me,..._e,..._e?.error}):c$1.dismiss(Me)}),Re};var K$7=(Re,je)=>{u$4({type:1,toast:{id:Re,height:je}})},X$2=()=>{u$4({type:5,time:Date.now()})},b$1=new Map,Z$2=1e3,ee$2=(Re,je=Z$2)=>{if(b$1.has(Re))return;let _e=setTimeout(()=>{b$1.delete(Re),u$4({type:4,toastId:Re})},je);b$1.set(Re,_e)},O$2=Re=>{let{toasts:je,pausedAt:_e}=D$1(Re);reactExports.useEffect(()=>{if(_e)return;let ke=Date.now(),Ce=je.map(Be=>{if(Be.duration===1/0)return;let qe=(Be.duration||0)+Be.pauseDuration-(ke-Be.createdAt);if(qe<0){Be.visible&&c$1.dismiss(Be.id);return}return setTimeout(()=>c$1.dismiss(Be.id),qe)});return()=>{Ce.forEach(Be=>Be&&clearTimeout(Be))}},[je,_e]);let Me=reactExports.useCallback(()=>{_e&&u$4({type:6,time:Date.now()})},[_e]),$e=reactExports.useCallback((ke,Ce)=>{let{reverseOrder:Be=!1,gutter:qe=8,defaultPosition:He}=Ce||{},We=je.filter(Qe=>(Qe.position||He)===(ke.position||He)&&Qe.height),Ke=We.findIndex(Qe=>Qe.id===ke.id),Je=We.filter((Qe,rr)=>rr<Ke&&Qe.visible).length;return We.filter(Qe=>Qe.visible).slice(...Be?[Je+1]:[0,Je]).reduce((Qe,rr)=>Qe+(rr.height||0)+qe,0)},[je]);return reactExports.useEffect(()=>{je.forEach(ke=>{if(ke.dismissed)ee$2(ke.id,ke.removeDelay);else{let Ce=b$1.get(ke.id);Ce&&(clearTimeout(Ce),b$1.delete(ke.id))}})},[je]),{toasts:je,handlers:{updateHeight:K$7,startPause:X$2,endPause:Me,calculateOffset:$e}}},oe$2=h$1`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,re$2=h$1`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,se$2=h$1`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,k$2=j$1("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${Re=>Re.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${oe$2} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${re$2} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${Re=>Re.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${se$2} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,ne$2=h$1`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,V$2=j$1("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${Re=>Re.secondary||"#e0e0e0"};
  border-right-color: ${Re=>Re.primary||"#616161"};
  animation: ${ne$2} 1s linear infinite;
`,pe$2=h$1`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,de$1=h$1`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,_$2=j$1("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${Re=>Re.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${pe$2} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${de$1} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${Re=>Re.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,ue$2=j$1("div")`
  position: absolute;
`,le$2=j$1("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,fe$1=h$1`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Te=j$1("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${fe$1} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,M$2=({toast:Re})=>{let{icon:je,type:_e,iconTheme:Me}=Re;return je!==void 0?typeof je=="string"?reactExports.createElement(Te,null,je):je:_e==="blank"?null:reactExports.createElement(le$2,null,reactExports.createElement(V$2,{...Me}),_e!=="loading"&&reactExports.createElement(ue$2,null,_e==="error"?reactExports.createElement(k$2,{...Me}):reactExports.createElement(_$2,{...Me})))},ye$1=Re=>`
0% {transform: translate3d(0,${Re*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,ge$1=Re=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${Re*-150}%,-1px) scale(.6); opacity:0;}
`,he$1="0%{opacity:0;} 100%{opacity:1;}",xe="0%{opacity:1;} 100%{opacity:0;}",be$1=j$1("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Se=j$1("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Ae$1=(Re,je)=>{let _e=Re.includes("top")?1:-1,[Me,$e]=A$1()?[he$1,xe]:[ye$1(_e),ge$1(_e)];return{animation:je?`${h$1(Me)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${h$1($e)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},C$2=reactExports.memo(({toast:Re,position:je,style:_e,children:Me})=>{let $e=Re.height?Ae$1(Re.position||je||"top-center",Re.visible):{opacity:0},ke=reactExports.createElement(M$2,{toast:Re}),Ce=reactExports.createElement(Se,{...Re.ariaProps},f$2(Re.message,Re));return reactExports.createElement(be$1,{className:Re.className,style:{...$e,..._e,...Re.style}},typeof Me=="function"?Me({icon:ke,message:Ce}):reactExports.createElement(reactExports.Fragment,null,ke,Ce))});m$2(reactExports.createElement);var ve$1=({id:Re,className:je,style:_e,onHeightUpdate:Me,children:$e})=>{let ke=reactExports.useCallback(Ce=>{if(Ce){let Be=()=>{let qe=Ce.getBoundingClientRect().height;Me(Re,qe)};Be(),new MutationObserver(Be).observe(Ce,{subtree:!0,childList:!0,characterData:!0})}},[Re,Me]);return reactExports.createElement("div",{ref:ke,className:je,style:_e},$e)},Ee=(Re,je)=>{let _e=Re.includes("top"),Me=_e?{top:0}:{bottom:0},$e=Re.includes("center")?{justifyContent:"center"}:Re.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:A$1()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${je*(_e?1:-1)}px)`,...Me,...$e}},De=u$5`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,R$2=16,Oe=({reverseOrder:Re,position:je="top-center",toastOptions:_e,gutter:Me,children:$e,containerStyle:ke,containerClassName:Ce})=>{let{toasts:Be,handlers:qe}=O$2(_e);return reactExports.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:R$2,left:R$2,right:R$2,bottom:R$2,pointerEvents:"none",...ke},className:Ce,onMouseEnter:qe.startPause,onMouseLeave:qe.endPause},Be.map(He=>{let We=He.position||je,Ke=qe.calculateOffset(He,{reverseOrder:Re,gutter:Me,defaultPosition:je}),Je=Ee(We,Ke);return reactExports.createElement(ve$1,{id:He.id,key:He.id,onHeightUpdate:qe.updateHeight,className:He.visible?De:"",style:Je},He.type==="custom"?f$2(He.message,He):$e?$e(He):reactExports.createElement(C$2,{toast:He,position:We}))}))},Vt$1=c$1;const __vite_import_meta_env__$2={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_APP_URL:"https://cxtrack.com",VITE_HUGGINGFACE_API_KEY:"hf_your-huggingface-key",VITE_OPENAI_API_KEY:"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",VITE_STRIPE_PUBLISHABLE_KEY:"pk_live_51QypERGmarpEtABMTcKBe5wEaaqY3EWbyIpDqcXVWbheGjKUCdMnaPwPEscNALaoOrQBg5THRELp7HJAAGa6XRU400cGHFDtax",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZtZW9tbm1ncWF0ZXpqcXNyYXBqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDA4ODI3NjQsImV4cCI6MjA1NjQ1ODc2NH0.uT7Hne2lmqLUei4931uepHFum1rtuBk7k0HRMK0V5UI",VITE_SUPABASE_URL:"https://vmeomnmgqatezjqsrapj.supabase.co"},createStoreImpl=Re=>{let je;const _e=new Set,Me=(We,Ke)=>{const Je=typeof We=="function"?We(je):We;if(!Object.is(Je,je)){const Qe=je;je=Ke??(typeof Je!="object"||Je===null)?Je:Object.assign({},je,Je),_e.forEach(rr=>rr(je,Qe))}},$e=()=>je,qe={setState:Me,getState:$e,getInitialState:()=>He,subscribe:We=>(_e.add(We),()=>_e.delete(We)),destroy:()=>{(__vite_import_meta_env__$2?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),_e.clear()}},He=je=Re(Me,$e,qe);return qe},createStore=Re=>Re?createStoreImpl(Re):createStoreImpl;var withSelector={exports:{}},withSelector_production={},shim$2={exports:{}},useSyncExternalStoreShim_production={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var React$1=reactExports;function is$1(Re,je){return Re===je&&(Re!==0||1/Re===1/je)||Re!==Re&&je!==je}var objectIs$1=typeof Object.is=="function"?Object.is:is$1,useState=React$1.useState,useEffect$1=React$1.useEffect,useLayoutEffect=React$1.useLayoutEffect,useDebugValue$2=React$1.useDebugValue;function useSyncExternalStore$2(Re,je){var _e=je(),Me=useState({inst:{value:_e,getSnapshot:je}}),$e=Me[0].inst,ke=Me[1];return useLayoutEffect(function(){$e.value=_e,$e.getSnapshot=je,checkIfSnapshotChanged($e)&&ke({inst:$e})},[Re,_e,je]),useEffect$1(function(){return checkIfSnapshotChanged($e)&&ke({inst:$e}),Re(function(){checkIfSnapshotChanged($e)&&ke({inst:$e})})},[Re]),useDebugValue$2(_e),_e}function checkIfSnapshotChanged(Re){var je=Re.getSnapshot;Re=Re.value;try{var _e=je();return!objectIs$1(Re,_e)}catch{return!0}}function useSyncExternalStore$1(Re,je){return je()}var shim$1=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?useSyncExternalStore$1:useSyncExternalStore$2;useSyncExternalStoreShim_production.useSyncExternalStore=React$1.useSyncExternalStore!==void 0?React$1.useSyncExternalStore:shim$1;shim$2.exports=useSyncExternalStoreShim_production;var shimExports=shim$2.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var React=reactExports,shim=shimExports;function is(Re,je){return Re===je&&(Re!==0||1/Re===1/je)||Re!==Re&&je!==je}var objectIs=typeof Object.is=="function"?Object.is:is,useSyncExternalStore=shim.useSyncExternalStore,useRef=React.useRef,useEffect=React.useEffect,useMemo=React.useMemo,useDebugValue$1=React.useDebugValue;withSelector_production.useSyncExternalStoreWithSelector=function(Re,je,_e,Me,$e){var ke=useRef(null);if(ke.current===null){var Ce={hasValue:!1,value:null};ke.current=Ce}else Ce=ke.current;ke=useMemo(function(){function qe(Qe){if(!He){if(He=!0,We=Qe,Qe=Me(Qe),$e!==void 0&&Ce.hasValue){var rr=Ce.value;if($e(rr,Qe))return Ke=rr}return Ke=Qe}if(rr=Ke,objectIs(We,Qe))return rr;var tr=Me(Qe);return $e!==void 0&&$e(rr,tr)?(We=Qe,rr):(We=Qe,Ke=tr)}var He=!1,We,Ke,Je=_e===void 0?null:_e;return[function(){return qe(je())},Je===null?void 0:function(){return qe(Je())}]},[je,_e,Me,$e]);var Be=useSyncExternalStore(Re,ke[0],ke[1]);return useEffect(function(){Ce.hasValue=!0,Ce.value=Be},[Be]),useDebugValue$1(Be),Be};withSelector.exports=withSelector_production;var withSelectorExports=withSelector.exports;const useSyncExternalStoreExports=getDefaultExportFromCjs(withSelectorExports),__vite_import_meta_env__$1={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_APP_URL:"https://cxtrack.com",VITE_HUGGINGFACE_API_KEY:"hf_your-huggingface-key",VITE_OPENAI_API_KEY:"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",VITE_STRIPE_PUBLISHABLE_KEY:"pk_live_51QypERGmarpEtABMTcKBe5wEaaqY3EWbyIpDqcXVWbheGjKUCdMnaPwPEscNALaoOrQBg5THRELp7HJAAGa6XRU400cGHFDtax",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZtZW9tbm1ncWF0ZXpqcXNyYXBqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDA4ODI3NjQsImV4cCI6MjA1NjQ1ODc2NH0.uT7Hne2lmqLUei4931uepHFum1rtuBk7k0HRMK0V5UI",VITE_SUPABASE_URL:"https://vmeomnmgqatezjqsrapj.supabase.co"},{useDebugValue}=React$2,{useSyncExternalStoreWithSelector}=useSyncExternalStoreExports;let didWarnAboutEqualityFn=!1;const identity$5=Re=>Re;function useStore(Re,je=identity$5,_e){(__vite_import_meta_env__$1?"production":void 0)!=="production"&&_e&&!didWarnAboutEqualityFn&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),didWarnAboutEqualityFn=!0);const Me=useSyncExternalStoreWithSelector(Re.subscribe,Re.getState,Re.getServerState||Re.getInitialState,je,_e);return useDebugValue(Me),Me}const createImpl=Re=>{(__vite_import_meta_env__$1?"production":void 0)!=="production"&&typeof Re!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const je=typeof Re=="function"?createStore(Re):Re,_e=(Me,$e)=>useStore(je,Me,$e);return Object.assign(_e,je),_e},create=Re=>Re?createImpl(Re):createImpl;var react=Re=>((__vite_import_meta_env__$1?"production":void 0)!=="production"&&console.warn("[DEPRECATED] Default export is deprecated. Instead use `import { create } from 'zustand'`."),create(Re));const supabaseUrl="https://vmeomnmgqatezjqsrapj.supabase.co",supabaseAnonKey="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZtZW9tbm1ncWF0ZXpqcXNyYXBqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDA4ODI3NjQsImV4cCI6MjA1NjQ1ODc2NH0.uT7Hne2lmqLUei4931uepHFum1rtuBk7k0HRMK0V5UI",openAIKey="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",validateEnvVars=()=>{const Re=[];if(Re.length>0)throw new Error(`Missing required environment variables: ${Re.join(", ")}`);if(!openAIKey.startsWith("sk-"))throw new Error('Invalid OpenAI API key format. Key should start with "sk-"');try{new URL(supabaseUrl)}catch{throw new Error("Invalid Supabase URL format")}};validateEnvVars();const createMobileCompatibleStorage=()=>{const Re={},je=($e,ke,Ce=7)=>{try{const Be=new Date(Date.now()+Ce*864e5).toUTCString();return document.cookie=`${$e}=${encodeURIComponent(ke)}; expires=${Be}; path=/; SameSite=Lax`,!0}catch(Be){return console.error("Cookie storage error:",Be),!1}},_e=$e=>{try{const Ce=`; ${document.cookie}`.split(`; ${$e}=`);if(Ce.length===2){const Be=Ce.pop()?.split(";").shift();return Be?decodeURIComponent(Be):null}return null}catch(ke){return console.error("Cookie retrieval error:",ke),null}},Me=$e=>{try{return document.cookie=`${$e}=; Max-Age=-99999999; path=/`,!0}catch(ke){return console.error("Cookie removal error:",ke),!1}};return{getItem:$e=>{try{const ke=localStorage.getItem($e);if(ke)return ke;const Ce=_e($e);return Ce||Re[$e]||null}catch(ke){return console.warn("localStorage error, falling back to memory:",ke),Re[$e]||null}},setItem:($e,ke)=>{try{localStorage.setItem($e,ke),je($e,ke),Re[$e]=ke}catch(Ce){console.warn("Storage error, trying fallbacks:",Ce);try{je($e,ke)}catch(Be){console.warn("Cookie storage failed:",Be)}Re[$e]=ke}},removeItem:$e=>{try{localStorage.removeItem($e),Me($e),delete Re[$e]}catch(ke){console.warn("localStorage error, falling back to memory:",ke);try{Me($e)}catch(Ce){console.warn("Cookie removal failed:",Ce)}delete Re[$e]}}}},mobileStorage=createMobileCompatibleStorage(),supabase=createClient(supabaseUrl,supabaseAnonKey,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storageKey:"sb-auth-token",storage:mobileStorage,flowType:"implicit"},global:{headers:{"X-Client-Info":"cxtrack-app"}}}),refreshSession=async()=>{try{const{data:{session:Re}}=await supabase.auth.getSession();if(Re)try{const{data:je,error:_e}=await supabase.auth.refreshSession();return _e?(_e.name!=="AuthSessionMissingError"&&console.error("Session refresh error:",_e),{success:!1,session:null,error:_e}):{success:!0,session:je.session,error:null}}catch(je){return console.error("Session refresh exception:",je),{success:!1,session:null,error:je}}return{success:!1,session:null,error:null}}catch(Re){return Re&&Re.name!=="AuthSessionMissingError"&&console.error("Session check exception:",Re),{success:!1,session:null,error:Re}}},clearAuthStorage=()=>{try{mobileStorage.removeItem("sb-auth-token");try{sessionStorage.removeItem("sb-auth-token"),localStorage.removeItem("sb-auth-token"),sessionStorage.removeItem("bms-auth-token"),localStorage.removeItem("bms-auth-token"),["supabase.auth.token","supabase.auth.refreshToken","sb-session","sb-access-token","sb-refresh-token"].forEach(je=>{try{localStorage.removeItem(je),sessionStorage.removeItem(je)}catch{}})}catch(Re){console.warn("Error clearing browser storage:",Re)}try{document.cookie.split(";").forEach(Re=>{const[je]=Re.split("=");je&&(je.trim().startsWith("sb-")||je.trim().includes("supabase")||je.trim().includes("auth"))&&(document.cookie=`${je.trim()}=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/`)})}catch(Re){console.warn("Error clearing cookies:",Re)}return!0}catch(Re){return console.error("Error clearing auth storage:",Re),!1}},useAuthStore=create((Re,je)=>({user:null,initialized:!1,loading:!1,error:null,resetPassword:async _e=>{Re({loading:!0,error:null});try{const $e="https://cxtrack.com/reset-password#",{error:ke}=await supabase.auth.resetPasswordForEmail(_e,{redirectTo:$e});if(ke)throw ke;Re({loading:!1})}catch(Me){throw console.error("Password reset error:",Me),Re({error:Me.message||"Failed to send reset instructions",loading:!1}),Me}},updatePassword:async(_e,Me)=>{Re({loading:!0,error:null});try{const{error:$e}=await supabase.auth.setSession({access_token:_e,refresh_token:""});if($e)throw new Error("Invalid or expired reset link");const{error:ke}=await supabase.auth.updateUser({password:Me});if(ke)throw ke;await supabase.auth.signOut(),clearAuthStorage(),Re({loading:!1})}catch($e){throw console.error("Password update error:",$e),Re({error:$e.message?.includes("Invalid")||$e.message?.includes("expired")?"Invalid or expired reset link. Please request a new password reset.":$e.message||"Failed to update password",loading:!1}),$e}},signIn:async(_e,Me)=>{Re({loading:!0,error:null});try{await supabase.auth.signOut(),clearAuthStorage(),await new Promise(Be=>setTimeout(Be,300));const{error:$e}=await supabase.auth.signInWithPassword({email:_e,password:Me});if($e)throw $e;await new Promise(Be=>setTimeout(Be,500));let Ce=(await supabase.auth.getSession())?.data?.session?.user;if(!Ce)throw new Error("Your session has expired. Please sign in again.");Re({user:{id:Ce.id,email:Ce.email},loading:!1})}catch($e){throw console.error("Sign in error:",$e),Re({error:$e.message||"Unable to sign in. Please try again.",loading:!1}),$e}},signInWithGoogle:async()=>{Re({loading:!0,error:null});try{await supabase.auth.signOut(),clearAuthStorage(),await new Promise(Me=>setTimeout(Me,300));const{error:_e}=await supabase.auth.signInWithOAuth({provider:"google",options:{redirectTo:"https://cxtrack.com/auth/callback",queryParams:{access_type:"offline",prompt:"consent"}}});if(_e)throw _e;Re({loading:!1})}catch(_e){throw console.error("Google sign in error:",_e),Re({error:_e.message?.includes("refused to connect")?"Please check your Google authentication settings in Supabase":_e.message||"Unable to sign in with Google",loading:!1}),_e}},signUp:async(_e,Me,$e)=>{Re({loading:!0,error:null});try{await supabase.auth.signOut(),clearAuthStorage(),await new Promise(Be=>setTimeout(Be,300));const{data:ke,error:Ce}=await supabase.auth.signUp({email:_e,password:Me,options:{data:{full_name:$e},emailRedirectTo:`${window.location.origin}/auth/callback`}});if(Ce)throw Ce.message.includes("User already registered")?new Error("An account with this email already exists"):Ce.message.includes("rate limit")?new Error("Too many attempts. Please try again in a few minutes."):Ce;if(!ke.user)throw new Error("No user data returned from signup");Re({loading:!1})}catch(ke){console.error("Sign up error:",ke);let Ce="Unable to create account. Please try again.";throw ke.message.includes("already exists")||ke.message.includes("already registered")?Ce=ke.message:ke.message.includes("password")?Ce="Password must be at least 6 characters long.":ke.message.includes("email")?Ce="Please enter a valid email address.":ke.message.includes("rate limit")?Ce="Too many attempts. Please try again later.":Ce=ke.message,Re({error:Ce,loading:!1}),ke}},signOut:async()=>{Re({loading:!0,error:null});try{clearAuthStorage(),await new Promise(_e=>setTimeout(_e,300)),await supabase.auth.signOut(),Re({user:null,loading:!1,error:null,initialized:!0})}catch(_e){console.error("Sign out error:",_e),clearAuthStorage(),Re({user:null,loading:!1,error:"Failed to sign out properly, but you have been logged out.",initialized:!0})}},initialize:async()=>{Re({loading:!0});try{const{data:{session:_e},error:Me}=await supabase.auth.getSession();if(Me)throw Me;if(_e){const{data:{user:$e},error:ke}=await supabase.auth.getUser();if(ke)throw ke;Re({user:{id:$e?.id,email:$e?.email},initialized:!0,loading:!1})}else Re({user:null,initialized:!0,loading:!1})}catch(_e){console.error("Auth initialization error:",_e),Re({user:null,initialized:!0,loading:!1})}},clearError:()=>Re({error:null}),checkAuthStatus:async()=>{try{const{data:{session:_e},error:Me}=await supabase.auth.getSession();if(!_e||Me)return!1;const $e=new Date(_e.expires_at*1e3),ke=new Date(Date.now()-5*60*1e3);if($e>ke)return!0;const{success:Ce}=await refreshSession();return Ce}catch(_e){return console.error("Auth status check error:",_e),!1}}}));supabase.auth.onAuthStateChange(async(Re,je)=>{je?.user?useAuthStore.setState({user:{email:je.user.email,id:je.user.id},initialized:!0}):useAuthStore.setState({user:null,initialized:!0})});useAuthStore.getState().initialize();const useProfileStore=create((Re,je)=>({profile:null,loading:!1,error:null,clearError:()=>Re({error:null}),fetchProfile:async()=>{Re({loading:!0,error:null});try{const{data:_e}=await supabase.auth.getUser();if(!_e?.user){console.log("No authenticated user found when fetching profile"),Re({profile:{company:"CxTrack",address:"",city:"",state:"",zipcode:"",country:"",phone:""},loading:!1});return}const{data:Me,error:$e}=await supabase.from("profiles").select("*").eq("user_id",_e.user.id).maybeSingle();if($e&&$e.code!=="PGRST116")throw console.error("Error fetching profile:",$e),$e;if(Me){Re({profile:Me,loading:!1});return}const ke={user_id:_e.user.id,company:"CxTrack",address:"",city:"",state:"",zipcode:"",country:"",phone:""};try{const{data:Ce,error:Be}=await supabase.from("profiles").insert([ke]).select().single();Be?(console.error("Error creating default profile:",Be),Re({profile:ke,loading:!1,error:Be.message})):Re({profile:Ce,loading:!1})}catch(Ce){console.error("Exception creating profile:",Ce),Re({profile:ke,loading:!1,error:"Failed to create profile"})}}catch(_e){console.error("Error in fetchProfile:",_e),Re({profile:{company:"CxTrack",address:"",city:"",state:"",zipcode:"",country:"",phone:""},error:_e.message||"Failed to fetch profile",loading:!1})}},updateProfile:async _e=>{const Me=je().profile;if(!Me)throw new Error("No profile to update");let $e=!1;for(const[ke,Ce]of Object.entries(_e))if(Me[ke]!==Ce){$e=!0;break}if(!$e){console.log("No profile changes detected, skipping update");return}Re({loading:!0,error:null});try{const{data:ke}=await supabase.auth.getUser();if(!ke?.user)throw new Error("User not authenticated");const Ce=ke.user.id,{data:Be}=await supabase.from("profiles").select("id").eq("user_id",Ce).maybeSingle();let qe;if(Be?qe=await supabase.from("profiles").update({..._e,updated_at:new Date().toISOString()}).eq("user_id",Ce).select().single():qe=await supabase.from("profiles").insert([{user_id:Ce,..._e,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select().single(),qe.error)throw console.error("Error updating profile:",qe.error),qe.error;Re({profile:{...Me,..._e,user_id:Ce},loading:!1})}catch(ke){throw console.error("Error in updateProfile:",ke),Re({error:ke.message||"Failed to update profile",loading:!1}),ke}}}));/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=Re=>Re.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),createLucideIcon=(Re,je)=>{const _e=reactExports.forwardRef(({color:Me="currentColor",size:$e=24,strokeWidth:ke=2,absoluteStrokeWidth:Ce,className:Be="",children:qe,...He},We)=>reactExports.createElement("svg",{ref:We,...defaultAttributes,width:$e,height:$e,stroke:Me,strokeWidth:Ce?Number(ke)*24/Number($e):ke,className:["lucide",`lucide-${toKebabCase(Re)}`,Be].join(" "),...He},[...je.map(([Ke,Je])=>reactExports.createElement(Ke,Je)),...Array.isArray(qe)?qe:[qe]]));return _e.displayName=`${Re}`,_e};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Activity=createLucideIcon("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AlertCircle=createLucideIcon("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AlertTriangle=createLucideIcon("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ArrowDownRight=createLucideIcon("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ArrowDown=createLucideIcon("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ArrowLeft=createLucideIcon("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ArrowRight=createLucideIcon("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ArrowUpRight=createLucideIcon("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ArrowUp=createLucideIcon("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ban=createLucideIcon("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BarChart2=createLucideIcon("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bell=createLucideIcon("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bot=createLucideIcon("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Brain=createLucideIcon("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Briefcase=createLucideIcon("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Building=createLucideIcon("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Calendar$2=createLucideIcon("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Camera=createLucideIcon("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CheckCircle=createLucideIcon("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CheckSquare=createLucideIcon("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Check=createLucideIcon("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronDownSquare=createLucideIcon("ChevronDownSquare",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"m16 10-4 4-4-4",key:"894hmk"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronDown=createLucideIcon("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronLeft=createLucideIcon("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronRight=createLucideIcon("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CircleUser=createLucideIcon("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Clock=createLucideIcon("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Code=createLucideIcon("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cookie=createLucideIcon("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Copy=createLucideIcon("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CreditCard=createLucideIcon("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Database=createLucideIcon("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DollarSign=createLucideIcon("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Download=createLucideIcon("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ExternalLink=createLucideIcon("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EyeOff=createLucideIcon("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eye=createLucideIcon("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FileCheck=createLucideIcon("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FileText=createLucideIcon("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Filter=createLucideIcon("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FolderInput=createLucideIcon("FolderInput",[["path",{d:"M2 9V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-1",key:"fm4g5t"}],["path",{d:"M2 13h10",key:"pgb2dq"}],["path",{d:"m9 16 3-3-3-3",key:"6m91ic"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gavel=createLucideIcon("Gavel",[["path",{d:"m14.5 12.5-8 8a2.119 2.119 0 1 1-3-3l8-8",key:"15492f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m9 7 8 8",key:"5jnvq1"}],["path",{d:"m21 11-8-8",key:"z4y7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GraduationCap=createLucideIcon("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hash$a=createLucideIcon("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Headset=createLucideIcon("Headset",[["path",{d:"M3 11h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-5Zm0 0a9 9 0 1 1 18 0m0 0v5a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3Z",key:"12oyoe"}],["path",{d:"M21 16v2a4 4 0 0 1-4 4h-5",key:"1x7m43"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Heart=createLucideIcon("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const History=createLucideIcon("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Home=createLucideIcon("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Info=createLucideIcon("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Key=createLucideIcon("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Layers=createLucideIcon("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LayoutGrid=createLucideIcon("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ListChecks=createLucideIcon("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Loader2=createLucideIcon("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Loader=createLucideIcon("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lock=createLucideIcon("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LogIn=createLucideIcon("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LogOut=createLucideIcon("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mail=createLucideIcon("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MapPin=createLucideIcon("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Maximize2=createLucideIcon("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Menu=createLucideIcon("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MessageSquare=createLucideIcon("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Minimize2=createLucideIcon("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MoreHorizontal=createLucideIcon("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Network=createLucideIcon("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Package=createLucideIcon("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pause=createLucideIcon("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PenTool=createLucideIcon("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pen=createLucideIcon("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Phone=createLucideIcon("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Play=createLucideIcon("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Plus=createLucideIcon("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Printer=createLucideIcon("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Receipt=createLucideIcon("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RefreshCw=createLucideIcon("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Save=createLucideIcon("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Search=createLucideIcon("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Send=createLucideIcon("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Server=createLucideIcon("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Settings$2=createLucideIcon("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Shield=createLucideIcon("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ShoppingCart=createLucideIcon("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SquarePen=createLucideIcon("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Star=createLucideIcon("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Stethoscope=createLucideIcon("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tag=createLucideIcon("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TimerReset=createLucideIcon("TimerReset",[["path",{d:"M10 2h4",key:"n1abiw"}],["path",{d:"M12 14v-4",key:"1evpnu"}],["path",{d:"M4 13a8 8 0 0 1 8-7 8 8 0 1 1-5.3 14L4 17.6",key:"1ts96g"}],["path",{d:"M9 17H4v5",key:"8t5av"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Timer=createLucideIcon("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Trash2=createLucideIcon("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Trash=createLucideIcon("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TrendingUp=createLucideIcon("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Truck=createLucideIcon("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Upload=createLucideIcon("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UserPlus=createLucideIcon("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const User=createLucideIcon("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UsersRound=createLucideIcon("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Users=createLucideIcon("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X$1=createLucideIcon("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zap=createLucideIcon("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Pipeline=()=>{const{user:Re}=useAuthStore(),[je,_e]=reactExports.useState(!0),[Me,$e]=reactExports.useState([]),[ke,Ce]=reactExports.useState([]),[Be,qe]=reactExports.useState(null),[He,We]=reactExports.useState("all"),[Ke,Je]=reactExports.useState({start:"",end:""}),[Qe,rr]=reactExports.useState(""),[tr,cr]=reactExports.useState("date"),[or,ar]=reactExports.useState("desc");reactExports.useEffect(()=>{(async()=>{try{_e(!0);const{data:dr,error:xr}=await supabase.rpc("get_pipeline_summary",{p_user_id:Re?.id});if(xr)throw xr;$e(dr||[]);const Rr=supabase.from("quotes").select("*").eq("user_id",Re?.id).filter("status","not.in",'("Declined","Expired")'),Xe=supabase.from("invoices").select("*").eq("user_id",Re?.id).neq("status","Cancelled"),[Pe,Fe]=await Promise.all([Rr,Xe]);if(Pe.error)throw Pe.error;if(Fe.error)throw Fe.error;const ze=(Pe.data||[]).map(Ge=>({id:Ge.id,title:Ge.quote_number,customer_name:Ge.customer_name,total:Ge.total,created_at:Ge.created_at,due_date:Ge.expiry_date,status:Ge.status,pipeline_stage:Ge.pipeline_stage,type:"quote"})),Ue=(Fe.data||[]).map(Ge=>({id:Ge.id,title:Ge.invoice_number,customer_name:Ge.customer_name,total:Ge.total,created_at:Ge.created_at,due_date:Ge.due_date,status:Ge.status,pipeline_stage:Ge.pipeline_stage,type:"invoice"}));Ce([...ze,...Ue])}catch(dr){console.error("Error loading pipeline data:",dr),c$1.error("Failed to load pipeline data")}finally{_e(!1)}})()},[Re?.id]);const pr=ke.filter(vr=>{if(Be&&vr.pipeline_stage!==Be)return!1;if(Qe){const dr=Qe.toLowerCase();return vr.title.toLowerCase().includes(dr)||vr.customer_name.toLowerCase().includes(dr)}if(He!=="all"){const dr=new Date(vr.created_at),xr=new Date;switch(He){case"week":const Rr=new Date(xr);return Rr.setDate(xr.getDate()-xr.getDay()),Rr.setHours(0,0,0,0),dr>=Rr;case"month":const Xe=new Date(xr.getFullYear(),xr.getMonth(),1);return dr>=Xe;case"quarter":const Pe=new Date(xr);return Pe.setMonth(Math.floor(xr.getMonth()/3)*3,1),dr>=Pe;case"year":const Fe=new Date(xr.getFullYear(),0,1);return dr>=Fe;case"ytd":const ze=new Date(xr.getFullYear(),0,1);return dr>=ze;case"custom":const Ue=Ke.start?new Date(Ke.start):null,Ge=Ke.end?new Date(Ke.end):null;return Ue&&Ge?dr>=Ue&&dr<=Ge:!0;default:return!0}}return!0}).sort((vr,dr)=>tr==="date"?or==="desc"?new Date(dr.created_at).getTime()-new Date(vr.created_at).getTime():new Date(vr.created_at).getTime()-new Date(dr.created_at).getTime():or==="desc"?dr.total-vr.total:vr.total-dr.total),ur=pr.reduce((vr,dr)=>vr+dr.total,0),gr=pr.length,jr=gr>0?ur/gr:0;return je?jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center min-h-[60vh]",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"}),jsxRuntimeExports.jsx("span",{className:"ml-3 text-gray-400",children:"Loading pipeline data..."})]}):jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between",children:jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-white",children:"Pipeline"})}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsx("div",{className:"card bg-dark-800 border border-dark-700",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm",children:"Total Pipeline Value"}),jsxRuntimeExports.jsxs("h3",{className:"text-2xl font-bold text-white mt-1",children:["$",ur.toLocaleString()]})]}),jsxRuntimeExports.jsx("div",{className:"p-3 rounded-lg bg-green-500/20 text-green-500",children:jsxRuntimeExports.jsx(DollarSign,{size:24})})]})}),jsxRuntimeExports.jsx("div",{className:"card bg-dark-800 border border-dark-700",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm",children:"Total Deals"}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-white mt-1",children:gr})]}),jsxRuntimeExports.jsx("div",{className:"p-3 rounded-lg bg-blue-500/20 text-blue-500",children:jsxRuntimeExports.jsx(FileText,{size:24})})]})}),jsxRuntimeExports.jsx("div",{className:"card bg-dark-800 border border-dark-700",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm",children:"Average Deal Value"}),jsxRuntimeExports.jsxs("h3",{className:"text-2xl font-bold text-white mt-1",children:["$",jr.toLocaleString()]})]}),jsxRuntimeExports.jsx("div",{className:"p-3 rounded-lg bg-purple-500/20 text-purple-500",children:jsxRuntimeExports.jsx(Users,{size:24})})]})})]}),jsxRuntimeExports.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-between items-center mb-6",children:jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-white",children:"Pipeline Stages"})}),jsxRuntimeExports.jsx("div",{className:"space-y-4",children:[{stage:"lead",label:"Leads",color:"bg-gray-500"},{stage:"opportunity",label:"Opportunities",color:"bg-blue-500"},{stage:"closed_won",label:"Closed (Won)",color:"bg-green-500"}].map(vr=>{const dr=Me?.find(Pe=>Pe.pipeline_stage===vr.stage),xr=dr?.total_value||0,Rr=dr?.deal_count||0,Xe=dr?.completion_percentage||0;return jsxRuntimeExports.jsxs("button",{className:`w-full relative ${Be===vr.stage?"ring-2 ring-primary-500 rounded-lg":"hover:bg-dark-700/50"}`,onClick:()=>qe(Be===vr.stage?null:vr.stage),children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-300",children:vr.label}),jsxRuntimeExports.jsx(Filter,{size:14,className:`text-gray-400 transition-colors ${Be===vr.stage?"text-primary-400":"text-gray-500"}`})]}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-gray-400",children:[Rr," ",Rr===1?"deal":"deals","  $",xr.toLocaleString()]})]}),jsxRuntimeExports.jsx("div",{className:"h-2 bg-dark-700 rounded-full overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:`h-full ${vr.color} transition-all duration-300 ${Be===vr.stage?"opacity-100":"opacity-75"}`,style:{width:`${Xe*100}%`}})})]},vr.stage)})})]}),jsxRuntimeExports.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex-1",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:jsxRuntimeExports.jsx(Search,{size:18,className:"text-gray-400"})}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search deals...",className:"input pl-10 w-full",value:Qe,onChange:vr=>rr(vr.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs("select",{className:"bg-dark-800 border border-dark-700 text-white rounded-md px-3 py-2",value:He,onChange:vr=>We(vr.target.value),children:[jsxRuntimeExports.jsx("option",{value:"all",children:"All Time"}),jsxRuntimeExports.jsx("option",{value:"week",children:"This Week"}),jsxRuntimeExports.jsx("option",{value:"month",children:"This Month"}),jsxRuntimeExports.jsx("option",{value:"quarter",children:"This Quarter"}),jsxRuntimeExports.jsx("option",{value:"year",children:"This Year"}),jsxRuntimeExports.jsx("option",{value:"ytd",children:"Year to Date"}),jsxRuntimeExports.jsx("option",{value:"custom",children:"Custom Range"})]}),He==="custom"&&jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("input",{type:"date",className:"bg-dark-800 border border-dark-700 text-white rounded-md px-3 py-2",value:Ke.start,onChange:vr=>Je(dr=>({...dr,start:vr.target.value}))}),jsxRuntimeExports.jsx("input",{type:"date",className:"bg-dark-800 border border-dark-700 text-white rounded-md px-3 py-2",value:Ke.end,onChange:vr=>Je(dr=>({...dr,end:vr.target.value}))})]}),jsxRuntimeExports.jsxs("button",{className:"btn btn-secondary flex items-center space-x-2",onClick:()=>{tr==="date"?ar(or==="asc"?"desc":"asc"):(cr("date"),ar("desc"))},children:[jsxRuntimeExports.jsx(Calendar$2,{size:16}),jsxRuntimeExports.jsx(ChevronDown,{size:16,className:`transform transition-transform ${tr==="date"&&or==="asc"?"rotate-180":""}`})]}),jsxRuntimeExports.jsxs("button",{className:"btn btn-secondary flex items-center space-x-2",onClick:()=>{tr==="value"?ar(or==="asc"?"desc":"asc"):(cr("value"),ar("desc"))},children:[jsxRuntimeExports.jsx(DollarSign,{size:16}),jsxRuntimeExports.jsx(ChevronDown,{size:16,className:`transform transition-transform ${tr==="value"&&or==="asc"?"rotate-180":""}`})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"overflow-x-auto",children:[jsxRuntimeExports.jsxs("table",{className:"w-full",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"bg-dark-700",children:[jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Deal"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Customer"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Stage"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Value"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Created"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Due Date"})]})}),jsxRuntimeExports.jsx("tbody",{className:"divide-y divide-dark-700",children:pr.map(vr=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-dark-700/50",children:[jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsx(Link,{to:`/${vr.type}s/${vr.id}`,className:"text-white hover:text-primary-400",children:vr.title})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:vr.customer_name}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${vr.pipeline_stage==="closed_won"?"bg-green-900/30 text-green-400":vr.pipeline_stage==="closed_lost"?"bg-red-900/30 text-red-400":vr.pipeline_stage==="invoice_pending"?"bg-purple-900/30 text-purple-400":vr.pipeline_stage==="invoice_sent"?"bg-orange-900/30 text-orange-400":vr.pipeline_stage==="quote"?"bg-yellow-900/30 text-yellow-400":vr.pipeline_stage==="opportunity"?"bg-blue-900/30 text-blue-400":"bg-gray-900/30 text-gray-400"}`,children:vr.pipeline_stage.split("_").map(dr=>dr.charAt(0).toUpperCase()+dr.slice(1)).join(" ")})}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-right text-gray-300",children:["$",vr.total.toLocaleString()]}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:new Date(vr.created_at).toLocaleDateString()}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:vr.due_date?new Date(vr.due_date).toLocaleDateString():"-"})]},`${vr.type}-${vr.id}`))})]}),pr.length===0&&jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx(FileText,{size:48,className:"text-gray-600 mb-4 mx-auto"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-lg mb-2",children:"No deals found"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-sm",children:"Try adjusting your filters or create a new deal"})]})]})]})]})},PipelineDetail=()=>{const{stage:Re}=useParams(),{user:je}=useAuthStore(),[_e,Me]=reactExports.useState(!0),[$e,ke]=reactExports.useState([]),[Ce,Be]=reactExports.useState({totalValue:0,dealCount:0,avgDealSize:0,conversionRate:0});reactExports.useEffect(()=>{(async()=>{try{Me(!0);const Ke=supabase.from("quotes").select("*").eq("user_id",je?.id).eq("pipeline_stage",Re).not("status","in","(Declined,Expired)"),Je=supabase.from("invoices").select("*").eq("user_id",je?.id).eq("pipeline_stage",Re).neq("status","Cancelled"),[Qe,rr]=await Promise.all([Ke,Je]);if(Qe.error)throw Qe.error;if(rr.error)throw rr.error;const tr=(Qe.data||[]).map(ur=>({...ur,type:"quote"})),cr=(rr.data||[]).map(ur=>({...ur,type:"invoice"})),or=[...tr,...cr];ke(or);const ar=or.reduce((ur,gr)=>ur+gr.total,0),pr=or.length;Be({totalValue:ar,dealCount:pr,avgDealSize:pr>0?ar/pr:0,conversionRate:Re==="closed_won"?pr/ar*100:0})}catch(Ke){console.error("Error loading pipeline details:",Ke),c$1.error("Failed to load pipeline details")}finally{Me(!1)}})()},[Re,je?.id]);const qe=We=>We.split("_").map(Ke=>Ke.charAt(0).toUpperCase()+Ke.slice(1)).join(" "),He=We=>{switch(We){case"closed_won":return"bg-green-900/30 text-green-400";case"closed_lost":return"bg-red-900/30 text-red-400";case"invoice_pending":return"bg-purple-900/30 text-purple-400";case"invoice_sent":return"bg-orange-900/30 text-orange-400";case"quote":return"bg-yellow-900/30 text-yellow-400";case"opportunity":return"bg-blue-900/30 text-blue-400";default:return"bg-gray-900/30 text-gray-400"}};return _e?jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center min-h-[60vh]",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"}),jsxRuntimeExports.jsx("span",{className:"ml-3 text-gray-400",children:"Loading pipeline details..."})]}):jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsx(Link,{to:"/pipeline",className:"btn btn-secondary p-2",children:jsxRuntimeExports.jsx(ArrowLeft,{size:20})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-white",children:qe(Re||"")}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Pipeline Stage Details"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[jsxRuntimeExports.jsx("div",{className:"card bg-dark-800 border border-dark-700",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm",children:"Total Value"}),jsxRuntimeExports.jsxs("h3",{className:"text-2xl font-bold text-white mt-1",children:["$",Ce.totalValue.toLocaleString()]})]}),jsxRuntimeExports.jsx("div",{className:"p-3 rounded-lg bg-green-500/20 text-green-500",children:jsxRuntimeExports.jsx(DollarSign,{size:24})})]})}),jsxRuntimeExports.jsx("div",{className:"card bg-dark-800 border border-dark-700",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm",children:"Number of Deals"}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-white mt-1",children:Ce.dealCount})]}),jsxRuntimeExports.jsx("div",{className:"p-3 rounded-lg bg-blue-500/20 text-blue-500",children:jsxRuntimeExports.jsx(FileText,{size:24})})]})}),jsxRuntimeExports.jsx("div",{className:"card bg-dark-800 border border-dark-700",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm",children:"Average Deal Size"}),jsxRuntimeExports.jsxs("h3",{className:"text-2xl font-bold text-white mt-1",children:["$",Ce.avgDealSize.toLocaleString()]})]}),jsxRuntimeExports.jsx("div",{className:"p-3 rounded-lg bg-purple-500/20 text-purple-500",children:jsxRuntimeExports.jsx(DollarSign,{size:24})})]})}),jsxRuntimeExports.jsx("div",{className:"card bg-dark-800 border border-dark-700",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm",children:"Conversion Rate"}),jsxRuntimeExports.jsxs("h3",{className:"text-2xl font-bold text-white mt-1",children:[Ce.conversionRate.toFixed(1),"%"]})]}),jsxRuntimeExports.jsx("div",{className:"p-3 rounded-lg bg-yellow-500/20 text-yellow-500",children:jsxRuntimeExports.jsx(FileText,{size:24})})]})})]}),jsxRuntimeExports.jsx("div",{className:"card bg-dark-800 border border-dark-700",children:jsxRuntimeExports.jsxs("div",{className:"overflow-x-auto",children:[jsxRuntimeExports.jsxs("table",{className:"w-full",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"bg-dark-700",children:[jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Deal"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Customer"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Value"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Created"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Due Date"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Status"})]})}),jsxRuntimeExports.jsx("tbody",{className:"divide-y divide-dark-700",children:$e.map(We=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-dark-700/50",children:[jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsx(Link,{to:`/${We.type}s/${We.id}`,className:"text-white hover:text-primary-400",children:We.type==="quote"?We.quote_number:We.invoice_number})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:We.customer_name}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-right text-gray-300",children:["$",We.total.toLocaleString()]}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:new Date(We.created_at).toLocaleDateString()}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:We.due_date?new Date(We.due_date).toLocaleDateString():"-"}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${He(Re||"")}`,children:We.status})})]},`${We.type}-${We.id}`))})]}),$e.length===0&&jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx(FileText,{size:48,className:"text-gray-600 mb-4 mx-auto"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-lg mb-2",children:"No deals found"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-sm",children:"There are no deals in this pipeline stage"})]})]})})]})};var isCheckBoxInput=Re=>Re.type==="checkbox",isDateObject=Re=>Re instanceof Date,isNullOrUndefined$1=Re=>Re==null;const isObjectType=Re=>typeof Re=="object";var isObject$d=Re=>!isNullOrUndefined$1(Re)&&!Array.isArray(Re)&&isObjectType(Re)&&!isDateObject(Re),getEventValue=Re=>isObject$d(Re)&&Re.target?isCheckBoxInput(Re.target)?Re.target.checked:Re.target.value:Re,getNodeParentName=Re=>Re.substring(0,Re.search(/\.\d+(\.|$)/))||Re,isNameInFieldArray=(Re,je)=>Re.has(getNodeParentName(je)),isPlainObject$2=Re=>{const je=Re.constructor&&Re.constructor.prototype;return isObject$d(je)&&je.hasOwnProperty("isPrototypeOf")},isWeb=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function cloneObject(Re){let je;const _e=Array.isArray(Re),Me=typeof FileList<"u"?Re instanceof FileList:!1;if(Re instanceof Date)je=new Date(Re);else if(Re instanceof Set)je=new Set(Re);else if(!(isWeb&&(Re instanceof Blob||Me))&&(_e||isObject$d(Re)))if(je=_e?[]:{},!_e&&!isPlainObject$2(Re))je=Re;else for(const $e in Re)Re.hasOwnProperty($e)&&(je[$e]=cloneObject(Re[$e]));else return Re;return je}var compact=Re=>Array.isArray(Re)?Re.filter(Boolean):[],isUndefined$1=Re=>Re===void 0,get$2=(Re,je,_e)=>{if(!je||!isObject$d(Re))return _e;const Me=compact(je.split(/[,[\].]+?/)).reduce(($e,ke)=>isNullOrUndefined$1($e)?$e:$e[ke],Re);return isUndefined$1(Me)||Me===Re?isUndefined$1(Re[je])?_e:Re[je]:Me},isBoolean$1=Re=>typeof Re=="boolean",isKey$4=Re=>/^\w*$/.test(Re),stringToPath$2=Re=>compact(Re.replace(/["|']|\]/g,"").split(/\.|\[/)),set$1=(Re,je,_e)=>{let Me=-1;const $e=isKey$4(je)?[je]:stringToPath$2(je),ke=$e.length,Ce=ke-1;for(;++Me<ke;){const Be=$e[Me];let qe=_e;if(Me!==Ce){const He=Re[Be];qe=isObject$d(He)||Array.isArray(He)?He:isNaN(+$e[Me+1])?{}:[]}if(Be==="__proto__"||Be==="constructor"||Be==="prototype")return;Re[Be]=qe,Re=Re[Be]}return Re};const EVENTS={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},VALIDATION_MODE={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},INPUT_VALIDATION_RULES={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},HookFormContext=React$2.createContext(null),useFormContext=()=>React$2.useContext(HookFormContext);var getProxyFormState=(Re,je,_e,Me=!0)=>{const $e={defaultValues:je._defaultValues};for(const ke in Re)Object.defineProperty($e,ke,{get:()=>{const Ce=ke;return je._proxyFormState[Ce]!==VALIDATION_MODE.all&&(je._proxyFormState[Ce]=!Me||VALIDATION_MODE.all),Re[Ce]}});return $e},isEmptyObject=Re=>isObject$d(Re)&&!Object.keys(Re).length,shouldRenderFormState=(Re,je,_e,Me)=>{_e(Re);const{name:$e,...ke}=Re;return isEmptyObject(ke)||Object.keys(ke).length>=Object.keys(je).length||Object.keys(ke).find(Ce=>je[Ce]===VALIDATION_MODE.all)},convertToArrayPayload=Re=>Array.isArray(Re)?Re:[Re];function useSubscribe(Re){const je=React$2.useRef(Re);je.current=Re,React$2.useEffect(()=>{const _e=!Re.disabled&&je.current.subject&&je.current.subject.subscribe({next:je.current.next});return()=>{_e&&_e.unsubscribe()}},[Re.disabled])}var isString$1=Re=>typeof Re=="string",generateWatchOutput=(Re,je,_e,Me,$e)=>isString$1(Re)?(Me&&je.watch.add(Re),get$2(_e,Re,$e)):Array.isArray(Re)?Re.map(ke=>(Me&&je.watch.add(ke),get$2(_e,ke))):(Me&&(je.watchAll=!0),_e),appendErrors=(Re,je,_e,Me,$e)=>je?{..._e[Re],types:{..._e[Re]&&_e[Re].types?_e[Re].types:{},[Me]:$e||!0}}:{},generateId=()=>{const Re=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,je=>{const _e=(Math.random()*16+Re)%16|0;return(je=="x"?_e:_e&3|8).toString(16)})},getFocusFieldName=(Re,je,_e={})=>_e.shouldFocus||isUndefined$1(_e.shouldFocus)?_e.focusName||`${Re}.${isUndefined$1(_e.focusIndex)?je:_e.focusIndex}.`:"",getValidationModes=Re=>({isOnSubmit:!Re||Re===VALIDATION_MODE.onSubmit,isOnBlur:Re===VALIDATION_MODE.onBlur,isOnChange:Re===VALIDATION_MODE.onChange,isOnAll:Re===VALIDATION_MODE.all,isOnTouch:Re===VALIDATION_MODE.onTouched}),isWatched=(Re,je,_e)=>!_e&&(je.watchAll||je.watch.has(Re)||[...je.watch].some(Me=>Re.startsWith(Me)&&/^\.\w+/.test(Re.slice(Me.length))));const iterateFieldsByAction=(Re,je,_e,Me)=>{for(const $e of _e||Object.keys(Re)){const ke=get$2(Re,$e);if(ke){const{_f:Ce,...Be}=ke;if(Ce){if(Ce.refs&&Ce.refs[0]&&je(Ce.refs[0],$e)&&!Me)return!0;if(Ce.ref&&je(Ce.ref,Ce.name)&&!Me)return!0;if(iterateFieldsByAction(Be,je))break}else if(isObject$d(Be)&&iterateFieldsByAction(Be,je))break}}};var updateFieldArrayRootError=(Re,je,_e)=>{const Me=convertToArrayPayload(get$2(Re,_e));return set$1(Me,"root",je[_e]),set$1(Re,_e,Me),Re},isFileInput=Re=>Re.type==="file",isFunction$7=Re=>typeof Re=="function",isHTMLElement$2=Re=>{if(!isWeb)return!1;const je=Re?Re.ownerDocument:0;return Re instanceof(je&&je.defaultView?je.defaultView.HTMLElement:HTMLElement)},isMessage=Re=>isString$1(Re),isRadioInput=Re=>Re.type==="radio",isRegex=Re=>Re instanceof RegExp;const defaultResult={value:!1,isValid:!1},validResult={value:!0,isValid:!0};var getCheckboxValue=Re=>{if(Array.isArray(Re)){if(Re.length>1){const je=Re.filter(_e=>_e&&_e.checked&&!_e.disabled).map(_e=>_e.value);return{value:je,isValid:!!je.length}}return Re[0].checked&&!Re[0].disabled?Re[0].attributes&&!isUndefined$1(Re[0].attributes.value)?isUndefined$1(Re[0].value)||Re[0].value===""?validResult:{value:Re[0].value,isValid:!0}:validResult:defaultResult}return defaultResult};const defaultReturn={isValid:!1,value:null};var getRadioValue=Re=>Array.isArray(Re)?Re.reduce((je,_e)=>_e&&_e.checked&&!_e.disabled?{isValid:!0,value:_e.value}:je,defaultReturn):defaultReturn;function getValidateError(Re,je,_e="validate"){if(isMessage(Re)||Array.isArray(Re)&&Re.every(isMessage)||isBoolean$1(Re)&&!Re)return{type:_e,message:isMessage(Re)?Re:"",ref:je}}var getValueAndMessage=Re=>isObject$d(Re)&&!isRegex(Re)?Re:{value:Re,message:""},validateField=async(Re,je,_e,Me,$e,ke)=>{const{ref:Ce,refs:Be,required:qe,maxLength:He,minLength:We,min:Ke,max:Je,pattern:Qe,validate:rr,name:tr,valueAsNumber:cr,mount:or}=Re._f,ar=get$2(_e,tr);if(!or||je.has(tr))return{};const pr=Be?Be[0]:Ce,ur=Pe=>{$e&&pr.reportValidity&&(pr.setCustomValidity(isBoolean$1(Pe)?"":Pe||""),pr.reportValidity())},gr={},jr=isRadioInput(Ce),vr=isCheckBoxInput(Ce),dr=jr||vr,xr=(cr||isFileInput(Ce))&&isUndefined$1(Ce.value)&&isUndefined$1(ar)||isHTMLElement$2(Ce)&&Ce.value===""||ar===""||Array.isArray(ar)&&!ar.length,Rr=appendErrors.bind(null,tr,Me,gr),Xe=(Pe,Fe,ze,Ue=INPUT_VALIDATION_RULES.maxLength,Ge=INPUT_VALIDATION_RULES.minLength)=>{const Ze=Pe?Fe:ze;gr[tr]={type:Pe?Ue:Ge,message:Ze,ref:Ce,...Rr(Pe?Ue:Ge,Ze)}};if(ke?!Array.isArray(ar)||!ar.length:qe&&(!dr&&(xr||isNullOrUndefined$1(ar))||isBoolean$1(ar)&&!ar||vr&&!getCheckboxValue(Be).isValid||jr&&!getRadioValue(Be).isValid)){const{value:Pe,message:Fe}=isMessage(qe)?{value:!!qe,message:qe}:getValueAndMessage(qe);if(Pe&&(gr[tr]={type:INPUT_VALIDATION_RULES.required,message:Fe,ref:pr,...Rr(INPUT_VALIDATION_RULES.required,Fe)},!Me))return ur(Fe),gr}if(!xr&&(!isNullOrUndefined$1(Ke)||!isNullOrUndefined$1(Je))){let Pe,Fe;const ze=getValueAndMessage(Je),Ue=getValueAndMessage(Ke);if(!isNullOrUndefined$1(ar)&&!isNaN(ar)){const Ge=Ce.valueAsNumber||ar&&+ar;isNullOrUndefined$1(ze.value)||(Pe=Ge>ze.value),isNullOrUndefined$1(Ue.value)||(Fe=Ge<Ue.value)}else{const Ge=Ce.valueAsDate||new Date(ar),Ze=Ie=>new Date(new Date().toDateString()+" "+Ie),er=Ce.type=="time",Ve=Ce.type=="week";isString$1(ze.value)&&ar&&(Pe=er?Ze(ar)>Ze(ze.value):Ve?ar>ze.value:Ge>new Date(ze.value)),isString$1(Ue.value)&&ar&&(Fe=er?Ze(ar)<Ze(Ue.value):Ve?ar<Ue.value:Ge<new Date(Ue.value))}if((Pe||Fe)&&(Xe(!!Pe,ze.message,Ue.message,INPUT_VALIDATION_RULES.max,INPUT_VALIDATION_RULES.min),!Me))return ur(gr[tr].message),gr}if((He||We)&&!xr&&(isString$1(ar)||ke&&Array.isArray(ar))){const Pe=getValueAndMessage(He),Fe=getValueAndMessage(We),ze=!isNullOrUndefined$1(Pe.value)&&ar.length>+Pe.value,Ue=!isNullOrUndefined$1(Fe.value)&&ar.length<+Fe.value;if((ze||Ue)&&(Xe(ze,Pe.message,Fe.message),!Me))return ur(gr[tr].message),gr}if(Qe&&!xr&&isString$1(ar)){const{value:Pe,message:Fe}=getValueAndMessage(Qe);if(isRegex(Pe)&&!ar.match(Pe)&&(gr[tr]={type:INPUT_VALIDATION_RULES.pattern,message:Fe,ref:Ce,...Rr(INPUT_VALIDATION_RULES.pattern,Fe)},!Me))return ur(Fe),gr}if(rr){if(isFunction$7(rr)){const Pe=await rr(ar,_e),Fe=getValidateError(Pe,pr);if(Fe&&(gr[tr]={...Fe,...Rr(INPUT_VALIDATION_RULES.validate,Fe.message)},!Me))return ur(Fe.message),gr}else if(isObject$d(rr)){let Pe={};for(const Fe in rr){if(!isEmptyObject(Pe)&&!Me)break;const ze=getValidateError(await rr[Fe](ar,_e),pr,Fe);ze&&(Pe={...ze,...Rr(Fe,ze.message)},ur(ze.message),Me&&(gr[tr]=Pe))}if(!isEmptyObject(Pe)&&(gr[tr]={ref:pr,...Pe},!Me))return gr}}return ur(!0),gr},appendAt=(Re,je)=>[...Re,...convertToArrayPayload(je)],fillEmptyArray=Re=>Array.isArray(Re)?Re.map(()=>{}):void 0;function insert(Re,je,_e){return[...Re.slice(0,je),...convertToArrayPayload(_e),...Re.slice(je)]}var moveArrayAt=(Re,je,_e)=>Array.isArray(Re)?(isUndefined$1(Re[_e])&&(Re[_e]=void 0),Re.splice(_e,0,Re.splice(je,1)[0]),Re):[],prependAt=(Re,je)=>[...convertToArrayPayload(je),...convertToArrayPayload(Re)];function removeAtIndexes(Re,je){let _e=0;const Me=[...Re];for(const $e of je)Me.splice($e-_e,1),_e++;return compact(Me).length?Me:[]}var removeArrayAt=(Re,je)=>isUndefined$1(je)?[]:removeAtIndexes(Re,convertToArrayPayload(je).sort((_e,Me)=>_e-Me)),swapArrayAt=(Re,je,_e)=>{[Re[je],Re[_e]]=[Re[_e],Re[je]]};function baseGet$5(Re,je){const _e=je.slice(0,-1).length;let Me=0;for(;Me<_e;)Re=isUndefined$1(Re)?Me++:Re[je[Me++]];return Re}function isEmptyArray(Re){for(const je in Re)if(Re.hasOwnProperty(je)&&!isUndefined$1(Re[je]))return!1;return!0}function unset(Re,je){const _e=Array.isArray(je)?je:isKey$4(je)?[je]:stringToPath$2(je),Me=_e.length===1?Re:baseGet$5(Re,_e),$e=_e.length-1,ke=_e[$e];return Me&&delete Me[ke],$e!==0&&(isObject$d(Me)&&isEmptyObject(Me)||Array.isArray(Me)&&isEmptyArray(Me))&&unset(Re,_e.slice(0,-1)),Re}var updateAt=(Re,je,_e)=>(Re[je]=_e,Re);function useFieldArray(Re){const je=useFormContext(),{control:_e=je.control,name:Me,keyName:$e="id",shouldUnregister:ke,rules:Ce}=Re,[Be,qe]=React$2.useState(_e._getFieldArray(Me)),He=React$2.useRef(_e._getFieldArray(Me).map(generateId)),We=React$2.useRef(Be),Ke=React$2.useRef(Me),Je=React$2.useRef(!1);Ke.current=Me,We.current=Be,_e._names.array.add(Me),Ce&&_e.register(Me,Ce),useSubscribe({next:({values:jr,name:vr})=>{if(vr===Ke.current||!vr){const dr=get$2(jr,Ke.current);Array.isArray(dr)&&(qe(dr),He.current=dr.map(generateId))}},subject:_e._subjects.array});const Qe=React$2.useCallback(jr=>{Je.current=!0,_e._updateFieldArray(Me,jr)},[_e,Me]),rr=(jr,vr)=>{const dr=convertToArrayPayload(cloneObject(jr)),xr=appendAt(_e._getFieldArray(Me),dr);_e._names.focus=getFocusFieldName(Me,xr.length-1,vr),He.current=appendAt(He.current,dr.map(generateId)),Qe(xr),qe(xr),_e._updateFieldArray(Me,xr,appendAt,{argA:fillEmptyArray(jr)})},tr=(jr,vr)=>{const dr=convertToArrayPayload(cloneObject(jr)),xr=prependAt(_e._getFieldArray(Me),dr);_e._names.focus=getFocusFieldName(Me,0,vr),He.current=prependAt(He.current,dr.map(generateId)),Qe(xr),qe(xr),_e._updateFieldArray(Me,xr,prependAt,{argA:fillEmptyArray(jr)})},cr=jr=>{const vr=removeArrayAt(_e._getFieldArray(Me),jr);He.current=removeArrayAt(He.current,jr),Qe(vr),qe(vr),!Array.isArray(get$2(_e._fields,Me))&&set$1(_e._fields,Me,void 0),_e._updateFieldArray(Me,vr,removeArrayAt,{argA:jr})},or=(jr,vr,dr)=>{const xr=convertToArrayPayload(cloneObject(vr)),Rr=insert(_e._getFieldArray(Me),jr,xr);_e._names.focus=getFocusFieldName(Me,jr,dr),He.current=insert(He.current,jr,xr.map(generateId)),Qe(Rr),qe(Rr),_e._updateFieldArray(Me,Rr,insert,{argA:jr,argB:fillEmptyArray(vr)})},ar=(jr,vr)=>{const dr=_e._getFieldArray(Me);swapArrayAt(dr,jr,vr),swapArrayAt(He.current,jr,vr),Qe(dr),qe(dr),_e._updateFieldArray(Me,dr,swapArrayAt,{argA:jr,argB:vr},!1)},pr=(jr,vr)=>{const dr=_e._getFieldArray(Me);moveArrayAt(dr,jr,vr),moveArrayAt(He.current,jr,vr),Qe(dr),qe(dr),_e._updateFieldArray(Me,dr,moveArrayAt,{argA:jr,argB:vr},!1)},ur=(jr,vr)=>{const dr=cloneObject(vr),xr=updateAt(_e._getFieldArray(Me),jr,dr);He.current=[...xr].map((Rr,Xe)=>!Rr||Xe===jr?generateId():He.current[Xe]),Qe(xr),qe([...xr]),_e._updateFieldArray(Me,xr,updateAt,{argA:jr,argB:dr},!0,!1)},gr=jr=>{const vr=convertToArrayPayload(cloneObject(jr));He.current=vr.map(generateId),Qe([...vr]),qe([...vr]),_e._updateFieldArray(Me,[...vr],dr=>dr,{},!0,!1)};return React$2.useEffect(()=>{if(_e._state.action=!1,isWatched(Me,_e._names)&&_e._subjects.state.next({..._e._formState}),Je.current&&(!getValidationModes(_e._options.mode).isOnSubmit||_e._formState.isSubmitted))if(_e._options.resolver)_e._executeSchema([Me]).then(jr=>{const vr=get$2(jr.errors,Me),dr=get$2(_e._formState.errors,Me);(dr?!vr&&dr.type||vr&&(dr.type!==vr.type||dr.message!==vr.message):vr&&vr.type)&&(vr?set$1(_e._formState.errors,Me,vr):unset(_e._formState.errors,Me),_e._subjects.state.next({errors:_e._formState.errors}))});else{const jr=get$2(_e._fields,Me);jr&&jr._f&&!(getValidationModes(_e._options.reValidateMode).isOnSubmit&&getValidationModes(_e._options.mode).isOnSubmit)&&validateField(jr,_e._names.disabled,_e._formValues,_e._options.criteriaMode===VALIDATION_MODE.all,_e._options.shouldUseNativeValidation,!0).then(vr=>!isEmptyObject(vr)&&_e._subjects.state.next({errors:updateFieldArrayRootError(_e._formState.errors,vr,Me)}))}_e._subjects.values.next({name:Me,values:{..._e._formValues}}),_e._names.focus&&iterateFieldsByAction(_e._fields,(jr,vr)=>{if(_e._names.focus&&vr.startsWith(_e._names.focus)&&jr.focus)return jr.focus(),1}),_e._names.focus="",_e._updateValid(),Je.current=!1},[Be,Me,_e]),React$2.useEffect(()=>(!get$2(_e._formValues,Me)&&_e._updateFieldArray(Me),()=>{(_e._options.shouldUnregister||ke)&&_e.unregister(Me)}),[Me,_e,$e,ke]),{swap:React$2.useCallback(ar,[Qe,Me,_e]),move:React$2.useCallback(pr,[Qe,Me,_e]),prepend:React$2.useCallback(tr,[Qe,Me,_e]),append:React$2.useCallback(rr,[Qe,Me,_e]),remove:React$2.useCallback(cr,[Qe,Me,_e]),insert:React$2.useCallback(or,[Qe,Me,_e]),update:React$2.useCallback(ur,[Qe,Me,_e]),replace:React$2.useCallback(gr,[Qe,Me,_e]),fields:React$2.useMemo(()=>Be.map((jr,vr)=>({...jr,[$e]:He.current[vr]||generateId()})),[Be,$e])}}var createSubject=()=>{let Re=[];return{get observers(){return Re},next:$e=>{for(const ke of Re)ke.next&&ke.next($e)},subscribe:$e=>(Re.push($e),{unsubscribe:()=>{Re=Re.filter(ke=>ke!==$e)}}),unsubscribe:()=>{Re=[]}}},isPrimitive$1=Re=>isNullOrUndefined$1(Re)||!isObjectType(Re);function deepEqual(Re,je){if(isPrimitive$1(Re)||isPrimitive$1(je))return Re===je;if(isDateObject(Re)&&isDateObject(je))return Re.getTime()===je.getTime();const _e=Object.keys(Re),Me=Object.keys(je);if(_e.length!==Me.length)return!1;for(const $e of _e){const ke=Re[$e];if(!Me.includes($e))return!1;if($e!=="ref"){const Ce=je[$e];if(isDateObject(ke)&&isDateObject(Ce)||isObject$d(ke)&&isObject$d(Ce)||Array.isArray(ke)&&Array.isArray(Ce)?!deepEqual(ke,Ce):ke!==Ce)return!1}}return!0}var isMultipleSelect=Re=>Re.type==="select-multiple",isRadioOrCheckbox=Re=>isRadioInput(Re)||isCheckBoxInput(Re),live=Re=>isHTMLElement$2(Re)&&Re.isConnected,objectHasFunction=Re=>{for(const je in Re)if(isFunction$7(Re[je]))return!0;return!1};function markFieldsDirty(Re,je={}){const _e=Array.isArray(Re);if(isObject$d(Re)||_e)for(const Me in Re)Array.isArray(Re[Me])||isObject$d(Re[Me])&&!objectHasFunction(Re[Me])?(je[Me]=Array.isArray(Re[Me])?[]:{},markFieldsDirty(Re[Me],je[Me])):isNullOrUndefined$1(Re[Me])||(je[Me]=!0);return je}function getDirtyFieldsFromDefaultValues(Re,je,_e){const Me=Array.isArray(Re);if(isObject$d(Re)||Me)for(const $e in Re)Array.isArray(Re[$e])||isObject$d(Re[$e])&&!objectHasFunction(Re[$e])?isUndefined$1(je)||isPrimitive$1(_e[$e])?_e[$e]=Array.isArray(Re[$e])?markFieldsDirty(Re[$e],[]):{...markFieldsDirty(Re[$e])}:getDirtyFieldsFromDefaultValues(Re[$e],isNullOrUndefined$1(je)?{}:je[$e],_e[$e]):_e[$e]=!deepEqual(Re[$e],je[$e]);return _e}var getDirtyFields=(Re,je)=>getDirtyFieldsFromDefaultValues(Re,je,markFieldsDirty(je)),getFieldValueAs=(Re,{valueAsNumber:je,valueAsDate:_e,setValueAs:Me})=>isUndefined$1(Re)?Re:je?Re===""?NaN:Re&&+Re:_e&&isString$1(Re)?new Date(Re):Me?Me(Re):Re;function getFieldValue(Re){const je=Re.ref;return isFileInput(je)?je.files:isRadioInput(je)?getRadioValue(Re.refs).value:isMultipleSelect(je)?[...je.selectedOptions].map(({value:_e})=>_e):isCheckBoxInput(je)?getCheckboxValue(Re.refs).value:getFieldValueAs(isUndefined$1(je.value)?Re.ref.value:je.value,Re)}var getResolverOptions=(Re,je,_e,Me)=>{const $e={};for(const ke of Re){const Ce=get$2(je,ke);Ce&&set$1($e,ke,Ce._f)}return{criteriaMode:_e,names:[...Re],fields:$e,shouldUseNativeValidation:Me}},getRuleValue=Re=>isUndefined$1(Re)?Re:isRegex(Re)?Re.source:isObject$d(Re)?isRegex(Re.value)?Re.value.source:Re.value:Re;const ASYNC_FUNCTION="AsyncFunction";var hasPromiseValidation=Re=>!!Re&&!!Re.validate&&!!(isFunction$7(Re.validate)&&Re.validate.constructor.name===ASYNC_FUNCTION||isObject$d(Re.validate)&&Object.values(Re.validate).find(je=>je.constructor.name===ASYNC_FUNCTION)),hasValidation=Re=>Re.mount&&(Re.required||Re.min||Re.max||Re.maxLength||Re.minLength||Re.pattern||Re.validate);function schemaErrorLookup(Re,je,_e){const Me=get$2(Re,_e);if(Me||isKey$4(_e))return{error:Me,name:_e};const $e=_e.split(".");for(;$e.length;){const ke=$e.join("."),Ce=get$2(je,ke),Be=get$2(Re,ke);if(Ce&&!Array.isArray(Ce)&&_e!==ke)return{name:_e};if(Be&&Be.type)return{name:ke,error:Be};$e.pop()}return{name:_e}}var skipValidation=(Re,je,_e,Me,$e)=>$e.isOnAll?!1:!_e&&$e.isOnTouch?!(je||Re):(_e?Me.isOnBlur:$e.isOnBlur)?!Re:(_e?Me.isOnChange:$e.isOnChange)?Re:!0,unsetEmptyArray=(Re,je)=>!compact(get$2(Re,je)).length&&unset(Re,je);const defaultOptions$5={mode:VALIDATION_MODE.onSubmit,reValidateMode:VALIDATION_MODE.onChange,shouldFocusError:!0};function createFormControl(Re={}){let je={...defaultOptions$5,...Re},_e={submitCount:0,isDirty:!1,isLoading:isFunction$7(je.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:je.errors||{},disabled:je.disabled||!1},Me={},$e=isObject$d(je.defaultValues)||isObject$d(je.values)?cloneObject(je.defaultValues||je.values)||{}:{},ke=je.shouldUnregister?{}:cloneObject($e),Ce={action:!1,mount:!1,watch:!1},Be={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},qe,He=0;const We={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},Ke={values:createSubject(),array:createSubject(),state:createSubject()},Je=getValidationModes(je.mode),Qe=getValidationModes(je.reValidateMode),rr=je.criteriaMode===VALIDATION_MODE.all,tr=$r=>Tr=>{clearTimeout(He),He=setTimeout($r,Tr)},cr=async $r=>{if(!je.disabled&&(We.isValid||$r)){const Tr=je.resolver?isEmptyObject((await dr()).errors):await Rr(Me,!0);Tr!==_e.isValid&&Ke.state.next({isValid:Tr})}},or=($r,Tr)=>{!je.disabled&&(We.isValidating||We.validatingFields)&&(($r||Array.from(Be.mount)).forEach(Kr=>{Kr&&(Tr?set$1(_e.validatingFields,Kr,Tr):unset(_e.validatingFields,Kr))}),Ke.state.next({validatingFields:_e.validatingFields,isValidating:!isEmptyObject(_e.validatingFields)}))},ar=($r,Tr=[],Kr,qr,Hr=!0,ss=!0)=>{if(qr&&Kr&&!je.disabled){if(Ce.action=!0,ss&&Array.isArray(get$2(Me,$r))){const Vr=Kr(get$2(Me,$r),qr.argA,qr.argB);Hr&&set$1(Me,$r,Vr)}if(ss&&Array.isArray(get$2(_e.errors,$r))){const Vr=Kr(get$2(_e.errors,$r),qr.argA,qr.argB);Hr&&set$1(_e.errors,$r,Vr),unsetEmptyArray(_e.errors,$r)}if(We.touchedFields&&ss&&Array.isArray(get$2(_e.touchedFields,$r))){const Vr=Kr(get$2(_e.touchedFields,$r),qr.argA,qr.argB);Hr&&set$1(_e.touchedFields,$r,Vr)}We.dirtyFields&&(_e.dirtyFields=getDirtyFields($e,ke)),Ke.state.next({name:$r,isDirty:Pe($r,Tr),dirtyFields:_e.dirtyFields,errors:_e.errors,isValid:_e.isValid})}else set$1(ke,$r,Tr)},pr=($r,Tr)=>{set$1(_e.errors,$r,Tr),Ke.state.next({errors:_e.errors})},ur=$r=>{_e.errors=$r,Ke.state.next({errors:_e.errors,isValid:!1})},gr=($r,Tr,Kr,qr)=>{const Hr=get$2(Me,$r);if(Hr){const ss=get$2(ke,$r,isUndefined$1(Kr)?get$2($e,$r):Kr);isUndefined$1(ss)||qr&&qr.defaultChecked||Tr?set$1(ke,$r,Tr?ss:getFieldValue(Hr._f)):Ue($r,ss),Ce.mount&&cr()}},jr=($r,Tr,Kr,qr,Hr)=>{let ss=!1,Vr=!1;const Zr={name:$r};if(!je.disabled){const Is=!!(get$2(Me,$r)&&get$2(Me,$r)._f&&get$2(Me,$r)._f.disabled);if(!Kr||qr){We.isDirty&&(Vr=_e.isDirty,_e.isDirty=Zr.isDirty=Pe(),ss=Vr!==Zr.isDirty);const Jr=Is||deepEqual(get$2($e,$r),Tr);Vr=!!(!Is&&get$2(_e.dirtyFields,$r)),Jr||Is?unset(_e.dirtyFields,$r):set$1(_e.dirtyFields,$r,!0),Zr.dirtyFields=_e.dirtyFields,ss=ss||We.dirtyFields&&Vr!==!Jr}if(Kr){const Jr=get$2(_e.touchedFields,$r);Jr||(set$1(_e.touchedFields,$r,Kr),Zr.touchedFields=_e.touchedFields,ss=ss||We.touchedFields&&Jr!==Kr)}ss&&Hr&&Ke.state.next(Zr)}return ss?Zr:{}},vr=($r,Tr,Kr,qr)=>{const Hr=get$2(_e.errors,$r),ss=We.isValid&&isBoolean$1(Tr)&&_e.isValid!==Tr;if(je.delayError&&Kr?(qe=tr(()=>pr($r,Kr)),qe(je.delayError)):(clearTimeout(He),qe=null,Kr?set$1(_e.errors,$r,Kr):unset(_e.errors,$r)),(Kr?!deepEqual(Hr,Kr):Hr)||!isEmptyObject(qr)||ss){const Vr={...qr,...ss&&isBoolean$1(Tr)?{isValid:Tr}:{},errors:_e.errors,name:$r};_e={..._e,...Vr},Ke.state.next(Vr)}},dr=async $r=>{or($r,!0);const Tr=await je.resolver(ke,je.context,getResolverOptions($r||Be.mount,Me,je.criteriaMode,je.shouldUseNativeValidation));return or($r),Tr},xr=async $r=>{const{errors:Tr}=await dr($r);if($r)for(const Kr of $r){const qr=get$2(Tr,Kr);qr?set$1(_e.errors,Kr,qr):unset(_e.errors,Kr)}else _e.errors=Tr;return Tr},Rr=async($r,Tr,Kr={valid:!0})=>{for(const qr in $r){const Hr=$r[qr];if(Hr){const{_f:ss,...Vr}=Hr;if(ss){const Zr=Be.array.has(ss.name),Is=Hr._f&&hasPromiseValidation(Hr._f);Is&&We.validatingFields&&or([qr],!0);const Jr=await validateField(Hr,Be.disabled,ke,rr,je.shouldUseNativeValidation&&!Tr,Zr);if(Is&&We.validatingFields&&or([qr]),Jr[ss.name]&&(Kr.valid=!1,Tr))break;!Tr&&(get$2(Jr,ss.name)?Zr?updateFieldArrayRootError(_e.errors,Jr,ss.name):set$1(_e.errors,ss.name,Jr[ss.name]):unset(_e.errors,ss.name))}!isEmptyObject(Vr)&&await Rr(Vr,Tr,Kr)}}return Kr.valid},Xe=()=>{for(const $r of Be.unMount){const Tr=get$2(Me,$r);Tr&&(Tr._f.refs?Tr._f.refs.every(Kr=>!live(Kr)):!live(Tr._f.ref))&&Sr($r)}Be.unMount=new Set},Pe=($r,Tr)=>!je.disabled&&($r&&Tr&&set$1(ke,$r,Tr),!deepEqual(Ye(),$e)),Fe=($r,Tr,Kr)=>generateWatchOutput($r,Be,{...Ce.mount?ke:isUndefined$1(Tr)?$e:isString$1($r)?{[$r]:Tr}:Tr},Kr,Tr),ze=$r=>compact(get$2(Ce.mount?ke:$e,$r,je.shouldUnregister?get$2($e,$r,[]):[])),Ue=($r,Tr,Kr={})=>{const qr=get$2(Me,$r);let Hr=Tr;if(qr){const ss=qr._f;ss&&(!ss.disabled&&set$1(ke,$r,getFieldValueAs(Tr,ss)),Hr=isHTMLElement$2(ss.ref)&&isNullOrUndefined$1(Tr)?"":Tr,isMultipleSelect(ss.ref)?[...ss.ref.options].forEach(Vr=>Vr.selected=Hr.includes(Vr.value)):ss.refs?isCheckBoxInput(ss.ref)?ss.refs.length>1?ss.refs.forEach(Vr=>(!Vr.defaultChecked||!Vr.disabled)&&(Vr.checked=Array.isArray(Hr)?!!Hr.find(Zr=>Zr===Vr.value):Hr===Vr.value)):ss.refs[0]&&(ss.refs[0].checked=!!Hr):ss.refs.forEach(Vr=>Vr.checked=Vr.value===Hr):isFileInput(ss.ref)?ss.ref.value="":(ss.ref.value=Hr,ss.ref.type||Ke.values.next({name:$r,values:{...ke}})))}(Kr.shouldDirty||Kr.shouldTouch)&&jr($r,Hr,Kr.shouldTouch,Kr.shouldDirty,!0),Kr.shouldValidate&&Ie($r)},Ge=($r,Tr,Kr)=>{for(const qr in Tr){const Hr=Tr[qr],ss=`${$r}.${qr}`,Vr=get$2(Me,ss);(Be.array.has($r)||isObject$d(Hr)||Vr&&!Vr._f)&&!isDateObject(Hr)?Ge(ss,Hr,Kr):Ue(ss,Hr,Kr)}},Ze=($r,Tr,Kr={})=>{const qr=get$2(Me,$r),Hr=Be.array.has($r),ss=cloneObject(Tr);set$1(ke,$r,ss),Hr?(Ke.array.next({name:$r,values:{...ke}}),(We.isDirty||We.dirtyFields)&&Kr.shouldDirty&&Ke.state.next({name:$r,dirtyFields:getDirtyFields($e,ke),isDirty:Pe($r,ss)})):qr&&!qr._f&&!isNullOrUndefined$1(ss)?Ge($r,ss,Kr):Ue($r,ss,Kr),isWatched($r,Be)&&Ke.state.next({..._e}),Ke.values.next({name:Ce.mount?$r:void 0,values:{...ke}})},er=async $r=>{Ce.mount=!0;const Tr=$r.target;let Kr=Tr.name,qr=!0;const Hr=get$2(Me,Kr),ss=()=>Tr.type?getFieldValue(Hr._f):getEventValue($r),Vr=Zr=>{qr=Number.isNaN(Zr)||isDateObject(Zr)&&isNaN(Zr.getTime())||deepEqual(Zr,get$2(ke,Kr,Zr))};if(Hr){let Zr,Is;const Jr=ss(),cs=$r.type===EVENTS.BLUR||$r.type===EVENTS.FOCUS_OUT,zs=!hasValidation(Hr._f)&&!je.resolver&&!get$2(_e.errors,Kr)&&!Hr._f.deps||skipValidation(cs,get$2(_e.touchedFields,Kr),_e.isSubmitted,Qe,Je),ns=isWatched(Kr,Be,cs);set$1(ke,Kr,Jr),cs?(Hr._f.onBlur&&Hr._f.onBlur($r),qe&&qe(0)):Hr._f.onChange&&Hr._f.onChange($r);const Qr=jr(Kr,Jr,cs,!1),Zs=!isEmptyObject(Qr)||ns;if(!cs&&Ke.values.next({name:Kr,type:$r.type,values:{...ke}}),zs)return We.isValid&&(je.mode==="onBlur"&&cs?cr():cs||cr()),Zs&&Ke.state.next({name:Kr,...ns?{}:Qr});if(!cs&&ns&&Ke.state.next({..._e}),je.resolver){const{errors:os}=await dr([Kr]);if(Vr(Jr),qr){const _s=schemaErrorLookup(_e.errors,Me,Kr),Ys=schemaErrorLookup(os,Me,_s.name||Kr);Zr=Ys.error,Kr=Ys.name,Is=isEmptyObject(os)}}else or([Kr],!0),Zr=(await validateField(Hr,Be.disabled,ke,rr,je.shouldUseNativeValidation))[Kr],or([Kr]),Vr(Jr),qr&&(Zr?Is=!1:We.isValid&&(Is=await Rr(Me,!0)));qr&&(Hr._f.deps&&Ie(Hr._f.deps),vr(Kr,Is,Zr,Qr))}},Ve=($r,Tr)=>{if(get$2(_e.errors,Tr)&&$r.focus)return $r.focus(),1},Ie=async($r,Tr={})=>{let Kr,qr;const Hr=convertToArrayPayload($r);if(je.resolver){const ss=await xr(isUndefined$1($r)?$r:Hr);Kr=isEmptyObject(ss),qr=$r?!Hr.some(Vr=>get$2(ss,Vr)):Kr}else $r?(qr=(await Promise.all(Hr.map(async ss=>{const Vr=get$2(Me,ss);return await Rr(Vr&&Vr._f?{[ss]:Vr}:Vr)}))).every(Boolean),!(!qr&&!_e.isValid)&&cr()):qr=Kr=await Rr(Me);return Ke.state.next({...!isString$1($r)||We.isValid&&Kr!==_e.isValid?{}:{name:$r},...je.resolver||!$r?{isValid:Kr}:{},errors:_e.errors}),Tr.shouldFocus&&!qr&&iterateFieldsByAction(Me,Ve,$r?Hr:Be.mount),qr},Ye=$r=>{const Tr={...Ce.mount?ke:$e};return isUndefined$1($r)?Tr:isString$1($r)?get$2(Tr,$r):$r.map(Kr=>get$2(Tr,Kr))},ir=($r,Tr)=>({invalid:!!get$2((Tr||_e).errors,$r),isDirty:!!get$2((Tr||_e).dirtyFields,$r),error:get$2((Tr||_e).errors,$r),isValidating:!!get$2(_e.validatingFields,$r),isTouched:!!get$2((Tr||_e).touchedFields,$r)}),lr=$r=>{$r&&convertToArrayPayload($r).forEach(Tr=>unset(_e.errors,Tr)),Ke.state.next({errors:$r?_e.errors:{}})},br=($r,Tr,Kr)=>{const qr=(get$2(Me,$r,{_f:{}})._f||{}).ref,Hr=get$2(_e.errors,$r)||{},{ref:ss,message:Vr,type:Zr,...Is}=Hr;set$1(_e.errors,$r,{...Is,...Tr,ref:qr}),Ke.state.next({name:$r,errors:_e.errors,isValid:!1}),Kr&&Kr.shouldFocus&&qr&&qr.focus&&qr.focus()},_r=($r,Tr)=>isFunction$7($r)?Ke.values.subscribe({next:Kr=>$r(Fe(void 0,Tr),Kr)}):Fe($r,Tr,!0),Sr=($r,Tr={})=>{for(const Kr of $r?convertToArrayPayload($r):Be.mount)Be.mount.delete(Kr),Be.array.delete(Kr),Tr.keepValue||(unset(Me,Kr),unset(ke,Kr)),!Tr.keepError&&unset(_e.errors,Kr),!Tr.keepDirty&&unset(_e.dirtyFields,Kr),!Tr.keepTouched&&unset(_e.touchedFields,Kr),!Tr.keepIsValidating&&unset(_e.validatingFields,Kr),!je.shouldUnregister&&!Tr.keepDefaultValue&&unset($e,Kr);Ke.values.next({values:{...ke}}),Ke.state.next({..._e,...Tr.keepDirty?{isDirty:Pe()}:{}}),!Tr.keepIsValid&&cr()},wr=({disabled:$r,name:Tr,field:Kr,fields:qr})=>{(isBoolean$1($r)&&Ce.mount||$r||Be.disabled.has(Tr))&&($r?Be.disabled.add(Tr):Be.disabled.delete(Tr),jr(Tr,getFieldValue(Kr?Kr._f:get$2(qr,Tr)._f),!1,!1,!0))},Nr=($r,Tr={})=>{let Kr=get$2(Me,$r);const qr=isBoolean$1(Tr.disabled)||isBoolean$1(je.disabled);return set$1(Me,$r,{...Kr||{},_f:{...Kr&&Kr._f?Kr._f:{ref:{name:$r}},name:$r,mount:!0,...Tr}}),Be.mount.add($r),Kr?wr({field:Kr,disabled:isBoolean$1(Tr.disabled)?Tr.disabled:je.disabled,name:$r}):gr($r,!0,Tr.value),{...qr?{disabled:Tr.disabled||je.disabled}:{},...je.progressive?{required:!!Tr.required,min:getRuleValue(Tr.min),max:getRuleValue(Tr.max),minLength:getRuleValue(Tr.minLength),maxLength:getRuleValue(Tr.maxLength),pattern:getRuleValue(Tr.pattern)}:{},name:$r,onChange:er,onBlur:er,ref:Hr=>{if(Hr){Nr($r,Tr),Kr=get$2(Me,$r);const ss=isUndefined$1(Hr.value)&&Hr.querySelectorAll&&Hr.querySelectorAll("input,select,textarea")[0]||Hr,Vr=isRadioOrCheckbox(ss),Zr=Kr._f.refs||[];if(Vr?Zr.find(Is=>Is===ss):ss===Kr._f.ref)return;set$1(Me,$r,{_f:{...Kr._f,...Vr?{refs:[...Zr.filter(live),ss,...Array.isArray(get$2($e,$r))?[{}]:[]],ref:{type:ss.type,name:$r}}:{ref:ss}}}),gr($r,!1,void 0,ss)}else Kr=get$2(Me,$r,{}),Kr._f&&(Kr._f.mount=!1),(je.shouldUnregister||Tr.shouldUnregister)&&!(isNameInFieldArray(Be.array,$r)&&Ce.action)&&Be.unMount.add($r)}}},kr=()=>je.shouldFocusError&&iterateFieldsByAction(Me,Ve,Be.mount),Lr=$r=>{isBoolean$1($r)&&(Ke.state.next({disabled:$r}),iterateFieldsByAction(Me,(Tr,Kr)=>{const qr=get$2(Me,Kr);qr&&(Tr.disabled=qr._f.disabled||$r,Array.isArray(qr._f.refs)&&qr._f.refs.forEach(Hr=>{Hr.disabled=qr._f.disabled||$r}))},0,!1))},Xr=($r,Tr)=>async Kr=>{let qr;Kr&&(Kr.preventDefault&&Kr.preventDefault(),Kr.persist&&Kr.persist());let Hr=cloneObject(ke);if(Be.disabled.size)for(const ss of Be.disabled)set$1(Hr,ss,void 0);if(Ke.state.next({isSubmitting:!0}),je.resolver){const{errors:ss,values:Vr}=await dr();_e.errors=ss,Hr=Vr}else await Rr(Me);if(unset(_e.errors,"root"),isEmptyObject(_e.errors)){Ke.state.next({errors:{}});try{await $r(Hr,Kr)}catch(ss){qr=ss}}else Tr&&await Tr({..._e.errors},Kr),kr(),setTimeout(kr);if(Ke.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:isEmptyObject(_e.errors)&&!qr,submitCount:_e.submitCount+1,errors:_e.errors}),qr)throw qr},Ur=($r,Tr={})=>{get$2(Me,$r)&&(isUndefined$1(Tr.defaultValue)?Ze($r,cloneObject(get$2($e,$r))):(Ze($r,Tr.defaultValue),set$1($e,$r,cloneObject(Tr.defaultValue))),Tr.keepTouched||unset(_e.touchedFields,$r),Tr.keepDirty||(unset(_e.dirtyFields,$r),_e.isDirty=Tr.defaultValue?Pe($r,cloneObject(get$2($e,$r))):Pe()),Tr.keepError||(unset(_e.errors,$r),We.isValid&&cr()),Ke.state.next({..._e}))},Gr=($r,Tr={})=>{const Kr=$r?cloneObject($r):$e,qr=cloneObject(Kr),Hr=isEmptyObject($r),ss=Hr?$e:qr;if(Tr.keepDefaultValues||($e=Kr),!Tr.keepValues){if(Tr.keepDirtyValues){const Vr=new Set([...Be.mount,...Object.keys(getDirtyFields($e,ke))]);for(const Zr of Array.from(Vr))get$2(_e.dirtyFields,Zr)?set$1(ss,Zr,get$2(ke,Zr)):Ze(Zr,get$2(ss,Zr))}else{if(isWeb&&isUndefined$1($r))for(const Vr of Be.mount){const Zr=get$2(Me,Vr);if(Zr&&Zr._f){const Is=Array.isArray(Zr._f.refs)?Zr._f.refs[0]:Zr._f.ref;if(isHTMLElement$2(Is)){const Jr=Is.closest("form");if(Jr){Jr.reset();break}}}}Me={}}ke=je.shouldUnregister?Tr.keepDefaultValues?cloneObject($e):{}:cloneObject(ss),Ke.array.next({values:{...ss}}),Ke.values.next({values:{...ss}})}Be={mount:Tr.keepDirtyValues?Be.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},Ce.mount=!We.isValid||!!Tr.keepIsValid||!!Tr.keepDirtyValues,Ce.watch=!!je.shouldUnregister,Ke.state.next({submitCount:Tr.keepSubmitCount?_e.submitCount:0,isDirty:Hr?!1:Tr.keepDirty?_e.isDirty:!!(Tr.keepDefaultValues&&!deepEqual($r,$e)),isSubmitted:Tr.keepIsSubmitted?_e.isSubmitted:!1,dirtyFields:Hr?{}:Tr.keepDirtyValues?Tr.keepDefaultValues&&ke?getDirtyFields($e,ke):_e.dirtyFields:Tr.keepDefaultValues&&$r?getDirtyFields($e,$r):Tr.keepDirty?_e.dirtyFields:{},touchedFields:Tr.keepTouched?_e.touchedFields:{},errors:Tr.keepErrors?_e.errors:{},isSubmitSuccessful:Tr.keepIsSubmitSuccessful?_e.isSubmitSuccessful:!1,isSubmitting:!1})},Ts=($r,Tr)=>Gr(isFunction$7($r)?$r(ke):$r,Tr);return{control:{register:Nr,unregister:Sr,getFieldState:ir,handleSubmit:Xr,setError:br,_executeSchema:dr,_getWatch:Fe,_getDirty:Pe,_updateValid:cr,_removeUnmounted:Xe,_updateFieldArray:ar,_updateDisabledField:wr,_getFieldArray:ze,_reset:Gr,_resetDefaultValues:()=>isFunction$7(je.defaultValues)&&je.defaultValues().then($r=>{Ts($r,je.resetOptions),Ke.state.next({isLoading:!1})}),_updateFormState:$r=>{_e={..._e,...$r}},_disableForm:Lr,_subjects:Ke,_proxyFormState:We,_setErrors:ur,get _fields(){return Me},get _formValues(){return ke},get _state(){return Ce},set _state($r){Ce=$r},get _defaultValues(){return $e},get _names(){return Be},set _names($r){Be=$r},get _formState(){return _e},set _formState($r){_e=$r},get _options(){return je},set _options($r){je={...je,...$r}}},trigger:Ie,register:Nr,handleSubmit:Xr,watch:_r,setValue:Ze,getValues:Ye,reset:Ts,resetField:Ur,clearErrors:lr,unregister:Sr,setError:br,setFocus:($r,Tr={})=>{const Kr=get$2(Me,$r),qr=Kr&&Kr._f;if(qr){const Hr=qr.refs?qr.refs[0]:qr.ref;Hr.focus&&(Hr.focus(),Tr.shouldSelect&&isFunction$7(Hr.select)&&Hr.select())}},getFieldState:ir}}function useForm(Re={}){const je=React$2.useRef(void 0),_e=React$2.useRef(void 0),[Me,$e]=React$2.useState({isDirty:!1,isValidating:!1,isLoading:isFunction$7(Re.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:Re.errors||{},disabled:Re.disabled||!1,defaultValues:isFunction$7(Re.defaultValues)?void 0:Re.defaultValues});je.current||(je.current={...createFormControl(Re),formState:Me});const ke=je.current.control;return ke._options=Re,useSubscribe({subject:ke._subjects.state,next:Ce=>{shouldRenderFormState(Ce,ke._proxyFormState,ke._updateFormState)&&$e({...ke._formState})}}),React$2.useEffect(()=>ke._disableForm(Re.disabled),[ke,Re.disabled]),React$2.useEffect(()=>{if(ke._proxyFormState.isDirty){const Ce=ke._getDirty();Ce!==Me.isDirty&&ke._subjects.state.next({isDirty:Ce})}},[ke,Me.isDirty]),React$2.useEffect(()=>{Re.values&&!deepEqual(Re.values,_e.current)?(ke._reset(Re.values,ke._options.resetOptions),_e.current=Re.values,$e(Ce=>({...Ce}))):ke._resetDefaultValues()},[Re.values,ke]),React$2.useEffect(()=>{Re.errors&&ke._setErrors(Re.errors)},[Re.errors,ke]),React$2.useEffect(()=>{ke._state.mount||(ke._updateValid(),ke._state.mount=!0),ke._state.watch&&(ke._state.watch=!1,ke._subjects.state.next({...ke._formState})),ke._removeUnmounted()}),React$2.useEffect(()=>{Re.shouldUnregister&&ke._subjects.values.next({values:ke._getWatch()})},[Re.shouldUnregister,ke]),je.current.formState=getProxyFormState(Me,ke),je.current}class EmailJSResponseStatus{constructor(je=0,_e="Network Error"){this.status=je,this.text=_e}}const createWebStorage=()=>{if(!(typeof localStorage>"u"))return{get:Re=>Promise.resolve(localStorage.getItem(Re)),set:(Re,je)=>Promise.resolve(localStorage.setItem(Re,je)),remove:Re=>Promise.resolve(localStorage.removeItem(Re))}},store={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:createWebStorage()},buildOptions=Re=>Re?typeof Re=="string"?{publicKey:Re}:Re.toString()==="[object Object]"?Re:{}:{},init$1=(Re,je="https://api.emailjs.com")=>{if(!Re)return;const _e=buildOptions(Re);store.publicKey=_e.publicKey,store.blockHeadless=_e.blockHeadless,store.storageProvider=_e.storageProvider,store.blockList=_e.blockList,store.limitRate=_e.limitRate,store.origin=_e.origin||je},sendPost=async(Re,je,_e={})=>{const Me=await fetch(store.origin+Re,{method:"POST",headers:_e,body:je}),$e=await Me.text(),ke=new EmailJSResponseStatus(Me.status,$e);if(Me.ok)return ke;throw ke},validateParams=(Re,je,_e)=>{if(!Re||typeof Re!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!je||typeof je!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!_e||typeof _e!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},validateTemplateParams=Re=>{if(Re&&Re.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},isHeadless=Re=>Re.webdriver||!Re.languages||Re.languages.length===0,headlessError=()=>new EmailJSResponseStatus(451,"Unavailable For Headless Browser"),validateBlockListParams=(Re,je)=>{if(!Array.isArray(Re))throw"The BlockList list has to be an array";if(typeof je!="string")throw"The BlockList watchVariable has to be a string"},isBlockListDisabled=Re=>!Re.list?.length||!Re.watchVariable,getValue$2=(Re,je)=>Re instanceof FormData?Re.get(je):Re[je],isBlockedValueInParams=(Re,je)=>{if(isBlockListDisabled(Re))return!1;validateBlockListParams(Re.list,Re.watchVariable);const _e=getValue$2(je,Re.watchVariable);return typeof _e!="string"?!1:Re.list.includes(_e)},blockedEmailError=()=>new EmailJSResponseStatus(403,"Forbidden"),validateLimitRateParams=(Re,je)=>{if(typeof Re!="number"||Re<0)throw"The LimitRate throttle has to be a positive number";if(je&&typeof je!="string")throw"The LimitRate ID has to be a non-empty string"},getLeftTime=async(Re,je,_e)=>{const Me=Number(await _e.get(Re)||0);return je-Date.now()+Me},isLimitRateHit=async(Re,je,_e)=>{if(!je.throttle||!_e)return!1;validateLimitRateParams(je.throttle,je.id);const Me=je.id||Re;return await getLeftTime(Me,je.throttle,_e)>0?!0:(await _e.set(Me,Date.now().toString()),!1)},limitRateError=()=>new EmailJSResponseStatus(429,"Too Many Requests"),send$3=async(Re,je,_e,Me)=>{const $e=buildOptions(Me),ke=$e.publicKey||store.publicKey,Ce=$e.blockHeadless||store.blockHeadless,Be=$e.storageProvider||store.storageProvider,qe={...store.blockList,...$e.blockList},He={...store.limitRate,...$e.limitRate};return Ce&&isHeadless(navigator)?Promise.reject(headlessError()):(validateParams(ke,Re,je),validateTemplateParams(_e),_e&&isBlockedValueInParams(qe,_e)?Promise.reject(blockedEmailError()):await isLimitRateHit(location.pathname,He,Be)?Promise.reject(limitRateError()):sendPost("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:ke,service_id:Re,template_id:je,template_params:_e}),{"Content-type":"application/json"}))},validateForm=Re=>{if(!Re||Re.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},findHTMLForm=Re=>typeof Re=="string"?document.querySelector(Re):Re,sendForm=async(Re,je,_e,Me)=>{const $e=buildOptions(Me),ke=$e.publicKey||store.publicKey,Ce=$e.blockHeadless||store.blockHeadless,Be=store.storageProvider||$e.storageProvider,qe={...store.blockList,...$e.blockList},He={...store.limitRate,...$e.limitRate};if(Ce&&isHeadless(navigator))return Promise.reject(headlessError());const We=findHTMLForm(_e);validateParams(ke,Re,je),validateForm(We);const Ke=new FormData(We);return isBlockedValueInParams(qe,Ke)?Promise.reject(blockedEmailError()):await isLimitRateHit(location.pathname,He,Be)?Promise.reject(limitRateError()):(Ke.append("lib_version","4.4.1"),Ke.append("service_id",Re),Ke.append("template_id",je),Ke.append("user_id",ke),sendPost("/api/v1.0/email/send-form",Ke))},emailjs={init:init$1,send:send$3,sendForm,EmailJSResponseStatus},DemoWaitlist=()=>{const Re=useNavigate(),[je,_e]=reactExports.useState(!1),{register:Me,handleSubmit:$e,reset:ke,formState:{errors:Ce}}=useForm(),Be=async qe=>{_e(!0);try{if((await emailjs.send("service_c6f51s2","template_pq8e2on",{to_email:"maniksharmawork@gmail.com",from_name:qe.full_name,from_email:qe.email,phone:qe.phone,company:qe.company,location:qe.location,source:qe.source,interests:Array.isArray(qe.interests)?qe.interests.join(", "):qe.interests,message:qe.message||"No additional message provided",reply_to:qe.email},"8EWVDKAGb6WUEW3UR")).status===200)c$1.success("Thank you for your interest! We will contact you shortly about the demo."),ke();else throw new Error("Failed to send demo request")}catch(He){console.error("Error submitting form:",He),c$1.error("Failed to submit form. Please try again.")}finally{_e(!1)}};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-dark-950",children:[jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-b from-primary-900 to-primary-800 py-16",children:jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-8",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>Re(-1),className:"flex items-center space-x-2 text-white hover:text-primary-200",children:[jsxRuntimeExports.jsx(ArrowLeft,{size:20}),jsxRuntimeExports.jsx("span",{children:"Back"})]}),jsxRuntimeExports.jsxs(Link,{to:"/",className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("img",{src:"/logo.svg",alt:"CxTrack Logo",className:"h-8 w-8 logo-glow"}),jsxRuntimeExports.jsx("span",{className:"brand-logo text-xl font-bold text-white brand-text",children:"CxTrack"})]})]}),jsxRuntimeExports.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Schedule a Demo"}),jsxRuntimeExports.jsx("p",{className:"text-xl text-primary-200",children:"Join our demo program to experience the power of CxTrack's AI-driven business management platform."})]})]})}),jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4 py-16",children:jsxRuntimeExports.jsx("div",{className:"max-w-2xl mx-auto",children:jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-xl border border-dark-700 p-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4 mb-8",children:[jsxRuntimeExports.jsx("div",{className:"p-3 rounded-lg bg-primary-500/20",children:jsxRuntimeExports.jsx(Bot,{className:"text-primary-400 h-6 w-6"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-white",children:"Request a Demo"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Fill out the form below to schedule your personalized demo"})]})]}),jsxRuntimeExports.jsxs("form",{onSubmit:$e(Be),className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{htmlFor:"full_name",className:"block text-sm font-medium text-gray-300 mb-1",children:["Full Name ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("input",{id:"full_name",type:"text",className:"input",...Me("full_name",{required:"Full name is required"})}),Ce.full_name&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:Ce.full_name.message})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-1",children:["Email Address ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("input",{id:"email",type:"email",className:"input",...Me("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})}),Ce.email&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:Ce.email.message})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-300 mb-1",children:["Phone Number ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("input",{id:"phone",type:"tel",className:"input",...Me("phone",{required:"Phone number is required"})}),Ce.phone&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:Ce.phone.message})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{htmlFor:"company",className:"block text-sm font-medium text-gray-300 mb-1",children:["Company Name ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("input",{id:"company",type:"text",className:"input",...Me("company",{required:"Company name is required"})}),Ce.company&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:Ce.company.message})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-300 mb-1",children:["Location ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("input",{id:"location",type:"text",className:"input",placeholder:"City, Country",...Me("location",{required:"Location is required"})}),Ce.location&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:Ce.location.message})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{htmlFor:"source",className:"block text-sm font-medium text-gray-300 mb-1",children:["How did you hear about us? ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsxs("select",{id:"source",className:"input",...Me("source",{required:"Please select an option"}),children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select an option"}),jsxRuntimeExports.jsx("option",{value:"search",children:"Search Engine"}),jsxRuntimeExports.jsx("option",{value:"social",children:"Social Media"}),jsxRuntimeExports.jsx("option",{value:"referral",children:"Referral"}),jsxRuntimeExports.jsx("option",{value:"advertisement",children:"Advertisement"}),jsxRuntimeExports.jsx("option",{value:"other",children:"Other"})]}),Ce.source&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:Ce.source.message})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["What features are you most interested in? ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("label",{className:"flex items-center",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",value:"invoicing",...Me("interests",{required:"Please select at least one feature"}),className:"h-4 w-4 rounded border-gray-600 bg-dark-800 text-primary-600 focus:ring-primary-500"}),jsxRuntimeExports.jsx("span",{className:"ml-2 text-gray-300",children:"Smart Invoicing & Quotes"})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",value:"crm",...Me("interests"),className:"h-4 w-4 rounded border-gray-600 bg-dark-800 text-primary-600 focus:ring-primary-500"}),jsxRuntimeExports.jsx("span",{className:"ml-2 text-gray-300",children:"CRM & Customer Management"})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",value:"ai_agents",...Me("interests"),className:"h-4 w-4 rounded border-gray-600 bg-dark-800 text-primary-600 focus:ring-primary-500"}),jsxRuntimeExports.jsx("span",{className:"ml-2 text-gray-300",children:"AI Agents & Automation"})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",value:"quotes",...Me("interests"),className:"h-4 w-4 rounded border-gray-600 bg-dark-800 text-primary-600 focus:ring-primary-500"}),jsxRuntimeExports.jsx("span",{className:"ml-2 text-gray-300",children:"Quote Management"})]})]}),Ce.interests&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:Ce.interests.message})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-300 mb-1",children:"Additional Information"}),jsxRuntimeExports.jsx("textarea",{id:"message",rows:4,className:"input",placeholder:"Tell us about your business needs...",...Me("message")})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx(Link,{to:"/register",className:"text-primary-400 hover:text-primary-300 text-sm",children:"Or start with a free trial instead"}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:je,className:"btn btn-primary",children:je?jsxRuntimeExports.jsxs("span",{className:"flex items-center",children:[jsxRuntimeExports.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[jsxRuntimeExports.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),jsxRuntimeExports.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Submitting..."]}):"Request Demo"})]})]})]})})})]})},PrivacyPolicy=()=>jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-dark-950",children:[jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-b from-primary-900 to-primary-800 py-16",children:jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4",children:[jsxRuntimeExports.jsxs(Link,{to:"/",className:"inline-flex items-center text-white mb-8 hover:text-primary-200",children:[jsxRuntimeExports.jsx(ArrowLeft,{size:20,className:"mr-2"}),"Back to Home"]}),jsxRuntimeExports.jsxs("div",{className:"max-w-3xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-6",children:[jsxRuntimeExports.jsx(Shield,{className:"text-primary-400 mr-3",size:32}),jsxRuntimeExports.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white",children:"Privacy Policy"})]}),jsxRuntimeExports.jsx("p",{className:"text-xl text-primary-200",children:"Last updated: March 17, 2025"})]})]})}),jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4 py-16",children:jsxRuntimeExports.jsxs("div",{className:"max-w-3xl mx-auto prose prose-invert",children:[jsxRuntimeExports.jsx("h2",{children:"1. Introduction"}),jsxRuntimeExports.jsx("p",{children:'CxTrack ("we", "our", or "us") respects your privacy and is committed to protecting your personal data. This privacy policy explains how we collect, use, and protect your information when you use our business management platform.'}),jsxRuntimeExports.jsx("h2",{children:"2. Information We Collect"}),jsxRuntimeExports.jsx("h3",{children:"2.1 Information You Provide"}),jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{children:"Account information (name, email, password)"}),jsxRuntimeExports.jsx("li",{children:"Business information (company name, address, tax numbers)"}),jsxRuntimeExports.jsx("li",{children:"Customer data you input into our system"}),jsxRuntimeExports.jsx("li",{children:"Payment information"}),jsxRuntimeExports.jsx("li",{children:"Communication preferences"})]}),jsxRuntimeExports.jsx("h3",{children:"2.2 Automatically Collected Information"}),jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{children:"Usage data and analytics"}),jsxRuntimeExports.jsx("li",{children:"Device and browser information"}),jsxRuntimeExports.jsx("li",{children:"IP address and location data"}),jsxRuntimeExports.jsx("li",{children:"Cookies and similar technologies"})]}),jsxRuntimeExports.jsx("h2",{children:"3. How We Use Your Information"}),jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{children:"To provide and maintain our services"}),jsxRuntimeExports.jsx("li",{children:"To process your transactions"}),jsxRuntimeExports.jsx("li",{children:"To send administrative information"}),jsxRuntimeExports.jsx("li",{children:"To provide customer support"}),jsxRuntimeExports.jsx("li",{children:"To send marketing communications (with consent)"}),jsxRuntimeExports.jsx("li",{children:"To improve our services"}),jsxRuntimeExports.jsx("li",{children:"To protect against fraud"})]}),jsxRuntimeExports.jsx("h2",{children:"4. Data Storage and Security"}),jsxRuntimeExports.jsx("p",{children:"We store your data in Canada and the United States. We implement appropriate technical and organizational security measures to protect your data against unauthorized access, alteration, disclosure, or destruction."}),jsxRuntimeExports.jsx("h2",{children:"5. Data Sharing and Third Parties"}),jsxRuntimeExports.jsx("p",{children:"We may share your information with:"}),jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{children:"Service providers and business partners"}),jsxRuntimeExports.jsx("li",{children:"Payment processors"}),jsxRuntimeExports.jsx("li",{children:"Analytics providers"}),jsxRuntimeExports.jsx("li",{children:"Law enforcement when required by law"})]}),jsxRuntimeExports.jsx("h2",{children:"6. Your Rights"}),jsxRuntimeExports.jsx("p",{children:"Under applicable North American privacy laws, you have the right to:"}),jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{children:"Access your personal information"}),jsxRuntimeExports.jsx("li",{children:"Correct inaccurate information"}),jsxRuntimeExports.jsx("li",{children:"Request deletion of your information"}),jsxRuntimeExports.jsx("li",{children:"Opt-out of marketing communications"}),jsxRuntimeExports.jsx("li",{children:"Withdraw consent where applicable"})]}),jsxRuntimeExports.jsx("h2",{children:"7. Data Retention"}),jsxRuntimeExports.jsx("p",{children:"We retain your information for as long as necessary to provide our services and comply with legal obligations. When data is no longer needed, it is securely deleted."}),jsxRuntimeExports.jsx("h2",{children:"8. Children's Privacy"}),jsxRuntimeExports.jsx("p",{children:"Our services are not intended for children under 13. We do not knowingly collect or maintain information from children under 13."}),jsxRuntimeExports.jsx("h2",{children:"9. Changes to This Policy"}),jsxRuntimeExports.jsx("p",{children:'We may update this privacy policy from time to time. We will notify you of any changes by posting the new policy on this page and updating the "Last updated" date.'}),jsxRuntimeExports.jsx("h2",{children:"10. Contact Us"}),jsxRuntimeExports.jsx("p",{children:"If you have questions about this privacy policy or our practices, please contact us at:"}),jsxRuntimeExports.jsxs("p",{children:["Email: privacy@cxtrack.com",jsxRuntimeExports.jsx("br",{}),"Address: 123 Business Street, Toronto, ON M5V 2T6, Canada"]})]})})]}),TermsOfService=()=>jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-dark-950",children:[jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-b from-primary-900 to-primary-800 py-16",children:jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4",children:[jsxRuntimeExports.jsxs(Link,{to:"/",className:"inline-flex items-center text-white mb-8 hover:text-primary-200",children:[jsxRuntimeExports.jsx(ArrowLeft,{size:20,className:"mr-2"}),"Back to Home"]}),jsxRuntimeExports.jsxs("div",{className:"max-w-3xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-6",children:[jsxRuntimeExports.jsx(FileText,{className:"text-primary-400 mr-3",size:32}),jsxRuntimeExports.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white",children:"Terms of Service"})]}),jsxRuntimeExports.jsx("p",{className:"text-xl text-primary-200",children:"Last updated: March 17, 2025"})]})]})}),jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4 py-16",children:jsxRuntimeExports.jsxs("div",{className:"max-w-3xl mx-auto prose prose-invert",children:[jsxRuntimeExports.jsx("h2",{children:"1. Agreement to Terms"}),jsxRuntimeExports.jsx("p",{children:"By accessing or using CxTrack's services, you agree to be bound by these Terms of Service and all applicable laws and regulations. If you do not agree with any of these terms, you are prohibited from using or accessing our services."}),jsxRuntimeExports.jsx("h2",{children:"2. Use License"}),jsxRuntimeExports.jsx("p",{children:"We grant you a limited, non-exclusive, non-transferable, revocable license to use our services for your business purposes in accordance with these Terms."}),jsxRuntimeExports.jsx("h3",{children:"2.1 Restrictions"}),jsxRuntimeExports.jsx("p",{children:"You may not:"}),jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{children:"Modify or copy our software"}),jsxRuntimeExports.jsx("li",{children:"Use the service for any unlawful purpose"}),jsxRuntimeExports.jsx("li",{children:"Transfer your account to another party"}),jsxRuntimeExports.jsx("li",{children:"Attempt to decompile or reverse engineer any software"}),jsxRuntimeExports.jsx("li",{children:"Remove any copyright or proprietary notations"})]}),jsxRuntimeExports.jsx("h2",{children:"3. Account Terms"}),jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{children:"You must provide accurate and complete information"}),jsxRuntimeExports.jsx("li",{children:"You are responsible for maintaining account security"}),jsxRuntimeExports.jsx("li",{children:"You must notify us of any security breach"}),jsxRuntimeExports.jsx("li",{children:"We reserve the right to terminate accounts"})]}),jsxRuntimeExports.jsx("h2",{children:"4. Payment Terms"}),jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{children:"Subscription fees are billed in advance"}),jsxRuntimeExports.jsx("li",{children:"All fees are non-refundable"}),jsxRuntimeExports.jsx("li",{children:"30-day notice required for cancellation"}),jsxRuntimeExports.jsx("li",{children:"Taxes are your responsibility"})]}),jsxRuntimeExports.jsx("h2",{children:"5. Service Availability and Updates"}),jsxRuntimeExports.jsx("p",{children:"We strive to maintain 99.9% uptime but do not guarantee uninterrupted service. We may modify, suspend, or discontinue any part of our service with or without notice."}),jsxRuntimeExports.jsx("h2",{children:"6. Data Ownership and Privacy"}),jsxRuntimeExports.jsx("p",{children:"You retain all rights to your data. Our privacy practices are governed by our Privacy Policy, which is incorporated into these Terms by reference."}),jsxRuntimeExports.jsx("h2",{children:"7. Intellectual Property"}),jsxRuntimeExports.jsx("p",{children:"All content, features, and functionality are owned by CxTrack and are protected by international copyright, trademark, and other intellectual property laws."}),jsxRuntimeExports.jsx("h2",{children:"8. Limitation of Liability"}),jsxRuntimeExports.jsx("p",{children:"CxTrack shall not be liable for any indirect, incidental, special, consequential, or punitive damages resulting from your use or inability to use the service."}),jsxRuntimeExports.jsx("h2",{children:"9. Indemnification"}),jsxRuntimeExports.jsx("p",{children:"You agree to indemnify and hold harmless CxTrack and its employees from any claims resulting from your use of our services."}),jsxRuntimeExports.jsx("h2",{children:"10. Governing Law"}),jsxRuntimeExports.jsx("p",{children:"These Terms shall be governed by the laws of Canada without regard to its conflict of law provisions."}),jsxRuntimeExports.jsx("h2",{children:"11. Changes to Terms"}),jsxRuntimeExports.jsx("p",{children:"We reserve the right to modify these terms at any time. We will notify you of any changes by posting the new Terms on this page."}),jsxRuntimeExports.jsx("h2",{children:"12. Contact Information"}),jsxRuntimeExports.jsxs("p",{children:["For any questions about these Terms, please contact us at:",jsxRuntimeExports.jsx("br",{}),"Email: legal@cxtrack.com",jsxRuntimeExports.jsx("br",{}),"Address: 123 Business Street, Toronto, ON M5V 2T6, Canada"]})]})})]}),CookiePolicy=()=>jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-dark-950",children:[jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-b from-primary-900 to-primary-800 py-16",children:jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4",children:[jsxRuntimeExports.jsxs(Link,{to:"/",className:"inline-flex items-center text-white mb-8 hover:text-primary-200",children:[jsxRuntimeExports.jsx(ArrowLeft,{size:20,className:"mr-2"}),"Back to Home"]}),jsxRuntimeExports.jsxs("div",{className:"max-w-3xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-6",children:[jsxRuntimeExports.jsx(Cookie,{className:"text-primary-400 mr-3",size:32}),jsxRuntimeExports.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white",children:"Cookie Policy"})]}),jsxRuntimeExports.jsx("p",{className:"text-xl text-primary-200",children:"Last updated: March 17, 2025"})]})]})}),jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4 py-16",children:jsxRuntimeExports.jsxs("div",{className:"max-w-3xl mx-auto prose prose-invert",children:[jsxRuntimeExports.jsx("h2",{children:"1. What Are Cookies"}),jsxRuntimeExports.jsx("p",{children:"Cookies are small text files that are placed on your computer or mobile device when you visit our website. They are widely used to make websites work more efficiently and provide useful information to website owners."}),jsxRuntimeExports.jsx("h2",{children:"2. How We Use Cookies"}),jsxRuntimeExports.jsx("p",{children:"We use cookies for the following purposes:"}),jsxRuntimeExports.jsx("h3",{children:"2.1 Essential Cookies"}),jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{children:"Authentication and security"}),jsxRuntimeExports.jsx("li",{children:"Session management"}),jsxRuntimeExports.jsx("li",{children:"Load balancing"}),jsxRuntimeExports.jsx("li",{children:"Remember your preferences"})]}),jsxRuntimeExports.jsx("h3",{children:"2.2 Performance Cookies"}),jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{children:"Analyze how you use our website"}),jsxRuntimeExports.jsx("li",{children:"Improve website performance"}),jsxRuntimeExports.jsx("li",{children:"Monitor error rates"}),jsxRuntimeExports.jsx("li",{children:"Test new features"})]}),jsxRuntimeExports.jsx("h3",{children:"2.3 Functionality Cookies"}),jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{children:"Remember your preferences"}),jsxRuntimeExports.jsx("li",{children:"Customize your experience"}),jsxRuntimeExports.jsx("li",{children:"Save your settings"})]}),jsxRuntimeExports.jsx("h2",{children:"3. Types of Cookies We Use"}),jsxRuntimeExports.jsx("h3",{children:"3.1 Session Cookies"}),jsxRuntimeExports.jsx("p",{children:"These temporary cookies are erased when you close your browser. We use session cookies to maintain your session while using our services."}),jsxRuntimeExports.jsx("h3",{children:"3.2 Persistent Cookies"}),jsxRuntimeExports.jsx("p",{children:"These cookies remain on your device until they expire or you delete them. We use persistent cookies to remember your preferences and settings."}),jsxRuntimeExports.jsx("h3",{children:"3.3 Third-Party Cookies"}),jsxRuntimeExports.jsx("p",{children:"We use services from these third parties that may place cookies:"}),jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{children:"Google Analytics (analytics)"}),jsxRuntimeExports.jsx("li",{children:"Stripe (payment processing)"}),jsxRuntimeExports.jsx("li",{children:"Intercom (customer support)"})]}),jsxRuntimeExports.jsx("h2",{children:"4. Cookie Management"}),jsxRuntimeExports.jsx("h3",{children:"4.1 Browser Settings"}),jsxRuntimeExports.jsx("p",{children:"You can control and manage cookies through your browser settings. Please note that removing or blocking cookies may impact your user experience and some features may not function as intended."}),jsxRuntimeExports.jsx("h3",{children:"4.2 Third-Party Tools"}),jsxRuntimeExports.jsx("p",{children:"You can also manage cookies through these third-party tools:"}),jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{children:"Google Analytics Opt-out Browser Add-on"}),jsxRuntimeExports.jsx("li",{children:"Your Online Choices (for behavioral advertising)"}),jsxRuntimeExports.jsx("li",{children:"Network Advertising Initiative"})]}),jsxRuntimeExports.jsx("h2",{children:"5. Required Cookies"}),jsxRuntimeExports.jsx("p",{children:"Some cookies are strictly necessary for our website to function properly. You can set your browser to block these cookies, but some parts of the site may not work properly."}),jsxRuntimeExports.jsx("h2",{children:"6. Updates to This Policy"}),jsxRuntimeExports.jsx("p",{children:'We may update this Cookie Policy from time to time. We will notify you of any changes by posting the new policy on this page and updating the "Last updated" date.'}),jsxRuntimeExports.jsx("h2",{children:"7. Contact Us"}),jsxRuntimeExports.jsx("p",{children:"If you have questions about our Cookie Policy, please contact us at:"}),jsxRuntimeExports.jsxs("p",{children:["Email: privacy@cxtrack.com",jsxRuntimeExports.jsx("br",{}),"Address: 123 Business Street, Toronto, ON M5V 2T6, Canada"]})]})})]}),PricingCard=({plan:Re,isHovered:je,onHover:_e})=>{const Me=window.innerWidth<768,$e=useNavigate();return jsxRuntimeExports.jsxs("div",{className:`relative bg-dark-800 rounded-2xl p-8 border-2 transition-all duration-300 cursor-pointer ${je?"border-primary-500 transform scale-105 shadow-xl":"border-dark-700 transform scale-100"}`,onMouseEnter:()=>_e(Re.name),onMouseLeave:()=>_e(null),onClick:()=>$e(Re.link),children:[Re.name==="Enterprise"&&jsxRuntimeExports.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:jsxRuntimeExports.jsx("span",{className:"bg-gradient-to-r from-primary-600 to-purple-600 text-white px-4 py-1 rounded-full text-sm font-medium",children:"AI-Powered"})}),jsxRuntimeExports.jsxs("div",{className:"text-center mb-8",children:[jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:Re.name}),jsxRuntimeExports.jsxs("div",{className:"text-4xl font-bold text-white mb-2",children:["$",Re.price,jsxRuntimeExports.jsx("span",{className:"text-lg text-gray-400",children:"/mo"})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:Re.description})]}),Re.highlightFeatures&&jsxRuntimeExports.jsx("div",{className:"mb-8 space-y-4",children:Re.highlightFeatures.map((ke,Ce)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center p-3 bg-dark-700/50 rounded-lg",children:[jsxRuntimeExports.jsx(ke.icon,{className:"text-primary-400 mr-3",size:24}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-white font-medium",children:ke.title}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:ke.description})]})]},Ce))}),jsxRuntimeExports.jsxs("ul",{className:"space-y-3 mb-8",children:[(Me?Re.mobileFeatures:Re.features).map((ke,Ce)=>jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(Check,{className:"text-primary-500 mt-1 mr-2 flex-shrink-0",size:16}),jsxRuntimeExports.jsx("span",{className:"text-gray-300 text-sm",children:ke})]},Ce)),Me&&Re.features.length>Re.mobileFeatures.length&&jsxRuntimeExports.jsxs("li",{className:"text-center text-primary-400 mt-2",children:["+",Re.features.length-Re.mobileFeatures.length," more features"]})]}),jsxRuntimeExports.jsxs(Link,{to:Re.link,className:"w-full btn btn-primary flex items-center justify-center space-x-2 group",children:[jsxRuntimeExports.jsx("span",{children:Re.price===0?"Sign Up Free":"Learn More"}),jsxRuntimeExports.jsx(ArrowRight,{size:16,className:`transform transition-transform duration-300 ${je?"translate-x-1":""}`})]})]})},plans$1=[{name:"Free",price:0,description:"Basic features for small businesses",features:["Up to 5 invoices per month","Basic invoice templates","PDF generation & download","Single user access","Basic customer database","Simple reporting tools","Email notifications","Basic dashboard","Mobile app access","Standard documentation"],mobileFeatures:["Basic invoicing functionality","PDF invoice generation","Manual invoice downloads","Limited to 5 invoices per month","Single user account","Basic email support"],link:"/register"},{name:"Basic",price:19.99,description:"Essential features for growing businesses",features:["Unlimited invoices & quotes","Custom invoice templates","Automated payment reminders","Up to 25 customers","Basic inventory tracking","Email delivery system","Customer contact management","Basic CRM features","CSV data export","Standard support","Basic document storage","Simple workflow automation","Email templates","Basic task management"],mobileFeatures:["All Free Plan features","Email delivery to customers","Invoice templates","Recurring invoices","Up to 25 customers","Customer contact management"],link:"/features/basic-plan"},{name:"Business",price:99.99,description:"Advanced features for established businesses",features:["Unlimited customers & products","Advanced analytics dashboard","Team collaboration tools","Custom integrations & API","Multi-currency support","Inventory management","Automated workflows","Priority support","Custom branding options","Advanced reporting","Role-based access control","Bulk operations & imports","Advanced document management","Custom fields & forms","Advanced search capabilities","Audit logs & compliance"],mobileFeatures:["All Basic Plan features","Up to 50 customers","Customer segmentation","Advanced analytics","Team collaboration","Priority support"],link:"/features/business-plan"},{name:"Enterprise",price:399.99,description:"Complete AI-powered solution for large businesses",features:["AI-powered automation suite","Intelligent virtual assistant","Predictive analytics","Natural language processing","Automated follow-up system","AI revenue forecasting","Multi-language support","Enterprise-grade security","Dedicated success manager","Custom AI development"],mobileFeatures:["All Business Plan features","AI Virtual Assistant","Voice Collections","Smart Analytics","Custom AI Training","Dedicated Support"],highlightFeatures:[{icon:Bot,title:"AI Assistant",description:"Intelligent virtual assistant for customer interactions"},{icon:Phone,title:"Voice Collections",description:"Automated, AI-powered collection calls"},{icon:Brain,title:"Smart Analytics",description:"Predictive analysis and insights"}],link:"/features/enterprise-plan"}],PricingSection=()=>{const[Re,je]=reactExports.useState(null);return jsxRuntimeExports.jsxs("section",{className:"relative",children:[jsxRuntimeExports.jsxs("div",{className:"absolute inset-x-0 top-0 h-32 bg-gradient-to-b from-dark-900 to-transparent",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,rgba(99,102,241,0.15),rgba(99,102,241,0)_100%)]"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%236366f1' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,opacity:.5}})]}),jsxRuntimeExports.jsx("div",{className:"relative pt-32 pb-20 bg-dark-950",children:jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-16",children:[jsxRuntimeExports.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:"Simple, Transparent Pricing"}),jsxRuntimeExports.jsx("p",{className:"text-xl text-gray-400 max-w-2xl mx-auto",children:"Choose the plan that best fits your business needs. Premium plans coming soon!"})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:plans$1.map(_e=>jsxRuntimeExports.jsx(PricingCard,{plan:_e,isHovered:Re===_e.name,onHover:je},_e.name))}),jsxRuntimeExports.jsx("div",{className:"text-center mt-12",children:jsxRuntimeExports.jsxs("p",{className:"text-gray-400",children:["Need a custom solution?"," ",jsxRuntimeExports.jsx(Link,{to:"/contact",className:"text-primary-400 hover:text-primary-300",children:"Contact our sales team"})]})})]})})]})},responses={default:{text:"I'd be happy to help you learn more about CxTrack! We offer AI-powered business management solutions to help your business grow. What would you like to know?",options:["Tell me about your features","How much does it cost?","Can I try it for free?","Schedule a demo"]},features:{text:"CxTrack offers a comprehensive suite of business management tools powered by AI:",options:["Smart Invoicing & Collections","Customer Relationship Management","Inventory & Stock Management","AI Growth Partner Features"]},invoicing:{text:"Our smart invoicing system helps you create, send and track professional invoices:",options:["Automated Payment Reminders","Multiple Payment Options","Invoice Templates","See Pricing Plans"]},customers:{text:"Our CRM system helps you build stronger customer relationships:",options:["360 Customer View","Communication Tracking","Customer Analytics","Learn More"]},inventory:{text:"Keep track of your inventory in real-time:",options:["Stock Level Monitoring","Low Stock Alerts","Purchase Order Management","View Features"]},pricing:{text:"We offer flexible plans to suit your business needs, starting with a free plan:",options:["Free Plan (Basic features)","Basic Plan ($19.99/mo)","Business Plan ($99.99/mo)","Enterprise (Custom Pricing)"]},ai:{text:"Our AI Growth Partner technology transforms your business operations:",options:["Voice Collection Calls","Smart Payment Reminders","Customer Service Assistant","Learn More About AI"]},trial:{text:"Start with our free plan today - no credit card required! You'll get:",options:["Basic Invoicing Features","Up to 5 Customers","PDF Invoice Generation","Start Free Trial"]},demo:{text:"I'd be happy to arrange a personalized demo of CxTrack for you! Our demos cover:",options:["Schedule Demo","View Features","Talk to Sales","Start Free Trial"]},support:{text:"I'm here to help! How can I assist you today?",options:["Technical Support","Billing Questions","Feature Requests","Contact Sales Team"]}},INITIAL_GREETING={type:"bot",text:" Hey there! I'm your AI sales assistant. I noticed you're checking us out - pretty exciting stuff we've got here at CxTrack! What brings you by today? I'd love to help you find the perfect solution for your business. ",options:["Tell me about the AI features","How can this help my business?","What are the pricing plans?","I need help with invoicing"]},ChatBot=({isOpen:Re,onClose:je})=>{const[_e,Me]=reactExports.useState(!1),[$e,ke]=reactExports.useState([]),[Ce,Be]=reactExports.useState(""),[qe,He]=reactExports.useState(!1);reactExports.useState(!1);const We=reactExports.useRef(null),Ke=useNavigate(),Je=pr=>{const ur=pr.toLowerCase();try{if(ur.includes("ai")||ur.includes("automation")||ur.includes("robot")||ur.includes("assistant"))return responses.ai}catch(gr){return console.error("Error in AI response:",gr),{text:"I apologize, but I'm having technical difficulties at the moment. Please try again later or contact our support team.",options:["Contact Support","Try Again"]}}return ur.includes("price")||ur.includes("cost")||ur.includes("plan")||ur.includes("subscription")?responses.pricing:ur.includes("feature")||ur.includes("what can")||ur.includes("how does")||ur.includes("capabilities")?responses.features:ur.includes("invoice")||ur.includes("billing")||ur.includes("payment")?responses.invoicing:ur.includes("customer")||ur.includes("crm")||ur.includes("client")?responses.customers:ur.includes("inventory")||ur.includes("stock")||ur.includes("product")?responses.inventory:ur.includes("trial")||ur.includes("try")||ur.includes("free")||ur.includes("start")?responses.trial:ur.includes("demo")||ur.includes("show")||ur.includes("presentation")?responses.demo:ur.includes("help")||ur.includes("support")||ur.includes("question")?responses.support:responses.default};reactExports.useEffect(()=>{_e&&$e.length===0&&Qe()},[_e,$e.length]);const Qe=()=>{He(!0),setTimeout(()=>{ke([INITIAL_GREETING]),He(!1)},1e3)},rr=()=>{We.current?.scrollIntoView({behavior:"smooth"})};reactExports.useEffect(()=>{rr()},[$e]),reactExports.useEffect(()=>{Re!==void 0&&Me(Re)},[Re]);const tr=()=>{Me(!1),je&&je()},cr=async pr=>{He(!0);const ur=Math.min(Math.max(pr.text.length*50,1e3),3e3);await new Promise(gr=>setTimeout(gr,ur)),He(!1),ke(gr=>[...gr,pr])},or=async(pr=Ce)=>{if(pr.trim()){if(pr.toLowerCase().includes("schedule demo")||pr.toLowerCase().includes("schedule a demo")){Ke("/demo"),setShowChat(!1);return}ke(ur=>[...ur,{type:"user",text:pr}]),Be("");try{if(pr.toLowerCase().includes("free plan")||pr.toLowerCase().includes("try it for free")||pr.toLowerCase().includes("start free")){Ke("/register");return}if(pr.toLowerCase().includes("talk to sales")||pr.toLowerCase().includes("contact sales")){Ke("/contact");return}const ur=Je(pr);await cr(ur),ur.options?.includes("Schedule Now")&&(ur.options=ur.options.map(gr=>gr==="Schedule Now"?"Schedule Demo":gr))}catch(ur){console.error("Error handling message:",ur),await cr({type:"bot",text:"I apologize, but I'm having trouble right now. Please try again or contact our support team.",options:["Contact Support","Try Again"]})}}},ar=()=>{Me(!_e),!_e&&$e.length===0&&Qe()};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Re===void 0&&jsxRuntimeExports.jsx("button",{onClick:ar,className:"fixed bottom-4 right-4 bg-primary-600 text-white p-4 rounded-full shadow-lg hover:bg-primary-700 transition-colors z-50",children:_e?jsxRuntimeExports.jsx(X$1,{size:24}):jsxRuntimeExports.jsx(MessageSquare,{size:24})}),_e&&jsxRuntimeExports.jsxs("div",{className:"fixed bottom-20 right-4 w-96 bg-dark-800 rounded-lg shadow-xl border border-dark-700 z-50",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-dark-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx(Bot,{size:24,className:"text-primary-500 mr-2"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-white",children:"CxTrack Assistant"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400",children:"Online"})]})]}),jsxRuntimeExports.jsx("button",{onClick:tr,className:"text-gray-400 hover:text-white",children:jsxRuntimeExports.jsx(X$1,{size:20})})]}),jsxRuntimeExports.jsxs("div",{className:"h-96 overflow-y-auto p-4 space-y-4",children:[$e.map((pr,ur)=>jsxRuntimeExports.jsx("div",{className:`flex ${pr.type==="user"?"justify-end":"justify-start"}`,children:jsxRuntimeExports.jsxs("div",{className:`max-w-[80%] ${pr.type==="user"?"bg-primary-600 text-white rounded-l-lg rounded-tr-lg":"bg-dark-700 text-gray-100 rounded-r-lg rounded-tl-lg"} p-3`,children:[jsxRuntimeExports.jsx("p",{children:pr.text}),pr.options&&jsxRuntimeExports.jsx("div",{className:"mt-2 space-y-2",children:pr.options.map((gr,jr)=>jsxRuntimeExports.jsx("button",{onClick:()=>or(gr),className:"block w-full text-left px-3 py-2 rounded bg-dark-600 hover:bg-dark-500 transition-colors text-sm",children:gr},jr))})]})},ur)),qe&&jsxRuntimeExports.jsx("div",{className:"flex justify-start",children:jsxRuntimeExports.jsx("div",{className:"bg-dark-700 text-gray-100 rounded-r-lg rounded-tl-lg p-3",children:jsxRuntimeExports.jsxs("div",{className:"flex space-x-2",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})}),jsxRuntimeExports.jsx("div",{ref:We})]}),jsxRuntimeExports.jsx("div",{className:"p-4 border-t border-dark-700",children:jsxRuntimeExports.jsxs("form",{onSubmit:pr=>{pr.preventDefault(),or()},className:"flex space-x-2",children:[jsxRuntimeExports.jsx("input",{type:"text",value:Ce,onChange:pr=>Be(pr.target.value),placeholder:"Type your message...",className:"flex-1 bg-dark-700 text-white rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500"}),jsxRuntimeExports.jsx("button",{type:"submit",className:"bg-primary-600 text-white p-2 rounded-lg hover:bg-primary-700 transition-colors",children:jsxRuntimeExports.jsx(Send,{size:20})})]})})]})]})},FeatureCard=({icon:Re,title:je,description:_e,link:Me})=>jsxRuntimeExports.jsxs(Link,{to:Me,className:"feature-card bg-primary-800/30 p-4 rounded-lg hover:bg-primary-700/30 transition-all transform hover:scale-105 duration-300",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-lg bg-primary-500/20",children:jsxRuntimeExports.jsx(Re,{className:"text-primary-300",size:20})}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white",children:je})]}),jsxRuntimeExports.jsx("p",{className:"text-primary-200 text-sm",children:_e})]}),AuthLayout=()=>{const[Re,je]=reactExports.useState(!1),[_e,Me]=reactExports.useState(null),$e=reactExports.useRef(null),[ke,Ce]=reactExports.useState(!1),Be=reactExports.useRef({}),qe=Je=>{$e.current&&(clearTimeout($e.current),$e.current=null),Me(Je)},He=()=>{$e.current=setTimeout(()=>{Me(null)},300)};reactExports.useEffect(()=>()=>{$e.current&&clearTimeout($e.current)},[]);const We={product:[{label:"AI Agent",href:"/products/ai-agent"},{label:"AI Workforce",href:"/products/ai-workforce"},{label:"AI Tools",href:"/products/ai-tools"},{label:"CRM",href:"/products/crm"}],function:[{label:"Sales",href:"/function/sales"},{label:"Marketing",href:"/function/marketing"},{label:"Customer Support",href:"/function/customer-support"},{label:"Research",href:"/function/research"},{label:"Operations",href:"/function/operations"}],agents:[{label:"AI BDR Agent",href:"/agents/bdr"},{label:"Lifecycle Marketer",href:"/agents/marketer"},{label:"Account Researcher",href:"/agents/researcher"},{label:"CRM Enrichment",href:"/agents/crm"},{label:"Inbound Qualification",href:"/agents/qualification"},{label:"SEO",href:"/agents/seo"},{label:"Inbox Manager",href:"/agents/inbox"}],enterprise:[{label:"Solutions",href:"/enterprise/solutions",icon:Building},{label:"Security",href:"/enterprise/security",icon:Shield},{label:"Custom Development",href:"/enterprise/custom",icon:Code}],pricing:[{label:"Plans & Features",href:"/pricing",icon:DollarSign},{label:"Compare Plans",href:"/pricing/compare",icon:ListChecks},{label:"Enterprise Pricing",href:"/pricing/enterprise",icon:Building},{label:"Contact Sales",href:"/contact",icon:Phone}],about:[{label:"Our Story",href:"/about",icon:History},{label:"Team",href:"/about/team",icon:UsersRound},{label:"Contact",href:"/contact",icon:Phone},{label:"Careers",href:"/careers",icon:Heart},{label:"Regional Availability",href:"/gdpr",icon:Info}]};reactExports.useEffect(()=>{const Je=new IntersectionObserver(Qe=>{Qe.forEach(rr=>{rr.isIntersecting&&rr.target.classList.add("animate")})},{threshold:.2,rootMargin:"50px"});return document.querySelectorAll(".feature-section").forEach(Qe=>{Je.observe(Qe)}),()=>Je.disconnect()},[]),reactExports.useEffect(()=>{const Je=new IntersectionObserver(Qe=>{Qe.forEach(rr=>{rr.isIntersecting&&rr.target.classList.add("animate")})},{threshold:.2,rootMargin:"50px"});return document.querySelectorAll(".feature-section").forEach(Qe=>{Je.observe(Qe)}),()=>Je.disconnect()},[]);const Ke=[{id:"expenses",title:"Smart Expense Management",description:"Effortlessly track and manage expenses with AI-powered receipt scanning.",icon:DollarSign,color:"emerald",benefits:["Instant receipt scanning & data extraction","Drag & drop document processing","Mobile camera integration","Automatic expense categorization","Real-time data validation","Smart expense analytics"],image:null,link:"/features/expenses"},{id:"invoicing",title:"Smart Invoicing",description:"Create and manage professional invoices with automated payment tracking and reminders.",icon:FileText,color:"blue",benefits:["Professional invoice templates","Automated payment reminders","Online payment processing","Recurring billing automation","Real-time payment tracking","Multi-currency support"],image:"https://images.unsplash.com/photo-1554224155-6726b3ff858f?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=800&q=80",link:"/features/invoicing"},{id:"crm",title:"CRM System",description:"Build stronger customer relationships with our comprehensive CRM solution.",icon:Users,color:"purple",benefits:["360 customer view","Interaction tracking","Sales pipeline management","Customer segmentation","Communication history","Custom fields & tags"],image:"https://images.unsplash.com/photo-1552581234-26160f608093?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=800&q=80",link:"/features/customer-management"},{id:"calendar",title:"Calendar Integration",description:"Stay on top of important dates with our smart calendar system.",icon:Calendar$2,color:"green",benefits:["Invoice due date tracking","Payment schedules","Task management","Holiday awareness","Event reminders","Multi-timezone support"],image:"https://images.unsplash.com/photo-1506784693919-ef06d93c28d2?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=800&q=80",link:"/features/calendar"},{id:"quotes",title:"Professional Quote Management",description:"Create, send, and track professional quotes to win more business.",icon:FileText,color:"amber",benefits:["Beautiful quote templates","Quick quote generation","Automated follow-ups","Quote approval workflow","Convert quotes to invoices","Quote analytics & tracking"],image:"https://vmeomnmgqatezjqsrapj.supabase.co/storage/v1/object/public/public/images/quote-preview.jpg",link:"/features/quotes"},{id:"ai",title:"AI-Powered Automation",description:"Let our intelligent AI agents handle your routine tasks and communications.",icon:Bot,color:"indigo",benefits:["Automated collections","Smart payment reminders","Customer service AI","Voice call automation","Sentiment analysis","Predictive analytics"],image:"https://images.unsplash.com/photo-1677442136019-21780ecad995?auto=format&fit=crop&w=800&q=80",link:"/features/ai-growth-partner"}];return jsxRuntimeExports.jsxs("div",{className:"min-h-screen flex flex-col",children:[jsxRuntimeExports.jsx("nav",{className:"fixed top-0 left-0 right-0 z-[100] bg-gradient-to-r from-primary-900/95 to-primary-800/95 backdrop-blur-sm border-b border-primary-800/50",children:jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4 py-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between relative",children:[jsxRuntimeExports.jsxs(Link,{to:"/",className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("img",{src:"/logo.svg",alt:"CxTrack Logo",className:"h-8 w-8 logo-glow"}),jsxRuntimeExports.jsx("span",{className:"brand-logo text-xl font-bold text-white brand-text",children:"CxTrack"})]}),jsxRuntimeExports.jsx("button",{className:"lg:hidden text-white p-2 hover:bg-primary-800/50 rounded-lg",onClick:()=>Ce(!ke),children:ke?jsxRuntimeExports.jsx(X$1,{size:24}):jsxRuntimeExports.jsx(Menu,{size:24})}),jsxRuntimeExports.jsxs("div",{className:"hidden lg:flex items-center justify-center space-x-6",children:[Object.entries(We).map(([Je,Qe])=>Je!=="enterprise"&&Je!=="pricing"&&Je!=="blog"&&Je!=="about"&&jsxRuntimeExports.jsxs("div",{className:"relative",ref:rr=>Be.current[Je]=rr,onMouseEnter:()=>qe(Je),onMouseLeave:He,children:[jsxRuntimeExports.jsxs("button",{className:"flex items-center space-x-1 text-gray-100 hover:text-white group-hover:text-white transition-all duration-200 ease-in-out",children:[Je==="product"&&jsxRuntimeExports.jsx(FileText,{size:18,className:"mr-1"}),Je==="function"&&jsxRuntimeExports.jsx(Users,{size:18,className:"mr-1"}),Je==="agents"&&jsxRuntimeExports.jsx(Bot,{size:18,className:"mr-1"}),jsxRuntimeExports.jsx("span",{className:"capitalize",children:Je}),jsxRuntimeExports.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`transform transition-transform duration-200 ease-in-out ${_e===Je?"rotate-180":""}`,children:jsxRuntimeExports.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),jsxRuntimeExports.jsx("div",{className:`absolute left-1/2 transform -translate-x-1/2 mt-0.5 pt-2 w-56 transition-all duration-200 ease-in-out ${_e===Je?"opacity-100 translate-y-0":"opacity-0 -translate-y-2 pointer-events-none"}`,children:jsxRuntimeExports.jsx("div",{className:"bg-dark-800/95 backdrop-blur-sm rounded-lg shadow-lg border border-dark-700 overflow-hidden",children:Qe.map((rr,tr)=>jsxRuntimeExports.jsx(Link,{to:rr.href,className:"block px-4 py-2.5 text-gray-300 hover:bg-dark-700/50 hover:text-white transition-all duration-200 ease-in-out cursor-pointer",onClick:()=>Me(null),children:rr.label},tr))})})]},Je)),jsxRuntimeExports.jsxs("div",{className:"relative",onMouseEnter:()=>qe("enterprise"),onMouseLeave:He,children:[jsxRuntimeExports.jsxs("button",{className:"flex items-center space-x-1 text-gray-100 hover:text-white group-hover:text-white transition-all duration-200 ease-in-out",children:[jsxRuntimeExports.jsx(Building,{size:18,className:"mr-1"}),jsxRuntimeExports.jsx("span",{children:"Enterprise"}),jsxRuntimeExports.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`transform transition-transform duration-200 ${_e==="enterprise"?"rotate-180":""}`,children:jsxRuntimeExports.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),jsxRuntimeExports.jsx("div",{className:`absolute left-1/2 transform -translate-x-1/2 mt-0.5 pt-2 w-48 transition-all duration-200 ease-in-out ${_e==="enterprise"?"opacity-100 translate-y-0":"opacity-0 -translate-y-2 pointer-events-none"}`,onMouseEnter:()=>qe("enterprise"),onMouseLeave:He,children:jsxRuntimeExports.jsx("div",{className:"bg-dark-800/95 backdrop-blur-sm rounded-lg shadow-lg border border-dark-700 overflow-hidden",children:We.enterprise.map((Je,Qe)=>jsxRuntimeExports.jsxs(Link,{to:Je.href,className:"flex items-center px-4 py-2.5 text-gray-300 hover:bg-dark-700/50 hover:text-white transition-all duration-200 ease-in-out cursor-pointer",children:[jsxRuntimeExports.jsx(Je.icon,{size:16,className:"mr-2"}),Je.label]},Qe))})})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center",children:jsxRuntimeExports.jsxs(Link,{to:"/pricing/compare",className:"flex items-center space-x-1 text-gray-100 hover:text-white group-hover:text-white transition-all duration-200 ease-in-out",children:[jsxRuntimeExports.jsx(DollarSign,{size:18,className:"mr-1"}),jsxRuntimeExports.jsx("span",{children:"Pricing"})]})})]}),jsxRuntimeExports.jsxs("div",{className:"hidden lg:flex items-center space-x-4",children:[jsxRuntimeExports.jsxs(Link,{to:"/login",className:"btn btn-secondary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(LogIn,{size:16}),jsxRuntimeExports.jsx("span",{children:"Sign In"})]}),jsxRuntimeExports.jsxs(Link,{to:"/register",className:"btn btn-primary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(UserPlus,{size:16}),jsxRuntimeExports.jsx("span",{children:"Sign Up"})]})]}),ke&&jsxRuntimeExports.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-dark-800/95 backdrop-blur-sm border-t border-dark-700 lg:hidden",children:jsxRuntimeExports.jsxs("div",{className:"py-4 px-4 space-y-4",children:[Object.entries(We).map(([Je,Qe])=>jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>Me(_e===Je?null:Je),className:"w-full flex items-center justify-between text-gray-100 hover:text-white py-2",children:[jsxRuntimeExports.jsx("span",{className:"capitalize",children:Je}),jsxRuntimeExports.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`transform transition-transform duration-200 ${_e===Je?"rotate-180":""}`,children:jsxRuntimeExports.jsx("polyline",{points:"6 9 12 15 18 9"})})]},Je),_e===Je&&jsxRuntimeExports.jsx("div",{className:"pl-4 space-y-2",children:Qe.map((rr,tr)=>jsxRuntimeExports.jsx(Link,{to:rr.href,className:"block text-gray-300 hover:text-white py-2",onClick:()=>{Me(null),Ce(!1)},children:rr.label},tr))})]},Je)),jsxRuntimeExports.jsxs("div",{className:"pt-4 border-t border-dark-700 space-y-2",children:[jsxRuntimeExports.jsxs(Link,{to:"/login",className:"w-full btn btn-secondary flex items-center justify-center space-x-2",onClick:()=>Ce(!1),children:[jsxRuntimeExports.jsx(LogIn,{size:16}),jsxRuntimeExports.jsx("span",{children:"Sign In"})]}),jsxRuntimeExports.jsxs(Link,{to:"/register",className:"w-full btn btn-primary flex items-center justify-center space-x-2",onClick:()=>Ce(!1),children:[jsxRuntimeExports.jsx(UserPlus,{size:16}),jsxRuntimeExports.jsx("span",{children:"Sign Up"})]})]})]})})]})})}),jsxRuntimeExports.jsxs("div",{className:"relative bg-primary-900 overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top_right,rgba(99,102,241,0.15),transparent_50%)]"}),jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-6 pt-20 pb-24",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center md:justify-start mb-8",children:[jsxRuntimeExports.jsx("img",{src:"/logo.svg",alt:"CxTrack Logo",className:"h-16 w-16 logo-glow mr-4"}),jsxRuntimeExports.jsx("h1",{className:"brand-logo text-5xl font-bold text-white brand-text",children:"CxTrack"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-white mb-6",children:"Transform Your Business with AI-Powered Automation"}),jsxRuntimeExports.jsx("p",{className:"text-xl text-primary-200 mb-8",children:"Streamline operations, boost sales, and deliver exceptional customer service with our integrated CRM platform and intelligent AI agents."}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-4 mb-12",children:[jsxRuntimeExports.jsx(Link,{to:"/register",className:"btn btn-primary bg-white text-primary-900 hover:bg-gray-100 px-8 py-3 rounded-lg text-lg transform transition-transform duration-300",children:"Start Free"}),jsxRuntimeExports.jsx(Link,{to:"/demo",className:"btn btn-secondary border-2 border-white text-white px-8 py-3 rounded-lg text-lg hover:bg-white/10 transform transition-transform duration-300",children:"Schedule Demo"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx(FeatureCard,{icon:Bot,title:"AI Agents",description:"24/7 intelligent sales & support",link:"/features/ai-growth-partner"}),jsxRuntimeExports.jsx(FeatureCard,{icon:FileText,title:"Smart Invoicing",description:"Automated billing & tracking",link:"/features/invoicing"}),jsxRuntimeExports.jsx(FeatureCard,{icon:Users,title:"CRM System",description:"Customer insights & automation",link:"/features/customer-management"}),jsxRuntimeExports.jsx(FeatureCard,{icon:Package,title:"Inventory",description:"Real-time stock management",link:"/features/inventory-tracking"}),jsxRuntimeExports.jsx(FeatureCard,{icon:DollarSign,title:"Expenses",description:"AI-powered receipt scanning",link:"/features/expenses"}),jsxRuntimeExports.jsx(FeatureCard,{icon:FileText,title:"Quotes",description:"Professional quote management",link:"/features/quotes"})]})]}),jsxRuntimeExports.jsxs("div",{className:"relative hidden md:block",children:[jsxRuntimeExports.jsx("img",{src:"https://images.unsplash.com/photo-1460925895917-afdab827c52f?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=800&q=80",alt:"Dashboard Preview",className:"rounded-lg shadow-2xl"}),jsxRuntimeExports.jsx("div",{className:"absolute -bottom-4 -right-4 bg-primary-800 p-4 rounded-lg shadow-xl cursor-pointer hover:bg-primary-700 transition-colors group",onClick:()=>je(!0),role:"button",tabIndex:0,"aria-label":"Chat with AI Agent",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Bot,{className:"text-primary-400 group-hover:text-primary-300",size:24}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-white font-semibold group-hover:text-primary-50",children:"AI Agent Active"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-primary-300 group-hover:text-primary-200",children:"Click to chat with me"})]})]})})]})]})]})]}),Ke.map((Je,Qe)=>jsxRuntimeExports.jsx("section",{className:`feature-section py-24 ${Qe%2===0?"bg-dark-950":"bg-dark-900"}`,children:jsxRuntimeExports.jsx("div",{className:"container mx-auto px-6",children:jsxRuntimeExports.jsx("div",{className:`grid grid-cols-1 lg:grid-cols-2 gap-12 items-center ${Qe%2===0?"":"lg:flex-row-reverse"}`,children:Qe%2===0?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"feature-content space-y-8",children:[jsxRuntimeExports.jsx("div",{className:`inline-flex items-center justify-center p-3 rounded-lg bg-${Je.color}-500/20`,children:jsxRuntimeExports.jsx(Je.icon,{className:`h-8 w-8 text-${Je.color}-400`})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:Je.title}),jsxRuntimeExports.jsx("p",{className:"text-xl text-gray-400 mb-8",children:Je.description}),jsxRuntimeExports.jsx("ul",{className:"space-y-4",children:Je.benefits.map((rr,tr)=>jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(Check,{className:"text-primary-500 mt-1 mr-3",size:20}),jsxRuntimeExports.jsx("span",{className:"text-gray-300",children:rr})]},tr))})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsxs(Link,{to:Je.link,className:"btn btn-primary flex items-center space-x-2",children:["Learn More",jsxRuntimeExports.jsx(ArrowRight,{size:16})]}),jsxRuntimeExports.jsx(Link,{to:"/register",className:"btn btn-secondary",children:"Try It Free"})]})]}),jsxRuntimeExports.jsx("div",{className:"feature-image-container",children:Je.id==="expenses"?jsxRuntimeExports.jsxs("div",{className:"relative bg-dark-800 rounded-lg p-8 border-2 border-dashed border-dark-600 hover:border-primary-500 transition-colors",children:[jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx(DollarSign,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Drag and Drop Receipts"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 mb-6",children:"Drop your receipts here or use your device's camera"}),jsxRuntimeExports.jsxs("div",{className:"flex justify-center space-x-4",children:[jsxRuntimeExports.jsx("button",{className:"btn btn-primary",children:"Take a Photo"}),jsxRuntimeExports.jsx("button",{className:"btn btn-secondary",children:"Browse Files"})]})]}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none opacity-0 hover:opacity-100 transition-opacity bg-primary-900/50 rounded-lg",children:jsxRuntimeExports.jsx("div",{className:"text-white text-xl font-medium",children:"Drop your files here"})})]}):jsxRuntimeExports.jsx("img",{src:Je.image,alt:Je.title,className:"feature-image rounded-lg shadow-xl"})})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"feature-image-container",children:jsxRuntimeExports.jsx("img",{src:Je.image,alt:Je.title,className:"feature-image rounded-lg shadow-xl"})}),jsxRuntimeExports.jsxs("div",{className:"feature-content space-y-8",children:[jsxRuntimeExports.jsx("div",{className:`inline-flex items-center justify-center p-3 rounded-lg bg-${Je.color}-500/20`,children:jsxRuntimeExports.jsx(Je.icon,{className:`h-8 w-8 text-${Je.color}-400`})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:Je.title}),jsxRuntimeExports.jsx("p",{className:"text-xl text-gray-400 mb-8",children:Je.description}),jsxRuntimeExports.jsx("ul",{className:"space-y-4",children:Je.benefits.map((rr,tr)=>jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(Check,{className:"text-primary-500 mt-1 mr-3",size:20}),jsxRuntimeExports.jsx("span",{className:"text-gray-300",children:rr})]},tr))})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsxs(Link,{to:Je.link,className:"btn btn-primary flex items-center space-x-2",children:["Learn More",jsxRuntimeExports.jsx(ArrowRight,{size:16})]}),jsxRuntimeExports.jsx(Link,{to:"/register",className:"btn btn-secondary",children:"Try It Free"})]})]})]})})})},Je.id)),jsxRuntimeExports.jsx(PricingSection,{}),jsxRuntimeExports.jsx(ChatBot,{isOpen:Re,onClose:()=>je(!1)})]})},userService={async getUsers(){try{const{data:Re}=await supabase.auth.getUser();if(!Re?.user)throw new Error("User not authenticated");const{data:je,error:_e}=await supabase.from("admin_user_view").select("*");if(_e)throw console.error("Error fetching users:",_e),_e;return je||[]}catch(Re){throw console.error("User service error:",Re),Re}}},useNotificationStore=create((Re,je)=>({notifications:[],unreadCount:0,loading:!1,error:null,clearError:()=>Re({error:null}),notifyUser:async(_e,Me,$e)=>{const{data:ke}=await supabase.auth.getUser();if(!ke?.user)throw new Error("User not authenticated");const{error:Ce}=await supabase.from("notifications").insert([{user_id:$e,title:_e,message:Me,type:"success"}]);if(Ce)throw console.error("Error inserting notification:",Ce),Ce},notifyAll:async(_e,Me)=>{const{data:$e}=await supabase.auth.getUser();if(!$e?.user)throw new Error("User not authenticated");const ke=await userService.getUsers();for(let Ce=0;Ce<ke.length;Ce++){const Be=ke[Ce],{error:qe}=await supabase.from("notifications").insert([{user_id:Be.user_id,title:_e,message:Me,type:"success"}]);if(qe)throw console.error("Error inserting notification:",qe),qe}},fetchNotifications:async()=>{Re({loading:!0,error:null});try{const{data:_e,error:Me}=await supabase.from("notifications").select("*").order("created_at",{ascending:!1});if(Me)throw Me;const $e=_e||[],ke=$e.filter(Ce=>!Ce.read).length;Re({notifications:$e,unreadCount:ke,loading:!1})}catch(_e){console.error("Error fetching notifications:",_e),Re({error:_e.message||"Failed to fetch notifications",loading:!1})}},markAsRead:async _e=>{try{const{error:Me}=await supabase.from("notifications").update({read:!0}).eq("id",_e);if(Me)throw Me;const $e=je().notifications.map(ke=>ke.id===_e?{...ke,read:!0}:ke);Re({notifications:$e,unreadCount:$e.filter(ke=>!ke.read).length})}catch(Me){console.error("Error marking notification as read:",Me),c$1.error("Failed to mark notification as read")}},markAllAsRead:async()=>{try{const{error:_e}=await supabase.from("notifications").update({read:!0}).eq("read",!1);if(_e)throw _e;const Me=je().notifications.map($e=>({...$e,read:!0}));Re({notifications:Me,unreadCount:0}),c$1.success("All notifications marked as read")}catch(_e){console.error("Error marking all notifications as read:",_e),c$1.error("Failed to mark all notifications as read")}}}));function toDate(Re){const je=Object.prototype.toString.call(Re);return Re instanceof Date||typeof Re=="object"&&je==="[object Date]"?new Re.constructor(+Re):typeof Re=="number"||je==="[object Number]"||typeof Re=="string"||je==="[object String]"?new Date(Re):new Date(NaN)}function constructFrom(Re,je){return Re instanceof Date?new Re.constructor(je):new Date(je)}function addDays(Re,je){const _e=toDate(Re);return isNaN(je)?constructFrom(Re,NaN):(je&&_e.setDate(_e.getDate()+je),_e)}const millisecondsInWeek=6048e5,millisecondsInDay=864e5,millisecondsInMinute=6e4,millisecondsInHour=36e5,millisecondsInSecond=1e3;let defaultOptions$4={};function getDefaultOptions$1(){return defaultOptions$4}function startOfWeek(Re,je){const _e=getDefaultOptions$1(),Me=je?.weekStartsOn??je?.locale?.options?.weekStartsOn??_e.weekStartsOn??_e.locale?.options?.weekStartsOn??0,$e=toDate(Re),ke=$e.getDay(),Ce=(ke<Me?7:0)+ke-Me;return $e.setDate($e.getDate()-Ce),$e.setHours(0,0,0,0),$e}function startOfISOWeek(Re){return startOfWeek(Re,{weekStartsOn:1})}function getISOWeekYear(Re){const je=toDate(Re),_e=je.getFullYear(),Me=constructFrom(Re,0);Me.setFullYear(_e+1,0,4),Me.setHours(0,0,0,0);const $e=startOfISOWeek(Me),ke=constructFrom(Re,0);ke.setFullYear(_e,0,4),ke.setHours(0,0,0,0);const Ce=startOfISOWeek(ke);return je.getTime()>=$e.getTime()?_e+1:je.getTime()>=Ce.getTime()?_e:_e-1}function startOfDay(Re){const je=toDate(Re);return je.setHours(0,0,0,0),je}function getTimezoneOffsetInMilliseconds(Re){const je=toDate(Re),_e=new Date(Date.UTC(je.getFullYear(),je.getMonth(),je.getDate(),je.getHours(),je.getMinutes(),je.getSeconds(),je.getMilliseconds()));return _e.setUTCFullYear(je.getFullYear()),+Re-+_e}function differenceInCalendarDays(Re,je){const _e=startOfDay(Re),Me=startOfDay(je),$e=+_e-getTimezoneOffsetInMilliseconds(_e),ke=+Me-getTimezoneOffsetInMilliseconds(Me);return Math.round(($e-ke)/millisecondsInDay)}function startOfISOWeekYear(Re){const je=getISOWeekYear(Re),_e=constructFrom(Re,0);return _e.setFullYear(je,0,4),_e.setHours(0,0,0,0),startOfISOWeek(_e)}function isDate$1(Re){return Re instanceof Date||typeof Re=="object"&&Object.prototype.toString.call(Re)==="[object Date]"}function isValid(Re){if(!isDate$1(Re)&&typeof Re!="number")return!1;const je=toDate(Re);return!isNaN(Number(je))}function startOfYear(Re){const je=toDate(Re),_e=constructFrom(Re,0);return _e.setFullYear(je.getFullYear(),0,1),_e.setHours(0,0,0,0),_e}const formatDistanceLocale={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},formatDistance=(Re,je,_e)=>{let Me;const $e=formatDistanceLocale[Re];return typeof $e=="string"?Me=$e:je===1?Me=$e.one:Me=$e.other.replace("{{count}}",je.toString()),_e?.addSuffix?_e.comparison&&_e.comparison>0?"in "+Me:Me+" ago":Me};function buildFormatLongFn(Re){return(je={})=>{const _e=je.width?String(je.width):Re.defaultWidth;return Re.formats[_e]||Re.formats[Re.defaultWidth]}}const dateFormats={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},timeFormats={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},formatLong={date:buildFormatLongFn({formats:dateFormats,defaultWidth:"full"}),time:buildFormatLongFn({formats:timeFormats,defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:dateTimeFormats,defaultWidth:"full"})},formatRelativeLocale={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},formatRelative=(Re,je,_e,Me)=>formatRelativeLocale[Re];function buildLocalizeFn(Re){return(je,_e)=>{const Me=_e?.context?String(_e.context):"standalone";let $e;if(Me==="formatting"&&Re.formattingValues){const Ce=Re.defaultFormattingWidth||Re.defaultWidth,Be=_e?.width?String(_e.width):Ce;$e=Re.formattingValues[Be]||Re.formattingValues[Ce]}else{const Ce=Re.defaultWidth,Be=_e?.width?String(_e.width):Re.defaultWidth;$e=Re.values[Be]||Re.values[Ce]}const ke=Re.argumentCallback?Re.argumentCallback(je):je;return $e[ke]}}const eraValues={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},quarterValues={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},monthValues={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dayValues={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},formattingDayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ordinalNumber=(Re,je)=>{const _e=Number(Re),Me=_e%100;if(Me>20||Me<10)switch(Me%10){case 1:return _e+"st";case 2:return _e+"nd";case 3:return _e+"rd"}return _e+"th"},localize={ordinalNumber,era:buildLocalizeFn({values:eraValues,defaultWidth:"wide"}),quarter:buildLocalizeFn({values:quarterValues,defaultWidth:"wide",argumentCallback:Re=>Re-1}),month:buildLocalizeFn({values:monthValues,defaultWidth:"wide"}),day:buildLocalizeFn({values:dayValues,defaultWidth:"wide"}),dayPeriod:buildLocalizeFn({values:dayPeriodValues,defaultWidth:"wide",formattingValues:formattingDayPeriodValues,defaultFormattingWidth:"wide"})};function buildMatchFn(Re){return(je,_e={})=>{const Me=_e.width,$e=Me&&Re.matchPatterns[Me]||Re.matchPatterns[Re.defaultMatchWidth],ke=je.match($e);if(!ke)return null;const Ce=ke[0],Be=Me&&Re.parsePatterns[Me]||Re.parsePatterns[Re.defaultParseWidth],qe=Array.isArray(Be)?findIndex$2(Be,Ke=>Ke.test(Ce)):findKey(Be,Ke=>Ke.test(Ce));let He;He=Re.valueCallback?Re.valueCallback(qe):qe,He=_e.valueCallback?_e.valueCallback(He):He;const We=je.slice(Ce.length);return{value:He,rest:We}}}function findKey(Re,je){for(const _e in Re)if(Object.prototype.hasOwnProperty.call(Re,_e)&&je(Re[_e]))return _e}function findIndex$2(Re,je){for(let _e=0;_e<Re.length;_e++)if(je(Re[_e]))return _e}function buildMatchPatternFn(Re){return(je,_e={})=>{const Me=je.match(Re.matchPattern);if(!Me)return null;const $e=Me[0],ke=je.match(Re.parsePattern);if(!ke)return null;let Ce=Re.valueCallback?Re.valueCallback(ke[0]):ke[0];Ce=_e.valueCallback?_e.valueCallback(Ce):Ce;const Be=je.slice($e.length);return{value:Ce,rest:Be}}}const matchOrdinalNumberPattern=/^(\d+)(th|st|nd|rd)?/i,parseOrdinalNumberPattern=/\d+/i,matchEraPatterns={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},parseEraPatterns={any:[/^b/i,/^(a|c)/i]},matchQuarterPatterns={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},parseQuarterPatterns={any:[/1/i,/2/i,/3/i,/4/i]},matchMonthPatterns={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},parseMonthPatterns={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},matchDayPatterns={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},parseDayPatterns={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},matchDayPeriodPatterns={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},parseDayPeriodPatterns={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},match={ordinalNumber:buildMatchPatternFn({matchPattern:matchOrdinalNumberPattern,parsePattern:parseOrdinalNumberPattern,valueCallback:Re=>parseInt(Re,10)}),era:buildMatchFn({matchPatterns:matchEraPatterns,defaultMatchWidth:"wide",parsePatterns:parseEraPatterns,defaultParseWidth:"any"}),quarter:buildMatchFn({matchPatterns:matchQuarterPatterns,defaultMatchWidth:"wide",parsePatterns:parseQuarterPatterns,defaultParseWidth:"any",valueCallback:Re=>Re+1}),month:buildMatchFn({matchPatterns:matchMonthPatterns,defaultMatchWidth:"wide",parsePatterns:parseMonthPatterns,defaultParseWidth:"any"}),day:buildMatchFn({matchPatterns:matchDayPatterns,defaultMatchWidth:"wide",parsePatterns:parseDayPatterns,defaultParseWidth:"any"}),dayPeriod:buildMatchFn({matchPatterns:matchDayPeriodPatterns,defaultMatchWidth:"any",parsePatterns:parseDayPeriodPatterns,defaultParseWidth:"any"})},enUS={code:"en-US",formatDistance,formatLong,formatRelative,localize,match,options:{weekStartsOn:0,firstWeekContainsDate:1}};function getDayOfYear(Re){const je=toDate(Re);return differenceInCalendarDays(je,startOfYear(je))+1}function getISOWeek(Re){const je=toDate(Re),_e=+startOfISOWeek(je)-+startOfISOWeekYear(je);return Math.round(_e/millisecondsInWeek)+1}function getWeekYear(Re,je){const _e=toDate(Re),Me=_e.getFullYear(),$e=getDefaultOptions$1(),ke=je?.firstWeekContainsDate??je?.locale?.options?.firstWeekContainsDate??$e.firstWeekContainsDate??$e.locale?.options?.firstWeekContainsDate??1,Ce=constructFrom(Re,0);Ce.setFullYear(Me+1,0,ke),Ce.setHours(0,0,0,0);const Be=startOfWeek(Ce,je),qe=constructFrom(Re,0);qe.setFullYear(Me,0,ke),qe.setHours(0,0,0,0);const He=startOfWeek(qe,je);return _e.getTime()>=Be.getTime()?Me+1:_e.getTime()>=He.getTime()?Me:Me-1}function startOfWeekYear(Re,je){const _e=getDefaultOptions$1(),Me=je?.firstWeekContainsDate??je?.locale?.options?.firstWeekContainsDate??_e.firstWeekContainsDate??_e.locale?.options?.firstWeekContainsDate??1,$e=getWeekYear(Re,je),ke=constructFrom(Re,0);return ke.setFullYear($e,0,Me),ke.setHours(0,0,0,0),startOfWeek(ke,je)}function getWeek(Re,je){const _e=toDate(Re),Me=+startOfWeek(_e,je)-+startOfWeekYear(_e,je);return Math.round(Me/millisecondsInWeek)+1}function addLeadingZeros(Re,je){const _e=Re<0?"-":"",Me=Math.abs(Re).toString().padStart(je,"0");return _e+Me}const lightFormatters={y(Re,je){const _e=Re.getFullYear(),Me=_e>0?_e:1-_e;return addLeadingZeros(je==="yy"?Me%100:Me,je.length)},M(Re,je){const _e=Re.getMonth();return je==="M"?String(_e+1):addLeadingZeros(_e+1,2)},d(Re,je){return addLeadingZeros(Re.getDate(),je.length)},a(Re,je){const _e=Re.getHours()/12>=1?"pm":"am";switch(je){case"a":case"aa":return _e.toUpperCase();case"aaa":return _e;case"aaaaa":return _e[0];case"aaaa":default:return _e==="am"?"a.m.":"p.m."}},h(Re,je){return addLeadingZeros(Re.getHours()%12||12,je.length)},H(Re,je){return addLeadingZeros(Re.getHours(),je.length)},m(Re,je){return addLeadingZeros(Re.getMinutes(),je.length)},s(Re,je){return addLeadingZeros(Re.getSeconds(),je.length)},S(Re,je){const _e=je.length,Me=Re.getMilliseconds(),$e=Math.trunc(Me*Math.pow(10,_e-3));return addLeadingZeros($e,je.length)}},dayPeriodEnum={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},formatters$2={G:function(Re,je,_e){const Me=Re.getFullYear()>0?1:0;switch(je){case"G":case"GG":case"GGG":return _e.era(Me,{width:"abbreviated"});case"GGGGG":return _e.era(Me,{width:"narrow"});case"GGGG":default:return _e.era(Me,{width:"wide"})}},y:function(Re,je,_e){if(je==="yo"){const Me=Re.getFullYear(),$e=Me>0?Me:1-Me;return _e.ordinalNumber($e,{unit:"year"})}return lightFormatters.y(Re,je)},Y:function(Re,je,_e,Me){const $e=getWeekYear(Re,Me),ke=$e>0?$e:1-$e;if(je==="YY"){const Ce=ke%100;return addLeadingZeros(Ce,2)}return je==="Yo"?_e.ordinalNumber(ke,{unit:"year"}):addLeadingZeros(ke,je.length)},R:function(Re,je){const _e=getISOWeekYear(Re);return addLeadingZeros(_e,je.length)},u:function(Re,je){const _e=Re.getFullYear();return addLeadingZeros(_e,je.length)},Q:function(Re,je,_e){const Me=Math.ceil((Re.getMonth()+1)/3);switch(je){case"Q":return String(Me);case"QQ":return addLeadingZeros(Me,2);case"Qo":return _e.ordinalNumber(Me,{unit:"quarter"});case"QQQ":return _e.quarter(Me,{width:"abbreviated",context:"formatting"});case"QQQQQ":return _e.quarter(Me,{width:"narrow",context:"formatting"});case"QQQQ":default:return _e.quarter(Me,{width:"wide",context:"formatting"})}},q:function(Re,je,_e){const Me=Math.ceil((Re.getMonth()+1)/3);switch(je){case"q":return String(Me);case"qq":return addLeadingZeros(Me,2);case"qo":return _e.ordinalNumber(Me,{unit:"quarter"});case"qqq":return _e.quarter(Me,{width:"abbreviated",context:"standalone"});case"qqqqq":return _e.quarter(Me,{width:"narrow",context:"standalone"});case"qqqq":default:return _e.quarter(Me,{width:"wide",context:"standalone"})}},M:function(Re,je,_e){const Me=Re.getMonth();switch(je){case"M":case"MM":return lightFormatters.M(Re,je);case"Mo":return _e.ordinalNumber(Me+1,{unit:"month"});case"MMM":return _e.month(Me,{width:"abbreviated",context:"formatting"});case"MMMMM":return _e.month(Me,{width:"narrow",context:"formatting"});case"MMMM":default:return _e.month(Me,{width:"wide",context:"formatting"})}},L:function(Re,je,_e){const Me=Re.getMonth();switch(je){case"L":return String(Me+1);case"LL":return addLeadingZeros(Me+1,2);case"Lo":return _e.ordinalNumber(Me+1,{unit:"month"});case"LLL":return _e.month(Me,{width:"abbreviated",context:"standalone"});case"LLLLL":return _e.month(Me,{width:"narrow",context:"standalone"});case"LLLL":default:return _e.month(Me,{width:"wide",context:"standalone"})}},w:function(Re,je,_e,Me){const $e=getWeek(Re,Me);return je==="wo"?_e.ordinalNumber($e,{unit:"week"}):addLeadingZeros($e,je.length)},I:function(Re,je,_e){const Me=getISOWeek(Re);return je==="Io"?_e.ordinalNumber(Me,{unit:"week"}):addLeadingZeros(Me,je.length)},d:function(Re,je,_e){return je==="do"?_e.ordinalNumber(Re.getDate(),{unit:"date"}):lightFormatters.d(Re,je)},D:function(Re,je,_e){const Me=getDayOfYear(Re);return je==="Do"?_e.ordinalNumber(Me,{unit:"dayOfYear"}):addLeadingZeros(Me,je.length)},E:function(Re,je,_e){const Me=Re.getDay();switch(je){case"E":case"EE":case"EEE":return _e.day(Me,{width:"abbreviated",context:"formatting"});case"EEEEE":return _e.day(Me,{width:"narrow",context:"formatting"});case"EEEEEE":return _e.day(Me,{width:"short",context:"formatting"});case"EEEE":default:return _e.day(Me,{width:"wide",context:"formatting"})}},e:function(Re,je,_e,Me){const $e=Re.getDay(),ke=($e-Me.weekStartsOn+8)%7||7;switch(je){case"e":return String(ke);case"ee":return addLeadingZeros(ke,2);case"eo":return _e.ordinalNumber(ke,{unit:"day"});case"eee":return _e.day($e,{width:"abbreviated",context:"formatting"});case"eeeee":return _e.day($e,{width:"narrow",context:"formatting"});case"eeeeee":return _e.day($e,{width:"short",context:"formatting"});case"eeee":default:return _e.day($e,{width:"wide",context:"formatting"})}},c:function(Re,je,_e,Me){const $e=Re.getDay(),ke=($e-Me.weekStartsOn+8)%7||7;switch(je){case"c":return String(ke);case"cc":return addLeadingZeros(ke,je.length);case"co":return _e.ordinalNumber(ke,{unit:"day"});case"ccc":return _e.day($e,{width:"abbreviated",context:"standalone"});case"ccccc":return _e.day($e,{width:"narrow",context:"standalone"});case"cccccc":return _e.day($e,{width:"short",context:"standalone"});case"cccc":default:return _e.day($e,{width:"wide",context:"standalone"})}},i:function(Re,je,_e){const Me=Re.getDay(),$e=Me===0?7:Me;switch(je){case"i":return String($e);case"ii":return addLeadingZeros($e,je.length);case"io":return _e.ordinalNumber($e,{unit:"day"});case"iii":return _e.day(Me,{width:"abbreviated",context:"formatting"});case"iiiii":return _e.day(Me,{width:"narrow",context:"formatting"});case"iiiiii":return _e.day(Me,{width:"short",context:"formatting"});case"iiii":default:return _e.day(Me,{width:"wide",context:"formatting"})}},a:function(Re,je,_e){const $e=Re.getHours()/12>=1?"pm":"am";switch(je){case"a":case"aa":return _e.dayPeriod($e,{width:"abbreviated",context:"formatting"});case"aaa":return _e.dayPeriod($e,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return _e.dayPeriod($e,{width:"narrow",context:"formatting"});case"aaaa":default:return _e.dayPeriod($e,{width:"wide",context:"formatting"})}},b:function(Re,je,_e){const Me=Re.getHours();let $e;switch(Me===12?$e=dayPeriodEnum.noon:Me===0?$e=dayPeriodEnum.midnight:$e=Me/12>=1?"pm":"am",je){case"b":case"bb":return _e.dayPeriod($e,{width:"abbreviated",context:"formatting"});case"bbb":return _e.dayPeriod($e,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return _e.dayPeriod($e,{width:"narrow",context:"formatting"});case"bbbb":default:return _e.dayPeriod($e,{width:"wide",context:"formatting"})}},B:function(Re,je,_e){const Me=Re.getHours();let $e;switch(Me>=17?$e=dayPeriodEnum.evening:Me>=12?$e=dayPeriodEnum.afternoon:Me>=4?$e=dayPeriodEnum.morning:$e=dayPeriodEnum.night,je){case"B":case"BB":case"BBB":return _e.dayPeriod($e,{width:"abbreviated",context:"formatting"});case"BBBBB":return _e.dayPeriod($e,{width:"narrow",context:"formatting"});case"BBBB":default:return _e.dayPeriod($e,{width:"wide",context:"formatting"})}},h:function(Re,je,_e){if(je==="ho"){let Me=Re.getHours()%12;return Me===0&&(Me=12),_e.ordinalNumber(Me,{unit:"hour"})}return lightFormatters.h(Re,je)},H:function(Re,je,_e){return je==="Ho"?_e.ordinalNumber(Re.getHours(),{unit:"hour"}):lightFormatters.H(Re,je)},K:function(Re,je,_e){const Me=Re.getHours()%12;return je==="Ko"?_e.ordinalNumber(Me,{unit:"hour"}):addLeadingZeros(Me,je.length)},k:function(Re,je,_e){let Me=Re.getHours();return Me===0&&(Me=24),je==="ko"?_e.ordinalNumber(Me,{unit:"hour"}):addLeadingZeros(Me,je.length)},m:function(Re,je,_e){return je==="mo"?_e.ordinalNumber(Re.getMinutes(),{unit:"minute"}):lightFormatters.m(Re,je)},s:function(Re,je,_e){return je==="so"?_e.ordinalNumber(Re.getSeconds(),{unit:"second"}):lightFormatters.s(Re,je)},S:function(Re,je){return lightFormatters.S(Re,je)},X:function(Re,je,_e){const Me=Re.getTimezoneOffset();if(Me===0)return"Z";switch(je){case"X":return formatTimezoneWithOptionalMinutes(Me);case"XXXX":case"XX":return formatTimezone(Me);case"XXXXX":case"XXX":default:return formatTimezone(Me,":")}},x:function(Re,je,_e){const Me=Re.getTimezoneOffset();switch(je){case"x":return formatTimezoneWithOptionalMinutes(Me);case"xxxx":case"xx":return formatTimezone(Me);case"xxxxx":case"xxx":default:return formatTimezone(Me,":")}},O:function(Re,je,_e){const Me=Re.getTimezoneOffset();switch(je){case"O":case"OO":case"OOO":return"GMT"+formatTimezoneShort(Me,":");case"OOOO":default:return"GMT"+formatTimezone(Me,":")}},z:function(Re,je,_e){const Me=Re.getTimezoneOffset();switch(je){case"z":case"zz":case"zzz":return"GMT"+formatTimezoneShort(Me,":");case"zzzz":default:return"GMT"+formatTimezone(Me,":")}},t:function(Re,je,_e){const Me=Math.trunc(Re.getTime()/1e3);return addLeadingZeros(Me,je.length)},T:function(Re,je,_e){const Me=Re.getTime();return addLeadingZeros(Me,je.length)}};function formatTimezoneShort(Re,je=""){const _e=Re>0?"-":"+",Me=Math.abs(Re),$e=Math.trunc(Me/60),ke=Me%60;return ke===0?_e+String($e):_e+String($e)+je+addLeadingZeros(ke,2)}function formatTimezoneWithOptionalMinutes(Re,je){return Re%60===0?(Re>0?"-":"+")+addLeadingZeros(Math.abs(Re)/60,2):formatTimezone(Re,je)}function formatTimezone(Re,je=""){const _e=Re>0?"-":"+",Me=Math.abs(Re),$e=addLeadingZeros(Math.trunc(Me/60),2),ke=addLeadingZeros(Me%60,2);return _e+$e+je+ke}const dateLongFormatter=(Re,je)=>{switch(Re){case"P":return je.date({width:"short"});case"PP":return je.date({width:"medium"});case"PPP":return je.date({width:"long"});case"PPPP":default:return je.date({width:"full"})}},timeLongFormatter=(Re,je)=>{switch(Re){case"p":return je.time({width:"short"});case"pp":return je.time({width:"medium"});case"ppp":return je.time({width:"long"});case"pppp":default:return je.time({width:"full"})}},dateTimeLongFormatter=(Re,je)=>{const _e=Re.match(/(P+)(p+)?/)||[],Me=_e[1],$e=_e[2];if(!$e)return dateLongFormatter(Re,je);let ke;switch(Me){case"P":ke=je.dateTime({width:"short"});break;case"PP":ke=je.dateTime({width:"medium"});break;case"PPP":ke=je.dateTime({width:"long"});break;case"PPPP":default:ke=je.dateTime({width:"full"});break}return ke.replace("{{date}}",dateLongFormatter(Me,je)).replace("{{time}}",timeLongFormatter($e,je))},longFormatters={p:timeLongFormatter,P:dateTimeLongFormatter},dayOfYearTokenRE=/^D+$/,weekYearTokenRE=/^Y+$/,throwTokens=["D","DD","YY","YYYY"];function isProtectedDayOfYearToken(Re){return dayOfYearTokenRE.test(Re)}function isProtectedWeekYearToken(Re){return weekYearTokenRE.test(Re)}function warnOrThrowProtectedError(Re,je,_e){const Me=message(Re,je,_e);if(console.warn(Me),throwTokens.includes(Re))throw new RangeError(Me)}function message(Re,je,_e){const Me=Re[0]==="Y"?"years":"days of the month";return`Use \`${Re.toLowerCase()}\` instead of \`${Re}\` (in \`${je}\`) for formatting ${Me} to the input \`${_e}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const formattingTokensRegExp$1=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,longFormattingTokensRegExp$1=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,escapedStringRegExp$1=/^'([^]*?)'?$/,doubleQuoteRegExp$1=/''/g,unescapedLatinCharacterRegExp$1=/[a-zA-Z]/;function format(Re,je,_e){const Me=getDefaultOptions$1(),$e=_e?.locale??Me.locale??enUS,ke=_e?.firstWeekContainsDate??_e?.locale?.options?.firstWeekContainsDate??Me.firstWeekContainsDate??Me.locale?.options?.firstWeekContainsDate??1,Ce=_e?.weekStartsOn??_e?.locale?.options?.weekStartsOn??Me.weekStartsOn??Me.locale?.options?.weekStartsOn??0,Be=toDate(Re);if(!isValid(Be))throw new RangeError("Invalid time value");let qe=je.match(longFormattingTokensRegExp$1).map(We=>{const Ke=We[0];if(Ke==="p"||Ke==="P"){const Je=longFormatters[Ke];return Je(We,$e.formatLong)}return We}).join("").match(formattingTokensRegExp$1).map(We=>{if(We==="''")return{isToken:!1,value:"'"};const Ke=We[0];if(Ke==="'")return{isToken:!1,value:cleanEscapedString$1(We)};if(formatters$2[Ke])return{isToken:!0,value:We};if(Ke.match(unescapedLatinCharacterRegExp$1))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Ke+"`");return{isToken:!1,value:We}});$e.localize.preprocessor&&(qe=$e.localize.preprocessor(Be,qe));const He={firstWeekContainsDate:ke,weekStartsOn:Ce,locale:$e};return qe.map(We=>{if(!We.isToken)return We.value;const Ke=We.value;(!_e?.useAdditionalWeekYearTokens&&isProtectedWeekYearToken(Ke)||!_e?.useAdditionalDayOfYearTokens&&isProtectedDayOfYearToken(Ke))&&warnOrThrowProtectedError(Ke,je,String(Re));const Je=formatters$2[Ke[0]];return Je(Be,Ke,$e.localize,He)}).join("")}function cleanEscapedString$1(Re){const je=Re.match(escapedStringRegExp$1);return je?je[1].replace(doubleQuoteRegExp$1,"'"):Re}function getDay(Re){return toDate(Re).getDay()}function getDefaultOptions(){return Object.assign({},getDefaultOptions$1())}function getISODay(Re){let _e=toDate(Re).getDay();return _e===0&&(_e=7),_e}function transpose(Re,je){const _e=je instanceof Date?constructFrom(je,0):new je(0);return _e.setFullYear(Re.getFullYear(),Re.getMonth(),Re.getDate()),_e.setHours(Re.getHours(),Re.getMinutes(),Re.getSeconds(),Re.getMilliseconds()),_e}const TIMEZONE_UNIT_PRIORITY=10;class Setter{subPriority=0;validate(je,_e){return!0}}class ValueSetter extends Setter{constructor(je,_e,Me,$e,ke){super(),this.value=je,this.validateValue=_e,this.setValue=Me,this.priority=$e,ke&&(this.subPriority=ke)}validate(je,_e){return this.validateValue(je,this.value,_e)}set(je,_e,Me){return this.setValue(je,_e,this.value,Me)}}class DateToSystemTimezoneSetter extends Setter{priority=TIMEZONE_UNIT_PRIORITY;subPriority=-1;set(je,_e){return _e.timestampIsSet?je:constructFrom(je,transpose(je,Date))}}class Parser{run(je,_e,Me,$e){const ke=this.parse(je,_e,Me,$e);return ke?{setter:new ValueSetter(ke.value,this.validate,this.set,this.priority,this.subPriority),rest:ke.rest}:null}validate(je,_e,Me){return!0}}class EraParser extends Parser{priority=140;parse(je,_e,Me){switch(_e){case"G":case"GG":case"GGG":return Me.era(je,{width:"abbreviated"})||Me.era(je,{width:"narrow"});case"GGGGG":return Me.era(je,{width:"narrow"});case"GGGG":default:return Me.era(je,{width:"wide"})||Me.era(je,{width:"abbreviated"})||Me.era(je,{width:"narrow"})}}set(je,_e,Me){return _e.era=Me,je.setFullYear(Me,0,1),je.setHours(0,0,0,0),je}incompatibleTokens=["R","u","t","T"]}const numericPatterns={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},timezonePatterns={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function mapValue(Re,je){return Re&&{value:je(Re.value),rest:Re.rest}}function parseNumericPattern(Re,je){const _e=je.match(Re);return _e?{value:parseInt(_e[0],10),rest:je.slice(_e[0].length)}:null}function parseTimezonePattern(Re,je){const _e=je.match(Re);if(!_e)return null;if(_e[0]==="Z")return{value:0,rest:je.slice(1)};const Me=_e[1]==="+"?1:-1,$e=_e[2]?parseInt(_e[2],10):0,ke=_e[3]?parseInt(_e[3],10):0,Ce=_e[5]?parseInt(_e[5],10):0;return{value:Me*($e*millisecondsInHour+ke*millisecondsInMinute+Ce*millisecondsInSecond),rest:je.slice(_e[0].length)}}function parseAnyDigitsSigned(Re){return parseNumericPattern(numericPatterns.anyDigitsSigned,Re)}function parseNDigits(Re,je){switch(Re){case 1:return parseNumericPattern(numericPatterns.singleDigit,je);case 2:return parseNumericPattern(numericPatterns.twoDigits,je);case 3:return parseNumericPattern(numericPatterns.threeDigits,je);case 4:return parseNumericPattern(numericPatterns.fourDigits,je);default:return parseNumericPattern(new RegExp("^\\d{1,"+Re+"}"),je)}}function parseNDigitsSigned(Re,je){switch(Re){case 1:return parseNumericPattern(numericPatterns.singleDigitSigned,je);case 2:return parseNumericPattern(numericPatterns.twoDigitsSigned,je);case 3:return parseNumericPattern(numericPatterns.threeDigitsSigned,je);case 4:return parseNumericPattern(numericPatterns.fourDigitsSigned,je);default:return parseNumericPattern(new RegExp("^-?\\d{1,"+Re+"}"),je)}}function dayPeriodEnumToHours(Re){switch(Re){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function normalizeTwoDigitYear(Re,je){const _e=je>0,Me=_e?je:1-je;let $e;if(Me<=50)$e=Re||100;else{const ke=Me+50,Ce=Math.trunc(ke/100)*100,Be=Re>=ke%100;$e=Re+Ce-(Be?100:0)}return _e?$e:1-$e}function isLeapYearIndex(Re){return Re%400===0||Re%4===0&&Re%100!==0}class YearParser extends Parser{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(je,_e,Me){const $e=ke=>({year:ke,isTwoDigitYear:_e==="yy"});switch(_e){case"y":return mapValue(parseNDigits(4,je),$e);case"yo":return mapValue(Me.ordinalNumber(je,{unit:"year"}),$e);default:return mapValue(parseNDigits(_e.length,je),$e)}}validate(je,_e){return _e.isTwoDigitYear||_e.year>0}set(je,_e,Me){const $e=je.getFullYear();if(Me.isTwoDigitYear){const Ce=normalizeTwoDigitYear(Me.year,$e);return je.setFullYear(Ce,0,1),je.setHours(0,0,0,0),je}const ke=!("era"in _e)||_e.era===1?Me.year:1-Me.year;return je.setFullYear(ke,0,1),je.setHours(0,0,0,0),je}}class LocalWeekYearParser extends Parser{priority=130;parse(je,_e,Me){const $e=ke=>({year:ke,isTwoDigitYear:_e==="YY"});switch(_e){case"Y":return mapValue(parseNDigits(4,je),$e);case"Yo":return mapValue(Me.ordinalNumber(je,{unit:"year"}),$e);default:return mapValue(parseNDigits(_e.length,je),$e)}}validate(je,_e){return _e.isTwoDigitYear||_e.year>0}set(je,_e,Me,$e){const ke=getWeekYear(je,$e);if(Me.isTwoDigitYear){const Be=normalizeTwoDigitYear(Me.year,ke);return je.setFullYear(Be,0,$e.firstWeekContainsDate),je.setHours(0,0,0,0),startOfWeek(je,$e)}const Ce=!("era"in _e)||_e.era===1?Me.year:1-Me.year;return je.setFullYear(Ce,0,$e.firstWeekContainsDate),je.setHours(0,0,0,0),startOfWeek(je,$e)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class ISOWeekYearParser extends Parser{priority=130;parse(je,_e){return parseNDigitsSigned(_e==="R"?4:_e.length,je)}set(je,_e,Me){const $e=constructFrom(je,0);return $e.setFullYear(Me,0,4),$e.setHours(0,0,0,0),startOfISOWeek($e)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class ExtendedYearParser extends Parser{priority=130;parse(je,_e){return parseNDigitsSigned(_e==="u"?4:_e.length,je)}set(je,_e,Me){return je.setFullYear(Me,0,1),je.setHours(0,0,0,0),je}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class QuarterParser extends Parser{priority=120;parse(je,_e,Me){switch(_e){case"Q":case"QQ":return parseNDigits(_e.length,je);case"Qo":return Me.ordinalNumber(je,{unit:"quarter"});case"QQQ":return Me.quarter(je,{width:"abbreviated",context:"formatting"})||Me.quarter(je,{width:"narrow",context:"formatting"});case"QQQQQ":return Me.quarter(je,{width:"narrow",context:"formatting"});case"QQQQ":default:return Me.quarter(je,{width:"wide",context:"formatting"})||Me.quarter(je,{width:"abbreviated",context:"formatting"})||Me.quarter(je,{width:"narrow",context:"formatting"})}}validate(je,_e){return _e>=1&&_e<=4}set(je,_e,Me){return je.setMonth((Me-1)*3,1),je.setHours(0,0,0,0),je}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class StandAloneQuarterParser extends Parser{priority=120;parse(je,_e,Me){switch(_e){case"q":case"qq":return parseNDigits(_e.length,je);case"qo":return Me.ordinalNumber(je,{unit:"quarter"});case"qqq":return Me.quarter(je,{width:"abbreviated",context:"standalone"})||Me.quarter(je,{width:"narrow",context:"standalone"});case"qqqqq":return Me.quarter(je,{width:"narrow",context:"standalone"});case"qqqq":default:return Me.quarter(je,{width:"wide",context:"standalone"})||Me.quarter(je,{width:"abbreviated",context:"standalone"})||Me.quarter(je,{width:"narrow",context:"standalone"})}}validate(je,_e){return _e>=1&&_e<=4}set(je,_e,Me){return je.setMonth((Me-1)*3,1),je.setHours(0,0,0,0),je}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class MonthParser extends Parser{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(je,_e,Me){const $e=ke=>ke-1;switch(_e){case"M":return mapValue(parseNumericPattern(numericPatterns.month,je),$e);case"MM":return mapValue(parseNDigits(2,je),$e);case"Mo":return mapValue(Me.ordinalNumber(je,{unit:"month"}),$e);case"MMM":return Me.month(je,{width:"abbreviated",context:"formatting"})||Me.month(je,{width:"narrow",context:"formatting"});case"MMMMM":return Me.month(je,{width:"narrow",context:"formatting"});case"MMMM":default:return Me.month(je,{width:"wide",context:"formatting"})||Me.month(je,{width:"abbreviated",context:"formatting"})||Me.month(je,{width:"narrow",context:"formatting"})}}validate(je,_e){return _e>=0&&_e<=11}set(je,_e,Me){return je.setMonth(Me,1),je.setHours(0,0,0,0),je}}class StandAloneMonthParser extends Parser{priority=110;parse(je,_e,Me){const $e=ke=>ke-1;switch(_e){case"L":return mapValue(parseNumericPattern(numericPatterns.month,je),$e);case"LL":return mapValue(parseNDigits(2,je),$e);case"Lo":return mapValue(Me.ordinalNumber(je,{unit:"month"}),$e);case"LLL":return Me.month(je,{width:"abbreviated",context:"standalone"})||Me.month(je,{width:"narrow",context:"standalone"});case"LLLLL":return Me.month(je,{width:"narrow",context:"standalone"});case"LLLL":default:return Me.month(je,{width:"wide",context:"standalone"})||Me.month(je,{width:"abbreviated",context:"standalone"})||Me.month(je,{width:"narrow",context:"standalone"})}}validate(je,_e){return _e>=0&&_e<=11}set(je,_e,Me){return je.setMonth(Me,1),je.setHours(0,0,0,0),je}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function setWeek(Re,je,_e){const Me=toDate(Re),$e=getWeek(Me,_e)-je;return Me.setDate(Me.getDate()-$e*7),Me}class LocalWeekParser extends Parser{priority=100;parse(je,_e,Me){switch(_e){case"w":return parseNumericPattern(numericPatterns.week,je);case"wo":return Me.ordinalNumber(je,{unit:"week"});default:return parseNDigits(_e.length,je)}}validate(je,_e){return _e>=1&&_e<=53}set(je,_e,Me,$e){return startOfWeek(setWeek(je,Me,$e),$e)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function setISOWeek(Re,je){const _e=toDate(Re),Me=getISOWeek(_e)-je;return _e.setDate(_e.getDate()-Me*7),_e}class ISOWeekParser extends Parser{priority=100;parse(je,_e,Me){switch(_e){case"I":return parseNumericPattern(numericPatterns.week,je);case"Io":return Me.ordinalNumber(je,{unit:"week"});default:return parseNDigits(_e.length,je)}}validate(je,_e){return _e>=1&&_e<=53}set(je,_e,Me){return startOfISOWeek(setISOWeek(je,Me))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const DAYS_IN_MONTH=[31,28,31,30,31,30,31,31,30,31,30,31],DAYS_IN_MONTH_LEAP_YEAR=[31,29,31,30,31,30,31,31,30,31,30,31];class DateParser extends Parser{priority=90;subPriority=1;parse(je,_e,Me){switch(_e){case"d":return parseNumericPattern(numericPatterns.date,je);case"do":return Me.ordinalNumber(je,{unit:"date"});default:return parseNDigits(_e.length,je)}}validate(je,_e){const Me=je.getFullYear(),$e=isLeapYearIndex(Me),ke=je.getMonth();return $e?_e>=1&&_e<=DAYS_IN_MONTH_LEAP_YEAR[ke]:_e>=1&&_e<=DAYS_IN_MONTH[ke]}set(je,_e,Me){return je.setDate(Me),je.setHours(0,0,0,0),je}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class DayOfYearParser extends Parser{priority=90;subpriority=1;parse(je,_e,Me){switch(_e){case"D":case"DD":return parseNumericPattern(numericPatterns.dayOfYear,je);case"Do":return Me.ordinalNumber(je,{unit:"date"});default:return parseNDigits(_e.length,je)}}validate(je,_e){const Me=je.getFullYear();return isLeapYearIndex(Me)?_e>=1&&_e<=366:_e>=1&&_e<=365}set(je,_e,Me){return je.setMonth(0,Me),je.setHours(0,0,0,0),je}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function setDay(Re,je,_e){const Me=getDefaultOptions$1(),$e=_e?.weekStartsOn??_e?.locale?.options?.weekStartsOn??Me.weekStartsOn??Me.locale?.options?.weekStartsOn??0,ke=toDate(Re),Ce=ke.getDay(),qe=(je%7+7)%7,He=7-$e,We=je<0||je>6?je-(Ce+He)%7:(qe+He)%7-(Ce+He)%7;return addDays(ke,We)}class DayParser extends Parser{priority=90;parse(je,_e,Me){switch(_e){case"E":case"EE":case"EEE":return Me.day(je,{width:"abbreviated",context:"formatting"})||Me.day(je,{width:"short",context:"formatting"})||Me.day(je,{width:"narrow",context:"formatting"});case"EEEEE":return Me.day(je,{width:"narrow",context:"formatting"});case"EEEEEE":return Me.day(je,{width:"short",context:"formatting"})||Me.day(je,{width:"narrow",context:"formatting"});case"EEEE":default:return Me.day(je,{width:"wide",context:"formatting"})||Me.day(je,{width:"abbreviated",context:"formatting"})||Me.day(je,{width:"short",context:"formatting"})||Me.day(je,{width:"narrow",context:"formatting"})}}validate(je,_e){return _e>=0&&_e<=6}set(je,_e,Me,$e){return je=setDay(je,Me,$e),je.setHours(0,0,0,0),je}incompatibleTokens=["D","i","e","c","t","T"]}class LocalDayParser extends Parser{priority=90;parse(je,_e,Me,$e){const ke=Ce=>{const Be=Math.floor((Ce-1)/7)*7;return(Ce+$e.weekStartsOn+6)%7+Be};switch(_e){case"e":case"ee":return mapValue(parseNDigits(_e.length,je),ke);case"eo":return mapValue(Me.ordinalNumber(je,{unit:"day"}),ke);case"eee":return Me.day(je,{width:"abbreviated",context:"formatting"})||Me.day(je,{width:"short",context:"formatting"})||Me.day(je,{width:"narrow",context:"formatting"});case"eeeee":return Me.day(je,{width:"narrow",context:"formatting"});case"eeeeee":return Me.day(je,{width:"short",context:"formatting"})||Me.day(je,{width:"narrow",context:"formatting"});case"eeee":default:return Me.day(je,{width:"wide",context:"formatting"})||Me.day(je,{width:"abbreviated",context:"formatting"})||Me.day(je,{width:"short",context:"formatting"})||Me.day(je,{width:"narrow",context:"formatting"})}}validate(je,_e){return _e>=0&&_e<=6}set(je,_e,Me,$e){return je=setDay(je,Me,$e),je.setHours(0,0,0,0),je}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class StandAloneLocalDayParser extends Parser{priority=90;parse(je,_e,Me,$e){const ke=Ce=>{const Be=Math.floor((Ce-1)/7)*7;return(Ce+$e.weekStartsOn+6)%7+Be};switch(_e){case"c":case"cc":return mapValue(parseNDigits(_e.length,je),ke);case"co":return mapValue(Me.ordinalNumber(je,{unit:"day"}),ke);case"ccc":return Me.day(je,{width:"abbreviated",context:"standalone"})||Me.day(je,{width:"short",context:"standalone"})||Me.day(je,{width:"narrow",context:"standalone"});case"ccccc":return Me.day(je,{width:"narrow",context:"standalone"});case"cccccc":return Me.day(je,{width:"short",context:"standalone"})||Me.day(je,{width:"narrow",context:"standalone"});case"cccc":default:return Me.day(je,{width:"wide",context:"standalone"})||Me.day(je,{width:"abbreviated",context:"standalone"})||Me.day(je,{width:"short",context:"standalone"})||Me.day(je,{width:"narrow",context:"standalone"})}}validate(je,_e){return _e>=0&&_e<=6}set(je,_e,Me,$e){return je=setDay(je,Me,$e),je.setHours(0,0,0,0),je}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function setISODay(Re,je){const _e=toDate(Re),Me=getISODay(_e),$e=je-Me;return addDays(_e,$e)}class ISODayParser extends Parser{priority=90;parse(je,_e,Me){const $e=ke=>ke===0?7:ke;switch(_e){case"i":case"ii":return parseNDigits(_e.length,je);case"io":return Me.ordinalNumber(je,{unit:"day"});case"iii":return mapValue(Me.day(je,{width:"abbreviated",context:"formatting"})||Me.day(je,{width:"short",context:"formatting"})||Me.day(je,{width:"narrow",context:"formatting"}),$e);case"iiiii":return mapValue(Me.day(je,{width:"narrow",context:"formatting"}),$e);case"iiiiii":return mapValue(Me.day(je,{width:"short",context:"formatting"})||Me.day(je,{width:"narrow",context:"formatting"}),$e);case"iiii":default:return mapValue(Me.day(je,{width:"wide",context:"formatting"})||Me.day(je,{width:"abbreviated",context:"formatting"})||Me.day(je,{width:"short",context:"formatting"})||Me.day(je,{width:"narrow",context:"formatting"}),$e)}}validate(je,_e){return _e>=1&&_e<=7}set(je,_e,Me){return je=setISODay(je,Me),je.setHours(0,0,0,0),je}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class AMPMParser extends Parser{priority=80;parse(je,_e,Me){switch(_e){case"a":case"aa":case"aaa":return Me.dayPeriod(je,{width:"abbreviated",context:"formatting"})||Me.dayPeriod(je,{width:"narrow",context:"formatting"});case"aaaaa":return Me.dayPeriod(je,{width:"narrow",context:"formatting"});case"aaaa":default:return Me.dayPeriod(je,{width:"wide",context:"formatting"})||Me.dayPeriod(je,{width:"abbreviated",context:"formatting"})||Me.dayPeriod(je,{width:"narrow",context:"formatting"})}}set(je,_e,Me){return je.setHours(dayPeriodEnumToHours(Me),0,0,0),je}incompatibleTokens=["b","B","H","k","t","T"]}class AMPMMidnightParser extends Parser{priority=80;parse(je,_e,Me){switch(_e){case"b":case"bb":case"bbb":return Me.dayPeriod(je,{width:"abbreviated",context:"formatting"})||Me.dayPeriod(je,{width:"narrow",context:"formatting"});case"bbbbb":return Me.dayPeriod(je,{width:"narrow",context:"formatting"});case"bbbb":default:return Me.dayPeriod(je,{width:"wide",context:"formatting"})||Me.dayPeriod(je,{width:"abbreviated",context:"formatting"})||Me.dayPeriod(je,{width:"narrow",context:"formatting"})}}set(je,_e,Me){return je.setHours(dayPeriodEnumToHours(Me),0,0,0),je}incompatibleTokens=["a","B","H","k","t","T"]}class DayPeriodParser extends Parser{priority=80;parse(je,_e,Me){switch(_e){case"B":case"BB":case"BBB":return Me.dayPeriod(je,{width:"abbreviated",context:"formatting"})||Me.dayPeriod(je,{width:"narrow",context:"formatting"});case"BBBBB":return Me.dayPeriod(je,{width:"narrow",context:"formatting"});case"BBBB":default:return Me.dayPeriod(je,{width:"wide",context:"formatting"})||Me.dayPeriod(je,{width:"abbreviated",context:"formatting"})||Me.dayPeriod(je,{width:"narrow",context:"formatting"})}}set(je,_e,Me){return je.setHours(dayPeriodEnumToHours(Me),0,0,0),je}incompatibleTokens=["a","b","t","T"]}class Hour1to12Parser extends Parser{priority=70;parse(je,_e,Me){switch(_e){case"h":return parseNumericPattern(numericPatterns.hour12h,je);case"ho":return Me.ordinalNumber(je,{unit:"hour"});default:return parseNDigits(_e.length,je)}}validate(je,_e){return _e>=1&&_e<=12}set(je,_e,Me){const $e=je.getHours()>=12;return $e&&Me<12?je.setHours(Me+12,0,0,0):!$e&&Me===12?je.setHours(0,0,0,0):je.setHours(Me,0,0,0),je}incompatibleTokens=["H","K","k","t","T"]}class Hour0to23Parser extends Parser{priority=70;parse(je,_e,Me){switch(_e){case"H":return parseNumericPattern(numericPatterns.hour23h,je);case"Ho":return Me.ordinalNumber(je,{unit:"hour"});default:return parseNDigits(_e.length,je)}}validate(je,_e){return _e>=0&&_e<=23}set(je,_e,Me){return je.setHours(Me,0,0,0),je}incompatibleTokens=["a","b","h","K","k","t","T"]}class Hour0To11Parser extends Parser{priority=70;parse(je,_e,Me){switch(_e){case"K":return parseNumericPattern(numericPatterns.hour11h,je);case"Ko":return Me.ordinalNumber(je,{unit:"hour"});default:return parseNDigits(_e.length,je)}}validate(je,_e){return _e>=0&&_e<=11}set(je,_e,Me){return je.getHours()>=12&&Me<12?je.setHours(Me+12,0,0,0):je.setHours(Me,0,0,0),je}incompatibleTokens=["h","H","k","t","T"]}class Hour1To24Parser extends Parser{priority=70;parse(je,_e,Me){switch(_e){case"k":return parseNumericPattern(numericPatterns.hour24h,je);case"ko":return Me.ordinalNumber(je,{unit:"hour"});default:return parseNDigits(_e.length,je)}}validate(je,_e){return _e>=1&&_e<=24}set(je,_e,Me){const $e=Me<=24?Me%24:Me;return je.setHours($e,0,0,0),je}incompatibleTokens=["a","b","h","H","K","t","T"]}class MinuteParser extends Parser{priority=60;parse(je,_e,Me){switch(_e){case"m":return parseNumericPattern(numericPatterns.minute,je);case"mo":return Me.ordinalNumber(je,{unit:"minute"});default:return parseNDigits(_e.length,je)}}validate(je,_e){return _e>=0&&_e<=59}set(je,_e,Me){return je.setMinutes(Me,0,0),je}incompatibleTokens=["t","T"]}class SecondParser extends Parser{priority=50;parse(je,_e,Me){switch(_e){case"s":return parseNumericPattern(numericPatterns.second,je);case"so":return Me.ordinalNumber(je,{unit:"second"});default:return parseNDigits(_e.length,je)}}validate(je,_e){return _e>=0&&_e<=59}set(je,_e,Me){return je.setSeconds(Me,0),je}incompatibleTokens=["t","T"]}class FractionOfSecondParser extends Parser{priority=30;parse(je,_e){const Me=$e=>Math.trunc($e*Math.pow(10,-_e.length+3));return mapValue(parseNDigits(_e.length,je),Me)}set(je,_e,Me){return je.setMilliseconds(Me),je}incompatibleTokens=["t","T"]}class ISOTimezoneWithZParser extends Parser{priority=10;parse(je,_e){switch(_e){case"X":return parseTimezonePattern(timezonePatterns.basicOptionalMinutes,je);case"XX":return parseTimezonePattern(timezonePatterns.basic,je);case"XXXX":return parseTimezonePattern(timezonePatterns.basicOptionalSeconds,je);case"XXXXX":return parseTimezonePattern(timezonePatterns.extendedOptionalSeconds,je);case"XXX":default:return parseTimezonePattern(timezonePatterns.extended,je)}}set(je,_e,Me){return _e.timestampIsSet?je:constructFrom(je,je.getTime()-getTimezoneOffsetInMilliseconds(je)-Me)}incompatibleTokens=["t","T","x"]}class ISOTimezoneParser extends Parser{priority=10;parse(je,_e){switch(_e){case"x":return parseTimezonePattern(timezonePatterns.basicOptionalMinutes,je);case"xx":return parseTimezonePattern(timezonePatterns.basic,je);case"xxxx":return parseTimezonePattern(timezonePatterns.basicOptionalSeconds,je);case"xxxxx":return parseTimezonePattern(timezonePatterns.extendedOptionalSeconds,je);case"xxx":default:return parseTimezonePattern(timezonePatterns.extended,je)}}set(je,_e,Me){return _e.timestampIsSet?je:constructFrom(je,je.getTime()-getTimezoneOffsetInMilliseconds(je)-Me)}incompatibleTokens=["t","T","X"]}class TimestampSecondsParser extends Parser{priority=40;parse(je){return parseAnyDigitsSigned(je)}set(je,_e,Me){return[constructFrom(je,Me*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class TimestampMillisecondsParser extends Parser{priority=20;parse(je){return parseAnyDigitsSigned(je)}set(je,_e,Me){return[constructFrom(je,Me),{timestampIsSet:!0}]}incompatibleTokens="*"}const parsers={G:new EraParser,y:new YearParser,Y:new LocalWeekYearParser,R:new ISOWeekYearParser,u:new ExtendedYearParser,Q:new QuarterParser,q:new StandAloneQuarterParser,M:new MonthParser,L:new StandAloneMonthParser,w:new LocalWeekParser,I:new ISOWeekParser,d:new DateParser,D:new DayOfYearParser,E:new DayParser,e:new LocalDayParser,c:new StandAloneLocalDayParser,i:new ISODayParser,a:new AMPMParser,b:new AMPMMidnightParser,B:new DayPeriodParser,h:new Hour1to12Parser,H:new Hour0to23Parser,K:new Hour0To11Parser,k:new Hour1To24Parser,m:new MinuteParser,s:new SecondParser,S:new FractionOfSecondParser,X:new ISOTimezoneWithZParser,x:new ISOTimezoneParser,t:new TimestampSecondsParser,T:new TimestampMillisecondsParser},formattingTokensRegExp=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,longFormattingTokensRegExp=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,escapedStringRegExp=/^'([^]*?)'?$/,doubleQuoteRegExp=/''/g,notWhitespaceRegExp=/\S/,unescapedLatinCharacterRegExp=/[a-zA-Z]/;function parse$1(Re,je,_e,Me){const $e=getDefaultOptions(),ke=Me?.locale??$e.locale??enUS,Ce=Me?.firstWeekContainsDate??Me?.locale?.options?.firstWeekContainsDate??$e.firstWeekContainsDate??$e.locale?.options?.firstWeekContainsDate??1,Be=Me?.weekStartsOn??Me?.locale?.options?.weekStartsOn??$e.weekStartsOn??$e.locale?.options?.weekStartsOn??0;if(je==="")return Re===""?toDate(_e):constructFrom(_e,NaN);const qe={firstWeekContainsDate:Ce,weekStartsOn:Be,locale:ke},He=[new DateToSystemTimezoneSetter],We=je.match(longFormattingTokensRegExp).map(tr=>{const cr=tr[0];if(cr in longFormatters){const or=longFormatters[cr];return or(tr,ke.formatLong)}return tr}).join("").match(formattingTokensRegExp),Ke=[];for(let tr of We){!Me?.useAdditionalWeekYearTokens&&isProtectedWeekYearToken(tr)&&warnOrThrowProtectedError(tr,je,Re),!Me?.useAdditionalDayOfYearTokens&&isProtectedDayOfYearToken(tr)&&warnOrThrowProtectedError(tr,je,Re);const cr=tr[0],or=parsers[cr];if(or){const{incompatibleTokens:ar}=or;if(Array.isArray(ar)){const ur=Ke.find(gr=>ar.includes(gr.token)||gr.token===cr);if(ur)throw new RangeError(`The format string mustn't contain \`${ur.fullToken}\` and \`${tr}\` at the same time`)}else if(or.incompatibleTokens==="*"&&Ke.length>0)throw new RangeError(`The format string mustn't contain \`${tr}\` and any other token at the same time`);Ke.push({token:cr,fullToken:tr});const pr=or.run(Re,tr,ke.match,qe);if(!pr)return constructFrom(_e,NaN);He.push(pr.setter),Re=pr.rest}else{if(cr.match(unescapedLatinCharacterRegExp))throw new RangeError("Format string contains an unescaped latin alphabet character `"+cr+"`");if(tr==="''"?tr="'":cr==="'"&&(tr=cleanEscapedString(tr)),Re.indexOf(tr)===0)Re=Re.slice(tr.length);else return constructFrom(_e,NaN)}}if(Re.length>0&&notWhitespaceRegExp.test(Re))return constructFrom(_e,NaN);const Je=He.map(tr=>tr.priority).sort((tr,cr)=>cr-tr).filter((tr,cr,or)=>or.indexOf(tr)===cr).map(tr=>He.filter(cr=>cr.priority===tr).sort((cr,or)=>or.subPriority-cr.subPriority)).map(tr=>tr[0]);let Qe=toDate(_e);if(isNaN(Qe.getTime()))return constructFrom(_e,NaN);const rr={};for(const tr of Je){if(!tr.validate(Qe,qe))return constructFrom(_e,NaN);const cr=tr.set(Qe,rr,qe);Array.isArray(cr)?(Qe=cr[0],Object.assign(rr,cr[1])):Qe=cr}return constructFrom(_e,Qe)}function cleanEscapedString(Re){return Re.match(escapedStringRegExp)[1].replace(doubleQuoteRegExp,"'")}const NotificationBell=()=>{const[Re,je]=reactExports.useState(!1),{notifications:_e,unreadCount:Me,fetchNotifications:$e,markAsRead:ke,markAllAsRead:Ce}=useNotificationStore(),{user:Be}=useAuthStore();reactExports.useEffect(()=>{if($e(),!Be)return;const He=supabase.channel("notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${Be.id}`},()=>{$e()}).subscribe();return()=>{He.unsubscribe()}},[$e,Be]);const qe=He=>{ke(He)};return jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>je(!Re),className:"relative p-2 text-gray-400 hover:text-white focus:outline-none",children:[jsxRuntimeExports.jsx(Bell,{size:20}),Me>0&&jsxRuntimeExports.jsx("span",{className:"absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-primary-600 rounded-full",children:Me})]}),Re&&jsxRuntimeExports.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-dark-800 rounded-lg shadow-lg border border-dark-700 z-50",children:[jsxRuntimeExports.jsx("div",{className:"p-4 border-b border-dark-700",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white",children:"Notifications"}),Me>0&&jsxRuntimeExports.jsx("button",{onClick:()=>Ce(),className:"text-sm text-primary-400 hover:text-primary-300",children:"Mark all as read"})]})}),jsxRuntimeExports.jsx("div",{className:"max-h-96 overflow-y-auto",children:_e.length>0?jsxRuntimeExports.jsx("div",{className:"divide-y divide-dark-700",children:_e.map(He=>jsxRuntimeExports.jsx("div",{onClick:()=>qe(He.id),className:`p-4 cursor-pointer transition-colors ${He.read?"bg-dark-800":"bg-dark-700"} hover:bg-dark-700`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-start",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("p",{className:`text-sm font-medium ${He.read?"text-gray-300":"text-white"}`,children:He.title}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400 mt-1",children:He.message}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-1",children:format(new Date(He.created_at),"MMM d, yyyy h:mm a")})]}),!He.read&&jsxRuntimeExports.jsx("span",{className:"w-2 h-2 bg-primary-500 rounded-full"})]})},He.id))}):jsxRuntimeExports.jsx("div",{className:"p-4 text-center text-gray-400",children:"No notifications"})})]})]})},OPTIONS_KEYS=["apiKey","idempotencyKey","stripeAccount","apiVersion","maxNetworkRetries","timeout","host","authenticator","stripeContext","additionalHeaders"];function isOptionsHash(Re){return Re&&typeof Re=="object"&&OPTIONS_KEYS.some(je=>Object.prototype.hasOwnProperty.call(Re,je))}function queryStringifyRequestData(Re,je){return lib.stringify(Re,{serializeDate:_e=>Math.floor(_e.getTime()/1e3).toString(),arrayFormat:je=="v2"?"repeat":"indices"}).replace(/%5B/g,"[").replace(/%5D/g,"]")}const makeURLInterpolator=(()=>{const Re={"\n":"\\n",'"':'\\"',"\u2028":"\\u2028","\u2029":"\\u2029"};return je=>{const _e=je.replace(/["\n\r\u2028\u2029]/g,Me=>Re[Me]);return Me=>_e.replace(/\{([\s\S]+?)\}/g,($e,ke)=>{const Ce=Me[ke];return isValidEncodeUriComponentType(Ce)?encodeURIComponent(Ce):""})}})();function isValidEncodeUriComponentType(Re){return["number","string","boolean"].includes(typeof Re)}function extractUrlParams(Re){const je=Re.match(/\{\w+\}/g);return je?je.map(_e=>_e.replace(/[{}]/g,"")):[]}function getDataFromArgs(Re){if(!Array.isArray(Re)||!Re[0]||typeof Re[0]!="object")return{};if(!isOptionsHash(Re[0]))return Re.shift();const je=Object.keys(Re[0]),_e=je.filter(Me=>OPTIONS_KEYS.includes(Me));return _e.length>0&&_e.length!==je.length&&emitWarning(`Options found in arguments (${_e.join(", ")}). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options.`),{}}function getOptionsFromArgs(Re){const je={host:null,headers:{},settings:{}};if(Re.length>0){const _e=Re[Re.length-1];if(typeof _e=="string")je.authenticator=createApiKeyAuthenticator(Re.pop());else if(isOptionsHash(_e)){const Me=Object.assign({},Re.pop()),$e=Object.keys(Me).filter(ke=>!OPTIONS_KEYS.includes(ke));if($e.length&&emitWarning(`Invalid options found (${$e.join(", ")}); ignoring.`),Me.apiKey&&(je.authenticator=createApiKeyAuthenticator(Me.apiKey)),Me.idempotencyKey&&(je.headers["Idempotency-Key"]=Me.idempotencyKey),Me.stripeAccount&&(je.headers["Stripe-Account"]=Me.stripeAccount),Me.stripeContext){if(je.headers["Stripe-Account"])throw new Error("Can't specify both stripeAccount and stripeContext.");je.headers["Stripe-Context"]=Me.stripeContext}if(Me.apiVersion&&(je.headers["Stripe-Version"]=Me.apiVersion),Number.isInteger(Me.maxNetworkRetries)&&(je.settings.maxNetworkRetries=Me.maxNetworkRetries),Number.isInteger(Me.timeout)&&(je.settings.timeout=Me.timeout),Me.host&&(je.host=Me.host),Me.authenticator){if(Me.apiKey)throw new Error("Can't specify both apiKey and authenticator.");if(typeof Me.authenticator!="function")throw new Error("The authenticator must be a function receiving a request as the first parameter.");je.authenticator=Me.authenticator}Me.additionalHeaders&&(je.headers=Me.additionalHeaders)}}return je}function protoExtend(Re){const je=this,_e=Object.prototype.hasOwnProperty.call(Re,"constructor")?Re.constructor:function(...Me){je.apply(this,Me)};return Object.assign(_e,je),_e.prototype=Object.create(je.prototype),Object.assign(_e.prototype,Re),_e}function removeNullish(Re){if(typeof Re!="object")throw new Error("Argument must be an object");return Object.keys(Re).reduce((je,_e)=>(Re[_e]!=null&&(je[_e]=Re[_e]),je),{})}function normalizeHeaders(Re){return Re&&typeof Re=="object"?Object.keys(Re).reduce((je,_e)=>(je[normalizeHeader(_e)]=Re[_e],je),{}):Re}function normalizeHeader(Re){return Re.split("-").map(je=>je.charAt(0).toUpperCase()+je.substr(1).toLowerCase()).join("-")}function callbackifyPromiseWithTimeout(Re,je){return je?Re.then(_e=>{setTimeout(()=>{je(null,_e)},0)},_e=>{setTimeout(()=>{je(_e,null)},0)}):Re}function pascalToCamelCase(Re){return Re==="OAuth"?"oauth":Re[0].toLowerCase()+Re.substring(1)}function emitWarning(Re){return typeof process$1.emitWarning!="function"?console.warn(`Stripe: ${Re}`):process$1.emitWarning(Re,"Stripe")}function isObject$c(Re){const je=typeof Re;return(je==="function"||je==="object")&&!!Re}function flattenAndStringify(Re){const je={},_e=(Me,$e)=>{Object.entries(Me).forEach(([ke,Ce])=>{const Be=$e?`${$e}[${ke}]`:ke;if(isObject$c(Ce)){if(!(Ce instanceof Uint8Array)&&!Object.prototype.hasOwnProperty.call(Ce,"data"))return _e(Ce,Be);je[Be]=Ce}else je[Be]=String(Ce)})};return _e(Re,null),je}function validateInteger(Re,je,_e){if(!Number.isInteger(je)){if(_e!==void 0)return _e;throw new Error(`${Re} must be an integer`)}return je}function determineProcessUserAgentProperties(){return typeof process$1>"u"?{}:{lang_version:process$1.version,platform:process$1.platform}}function createApiKeyAuthenticator(Re){const je=_e=>(_e.headers.Authorization="Bearer "+Re,Promise.resolve());return je._apiKey=Re,je}function dateTimeReplacer(Re,je){return this[Re]instanceof Date?Math.floor(this[Re].getTime()/1e3).toString():je}function jsonStringifyRequestData(Re){return JSON.stringify(Re,dateTimeReplacer)}function getAPIMode(Re){return Re&&Re.startsWith("/v2")?"v2":"v1"}function parseHttpHeaderAsString(Re){return Array.isArray(Re)?Re.join(", "):String(Re)}function parseHttpHeaderAsNumber(Re){const je=Array.isArray(Re)?Re[0]:Re;return Number(je)}function parseHeadersForFetch(Re){return Object.entries(Re).map(([je,_e])=>[je,parseHttpHeaderAsString(_e)])}class HttpClient{getClientName(){throw new Error("getClientName not implemented.")}makeRequest(je,_e,Me,$e,ke,Ce,Be,qe){throw new Error("makeRequest not implemented.")}static makeTimeoutError(){const je=new TypeError(HttpClient.TIMEOUT_ERROR_CODE);return je.code=HttpClient.TIMEOUT_ERROR_CODE,je}}HttpClient.CONNECTION_CLOSED_ERROR_CODES=["ECONNRESET","EPIPE"];HttpClient.TIMEOUT_ERROR_CODE="ETIMEDOUT";class HttpClientResponse{constructor(je,_e){this._statusCode=je,this._headers=_e}getStatusCode(){return this._statusCode}getHeaders(){return this._headers}getRawResponse(){throw new Error("getRawResponse not implemented.")}toStream(je){throw new Error("toStream not implemented.")}toJSON(){throw new Error("toJSON not implemented.")}}class FetchHttpClient extends HttpClient{constructor(je){if(super(),!je){if(!globalThis.fetch)throw new Error("fetch() function not provided and is not defined in the global scope. You must provide a fetch implementation.");je=globalThis.fetch}globalThis.AbortController?this._fetchFn=FetchHttpClient.makeFetchWithAbortTimeout(je):this._fetchFn=FetchHttpClient.makeFetchWithRaceTimeout(je)}static makeFetchWithRaceTimeout(je){return(_e,Me,$e)=>{let ke;const Ce=new Promise((qe,He)=>{ke=setTimeout(()=>{ke=null,He(HttpClient.makeTimeoutError())},$e)}),Be=je(_e,Me);return Promise.race([Be,Ce]).finally(()=>{ke&&clearTimeout(ke)})}}static makeFetchWithAbortTimeout(je){return async(_e,Me,$e)=>{const ke=new AbortController;let Ce=setTimeout(()=>{Ce=null,ke.abort(HttpClient.makeTimeoutError())},$e);try{return await je(_e,Object.assign(Object.assign({},Me),{signal:ke.signal}))}catch(Be){throw Be.name==="AbortError"?HttpClient.makeTimeoutError():Be}finally{Ce&&clearTimeout(Ce)}}}getClientName(){return"fetch"}async makeRequest(je,_e,Me,$e,ke,Ce,Be,qe){const He=Be==="http",We=new URL(Me,`${He?"http":"https"}://${je}`);We.port=_e;const Ke=$e=="POST"||$e=="PUT"||$e=="PATCH",Je=Ce||(Ke?"":void 0),Qe=await this._fetchFn(We.toString(),{method:$e,headers:parseHeadersForFetch(ke),body:typeof Je=="object"?JSON.stringify(Je):Je},qe);return new FetchHttpClientResponse(Qe)}}class FetchHttpClientResponse extends HttpClientResponse{constructor(je){super(je.status,FetchHttpClientResponse._transformHeadersToObject(je.headers)),this._res=je}getRawResponse(){return this._res}toStream(je){return je(),this._res.body}toJSON(){return this._res.json()}static _transformHeadersToObject(je){const _e={};for(const Me of je){if(!Array.isArray(Me)||Me.length!=2)throw new Error("Response objects produced by the fetch function given to FetchHttpClient do not have an iterable headers map. Response#headers should be an iterable object.");_e[Me[0]]=Me[1]}return _e}}class CryptoProvider{computeHMACSignature(je,_e){throw new Error("computeHMACSignature not implemented.")}computeHMACSignatureAsync(je,_e){throw new Error("computeHMACSignatureAsync not implemented.")}computeSHA256Async(je){throw new Error("computeSHA256 not implemented.")}}class CryptoProviderOnlySupportsAsyncError extends Error{}class SubtleCryptoProvider extends CryptoProvider{constructor(je){super(),this.subtleCrypto=je||crypto.subtle}computeHMACSignature(je,_e){throw new CryptoProviderOnlySupportsAsyncError("SubtleCryptoProvider cannot be used in a synchronous context.")}async computeHMACSignatureAsync(je,_e){const Me=new TextEncoder,$e=await this.subtleCrypto.importKey("raw",Me.encode(_e),{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),ke=await this.subtleCrypto.sign("hmac",$e,Me.encode(je)),Ce=new Uint8Array(ke),Be=new Array(Ce.length);for(let qe=0;qe<Ce.length;qe++)Be[qe]=byteHexMapping[Ce[qe]];return Be.join("")}async computeSHA256Async(je){return new Uint8Array(await this.subtleCrypto.digest("SHA-256",je))}}const byteHexMapping=new Array(256);for(let Re=0;Re<byteHexMapping.length;Re++)byteHexMapping[Re]=Re.toString(16).padStart(2,"0");class PlatformFunctions{constructor(){this._fetchFn=null,this._agent=null}getUname(){throw new Error("getUname not implemented.")}uuid4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,je=>{const _e=Math.random()*16|0;return(je==="x"?_e:_e&3|8).toString(16)})}secureCompare(je,_e){if(je.length!==_e.length)return!1;const Me=je.length;let $e=0;for(let ke=0;ke<Me;++ke)$e|=je.charCodeAt(ke)^_e.charCodeAt(ke);return $e===0}createEmitter(){throw new Error("createEmitter not implemented.")}tryBufferData(je){throw new Error("tryBufferData not implemented.")}createNodeHttpClient(je){throw new Error("createNodeHttpClient not implemented.")}createFetchHttpClient(je){return new FetchHttpClient(je)}createDefaultHttpClient(){throw new Error("createDefaultHttpClient not implemented.")}createNodeCryptoProvider(){throw new Error("createNodeCryptoProvider not implemented.")}createSubtleCryptoProvider(je){return new SubtleCryptoProvider(je)}createDefaultCryptoProvider(){throw new Error("createDefaultCryptoProvider not implemented.")}}class _StripeEvent extends Event{constructor(je,_e){super(je),this.data=_e}}class StripeEmitter{constructor(){this.eventTarget=new EventTarget,this.listenerMapping=new Map}on(je,_e){const Me=$e=>{_e($e.data)};return this.listenerMapping.set(_e,Me),this.eventTarget.addEventListener(je,Me)}removeListener(je,_e){const Me=this.listenerMapping.get(_e);return this.listenerMapping.delete(_e),this.eventTarget.removeEventListener(je,Me)}once(je,_e){const Me=$e=>{_e($e.data)};return this.listenerMapping.set(_e,Me),this.eventTarget.addEventListener(je,Me,{once:!0})}emit(je,_e){return this.eventTarget.dispatchEvent(new _StripeEvent(je,_e))}}class WebPlatformFunctions extends PlatformFunctions{getUname(){return Promise.resolve(null)}createEmitter(){return new StripeEmitter}tryBufferData(je){if(je.file.data instanceof ReadableStream)throw new Error("Uploading a file as a stream is not supported in non-Node environments. Please open or upvote an issue at github.com/stripe/stripe-node if you use this, detailing your use-case.");return Promise.resolve(je)}createNodeHttpClient(){throw new Error("Stripe: `createNodeHttpClient()` is not available in non-Node environments. Please use `createFetchHttpClient()` instead.")}createDefaultHttpClient(){return super.createFetchHttpClient()}createNodeCryptoProvider(){throw new Error("Stripe: `createNodeCryptoProvider()` is not available in non-Node environments. Please use `createSubtleCryptoProvider()` instead.")}createDefaultCryptoProvider(){return this.createSubtleCryptoProvider()}}const generateV1Error=Re=>{switch(Re.type){case"card_error":return new StripeCardError(Re);case"invalid_request_error":return new StripeInvalidRequestError(Re);case"api_error":return new StripeAPIError(Re);case"authentication_error":return new StripeAuthenticationError(Re);case"rate_limit_error":return new StripeRateLimitError(Re);case"idempotency_error":return new StripeIdempotencyError(Re);case"invalid_grant":return new StripeInvalidGrantError(Re);default:return new StripeUnknownError(Re)}},generateV2Error=Re=>{switch(Re.type){case"temporary_session_expired":return new TemporarySessionExpiredError(Re)}switch(Re.code){case"invalid_fields":return new StripeInvalidRequestError(Re)}return generateV1Error(Re)};class StripeError extends Error{constructor(je={},_e=null){var Me;super(je.message),this.type=_e||this.constructor.name,this.raw=je,this.rawType=je.type,this.code=je.code,this.doc_url=je.doc_url,this.param=je.param,this.detail=je.detail,this.headers=je.headers,this.requestId=je.requestId,this.statusCode=je.statusCode,this.message=(Me=je.message)!==null&&Me!==void 0?Me:"",this.userMessage=je.user_message,this.charge=je.charge,this.decline_code=je.decline_code,this.payment_intent=je.payment_intent,this.payment_method=je.payment_method,this.payment_method_type=je.payment_method_type,this.setup_intent=je.setup_intent,this.source=je.source}}StripeError.generate=generateV1Error;class StripeCardError extends StripeError{constructor(je={}){super(je,"StripeCardError")}}class StripeInvalidRequestError extends StripeError{constructor(je={}){super(je,"StripeInvalidRequestError")}}class StripeAPIError extends StripeError{constructor(je={}){super(je,"StripeAPIError")}}class StripeAuthenticationError extends StripeError{constructor(je={}){super(je,"StripeAuthenticationError")}}class StripePermissionError extends StripeError{constructor(je={}){super(je,"StripePermissionError")}}class StripeRateLimitError extends StripeError{constructor(je={}){super(je,"StripeRateLimitError")}}class StripeConnectionError extends StripeError{constructor(je={}){super(je,"StripeConnectionError")}}class StripeSignatureVerificationError extends StripeError{constructor(je,_e,Me={}){super(Me,"StripeSignatureVerificationError"),this.header=je,this.payload=_e}}class StripeIdempotencyError extends StripeError{constructor(je={}){super(je,"StripeIdempotencyError")}}class StripeInvalidGrantError extends StripeError{constructor(je={}){super(je,"StripeInvalidGrantError")}}class StripeUnknownError extends StripeError{constructor(je={}){super(je,"StripeUnknownError")}}class TemporarySessionExpiredError extends StripeError{constructor(je={}){super(je,"TemporarySessionExpiredError")}}const _Error=Object.freeze(Object.defineProperty({__proto__:null,StripeAPIError,StripeAuthenticationError,StripeCardError,StripeConnectionError,StripeError,StripeIdempotencyError,StripeInvalidGrantError,StripeInvalidRequestError,StripePermissionError,StripeRateLimitError,StripeSignatureVerificationError,StripeUnknownError,TemporarySessionExpiredError,generateV1Error,generateV2Error},Symbol.toStringTag,{value:"Module"})),MAX_RETRY_AFTER_WAIT=60;class RequestSender{constructor(je,_e){this._stripe=je,this._maxBufferedRequestMetric=_e}_addHeadersDirectlyToObject(je,_e){je.requestId=_e["request-id"],je.stripeAccount=je.stripeAccount||_e["stripe-account"],je.apiVersion=je.apiVersion||_e["stripe-version"],je.idempotencyKey=je.idempotencyKey||_e["idempotency-key"]}_makeResponseEvent(je,_e,Me){const $e=Date.now(),ke=$e-je.request_start_time;return removeNullish({api_version:Me["stripe-version"],account:Me["stripe-account"],idempotency_key:Me["idempotency-key"],method:je.method,path:je.path,status:_e,request_id:this._getRequestId(Me),elapsed:ke,request_start_time:je.request_start_time,request_end_time:$e})}_getRequestId(je){return je["request-id"]}_streamingResponseHandler(je,_e,Me){return $e=>{const ke=$e.getHeaders(),Ce=()=>{const qe=this._makeResponseEvent(je,$e.getStatusCode(),ke);this._stripe._emitter.emit("response",qe),this._recordRequestMetrics(this._getRequestId(ke),qe.elapsed,_e)},Be=$e.toStream(Ce);return this._addHeadersDirectlyToObject(Be,ke),Me(null,Be)}}_jsonResponseHandler(je,_e,Me,$e){return ke=>{const Ce=ke.getHeaders(),Be=this._getRequestId(Ce),qe=ke.getStatusCode(),He=this._makeResponseEvent(je,qe,Ce);this._stripe._emitter.emit("response",He),ke.toJSON().then(We=>{if(We.error){let Ke;throw typeof We.error=="string"&&(We.error={type:We.error,message:We.error_description}),We.error.headers=Ce,We.error.statusCode=qe,We.error.requestId=Be,qe===401?Ke=new StripeAuthenticationError(We.error):qe===403?Ke=new StripePermissionError(We.error):qe===429?Ke=new StripeRateLimitError(We.error):_e==="v2"?Ke=generateV2Error(We.error):Ke=generateV1Error(We.error),Ke}return We},We=>{throw new StripeAPIError({message:"Invalid JSON received from the Stripe API",exception:We,requestId:Ce["request-id"]})}).then(We=>{this._recordRequestMetrics(Be,He.elapsed,Me);const Ke=ke.getRawResponse();this._addHeadersDirectlyToObject(Ke,Ce),Object.defineProperty(We,"lastResponse",{enumerable:!1,writable:!1,value:Ke}),$e(null,We)},We=>$e(We,null))}}static _generateConnectionErrorMessage(je){return`An error occurred with our connection to Stripe.${je>0?` Request was retried ${je} times.`:""}`}static _shouldRetry(je,_e,Me,$e){return $e&&_e===0&&HttpClient.CONNECTION_CLOSED_ERROR_CODES.includes($e.code)?!0:_e>=Me?!1:je?je.getHeaders()["stripe-should-retry"]==="false"?!1:je.getHeaders()["stripe-should-retry"]==="true"||je.getStatusCode()===409||je.getStatusCode()>=500:!0}_getSleepTimeInMS(je,_e=null){const Me=this._stripe.getInitialNetworkRetryDelay(),$e=this._stripe.getMaxNetworkRetryDelay();let ke=Math.min(Me*Math.pow(2,je-1),$e);return ke*=.5*(1+Math.random()),ke=Math.max(Me,ke),Number.isInteger(_e)&&_e<=MAX_RETRY_AFTER_WAIT&&(ke=Math.max(ke,_e)),ke*1e3}_getMaxNetworkRetries(je={}){return je.maxNetworkRetries!==void 0&&Number.isInteger(je.maxNetworkRetries)?je.maxNetworkRetries:this._stripe.getMaxNetworkRetries()}_defaultIdempotencyKey(je,_e,Me){const $e=this._getMaxNetworkRetries(_e),ke=()=>`stripe-node-retry-${this._stripe._platformFunctions.uuid4()}`;if(Me==="v2"){if(je==="POST"||je==="DELETE")return ke()}else if(Me==="v1"&&je==="POST"&&$e>0)return ke();return null}_makeHeaders({contentType:je,contentLength:_e,apiVersion:Me,clientUserAgent:$e,method:ke,userSuppliedHeaders:Ce,userSuppliedSettings:Be,stripeAccount:qe,stripeContext:He,apiMode:We}){const Ke={Accept:"application/json","Content-Type":je,"User-Agent":this._getUserAgentString(We),"X-Stripe-Client-User-Agent":$e,"X-Stripe-Client-Telemetry":this._getTelemetryHeader(),"Stripe-Version":Me,"Stripe-Account":qe,"Stripe-Context":He,"Idempotency-Key":this._defaultIdempotencyKey(ke,Be,We)},Je=ke=="POST"||ke=="PUT"||ke=="PATCH";return(Je||_e)&&(Je||emitWarning(`${ke} method had non-zero contentLength but no payload is expected for this verb`),Ke["Content-Length"]=_e),Object.assign(removeNullish(Ke),normalizeHeaders(Ce))}_getUserAgentString(je){const _e=this._stripe.getConstant("PACKAGE_VERSION"),Me=this._stripe._appInfo?this._stripe.getAppInfoAsString():"";return`Stripe/${je} NodeBindings/${_e} ${Me}`.trim()}_getTelemetryHeader(){if(this._stripe.getTelemetryEnabled()&&this._stripe._prevRequestMetrics.length>0){const je=this._stripe._prevRequestMetrics.shift();return JSON.stringify({last_request_metrics:je})}}_recordRequestMetrics(je,_e,Me){if(this._stripe.getTelemetryEnabled()&&je)if(this._stripe._prevRequestMetrics.length>this._maxBufferedRequestMetric)emitWarning("Request metrics buffer is full, dropping telemetry message.");else{const $e={request_id:je,request_duration_ms:_e};Me&&Me.length>0&&($e.usage=Me),this._stripe._prevRequestMetrics.push($e)}}_rawRequest(je,_e,Me,$e){return new Promise((Ce,Be)=>{let qe;try{const Qe=je.toUpperCase();if(Qe!=="POST"&&Me&&Object.keys(Me).length!==0)throw new Error("rawRequest only supports params on POST requests. Please pass null and add your parameters to path.");const rr=[].slice.call([Me,$e]),tr=getDataFromArgs(rr),cr=Object.assign({},tr),or=getOptionsFromArgs(rr),ar=or.headers,pr=or.authenticator;qe={requestMethod:Qe,requestPath:_e,bodyData:cr,queryData:{},authenticator:pr,headers:ar,host:null,streaming:!1,settings:{},usage:["raw_request"]}}catch(Qe){Be(Qe);return}function He(Qe,rr){Qe?Be(Qe):Ce(rr)}const{headers:We,settings:Ke}=qe,Je=qe.authenticator;this._request(qe.requestMethod,qe.host,_e,qe.bodyData,Je,{headers:We,settings:Ke,streaming:qe.streaming},qe.usage,He)})}_request(je,_e,Me,$e,ke,Ce,Be=[],qe,He=null){var We;let Ke;ke=(We=ke??this._stripe._authenticator)!==null&&We!==void 0?We:null;const Je=getAPIMode(Me),Qe=(cr,or,ar,pr,ur)=>setTimeout(cr,this._getSleepTimeInMS(pr,ur),or,ar,pr+1),rr=(cr,or,ar)=>{const pr=Ce.settings&&Ce.settings.timeout&&Number.isInteger(Ce.settings.timeout)&&Ce.settings.timeout>=0?Ce.settings.timeout:this._stripe.getApiField("timeout"),ur={host:_e||this._stripe.getApiField("host"),port:this._stripe.getApiField("port"),path:Me,method:je,headers:Object.assign({},or),body:Ke,protocol:this._stripe.getApiField("protocol")};ke(ur).then(()=>{const gr=this._stripe.getApiField("httpClient").makeRequest(ur.host,ur.port,ur.path,ur.method,ur.headers,ur.body,ur.protocol,pr),jr=Date.now(),vr=removeNullish({api_version:cr,account:parseHttpHeaderAsString(or["Stripe-Account"]),idempotency_key:parseHttpHeaderAsString(or["Idempotency-Key"]),method:je,path:Me,request_start_time:jr}),dr=ar||0,xr=this._getMaxNetworkRetries(Ce.settings||{});this._stripe._emitter.emit("request",vr),gr.then(Rr=>RequestSender._shouldRetry(Rr,dr,xr)?Qe(rr,cr,or,dr,parseHttpHeaderAsNumber(Rr.getHeaders()["retry-after"])):Ce.streaming&&Rr.getStatusCode()<400?this._streamingResponseHandler(vr,Be,qe)(Rr):this._jsonResponseHandler(vr,Je,Be,qe)(Rr)).catch(Rr=>{if(RequestSender._shouldRetry(null,dr,xr,Rr))return Qe(rr,cr,or,dr,null);{const Xe=Rr.code&&Rr.code===HttpClient.TIMEOUT_ERROR_CODE;return qe(new StripeConnectionError({message:Xe?`Request aborted due to timeout being reached (${pr}ms)`:RequestSender._generateConnectionErrorMessage(dr),detail:Rr}))}})}).catch(gr=>{throw new StripeError({message:"Unable to authenticate the request",exception:gr})})},tr=(cr,or)=>{if(cr)return qe(cr);Ke=or,this._stripe.getClientUserAgent(ar=>{const pr=this._stripe.getApiField("version"),ur=this._makeHeaders({contentType:Je=="v2"?"application/json":"application/x-www-form-urlencoded",contentLength:Ke.length,apiVersion:pr,clientUserAgent:ar,method:je,userSuppliedHeaders:Ce.headers,userSuppliedSettings:Ce.settings,stripeAccount:Je=="v2"?null:this._stripe.getApiField("stripeAccount"),stripeContext:Je=="v2"?this._stripe.getApiField("stripeContext"):null,apiMode:Je});rr(pr,ur,0)})};if(He)He(je,$e,Ce.headers,tr);else{let cr;Je=="v2"?cr=$e?jsonStringifyRequestData($e):"":cr=queryStringifyRequestData($e||{},Je),tr(null,cr)}}}class V1Iterator{constructor(je,_e,Me,$e){this.index=0,this.pagePromise=je,this.promiseCache={currentPromise:null},this.requestArgs=_e,this.spec=Me,this.stripeResource=$e}async iterate(je){if(!(je&&je.data&&typeof je.data.length=="number"))throw Error("Unexpected: Stripe API response does not have a well-formed `data` array.");const _e=isReverseIteration(this.requestArgs);if(this.index<je.data.length){const Me=_e?je.data.length-1-this.index:this.index,$e=je.data[Me];return this.index+=1,{value:$e,done:!1}}else if(je.has_more){this.index=0,this.pagePromise=this.getNextPage(je);const Me=await this.pagePromise;return this.iterate(Me)}return{done:!0,value:void 0}}getNextPage(je){throw new Error("Unimplemented")}async _next(){return this.iterate(await this.pagePromise)}next(){if(this.promiseCache.currentPromise)return this.promiseCache.currentPromise;const je=(async()=>{const _e=await this._next();return this.promiseCache.currentPromise=null,_e})();return this.promiseCache.currentPromise=je,je}}class V1ListIterator extends V1Iterator{getNextPage(je){const _e=isReverseIteration(this.requestArgs),Me=getLastId(je,_e);return this.stripeResource._makeRequest(this.requestArgs,this.spec,{[_e?"ending_before":"starting_after"]:Me})}}class V1SearchIterator extends V1Iterator{getNextPage(je){if(!je.next_page)throw Error("Unexpected: Stripe API response does not have a well-formed `next_page` field, but `has_more` was true.");return this.stripeResource._makeRequest(this.requestArgs,this.spec,{page:je.next_page})}}class V2ListIterator{constructor(je,_e,Me,$e){this.currentPageIterator=(async()=>(await je).data[Symbol.iterator]())(),this.nextPageUrl=(async()=>(await je).next_page_url||null)(),this.requestArgs=_e,this.spec=Me,this.stripeResource=$e}async turnPage(){const je=await this.nextPageUrl;if(!je)return null;this.spec.fullPath=je;const _e=await this.stripeResource._makeRequest([],this.spec,{});return this.nextPageUrl=Promise.resolve(_e.next_page_url),this.currentPageIterator=Promise.resolve(_e.data[Symbol.iterator]()),this.currentPageIterator}async next(){{const Me=(await this.currentPageIterator).next();if(!Me.done)return{done:!1,value:Me.value}}const je=await this.turnPage();if(!je)return{done:!0,value:void 0};const _e=je.next();return _e.done?{done:!0,value:void 0}:{done:!1,value:_e.value}}}const makeAutoPaginationMethods=(Re,je,_e,Me)=>{const $e=getAPIMode(_e.fullPath||_e.path);return $e!=="v2"&&_e.methodType==="search"?makeAutoPaginationMethodsFromIterator(new V1SearchIterator(Me,je,_e,Re)):$e!=="v2"&&_e.methodType==="list"?makeAutoPaginationMethodsFromIterator(new V1ListIterator(Me,je,_e,Re)):$e==="v2"&&_e.methodType==="list"?makeAutoPaginationMethodsFromIterator(new V2ListIterator(Me,je,_e,Re)):null},makeAutoPaginationMethodsFromIterator=Re=>{const je=makeAutoPagingEach((...$e)=>Re.next(...$e)),_e=makeAutoPagingToArray(je),Me={autoPagingEach:je,autoPagingToArray:_e,next:()=>Re.next(),return:()=>({}),[getAsyncIteratorSymbol()]:()=>Me};return Me};function getAsyncIteratorSymbol(){return typeof Symbol<"u"&&Symbol.asyncIterator?Symbol.asyncIterator:"@@asyncIterator"}function getDoneCallback(Re){if(Re.length<2)return null;const je=Re[1];if(typeof je!="function")throw Error(`The second argument to autoPagingEach, if present, must be a callback function; received ${typeof je}`);return je}function getItemCallback(Re){if(Re.length===0)return;const je=Re[0];if(typeof je!="function")throw Error(`The first argument to autoPagingEach, if present, must be a callback function; received ${typeof je}`);if(je.length===2)return je;if(je.length>2)throw Error(`The \`onItem\` callback function passed to autoPagingEach must accept at most two arguments; got ${je}`);return function(Me,$e){const ke=je(Me);$e(ke)}}function getLastId(Re,je){const _e=je?0:Re.data.length-1,Me=Re.data[_e],$e=Me&&Me.id;if(!$e)throw Error("Unexpected: No `id` found on the last item while auto-paging a list.");return $e}function makeAutoPagingEach(Re){return function(){const _e=[].slice.call(arguments),Me=getItemCallback(_e),$e=getDoneCallback(_e);if(_e.length>2)throw Error(`autoPagingEach takes up to two arguments; received ${_e}`);const ke=wrapAsyncIteratorWithCallback(Re,Me);return callbackifyPromiseWithTimeout(ke,$e)}}function makeAutoPagingToArray(Re){return function(_e,Me){const $e=_e&&_e.limit;if(!$e)throw Error("You must pass a `limit` option to autoPagingToArray, e.g., `autoPagingToArray({limit: 1000});`.");if($e>1e4)throw Error("You cannot specify a limit of more than 10,000 items to fetch in `autoPagingToArray`; use `autoPagingEach` to iterate through longer lists.");const ke=new Promise((Ce,Be)=>{const qe=[];Re(He=>{if(qe.push(He),qe.length>=$e)return!1}).then(()=>{Ce(qe)}).catch(Be)});return callbackifyPromiseWithTimeout(ke,Me)}}function wrapAsyncIteratorWithCallback(Re,je){return new Promise((_e,Me)=>{function $e(ke){if(ke.done){_e();return}const Ce=ke.value;return new Promise(Be=>{je(Ce,Be)}).then(Be=>Be===!1?$e({done:!0,value:void 0}):Re().then($e))}Re().then($e).catch(Me)})}function isReverseIteration(Re){const je=[].slice.call(Re);return!!getDataFromArgs(je).ending_before}function stripeMethod$1$(Re){if(Re.path!==void 0&&Re.fullPath!==void 0)throw new Error(`Method spec specified both a 'path' (${Re.path}) and a 'fullPath' (${Re.fullPath}).`);return function(...je){const _e=typeof je[je.length-1]=="function"&&je.pop();Re.urlParams=extractUrlParams(Re.fullPath||this.createResourcePathWithSymbols(Re.path||""));const Me=callbackifyPromiseWithTimeout(this._makeRequest(je,Re,{}),_e);return Object.assign(Me,makeAutoPaginationMethods(this,je,Re,Me)),Me}}StripeResource.extend=protoExtend;StripeResource.method=stripeMethod$1$;StripeResource.MAX_BUFFERED_REQUEST_METRICS=100;function StripeResource(Re,je){if(this._stripe=Re,je)throw new Error("Support for curried url params was dropped in stripe-node v7.0.0. Instead, pass two ids.");this.basePath=makeURLInterpolator(this.basePath||Re.getApiField("basePath")),this.resourcePath=this.path,this.path=makeURLInterpolator(this.path),this.initialize(...arguments)}StripeResource.prototype={_stripe:null,path:"",resourcePath:"",basePath:null,initialize(){},requestDataProcessor:null,validateRequest:null,createFullPath(Re,je){const _e=[this.basePath(je),this.path(je)];if(typeof Re=="function"){const Me=Re(je);Me&&_e.push(Me)}else _e.push(Re);return this._joinUrlParts(_e)},createResourcePathWithSymbols(Re){return Re?`/${this._joinUrlParts([this.resourcePath,Re])}`:`/${this.resourcePath}`},_joinUrlParts(Re){return Re.join("/").replace(/\/{2,}/g,"/")},_getRequestOpts(Re,je,_e){var Me;const $e=(je.method||"GET").toUpperCase(),ke=je.usage||[],Ce=je.urlParams||[],Be=je.encode||(vr=>vr),qe=!!je.fullPath,He=makeURLInterpolator(qe?je.fullPath:je.path||""),We=qe?je.fullPath:this.createResourcePathWithSymbols(je.path),Ke=[].slice.call(Re),Je=Ce.reduce((vr,dr)=>{const xr=Ke.shift();if(typeof xr!="string")throw new Error(`Stripe: Argument "${dr}" must be a string, but got: ${xr} (on API request to \`${$e} ${We}\`)`);return vr[dr]=xr,vr},{}),Qe=getDataFromArgs(Ke),rr=Be(Object.assign({},Qe,_e)),tr=getOptionsFromArgs(Ke),cr=tr.host||je.host,or=!!je.streaming;if(Ke.filter(vr=>vr!=null).length)throw new Error(`Stripe: Unknown arguments (${Ke}). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options. (on API request to ${$e} \`${We}\`)`);const ar=qe?He(Je):this.createFullPath(He,Je),pr=Object.assign(tr.headers,je.headers);je.validator&&je.validator(rr,{headers:pr});const ur=je.method==="GET"||je.method==="DELETE";return{requestMethod:$e,requestPath:ar,bodyData:ur?null:rr,queryData:ur?rr:{},authenticator:(Me=tr.authenticator)!==null&&Me!==void 0?Me:null,headers:pr,host:cr??null,streaming:or,settings:tr.settings,usage:ke}},_makeRequest(Re,je,_e){return new Promise((Me,$e)=>{var ke;let Ce;try{Ce=this._getRequestOpts(Re,je,_e)}catch(Je){$e(Je);return}function Be(Je,Qe){Je?$e(Je):Me(je.transformResponseData?je.transformResponseData(Qe):Qe)}const qe=Object.keys(Ce.queryData).length===0,He=[Ce.requestPath,qe?"":"?",queryStringifyRequestData(Ce.queryData,getAPIMode(Ce.requestPath))].join(""),{headers:We,settings:Ke}=Ce;this._stripe._requestSender._request(Ce.requestMethod,Ce.host,He,Ce.bodyData,Ce.authenticator,{headers:We,settings:Ke,streaming:Ce.streaming},Ce.usage,Be,(ke=this.requestDataProcessor)===null||ke===void 0?void 0:ke.bind(this))})}};function createWebhooks(Re){const je={DEFAULT_TOLERANCE:300,signature:null,constructEvent(We,Ke,Je,Qe,rr,tr){try{if(!this.signature)throw new Error("ERR: missing signature helper, unable to verify");this.signature.verifyHeader(We,Ke,Je,Qe||je.DEFAULT_TOLERANCE,rr,tr)}catch(or){throw or instanceof CryptoProviderOnlySupportsAsyncError&&(or.message+="\nUse `await constructEventAsync(...)` instead of `constructEvent(...)`"),or}return We instanceof Uint8Array?JSON.parse(new TextDecoder("utf8").decode(We)):JSON.parse(We)},async constructEventAsync(We,Ke,Je,Qe,rr,tr){if(!this.signature)throw new Error("ERR: missing signature helper, unable to verify");return await this.signature.verifyHeaderAsync(We,Ke,Je,Qe||je.DEFAULT_TOLERANCE,rr,tr),We instanceof Uint8Array?JSON.parse(new TextDecoder("utf8").decode(We)):JSON.parse(We)},generateTestHeaderString:function(We){const Ke=He(We),Je=Ke.signature||Ke.cryptoProvider.computeHMACSignature(Ke.payloadString,Ke.secret);return Ke.generateHeaderString(Je)},generateTestHeaderStringAsync:async function(We){const Ke=He(We),Je=Ke.signature||await Ke.cryptoProvider.computeHMACSignatureAsync(Ke.payloadString,Ke.secret);return Ke.generateHeaderString(Je)}},_e={EXPECTED_SCHEME:"v1",verifyHeader(We,Ke,Je,Qe,rr,tr){const{decodedHeader:cr,decodedPayload:or,details:ar,suspectPayloadType:pr}=$e(We,Ke,this.EXPECTED_SCHEME),ur=/\s/.test(Je);rr=rr||qe();const gr=rr.computeHMACSignature(Me(or,ar),Je);return ke(or,cr,ar,gr,Qe,pr,ur,tr),!0},async verifyHeaderAsync(We,Ke,Je,Qe,rr,tr){const{decodedHeader:cr,decodedPayload:or,details:ar,suspectPayloadType:pr}=$e(We,Ke,this.EXPECTED_SCHEME),ur=/\s/.test(Je);rr=rr||qe();const gr=await rr.computeHMACSignatureAsync(Me(or,ar),Je);return ke(or,cr,ar,gr,Qe,pr,ur,tr)}};function Me(We,Ke){return`${Ke.timestamp}.${We}`}function $e(We,Ke,Je){if(!We)throw new StripeSignatureVerificationError(Ke,We,{message:"No webhook payload was provided."});const Qe=typeof We!="string"&&!(We instanceof Uint8Array),rr=new TextDecoder("utf8"),tr=We instanceof Uint8Array?rr.decode(We):We;if(Array.isArray(Ke))throw new Error("Unexpected: An array was passed as a header, which should not be possible for the stripe-signature header.");if(Ke==null||Ke=="")throw new StripeSignatureVerificationError(Ke,We,{message:"No stripe-signature header value was provided."});const cr=Ke instanceof Uint8Array?rr.decode(Ke):Ke,or=Ce(cr,Je);if(!or||or.timestamp===-1)throw new StripeSignatureVerificationError(cr,tr,{message:"Unable to extract timestamp and signatures from header"});if(!or.signatures.length)throw new StripeSignatureVerificationError(cr,tr,{message:"No signatures found with expected scheme"});return{decodedPayload:tr,decodedHeader:cr,details:or,suspectPayloadType:Qe}}function ke(We,Ke,Je,Qe,rr,tr,cr,or){const ar=!!Je.signatures.filter(Re.secureCompare.bind(Re,Qe)).length,pr=`
Learn more about webhook signing and explore webhook integration examples for various frameworks at https://docs.stripe.com/webhooks/signature`,ur=cr?`

Note: The provided signing secret contains whitespace. This often indicates an extra newline or space is in the value`:"";if(!ar)throw tr?new StripeSignatureVerificationError(Ke,We,{message:`Webhook payload must be provided as a string or a Buffer (https://nodejs.org/api/buffer.html) instance representing the _raw_ request body.Payload was provided as a parsed JavaScript object instead. 
Signature verification is impossible without access to the original signed material. 
`+pr+`
`+ur}):new StripeSignatureVerificationError(Ke,We,{message:`No signatures found matching the expected signature for payload. Are you passing the raw request body you received from Stripe? 
 If a webhook request is being forwarded by a third-party tool, ensure that the exact request body, including JSON formatting and new line style, is preserved.
`+pr+`
`+ur});const gr=Math.floor((typeof or=="number"?or:Date.now())/1e3)-Je.timestamp;if(rr>0&&gr>rr)throw new StripeSignatureVerificationError(Ke,We,{message:"Timestamp outside the tolerance zone"});return!0}function Ce(We,Ke){return typeof We!="string"?null:We.split(",").reduce((Je,Qe)=>{const rr=Qe.split("=");return rr[0]==="t"&&(Je.timestamp=parseInt(rr[1],10)),rr[0]===Ke&&Je.signatures.push(rr[1]),Je},{timestamp:-1,signatures:[]})}let Be=null;function qe(){return Be||(Be=Re.createDefaultCryptoProvider()),Be}function He(We){if(!We)throw new StripeError({message:"Options are required"});const Ke=Math.floor(We.timestamp)||Math.floor(Date.now()/1e3),Je=We.scheme||_e.EXPECTED_SCHEME,Qe=We.cryptoProvider||qe(),rr=`${Ke}.${We.payload}`,tr=cr=>`t=${Ke},${Je}=${cr}`;return Object.assign(Object.assign({},We),{timestamp:Ke,scheme:Je,cryptoProvider:Qe,payloadString:rr,generateHeaderString:tr})}return je.signature=_e,je}const ApiVersion="2025-04-30.basil";function ResourceNamespace(Re,je){for(const _e in je){if(!Object.prototype.hasOwnProperty.call(je,_e))continue;const Me=_e[0].toLowerCase()+_e.substring(1),$e=new je[_e](Re);this[Me]=$e}}function resourceNamespace(Re,je){return function(_e){return new ResourceNamespace(_e,je)}}const stripeMethod$1_=StripeResource.method,Accounts$1=StripeResource.extend({retrieve:stripeMethod$1_({method:"GET",fullPath:"/v1/financial_connections/accounts/{account}"}),list:stripeMethod$1_({method:"GET",fullPath:"/v1/financial_connections/accounts",methodType:"list"}),disconnect:stripeMethod$1_({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/disconnect"}),listOwners:stripeMethod$1_({method:"GET",fullPath:"/v1/financial_connections/accounts/{account}/owners",methodType:"list"}),refresh:stripeMethod$1_({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/refresh"}),subscribe:stripeMethod$1_({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/subscribe"}),unsubscribe:stripeMethod$1_({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/unsubscribe"})}),stripeMethod$1Z=StripeResource.method,ActiveEntitlements=StripeResource.extend({retrieve:stripeMethod$1Z({method:"GET",fullPath:"/v1/entitlements/active_entitlements/{id}"}),list:stripeMethod$1Z({method:"GET",fullPath:"/v1/entitlements/active_entitlements",methodType:"list"})}),stripeMethod$1Y=StripeResource.method,Alerts=StripeResource.extend({create:stripeMethod$1Y({method:"POST",fullPath:"/v1/billing/alerts"}),retrieve:stripeMethod$1Y({method:"GET",fullPath:"/v1/billing/alerts/{id}"}),list:stripeMethod$1Y({method:"GET",fullPath:"/v1/billing/alerts",methodType:"list"}),activate:stripeMethod$1Y({method:"POST",fullPath:"/v1/billing/alerts/{id}/activate"}),archive:stripeMethod$1Y({method:"POST",fullPath:"/v1/billing/alerts/{id}/archive"}),deactivate:stripeMethod$1Y({method:"POST",fullPath:"/v1/billing/alerts/{id}/deactivate"})}),stripeMethod$1X=StripeResource.method,Authorizations$1=StripeResource.extend({create:stripeMethod$1X({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations"}),capture:stripeMethod$1X({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/capture"}),expire:stripeMethod$1X({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/expire"}),finalizeAmount:stripeMethod$1X({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/finalize_amount"}),increment:stripeMethod$1X({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/increment"}),respond:stripeMethod$1X({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/fraud_challenges/respond"}),reverse:stripeMethod$1X({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/reverse"})}),stripeMethod$1W=StripeResource.method,Authorizations=StripeResource.extend({retrieve:stripeMethod$1W({method:"GET",fullPath:"/v1/issuing/authorizations/{authorization}"}),update:stripeMethod$1W({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}"}),list:stripeMethod$1W({method:"GET",fullPath:"/v1/issuing/authorizations",methodType:"list"}),approve:stripeMethod$1W({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}/approve"}),decline:stripeMethod$1W({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}/decline"})}),stripeMethod$1V=StripeResource.method,Calculations=StripeResource.extend({create:stripeMethod$1V({method:"POST",fullPath:"/v1/tax/calculations"}),retrieve:stripeMethod$1V({method:"GET",fullPath:"/v1/tax/calculations/{calculation}"}),listLineItems:stripeMethod$1V({method:"GET",fullPath:"/v1/tax/calculations/{calculation}/line_items",methodType:"list"})}),stripeMethod$1U=StripeResource.method,Cardholders=StripeResource.extend({create:stripeMethod$1U({method:"POST",fullPath:"/v1/issuing/cardholders"}),retrieve:stripeMethod$1U({method:"GET",fullPath:"/v1/issuing/cardholders/{cardholder}"}),update:stripeMethod$1U({method:"POST",fullPath:"/v1/issuing/cardholders/{cardholder}"}),list:stripeMethod$1U({method:"GET",fullPath:"/v1/issuing/cardholders",methodType:"list"})}),stripeMethod$1T=StripeResource.method,Cards$1=StripeResource.extend({deliverCard:stripeMethod$1T({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/deliver"}),failCard:stripeMethod$1T({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/fail"}),returnCard:stripeMethod$1T({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/return"}),shipCard:stripeMethod$1T({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/ship"}),submitCard:stripeMethod$1T({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/submit"})}),stripeMethod$1S=StripeResource.method,Cards=StripeResource.extend({create:stripeMethod$1S({method:"POST",fullPath:"/v1/issuing/cards"}),retrieve:stripeMethod$1S({method:"GET",fullPath:"/v1/issuing/cards/{card}"}),update:stripeMethod$1S({method:"POST",fullPath:"/v1/issuing/cards/{card}"}),list:stripeMethod$1S({method:"GET",fullPath:"/v1/issuing/cards",methodType:"list"})}),stripeMethod$1R=StripeResource.method,Configurations$1=StripeResource.extend({create:stripeMethod$1R({method:"POST",fullPath:"/v1/billing_portal/configurations"}),retrieve:stripeMethod$1R({method:"GET",fullPath:"/v1/billing_portal/configurations/{configuration}"}),update:stripeMethod$1R({method:"POST",fullPath:"/v1/billing_portal/configurations/{configuration}"}),list:stripeMethod$1R({method:"GET",fullPath:"/v1/billing_portal/configurations",methodType:"list"})}),stripeMethod$1Q=StripeResource.method,Configurations=StripeResource.extend({create:stripeMethod$1Q({method:"POST",fullPath:"/v1/terminal/configurations"}),retrieve:stripeMethod$1Q({method:"GET",fullPath:"/v1/terminal/configurations/{configuration}"}),update:stripeMethod$1Q({method:"POST",fullPath:"/v1/terminal/configurations/{configuration}"}),list:stripeMethod$1Q({method:"GET",fullPath:"/v1/terminal/configurations",methodType:"list"}),del:stripeMethod$1Q({method:"DELETE",fullPath:"/v1/terminal/configurations/{configuration}"})}),stripeMethod$1P=StripeResource.method,ConfirmationTokens$1=StripeResource.extend({create:stripeMethod$1P({method:"POST",fullPath:"/v1/test_helpers/confirmation_tokens"})}),stripeMethod$1O=StripeResource.method,ConnectionTokens=StripeResource.extend({create:stripeMethod$1O({method:"POST",fullPath:"/v1/terminal/connection_tokens"})}),stripeMethod$1N=StripeResource.method,CreditBalanceSummary=StripeResource.extend({retrieve:stripeMethod$1N({method:"GET",fullPath:"/v1/billing/credit_balance_summary"})}),stripeMethod$1M=StripeResource.method,CreditBalanceTransactions=StripeResource.extend({retrieve:stripeMethod$1M({method:"GET",fullPath:"/v1/billing/credit_balance_transactions/{id}"}),list:stripeMethod$1M({method:"GET",fullPath:"/v1/billing/credit_balance_transactions",methodType:"list"})}),stripeMethod$1L=StripeResource.method,CreditGrants=StripeResource.extend({create:stripeMethod$1L({method:"POST",fullPath:"/v1/billing/credit_grants"}),retrieve:stripeMethod$1L({method:"GET",fullPath:"/v1/billing/credit_grants/{id}"}),update:stripeMethod$1L({method:"POST",fullPath:"/v1/billing/credit_grants/{id}"}),list:stripeMethod$1L({method:"GET",fullPath:"/v1/billing/credit_grants",methodType:"list"}),expire:stripeMethod$1L({method:"POST",fullPath:"/v1/billing/credit_grants/{id}/expire"}),voidGrant:stripeMethod$1L({method:"POST",fullPath:"/v1/billing/credit_grants/{id}/void"})}),stripeMethod$1K=StripeResource.method,CreditReversals=StripeResource.extend({create:stripeMethod$1K({method:"POST",fullPath:"/v1/treasury/credit_reversals"}),retrieve:stripeMethod$1K({method:"GET",fullPath:"/v1/treasury/credit_reversals/{credit_reversal}"}),list:stripeMethod$1K({method:"GET",fullPath:"/v1/treasury/credit_reversals",methodType:"list"})}),stripeMethod$1J=StripeResource.method,Customers$2=StripeResource.extend({fundCashBalance:stripeMethod$1J({method:"POST",fullPath:"/v1/test_helpers/customers/{customer}/fund_cash_balance"})}),stripeMethod$1I=StripeResource.method,DebitReversals=StripeResource.extend({create:stripeMethod$1I({method:"POST",fullPath:"/v1/treasury/debit_reversals"}),retrieve:stripeMethod$1I({method:"GET",fullPath:"/v1/treasury/debit_reversals/{debit_reversal}"}),list:stripeMethod$1I({method:"GET",fullPath:"/v1/treasury/debit_reversals",methodType:"list"})}),stripeMethod$1H=StripeResource.method,Disputes$1=StripeResource.extend({create:stripeMethod$1H({method:"POST",fullPath:"/v1/issuing/disputes"}),retrieve:stripeMethod$1H({method:"GET",fullPath:"/v1/issuing/disputes/{dispute}"}),update:stripeMethod$1H({method:"POST",fullPath:"/v1/issuing/disputes/{dispute}"}),list:stripeMethod$1H({method:"GET",fullPath:"/v1/issuing/disputes",methodType:"list"}),submit:stripeMethod$1H({method:"POST",fullPath:"/v1/issuing/disputes/{dispute}/submit"})}),stripeMethod$1G=StripeResource.method,EarlyFraudWarnings=StripeResource.extend({retrieve:stripeMethod$1G({method:"GET",fullPath:"/v1/radar/early_fraud_warnings/{early_fraud_warning}"}),list:stripeMethod$1G({method:"GET",fullPath:"/v1/radar/early_fraud_warnings",methodType:"list"})}),stripeMethod$1F=StripeResource.method,EventDestinations=StripeResource.extend({create:stripeMethod$1F({method:"POST",fullPath:"/v2/core/event_destinations"}),retrieve:stripeMethod$1F({method:"GET",fullPath:"/v2/core/event_destinations/{id}"}),update:stripeMethod$1F({method:"POST",fullPath:"/v2/core/event_destinations/{id}"}),list:stripeMethod$1F({method:"GET",fullPath:"/v2/core/event_destinations",methodType:"list"}),del:stripeMethod$1F({method:"DELETE",fullPath:"/v2/core/event_destinations/{id}"}),disable:stripeMethod$1F({method:"POST",fullPath:"/v2/core/event_destinations/{id}/disable"}),enable:stripeMethod$1F({method:"POST",fullPath:"/v2/core/event_destinations/{id}/enable"}),ping:stripeMethod$1F({method:"POST",fullPath:"/v2/core/event_destinations/{id}/ping"})}),stripeMethod$1E=StripeResource.method,Events$1=StripeResource.extend({retrieve(...Re){return stripeMethod$1E({method:"GET",fullPath:"/v2/core/events/{id}",transformResponseData:_e=>this.addFetchRelatedObjectIfNeeded(_e)}).apply(this,Re)},list(...Re){return stripeMethod$1E({method:"GET",fullPath:"/v2/core/events",methodType:"list",transformResponseData:_e=>Object.assign(Object.assign({},_e),{data:_e.data.map(this.addFetchRelatedObjectIfNeeded.bind(this))})}).apply(this,Re)},addFetchRelatedObjectIfNeeded(Re){return!Re.related_object||!Re.related_object.url?Re:Object.assign(Object.assign({},Re),{fetchRelatedObject:()=>stripeMethod$1E({method:"GET",fullPath:Re.related_object.url}).apply(this,[{stripeAccount:Re.context}])})}}),stripeMethod$1D=StripeResource.method,Features=StripeResource.extend({create:stripeMethod$1D({method:"POST",fullPath:"/v1/entitlements/features"}),retrieve:stripeMethod$1D({method:"GET",fullPath:"/v1/entitlements/features/{id}"}),update:stripeMethod$1D({method:"POST",fullPath:"/v1/entitlements/features/{id}"}),list:stripeMethod$1D({method:"GET",fullPath:"/v1/entitlements/features",methodType:"list"})}),stripeMethod$1C=StripeResource.method,FinancialAccounts=StripeResource.extend({create:stripeMethod$1C({method:"POST",fullPath:"/v1/treasury/financial_accounts"}),retrieve:stripeMethod$1C({method:"GET",fullPath:"/v1/treasury/financial_accounts/{financial_account}"}),update:stripeMethod$1C({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}"}),list:stripeMethod$1C({method:"GET",fullPath:"/v1/treasury/financial_accounts",methodType:"list"}),close:stripeMethod$1C({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}/close"}),retrieveFeatures:stripeMethod$1C({method:"GET",fullPath:"/v1/treasury/financial_accounts/{financial_account}/features"}),updateFeatures:stripeMethod$1C({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}/features"})}),stripeMethod$1B=StripeResource.method,InboundTransfers$1=StripeResource.extend({fail:stripeMethod$1B({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/fail"}),returnInboundTransfer:stripeMethod$1B({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/return"}),succeed:stripeMethod$1B({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/succeed"})}),stripeMethod$1A=StripeResource.method,InboundTransfers=StripeResource.extend({create:stripeMethod$1A({method:"POST",fullPath:"/v1/treasury/inbound_transfers"}),retrieve:stripeMethod$1A({method:"GET",fullPath:"/v1/treasury/inbound_transfers/{id}"}),list:stripeMethod$1A({method:"GET",fullPath:"/v1/treasury/inbound_transfers",methodType:"list"}),cancel:stripeMethod$1A({method:"POST",fullPath:"/v1/treasury/inbound_transfers/{inbound_transfer}/cancel"})}),stripeMethod$1z=StripeResource.method,Locations=StripeResource.extend({create:stripeMethod$1z({method:"POST",fullPath:"/v1/terminal/locations"}),retrieve:stripeMethod$1z({method:"GET",fullPath:"/v1/terminal/locations/{location}"}),update:stripeMethod$1z({method:"POST",fullPath:"/v1/terminal/locations/{location}"}),list:stripeMethod$1z({method:"GET",fullPath:"/v1/terminal/locations",methodType:"list"}),del:stripeMethod$1z({method:"DELETE",fullPath:"/v1/terminal/locations/{location}"})}),stripeMethod$1y=StripeResource.method,MeterEventAdjustments$1=StripeResource.extend({create:stripeMethod$1y({method:"POST",fullPath:"/v1/billing/meter_event_adjustments"})}),stripeMethod$1x=StripeResource.method,MeterEventAdjustments=StripeResource.extend({create:stripeMethod$1x({method:"POST",fullPath:"/v2/billing/meter_event_adjustments"})}),stripeMethod$1w=StripeResource.method,MeterEventSession=StripeResource.extend({create:stripeMethod$1w({method:"POST",fullPath:"/v2/billing/meter_event_session"})}),stripeMethod$1v=StripeResource.method,MeterEventStream=StripeResource.extend({create:stripeMethod$1v({method:"POST",fullPath:"/v2/billing/meter_event_stream",host:"meter-events.stripe.com"})}),stripeMethod$1u=StripeResource.method,MeterEvents$1=StripeResource.extend({create:stripeMethod$1u({method:"POST",fullPath:"/v1/billing/meter_events"})}),stripeMethod$1t=StripeResource.method,MeterEvents=StripeResource.extend({create:stripeMethod$1t({method:"POST",fullPath:"/v2/billing/meter_events"})}),stripeMethod$1s=StripeResource.method,Meters=StripeResource.extend({create:stripeMethod$1s({method:"POST",fullPath:"/v1/billing/meters"}),retrieve:stripeMethod$1s({method:"GET",fullPath:"/v1/billing/meters/{id}"}),update:stripeMethod$1s({method:"POST",fullPath:"/v1/billing/meters/{id}"}),list:stripeMethod$1s({method:"GET",fullPath:"/v1/billing/meters",methodType:"list"}),deactivate:stripeMethod$1s({method:"POST",fullPath:"/v1/billing/meters/{id}/deactivate"}),listEventSummaries:stripeMethod$1s({method:"GET",fullPath:"/v1/billing/meters/{id}/event_summaries",methodType:"list"}),reactivate:stripeMethod$1s({method:"POST",fullPath:"/v1/billing/meters/{id}/reactivate"})}),stripeMethod$1r=StripeResource.method,Orders=StripeResource.extend({create:stripeMethod$1r({method:"POST",fullPath:"/v1/climate/orders"}),retrieve:stripeMethod$1r({method:"GET",fullPath:"/v1/climate/orders/{order}"}),update:stripeMethod$1r({method:"POST",fullPath:"/v1/climate/orders/{order}"}),list:stripeMethod$1r({method:"GET",fullPath:"/v1/climate/orders",methodType:"list"}),cancel:stripeMethod$1r({method:"POST",fullPath:"/v1/climate/orders/{order}/cancel"})}),stripeMethod$1q=StripeResource.method,OutboundPayments$1=StripeResource.extend({update:stripeMethod$1q({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}"}),fail:stripeMethod$1q({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/fail"}),post:stripeMethod$1q({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/post"}),returnOutboundPayment:stripeMethod$1q({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/return"})}),stripeMethod$1p=StripeResource.method,OutboundPayments=StripeResource.extend({create:stripeMethod$1p({method:"POST",fullPath:"/v1/treasury/outbound_payments"}),retrieve:stripeMethod$1p({method:"GET",fullPath:"/v1/treasury/outbound_payments/{id}"}),list:stripeMethod$1p({method:"GET",fullPath:"/v1/treasury/outbound_payments",methodType:"list"}),cancel:stripeMethod$1p({method:"POST",fullPath:"/v1/treasury/outbound_payments/{id}/cancel"})}),stripeMethod$1o=StripeResource.method,OutboundTransfers$1=StripeResource.extend({update:stripeMethod$1o({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}"}),fail:stripeMethod$1o({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/fail"}),post:stripeMethod$1o({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/post"}),returnOutboundTransfer:stripeMethod$1o({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/return"})}),stripeMethod$1n=StripeResource.method,OutboundTransfers=StripeResource.extend({create:stripeMethod$1n({method:"POST",fullPath:"/v1/treasury/outbound_transfers"}),retrieve:stripeMethod$1n({method:"GET",fullPath:"/v1/treasury/outbound_transfers/{outbound_transfer}"}),list:stripeMethod$1n({method:"GET",fullPath:"/v1/treasury/outbound_transfers",methodType:"list"}),cancel:stripeMethod$1n({method:"POST",fullPath:"/v1/treasury/outbound_transfers/{outbound_transfer}/cancel"})}),stripeMethod$1m=StripeResource.method,PersonalizationDesigns$1=StripeResource.extend({activate:stripeMethod$1m({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/activate"}),deactivate:stripeMethod$1m({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/deactivate"}),reject:stripeMethod$1m({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/reject"})}),stripeMethod$1l=StripeResource.method,PersonalizationDesigns=StripeResource.extend({create:stripeMethod$1l({method:"POST",fullPath:"/v1/issuing/personalization_designs"}),retrieve:stripeMethod$1l({method:"GET",fullPath:"/v1/issuing/personalization_designs/{personalization_design}"}),update:stripeMethod$1l({method:"POST",fullPath:"/v1/issuing/personalization_designs/{personalization_design}"}),list:stripeMethod$1l({method:"GET",fullPath:"/v1/issuing/personalization_designs",methodType:"list"})}),stripeMethod$1k=StripeResource.method,PhysicalBundles=StripeResource.extend({retrieve:stripeMethod$1k({method:"GET",fullPath:"/v1/issuing/physical_bundles/{physical_bundle}"}),list:stripeMethod$1k({method:"GET",fullPath:"/v1/issuing/physical_bundles",methodType:"list"})}),stripeMethod$1j=StripeResource.method,Products$2=StripeResource.extend({retrieve:stripeMethod$1j({method:"GET",fullPath:"/v1/climate/products/{product}"}),list:stripeMethod$1j({method:"GET",fullPath:"/v1/climate/products",methodType:"list"})}),stripeMethod$1i=StripeResource.method,Readers$1=StripeResource.extend({presentPaymentMethod:stripeMethod$1i({method:"POST",fullPath:"/v1/test_helpers/terminal/readers/{reader}/present_payment_method"})}),stripeMethod$1h=StripeResource.method,Readers=StripeResource.extend({create:stripeMethod$1h({method:"POST",fullPath:"/v1/terminal/readers"}),retrieve:stripeMethod$1h({method:"GET",fullPath:"/v1/terminal/readers/{reader}"}),update:stripeMethod$1h({method:"POST",fullPath:"/v1/terminal/readers/{reader}"}),list:stripeMethod$1h({method:"GET",fullPath:"/v1/terminal/readers",methodType:"list"}),del:stripeMethod$1h({method:"DELETE",fullPath:"/v1/terminal/readers/{reader}"}),cancelAction:stripeMethod$1h({method:"POST",fullPath:"/v1/terminal/readers/{reader}/cancel_action"}),processPaymentIntent:stripeMethod$1h({method:"POST",fullPath:"/v1/terminal/readers/{reader}/process_payment_intent"}),processSetupIntent:stripeMethod$1h({method:"POST",fullPath:"/v1/terminal/readers/{reader}/process_setup_intent"}),refundPayment:stripeMethod$1h({method:"POST",fullPath:"/v1/terminal/readers/{reader}/refund_payment"}),setReaderDisplay:stripeMethod$1h({method:"POST",fullPath:"/v1/terminal/readers/{reader}/set_reader_display"})}),stripeMethod$1g=StripeResource.method,ReceivedCredits$1=StripeResource.extend({create:stripeMethod$1g({method:"POST",fullPath:"/v1/test_helpers/treasury/received_credits"})}),stripeMethod$1f=StripeResource.method,ReceivedCredits=StripeResource.extend({retrieve:stripeMethod$1f({method:"GET",fullPath:"/v1/treasury/received_credits/{id}"}),list:stripeMethod$1f({method:"GET",fullPath:"/v1/treasury/received_credits",methodType:"list"})}),stripeMethod$1e=StripeResource.method,ReceivedDebits$1=StripeResource.extend({create:stripeMethod$1e({method:"POST",fullPath:"/v1/test_helpers/treasury/received_debits"})}),stripeMethod$1d=StripeResource.method,ReceivedDebits=StripeResource.extend({retrieve:stripeMethod$1d({method:"GET",fullPath:"/v1/treasury/received_debits/{id}"}),list:stripeMethod$1d({method:"GET",fullPath:"/v1/treasury/received_debits",methodType:"list"})}),stripeMethod$1c=StripeResource.method,Refunds$1=StripeResource.extend({expire:stripeMethod$1c({method:"POST",fullPath:"/v1/test_helpers/refunds/{refund}/expire"})}),stripeMethod$1b=StripeResource.method,Registrations=StripeResource.extend({create:stripeMethod$1b({method:"POST",fullPath:"/v1/tax/registrations"}),retrieve:stripeMethod$1b({method:"GET",fullPath:"/v1/tax/registrations/{id}"}),update:stripeMethod$1b({method:"POST",fullPath:"/v1/tax/registrations/{id}"}),list:stripeMethod$1b({method:"GET",fullPath:"/v1/tax/registrations",methodType:"list"})}),stripeMethod$1a=StripeResource.method,ReportRuns=StripeResource.extend({create:stripeMethod$1a({method:"POST",fullPath:"/v1/reporting/report_runs"}),retrieve:stripeMethod$1a({method:"GET",fullPath:"/v1/reporting/report_runs/{report_run}"}),list:stripeMethod$1a({method:"GET",fullPath:"/v1/reporting/report_runs",methodType:"list"})}),stripeMethod$19=StripeResource.method,ReportTypes=StripeResource.extend({retrieve:stripeMethod$19({method:"GET",fullPath:"/v1/reporting/report_types/{report_type}"}),list:stripeMethod$19({method:"GET",fullPath:"/v1/reporting/report_types",methodType:"list"})}),stripeMethod$18=StripeResource.method,Requests=StripeResource.extend({create:stripeMethod$18({method:"POST",fullPath:"/v1/forwarding/requests"}),retrieve:stripeMethod$18({method:"GET",fullPath:"/v1/forwarding/requests/{id}"}),list:stripeMethod$18({method:"GET",fullPath:"/v1/forwarding/requests",methodType:"list"})}),stripeMethod$17=StripeResource.method,ScheduledQueryRuns=StripeResource.extend({retrieve:stripeMethod$17({method:"GET",fullPath:"/v1/sigma/scheduled_query_runs/{scheduled_query_run}"}),list:stripeMethod$17({method:"GET",fullPath:"/v1/sigma/scheduled_query_runs",methodType:"list"})}),stripeMethod$16=StripeResource.method,Secrets=StripeResource.extend({create:stripeMethod$16({method:"POST",fullPath:"/v1/apps/secrets"}),list:stripeMethod$16({method:"GET",fullPath:"/v1/apps/secrets",methodType:"list"}),deleteWhere:stripeMethod$16({method:"POST",fullPath:"/v1/apps/secrets/delete"}),find:stripeMethod$16({method:"GET",fullPath:"/v1/apps/secrets/find"})}),stripeMethod$15=StripeResource.method,Sessions$3=StripeResource.extend({create:stripeMethod$15({method:"POST",fullPath:"/v1/billing_portal/sessions"})}),stripeMethod$14=StripeResource.method,Sessions$2=StripeResource.extend({create:stripeMethod$14({method:"POST",fullPath:"/v1/checkout/sessions"}),retrieve:stripeMethod$14({method:"GET",fullPath:"/v1/checkout/sessions/{session}"}),update:stripeMethod$14({method:"POST",fullPath:"/v1/checkout/sessions/{session}"}),list:stripeMethod$14({method:"GET",fullPath:"/v1/checkout/sessions",methodType:"list"}),expire:stripeMethod$14({method:"POST",fullPath:"/v1/checkout/sessions/{session}/expire"}),listLineItems:stripeMethod$14({method:"GET",fullPath:"/v1/checkout/sessions/{session}/line_items",methodType:"list"})}),stripeMethod$13=StripeResource.method,Sessions$1=StripeResource.extend({create:stripeMethod$13({method:"POST",fullPath:"/v1/financial_connections/sessions"}),retrieve:stripeMethod$13({method:"GET",fullPath:"/v1/financial_connections/sessions/{session}"})}),stripeMethod$12=StripeResource.method,Settings$1=StripeResource.extend({retrieve:stripeMethod$12({method:"GET",fullPath:"/v1/tax/settings"}),update:stripeMethod$12({method:"POST",fullPath:"/v1/tax/settings"})}),stripeMethod$11=StripeResource.method,Suppliers$1=StripeResource.extend({retrieve:stripeMethod$11({method:"GET",fullPath:"/v1/climate/suppliers/{supplier}"}),list:stripeMethod$11({method:"GET",fullPath:"/v1/climate/suppliers",methodType:"list"})}),stripeMethod$10=StripeResource.method,TestClocks=StripeResource.extend({create:stripeMethod$10({method:"POST",fullPath:"/v1/test_helpers/test_clocks"}),retrieve:stripeMethod$10({method:"GET",fullPath:"/v1/test_helpers/test_clocks/{test_clock}"}),list:stripeMethod$10({method:"GET",fullPath:"/v1/test_helpers/test_clocks",methodType:"list"}),del:stripeMethod$10({method:"DELETE",fullPath:"/v1/test_helpers/test_clocks/{test_clock}"}),advance:stripeMethod$10({method:"POST",fullPath:"/v1/test_helpers/test_clocks/{test_clock}/advance"})}),stripeMethod$$=StripeResource.method,Tokens$1=StripeResource.extend({retrieve:stripeMethod$$({method:"GET",fullPath:"/v1/issuing/tokens/{token}"}),update:stripeMethod$$({method:"POST",fullPath:"/v1/issuing/tokens/{token}"}),list:stripeMethod$$({method:"GET",fullPath:"/v1/issuing/tokens",methodType:"list"})}),stripeMethod$_=StripeResource.method,TransactionEntries=StripeResource.extend({retrieve:stripeMethod$_({method:"GET",fullPath:"/v1/treasury/transaction_entries/{id}"}),list:stripeMethod$_({method:"GET",fullPath:"/v1/treasury/transaction_entries",methodType:"list"})}),stripeMethod$Z=StripeResource.method,Transactions$4=StripeResource.extend({createForceCapture:stripeMethod$Z({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/create_force_capture"}),createUnlinkedRefund:stripeMethod$Z({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/create_unlinked_refund"}),refund:stripeMethod$Z({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/{transaction}/refund"})}),stripeMethod$Y=StripeResource.method,Transactions$3=StripeResource.extend({retrieve:stripeMethod$Y({method:"GET",fullPath:"/v1/financial_connections/transactions/{transaction}"}),list:stripeMethod$Y({method:"GET",fullPath:"/v1/financial_connections/transactions",methodType:"list"})}),stripeMethod$X=StripeResource.method,Transactions$2=StripeResource.extend({retrieve:stripeMethod$X({method:"GET",fullPath:"/v1/issuing/transactions/{transaction}"}),update:stripeMethod$X({method:"POST",fullPath:"/v1/issuing/transactions/{transaction}"}),list:stripeMethod$X({method:"GET",fullPath:"/v1/issuing/transactions",methodType:"list"})}),stripeMethod$W=StripeResource.method,Transactions$1=StripeResource.extend({retrieve:stripeMethod$W({method:"GET",fullPath:"/v1/tax/transactions/{transaction}"}),createFromCalculation:stripeMethod$W({method:"POST",fullPath:"/v1/tax/transactions/create_from_calculation"}),createReversal:stripeMethod$W({method:"POST",fullPath:"/v1/tax/transactions/create_reversal"}),listLineItems:stripeMethod$W({method:"GET",fullPath:"/v1/tax/transactions/{transaction}/line_items",methodType:"list"})}),stripeMethod$V=StripeResource.method,Transactions=StripeResource.extend({retrieve:stripeMethod$V({method:"GET",fullPath:"/v1/treasury/transactions/{id}"}),list:stripeMethod$V({method:"GET",fullPath:"/v1/treasury/transactions",methodType:"list"})}),stripeMethod$U=StripeResource.method,ValueListItems=StripeResource.extend({create:stripeMethod$U({method:"POST",fullPath:"/v1/radar/value_list_items"}),retrieve:stripeMethod$U({method:"GET",fullPath:"/v1/radar/value_list_items/{item}"}),list:stripeMethod$U({method:"GET",fullPath:"/v1/radar/value_list_items",methodType:"list"}),del:stripeMethod$U({method:"DELETE",fullPath:"/v1/radar/value_list_items/{item}"})}),stripeMethod$T=StripeResource.method,ValueLists=StripeResource.extend({create:stripeMethod$T({method:"POST",fullPath:"/v1/radar/value_lists"}),retrieve:stripeMethod$T({method:"GET",fullPath:"/v1/radar/value_lists/{value_list}"}),update:stripeMethod$T({method:"POST",fullPath:"/v1/radar/value_lists/{value_list}"}),list:stripeMethod$T({method:"GET",fullPath:"/v1/radar/value_lists",methodType:"list"}),del:stripeMethod$T({method:"DELETE",fullPath:"/v1/radar/value_lists/{value_list}"})}),stripeMethod$S=StripeResource.method,VerificationReports=StripeResource.extend({retrieve:stripeMethod$S({method:"GET",fullPath:"/v1/identity/verification_reports/{report}"}),list:stripeMethod$S({method:"GET",fullPath:"/v1/identity/verification_reports",methodType:"list"})}),stripeMethod$R=StripeResource.method,VerificationSessions=StripeResource.extend({create:stripeMethod$R({method:"POST",fullPath:"/v1/identity/verification_sessions"}),retrieve:stripeMethod$R({method:"GET",fullPath:"/v1/identity/verification_sessions/{session}"}),update:stripeMethod$R({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}"}),list:stripeMethod$R({method:"GET",fullPath:"/v1/identity/verification_sessions",methodType:"list"}),cancel:stripeMethod$R({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}/cancel"}),redact:stripeMethod$R({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}/redact"})}),stripeMethod$Q=StripeResource.method,Accounts=StripeResource.extend({create:stripeMethod$Q({method:"POST",fullPath:"/v1/accounts"}),retrieve(Re,...je){return typeof Re=="string"?stripeMethod$Q({method:"GET",fullPath:"/v1/accounts/{id}"}).apply(this,[Re,...je]):(Re==null&&[].shift.apply([Re,...je]),stripeMethod$Q({method:"GET",fullPath:"/v1/account"}).apply(this,[Re,...je]))},update:stripeMethod$Q({method:"POST",fullPath:"/v1/accounts/{account}"}),list:stripeMethod$Q({method:"GET",fullPath:"/v1/accounts",methodType:"list"}),del:stripeMethod$Q({method:"DELETE",fullPath:"/v1/accounts/{account}"}),createExternalAccount:stripeMethod$Q({method:"POST",fullPath:"/v1/accounts/{account}/external_accounts"}),createLoginLink:stripeMethod$Q({method:"POST",fullPath:"/v1/accounts/{account}/login_links"}),createPerson:stripeMethod$Q({method:"POST",fullPath:"/v1/accounts/{account}/persons"}),deleteExternalAccount:stripeMethod$Q({method:"DELETE",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),deletePerson:stripeMethod$Q({method:"DELETE",fullPath:"/v1/accounts/{account}/persons/{person}"}),listCapabilities:stripeMethod$Q({method:"GET",fullPath:"/v1/accounts/{account}/capabilities",methodType:"list"}),listExternalAccounts:stripeMethod$Q({method:"GET",fullPath:"/v1/accounts/{account}/external_accounts",methodType:"list"}),listPersons:stripeMethod$Q({method:"GET",fullPath:"/v1/accounts/{account}/persons",methodType:"list"}),reject:stripeMethod$Q({method:"POST",fullPath:"/v1/accounts/{account}/reject"}),retrieveCurrent:stripeMethod$Q({method:"GET",fullPath:"/v1/account"}),retrieveCapability:stripeMethod$Q({method:"GET",fullPath:"/v1/accounts/{account}/capabilities/{capability}"}),retrieveExternalAccount:stripeMethod$Q({method:"GET",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),retrievePerson:stripeMethod$Q({method:"GET",fullPath:"/v1/accounts/{account}/persons/{person}"}),updateCapability:stripeMethod$Q({method:"POST",fullPath:"/v1/accounts/{account}/capabilities/{capability}"}),updateExternalAccount:stripeMethod$Q({method:"POST",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),updatePerson:stripeMethod$Q({method:"POST",fullPath:"/v1/accounts/{account}/persons/{person}"})}),stripeMethod$P=StripeResource.method,AccountLinks=StripeResource.extend({create:stripeMethod$P({method:"POST",fullPath:"/v1/account_links"})}),stripeMethod$O=StripeResource.method,AccountSessions=StripeResource.extend({create:stripeMethod$O({method:"POST",fullPath:"/v1/account_sessions"})}),stripeMethod$N=StripeResource.method,ApplePayDomains=StripeResource.extend({create:stripeMethod$N({method:"POST",fullPath:"/v1/apple_pay/domains"}),retrieve:stripeMethod$N({method:"GET",fullPath:"/v1/apple_pay/domains/{domain}"}),list:stripeMethod$N({method:"GET",fullPath:"/v1/apple_pay/domains",methodType:"list"}),del:stripeMethod$N({method:"DELETE",fullPath:"/v1/apple_pay/domains/{domain}"})}),stripeMethod$M=StripeResource.method,ApplicationFees=StripeResource.extend({retrieve:stripeMethod$M({method:"GET",fullPath:"/v1/application_fees/{id}"}),list:stripeMethod$M({method:"GET",fullPath:"/v1/application_fees",methodType:"list"}),createRefund:stripeMethod$M({method:"POST",fullPath:"/v1/application_fees/{id}/refunds"}),listRefunds:stripeMethod$M({method:"GET",fullPath:"/v1/application_fees/{id}/refunds",methodType:"list"}),retrieveRefund:stripeMethod$M({method:"GET",fullPath:"/v1/application_fees/{fee}/refunds/{id}"}),updateRefund:stripeMethod$M({method:"POST",fullPath:"/v1/application_fees/{fee}/refunds/{id}"})}),stripeMethod$L=StripeResource.method,Balance=StripeResource.extend({retrieve:stripeMethod$L({method:"GET",fullPath:"/v1/balance"})}),stripeMethod$K=StripeResource.method,BalanceTransactions=StripeResource.extend({retrieve:stripeMethod$K({method:"GET",fullPath:"/v1/balance_transactions/{id}"}),list:stripeMethod$K({method:"GET",fullPath:"/v1/balance_transactions",methodType:"list"})}),stripeMethod$J=StripeResource.method,Charges=StripeResource.extend({create:stripeMethod$J({method:"POST",fullPath:"/v1/charges"}),retrieve:stripeMethod$J({method:"GET",fullPath:"/v1/charges/{charge}"}),update:stripeMethod$J({method:"POST",fullPath:"/v1/charges/{charge}"}),list:stripeMethod$J({method:"GET",fullPath:"/v1/charges",methodType:"list"}),capture:stripeMethod$J({method:"POST",fullPath:"/v1/charges/{charge}/capture"}),search:stripeMethod$J({method:"GET",fullPath:"/v1/charges/search",methodType:"search"})}),stripeMethod$I=StripeResource.method,ConfirmationTokens=StripeResource.extend({retrieve:stripeMethod$I({method:"GET",fullPath:"/v1/confirmation_tokens/{confirmation_token}"})}),stripeMethod$H=StripeResource.method,CountrySpecs=StripeResource.extend({retrieve:stripeMethod$H({method:"GET",fullPath:"/v1/country_specs/{country}"}),list:stripeMethod$H({method:"GET",fullPath:"/v1/country_specs",methodType:"list"})}),stripeMethod$G=StripeResource.method,Coupons=StripeResource.extend({create:stripeMethod$G({method:"POST",fullPath:"/v1/coupons"}),retrieve:stripeMethod$G({method:"GET",fullPath:"/v1/coupons/{coupon}"}),update:stripeMethod$G({method:"POST",fullPath:"/v1/coupons/{coupon}"}),list:stripeMethod$G({method:"GET",fullPath:"/v1/coupons",methodType:"list"}),del:stripeMethod$G({method:"DELETE",fullPath:"/v1/coupons/{coupon}"})}),stripeMethod$F=StripeResource.method,CreditNotes=StripeResource.extend({create:stripeMethod$F({method:"POST",fullPath:"/v1/credit_notes"}),retrieve:stripeMethod$F({method:"GET",fullPath:"/v1/credit_notes/{id}"}),update:stripeMethod$F({method:"POST",fullPath:"/v1/credit_notes/{id}"}),list:stripeMethod$F({method:"GET",fullPath:"/v1/credit_notes",methodType:"list"}),listLineItems:stripeMethod$F({method:"GET",fullPath:"/v1/credit_notes/{credit_note}/lines",methodType:"list"}),listPreviewLineItems:stripeMethod$F({method:"GET",fullPath:"/v1/credit_notes/preview/lines",methodType:"list"}),preview:stripeMethod$F({method:"GET",fullPath:"/v1/credit_notes/preview"}),voidCreditNote:stripeMethod$F({method:"POST",fullPath:"/v1/credit_notes/{id}/void"})}),stripeMethod$E=StripeResource.method,CustomerSessions=StripeResource.extend({create:stripeMethod$E({method:"POST",fullPath:"/v1/customer_sessions"})}),stripeMethod$D=StripeResource.method,Customers$1=StripeResource.extend({create:stripeMethod$D({method:"POST",fullPath:"/v1/customers"}),retrieve:stripeMethod$D({method:"GET",fullPath:"/v1/customers/{customer}"}),update:stripeMethod$D({method:"POST",fullPath:"/v1/customers/{customer}"}),list:stripeMethod$D({method:"GET",fullPath:"/v1/customers",methodType:"list"}),del:stripeMethod$D({method:"DELETE",fullPath:"/v1/customers/{customer}"}),createBalanceTransaction:stripeMethod$D({method:"POST",fullPath:"/v1/customers/{customer}/balance_transactions"}),createFundingInstructions:stripeMethod$D({method:"POST",fullPath:"/v1/customers/{customer}/funding_instructions"}),createSource:stripeMethod$D({method:"POST",fullPath:"/v1/customers/{customer}/sources"}),createTaxId:stripeMethod$D({method:"POST",fullPath:"/v1/customers/{customer}/tax_ids"}),deleteDiscount:stripeMethod$D({method:"DELETE",fullPath:"/v1/customers/{customer}/discount"}),deleteSource:stripeMethod$D({method:"DELETE",fullPath:"/v1/customers/{customer}/sources/{id}"}),deleteTaxId:stripeMethod$D({method:"DELETE",fullPath:"/v1/customers/{customer}/tax_ids/{id}"}),listBalanceTransactions:stripeMethod$D({method:"GET",fullPath:"/v1/customers/{customer}/balance_transactions",methodType:"list"}),listCashBalanceTransactions:stripeMethod$D({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance_transactions",methodType:"list"}),listPaymentMethods:stripeMethod$D({method:"GET",fullPath:"/v1/customers/{customer}/payment_methods",methodType:"list"}),listSources:stripeMethod$D({method:"GET",fullPath:"/v1/customers/{customer}/sources",methodType:"list"}),listTaxIds:stripeMethod$D({method:"GET",fullPath:"/v1/customers/{customer}/tax_ids",methodType:"list"}),retrieveBalanceTransaction:stripeMethod$D({method:"GET",fullPath:"/v1/customers/{customer}/balance_transactions/{transaction}"}),retrieveCashBalance:stripeMethod$D({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance"}),retrieveCashBalanceTransaction:stripeMethod$D({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance_transactions/{transaction}"}),retrievePaymentMethod:stripeMethod$D({method:"GET",fullPath:"/v1/customers/{customer}/payment_methods/{payment_method}"}),retrieveSource:stripeMethod$D({method:"GET",fullPath:"/v1/customers/{customer}/sources/{id}"}),retrieveTaxId:stripeMethod$D({method:"GET",fullPath:"/v1/customers/{customer}/tax_ids/{id}"}),search:stripeMethod$D({method:"GET",fullPath:"/v1/customers/search",methodType:"search"}),updateBalanceTransaction:stripeMethod$D({method:"POST",fullPath:"/v1/customers/{customer}/balance_transactions/{transaction}"}),updateCashBalance:stripeMethod$D({method:"POST",fullPath:"/v1/customers/{customer}/cash_balance"}),updateSource:stripeMethod$D({method:"POST",fullPath:"/v1/customers/{customer}/sources/{id}"}),verifySource:stripeMethod$D({method:"POST",fullPath:"/v1/customers/{customer}/sources/{id}/verify"})}),stripeMethod$C=StripeResource.method,Disputes=StripeResource.extend({retrieve:stripeMethod$C({method:"GET",fullPath:"/v1/disputes/{dispute}"}),update:stripeMethod$C({method:"POST",fullPath:"/v1/disputes/{dispute}"}),list:stripeMethod$C({method:"GET",fullPath:"/v1/disputes",methodType:"list"}),close:stripeMethod$C({method:"POST",fullPath:"/v1/disputes/{dispute}/close"})}),stripeMethod$B=StripeResource.method,EphemeralKeys=StripeResource.extend({create:stripeMethod$B({method:"POST",fullPath:"/v1/ephemeral_keys",validator:(Re,je)=>{if(!je.headers||!je.headers["Stripe-Version"])throw new Error("Passing apiVersion in a separate options hash is required to create an ephemeral key. See https://stripe.com/docs/api/versioning?lang=node")}}),del:stripeMethod$B({method:"DELETE",fullPath:"/v1/ephemeral_keys/{key}"})}),stripeMethod$A=StripeResource.method,Events=StripeResource.extend({retrieve:stripeMethod$A({method:"GET",fullPath:"/v1/events/{id}"}),list:stripeMethod$A({method:"GET",fullPath:"/v1/events",methodType:"list"})}),stripeMethod$z=StripeResource.method,ExchangeRates=StripeResource.extend({retrieve:stripeMethod$z({method:"GET",fullPath:"/v1/exchange_rates/{rate_id}"}),list:stripeMethod$z({method:"GET",fullPath:"/v1/exchange_rates",methodType:"list"})}),stripeMethod$y=StripeResource.method,FileLinks=StripeResource.extend({create:stripeMethod$y({method:"POST",fullPath:"/v1/file_links"}),retrieve:stripeMethod$y({method:"GET",fullPath:"/v1/file_links/{link}"}),update:stripeMethod$y({method:"POST",fullPath:"/v1/file_links/{link}"}),list:stripeMethod$y({method:"GET",fullPath:"/v1/file_links",methodType:"list"})}),multipartDataGenerator=(Re,je,_e)=>{const Me=(Math.round(Math.random()*1e16)+Math.round(Math.random()*1e16)).toString();_e["Content-Type"]=`multipart/form-data; boundary=${Me}`;const $e=new TextEncoder;let ke=new Uint8Array(0);const Ce=$e.encode(`\r
`);function Be(We){const Ke=ke,Je=We instanceof Uint8Array?We:new Uint8Array($e.encode(We));ke=new Uint8Array(Ke.length+Je.length+2),ke.set(Ke),ke.set(Je,Ke.length),ke.set(Ce,ke.length-2)}function qe(We){return`"${We.replace(/"|"/g,"%22").replace(/\r\n|\r|\n/g," ")}"`}const He=flattenAndStringify(je);for(const We in He){if(!Object.prototype.hasOwnProperty.call(He,We))continue;const Ke=He[We];if(Be(`--${Me}`),Object.prototype.hasOwnProperty.call(Ke,"data")){const Je=Ke;Be(`Content-Disposition: form-data; name=${qe(We)}; filename=${qe(Je.name||"blob")}`),Be(`Content-Type: ${Je.type||"application/octet-stream"}`),Be(""),Be(Je.data)}else Be(`Content-Disposition: form-data; name=${qe(We)}`),Be(""),Be(Ke)}return Be(`--${Me}--`),ke};function multipartRequestDataProcessor(Re,je,_e,Me){if(je=je||{},Re!=="POST")return Me(null,queryStringifyRequestData(je));this._stripe._platformFunctions.tryBufferData(je).then($e=>{const ke=multipartDataGenerator(Re,$e,_e);return Me(null,ke)}).catch($e=>Me($e,null))}const stripeMethod$x=StripeResource.method,Files$2=StripeResource.extend({create:stripeMethod$x({method:"POST",fullPath:"/v1/files",headers:{"Content-Type":"multipart/form-data"},host:"files.stripe.com"}),retrieve:stripeMethod$x({method:"GET",fullPath:"/v1/files/{file}"}),list:stripeMethod$x({method:"GET",fullPath:"/v1/files",methodType:"list"}),requestDataProcessor:multipartRequestDataProcessor}),stripeMethod$w=StripeResource.method,InvoiceItems=StripeResource.extend({create:stripeMethod$w({method:"POST",fullPath:"/v1/invoiceitems"}),retrieve:stripeMethod$w({method:"GET",fullPath:"/v1/invoiceitems/{invoiceitem}"}),update:stripeMethod$w({method:"POST",fullPath:"/v1/invoiceitems/{invoiceitem}"}),list:stripeMethod$w({method:"GET",fullPath:"/v1/invoiceitems",methodType:"list"}),del:stripeMethod$w({method:"DELETE",fullPath:"/v1/invoiceitems/{invoiceitem}"})}),stripeMethod$v=StripeResource.method,InvoicePayments=StripeResource.extend({retrieve:stripeMethod$v({method:"GET",fullPath:"/v1/invoice_payments/{invoice_payment}"}),list:stripeMethod$v({method:"GET",fullPath:"/v1/invoice_payments",methodType:"list"})}),stripeMethod$u=StripeResource.method,InvoiceRenderingTemplates=StripeResource.extend({retrieve:stripeMethod$u({method:"GET",fullPath:"/v1/invoice_rendering_templates/{template}"}),list:stripeMethod$u({method:"GET",fullPath:"/v1/invoice_rendering_templates",methodType:"list"}),archive:stripeMethod$u({method:"POST",fullPath:"/v1/invoice_rendering_templates/{template}/archive"}),unarchive:stripeMethod$u({method:"POST",fullPath:"/v1/invoice_rendering_templates/{template}/unarchive"})}),stripeMethod$t=StripeResource.method,Invoices$1=StripeResource.extend({create:stripeMethod$t({method:"POST",fullPath:"/v1/invoices"}),retrieve:stripeMethod$t({method:"GET",fullPath:"/v1/invoices/{invoice}"}),update:stripeMethod$t({method:"POST",fullPath:"/v1/invoices/{invoice}"}),list:stripeMethod$t({method:"GET",fullPath:"/v1/invoices",methodType:"list"}),del:stripeMethod$t({method:"DELETE",fullPath:"/v1/invoices/{invoice}"}),addLines:stripeMethod$t({method:"POST",fullPath:"/v1/invoices/{invoice}/add_lines"}),createPreview:stripeMethod$t({method:"POST",fullPath:"/v1/invoices/create_preview"}),finalizeInvoice:stripeMethod$t({method:"POST",fullPath:"/v1/invoices/{invoice}/finalize"}),listLineItems:stripeMethod$t({method:"GET",fullPath:"/v1/invoices/{invoice}/lines",methodType:"list"}),markUncollectible:stripeMethod$t({method:"POST",fullPath:"/v1/invoices/{invoice}/mark_uncollectible"}),pay:stripeMethod$t({method:"POST",fullPath:"/v1/invoices/{invoice}/pay"}),removeLines:stripeMethod$t({method:"POST",fullPath:"/v1/invoices/{invoice}/remove_lines"}),search:stripeMethod$t({method:"GET",fullPath:"/v1/invoices/search",methodType:"search"}),sendInvoice:stripeMethod$t({method:"POST",fullPath:"/v1/invoices/{invoice}/send"}),updateLines:stripeMethod$t({method:"POST",fullPath:"/v1/invoices/{invoice}/update_lines"}),updateLineItem:stripeMethod$t({method:"POST",fullPath:"/v1/invoices/{invoice}/lines/{line_item_id}"}),voidInvoice:stripeMethod$t({method:"POST",fullPath:"/v1/invoices/{invoice}/void"})}),stripeMethod$s=StripeResource.method,Mandates=StripeResource.extend({retrieve:stripeMethod$s({method:"GET",fullPath:"/v1/mandates/{mandate}"})}),stripeMethod$r=StripeResource.method,oAuthHost="connect.stripe.com",OAuth=StripeResource.extend({basePath:"/",authorizeUrl(Re,je){Re=Re||{},je=je||{};let _e="oauth/authorize";return je.express&&(_e=`express/${_e}`),Re.response_type||(Re.response_type="code"),Re.client_id||(Re.client_id=this._stripe.getClientId()),Re.scope||(Re.scope="read_write"),`https://${oAuthHost}/${_e}?${queryStringifyRequestData(Re)}`},token:stripeMethod$r({method:"POST",path:"oauth/token",host:oAuthHost}),deauthorize(Re,...je){return Re.client_id||(Re.client_id=this._stripe.getClientId()),stripeMethod$r({method:"POST",path:"oauth/deauthorize",host:oAuthHost}).apply(this,[Re,...je])}}),stripeMethod$q=StripeResource.method,PaymentIntents=StripeResource.extend({create:stripeMethod$q({method:"POST",fullPath:"/v1/payment_intents"}),retrieve:stripeMethod$q({method:"GET",fullPath:"/v1/payment_intents/{intent}"}),update:stripeMethod$q({method:"POST",fullPath:"/v1/payment_intents/{intent}"}),list:stripeMethod$q({method:"GET",fullPath:"/v1/payment_intents",methodType:"list"}),applyCustomerBalance:stripeMethod$q({method:"POST",fullPath:"/v1/payment_intents/{intent}/apply_customer_balance"}),cancel:stripeMethod$q({method:"POST",fullPath:"/v1/payment_intents/{intent}/cancel"}),capture:stripeMethod$q({method:"POST",fullPath:"/v1/payment_intents/{intent}/capture"}),confirm:stripeMethod$q({method:"POST",fullPath:"/v1/payment_intents/{intent}/confirm"}),incrementAuthorization:stripeMethod$q({method:"POST",fullPath:"/v1/payment_intents/{intent}/increment_authorization"}),search:stripeMethod$q({method:"GET",fullPath:"/v1/payment_intents/search",methodType:"search"}),verifyMicrodeposits:stripeMethod$q({method:"POST",fullPath:"/v1/payment_intents/{intent}/verify_microdeposits"})}),stripeMethod$p=StripeResource.method,PaymentLinks=StripeResource.extend({create:stripeMethod$p({method:"POST",fullPath:"/v1/payment_links"}),retrieve:stripeMethod$p({method:"GET",fullPath:"/v1/payment_links/{payment_link}"}),update:stripeMethod$p({method:"POST",fullPath:"/v1/payment_links/{payment_link}"}),list:stripeMethod$p({method:"GET",fullPath:"/v1/payment_links",methodType:"list"}),listLineItems:stripeMethod$p({method:"GET",fullPath:"/v1/payment_links/{payment_link}/line_items",methodType:"list"})}),stripeMethod$o=StripeResource.method,PaymentMethodConfigurations=StripeResource.extend({create:stripeMethod$o({method:"POST",fullPath:"/v1/payment_method_configurations"}),retrieve:stripeMethod$o({method:"GET",fullPath:"/v1/payment_method_configurations/{configuration}"}),update:stripeMethod$o({method:"POST",fullPath:"/v1/payment_method_configurations/{configuration}"}),list:stripeMethod$o({method:"GET",fullPath:"/v1/payment_method_configurations",methodType:"list"})}),stripeMethod$n=StripeResource.method,PaymentMethodDomains=StripeResource.extend({create:stripeMethod$n({method:"POST",fullPath:"/v1/payment_method_domains"}),retrieve:stripeMethod$n({method:"GET",fullPath:"/v1/payment_method_domains/{payment_method_domain}"}),update:stripeMethod$n({method:"POST",fullPath:"/v1/payment_method_domains/{payment_method_domain}"}),list:stripeMethod$n({method:"GET",fullPath:"/v1/payment_method_domains",methodType:"list"}),validate:stripeMethod$n({method:"POST",fullPath:"/v1/payment_method_domains/{payment_method_domain}/validate"})}),stripeMethod$m=StripeResource.method,PaymentMethods=StripeResource.extend({create:stripeMethod$m({method:"POST",fullPath:"/v1/payment_methods"}),retrieve:stripeMethod$m({method:"GET",fullPath:"/v1/payment_methods/{payment_method}"}),update:stripeMethod$m({method:"POST",fullPath:"/v1/payment_methods/{payment_method}"}),list:stripeMethod$m({method:"GET",fullPath:"/v1/payment_methods",methodType:"list"}),attach:stripeMethod$m({method:"POST",fullPath:"/v1/payment_methods/{payment_method}/attach"}),detach:stripeMethod$m({method:"POST",fullPath:"/v1/payment_methods/{payment_method}/detach"})}),stripeMethod$l=StripeResource.method,Payouts=StripeResource.extend({create:stripeMethod$l({method:"POST",fullPath:"/v1/payouts"}),retrieve:stripeMethod$l({method:"GET",fullPath:"/v1/payouts/{payout}"}),update:stripeMethod$l({method:"POST",fullPath:"/v1/payouts/{payout}"}),list:stripeMethod$l({method:"GET",fullPath:"/v1/payouts",methodType:"list"}),cancel:stripeMethod$l({method:"POST",fullPath:"/v1/payouts/{payout}/cancel"}),reverse:stripeMethod$l({method:"POST",fullPath:"/v1/payouts/{payout}/reverse"})}),stripeMethod$k=StripeResource.method,Plans=StripeResource.extend({create:stripeMethod$k({method:"POST",fullPath:"/v1/plans"}),retrieve:stripeMethod$k({method:"GET",fullPath:"/v1/plans/{plan}"}),update:stripeMethod$k({method:"POST",fullPath:"/v1/plans/{plan}"}),list:stripeMethod$k({method:"GET",fullPath:"/v1/plans",methodType:"list"}),del:stripeMethod$k({method:"DELETE",fullPath:"/v1/plans/{plan}"})}),stripeMethod$j=StripeResource.method,Prices=StripeResource.extend({create:stripeMethod$j({method:"POST",fullPath:"/v1/prices"}),retrieve:stripeMethod$j({method:"GET",fullPath:"/v1/prices/{price}"}),update:stripeMethod$j({method:"POST",fullPath:"/v1/prices/{price}"}),list:stripeMethod$j({method:"GET",fullPath:"/v1/prices",methodType:"list"}),search:stripeMethod$j({method:"GET",fullPath:"/v1/prices/search",methodType:"search"})}),stripeMethod$i=StripeResource.method,Products$1=StripeResource.extend({create:stripeMethod$i({method:"POST",fullPath:"/v1/products"}),retrieve:stripeMethod$i({method:"GET",fullPath:"/v1/products/{id}"}),update:stripeMethod$i({method:"POST",fullPath:"/v1/products/{id}"}),list:stripeMethod$i({method:"GET",fullPath:"/v1/products",methodType:"list"}),del:stripeMethod$i({method:"DELETE",fullPath:"/v1/products/{id}"}),createFeature:stripeMethod$i({method:"POST",fullPath:"/v1/products/{product}/features"}),deleteFeature:stripeMethod$i({method:"DELETE",fullPath:"/v1/products/{product}/features/{id}"}),listFeatures:stripeMethod$i({method:"GET",fullPath:"/v1/products/{product}/features",methodType:"list"}),retrieveFeature:stripeMethod$i({method:"GET",fullPath:"/v1/products/{product}/features/{id}"}),search:stripeMethod$i({method:"GET",fullPath:"/v1/products/search",methodType:"search"})}),stripeMethod$h=StripeResource.method,PromotionCodes=StripeResource.extend({create:stripeMethod$h({method:"POST",fullPath:"/v1/promotion_codes"}),retrieve:stripeMethod$h({method:"GET",fullPath:"/v1/promotion_codes/{promotion_code}"}),update:stripeMethod$h({method:"POST",fullPath:"/v1/promotion_codes/{promotion_code}"}),list:stripeMethod$h({method:"GET",fullPath:"/v1/promotion_codes",methodType:"list"})}),stripeMethod$g=StripeResource.method,Quotes$2=StripeResource.extend({create:stripeMethod$g({method:"POST",fullPath:"/v1/quotes"}),retrieve:stripeMethod$g({method:"GET",fullPath:"/v1/quotes/{quote}"}),update:stripeMethod$g({method:"POST",fullPath:"/v1/quotes/{quote}"}),list:stripeMethod$g({method:"GET",fullPath:"/v1/quotes",methodType:"list"}),accept:stripeMethod$g({method:"POST",fullPath:"/v1/quotes/{quote}/accept"}),cancel:stripeMethod$g({method:"POST",fullPath:"/v1/quotes/{quote}/cancel"}),finalizeQuote:stripeMethod$g({method:"POST",fullPath:"/v1/quotes/{quote}/finalize"}),listComputedUpfrontLineItems:stripeMethod$g({method:"GET",fullPath:"/v1/quotes/{quote}/computed_upfront_line_items",methodType:"list"}),listLineItems:stripeMethod$g({method:"GET",fullPath:"/v1/quotes/{quote}/line_items",methodType:"list"}),pdf:stripeMethod$g({method:"GET",fullPath:"/v1/quotes/{quote}/pdf",host:"files.stripe.com",streaming:!0})}),stripeMethod$f=StripeResource.method,Refunds=StripeResource.extend({create:stripeMethod$f({method:"POST",fullPath:"/v1/refunds"}),retrieve:stripeMethod$f({method:"GET",fullPath:"/v1/refunds/{refund}"}),update:stripeMethod$f({method:"POST",fullPath:"/v1/refunds/{refund}"}),list:stripeMethod$f({method:"GET",fullPath:"/v1/refunds",methodType:"list"}),cancel:stripeMethod$f({method:"POST",fullPath:"/v1/refunds/{refund}/cancel"})}),stripeMethod$e=StripeResource.method,Reviews=StripeResource.extend({retrieve:stripeMethod$e({method:"GET",fullPath:"/v1/reviews/{review}"}),list:stripeMethod$e({method:"GET",fullPath:"/v1/reviews",methodType:"list"}),approve:stripeMethod$e({method:"POST",fullPath:"/v1/reviews/{review}/approve"})}),stripeMethod$d=StripeResource.method,SetupAttempts=StripeResource.extend({list:stripeMethod$d({method:"GET",fullPath:"/v1/setup_attempts",methodType:"list"})}),stripeMethod$c=StripeResource.method,SetupIntents=StripeResource.extend({create:stripeMethod$c({method:"POST",fullPath:"/v1/setup_intents"}),retrieve:stripeMethod$c({method:"GET",fullPath:"/v1/setup_intents/{intent}"}),update:stripeMethod$c({method:"POST",fullPath:"/v1/setup_intents/{intent}"}),list:stripeMethod$c({method:"GET",fullPath:"/v1/setup_intents",methodType:"list"}),cancel:stripeMethod$c({method:"POST",fullPath:"/v1/setup_intents/{intent}/cancel"}),confirm:stripeMethod$c({method:"POST",fullPath:"/v1/setup_intents/{intent}/confirm"}),verifyMicrodeposits:stripeMethod$c({method:"POST",fullPath:"/v1/setup_intents/{intent}/verify_microdeposits"})}),stripeMethod$b=StripeResource.method,ShippingRates=StripeResource.extend({create:stripeMethod$b({method:"POST",fullPath:"/v1/shipping_rates"}),retrieve:stripeMethod$b({method:"GET",fullPath:"/v1/shipping_rates/{shipping_rate_token}"}),update:stripeMethod$b({method:"POST",fullPath:"/v1/shipping_rates/{shipping_rate_token}"}),list:stripeMethod$b({method:"GET",fullPath:"/v1/shipping_rates",methodType:"list"})}),stripeMethod$a=StripeResource.method,Sources=StripeResource.extend({create:stripeMethod$a({method:"POST",fullPath:"/v1/sources"}),retrieve:stripeMethod$a({method:"GET",fullPath:"/v1/sources/{source}"}),update:stripeMethod$a({method:"POST",fullPath:"/v1/sources/{source}"}),listSourceTransactions:stripeMethod$a({method:"GET",fullPath:"/v1/sources/{source}/source_transactions",methodType:"list"}),verify:stripeMethod$a({method:"POST",fullPath:"/v1/sources/{source}/verify"})}),stripeMethod$9=StripeResource.method,SubscriptionItems=StripeResource.extend({create:stripeMethod$9({method:"POST",fullPath:"/v1/subscription_items"}),retrieve:stripeMethod$9({method:"GET",fullPath:"/v1/subscription_items/{item}"}),update:stripeMethod$9({method:"POST",fullPath:"/v1/subscription_items/{item}"}),list:stripeMethod$9({method:"GET",fullPath:"/v1/subscription_items",methodType:"list"}),del:stripeMethod$9({method:"DELETE",fullPath:"/v1/subscription_items/{item}"})}),stripeMethod$8=StripeResource.method,SubscriptionSchedules=StripeResource.extend({create:stripeMethod$8({method:"POST",fullPath:"/v1/subscription_schedules"}),retrieve:stripeMethod$8({method:"GET",fullPath:"/v1/subscription_schedules/{schedule}"}),update:stripeMethod$8({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}"}),list:stripeMethod$8({method:"GET",fullPath:"/v1/subscription_schedules",methodType:"list"}),cancel:stripeMethod$8({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}/cancel"}),release:stripeMethod$8({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}/release"})}),stripeMethod$7=StripeResource.method,Subscriptions=StripeResource.extend({create:stripeMethod$7({method:"POST",fullPath:"/v1/subscriptions"}),retrieve:stripeMethod$7({method:"GET",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),update:stripeMethod$7({method:"POST",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),list:stripeMethod$7({method:"GET",fullPath:"/v1/subscriptions",methodType:"list"}),cancel:stripeMethod$7({method:"DELETE",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),deleteDiscount:stripeMethod$7({method:"DELETE",fullPath:"/v1/subscriptions/{subscription_exposed_id}/discount"}),resume:stripeMethod$7({method:"POST",fullPath:"/v1/subscriptions/{subscription}/resume"}),search:stripeMethod$7({method:"GET",fullPath:"/v1/subscriptions/search",methodType:"search"})}),stripeMethod$6=StripeResource.method,TaxCodes=StripeResource.extend({retrieve:stripeMethod$6({method:"GET",fullPath:"/v1/tax_codes/{id}"}),list:stripeMethod$6({method:"GET",fullPath:"/v1/tax_codes",methodType:"list"})}),stripeMethod$5=StripeResource.method,TaxIds=StripeResource.extend({create:stripeMethod$5({method:"POST",fullPath:"/v1/tax_ids"}),retrieve:stripeMethod$5({method:"GET",fullPath:"/v1/tax_ids/{id}"}),list:stripeMethod$5({method:"GET",fullPath:"/v1/tax_ids",methodType:"list"}),del:stripeMethod$5({method:"DELETE",fullPath:"/v1/tax_ids/{id}"})}),stripeMethod$4=StripeResource.method,TaxRates=StripeResource.extend({create:stripeMethod$4({method:"POST",fullPath:"/v1/tax_rates"}),retrieve:stripeMethod$4({method:"GET",fullPath:"/v1/tax_rates/{tax_rate}"}),update:stripeMethod$4({method:"POST",fullPath:"/v1/tax_rates/{tax_rate}"}),list:stripeMethod$4({method:"GET",fullPath:"/v1/tax_rates",methodType:"list"})}),stripeMethod$3=StripeResource.method,Tokens=StripeResource.extend({create:stripeMethod$3({method:"POST",fullPath:"/v1/tokens"}),retrieve:stripeMethod$3({method:"GET",fullPath:"/v1/tokens/{token}"})}),stripeMethod$2=StripeResource.method,Topups=StripeResource.extend({create:stripeMethod$2({method:"POST",fullPath:"/v1/topups"}),retrieve:stripeMethod$2({method:"GET",fullPath:"/v1/topups/{topup}"}),update:stripeMethod$2({method:"POST",fullPath:"/v1/topups/{topup}"}),list:stripeMethod$2({method:"GET",fullPath:"/v1/topups",methodType:"list"}),cancel:stripeMethod$2({method:"POST",fullPath:"/v1/topups/{topup}/cancel"})}),stripeMethod$1=StripeResource.method,Transfers=StripeResource.extend({create:stripeMethod$1({method:"POST",fullPath:"/v1/transfers"}),retrieve:stripeMethod$1({method:"GET",fullPath:"/v1/transfers/{transfer}"}),update:stripeMethod$1({method:"POST",fullPath:"/v1/transfers/{transfer}"}),list:stripeMethod$1({method:"GET",fullPath:"/v1/transfers",methodType:"list"}),createReversal:stripeMethod$1({method:"POST",fullPath:"/v1/transfers/{id}/reversals"}),listReversals:stripeMethod$1({method:"GET",fullPath:"/v1/transfers/{id}/reversals",methodType:"list"}),retrieveReversal:stripeMethod$1({method:"GET",fullPath:"/v1/transfers/{transfer}/reversals/{id}"}),updateReversal:stripeMethod$1({method:"POST",fullPath:"/v1/transfers/{transfer}/reversals/{id}"})}),stripeMethod=StripeResource.method,WebhookEndpoints=StripeResource.extend({create:stripeMethod({method:"POST",fullPath:"/v1/webhook_endpoints"}),retrieve:stripeMethod({method:"GET",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"}),update:stripeMethod({method:"POST",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"}),list:stripeMethod({method:"GET",fullPath:"/v1/webhook_endpoints",methodType:"list"}),del:stripeMethod({method:"DELETE",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"})}),Apps=resourceNamespace("apps",{Secrets}),Billing=resourceNamespace("billing",{Alerts,CreditBalanceSummary,CreditBalanceTransactions,CreditGrants,MeterEventAdjustments:MeterEventAdjustments$1,MeterEvents:MeterEvents$1,Meters}),BillingPortal=resourceNamespace("billingPortal",{Configurations:Configurations$1,Sessions:Sessions$3}),Checkout=resourceNamespace("checkout",{Sessions:Sessions$2}),Climate=resourceNamespace("climate",{Orders,Products:Products$2,Suppliers:Suppliers$1}),Entitlements=resourceNamespace("entitlements",{ActiveEntitlements,Features}),FinancialConnections=resourceNamespace("financialConnections",{Accounts:Accounts$1,Sessions:Sessions$1,Transactions:Transactions$3}),Forwarding=resourceNamespace("forwarding",{Requests}),Identity=resourceNamespace("identity",{VerificationReports,VerificationSessions}),Issuing=resourceNamespace("issuing",{Authorizations,Cardholders,Cards,Disputes:Disputes$1,PersonalizationDesigns,PhysicalBundles,Tokens:Tokens$1,Transactions:Transactions$2}),Radar=resourceNamespace("radar",{EarlyFraudWarnings,ValueListItems,ValueLists}),Reporting=resourceNamespace("reporting",{ReportRuns,ReportTypes}),Sigma=resourceNamespace("sigma",{ScheduledQueryRuns}),Tax=resourceNamespace("tax",{Calculations,Registrations,Settings:Settings$1,Transactions:Transactions$1}),Terminal=resourceNamespace("terminal",{Configurations,ConnectionTokens,Locations,Readers}),TestHelpers=resourceNamespace("testHelpers",{ConfirmationTokens:ConfirmationTokens$1,Customers:Customers$2,Refunds:Refunds$1,TestClocks,Issuing:resourceNamespace("issuing",{Authorizations:Authorizations$1,Cards:Cards$1,PersonalizationDesigns:PersonalizationDesigns$1,Transactions:Transactions$4}),Terminal:resourceNamespace("terminal",{Readers:Readers$1}),Treasury:resourceNamespace("treasury",{InboundTransfers:InboundTransfers$1,OutboundPayments:OutboundPayments$1,OutboundTransfers:OutboundTransfers$1,ReceivedCredits:ReceivedCredits$1,ReceivedDebits:ReceivedDebits$1})}),Treasury=resourceNamespace("treasury",{CreditReversals,DebitReversals,FinancialAccounts,InboundTransfers,OutboundPayments,OutboundTransfers,ReceivedCredits,ReceivedDebits,TransactionEntries,Transactions}),V2=resourceNamespace("v2",{Billing:resourceNamespace("billing",{MeterEventAdjustments,MeterEventSession,MeterEventStream,MeterEvents}),Core:resourceNamespace("core",{EventDestinations,Events:Events$1})}),resources=Object.freeze(Object.defineProperty({__proto__:null,Account:Accounts,AccountLinks,AccountSessions,Accounts,ApplePayDomains,ApplicationFees,Apps,Balance,BalanceTransactions,Billing,BillingPortal,Charges,Checkout,Climate,ConfirmationTokens,CountrySpecs,Coupons,CreditNotes,CustomerSessions,Customers:Customers$1,Disputes,Entitlements,EphemeralKeys,Events,ExchangeRates,FileLinks,Files:Files$2,FinancialConnections,Forwarding,Identity,InvoiceItems,InvoicePayments,InvoiceRenderingTemplates,Invoices:Invoices$1,Issuing,Mandates,OAuth,PaymentIntents,PaymentLinks,PaymentMethodConfigurations,PaymentMethodDomains,PaymentMethods,Payouts,Plans,Prices,Products:Products$1,PromotionCodes,Quotes:Quotes$2,Radar,Refunds,Reporting,Reviews,SetupAttempts,SetupIntents,ShippingRates,Sigma,Sources,SubscriptionItems,SubscriptionSchedules,Subscriptions,Tax,TaxCodes,TaxIds,TaxRates,Terminal,TestHelpers,Tokens,Topups,Transfers,Treasury,V2,WebhookEndpoints},Symbol.toStringTag,{value:"Module"})),DEFAULT_HOST="api.stripe.com",DEFAULT_PORT="443",DEFAULT_BASE_PATH="/v1/",DEFAULT_API_VERSION=ApiVersion,DEFAULT_TIMEOUT=8e4,MAX_NETWORK_RETRY_DELAY_SEC=5,INITIAL_NETWORK_RETRY_DELAY_SEC=.5,APP_INFO_PROPERTIES=["name","version","url","partner_id"],ALLOWED_CONFIG_PROPERTIES=["authenticator","apiVersion","typescript","maxNetworkRetries","httpAgent","httpClient","timeout","host","port","protocol","telemetry","appInfo","stripeAccount","stripeContext"],defaultRequestSenderFactory=Re=>new RequestSender(Re,StripeResource.MAX_BUFFERED_REQUEST_METRICS);function createStripe(Re,je=defaultRequestSenderFactory){_e.PACKAGE_VERSION="18.1.0",_e.USER_AGENT=Object.assign({bindings_version:_e.PACKAGE_VERSION,lang:"node",publisher:"stripe",uname:null,typescript:!1},determineProcessUserAgentProperties()),_e.StripeResource=StripeResource,_e.resources=resources,_e.HttpClient=HttpClient,_e.HttpClientResponse=HttpClientResponse,_e.CryptoProvider=CryptoProvider,_e.webhooks=createWebhooks(Re);function _e(Me,$e={}){if(!(this instanceof _e))return new _e(Me,$e);const ke=this._getPropsFromConfig($e);this._platformFunctions=Re,Object.defineProperty(this,"_emitter",{value:this._platformFunctions.createEmitter(),enumerable:!1,configurable:!1,writable:!1}),this.VERSION=_e.PACKAGE_VERSION,this.on=this._emitter.on.bind(this._emitter),this.once=this._emitter.once.bind(this._emitter),this.off=this._emitter.removeListener.bind(this._emitter);const Ce=ke.httpAgent||null;this._api={host:ke.host||DEFAULT_HOST,port:ke.port||DEFAULT_PORT,protocol:ke.protocol||"https",basePath:DEFAULT_BASE_PATH,version:ke.apiVersion||DEFAULT_API_VERSION,timeout:validateInteger("timeout",ke.timeout,DEFAULT_TIMEOUT),maxNetworkRetries:validateInteger("maxNetworkRetries",ke.maxNetworkRetries,2),agent:Ce,httpClient:ke.httpClient||(Ce?this._platformFunctions.createNodeHttpClient(Ce):this._platformFunctions.createDefaultHttpClient()),dev:!1,stripeAccount:ke.stripeAccount||null,stripeContext:ke.stripeContext||null};const Be=ke.typescript||!1;Be!==_e.USER_AGENT.typescript&&(_e.USER_AGENT.typescript=Be),ke.appInfo&&this._setAppInfo(ke.appInfo),this._prepResources(),this._setAuthenticator(Me,ke.authenticator),this.errors=_Error,this.webhooks=_e.webhooks,this._prevRequestMetrics=[],this._enableTelemetry=ke.telemetry!==!1,this._requestSender=je(this),this.StripeResource=_e.StripeResource}return _e.errors=_Error,_e.createNodeHttpClient=Re.createNodeHttpClient,_e.createFetchHttpClient=Re.createFetchHttpClient,_e.createNodeCryptoProvider=Re.createNodeCryptoProvider,_e.createSubtleCryptoProvider=Re.createSubtleCryptoProvider,_e.prototype={_appInfo:void 0,on:null,off:null,once:null,VERSION:null,StripeResource:null,webhooks:null,errors:null,_api:null,_prevRequestMetrics:null,_emitter:null,_enableTelemetry:null,_requestSender:null,_platformFunctions:null,rawRequest(Me,$e,ke,Ce){return this._requestSender._rawRequest(Me,$e,ke,Ce)},_setAuthenticator(Me,$e){if(Me&&$e)throw new Error("Can't specify both apiKey and authenticator");if(!Me&&!$e)throw new Error("Neither apiKey nor config.authenticator provided");this._authenticator=Me?createApiKeyAuthenticator(Me):$e},_setAppInfo(Me){if(Me&&typeof Me!="object")throw new Error("AppInfo must be an object.");if(Me&&!Me.name)throw new Error("AppInfo.name is required");Me=Me||{},this._appInfo=APP_INFO_PROPERTIES.reduce(($e,ke)=>(typeof Me[ke]=="string"&&($e=$e||{},$e[ke]=Me[ke]),$e),{})},_setApiField(Me,$e){this._api[Me]=$e},getApiField(Me){return this._api[Me]},setClientId(Me){this._clientId=Me},getClientId(){return this._clientId},getConstant:Me=>{switch(Me){case"DEFAULT_HOST":return DEFAULT_HOST;case"DEFAULT_PORT":return DEFAULT_PORT;case"DEFAULT_BASE_PATH":return DEFAULT_BASE_PATH;case"DEFAULT_API_VERSION":return DEFAULT_API_VERSION;case"DEFAULT_TIMEOUT":return DEFAULT_TIMEOUT;case"MAX_NETWORK_RETRY_DELAY_SEC":return MAX_NETWORK_RETRY_DELAY_SEC;case"INITIAL_NETWORK_RETRY_DELAY_SEC":return INITIAL_NETWORK_RETRY_DELAY_SEC}return _e[Me]},getMaxNetworkRetries(){return this.getApiField("maxNetworkRetries")},_setApiNumberField(Me,$e,ke){const Ce=validateInteger(Me,$e,ke);this._setApiField(Me,Ce)},getMaxNetworkRetryDelay(){return MAX_NETWORK_RETRY_DELAY_SEC},getInitialNetworkRetryDelay(){return INITIAL_NETWORK_RETRY_DELAY_SEC},getClientUserAgent(Me){return this.getClientUserAgentSeeded(_e.USER_AGENT,Me)},getClientUserAgentSeeded(Me,$e){this._platformFunctions.getUname().then(ke=>{var Ce;const Be={};for(const He in Me)Object.prototype.hasOwnProperty.call(Me,He)&&(Be[He]=encodeURIComponent((Ce=Me[He])!==null&&Ce!==void 0?Ce:"null"));Be.uname=encodeURIComponent(ke||"UNKNOWN");const qe=this.getApiField("httpClient");qe&&(Be.httplib=encodeURIComponent(qe.getClientName())),this._appInfo&&(Be.application=this._appInfo),$e(JSON.stringify(Be))})},getAppInfoAsString(){if(!this._appInfo)return"";let Me=this._appInfo.name;return this._appInfo.version&&(Me+=`/${this._appInfo.version}`),this._appInfo.url&&(Me+=` (${this._appInfo.url})`),Me},getTelemetryEnabled(){return this._enableTelemetry},_prepResources(){for(const Me in resources)Object.prototype.hasOwnProperty.call(resources,Me)&&(this[pascalToCamelCase(Me)]=new resources[Me](this))},_getPropsFromConfig(Me){if(!Me)return{};const $e=typeof Me=="string";if(!(Me===Object(Me)&&!Array.isArray(Me))&&!$e)throw new Error("Config must either be an object or a string");if($e)return{apiVersion:Me};if(Object.keys(Me).filter(Be=>!ALLOWED_CONFIG_PROPERTIES.includes(Be)).length>0)throw new Error(`Config object may only contain the following: ${ALLOWED_CONFIG_PROPERTIES.join(", ")}`);return Me},parseThinEvent(Me,$e,ke,Ce,Be,qe){return this.webhooks.constructEvent(Me,$e,ke,Ce,Be,qe)}},_e}const Stripe=createStripe(new WebPlatformFunctions),subscriptionService={async getSubscriptionPlans(){try{const{data:Re,error:je}=await supabase.from("subscription_plans").select("*").order("price",{ascending:!0});if(je)throw console.error("Error fetching subscription plans:",je),je;return Re||[]}catch(Re){throw console.error("Subscription service error:",Re),Re}},async getCurrentSubscription(){try{const{data:Re}=await supabase.auth.getUser();if(!Re?.user)throw new Error("User not authenticated");const je=await subscriptionService.fetchFreeSubscription();let{data:_e,error:Me}=await supabase.from("subscriptions").select("*").eq("user_id",Re.user.id).maybeSingle();if(Me)throw console.error("Error fetching current subscription:",Me),Me;return _e}catch(Re){throw console.error("Subscription service error:",Re),Re}},async setSubscription(Re,je){try{const{data:_e}=await supabase.auth.getUser();if(!_e?.user)throw new Error("User not authenticated");if(je){const{error:Me}=await supabase.from("subscriptions").update({plan_id:Re,status:"active",current_period_end:"2125-01-01 19:17:14+00",cancel_at_period_end:!1,stripe_subscription_id:null,updated_at:new Date().toISOString()}).eq("user_id",_e?.user.id);if(Me)throw Me}else{const{error:Me}=await supabase.from("subscriptions").update({plan_id:Re,updated_at:new Date().toISOString()}).eq("user_id",_e?.user.id);if(Me)throw Me}}catch(_e){throw console.error("Subscription service error:",_e),_e}},async fetchFreeSubscription(){try{const{data:Re}=await supabase.auth.getUser();if(!Re?.user)throw new Error("User not authenticated");const{data:je,error:_e}=await supabase.from("subscription_plans").select("*").eq("price",0).maybeSingle();if(_e)throw console.error("Error fetching current subscription:",_e),_e;return je}catch(Re){throw console.error("Subscription service error:",Re),Re}},async createCheckoutSession(Re){try{const{data:_e}=await supabase.auth.getUser();if(!_e?.user)throw new Error("User not authenticated");const{data:{session:Me},error:$e}=await supabase.auth.getSession();if($e||!Me)throw new Error("Failed to get authentication session");var je=(await this.getSubscriptionPlans()).find(qe=>qe.id===Re);return(await new Stripe("sk_test_51RIYtWPmPvoB8hNNG0hDFxkRB1NfdqtYLT94m83StsLprhZb7jGHAO2fnkaVvj4wuWyIqeneBnoxcciehltTVyo9000uFOQs9B",{}).checkout.sessions.create({mode:"subscription",payment_method_types:["card"],customer_email:_e?.user.email,client_reference_id:_e?.user.id,line_items:[{price:je?.stripe_price_id,quantity:1}],metadata:{user_id:_e?.user?.id??"unknown",description:_e?.user?.email??"unknown",plan_id:Re},subscription_data:{metadata:{user_id:_e?.user.id,description:`CxTrack UserId: ${_e?.user.id} | CxTrack user email: ${_e?.user.email}`}},success_url:"https://buy.stripe.com/test_3csbJ22Ym7z4d0Y000/success?session_id={CHECKOUT_SESSION_ID}",cancel_url:"https://buy.stripe.com/test_3csbJ22Ym7z4d0Y000/cancel"})).url}catch(_e){throw console.error("Subscription service error:",_e),_e}},async cancelSubscription(){try{const{data:Re}=await supabase.auth.getUser();if(!Re?.user)throw new Error("User not authenticated");const je=await this.getCurrentSubscription();await new Stripe("sk_test_51RIYtWPmPvoB8hNNG0hDFxkRB1NfdqtYLT94m83StsLprhZb7jGHAO2fnkaVvj4wuWyIqeneBnoxcciehltTVyo9000uFOQs9B").subscriptions.update(je.stripe_subscription_id,{cancel_at_period_end:!0})}catch(Re){throw console.error("Subscription service error:",Re),Re}}},useSubscriptionStore=create((Re,je)=>({plans:[],currentSubscription:null,paymentMethods:[],loading:!1,error:null,clearError:()=>Re({error:null}),fetchSubscriptionPlans:async()=>{Re({loading:!0,error:null});try{const _e=await subscriptionService.getSubscriptionPlans();Re({plans:_e,loading:!1})}catch(_e){console.error("Error in fetchSubscriptionPlans:",_e),Re({error:_e.message||"Failed to fetch subscription plans",loading:!1})}},fetchCurrentSubscription:async()=>{Re({loading:!0,error:null});try{const _e=await subscriptionService.getCurrentSubscription();Re({currentSubscription:_e,loading:!1})}catch(_e){console.error("Error in fetchCurrentSubscription:",_e),Re({error:_e.message||"Failed to fetch current subscription",loading:!1})}},createCheckoutSession:async _e=>{Re({loading:!0,error:null});try{const Me=await subscriptionService.createCheckoutSession(_e);return Re({loading:!1}),Me}catch(Me){throw console.error("Error in createCheckoutSession:",Me),Re({error:Me.message||"Failed to create checkout session",loading:!1}),Me}},cancelSubscription:async()=>{Re({loading:!0,error:null});try{await subscriptionService.cancelSubscription();const _e=await subscriptionService.getCurrentSubscription();Re({currentSubscription:_e,loading:!1})}catch(_e){throw console.error("Error in cancelSubscription:",_e),Re({error:_e.message||"Failed to cancel subscription",loading:!1}),_e}},fetchFreeSubscription:async()=>{Re({loading:!0,error:null});try{const _e=await subscriptionService.fetchFreeSubscription();return Re({currentSubscription:_e,loading:!1}),_e}catch(_e){throw console.error("Error in fetchFreeSubscription:",_e),Re({error:_e.message||"Failed to fetchFreeSubscription subscription",loading:!1}),_e}},setSubscription:async(_e,Me)=>{Re({loading:!0,error:null});try{await subscriptionService.setSubscription(_e,Me)}catch($e){throw console.error("Error in setSubscription:",$e),Re({error:$e.message||"Failed to setSubscription subscription",loading:!1}),$e}}})),useTemplateStore=create((Re,je)=>({activeTemplate:"call-center",loading:!1,error:null,clearError:()=>Re({error:null}),getActiveTemplate:async()=>{Re({loading:!0,error:null});try{const{data:_e}=await supabase.from("user_settings").select("dashboard_settings").single();_e?.dashboard_settings?.activeTemplate&&Re({activeTemplate:_e.dashboard_settings.activeTemplate}),Re({loading:!1})}catch(_e){console.error("Error getting active template:",_e),Re({error:_e.message||"Failed to get active template",loading:!1})}},setActiveTemplate:async _e=>{Re({loading:!0,error:null});try{const{data:Me}=await supabase.from("user_settings").select("dashboard_settings").single(),$e={...Me?.dashboard_settings,activeTemplate:_e},{error:ke}=await supabase.from("user_settings").update({dashboard_settings:$e}).eq("user_id",(await supabase.auth.getUser()).data.user?.id);if(ke)throw ke;Re({activeTemplate:_e,loading:!1})}catch(Me){throw console.error("Error setting active template:",Me),Re({error:Me.message||"Failed to set active template",loading:!1}),Me}}})),useTemplateConfigStore=create(()=>({getConfig:Re=>{const je={name:"Small Business",sidebarItems:[{label:"Dashboard",icon:"LayoutDashboard",path:"/dashboard"},{label:"CRM",icon:"Users",path:"/crm"},{label:"Customers",icon:"Users",path:"/customers"},{label:"Suppliers",icon:"Users",path:"/suppliers"},{label:"Calls",icon:"Phone",path:"/calls"},{label:"Quotes",icon:"Quote",path:"/quotes",section:"sales"},{label:"Invoices",icon:"FileText",path:"/invoices",section:"sales"},{label:"Revenue",icon:"DollarSign",path:"/revenue",section:"finance"},{label:"Expenses",icon:"Receipt",path:"/expenses",section:"finance"},{label:"Products",icon:"Package",path:"/products",section:"finance"},{label:"Inventory",icon:"Layers",path:"/inventory",section:"finance"},{label:"Purchases",icon:"ShoppingCart",path:"/purchases",section:"finance"}],dashboardCards:[{title:"Total Revenue",icon:"DollarSign",value:"0",change:"0%",trend:"up",color:"text-green-500",path:"/revenue"},{title:"Total Customers",icon:"Users",value:"0",change:"0%",trend:"up",color:"text-blue-500"},{title:"Total Products",icon:"Package",value:"0",change:"0%",trend:"up",color:"text-purple-500"},{title:"Pending Orders",icon:"ShoppingCart",value:"0",change:"0%",trend:"up",color:"text-amber-500"}],dashboardSections:{showPipeline:!0,showInventory:!0,showExpenses:!0,showCalendar:!0,showSales:!0,showFinance:!0}},_e={name:"Realtors",sidebarItems:[{label:"Dashboard",icon:"LayoutDashboard",path:"/dashboard"},{label:"Clients",icon:"Users",path:"/customers"},{label:"Listings",icon:"FileText",path:"/listings",section:"sales"},{label:"Showings",icon:"Calendar",path:"/showings",section:"sales"},{label:"Commissions",icon:"DollarSign",path:"/revenue",section:"finance"},{label:"Expenses",icon:"Receipt",path:"/expenses",section:"finance"}],dashboardCards:[{title:"Total Commissions",icon:"DollarSign",value:"0",change:"0%",trend:"up",color:"text-green-500",path:"/revenue"},{title:"Active Listings",icon:"Home",value:"0",change:"0%",trend:"up",color:"text-blue-500"},{title:"Active Clients",icon:"Users",value:"0",change:"0%",trend:"up",color:"text-purple-500"},{title:"Showings This Week",icon:"Calendar",value:"0",change:"0%",trend:"up",color:"text-amber-500"}],dashboardSections:{showPipeline:!0,showInventory:!1,showExpenses:!0,showCalendar:!0,showSales:!0,showFinance:!0}},Me={name:"Call Center",sidebarItems:[{label:"Dashboard",icon:"LayoutDashboard",path:"/dashboard"},{label:"Customers",icon:"Users",path:"/customers"},{label:"Calls",icon:"Phone",path:"/calls"}],dashboardCards:[{title:"Customers",icon:"Users",value:"0",change:"0%",trend:"up",color:"text-blue-500"},{title:"Calls",icon:"Phone",value:"0",change:"0%",trend:"up",color:"text-green-500"}],dashboardSections:{showPipeline:!1,showInventory:!1,showExpenses:!1,showCalendar:!1,showSales:!1,showFinance:!1}},$e={name:"Call Center",sidebarItems:[{label:"Dashboard",icon:"LayoutDashboard",path:"/dashboard"},{label:"Customers",icon:"Users",path:"/customers"},{label:"Calls",icon:"Phone",path:"/calls"},{label:"CRM",icon:"Users",path:"/crm"},{label:"Calendar",icon:"Calendar",path:"/calendar"}],dashboardCards:[{title:"Customers",icon:"Users",value:"0",change:"0%",trend:"up",color:"text-blue-500"},{title:"Calls",icon:"Phone",value:"0",change:"0%",trend:"up",color:"text-green-500"}],dashboardSections:{showPipeline:!0,showInventory:!1,showExpenses:!1,showCalendar:!1,showSales:!1,showFinance:!1}};switch(Re){case"realtors":return _e;case"call-center":return Me;case"morgage-brokers":return $e;default:return je}}})),adminStore=create((Re,je)=>({isAdmin:!1,loading:!1,isUserAdmin:async()=>{const{data:{user:_e}}=await supabase.auth.getUser();if(!_e)return;const{data:Me,error:$e}=await supabase.from("admin_settings").select("is_admin").eq("user_id",_e?.id).maybeSingle();if($e)throw $e;const ke=Me?.is_admin??!1;Re({isAdmin:ke||!1})}})),DashboardLayout=()=>{const[Re,je]=reactExports.useState(!0),[_e,Me]=reactExports.useState(!1),[$e,ke]=reactExports.useState(!1),[Ce,Be]=reactExports.useState(!1),{activeTemplate:qe,setActiveTemplate:He,getActiveTemplate:We,loading:Ke}=useTemplateStore(),[Je,Qe]=reactExports.useState({sales:!0,finance:!0,team:!0,system:!0,admin:!0}),{user:rr,signOut:tr}=useAuthStore(),{currentSubscription:cr}=useSubscriptionStore(),{getConfig:or}=useTemplateConfigStore(),ar=or(qe),pr=useNavigate(),ur=useLocation(),{isAdmin:gr,isUserAdmin:jr}=adminStore.getState();cr?.plan_id&&["business","enterprise"].includes(cr.plan_id);const vr=()=>{je(!Re)};reactExports.useEffect(()=>{We(),jr()}),reactExports.useEffect(()=>{Re&&Ce&&Be(!1)},[Re]);const dr=()=>je(!1);reactExports.useEffect(()=>{window.innerWidth<768&&dr()},[ur.pathname]);const xr=async()=>{await tr(),pr("/login")},Rr=Pe=>{Qe(Fe=>({...Fe,[Pe]:!Fe[Pe]}))},Xe=ur.pathname==="/settings"&&ur.search==="?tab=ai-agents";return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-dark-950 flex",children:[Re&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 z-20 md:hidden",onClick:dr}),jsxRuntimeExports.jsx("aside",{className:`fixed top-0 left-0 z-30 h-full bg-dark-900 transform transition-transform duration-200 ease-in-out md:relative ${Re?"translate-x-0 w-64":"-translate-x-full w-0 md:w-20"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-full",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between px-4 py-5 border-b border-dark-800",children:[jsxRuntimeExports.jsxs(Link,{to:"/dashboard",className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("img",{src:"/logo.svg",alt:"CxTrack Logo",className:"h-10 w-10 logo-glow"}),Re&&jsxRuntimeExports.jsx("span",{className:"brand-logo text-2xl font-bold text-white brand-text",children:"CxTrack"})]}),jsxRuntimeExports.jsx("button",{onClick:vr,className:"text-gray-400 hover:text-white p-1 rounded-lg hover:bg-dark-700 md:block",title:Re?"Collapse sidebar":"Expand sidebar",children:jsxRuntimeExports.jsx(ChevronLeft,{size:20,className:`transform transition-transform duration-200 ${Re?"":"rotate-180"}`})})]}),jsxRuntimeExports.jsxs("nav",{className:"flex-1 py-4 px-2 space-y-1 overflow-y-auto",children:[ar.sidebarItems.map((Pe,Fe)=>{let ze;switch(Pe.icon){case"LayoutDashboard":ze=LayoutGrid;break;case"Users":ze=Users;break;case"FileText":ze=FileText;break;case"Package":ze=Package;break;case"ShoppingCart":ze=ShoppingCart;break;case"Receipt":ze=Receipt;break;case"DollarSign":ze=DollarSign;break;case"Calendar":ze=Calendar$2;break;default:ze=FileText}return Pe.section?null:jsxRuntimeExports.jsxs(NavLink,{to:Pe.path,className:({isActive:Ue})=>`sidebar-link ${Ue?"active":""}`,children:[jsxRuntimeExports.jsx(ze,{size:20}),Re&&jsxRuntimeExports.jsx("span",{children:Pe.label})]},Fe)}),Re&&ar.dashboardSections.showSales&&jsxRuntimeExports.jsxs("div",{className:"pt-4 pb-2 px-4 flex items-center justify-between cursor-pointer group",onClick:()=>Rr("sales"),children:[jsxRuntimeExports.jsx("span",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Sales"}),jsxRuntimeExports.jsx(ChevronDown,{size:14,className:`text-gray-400 transform transition-transform duration-200 ${Je.sales?"rotate-180":""}`})]}),(!Re||Je.sales)&&ar.dashboardSections.showSales&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:ar.sidebarItems.filter(Pe=>Pe.section==="sales").map((Pe,Fe)=>{let ze;switch(Pe.icon){case"Quote":ze=FileText;break;case"FileText":ze=FileText;break;default:ze=FileText}return jsxRuntimeExports.jsxs(NavLink,{to:Pe.path,className:({isActive:Ue})=>`sidebar-link ${Ue?"active":""}`,children:[jsxRuntimeExports.jsx(ze,{size:20}),Re&&jsxRuntimeExports.jsx("span",{children:Pe.label})]},Fe)})}),(!Re||Je.finance)&&ar.dashboardSections.showFinance&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(NavLink,{to:"/revenue",className:({isActive:Pe})=>`sidebar-link ${Pe?"active":""}`,children:[jsxRuntimeExports.jsx(DollarSign,{size:20}),Re&&jsxRuntimeExports.jsx("span",{children:"Revenue"})]}),jsxRuntimeExports.jsxs(NavLink,{to:"/products",className:({isActive:Pe})=>`sidebar-link ${Pe?"active":""}`,children:[jsxRuntimeExports.jsx(Package,{size:20}),Re&&jsxRuntimeExports.jsx("span",{children:"Products"})]}),jsxRuntimeExports.jsxs(NavLink,{to:"/inventory",className:({isActive:Pe})=>`sidebar-link ${Pe?"active":""}`,children:[jsxRuntimeExports.jsx(Layers,{size:20}),Re&&jsxRuntimeExports.jsx("span",{children:"Inventory"})]})]}),Re&&gr&&jsxRuntimeExports.jsxs("div",{className:"pt-4 pb-2 px-4 flex items-center justify-between cursor-pointer group",onClick:()=>Rr("admin"),children:[jsxRuntimeExports.jsx("span",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Admin"}),jsxRuntimeExports.jsx(ChevronDown,{size:14,className:`text-gray-400 transform transition-transform duration-200 ${Je.admin?"rotate-180":""}`})]}),(!Re||Je.admin)&&gr&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(NavLink,{to:"/admin-calls",end:!0,className:({isActive:Pe})=>`sidebar-link ${Pe&&!Xe?"active":""}`,children:[jsxRuntimeExports.jsx(Settings$2,{size:20}),Re&&jsxRuntimeExports.jsx("span",{children:"Calls"})]})}),(!Re||Je.admin)&&gr&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(NavLink,{to:"/admin/call-agent-setup",end:!0,className:({isActive:Pe})=>`sidebar-link ${Pe&&!Xe?"active":""}`,children:[jsxRuntimeExports.jsx(Settings$2,{size:20}),Re&&jsxRuntimeExports.jsx("span",{children:"Call Agents"})]})}),(!Re||Je.admin)&&gr&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(NavLink,{to:"/admin-users",end:!0,className:({isActive:Pe})=>`sidebar-link ${Pe&&!Xe?"active":""}`,children:[jsxRuntimeExports.jsx(Settings$2,{size:20}),Re&&jsxRuntimeExports.jsx("span",{children:"Users"})]})}),(!Re||Je.admin)&&gr&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(NavLink,{to:"/admin/sent-notification",end:!0,className:({isActive:Pe})=>`sidebar-link ${Pe&&!Xe?"active":""}`,children:[jsxRuntimeExports.jsx(Settings$2,{size:20}),Re&&jsxRuntimeExports.jsx("span",{children:"Send Notification"})]})}),Re&&jsxRuntimeExports.jsxs("div",{className:"pt-4 pb-2 px-4 flex items-center justify-between cursor-pointer group",onClick:()=>Rr("system"),children:[jsxRuntimeExports.jsx("span",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"System"}),jsxRuntimeExports.jsx(ChevronDown,{size:14,className:`text-gray-400 transform transition-transform duration-200 ${Je.system?"rotate-180":""}`})]}),(!Re||Je.system)&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(NavLink,{to:"/settings",end:!0,className:({isActive:Pe})=>`sidebar-link ${Pe&&!Xe?"active":""}`,children:[jsxRuntimeExports.jsx(Settings$2,{size:20}),Re&&jsxRuntimeExports.jsx("span",{children:"Settings"})]}),jsxRuntimeExports.jsxs(NavLink,{to:"/templates",className:({isActive:Pe})=>`sidebar-link ${Pe?"active":""}`,children:[jsxRuntimeExports.jsx(FileText,{size:20}),Re&&jsxRuntimeExports.jsx("span",{children:"Templates"})]})]}),jsxRuntimeExports.jsxs("button",{onClick:xr,className:"sidebar-link text-red-400 hover:text-red-300 w-full text-left",children:[jsxRuntimeExports.jsx(LogOut,{size:20}),Re&&jsxRuntimeExports.jsx("span",{children:"Sign Out"})]})]})]})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 flex flex-col min-w-0 overflow-hidden",children:[jsxRuntimeExports.jsx("header",{className:"bg-dark-900 border-b border-dark-800 sticky top-0 z-10",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between h-16 px-4",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center space-x-4",children:jsxRuntimeExports.jsx("button",{onClick:vr,className:"text-gray-400 hover:text-white md:hidden","aria-label":"Toggle menu",children:jsxRuntimeExports.jsx(Menu,{size:24})})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsx(NotificationBell,{}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>Me(!_e),className:"flex items-center space-x-2 text-gray-300 hover:text-white focus:outline-none","aria-label":"User menu",children:[jsxRuntimeExports.jsx("div",{className:"h-8 w-8 rounded-full bg-primary-700 flex items-center justify-center text-white",children:rr?.user_metadata?.full_name?.charAt(0)||rr?.email?.charAt(0)||"U"}),Re&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{className:"hidden md:inline-block font-medium",children:rr?.user_metadata?.full_name||rr?.email?.split("@")[0]}),jsxRuntimeExports.jsx(ChevronDown,{size:16,className:"hidden md:block"})]})]}),_e&&jsxRuntimeExports.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-dark-800 rounded-md shadow-lg py-1 z-50",children:[jsxRuntimeExports.jsx(NavLink,{to:"/settings",className:"block px-4 py-2 text-sm text-gray-300 hover:bg-dark-700",onClick:()=>Me(!1),children:"Profile Settings"}),jsxRuntimeExports.jsx(NavLink,{to:"/settings?tab=billing",className:"block px-4 py-2 text-sm text-gray-300 hover:bg-dark-700",onClick:()=>Me(!1),children:"Subscription"}),jsxRuntimeExports.jsx("button",{onClick:()=>{Me(!1),xr()},className:"block w-full text-left px-4 py-2 text-sm text-red-400 hover:bg-dark-700",children:"Sign Out"})]})]})]})]})}),jsxRuntimeExports.jsx("main",{className:`flex-1 overflow-y-auto bg-dark-950 p-4 md:p-6 transition-all duration-200 ${$e?Ce?"mr-[calc(100%-16rem)]":"mr-96":""}`,children:jsxRuntimeExports.jsx(Outlet,{})})]})]})},Login=()=>{const{register:Re,handleSubmit:je,formState:{errors:_e}}=useForm(),{signIn:Me,signInWithGoogle:$e,loading:ke,error:Ce,clearError:Be}=useAuthStore(),qe=useNavigate(),[He,We]=reactExports.useState(!1),[Ke,Je]=reactExports.useState(!1),[Qe,rr]=reactExports.useState(!1),[tr,cr]=reactExports.useState(0);reactExports.useEffect(()=>{Be()},[Be]);const or=async pr=>{try{rr(!0),cr(ur=>ur+1),await Me(pr.email,pr.password),c$1.success("Logged in successfully"),setTimeout(()=>{qe("/dashboard")},300)}catch(ur){console.error("Login error in component:",ur),tr>=2&&c$1.error("Having trouble logging in? Try using a different browser or clearing your cookies.")}},ar=/iPad|iPhone|iPod/.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1;return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-dark-950 flex flex-col",children:[jsxRuntimeExports.jsx("div",{className:"bg-dark-900 border-b border-dark-800",children:jsxRuntimeExports.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:jsxRuntimeExports.jsxs(Link,{to:"/",className:"flex items-center space-x-2 text-gray-400 hover:text-white transition-colors",children:[jsxRuntimeExports.jsx(ArrowLeft,{size:20}),jsxRuntimeExports.jsx("span",{children:"Back to Home"})]})})}),jsxRuntimeExports.jsx("div",{className:"flex-1 flex items-center justify-center px-4 py-12",children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-md",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center mb-8",children:[jsxRuntimeExports.jsxs(Link,{to:"/",className:"flex items-center space-x-3 mb-8",children:[jsxRuntimeExports.jsx("img",{src:"/logo.svg",alt:"CxTrack Logo",className:"h-12 w-12 logo-glow"}),jsxRuntimeExports.jsx("span",{className:"brand-logo text-3xl font-bold text-white brand-text",children:"CxTrack"})]}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Welcome back"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Sign in to your account to continue"})]}),Ce&&jsxRuntimeExports.jsxs("div",{className:"bg-red-900/50 border border-red-800 text-red-300 px-4 py-3 rounded-lg mb-6",children:[Ce,ar&&tr>=1&&jsxRuntimeExports.jsx("p",{className:"mt-2 text-sm",children:`iOS users: If you're having trouble, try enabling "Cross-Website Tracking" in Safari Settings  Privacy & Security.`})]}),jsxRuntimeExports.jsxs("form",{onSubmit:je(or),className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-1",children:"Email Address"}),jsxRuntimeExports.jsx("input",{id:"email",type:"email",inputMode:"email",className:"input w-full bg-dark-800 border-dark-700",placeholder:"you@example.com",autoComplete:"email",autoCapitalize:"none",...Re("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})}),_e.email&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:_e.email.message})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-1",children:"Password"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{id:"password",type:Ke?"text":"password",className:"input w-full pr-10 bg-dark-800 border-dark-700",placeholder:"",autoComplete:"current-password",...Re("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}})}),jsxRuntimeExports.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-300",onClick:()=>Je(!Ke),tabIndex:-1,children:Ke?jsxRuntimeExports.jsx(EyeOff,{size:18}):jsxRuntimeExports.jsx(Eye,{size:18})})]}),_e.password&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:_e.password.message})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("input",{id:"remember-me",type:"checkbox",className:"h-4 w-4 rounded border-gray-600 bg-dark-800 text-primary-600 focus:ring-primary-500"}),jsxRuntimeExports.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-300",children:"Remember me"})]}),jsxRuntimeExports.jsx("div",{className:"text-sm",children:jsxRuntimeExports.jsxs(Link,{to:"/forgot-password",className:"text-primary-400 hover:text-primary-300 flex items-center",onClick:()=>Be(),children:[jsxRuntimeExports.jsx(Mail,{size:14,className:"mr-1"}),"Forgot password?"]})})]}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:ke,className:"btn btn-primary w-full flex justify-center py-3",children:ke?jsxRuntimeExports.jsxs("span",{className:"flex items-center",children:[jsxRuntimeExports.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[jsxRuntimeExports.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),jsxRuntimeExports.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):jsxRuntimeExports.jsxs("span",{className:"flex items-center",children:[jsxRuntimeExports.jsx(LogIn,{size:18,className:"mr-2"}),"Sign In"]})}),jsxRuntimeExports.jsxs("div",{className:"relative py-3",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex items-center",children:jsxRuntimeExports.jsx("div",{className:"w-full border-t border-dark-700"})}),jsxRuntimeExports.jsx("div",{className:"relative flex justify-center text-sm",children:jsxRuntimeExports.jsx("span",{className:"px-2 bg-dark-950 text-gray-400",children:"Or continue with"})})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-center",children:jsxRuntimeExports.jsxs("button",{type:"button",onClick:async()=>{try{We(!0),await $e()}catch(pr){console.error("Google sign in error:",pr),c$1.error("Failed to sign in with Google")}finally{We(!1)}},disabled:ke||He,className:"btn btn-secondary flex items-center justify-center space-x-2 py-2.5 relative w-full max-w-xs",children:[He&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-dark-800/50 flex items-center justify-center",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-5 w-5"})}),jsxRuntimeExports.jsxs("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:[jsxRuntimeExports.jsx("path",{d:"M12.0003 4.75C13.7703 4.75 15.3553 5.36002 16.6053 6.54998L20.0303 3.125C17.9502 1.19 15.2353 0 12.0003 0C7.31028 0 3.25527 2.69 1.28027 6.60998L5.27028 9.70498C6.21525 6.86002 8.87028 4.75 12.0003 4.75Z",fill:"#EA4335"}),jsxRuntimeExports.jsx("path",{d:"M23.49 12.275C23.49 11.49 23.415 10.73 23.3 10H12V14.51H18.47C18.18 15.99 17.34 17.25 16.08 18.1L19.945 21.1C22.2 19.01 23.49 15.92 23.49 12.275Z",fill:"#4285F4"}),jsxRuntimeExports.jsx("path",{d:"M5.26498 14.2949C5.02498 13.5699 4.88501 12.7999 4.88501 11.9999C4.88501 11.1999 5.01998 10.4299 5.26498 9.70492L1.27498 6.60992C0.46498 8.22992 0 10.0599 0 11.9999C0 13.9399 0.46498 15.7699 1.28498 17.3899L5.26498 14.2949Z",fill:"#FBBC05"}),jsxRuntimeExports.jsx("path",{d:"M12.0004 24.0001C15.2404 24.0001 17.9654 22.935 19.9454 21.095L16.0804 18.095C15.0054 18.855 13.6204 19.325 12.0004 19.325C8.8704 19.325 6.21537 17.215 5.2654 14.295L1.2754 17.385C3.25537 21.31 7.3104 24.0001 12.0004 24.0001Z",fill:"#34A853"})]}),jsxRuntimeExports.jsx("span",{children:"Google"})]})})]}),jsxRuntimeExports.jsxs("p",{className:"mt-8 text-center text-sm text-gray-400",children:["Don't have an account?"," ",jsxRuntimeExports.jsx(Link,{to:"/register",className:"text-primary-400 hover:text-primary-300 font-medium",children:"Sign up for free"})]})]})})]})},GDPRNotice=()=>{const Re=useNavigate(),[je,_e]=reactExports.useState(!1);return reactExports.useEffect(()=>{fetch("https://ipapi.co/json/").then(Me=>Me.json()).then(Me=>{["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE"].includes(Me.country_code)&&(_e(!0),setTimeout(()=>{Re("/")},5e3))}).catch(Me=>{console.error("Error checking location:",Me)})},[Re]),jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-dark-950",children:[jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-b from-primary-900 to-primary-800 py-16",children:jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4",children:[jsxRuntimeExports.jsxs(Link,{to:"/",className:"inline-flex items-center text-white mb-8 hover:text-primary-200",children:[jsxRuntimeExports.jsx(ArrowLeft,{size:20,className:"mr-2"}),"Back to Home"]}),jsxRuntimeExports.jsxs("div",{className:"max-w-3xl mx-auto",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Regional Availability Notice"}),jsxRuntimeExports.jsx("p",{className:"text-xl text-primary-200",children:"Important information about CxTrack's regional availability and data handling."})]})]})}),jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4 py-16",children:je?jsxRuntimeExports.jsx("div",{className:"bg-red-900/50 border border-red-800 rounded-lg p-8 mb-8",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start",children:[jsxRuntimeExports.jsx(AlertTriangle,{size:24,className:"text-red-400 mr-3 mt-1"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Service Not Available in Your Region"}),jsxRuntimeExports.jsx("p",{className:"text-red-200",children:"We've detected that you're accessing CxTrack from a European Union member state. Unfortunately, our services are not available in your region. You will be redirected to the homepage in a few seconds."})]})]})}):jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-lg border border-dark-700 p-8",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"North American Service Only"}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Regional Availability"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300",children:"CxTrack's services are exclusively available to users in North America (United States and Canada). We do not operate in or provide services to users in the European Union or other regions governed by GDPR regulations."})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Data Handling Notice"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300",children:"Our platform is designed for North American business operations and complies with applicable North American data protection laws. We do not claim GDPR compliance and do not offer GDPR-mandated data subject rights or protections."})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Access Restrictions"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300",children:"Users attempting to access our services from European Union member states will be automatically blocked. This includes registration, login, and use of our platform's features."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-700 rounded-lg p-6 mt-8",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"By using CxTrack, you acknowledge that:"}),jsxRuntimeExports.jsxs("ul",{className:"space-y-3 text-gray-300",children:[jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx("span",{className:"text-primary-400 mr-2",children:""}),"You are located in and accessing our services from North America"]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx("span",{className:"text-primary-400 mr-2",children:""}),"Your use of our services is not subject to GDPR regulations"]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx("span",{className:"text-primary-400 mr-2",children:""}),"Data handling and privacy practices follow North American standards"]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx("span",{className:"text-primary-400 mr-2",children:""}),"You will not attempt to circumvent regional access restrictions"]})]})]})]})]})})]})},ResetPassword=()=>{useLocation();const Re=useNavigate(),{updatePassword:je,loading:_e,error:Me,clearError:$e}=useAuthStore(),[ke,Ce]=reactExports.useState(!1),[Be,qe]=reactExports.useState(!1),{register:He,handleSubmit:We,watch:Ke,formState:{errors:Je}}=useForm(),Qe=Ke("password"),rr=async tr=>{$e();try{const or=new URLSearchParams(window.location.hash.substring(1)).get("access_token");if(!or)throw new Error("Invalid or expired reset link");await je(or,tr.password),c$1.success("Password reset successfully"),setTimeout(()=>{Re("/login")},1500)}catch(cr){console.error("Password reset error:",cr);const or=Me?.includes("Invalid")||Me?.includes("expired")?"This password reset link has expired. Please request a new one.":Me||"Failed to reset password. Please try again.";c$1.error(or),(or.includes("expired")||or.includes("Invalid"))&&setTimeout(()=>Re("/forgot-password"),2e3)}};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-dark-950 flex flex-col",children:[jsxRuntimeExports.jsx("div",{className:"bg-dark-900 border-b border-dark-800",children:jsxRuntimeExports.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>Re(-1),className:"flex items-center space-x-2 text-gray-400 hover:text-white transition-colors",children:[jsxRuntimeExports.jsx(ArrowLeft,{size:20}),jsxRuntimeExports.jsx("span",{children:"Back"})]}),jsxRuntimeExports.jsxs(Link,{to:"/",className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("img",{src:"/logo.svg",alt:"CxTrack Logo",className:"h-8 w-8 logo-glow"}),jsxRuntimeExports.jsx("span",{className:"brand-logo text-xl font-bold text-white brand-text",children:"CxTrack"})]})]})})}),jsxRuntimeExports.jsx("div",{className:"flex-1 flex items-center justify-center px-4 py-12",children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-md",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center mb-8",children:[jsxRuntimeExports.jsxs(Link,{to:"/",className:"flex items-center space-x-3 mb-8",children:[jsxRuntimeExports.jsx("img",{src:"/logo.svg",alt:"CxTrack Logo",className:"h-12 w-12 logo-glow"}),jsxRuntimeExports.jsx("span",{className:"brand-logo text-3xl font-bold text-white brand-text",children:"CxTrack"})]}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Reset Your Password"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Enter your new password below"})]}),Me&&jsxRuntimeExports.jsx("div",{className:"bg-red-900/50 border border-red-800 text-red-300 px-4 py-3 rounded-lg mb-6",children:Me}),jsxRuntimeExports.jsxs("form",{onSubmit:We(rr),className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-1",children:"New Password"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{id:"password",type:ke?"text":"password",className:"input w-full pr-10 bg-dark-800 border-dark-700",placeholder:"",...He("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}})}),jsxRuntimeExports.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-300",onClick:()=>Ce(!ke),tabIndex:-1,children:ke?jsxRuntimeExports.jsx(EyeOff,{size:18}):jsxRuntimeExports.jsx(Eye,{size:18})})]}),Je.password&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:Je.password.message})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-300 mb-1",children:"Confirm New Password"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{id:"confirmPassword",type:Be?"text":"password",className:"input w-full pr-10 bg-dark-800 border-dark-700",placeholder:"",...He("confirmPassword",{required:"Please confirm your password",validate:tr=>tr===Qe||"Passwords do not match"})}),jsxRuntimeExports.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-300",onClick:()=>qe(!Be),tabIndex:-1,children:Be?jsxRuntimeExports.jsx(EyeOff,{size:18}):jsxRuntimeExports.jsx(Eye,{size:18})})]}),Je.confirmPassword&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:Je.confirmPassword.message})]}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:_e,className:"btn btn-primary w-full py-3",children:_e?jsxRuntimeExports.jsxs("span",{className:"flex items-center justify-center",children:[jsxRuntimeExports.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[jsxRuntimeExports.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),jsxRuntimeExports.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Resetting Password..."]}):"Reset Password"})]})]})})]})},ForgotPassword=()=>{const{resetPassword:Re,loading:je,error:_e,clearError:Me}=useAuthStore(),$e=useNavigate(),[ke,Ce]=reactExports.useState(!1),{register:Be,handleSubmit:qe,formState:{errors:He}}=useForm(),We=async Ke=>{Me();try{await Re(Ke.email),Ce(!0),c$1.success("Password reset instructions sent to your email")}catch(Je){console.error("Password reset error:",Je)}};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-dark-950 flex flex-col",children:[jsxRuntimeExports.jsx("div",{className:"bg-dark-900 border-b border-dark-800",children:jsxRuntimeExports.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>$e(-1),className:"flex items-center space-x-2 text-gray-400 hover:text-white transition-colors",children:[jsxRuntimeExports.jsx(ArrowLeft,{size:20}),jsxRuntimeExports.jsx("span",{children:"Back"})]}),jsxRuntimeExports.jsxs(Link,{to:"/",className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("img",{src:"/logo.svg",alt:"CxTrack Logo",className:"h-8 w-8 logo-glow"}),jsxRuntimeExports.jsx("span",{className:"brand-logo text-xl font-bold text-white brand-text",children:"CxTrack"})]})]})})}),jsxRuntimeExports.jsx("div",{className:"flex-1 flex items-center justify-center px-4 py-12",children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-md",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center mb-8",children:[jsxRuntimeExports.jsxs(Link,{to:"/",className:"flex items-center space-x-3 mb-8",children:[jsxRuntimeExports.jsx("img",{src:"/logo.svg",alt:"CxTrack Logo",className:"h-12 w-12 logo-glow"}),jsxRuntimeExports.jsx("span",{className:"brand-logo text-3xl font-bold text-white brand-text",children:"CxTrack"})]}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Reset Password"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Enter your email to receive reset instructions"})]}),_e&&jsxRuntimeExports.jsx("div",{className:"bg-red-900/50 border border-red-800 text-red-300 px-4 py-3 rounded-lg mb-6",children:_e}),ke?jsxRuntimeExports.jsxs("div",{className:"bg-primary-900/50 border border-primary-800 rounded-lg p-6 text-center",children:[jsxRuntimeExports.jsx(Mail,{className:"w-12 h-12 text-primary-400 mx-auto mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Check Your Email"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 mb-6",children:"We've sent password reset instructions to your email address. Please check your inbox."}),jsxRuntimeExports.jsx(Link,{to:"/login",className:"btn btn-primary w-full",children:"Return to Login"})]}):jsxRuntimeExports.jsxs("form",{onSubmit:qe(We),className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-1",children:"Email Address"}),jsxRuntimeExports.jsx("input",{id:"email",type:"email",className:"input w-full bg-dark-800 border-dark-700",placeholder:"you@example.com",autoComplete:"email",...Be("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})}),He.email&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:He.email.message})]}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:je,className:"btn btn-primary w-full py-3",children:je?jsxRuntimeExports.jsxs("span",{className:"flex items-center justify-center",children:[jsxRuntimeExports.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[jsxRuntimeExports.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),jsxRuntimeExports.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending Reset Instructions..."]}):"Send Reset Instructions"}),jsxRuntimeExports.jsxs("p",{className:"text-center text-sm text-gray-400",children:["Remember your password?"," ",jsxRuntimeExports.jsx(Link,{to:"/login",className:"text-primary-400 hover:text-primary-300 font-medium",children:"Sign in"})]})]})]})})]})},Register=()=>{const{register:Re,handleSubmit:je,watch:_e,formState:{errors:Me}}=useForm(),{signUp:$e,signInWithGoogle:ke,loading:Ce,error:Be,clearError:qe}=useAuthStore(),He=useNavigate(),[We,Ke]=reactExports.useState(!1),[Je,Qe]=reactExports.useState(!1),[rr,tr]=reactExports.useState(!1),[cr,or]=reactExports.useState(!1),[ar,pr]=reactExports.useState(!0);reactExports.useEffect(()=>{qe()},[qe]),reactExports.useEffect(()=>{fetch("https://ipapi.co/json/").then(jr=>jr.json()).then(jr=>{["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE"].includes(jr.country_code)&&He("/gdpr"),pr(!1)}).catch(jr=>{console.error("Error checking location:",jr),pr(!1)})},[He]);const ur=_e("password"),gr=async jr=>{try{await $e(jr.email,jr.password,jr.fullName),tr(!0),c$1.success("Please check your email to verify your account")}catch(vr){console.error("Register error in component:",vr)}};return ar?jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500 mx-auto"}),jsxRuntimeExports.jsx("p",{className:"mt-4 text-gray-400",children:"Checking regional availability..."})]})}):jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-dark-950 flex flex-col",children:[jsxRuntimeExports.jsx("div",{className:"bg-dark-900 border-b border-dark-800",children:jsxRuntimeExports.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:jsxRuntimeExports.jsxs(Link,{to:"/",className:"flex items-center space-x-2 text-gray-400 hover:text-white transition-colors",children:[jsxRuntimeExports.jsx(ArrowLeft,{size:20}),jsxRuntimeExports.jsx("span",{children:"Back to Home"})]})})}),jsxRuntimeExports.jsx("div",{className:"flex-1 flex items-center justify-center px-4 py-12",children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-md",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center mb-8",children:[jsxRuntimeExports.jsxs(Link,{to:"/",className:"flex items-center space-x-3 mb-8",children:[jsxRuntimeExports.jsx("img",{src:"/logo.svg",alt:"CxTrack Logo",className:"h-12 w-12 logo-glow"}),jsxRuntimeExports.jsx("span",{className:"brand-logo text-3xl font-bold text-white brand-text",children:"CxTrack"})]}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Create your account"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Start your free trial, no credit card required"}),rr&&jsxRuntimeExports.jsx("div",{className:"mt-4 bg-primary-900/50 border border-primary-800 text-primary-300 px-4 py-3 rounded-lg",children:jsxRuntimeExports.jsx("p",{children:"We've sent you a verification email. Please check your inbox and follow the instructions to verify your account."})})]}),Be&&jsxRuntimeExports.jsx("div",{className:"bg-red-900/50 border border-red-800 text-red-300 px-4 py-3 rounded-lg mb-6",children:Be}),jsxRuntimeExports.jsxs("form",{onSubmit:je(gr),className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-300 mb-1",children:"Full Name"}),jsxRuntimeExports.jsx("input",{id:"fullName",type:"text",className:"input w-full bg-dark-800 border-dark-700",placeholder:"John Doe",autoComplete:"name",...Re("fullName",{required:"Full name is required"})}),Me.fullName&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:Me.fullName.message})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-1",children:"Email Address"}),jsxRuntimeExports.jsx("input",{id:"email",type:"email",inputMode:"email",className:"input w-full bg-dark-800 border-dark-700",placeholder:"you@example.com",autoComplete:"email",autoCapitalize:"none",...Re("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})}),Me.email&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:Me.email.message})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-1",children:"Password"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{id:"password",type:We?"text":"password",className:"input w-full pr-10 bg-dark-800 border-dark-700",placeholder:"",autoComplete:"new-password",...Re("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}})}),jsxRuntimeExports.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-300",onClick:()=>Ke(!We),tabIndex:-1,children:We?jsxRuntimeExports.jsx(EyeOff,{size:18}):jsxRuntimeExports.jsx(Eye,{size:18})})]}),Me.password&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:Me.password.message})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-300 mb-1",children:"Confirm Password"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{id:"confirmPassword",type:Je?"text":"password",className:"input w-full pr-10 bg-dark-800 border-dark-700",placeholder:"",autoComplete:"new-password",...Re("confirmPassword",{required:"Please confirm your password",validate:jr=>jr===ur||"Passwords do not match"})}),jsxRuntimeExports.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-300",onClick:()=>Qe(!Je),tabIndex:-1,children:Je?jsxRuntimeExports.jsx(EyeOff,{size:18}):jsxRuntimeExports.jsx(Eye,{size:18})})]}),Me.confirmPassword&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:Me.confirmPassword.message})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("input",{id:"terms",type:"checkbox",className:"h-4 w-4 rounded border-gray-600 bg-dark-800 text-primary-600 focus:ring-primary-500",required:!0}),jsxRuntimeExports.jsxs("label",{htmlFor:"terms",className:"ml-2 block text-sm text-gray-300",children:["I agree to the"," ",jsxRuntimeExports.jsx("a",{href:"#",className:"text-primary-400 hover:text-primary-300",children:"Terms of Service"})," ","and"," ",jsxRuntimeExports.jsx("a",{href:"#",className:"text-primary-400 hover:text-primary-300",children:"Privacy Policy"})]})]}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:Ce,className:"btn btn-primary w-full flex justify-center py-3",children:Ce?jsxRuntimeExports.jsxs("span",{className:"flex items-center",children:[jsxRuntimeExports.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[jsxRuntimeExports.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),jsxRuntimeExports.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating account..."]}):jsxRuntimeExports.jsxs("span",{className:"flex items-center",children:[jsxRuntimeExports.jsx(UserPlus,{size:18,className:"mr-2"}),"Create Account"]})}),jsxRuntimeExports.jsxs("div",{className:"relative py-3",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex items-center",children:jsxRuntimeExports.jsx("div",{className:"w-full border-t border-dark-700"})}),jsxRuntimeExports.jsx("div",{className:"relative flex justify-center text-sm",children:jsxRuntimeExports.jsx("span",{className:"px-2 bg-dark-950 text-gray-400",children:"Or sign up with"})})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-center",children:jsxRuntimeExports.jsxs("button",{type:"button",onClick:async()=>{try{or(!0);const{data:jr,error:vr}=await supabase.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/auth/callback`,queryParams:{access_type:"offline",prompt:"consent"}}});if(vr)throw vr}catch(jr){console.error("Google sign in error:",jr),c$1.error("Failed to sign in with Google")}finally{or(!1)}},disabled:Ce||cr,className:"btn btn-secondary flex items-center justify-center space-x-2 py-2.5 relative w-full max-w-xs",children:[cr&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-dark-800/50 flex items-center justify-center",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin h-5 w-5"})}),jsxRuntimeExports.jsxs("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:[jsxRuntimeExports.jsx("path",{d:"M12.0003 4.75C13.7703 4.75 15.3553 5.36002 16.6053 6.54998L20.0303 3.125C17.9502 1.19 15.2353 0 12.0003 0C7.31028 0 3.25527 2.69 1.28027 6.60998L5.27028 9.70498C6.21525 6.86002 8.87028 4.75 12.0003 4.75Z",fill:"#EA4335"}),jsxRuntimeExports.jsx("path",{d:"M23.49 12.275C23.49 11.49 23.415 10.73 23.3 10H12V14.51H18.47C18.18 15.99 17.34 17.25 16.08 18.1L19.945 21.1C22.2 19.01 23.49 15.92 23.49 12.275Z",fill:"#4285F4"}),jsxRuntimeExports.jsx("path",{d:"M5.26498 14.2949C5.02498 13.5699 4.88501 12.7999 4.88501 11.9999C4.88501 11.1999 5.01998 10.4299 5.26498 9.70492L1.27498 6.60992C0.46498 8.22992 0 10.0599 0 11.9999C0 13.9399 0.46498 15.7699 1.28498 17.3899L5.26498 14.2949Z",fill:"#FBBC05"}),jsxRuntimeExports.jsx("path",{d:"M12.0004 24.0001C15.2404 24.0001 17.9654 22.935 19.9454 21.095L16.0804 18.095C15.0054 18.855 13.6204 19.325 12.0004 19.325C8.8704 19.325 6.21537 17.215 5.2654 14.295L1.2754 17.385C3.25537 21.31 7.3104 24.0001 12.0004 24.0001Z",fill:"#34A853"})]}),jsxRuntimeExports.jsx("span",{children:"Google"})]})})]}),jsxRuntimeExports.jsxs("p",{className:"mt-8 text-center text-sm text-gray-400",children:["Already have an account?"," ",jsxRuntimeExports.jsx(Link,{to:"/login",className:"text-primary-400 hover:text-primary-300 font-medium",children:"Sign in"})]})]})})]})},customerService={async getCustomers(){try{const{data:Re}=await supabase.auth.getUser();if(!Re?.user)throw new Error("User not authenticated");const{data:je,error:_e}=await supabase.from("customers").select("*").order("created_at",{ascending:!1});if(_e)throw console.error("Error fetching customers:",_e),_e;return je||[]}catch(Re){throw console.error("Customer service error:",Re),Re}},async getCustomerById(Re){try{const{data:je}=await supabase.auth.getUser();if(!je?.user)throw new Error("User not authenticated");const{data:_e,error:Me}=await supabase.from("customers").select("*").eq("id",Re).single();if(Me)throw console.error("Error fetching customer:",Me),Me;return _e}catch(je){throw console.error("Customer service error:",je),je}},async createCustomer(Re){try{const{data:je}=await supabase.auth.getUser();if(!je?.user)throw new Error("User not authenticated");const _e={...Re,user_id:je.user.id,status:"Active",total_spent:0},{data:Me,error:$e}=await supabase.from("customers").insert([_e]).select().single();if($e)throw console.error("Error creating customer:",$e),$e;return Me}catch(je){throw console.error("Customer service error:",je),je}},async updateCustomer(Re,je){try{const{street:_e,city:Me,state:$e,postalCode:ke,country:Ce,...Be}=je,qe=_e?[_e,Me,$e,ke].filter(Boolean).join(", "):null,{data:He}=await supabase.auth.getUser();if(!He?.user)throw new Error("User not authenticated");const{data:We,error:Ke}=await supabase.from("customers").update({...Be,address:qe,updated_at:new Date().toISOString()}).eq("id",Re).select().single();if(Ke)throw console.error("Error updating customer:",Ke),Ke;return We}catch(_e){throw console.error("Customer service error:",_e),_e}},async getCustomerByPhone(Re){try{const{data:je}=await supabase.auth.getUser();if(!je?.user)throw new Error("User not authenticated");const{data:_e,error:Me}=await supabase.from("customers").select("*").eq("phone",Re).single();if(Me)throw Me;return _e}catch(je){throw console.error("Customer service error:",je),je}},async deleteCustomer(Re){try{const{data:je}=await supabase.auth.getUser();if(!je?.user)throw new Error("User not authenticated");const{error:_e}=await supabase.from("customers").delete().eq("id",Re);if(_e)throw console.error("Error deleting customer:",_e),_e}catch(je){throw console.error("Customer service error:",je),je}}},piplelineService={async getPipelineItem(Re){try{const{data:je,error:_e}=await supabase.from("pipeline_items").select("*").eq("id",Re).single();if(_e)throw console.error("Error fetching pipiline item:",_e),_e;return je}catch(je){throw console.error("Pipeline service error:",je),je}},async getPipelines(){try{const{data:Re,error:je}=await supabase.from("pipeline_items").select(`*,
                customers:customer_id (
                  id,
                  name,
                  email,
                  phone,
                  address,
                  company
                )
          `);if(je)throw console.error("Error fetching pipline items:",je),je;return Re||[]}catch(Re){throw console.error("Pipeline service error:",Re),Re}},async createPipeline(Re){const{data:je}=await supabase.auth.getUser();if(!je?.user)throw new Error("User not authenticated");try{const{data:_e,error:Me}=await supabase.from("pipeline_items").insert([{user_id:je.user.id,customer_id:Re.customer_id,stage:Re.stage,closing_date:Re.closing_date,closing_probability:Re.closing_probability,dollar_value:Re.dollar_value}]).select().single();return Me&&console.log(Me),_e}catch(_e){throw console.error("Task service error:",_e),_e}},async updatePipelineItem(Re){try{if(!await this.getPipelineItem(Re.id))throw new Error(`PipelineItem with id ${Re.id} was not found`);const{customers:_e,...Me}=Re,{data:$e,error:ke}=await supabase.from("pipeline_items").update(Me).eq("id",Re.id).select().single();if(ke)throw console.error("Error updating task status:",ke),ke;return $e}catch(je){throw console.error("Pipeline service error:",je),je}},async deletePipelineItems(Re){try{console.log(Re);const{error:je}=await supabase.from("pipeline_items").delete().eq("id",Re);if(je)throw console.error("Error deleting pipeline item:",je),je}catch(je){throw console.error("Pipleine service error:",je),je}},async deleteCustomerPipelineItems(Re){try{await supabase.from("pipeline_items").delete().eq("customer_id",Re)}catch(je){throw je}}},VERSION$1="4.27.0";class RetellError extends Error{}let APIError$1=class Ol extends RetellError{constructor(je,_e,Me,$e){super(`${Ol.makeMessage(je,_e,Me)}`),this.status=je,this.headers=$e,this.error=_e}static makeMessage(je,_e,Me){const $e=_e?.message?typeof _e.message=="string"?_e.message:JSON.stringify(_e.message):_e?JSON.stringify(_e):Me;return je&&$e?`${je} ${$e}`:je?`${je} status code (no body)`:$e||"(no status code or body)"}static generate(je,_e,Me,$e){if(!je||!$e)return new APIConnectionError$1({message:Me,cause:castToError$1(_e)});const ke=_e;return je===400?new BadRequestError$1(je,ke,Me,$e):je===401?new AuthenticationError$1(je,ke,Me,$e):je===403?new PermissionDeniedError$1(je,ke,Me,$e):je===404?new NotFoundError$1(je,ke,Me,$e):je===409?new ConflictError$1(je,ke,Me,$e):je===422?new UnprocessableEntityError$1(je,ke,Me,$e):je===429?new RateLimitError$1(je,ke,Me,$e):je>=500?new InternalServerError$1(je,ke,Me,$e):new Ol(je,ke,Me,$e)}},APIUserAbortError$1=class extends APIError$1{constructor({message:je}={}){super(void 0,void 0,je||"Request was aborted.",void 0)}},APIConnectionError$1=class extends APIError$1{constructor({message:je,cause:_e}){super(void 0,void 0,je||"Connection error.",void 0),_e&&(this.cause=_e)}},APIConnectionTimeoutError$1=class extends APIConnectionError$1{constructor({message:je}={}){super({message:je??"Request timed out."})}},BadRequestError$1=class extends APIError$1{},AuthenticationError$1=class extends APIError$1{},PermissionDeniedError$1=class extends APIError$1{},NotFoundError$1=class extends APIError$1{},ConflictError$1=class extends APIError$1{},UnprocessableEntityError$1=class extends APIError$1{},RateLimitError$1=class extends APIError$1{},InternalServerError$1=class extends APIError$1{},auto$2=!1,kind$1,fetch$2,FormData$2,File$2,getMultipartRequestOptions$1,getDefaultAgent$1,fileFromPath$1,isFsReadStream$1;function setShims$1(Re,je={auto:!1}){if(auto$2)throw new Error(`you must \`import 'retell-sdk/shims/${Re.kind}'\` before importing anything else from retell-sdk`);if(kind$1)throw new Error(`can't \`import 'retell-sdk/shims/${Re.kind}'\` after \`import 'retell-sdk/shims/${kind$1}'\``);auto$2=je.auto,kind$1=Re.kind,fetch$2=Re.fetch,FormData$2=Re.FormData,File$2=Re.File,getMultipartRequestOptions$1=Re.getMultipartRequestOptions,getDefaultAgent$1=Re.getDefaultAgent,fileFromPath$1=Re.fileFromPath,isFsReadStream$1=Re.isFsReadStream}let MultipartBody$1=class{constructor(je){this.body=je}get[Symbol.toStringTag](){return"MultipartBody"}};function getRuntime$1({manuallyImported:Re}={}){const je=Re?"You may need to use polyfills":"Add one of these imports before your first `import  from 'retell-sdk'`:\n- `import 'retell-sdk/shims/node'` (if you're running on Node)\n- `import 'retell-sdk/shims/web'` (otherwise)\n";let _e,Me,$e,ke;try{_e=fetch,Me=Request,$e=Response,ke=Headers}catch(Ce){throw new Error(`this environment is missing the following Web Fetch API type: ${Ce.message}. ${je}`)}return{kind:"web",fetch:_e,Request:Me,Response:$e,Headers:ke,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${je}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${je}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${je}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${je}`)}},getMultipartRequestOptions:async(Ce,Be)=>({...Be,body:new MultipartBody$1(Ce)}),getDefaultAgent:Ce=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/RetellAI/retell-typescript-sdk#file-uploads")},isFsReadStream:Ce=>!1}}const init=()=>{kind$1||setShims$1(getRuntime$1(),{auto:!0})};init();const isResponseLike$1=Re=>Re!=null&&typeof Re=="object"&&typeof Re.url=="string"&&typeof Re.blob=="function",isFileLike$1=Re=>Re!=null&&typeof Re=="object"&&typeof Re.name=="string"&&typeof Re.lastModified=="number"&&isBlobLike$1(Re),isBlobLike$1=Re=>Re!=null&&typeof Re=="object"&&typeof Re.size=="number"&&typeof Re.type=="string"&&typeof Re.text=="function"&&typeof Re.slice=="function"&&typeof Re.arrayBuffer=="function",isUploadable$1=Re=>isFileLike$1(Re)||isResponseLike$1(Re)||isFsReadStream$1(Re);async function toFile$1(Re,je,_e){if(Re=await Re,isFileLike$1(Re))return Re;if(isResponseLike$1(Re)){const $e=await Re.blob();je||(je=new URL(Re.url).pathname.split(/[\\/]/).pop()??"unknown_file");const ke=isBlobLike$1($e)?[await $e.arrayBuffer()]:[$e];return new File$2(ke,je,_e)}const Me=await getBytes$1(Re);if(je||(je=getName$1(Re)??"unknown_file"),!_e?.type){const $e=Me[0]?.type;typeof $e=="string"&&(_e={..._e,type:$e})}return new File$2(Me,je,_e)}async function getBytes$1(Re){let je=[];if(typeof Re=="string"||ArrayBuffer.isView(Re)||Re instanceof ArrayBuffer)je.push(Re);else if(isBlobLike$1(Re))je.push(await Re.arrayBuffer());else if(isAsyncIterableIterator$1(Re))for await(const _e of Re)je.push(_e);else throw new Error(`Unexpected data type: ${typeof Re}; constructor: ${Re?.constructor?.name}; props: ${propsForError$1(Re)}`);return je}function propsForError$1(Re){return`[${Object.getOwnPropertyNames(Re).map(_e=>`"${_e}"`).join(", ")}]`}function getName$1(Re){return getStringFromMaybeBuffer$1(Re.name)||getStringFromMaybeBuffer$1(Re.filename)||getStringFromMaybeBuffer$1(Re.path)?.split(/[\\/]/).pop()}const getStringFromMaybeBuffer$1=Re=>{if(typeof Re=="string")return Re;if(typeof Buffer$B<"u"&&Re instanceof Buffer$B)return String(Re)},isAsyncIterableIterator$1=Re=>Re!=null&&typeof Re=="object"&&typeof Re[Symbol.asyncIterator]=="function",isMultipartBody$1=Re=>Re&&typeof Re=="object"&&Re.body&&Re[Symbol.toStringTag]==="MultipartBody",multipartFormRequestOptions$1=async Re=>{const je=await createForm$1(Re.body);return getMultipartRequestOptions$1(je,Re)},createForm$1=async Re=>{const je=new FormData$2;return await Promise.all(Object.entries(Re||{}).map(([_e,Me])=>addFormValue$1(je,_e,Me))),je},hasUploadableValue=Re=>{if(isUploadable$1(Re))return!0;if(Array.isArray(Re))return Re.some(hasUploadableValue);if(Re&&typeof Re=="object"){for(const je in Re)if(hasUploadableValue(Re[je]))return!0}return!1},addFormValue$1=async(Re,je,_e)=>{if(_e!==void 0){if(_e==null)throw new TypeError(`Received null for "${je}"; to pass null in FormData, you must use the string 'null'`);if(typeof _e=="string"||typeof _e=="number"||typeof _e=="boolean")Re.append(je,String(_e));else if(isUploadable$1(_e)){const Me=await toFile$1(_e);Re.append(je,Me)}else if(Array.isArray(_e))if(hasUploadableValue(_e))for(const Me of _e)await addFormValue$1(Re,je,Me);else Re.append(je,JSON.stringify(_e));else if(typeof _e=="object")Re.append(je,JSON.stringify(_e));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${_e} instead`)}};var define_process_env_default$1={};init();async function defaultParseResponse$1(Re){const{response:je}=Re;if(je.status===204)return null;if(Re.options.__binaryResponse)return je;const Me=je.headers.get("content-type")?.split(";")[0]?.trim();if(Me?.includes("application/json")||Me?.endsWith("+json")){const Ce=await je.json();return debug$1("response",je.status,je.url,je.headers,Ce),Ce}const ke=await je.text();return debug$1("response",je.status,je.url,je.headers,ke),ke}let APIPromise$1=class xc extends Promise{constructor(je,_e=defaultParseResponse$1){super(Me=>{Me(null)}),this.responsePromise=je,this.parseResponse=_e}_thenUnwrap(je){return new xc(this.responsePromise,async _e=>je(await this.parseResponse(_e),_e))}asResponse(){return this.responsePromise.then(je=>je.response)}async withResponse(){const[je,_e]=await Promise.all([this.parse(),this.asResponse()]);return{data:je,response:_e}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(je,_e){return this.parse().then(je,_e)}catch(je){return this.parse().catch(je)}finally(je){return this.parse().finally(je)}},APIClient$1=class{constructor({baseURL:je,maxRetries:_e=2,timeout:Me=6e4,httpAgent:$e,fetch:ke}){this.baseURL=je,this.maxRetries=validatePositiveInteger$1("maxRetries",_e),this.timeout=validatePositiveInteger$1("timeout",Me),this.httpAgent=$e,this.fetch=ke??fetch$2}authHeaders(je){return{}}defaultHeaders(je){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...getPlatformHeaders$1(),...this.authHeaders(je)}}validateHeaders(je,_e){}defaultIdempotencyKey(){return`stainless-node-retry-${uuid4$1()}`}get(je,_e){return this.methodRequest("GET",je,_e)}post(je,_e){return this.methodRequest("POST",je,_e)}patch(je,_e){return this.methodRequest("PATCH",je,_e)}put(je,_e){return this.methodRequest("PUT",je,_e)}delete(je,_e){return this.methodRequest("DELETE",je,_e)}methodRequest(je,_e,Me){return this.request(Promise.resolve(Me).then(async $e=>{const ke=$e&&isBlobLike$1($e?.body)?new DataView(await $e.body.arrayBuffer()):$e?.body instanceof DataView?$e.body:$e?.body instanceof ArrayBuffer?new DataView($e.body):$e&&ArrayBuffer.isView($e?.body)?new DataView($e.body.buffer):$e?.body;return{method:je,path:_e,...$e,body:ke}}))}getAPIList(je,_e,Me){return this.requestAPIList(_e,{method:"GET",path:je,...Me})}calculateContentLength(je){if(typeof je=="string"){if(typeof Buffer$B<"u")return Buffer$B.byteLength(je,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(je).length.toString()}else if(ArrayBuffer.isView(je))return je.byteLength.toString();return null}buildRequest(je,{retryCount:_e=0}={}){const Me={...je},{method:$e,path:ke,query:Ce,headers:Be={}}=Me,qe=ArrayBuffer.isView(Me.body)||Me.__binaryRequest&&typeof Me.body=="string"?Me.body:isMultipartBody$1(Me.body)?Me.body.body:Me.body?JSON.stringify(Me.body,null,2):null,He=this.calculateContentLength(qe),We=this.buildURL(ke,Ce);"timeout"in Me&&validatePositiveInteger$1("timeout",Me.timeout),Me.timeout=Me.timeout??this.timeout;const Ke=Me.httpAgent??this.httpAgent??getDefaultAgent$1(We),Je=Me.timeout+1e3;typeof Ke?.options?.timeout=="number"&&Je>(Ke.options.timeout??0)&&(Ke.options.timeout=Je),this.idempotencyHeader&&$e!=="GET"&&(je.idempotencyKey||(je.idempotencyKey=this.defaultIdempotencyKey()),Be[this.idempotencyHeader]=je.idempotencyKey);const Qe=this.buildHeaders({options:Me,headers:Be,contentLength:He,retryCount:_e});return{req:{method:$e,...qe&&{body:qe},headers:Qe,...Ke&&{agent:Ke},signal:Me.signal??null},url:We,timeout:Me.timeout}}buildHeaders({options:je,headers:_e,contentLength:Me,retryCount:$e}){const ke={};Me&&(ke["content-length"]=Me);const Ce=this.defaultHeaders(je);return applyHeadersMut$1(ke,Ce),applyHeadersMut$1(ke,_e),isMultipartBody$1(je.body)&&kind$1!=="node"&&delete ke["content-type"],getHeader$1(Ce,"x-stainless-retry-count")===void 0&&getHeader$1(_e,"x-stainless-retry-count")===void 0&&(ke["x-stainless-retry-count"]=String($e)),getHeader$1(Ce,"x-stainless-timeout")===void 0&&getHeader$1(_e,"x-stainless-timeout")===void 0&&je.timeout&&(ke["x-stainless-timeout"]=String(Math.trunc(je.timeout/1e3))),this.validateHeaders(ke,_e),ke}async prepareOptions(je){}async prepareRequest(je,{url:_e,options:Me}){}parseHeaders(je){return je?Symbol.iterator in je?Object.fromEntries(Array.from(je).map(_e=>[..._e])):{...je}:{}}makeStatusError(je,_e,Me,$e){return APIError$1.generate(je,_e,Me,$e)}request(je,_e=null){return new APIPromise$1(this.makeRequest(je,_e))}async makeRequest(je,_e){const Me=await je,$e=Me.maxRetries??this.maxRetries;_e==null&&(_e=$e),await this.prepareOptions(Me);const{req:ke,url:Ce,timeout:Be}=this.buildRequest(Me,{retryCount:$e-_e});if(await this.prepareRequest(ke,{url:Ce,options:Me}),debug$1("request",Ce,Me,ke.headers),Me.signal?.aborted)throw new APIUserAbortError$1;const qe=new AbortController,He=await this.fetchWithTimeout(Ce,ke,Be,qe).catch(castToError$1);if(He instanceof Error){if(Me.signal?.aborted)throw new APIUserAbortError$1;if(_e)return this.retryRequest(Me,_e);throw He.name==="AbortError"?new APIConnectionTimeoutError$1:new APIConnectionError$1({cause:He})}const We=createResponseHeaders$1(He.headers);if(!He.ok){if(_e&&this.shouldRetry(He)){const cr=`retrying, ${_e} attempts remaining`;return debug$1(`response (error; ${cr})`,He.status,Ce,We),this.retryRequest(Me,_e,We)}const Ke=await He.text().catch(cr=>castToError$1(cr).message),Je=safeJSON$1(Ke),Qe=Je?void 0:Ke;throw debug$1(`response (error; ${_e?"(error; no more retries left)":"(error; not retryable)"})`,He.status,Ce,We,Qe),this.makeStatusError(He.status,Je,Qe,We)}return{response:He,options:Me,controller:qe}}requestAPIList(je,_e){const Me=this.makeRequest(_e,null);return new PagePromise$1(this,Me,je)}buildURL(je,_e){const Me=isAbsoluteURL$1(je)?new URL(je):new URL(this.baseURL+(this.baseURL.endsWith("/")&&je.startsWith("/")?je.slice(1):je)),$e=this.defaultQuery();return isEmptyObj$1($e)||(_e={...$e,..._e}),typeof _e=="object"&&_e&&!Array.isArray(_e)&&(Me.search=this.stringifyQuery(_e)),Me.toString()}stringifyQuery(je){return Object.entries(je).filter(([_e,Me])=>typeof Me<"u").map(([_e,Me])=>{if(typeof Me=="string"||typeof Me=="number"||typeof Me=="boolean")return`${encodeURIComponent(_e)}=${encodeURIComponent(Me)}`;if(Me===null)return`${encodeURIComponent(_e)}=`;throw new RetellError(`Cannot stringify type ${typeof Me}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(je,_e,Me,$e){const{signal:ke,...Ce}=_e||{};ke&&ke.addEventListener("abort",()=>$e.abort());const Be=setTimeout(()=>$e.abort(),Me),qe={signal:$e.signal,...Ce};return qe.method&&(qe.method=qe.method.toUpperCase()),this.fetch.call(void 0,je,qe).finally(()=>{clearTimeout(Be)})}shouldRetry(je){const _e=je.headers.get("x-should-retry");return _e==="true"?!0:_e==="false"?!1:je.status===408||je.status===409||je.status===429||je.status>=500}async retryRequest(je,_e,Me){let $e;const ke=Me?.["retry-after-ms"];if(ke){const Be=parseFloat(ke);Number.isNaN(Be)||($e=Be)}const Ce=Me?.["retry-after"];if(Ce&&!$e){const Be=parseFloat(Ce);Number.isNaN(Be)?$e=Date.parse(Ce)-Date.now():$e=Be*1e3}if(!($e&&0<=$e&&$e<60*1e3)){const Be=je.maxRetries??this.maxRetries;$e=this.calculateDefaultRetryTimeoutMillis(_e,Be)}return await sleep$1($e),this.makeRequest(je,_e-1)}calculateDefaultRetryTimeoutMillis(je,_e){const ke=_e-je,Ce=Math.min(.5*Math.pow(2,ke),8),Be=1-Math.random()*.25;return Ce*Be*1e3}getUserAgent(){return`${this.constructor.name}/JS ${VERSION$1}`}},PagePromise$1=class extends APIPromise$1{constructor(je,_e,Me){super(_e,async $e=>new Me(je,$e.response,await defaultParseResponse$1($e),$e.options))}async*[Symbol.asyncIterator](){const je=await this;for await(const _e of je)yield _e}};const createResponseHeaders$1=Re=>new Proxy(Object.fromEntries(Re.entries()),{get(je,_e){const Me=_e.toString();return je[Me.toLowerCase()]||je[Me]}}),requestOptionsKeys$1={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__binaryRequest:!0,__binaryResponse:!0},isRequestOptions$1=Re=>typeof Re=="object"&&Re!==null&&!isEmptyObj$1(Re)&&Object.keys(Re).every(je=>hasOwn$1(requestOptionsKeys$1,je)),getPlatformProperties$1=()=>{if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":VERSION$1,"X-Stainless-OS":normalizePlatform$1(Deno.build.os),"X-Stainless-Arch":normalizeArch$1(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:Deno.version?.deno??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":VERSION$1,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process$1.version};if(Object.prototype.toString.call(typeof process$1<"u"?process$1:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":VERSION$1,"X-Stainless-OS":normalizePlatform$1(process$1.platform),"X-Stainless-Arch":normalizeArch$1(process$1.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process$1.version};const Re=getBrowserInfo$1();return Re?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":VERSION$1,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${Re.browser}`,"X-Stainless-Runtime-Version":Re.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":VERSION$1,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function getBrowserInfo$1(){if(typeof navigator>"u"||!navigator)return null;const Re=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:je,pattern:_e}of Re){const Me=_e.exec(navigator.userAgent);if(Me){const $e=Me[1]||0,ke=Me[2]||0,Ce=Me[3]||0;return{browser:je,version:`${$e}.${ke}.${Ce}`}}}return null}const normalizeArch$1=Re=>Re==="x32"?"x32":Re==="x86_64"||Re==="x64"?"x64":Re==="arm"?"arm":Re==="aarch64"||Re==="arm64"?"arm64":Re?`other:${Re}`:"unknown",normalizePlatform$1=Re=>(Re=Re.toLowerCase(),Re.includes("ios")?"iOS":Re==="android"?"Android":Re==="darwin"?"MacOS":Re==="win32"?"Windows":Re==="freebsd"?"FreeBSD":Re==="openbsd"?"OpenBSD":Re==="linux"?"Linux":Re?`Other:${Re}`:"Unknown");let _platformHeaders$1;const getPlatformHeaders$1=()=>_platformHeaders$1??(_platformHeaders$1=getPlatformProperties$1()),safeJSON$1=Re=>{try{return JSON.parse(Re)}catch{return}},startsWithSchemeRegexp$1=/^[a-z][a-z0-9+.-]*:/i,isAbsoluteURL$1=Re=>startsWithSchemeRegexp$1.test(Re),sleep$1=Re=>new Promise(je=>setTimeout(je,Re)),validatePositiveInteger$1=(Re,je)=>{if(typeof je!="number"||!Number.isInteger(je))throw new RetellError(`${Re} must be an integer`);if(je<0)throw new RetellError(`${Re} must be a positive integer`);return je},castToError$1=Re=>{if(Re instanceof Error)return Re;if(typeof Re=="object"&&Re!==null)try{return new Error(JSON.stringify(Re))}catch{}return new Error(Re)},readEnv$1=Re=>{if(typeof process$1<"u")return define_process_env_default$1?.[Re]?.trim()??void 0;if(typeof Deno<"u")return Deno.env?.get?.(Re)?.trim()};function isEmptyObj$1(Re){if(!Re)return!0;for(const je in Re)return!1;return!0}function hasOwn$1(Re,je){return Object.prototype.hasOwnProperty.call(Re,je)}function applyHeadersMut$1(Re,je){for(const _e in je){if(!hasOwn$1(je,_e))continue;const Me=_e.toLowerCase();if(!Me)continue;const $e=je[_e];$e===null?delete Re[Me]:$e!==void 0&&(Re[Me]=$e)}}function debug$1(Re,...je){typeof process$1<"u"&&define_process_env_default$1?.DEBUG==="true"&&console.log(`Retell:DEBUG:${Re}`,...je)}const uuid4$1=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,Re=>{const je=Math.random()*16|0;return(Re==="x"?je:je&3|8).toString(16)}),isHeadersProtocol$1=Re=>typeof Re?.get=="function",getHeader$1=(Re,je)=>{const _e=je.toLowerCase();if(isHeadersProtocol$1(Re)){const Me=je[0]?.toUpperCase()+je.substring(1).replace(/([^\w])(\w)/g,($e,ke,Ce)=>ke+Ce.toUpperCase());for(const $e of[je,_e,je.toUpperCase(),Me]){const ke=Re.get($e);if(ke)return ke}}for(const[Me,$e]of Object.entries(Re))if(Me.toLowerCase()===_e)return Array.isArray($e)?($e.length<=1||console.warn(`Received ${$e.length} entries for the ${je} header, using the first entry.`),$e[0]):$e};let APIResource$1=class{constructor(je){this._client=je}};class Agent extends APIResource$1{create(je,_e){return this._client.post("/create-agent",{body:je,..._e})}retrieve(je,_e={},Me){return isRequestOptions$1(_e)?this.retrieve(je,{},_e):this._client.get(`/get-agent/${je}`,{query:_e,...Me})}update(je,_e,Me){const{query_version:$e,...ke}=_e;return this._client.patch(`/update-agent/${je}`,{query:{version:$e},body:ke,...Me})}list(je){return this._client.get("/list-agents",je)}delete(je,_e){return this._client.delete(`/delete-agent/${je}`,{..._e,headers:{Accept:"*/*",..._e?.headers}})}getVersions(je,_e){return this._client.get(`/get-agent-versions/${je}`,_e)}}class BatchCall extends APIResource$1{createBatchCall(je,_e){return this._client.post("/create-batch-call",{body:je,..._e})}}class Call extends APIResource$1{retrieve(je,_e){return this._client.get(`/v2/get-call/${je}`,_e)}update(je,_e,Me){return this._client.patch(`/v2/update-call/${je}`,{body:_e,...Me})}list(je,_e){return this._client.post("/v2/list-calls",{body:je,..._e})}delete(je,_e){return this._client.delete(`/v2/delete-call/${je}`,{..._e,headers:{Accept:"*/*",..._e?.headers}})}createPhoneCall(je,_e){return this._client.post("/v2/create-phone-call",{body:je,..._e})}createWebCall(je,_e){return this._client.post("/v2/create-web-call",{body:je,..._e})}registerPhoneCall(je,_e){return this._client.post("/v2/register-phone-call",{body:je,..._e})}}class Concurrency extends APIResource$1{retrieve(je){return this._client.get("/get-concurrency",je)}}class KnowledgeBase extends APIResource$1{create(je,_e){return this._client.post("/create-knowledge-base",multipartFormRequestOptions$1({body:je,..._e}))}retrieve(je,_e){return this._client.get(`/get-knowledge-base/${je}`,_e)}list(je){return this._client.get("/list-knowledge-bases",je)}delete(je,_e){return this._client.delete(`/delete-knowledge-base/${je}`,{..._e,headers:{Accept:"*/*",..._e?.headers}})}addSources(je,_e,Me){return this._client.post(`/add-knowledge-base-sources/${je}`,multipartFormRequestOptions$1({body:_e,...Me}))}deleteSource(je,_e,Me){return this._client.delete(`/delete-knowledge-base-source/${je}/source/${_e}`,Me)}}class Llm extends APIResource$1{create(je,_e){return this._client.post("/create-retell-llm",{body:je,..._e})}retrieve(je,_e={},Me){return isRequestOptions$1(_e)?this.retrieve(je,{},_e):this._client.get(`/get-retell-llm/${je}`,{query:_e,...Me})}update(je,_e,Me){const{query_version:$e,...ke}=_e;return this._client.patch(`/update-retell-llm/${je}`,{query:{version:$e},body:ke,...Me})}list(je){return this._client.get("/list-retell-llms",je)}delete(je,_e){return this._client.delete(`/delete-retell-llm/${je}`,{..._e,headers:{Accept:"*/*",..._e?.headers}})}}class PhoneNumber extends APIResource$1{create(je,_e){return this._client.post("/create-phone-number",{body:je,..._e})}retrieve(je,_e){return this._client.get(`/get-phone-number/${je}`,_e)}update(je,_e,Me){return this._client.patch(`/update-phone-number/${je}`,{body:_e,...Me})}list(je){return this._client.get("/list-phone-numbers",je)}delete(je,_e){return this._client.delete(`/delete-phone-number/${je}`,{..._e,headers:{Accept:"*/*",..._e?.headers}})}import(je,_e){return this._client.post("/import-phone-number",{body:je,..._e})}}class Voice extends APIResource$1{retrieve(je,_e){return this._client.get(`/get-voice/${je}`,_e)}list(je){return this._client.get("/list-voices",je)}}var cryptoBrowserify={},browser$d={exports:{}},MAX_BYTES=65536,MAX_UINT32=4294967295;function oldBrowser$1(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var Buffer$A=safeBufferExports$1.Buffer,crypto$2=commonjsGlobal.crypto||commonjsGlobal.msCrypto;crypto$2&&crypto$2.getRandomValues?browser$d.exports=randomBytes$2:browser$d.exports=oldBrowser$1;function randomBytes$2(Re,je){if(Re>MAX_UINT32)throw new RangeError("requested too many random bytes");var _e=Buffer$A.allocUnsafe(Re);if(Re>0)if(Re>MAX_BYTES)for(var Me=0;Me<Re;Me+=MAX_BYTES)crypto$2.getRandomValues(_e.slice(Me,Me+MAX_BYTES));else crypto$2.getRandomValues(_e);return typeof je=="function"?process$1.nextTick(function(){je(null,_e)}):_e}var browserExports=browser$d.exports,Buffer$z=safeBufferExports$1.Buffer,Transform$7=streamBrowserify.Transform,inherits$p=inherits_browserExports;function HashBase$2(Re){Transform$7.call(this),this._block=Buffer$z.allocUnsafe(Re),this._blockSize=Re,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}inherits$p(HashBase$2,Transform$7);HashBase$2.prototype._transform=function(Re,je,_e){var Me=null;try{this.update(Re,je)}catch($e){Me=$e}_e(Me)};HashBase$2.prototype._flush=function(Re){var je=null;try{this.push(this.digest())}catch(_e){je=_e}Re(je)};var useUint8Array$1=typeof Uint8Array<"u",useArrayBuffer$1=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&ArrayBuffer.isView&&(Buffer$z.prototype instanceof Uint8Array||Buffer$z.TYPED_ARRAY_SUPPORT);function toBuffer$4(Re,je){if(Re instanceof Buffer$z)return Re;if(typeof Re=="string")return Buffer$z.from(Re,je);if(useArrayBuffer$1&&ArrayBuffer.isView(Re)){if(Re.byteLength===0)return Buffer$z.alloc(0);var _e=Buffer$z.from(Re.buffer,Re.byteOffset,Re.byteLength);if(_e.byteLength===Re.byteLength)return _e}if(useUint8Array$1&&Re instanceof Uint8Array||Buffer$z.isBuffer(Re)&&Re.constructor&&typeof Re.constructor.isBuffer=="function"&&Re.constructor.isBuffer(Re))return Buffer$z.from(Re);throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}HashBase$2.prototype.update=function(Re,je){if(this._finalized)throw new Error("Digest already called");Re=toBuffer$4(Re,je);for(var _e=this._block,Me=0;this._blockOffset+Re.length-Me>=this._blockSize;){for(var $e=this._blockOffset;$e<this._blockSize;)_e[$e++]=Re[Me++];this._update(),this._blockOffset=0}for(;Me<Re.length;)_e[this._blockOffset++]=Re[Me++];for(var ke=0,Ce=Re.length*8;Ce>0;++ke)this._length[ke]+=Ce,Ce=this._length[ke]/4294967296|0,Ce>0&&(this._length[ke]-=4294967296*Ce);return this};HashBase$2.prototype._update=function(){throw new Error("_update is not implemented")};HashBase$2.prototype.digest=function(Re){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var je=this._digest();Re!==void 0&&(je=je.toString(Re)),this._block.fill(0),this._blockOffset=0;for(var _e=0;_e<4;++_e)this._length[_e]=0;return je};HashBase$2.prototype._digest=function(){throw new Error("_digest is not implemented")};var hashBase=HashBase$2,inherits$o=inherits_browserExports,HashBase$1=hashBase,Buffer$y=safeBufferExports$1.Buffer,ARRAY16$1=new Array(16);function MD5$3(){HashBase$1.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}inherits$o(MD5$3,HashBase$1);MD5$3.prototype._update=function(){for(var Re=ARRAY16$1,je=0;je<16;++je)Re[je]=this._block.readInt32LE(je*4);var _e=this._a,Me=this._b,$e=this._c,ke=this._d;_e=fnF(_e,Me,$e,ke,Re[0],3614090360,7),ke=fnF(ke,_e,Me,$e,Re[1],3905402710,12),$e=fnF($e,ke,_e,Me,Re[2],606105819,17),Me=fnF(Me,$e,ke,_e,Re[3],3250441966,22),_e=fnF(_e,Me,$e,ke,Re[4],4118548399,7),ke=fnF(ke,_e,Me,$e,Re[5],1200080426,12),$e=fnF($e,ke,_e,Me,Re[6],2821735955,17),Me=fnF(Me,$e,ke,_e,Re[7],4249261313,22),_e=fnF(_e,Me,$e,ke,Re[8],1770035416,7),ke=fnF(ke,_e,Me,$e,Re[9],2336552879,12),$e=fnF($e,ke,_e,Me,Re[10],4294925233,17),Me=fnF(Me,$e,ke,_e,Re[11],2304563134,22),_e=fnF(_e,Me,$e,ke,Re[12],1804603682,7),ke=fnF(ke,_e,Me,$e,Re[13],4254626195,12),$e=fnF($e,ke,_e,Me,Re[14],2792965006,17),Me=fnF(Me,$e,ke,_e,Re[15],1236535329,22),_e=fnG(_e,Me,$e,ke,Re[1],4129170786,5),ke=fnG(ke,_e,Me,$e,Re[6],3225465664,9),$e=fnG($e,ke,_e,Me,Re[11],643717713,14),Me=fnG(Me,$e,ke,_e,Re[0],3921069994,20),_e=fnG(_e,Me,$e,ke,Re[5],3593408605,5),ke=fnG(ke,_e,Me,$e,Re[10],38016083,9),$e=fnG($e,ke,_e,Me,Re[15],3634488961,14),Me=fnG(Me,$e,ke,_e,Re[4],3889429448,20),_e=fnG(_e,Me,$e,ke,Re[9],568446438,5),ke=fnG(ke,_e,Me,$e,Re[14],3275163606,9),$e=fnG($e,ke,_e,Me,Re[3],4107603335,14),Me=fnG(Me,$e,ke,_e,Re[8],1163531501,20),_e=fnG(_e,Me,$e,ke,Re[13],2850285829,5),ke=fnG(ke,_e,Me,$e,Re[2],4243563512,9),$e=fnG($e,ke,_e,Me,Re[7],1735328473,14),Me=fnG(Me,$e,ke,_e,Re[12],2368359562,20),_e=fnH(_e,Me,$e,ke,Re[5],4294588738,4),ke=fnH(ke,_e,Me,$e,Re[8],2272392833,11),$e=fnH($e,ke,_e,Me,Re[11],1839030562,16),Me=fnH(Me,$e,ke,_e,Re[14],4259657740,23),_e=fnH(_e,Me,$e,ke,Re[1],2763975236,4),ke=fnH(ke,_e,Me,$e,Re[4],1272893353,11),$e=fnH($e,ke,_e,Me,Re[7],4139469664,16),Me=fnH(Me,$e,ke,_e,Re[10],3200236656,23),_e=fnH(_e,Me,$e,ke,Re[13],681279174,4),ke=fnH(ke,_e,Me,$e,Re[0],3936430074,11),$e=fnH($e,ke,_e,Me,Re[3],3572445317,16),Me=fnH(Me,$e,ke,_e,Re[6],76029189,23),_e=fnH(_e,Me,$e,ke,Re[9],3654602809,4),ke=fnH(ke,_e,Me,$e,Re[12],3873151461,11),$e=fnH($e,ke,_e,Me,Re[15],530742520,16),Me=fnH(Me,$e,ke,_e,Re[2],3299628645,23),_e=fnI(_e,Me,$e,ke,Re[0],4096336452,6),ke=fnI(ke,_e,Me,$e,Re[7],1126891415,10),$e=fnI($e,ke,_e,Me,Re[14],2878612391,15),Me=fnI(Me,$e,ke,_e,Re[5],4237533241,21),_e=fnI(_e,Me,$e,ke,Re[12],1700485571,6),ke=fnI(ke,_e,Me,$e,Re[3],2399980690,10),$e=fnI($e,ke,_e,Me,Re[10],4293915773,15),Me=fnI(Me,$e,ke,_e,Re[1],2240044497,21),_e=fnI(_e,Me,$e,ke,Re[8],1873313359,6),ke=fnI(ke,_e,Me,$e,Re[15],4264355552,10),$e=fnI($e,ke,_e,Me,Re[6],2734768916,15),Me=fnI(Me,$e,ke,_e,Re[13],1309151649,21),_e=fnI(_e,Me,$e,ke,Re[4],4149444226,6),ke=fnI(ke,_e,Me,$e,Re[11],3174756917,10),$e=fnI($e,ke,_e,Me,Re[2],718787259,15),Me=fnI(Me,$e,ke,_e,Re[9],3951481745,21),this._a=this._a+_e|0,this._b=this._b+Me|0,this._c=this._c+$e|0,this._d=this._d+ke|0};MD5$3.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var Re=Buffer$y.allocUnsafe(16);return Re.writeInt32LE(this._a,0),Re.writeInt32LE(this._b,4),Re.writeInt32LE(this._c,8),Re.writeInt32LE(this._d,12),Re};function rotl$1(Re,je){return Re<<je|Re>>>32-je}function fnF(Re,je,_e,Me,$e,ke,Ce){return rotl$1(Re+(je&_e|~je&Me)+$e+ke|0,Ce)+je|0}function fnG(Re,je,_e,Me,$e,ke,Ce){return rotl$1(Re+(je&Me|_e&~Me)+$e+ke|0,Ce)+je|0}function fnH(Re,je,_e,Me,$e,ke,Ce){return rotl$1(Re+(je^_e^Me)+$e+ke|0,Ce)+je|0}function fnI(Re,je,_e,Me,$e,ke,Ce){return rotl$1(Re+(_e^(je|~Me))+$e+ke|0,Ce)+je|0}var md5_js=MD5$3,Buffer$x=require$$0$3.Buffer,inherits$n=inherits_browserExports,HashBase=hashBase,ARRAY16=new Array(16),zl=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],zr=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],sl=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sr=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],hl=[0,1518500249,1859775393,2400959708,2840853838],hr=[1352829926,1548603684,1836072691,2053994217,0];function RIPEMD160$4(){HashBase.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}inherits$n(RIPEMD160$4,HashBase);RIPEMD160$4.prototype._update=function(){for(var Re=ARRAY16,je=0;je<16;++je)Re[je]=this._block.readInt32LE(je*4);for(var _e=this._a|0,Me=this._b|0,$e=this._c|0,ke=this._d|0,Ce=this._e|0,Be=this._a|0,qe=this._b|0,He=this._c|0,We=this._d|0,Ke=this._e|0,Je=0;Je<80;Je+=1){var Qe,rr;Je<16?(Qe=fn1(_e,Me,$e,ke,Ce,Re[zl[Je]],hl[0],sl[Je]),rr=fn5(Be,qe,He,We,Ke,Re[zr[Je]],hr[0],sr[Je])):Je<32?(Qe=fn2(_e,Me,$e,ke,Ce,Re[zl[Je]],hl[1],sl[Je]),rr=fn4(Be,qe,He,We,Ke,Re[zr[Je]],hr[1],sr[Je])):Je<48?(Qe=fn3(_e,Me,$e,ke,Ce,Re[zl[Je]],hl[2],sl[Je]),rr=fn3(Be,qe,He,We,Ke,Re[zr[Je]],hr[2],sr[Je])):Je<64?(Qe=fn4(_e,Me,$e,ke,Ce,Re[zl[Je]],hl[3],sl[Je]),rr=fn2(Be,qe,He,We,Ke,Re[zr[Je]],hr[3],sr[Je])):(Qe=fn5(_e,Me,$e,ke,Ce,Re[zl[Je]],hl[4],sl[Je]),rr=fn1(Be,qe,He,We,Ke,Re[zr[Je]],hr[4],sr[Je])),_e=Ce,Ce=ke,ke=rotl($e,10),$e=Me,Me=Qe,Be=Ke,Ke=We,We=rotl(He,10),He=qe,qe=rr}var tr=this._b+$e+We|0;this._b=this._c+ke+Ke|0,this._c=this._d+Ce+Be|0,this._d=this._e+_e+qe|0,this._e=this._a+Me+He|0,this._a=tr};RIPEMD160$4.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var Re=Buffer$x.alloc?Buffer$x.alloc(20):new Buffer$x(20);return Re.writeInt32LE(this._a,0),Re.writeInt32LE(this._b,4),Re.writeInt32LE(this._c,8),Re.writeInt32LE(this._d,12),Re.writeInt32LE(this._e,16),Re};function rotl(Re,je){return Re<<je|Re>>>32-je}function fn1(Re,je,_e,Me,$e,ke,Ce,Be){return rotl(Re+(je^_e^Me)+ke+Ce|0,Be)+$e|0}function fn2(Re,je,_e,Me,$e,ke,Ce,Be){return rotl(Re+(je&_e|~je&Me)+ke+Ce|0,Be)+$e|0}function fn3(Re,je,_e,Me,$e,ke,Ce,Be){return rotl(Re+((je|~_e)^Me)+ke+Ce|0,Be)+$e|0}function fn4(Re,je,_e,Me,$e,ke,Ce,Be){return rotl(Re+(je&Me|_e&~Me)+ke+Ce|0,Be)+$e|0}function fn5(Re,je,_e,Me,$e,ke,Ce,Be){return rotl(Re+(je^(_e|~Me))+ke+Ce|0,Be)+$e|0}var ripemd160=RIPEMD160$4,sha_js={exports:{}},Buffer$w=safeBufferExports$1.Buffer;function Hash$9(Re,je){this._block=Buffer$w.alloc(Re),this._finalSize=je,this._blockSize=Re,this._len=0}Hash$9.prototype.update=function(Re,je){typeof Re=="string"&&(je=je||"utf8",Re=Buffer$w.from(Re,je));for(var _e=this._block,Me=this._blockSize,$e=Re.length,ke=this._len,Ce=0;Ce<$e;){for(var Be=ke%Me,qe=Math.min($e-Ce,Me-Be),He=0;He<qe;He++)_e[Be+He]=Re[Ce+He];ke+=qe,Ce+=qe,ke%Me===0&&this._update(_e)}return this._len+=$e,this};Hash$9.prototype.digest=function(Re){var je=this._len%this._blockSize;this._block[je]=128,this._block.fill(0,je+1),je>=this._finalSize&&(this._update(this._block),this._block.fill(0));var _e=this._len*8;if(_e<=4294967295)this._block.writeUInt32BE(_e,this._blockSize-4);else{var Me=(_e&4294967295)>>>0,$e=(_e-Me)/4294967296;this._block.writeUInt32BE($e,this._blockSize-8),this._block.writeUInt32BE(Me,this._blockSize-4)}this._update(this._block);var ke=this._hash();return Re?ke.toString(Re):ke};Hash$9.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var hash$5=Hash$9,inherits$m=inherits_browserExports,Hash$8=hash$5,Buffer$v=safeBufferExports$1.Buffer,K$6=[1518500249,1859775393,-1894007588,-899497514],W$6=new Array(80);function Sha(){this.init(),this._w=W$6,Hash$8.call(this,64,56)}inherits$m(Sha,Hash$8);Sha.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function rotl5$1(Re){return Re<<5|Re>>>27}function rotl30$1(Re){return Re<<30|Re>>>2}function ft$2(Re,je,_e,Me){return Re===0?je&_e|~je&Me:Re===2?je&_e|je&Me|_e&Me:je^_e^Me}Sha.prototype._update=function(Re){for(var je=this._w,_e=this._a|0,Me=this._b|0,$e=this._c|0,ke=this._d|0,Ce=this._e|0,Be=0;Be<16;++Be)je[Be]=Re.readInt32BE(Be*4);for(;Be<80;++Be)je[Be]=je[Be-3]^je[Be-8]^je[Be-14]^je[Be-16];for(var qe=0;qe<80;++qe){var He=~~(qe/20),We=rotl5$1(_e)+ft$2(He,Me,$e,ke)+Ce+je[qe]+K$6[He]|0;Ce=ke,ke=$e,$e=rotl30$1(Me),Me=_e,_e=We}this._a=_e+this._a|0,this._b=Me+this._b|0,this._c=$e+this._c|0,this._d=ke+this._d|0,this._e=Ce+this._e|0};Sha.prototype._hash=function(){var Re=Buffer$v.allocUnsafe(20);return Re.writeInt32BE(this._a|0,0),Re.writeInt32BE(this._b|0,4),Re.writeInt32BE(this._c|0,8),Re.writeInt32BE(this._d|0,12),Re.writeInt32BE(this._e|0,16),Re};var sha$4=Sha,inherits$l=inherits_browserExports,Hash$7=hash$5,Buffer$u=safeBufferExports$1.Buffer,K$5=[1518500249,1859775393,-1894007588,-899497514],W$5=new Array(80);function Sha1(){this.init(),this._w=W$5,Hash$7.call(this,64,56)}inherits$l(Sha1,Hash$7);Sha1.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function rotl1(Re){return Re<<1|Re>>>31}function rotl5(Re){return Re<<5|Re>>>27}function rotl30(Re){return Re<<30|Re>>>2}function ft$1(Re,je,_e,Me){return Re===0?je&_e|~je&Me:Re===2?je&_e|je&Me|_e&Me:je^_e^Me}Sha1.prototype._update=function(Re){for(var je=this._w,_e=this._a|0,Me=this._b|0,$e=this._c|0,ke=this._d|0,Ce=this._e|0,Be=0;Be<16;++Be)je[Be]=Re.readInt32BE(Be*4);for(;Be<80;++Be)je[Be]=rotl1(je[Be-3]^je[Be-8]^je[Be-14]^je[Be-16]);for(var qe=0;qe<80;++qe){var He=~~(qe/20),We=rotl5(_e)+ft$1(He,Me,$e,ke)+Ce+je[qe]+K$5[He]|0;Ce=ke,ke=$e,$e=rotl30(Me),Me=_e,_e=We}this._a=_e+this._a|0,this._b=Me+this._b|0,this._c=$e+this._c|0,this._d=ke+this._d|0,this._e=Ce+this._e|0};Sha1.prototype._hash=function(){var Re=Buffer$u.allocUnsafe(20);return Re.writeInt32BE(this._a|0,0),Re.writeInt32BE(this._b|0,4),Re.writeInt32BE(this._c|0,8),Re.writeInt32BE(this._d|0,12),Re.writeInt32BE(this._e|0,16),Re};var sha1=Sha1,inherits$k=inherits_browserExports,Hash$6=hash$5,Buffer$t=safeBufferExports$1.Buffer,K$4=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],W$4=new Array(64);function Sha256$1(){this.init(),this._w=W$4,Hash$6.call(this,64,56)}inherits$k(Sha256$1,Hash$6);Sha256$1.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function ch(Re,je,_e){return _e^Re&(je^_e)}function maj$1(Re,je,_e){return Re&je|_e&(Re|je)}function sigma0$1(Re){return(Re>>>2|Re<<30)^(Re>>>13|Re<<19)^(Re>>>22|Re<<10)}function sigma1$1(Re){return(Re>>>6|Re<<26)^(Re>>>11|Re<<21)^(Re>>>25|Re<<7)}function gamma0(Re){return(Re>>>7|Re<<25)^(Re>>>18|Re<<14)^Re>>>3}function gamma1(Re){return(Re>>>17|Re<<15)^(Re>>>19|Re<<13)^Re>>>10}Sha256$1.prototype._update=function(Re){for(var je=this._w,_e=this._a|0,Me=this._b|0,$e=this._c|0,ke=this._d|0,Ce=this._e|0,Be=this._f|0,qe=this._g|0,He=this._h|0,We=0;We<16;++We)je[We]=Re.readInt32BE(We*4);for(;We<64;++We)je[We]=gamma1(je[We-2])+je[We-7]+gamma0(je[We-15])+je[We-16]|0;for(var Ke=0;Ke<64;++Ke){var Je=He+sigma1$1(Ce)+ch(Ce,Be,qe)+K$4[Ke]+je[Ke]|0,Qe=sigma0$1(_e)+maj$1(_e,Me,$e)|0;He=qe,qe=Be,Be=Ce,Ce=ke+Je|0,ke=$e,$e=Me,Me=_e,_e=Je+Qe|0}this._a=_e+this._a|0,this._b=Me+this._b|0,this._c=$e+this._c|0,this._d=ke+this._d|0,this._e=Ce+this._e|0,this._f=Be+this._f|0,this._g=qe+this._g|0,this._h=He+this._h|0};Sha256$1.prototype._hash=function(){var Re=Buffer$t.allocUnsafe(32);return Re.writeInt32BE(this._a,0),Re.writeInt32BE(this._b,4),Re.writeInt32BE(this._c,8),Re.writeInt32BE(this._d,12),Re.writeInt32BE(this._e,16),Re.writeInt32BE(this._f,20),Re.writeInt32BE(this._g,24),Re.writeInt32BE(this._h,28),Re};var sha256$1=Sha256$1,inherits$j=inherits_browserExports,Sha256=sha256$1,Hash$5=hash$5,Buffer$s=safeBufferExports$1.Buffer,W$3=new Array(64);function Sha224(){this.init(),this._w=W$3,Hash$5.call(this,64,56)}inherits$j(Sha224,Sha256);Sha224.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};Sha224.prototype._hash=function(){var Re=Buffer$s.allocUnsafe(28);return Re.writeInt32BE(this._a,0),Re.writeInt32BE(this._b,4),Re.writeInt32BE(this._c,8),Re.writeInt32BE(this._d,12),Re.writeInt32BE(this._e,16),Re.writeInt32BE(this._f,20),Re.writeInt32BE(this._g,24),Re};var sha224$1=Sha224,inherits$i=inherits_browserExports,Hash$4=hash$5,Buffer$r=safeBufferExports$1.Buffer,K$3=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],W$2=new Array(160);function Sha512(){this.init(),this._w=W$2,Hash$4.call(this,128,112)}inherits$i(Sha512,Hash$4);Sha512.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function Ch(Re,je,_e){return _e^Re&(je^_e)}function maj(Re,je,_e){return Re&je|_e&(Re|je)}function sigma0(Re,je){return(Re>>>28|je<<4)^(je>>>2|Re<<30)^(je>>>7|Re<<25)}function sigma1(Re,je){return(Re>>>14|je<<18)^(Re>>>18|je<<14)^(je>>>9|Re<<23)}function Gamma0(Re,je){return(Re>>>1|je<<31)^(Re>>>8|je<<24)^Re>>>7}function Gamma0l(Re,je){return(Re>>>1|je<<31)^(Re>>>8|je<<24)^(Re>>>7|je<<25)}function Gamma1(Re,je){return(Re>>>19|je<<13)^(je>>>29|Re<<3)^Re>>>6}function Gamma1l(Re,je){return(Re>>>19|je<<13)^(je>>>29|Re<<3)^(Re>>>6|je<<26)}function getCarry(Re,je){return Re>>>0<je>>>0?1:0}Sha512.prototype._update=function(Re){for(var je=this._w,_e=this._ah|0,Me=this._bh|0,$e=this._ch|0,ke=this._dh|0,Ce=this._eh|0,Be=this._fh|0,qe=this._gh|0,He=this._hh|0,We=this._al|0,Ke=this._bl|0,Je=this._cl|0,Qe=this._dl|0,rr=this._el|0,tr=this._fl|0,cr=this._gl|0,or=this._hl|0,ar=0;ar<32;ar+=2)je[ar]=Re.readInt32BE(ar*4),je[ar+1]=Re.readInt32BE(ar*4+4);for(;ar<160;ar+=2){var pr=je[ar-30],ur=je[ar-15*2+1],gr=Gamma0(pr,ur),jr=Gamma0l(ur,pr);pr=je[ar-2*2],ur=je[ar-2*2+1];var vr=Gamma1(pr,ur),dr=Gamma1l(ur,pr),xr=je[ar-7*2],Rr=je[ar-7*2+1],Xe=je[ar-16*2],Pe=je[ar-16*2+1],Fe=jr+Rr|0,ze=gr+xr+getCarry(Fe,jr)|0;Fe=Fe+dr|0,ze=ze+vr+getCarry(Fe,dr)|0,Fe=Fe+Pe|0,ze=ze+Xe+getCarry(Fe,Pe)|0,je[ar]=ze,je[ar+1]=Fe}for(var Ue=0;Ue<160;Ue+=2){ze=je[Ue],Fe=je[Ue+1];var Ge=maj(_e,Me,$e),Ze=maj(We,Ke,Je),er=sigma0(_e,We),Ve=sigma0(We,_e),Ie=sigma1(Ce,rr),Ye=sigma1(rr,Ce),ir=K$3[Ue],lr=K$3[Ue+1],br=Ch(Ce,Be,qe),_r=Ch(rr,tr,cr),Sr=or+Ye|0,wr=He+Ie+getCarry(Sr,or)|0;Sr=Sr+_r|0,wr=wr+br+getCarry(Sr,_r)|0,Sr=Sr+lr|0,wr=wr+ir+getCarry(Sr,lr)|0,Sr=Sr+Fe|0,wr=wr+ze+getCarry(Sr,Fe)|0;var Nr=Ve+Ze|0,kr=er+Ge+getCarry(Nr,Ve)|0;He=qe,or=cr,qe=Be,cr=tr,Be=Ce,tr=rr,rr=Qe+Sr|0,Ce=ke+wr+getCarry(rr,Qe)|0,ke=$e,Qe=Je,$e=Me,Je=Ke,Me=_e,Ke=We,We=Sr+Nr|0,_e=wr+kr+getCarry(We,Sr)|0}this._al=this._al+We|0,this._bl=this._bl+Ke|0,this._cl=this._cl+Je|0,this._dl=this._dl+Qe|0,this._el=this._el+rr|0,this._fl=this._fl+tr|0,this._gl=this._gl+cr|0,this._hl=this._hl+or|0,this._ah=this._ah+_e+getCarry(this._al,We)|0,this._bh=this._bh+Me+getCarry(this._bl,Ke)|0,this._ch=this._ch+$e+getCarry(this._cl,Je)|0,this._dh=this._dh+ke+getCarry(this._dl,Qe)|0,this._eh=this._eh+Ce+getCarry(this._el,rr)|0,this._fh=this._fh+Be+getCarry(this._fl,tr)|0,this._gh=this._gh+qe+getCarry(this._gl,cr)|0,this._hh=this._hh+He+getCarry(this._hl,or)|0};Sha512.prototype._hash=function(){var Re=Buffer$r.allocUnsafe(64);function je(_e,Me,$e){Re.writeInt32BE(_e,$e),Re.writeInt32BE(Me,$e+4)}return je(this._ah,this._al,0),je(this._bh,this._bl,8),je(this._ch,this._cl,16),je(this._dh,this._dl,24),je(this._eh,this._el,32),je(this._fh,this._fl,40),je(this._gh,this._gl,48),je(this._hh,this._hl,56),Re};var sha512$1=Sha512,inherits$h=inherits_browserExports,SHA512$2=sha512$1,Hash$3=hash$5,Buffer$q=safeBufferExports$1.Buffer,W$1=new Array(160);function Sha384(){this.init(),this._w=W$1,Hash$3.call(this,128,112)}inherits$h(Sha384,SHA512$2);Sha384.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};Sha384.prototype._hash=function(){var Re=Buffer$q.allocUnsafe(48);function je(_e,Me,$e){Re.writeInt32BE(_e,$e),Re.writeInt32BE(Me,$e+4)}return je(this._ah,this._al,0),je(this._bh,this._bl,8),je(this._ch,this._cl,16),je(this._dh,this._dl,24),je(this._eh,this._el,32),je(this._fh,this._fl,40),Re};var sha384$1=Sha384,exports=sha_js.exports=function(je){je=je.toLowerCase();var _e=exports[je];if(!_e)throw new Error(je+" is not supported (we accept pull requests)");return new _e};exports.sha=sha$4;exports.sha1=sha1;exports.sha224=sha224$1;exports.sha256=sha256$1;exports.sha384=sha384$1;exports.sha512=sha512$1;var sha_jsExports=sha_js.exports,Buffer$p=safeBufferExports$1.Buffer,Transform$6=streamBrowserify.Transform,StringDecoder=string_decoder.StringDecoder,inherits$g=inherits_browserExports;function CipherBase$1(Re){Transform$6.call(this),this.hashMode=typeof Re=="string",this.hashMode?this[Re]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}inherits$g(CipherBase$1,Transform$6);var useUint8Array=typeof Uint8Array<"u",useArrayBuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&ArrayBuffer.isView&&(Buffer$p.prototype instanceof Uint8Array||Buffer$p.TYPED_ARRAY_SUPPORT);function toBuffer$3(Re,je){if(Re instanceof Buffer$p)return Re;if(typeof Re=="string")return Buffer$p.from(Re,je);if(useArrayBuffer&&ArrayBuffer.isView(Re)){if(Re.byteLength===0)return Buffer$p.alloc(0);var _e=Buffer$p.from(Re.buffer,Re.byteOffset,Re.byteLength);if(_e.byteLength===Re.byteLength)return _e}if(useUint8Array&&Re instanceof Uint8Array||Buffer$p.isBuffer(Re)&&Re.constructor&&typeof Re.constructor.isBuffer=="function"&&Re.constructor.isBuffer(Re))return Buffer$p.from(Re);throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}CipherBase$1.prototype.update=function(Re,je,_e){var Me=toBuffer$3(Re,je),$e=this._update(Me);return this.hashMode?this:(_e&&($e=this._toString($e,_e)),$e)};CipherBase$1.prototype.setAutoPadding=function(){};CipherBase$1.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")};CipherBase$1.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")};CipherBase$1.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")};CipherBase$1.prototype._transform=function(Re,je,_e){var Me;try{this.hashMode?this._update(Re):this.push(this._update(Re))}catch($e){Me=$e}finally{_e(Me)}};CipherBase$1.prototype._flush=function(Re){var je;try{this.push(this.__final())}catch(_e){je=_e}Re(je)};CipherBase$1.prototype._finalOrDigest=function(Re){var je=this.__final()||Buffer$p.alloc(0);return Re&&(je=this._toString(je,Re,!0)),je};CipherBase$1.prototype._toString=function(Re,je,_e){if(this._decoder||(this._decoder=new StringDecoder(je),this._encoding=je),this._encoding!==je)throw new Error("cant switch encodings");var Me=this._decoder.write(Re);return _e&&(Me+=this._decoder.end()),Me};var cipherBase=CipherBase$1,inherits$f=inherits_browserExports,MD5$2=md5_js,RIPEMD160$3=ripemd160,sha$3=sha_jsExports,Base$5=cipherBase;function Hash$2(Re){Base$5.call(this,"digest"),this._hash=Re}inherits$f(Hash$2,Base$5);Hash$2.prototype._update=function(Re){this._hash.update(Re)};Hash$2.prototype._final=function(){return this._hash.digest()};var browser$c=function(je){return je=je.toLowerCase(),je==="md5"?new MD5$2:je==="rmd160"||je==="ripemd160"?new RIPEMD160$3:new Hash$2(sha$3(je))},inherits$e=inherits_browserExports,Buffer$o=safeBufferExports$1.Buffer,Base$4=cipherBase,ZEROS$2=Buffer$o.alloc(128),blocksize=64;function Hmac$3(Re,je){Base$4.call(this,"digest"),typeof je=="string"&&(je=Buffer$o.from(je)),this._alg=Re,this._key=je,je.length>blocksize?je=Re(je):je.length<blocksize&&(je=Buffer$o.concat([je,ZEROS$2],blocksize));for(var _e=this._ipad=Buffer$o.allocUnsafe(blocksize),Me=this._opad=Buffer$o.allocUnsafe(blocksize),$e=0;$e<blocksize;$e++)_e[$e]=je[$e]^54,Me[$e]=je[$e]^92;this._hash=[_e]}inherits$e(Hmac$3,Base$4);Hmac$3.prototype._update=function(Re){this._hash.push(Re)};Hmac$3.prototype._final=function(){var Re=this._alg(Buffer$o.concat(this._hash));return this._alg(Buffer$o.concat([this._opad,Re]))};var legacy=Hmac$3,MD5$1=md5_js,md5$2=function(Re){return new MD5$1().update(Re).digest()},inherits$d=inherits_browserExports,Legacy=legacy,Base$3=cipherBase,Buffer$n=safeBufferExports$1.Buffer,md5$1=md5$2,RIPEMD160$2=ripemd160,sha$2=sha_jsExports,ZEROS$1=Buffer$n.alloc(128);function Hmac$2(Re,je){Base$3.call(this,"digest"),typeof je=="string"&&(je=Buffer$n.from(je));var _e=Re==="sha512"||Re==="sha384"?128:64;if(this._alg=Re,this._key=je,je.length>_e){var Me=Re==="rmd160"?new RIPEMD160$2:sha$2(Re);je=Me.update(je).digest()}else je.length<_e&&(je=Buffer$n.concat([je,ZEROS$1],_e));for(var $e=this._ipad=Buffer$n.allocUnsafe(_e),ke=this._opad=Buffer$n.allocUnsafe(_e),Ce=0;Ce<_e;Ce++)$e[Ce]=je[Ce]^54,ke[Ce]=je[Ce]^92;this._hash=Re==="rmd160"?new RIPEMD160$2:sha$2(Re),this._hash.update($e)}inherits$d(Hmac$2,Base$3);Hmac$2.prototype._update=function(Re){this._hash.update(Re)};Hmac$2.prototype._final=function(){var Re=this._hash.digest(),je=this._alg==="rmd160"?new RIPEMD160$2:sha$2(this._alg);return je.update(this._opad).update(Re).digest()};var browser$b=function(je,_e){return je=je.toLowerCase(),je==="rmd160"||je==="ripemd160"?new Hmac$2("rmd160",_e):je==="md5"?new Legacy(md5$1,_e):new Hmac$2(je,_e)};const sha224WithRSAEncryption={sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption={sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption={sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption={sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},sha256={sign:"ecdsa",hash:"sha256",id:""},sha224={sign:"ecdsa",hash:"sha224",id:""},sha384={sign:"ecdsa",hash:"sha384",id:""},sha512={sign:"ecdsa",hash:"sha512",id:""},DSA={sign:"dsa",hash:"sha1",id:""},ripemd160WithRSA={sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption={sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},require$$6={sha224WithRSAEncryption,"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption,"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption,"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption,"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256,sha224,sha384,sha512,"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA,"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA,"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption,"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}};var algos=require$$6,browser$a={},MAX_ALLOC=Math.pow(2,30)-1,precondition=function(Re,je){if(typeof Re!="number")throw new TypeError("Iterations not a number");if(Re<0)throw new TypeError("Bad iterations");if(typeof je!="number")throw new TypeError("Key length not a number");if(je<0||je>MAX_ALLOC||je!==je)throw new TypeError("Bad key length")},defaultEncoding$2;if(commonjsGlobal.process&&commonjsGlobal.process.browser)defaultEncoding$2="utf-8";else if(commonjsGlobal.process&&commonjsGlobal.process.version){var pVersionMajor=parseInt(process$1.version.split(".")[0].slice(1),10);defaultEncoding$2=pVersionMajor>=6?"utf-8":"binary"}else defaultEncoding$2="utf-8";var defaultEncoding_1=defaultEncoding$2,Buffer$m=safeBufferExports$1.Buffer,toBuffer$2=function(Re,je,_e){if(Buffer$m.isBuffer(Re))return Re;if(typeof Re=="string")return Buffer$m.from(Re,je);if(ArrayBuffer.isView(Re))return Buffer$m.from(Re.buffer);throw new TypeError(_e+" must be a string, a Buffer, a typed array or a DataView")},md5=md5$2,RIPEMD160$1=ripemd160,sha$1=sha_jsExports,Buffer$l=safeBufferExports$1.Buffer,checkParameters$1=precondition,defaultEncoding$1=defaultEncoding_1,toBuffer$1=toBuffer$2,ZEROS=Buffer$l.alloc(128),sizes={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function Hmac$1(Re,je,_e){var Me=getDigest(Re),$e=Re==="sha512"||Re==="sha384"?128:64;je.length>$e?je=Me(je):je.length<$e&&(je=Buffer$l.concat([je,ZEROS],$e));for(var ke=Buffer$l.allocUnsafe($e+sizes[Re]),Ce=Buffer$l.allocUnsafe($e+sizes[Re]),Be=0;Be<$e;Be++)ke[Be]=je[Be]^54,Ce[Be]=je[Be]^92;var qe=Buffer$l.allocUnsafe($e+_e+4);ke.copy(qe,0,0,$e),this.ipad1=qe,this.ipad2=ke,this.opad=Ce,this.alg=Re,this.blocksize=$e,this.hash=Me,this.size=sizes[Re]}Hmac$1.prototype.run=function(Re,je){Re.copy(je,this.blocksize);var _e=this.hash(je);return _e.copy(this.opad,this.blocksize),this.hash(this.opad)};function getDigest(Re){function je(Me){return sha$1(Re).update(Me).digest()}function _e(Me){return new RIPEMD160$1().update(Me).digest()}return Re==="rmd160"||Re==="ripemd160"?_e:Re==="md5"?md5:je}function pbkdf2(Re,je,_e,Me,$e){checkParameters$1(_e,Me),Re=toBuffer$1(Re,defaultEncoding$1,"Password"),je=toBuffer$1(je,defaultEncoding$1,"Salt"),$e=$e||"sha1";var ke=new Hmac$1($e,Re,je.length),Ce=Buffer$l.allocUnsafe(Me),Be=Buffer$l.allocUnsafe(je.length+4);je.copy(Be,0,0,je.length);for(var qe=0,He=sizes[$e],We=Math.ceil(Me/He),Ke=1;Ke<=We;Ke++){Be.writeUInt32BE(Ke,je.length);for(var Je=ke.run(Be,ke.ipad1),Qe=Je,rr=1;rr<_e;rr++){Qe=ke.run(Qe,ke.ipad2);for(var tr=0;tr<He;tr++)Je[tr]^=Qe[tr]}Je.copy(Ce,qe),qe+=He}return Ce}var syncBrowser=pbkdf2,Buffer$k=safeBufferExports$1.Buffer,checkParameters=precondition,defaultEncoding=defaultEncoding_1,sync=syncBrowser,toBuffer=toBuffer$2,ZERO_BUF,subtle=commonjsGlobal.crypto&&commonjsGlobal.crypto.subtle,toBrowser={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},checks=[];function checkNative(Re){if(commonjsGlobal.process&&!commonjsGlobal.process.browser||!subtle||!subtle.importKey||!subtle.deriveBits)return Promise.resolve(!1);if(checks[Re]!==void 0)return checks[Re];ZERO_BUF=ZERO_BUF||Buffer$k.alloc(8);var je=browserPbkdf2(ZERO_BUF,ZERO_BUF,10,128,Re).then(function(){return!0}).catch(function(){return!1});return checks[Re]=je,je}var nextTick$1;function getNextTick(){return nextTick$1||(commonjsGlobal.process&&commonjsGlobal.process.nextTick?nextTick$1=commonjsGlobal.process.nextTick:commonjsGlobal.queueMicrotask?nextTick$1=commonjsGlobal.queueMicrotask:commonjsGlobal.setImmediate?nextTick$1=commonjsGlobal.setImmediate:nextTick$1=commonjsGlobal.setTimeout,nextTick$1)}function browserPbkdf2(Re,je,_e,Me,$e){return subtle.importKey("raw",Re,{name:"PBKDF2"},!1,["deriveBits"]).then(function(ke){return subtle.deriveBits({name:"PBKDF2",salt:je,iterations:_e,hash:{name:$e}},ke,Me<<3)}).then(function(ke){return Buffer$k.from(ke)})}function resolvePromise(Re,je){Re.then(function(_e){getNextTick()(function(){je(null,_e)})},function(_e){getNextTick()(function(){je(_e)})})}var async=function(Re,je,_e,Me,$e,ke){typeof $e=="function"&&(ke=$e,$e=void 0),$e=$e||"sha1";var Ce=toBrowser[$e.toLowerCase()];if(!Ce||typeof commonjsGlobal.Promise!="function"){getNextTick()(function(){var Be;try{Be=sync(Re,je,_e,Me,$e)}catch(qe){return ke(qe)}ke(null,Be)});return}if(checkParameters(_e,Me),Re=toBuffer(Re,defaultEncoding,"Password"),je=toBuffer(je,defaultEncoding,"Salt"),typeof ke!="function")throw new Error("No callback provided to pbkdf2");resolvePromise(checkNative(Ce).then(function(Be){return Be?browserPbkdf2(Re,je,_e,Me,Ce):sync(Re,je,_e,Me,$e)}),ke)};browser$a.pbkdf2=async;browser$a.pbkdf2Sync=syncBrowser;var browser$9={},des$2={},utils$n={};utils$n.readUInt32BE=function(je,_e){var Me=je[0+_e]<<24|je[1+_e]<<16|je[2+_e]<<8|je[3+_e];return Me>>>0};utils$n.writeUInt32BE=function(je,_e,Me){je[0+Me]=_e>>>24,je[1+Me]=_e>>>16&255,je[2+Me]=_e>>>8&255,je[3+Me]=_e&255};utils$n.ip=function(je,_e,Me,$e){for(var ke=0,Ce=0,Be=6;Be>=0;Be-=2){for(var qe=0;qe<=24;qe+=8)ke<<=1,ke|=_e>>>qe+Be&1;for(var qe=0;qe<=24;qe+=8)ke<<=1,ke|=je>>>qe+Be&1}for(var Be=6;Be>=0;Be-=2){for(var qe=1;qe<=25;qe+=8)Ce<<=1,Ce|=_e>>>qe+Be&1;for(var qe=1;qe<=25;qe+=8)Ce<<=1,Ce|=je>>>qe+Be&1}Me[$e+0]=ke>>>0,Me[$e+1]=Ce>>>0};utils$n.rip=function(je,_e,Me,$e){for(var ke=0,Ce=0,Be=0;Be<4;Be++)for(var qe=24;qe>=0;qe-=8)ke<<=1,ke|=_e>>>qe+Be&1,ke<<=1,ke|=je>>>qe+Be&1;for(var Be=4;Be<8;Be++)for(var qe=24;qe>=0;qe-=8)Ce<<=1,Ce|=_e>>>qe+Be&1,Ce<<=1,Ce|=je>>>qe+Be&1;Me[$e+0]=ke>>>0,Me[$e+1]=Ce>>>0};utils$n.pc1=function(je,_e,Me,$e){for(var ke=0,Ce=0,Be=7;Be>=5;Be--){for(var qe=0;qe<=24;qe+=8)ke<<=1,ke|=_e>>qe+Be&1;for(var qe=0;qe<=24;qe+=8)ke<<=1,ke|=je>>qe+Be&1}for(var qe=0;qe<=24;qe+=8)ke<<=1,ke|=_e>>qe+Be&1;for(var Be=1;Be<=3;Be++){for(var qe=0;qe<=24;qe+=8)Ce<<=1,Ce|=_e>>qe+Be&1;for(var qe=0;qe<=24;qe+=8)Ce<<=1,Ce|=je>>qe+Be&1}for(var qe=0;qe<=24;qe+=8)Ce<<=1,Ce|=je>>qe+Be&1;Me[$e+0]=ke>>>0,Me[$e+1]=Ce>>>0};utils$n.r28shl=function(je,_e){return je<<_e&268435455|je>>>28-_e};var pc2table=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];utils$n.pc2=function(je,_e,Me,$e){for(var ke=0,Ce=0,Be=pc2table.length>>>1,qe=0;qe<Be;qe++)ke<<=1,ke|=je>>>pc2table[qe]&1;for(var qe=Be;qe<pc2table.length;qe++)Ce<<=1,Ce|=_e>>>pc2table[qe]&1;Me[$e+0]=ke>>>0,Me[$e+1]=Ce>>>0};utils$n.expand=function(je,_e,Me){var $e=0,ke=0;$e=(je&1)<<5|je>>>27;for(var Ce=23;Ce>=15;Ce-=4)$e<<=6,$e|=je>>>Ce&63;for(var Ce=11;Ce>=3;Ce-=4)ke|=je>>>Ce&63,ke<<=6;ke|=(je&31)<<1|je>>>31,_e[Me+0]=$e>>>0,_e[Me+1]=ke>>>0};var sTable=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];utils$n.substitute=function(je,_e){for(var Me=0,$e=0;$e<4;$e++){var ke=je>>>18-$e*6&63,Ce=sTable[$e*64+ke];Me<<=4,Me|=Ce}for(var $e=0;$e<4;$e++){var ke=_e>>>18-$e*6&63,Ce=sTable[4*64+$e*64+ke];Me<<=4,Me|=Ce}return Me>>>0};var permuteTable=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];utils$n.permute=function(je){for(var _e=0,Me=0;Me<permuteTable.length;Me++)_e<<=1,_e|=je>>>permuteTable[Me]&1;return _e>>>0};utils$n.padSplit=function(je,_e,Me){for(var $e=je.toString(2);$e.length<_e;)$e="0"+$e;for(var ke=[],Ce=0;Ce<_e;Ce+=Me)ke.push($e.slice(Ce,Ce+Me));return ke.join(" ")};var minimalisticAssert=assert$i;function assert$i(Re,je){if(!Re)throw new Error(je||"Assertion failed")}assert$i.equal=function(je,_e,Me){if(je!=_e)throw new Error(Me||"Assertion failed: "+je+" != "+_e)};var assert$h=minimalisticAssert;function Cipher$3(Re){this.options=Re,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=Re.padding!==!1}var cipher=Cipher$3;Cipher$3.prototype._init=function(){};Cipher$3.prototype.update=function(je){return je.length===0?[]:this.type==="decrypt"?this._updateDecrypt(je):this._updateEncrypt(je)};Cipher$3.prototype._buffer=function(je,_e){for(var Me=Math.min(this.buffer.length-this.bufferOff,je.length-_e),$e=0;$e<Me;$e++)this.buffer[this.bufferOff+$e]=je[_e+$e];return this.bufferOff+=Me,Me};Cipher$3.prototype._flushBuffer=function(je,_e){return this._update(this.buffer,0,je,_e),this.bufferOff=0,this.blockSize};Cipher$3.prototype._updateEncrypt=function(je){var _e=0,Me=0,$e=(this.bufferOff+je.length)/this.blockSize|0,ke=new Array($e*this.blockSize);this.bufferOff!==0&&(_e+=this._buffer(je,_e),this.bufferOff===this.buffer.length&&(Me+=this._flushBuffer(ke,Me)));for(var Ce=je.length-(je.length-_e)%this.blockSize;_e<Ce;_e+=this.blockSize)this._update(je,_e,ke,Me),Me+=this.blockSize;for(;_e<je.length;_e++,this.bufferOff++)this.buffer[this.bufferOff]=je[_e];return ke};Cipher$3.prototype._updateDecrypt=function(je){for(var _e=0,Me=0,$e=Math.ceil((this.bufferOff+je.length)/this.blockSize)-1,ke=new Array($e*this.blockSize);$e>0;$e--)_e+=this._buffer(je,_e),Me+=this._flushBuffer(ke,Me);return _e+=this._buffer(je,_e),ke};Cipher$3.prototype.final=function(je){var _e;je&&(_e=this.update(je));var Me;return this.type==="encrypt"?Me=this._finalEncrypt():Me=this._finalDecrypt(),_e?_e.concat(Me):Me};Cipher$3.prototype._pad=function(je,_e){if(_e===0)return!1;for(;_e<je.length;)je[_e++]=0;return!0};Cipher$3.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var je=new Array(this.blockSize);return this._update(this.buffer,0,je,0),je};Cipher$3.prototype._unpad=function(je){return je};Cipher$3.prototype._finalDecrypt=function(){assert$h.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var je=new Array(this.blockSize);return this._flushBuffer(je,0),this._unpad(je)};var assert$g=minimalisticAssert,inherits$c=inherits_browserExports,utils$m=utils$n,Cipher$2=cipher;function DESState(){this.tmp=new Array(2),this.keys=null}function DES$3(Re){Cipher$2.call(this,Re);var je=new DESState;this._desState=je,this.deriveKeys(je,Re.key)}inherits$c(DES$3,Cipher$2);var des$1=DES$3;DES$3.create=function(je){return new DES$3(je)};var shiftTable=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];DES$3.prototype.deriveKeys=function(je,_e){je.keys=new Array(16*2),assert$g.equal(_e.length,this.blockSize,"Invalid key length");var Me=utils$m.readUInt32BE(_e,0),$e=utils$m.readUInt32BE(_e,4);utils$m.pc1(Me,$e,je.tmp,0),Me=je.tmp[0],$e=je.tmp[1];for(var ke=0;ke<je.keys.length;ke+=2){var Ce=shiftTable[ke>>>1];Me=utils$m.r28shl(Me,Ce),$e=utils$m.r28shl($e,Ce),utils$m.pc2(Me,$e,je.keys,ke)}};DES$3.prototype._update=function(je,_e,Me,$e){var ke=this._desState,Ce=utils$m.readUInt32BE(je,_e),Be=utils$m.readUInt32BE(je,_e+4);utils$m.ip(Ce,Be,ke.tmp,0),Ce=ke.tmp[0],Be=ke.tmp[1],this.type==="encrypt"?this._encrypt(ke,Ce,Be,ke.tmp,0):this._decrypt(ke,Ce,Be,ke.tmp,0),Ce=ke.tmp[0],Be=ke.tmp[1],utils$m.writeUInt32BE(Me,Ce,$e),utils$m.writeUInt32BE(Me,Be,$e+4)};DES$3.prototype._pad=function(je,_e){if(this.padding===!1)return!1;for(var Me=je.length-_e,$e=_e;$e<je.length;$e++)je[$e]=Me;return!0};DES$3.prototype._unpad=function(je){if(this.padding===!1)return je;for(var _e=je[je.length-1],Me=je.length-_e;Me<je.length;Me++)assert$g.equal(je[Me],_e);return je.slice(0,je.length-_e)};DES$3.prototype._encrypt=function(je,_e,Me,$e,ke){for(var Ce=_e,Be=Me,qe=0;qe<je.keys.length;qe+=2){var He=je.keys[qe],We=je.keys[qe+1];utils$m.expand(Be,je.tmp,0),He^=je.tmp[0],We^=je.tmp[1];var Ke=utils$m.substitute(He,We),Je=utils$m.permute(Ke),Qe=Be;Be=(Ce^Je)>>>0,Ce=Qe}utils$m.rip(Be,Ce,$e,ke)};DES$3.prototype._decrypt=function(je,_e,Me,$e,ke){for(var Ce=Me,Be=_e,qe=je.keys.length-2;qe>=0;qe-=2){var He=je.keys[qe],We=je.keys[qe+1];utils$m.expand(Ce,je.tmp,0),He^=je.tmp[0],We^=je.tmp[1];var Ke=utils$m.substitute(He,We),Je=utils$m.permute(Ke),Qe=Ce;Ce=(Be^Je)>>>0,Be=Qe}utils$m.rip(Ce,Be,$e,ke)};var cbc$1={},assert$f=minimalisticAssert,inherits$b=inherits_browserExports,proto={};function CBCState(Re){assert$f.equal(Re.length,8,"Invalid IV length"),this.iv=new Array(8);for(var je=0;je<this.iv.length;je++)this.iv[je]=Re[je]}function instantiate(Re){function je(ke){Re.call(this,ke),this._cbcInit()}inherits$b(je,Re);for(var _e=Object.keys(proto),Me=0;Me<_e.length;Me++){var $e=_e[Me];je.prototype[$e]=proto[$e]}return je.create=function(Ce){return new je(Ce)},je}cbc$1.instantiate=instantiate;proto._cbcInit=function(){var je=new CBCState(this.options.iv);this._cbcState=je};proto._update=function(je,_e,Me,$e){var ke=this._cbcState,Ce=this.constructor.super_.prototype,Be=ke.iv;if(this.type==="encrypt"){for(var qe=0;qe<this.blockSize;qe++)Be[qe]^=je[_e+qe];Ce._update.call(this,Be,0,Me,$e);for(var qe=0;qe<this.blockSize;qe++)Be[qe]=Me[$e+qe]}else{Ce._update.call(this,je,_e,Me,$e);for(var qe=0;qe<this.blockSize;qe++)Me[$e+qe]^=Be[qe];for(var qe=0;qe<this.blockSize;qe++)Be[qe]=je[_e+qe]}};var assert$e=minimalisticAssert,inherits$a=inherits_browserExports,Cipher$1=cipher,DES$2=des$1;function EDEState(Re,je){assert$e.equal(je.length,24,"Invalid key length");var _e=je.slice(0,8),Me=je.slice(8,16),$e=je.slice(16,24);Re==="encrypt"?this.ciphers=[DES$2.create({type:"encrypt",key:_e}),DES$2.create({type:"decrypt",key:Me}),DES$2.create({type:"encrypt",key:$e})]:this.ciphers=[DES$2.create({type:"decrypt",key:$e}),DES$2.create({type:"encrypt",key:Me}),DES$2.create({type:"decrypt",key:_e})]}function EDE(Re){Cipher$1.call(this,Re);var je=new EDEState(this.type,this.options.key);this._edeState=je}inherits$a(EDE,Cipher$1);var ede=EDE;EDE.create=function(je){return new EDE(je)};EDE.prototype._update=function(je,_e,Me,$e){var ke=this._edeState;ke.ciphers[0]._update(je,_e,Me,$e),ke.ciphers[1]._update(Me,$e,Me,$e),ke.ciphers[2]._update(Me,$e,Me,$e)};EDE.prototype._pad=DES$2.prototype._pad;EDE.prototype._unpad=DES$2.prototype._unpad;des$2.utils=utils$n;des$2.Cipher=cipher;des$2.DES=des$1;des$2.CBC=cbc$1;des$2.EDE=ede;var CipherBase=cipherBase,des=des$2,inherits$9=inherits_browserExports,Buffer$j=safeBufferExports$1.Buffer,modes$3={"des-ede3-cbc":des.CBC.instantiate(des.EDE),"des-ede3":des.EDE,"des-ede-cbc":des.CBC.instantiate(des.EDE),"des-ede":des.EDE,"des-cbc":des.CBC.instantiate(des.DES),"des-ecb":des.DES};modes$3.des=modes$3["des-cbc"];modes$3.des3=modes$3["des-ede3-cbc"];var browserifyDes=DES$1;inherits$9(DES$1,CipherBase);function DES$1(Re){CipherBase.call(this);var je=Re.mode.toLowerCase(),_e=modes$3[je],Me;Re.decrypt?Me="decrypt":Me="encrypt";var $e=Re.key;Buffer$j.isBuffer($e)||($e=Buffer$j.from($e)),(je==="des-ede"||je==="des-ede-cbc")&&($e=Buffer$j.concat([$e,$e.slice(0,8)]));var ke=Re.iv;Buffer$j.isBuffer(ke)||(ke=Buffer$j.from(ke)),this._des=_e.create({key:$e,iv:ke,type:Me})}DES$1.prototype._update=function(Re){return Buffer$j.from(this._des.update(Re))};DES$1.prototype._final=function(){return Buffer$j.from(this._des.final())};var browser$8={},encrypter={},ecb={};ecb.encrypt=function(Re,je){return Re._cipher.encryptBlock(je)};ecb.decrypt=function(Re,je){return Re._cipher.decryptBlock(je)};var cbc={},bufferXor=function(je,_e){for(var Me=Math.min(je.length,_e.length),$e=new Buffer$B(Me),ke=0;ke<Me;++ke)$e[ke]=je[ke]^_e[ke];return $e},xor$7=bufferXor;cbc.encrypt=function(Re,je){var _e=xor$7(je,Re._prev);return Re._prev=Re._cipher.encryptBlock(_e),Re._prev};cbc.decrypt=function(Re,je){var _e=Re._prev;Re._prev=je;var Me=Re._cipher.decryptBlock(je);return xor$7(Me,_e)};var cfb={},Buffer$i=safeBufferExports$1.Buffer,xor$6=bufferXor;function encryptStart(Re,je,_e){var Me=je.length,$e=xor$6(je,Re._cache);return Re._cache=Re._cache.slice(Me),Re._prev=Buffer$i.concat([Re._prev,_e?je:$e]),$e}cfb.encrypt=function(Re,je,_e){for(var Me=Buffer$i.allocUnsafe(0),$e;je.length;)if(Re._cache.length===0&&(Re._cache=Re._cipher.encryptBlock(Re._prev),Re._prev=Buffer$i.allocUnsafe(0)),Re._cache.length<=je.length)$e=Re._cache.length,Me=Buffer$i.concat([Me,encryptStart(Re,je.slice(0,$e),_e)]),je=je.slice($e);else{Me=Buffer$i.concat([Me,encryptStart(Re,je,_e)]);break}return Me};var cfb8={},Buffer$h=safeBufferExports$1.Buffer;function encryptByte$1(Re,je,_e){var Me=Re._cipher.encryptBlock(Re._prev),$e=Me[0]^je;return Re._prev=Buffer$h.concat([Re._prev.slice(1),Buffer$h.from([_e?je:$e])]),$e}cfb8.encrypt=function(Re,je,_e){for(var Me=je.length,$e=Buffer$h.allocUnsafe(Me),ke=-1;++ke<Me;)$e[ke]=encryptByte$1(Re,je[ke],_e);return $e};var cfb1={},Buffer$g=safeBufferExports$1.Buffer;function encryptByte(Re,je,_e){for(var Me,$e=-1,ke=8,Ce=0,Be,qe;++$e<ke;)Me=Re._cipher.encryptBlock(Re._prev),Be=je&1<<7-$e?128:0,qe=Me[0]^Be,Ce+=(qe&128)>>$e%8,Re._prev=shiftIn(Re._prev,_e?Be:qe);return Ce}function shiftIn(Re,je){var _e=Re.length,Me=-1,$e=Buffer$g.allocUnsafe(Re.length);for(Re=Buffer$g.concat([Re,Buffer$g.from([je])]);++Me<_e;)$e[Me]=Re[Me]<<1|Re[Me+1]>>7;return $e}cfb1.encrypt=function(Re,je,_e){for(var Me=je.length,$e=Buffer$g.allocUnsafe(Me),ke=-1;++ke<Me;)$e[ke]=encryptByte(Re,je[ke],_e);return $e};var ofb={},xor$5=bufferXor;function getBlock$1(Re){return Re._prev=Re._cipher.encryptBlock(Re._prev),Re._prev}ofb.encrypt=function(Re,je){for(;Re._cache.length<je.length;)Re._cache=Buffer$B.concat([Re._cache,getBlock$1(Re)]);var _e=Re._cache.slice(0,je.length);return Re._cache=Re._cache.slice(je.length),xor$5(je,_e)};var ctr={};function incr32$2(Re){for(var je=Re.length,_e;je--;)if(_e=Re.readUInt8(je),_e===255)Re.writeUInt8(0,je);else{_e++,Re.writeUInt8(_e,je);break}}var incr32_1=incr32$2,xor$4=bufferXor,Buffer$f=safeBufferExports$1.Buffer,incr32$1=incr32_1;function getBlock(Re){var je=Re._cipher.encryptBlockRaw(Re._prev);return incr32$1(Re._prev),je}var blockSize=16;ctr.encrypt=function(Re,je){var _e=Math.ceil(je.length/blockSize),Me=Re._cache.length;Re._cache=Buffer$f.concat([Re._cache,Buffer$f.allocUnsafe(_e*blockSize)]);for(var $e=0;$e<_e;$e++){var ke=getBlock(Re),Ce=Me+$e*blockSize;Re._cache.writeUInt32BE(ke[0],Ce+0),Re._cache.writeUInt32BE(ke[1],Ce+4),Re._cache.writeUInt32BE(ke[2],Ce+8),Re._cache.writeUInt32BE(ke[3],Ce+12)}var Be=Re._cache.slice(0,je.length);return Re._cache=Re._cache.slice(je.length),xor$4(je,Be)};const aes128={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},require$$2={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128,aes192,aes256,"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}};var modeModules={ECB:ecb,CBC:cbc,CFB:cfb,CFB8:cfb8,CFB1:cfb1,OFB:ofb,CTR:ctr,GCM:ctr},modes$2=require$$2;for(var key$2 in modes$2)modes$2[key$2].module=modeModules[modes$2[key$2].mode];var modes_1=modes$2,aes$5={},Buffer$e=safeBufferExports$1.Buffer;function asUInt32Array(Re){Buffer$e.isBuffer(Re)||(Re=Buffer$e.from(Re));for(var je=Re.length/4|0,_e=new Array(je),Me=0;Me<je;Me++)_e[Me]=Re.readUInt32BE(Me*4);return _e}function scrubVec(Re){for(var je=0;je<Re.length;Re++)Re[je]=0}function cryptBlock(Re,je,_e,Me,$e){for(var ke=_e[0],Ce=_e[1],Be=_e[2],qe=_e[3],He=Re[0]^je[0],We=Re[1]^je[1],Ke=Re[2]^je[2],Je=Re[3]^je[3],Qe,rr,tr,cr,or=4,ar=1;ar<$e;ar++)Qe=ke[He>>>24]^Ce[We>>>16&255]^Be[Ke>>>8&255]^qe[Je&255]^je[or++],rr=ke[We>>>24]^Ce[Ke>>>16&255]^Be[Je>>>8&255]^qe[He&255]^je[or++],tr=ke[Ke>>>24]^Ce[Je>>>16&255]^Be[He>>>8&255]^qe[We&255]^je[or++],cr=ke[Je>>>24]^Ce[He>>>16&255]^Be[We>>>8&255]^qe[Ke&255]^je[or++],He=Qe,We=rr,Ke=tr,Je=cr;return Qe=(Me[He>>>24]<<24|Me[We>>>16&255]<<16|Me[Ke>>>8&255]<<8|Me[Je&255])^je[or++],rr=(Me[We>>>24]<<24|Me[Ke>>>16&255]<<16|Me[Je>>>8&255]<<8|Me[He&255])^je[or++],tr=(Me[Ke>>>24]<<24|Me[Je>>>16&255]<<16|Me[He>>>8&255]<<8|Me[We&255])^je[or++],cr=(Me[Je>>>24]<<24|Me[He>>>16&255]<<16|Me[We>>>8&255]<<8|Me[Ke&255])^je[or++],Qe=Qe>>>0,rr=rr>>>0,tr=tr>>>0,cr=cr>>>0,[Qe,rr,tr,cr]}var RCON=[0,1,2,4,8,16,32,64,128,27,54],G$1=function(){for(var Re=new Array(256),je=0;je<256;je++)je<128?Re[je]=je<<1:Re[je]=je<<1^283;for(var _e=[],Me=[],$e=[[],[],[],[]],ke=[[],[],[],[]],Ce=0,Be=0,qe=0;qe<256;++qe){var He=Be^Be<<1^Be<<2^Be<<3^Be<<4;He=He>>>8^He&255^99,_e[Ce]=He,Me[He]=Ce;var We=Re[Ce],Ke=Re[We],Je=Re[Ke],Qe=Re[He]*257^He*16843008;$e[0][Ce]=Qe<<24|Qe>>>8,$e[1][Ce]=Qe<<16|Qe>>>16,$e[2][Ce]=Qe<<8|Qe>>>24,$e[3][Ce]=Qe,Qe=Je*16843009^Ke*65537^We*257^Ce*16843008,ke[0][He]=Qe<<24|Qe>>>8,ke[1][He]=Qe<<16|Qe>>>16,ke[2][He]=Qe<<8|Qe>>>24,ke[3][He]=Qe,Ce===0?Ce=Be=1:(Ce=We^Re[Re[Re[Je^We]]],Be^=Re[Re[Be]])}return{SBOX:_e,INV_SBOX:Me,SUB_MIX:$e,INV_SUB_MIX:ke}}();function AES(Re){this._key=asUInt32Array(Re),this._reset()}AES.blockSize=4*4;AES.keySize=256/8;AES.prototype.blockSize=AES.blockSize;AES.prototype.keySize=AES.keySize;AES.prototype._reset=function(){for(var Re=this._key,je=Re.length,_e=je+6,Me=(_e+1)*4,$e=[],ke=0;ke<je;ke++)$e[ke]=Re[ke];for(ke=je;ke<Me;ke++){var Ce=$e[ke-1];ke%je===0?(Ce=Ce<<8|Ce>>>24,Ce=G$1.SBOX[Ce>>>24]<<24|G$1.SBOX[Ce>>>16&255]<<16|G$1.SBOX[Ce>>>8&255]<<8|G$1.SBOX[Ce&255],Ce^=RCON[ke/je|0]<<24):je>6&&ke%je===4&&(Ce=G$1.SBOX[Ce>>>24]<<24|G$1.SBOX[Ce>>>16&255]<<16|G$1.SBOX[Ce>>>8&255]<<8|G$1.SBOX[Ce&255]),$e[ke]=$e[ke-je]^Ce}for(var Be=[],qe=0;qe<Me;qe++){var He=Me-qe,We=$e[He-(qe%4?0:4)];qe<4||He<=4?Be[qe]=We:Be[qe]=G$1.INV_SUB_MIX[0][G$1.SBOX[We>>>24]]^G$1.INV_SUB_MIX[1][G$1.SBOX[We>>>16&255]]^G$1.INV_SUB_MIX[2][G$1.SBOX[We>>>8&255]]^G$1.INV_SUB_MIX[3][G$1.SBOX[We&255]]}this._nRounds=_e,this._keySchedule=$e,this._invKeySchedule=Be};AES.prototype.encryptBlockRaw=function(Re){return Re=asUInt32Array(Re),cryptBlock(Re,this._keySchedule,G$1.SUB_MIX,G$1.SBOX,this._nRounds)};AES.prototype.encryptBlock=function(Re){var je=this.encryptBlockRaw(Re),_e=Buffer$e.allocUnsafe(16);return _e.writeUInt32BE(je[0],0),_e.writeUInt32BE(je[1],4),_e.writeUInt32BE(je[2],8),_e.writeUInt32BE(je[3],12),_e};AES.prototype.decryptBlock=function(Re){Re=asUInt32Array(Re);var je=Re[1];Re[1]=Re[3],Re[3]=je;var _e=cryptBlock(Re,this._invKeySchedule,G$1.INV_SUB_MIX,G$1.INV_SBOX,this._nRounds),Me=Buffer$e.allocUnsafe(16);return Me.writeUInt32BE(_e[0],0),Me.writeUInt32BE(_e[3],4),Me.writeUInt32BE(_e[2],8),Me.writeUInt32BE(_e[1],12),Me};AES.prototype.scrub=function(){scrubVec(this._keySchedule),scrubVec(this._invKeySchedule),scrubVec(this._key)};aes$5.AES=AES;var Buffer$d=safeBufferExports$1.Buffer,ZEROES=Buffer$d.alloc(16,0);function toArray$2(Re){return[Re.readUInt32BE(0),Re.readUInt32BE(4),Re.readUInt32BE(8),Re.readUInt32BE(12)]}function fromArray(Re){var je=Buffer$d.allocUnsafe(16);return je.writeUInt32BE(Re[0]>>>0,0),je.writeUInt32BE(Re[1]>>>0,4),je.writeUInt32BE(Re[2]>>>0,8),je.writeUInt32BE(Re[3]>>>0,12),je}function GHASH$1(Re){this.h=Re,this.state=Buffer$d.alloc(16,0),this.cache=Buffer$d.allocUnsafe(0)}GHASH$1.prototype.ghash=function(Re){for(var je=-1;++je<Re.length;)this.state[je]^=Re[je];this._multiply()};GHASH$1.prototype._multiply=function(){for(var Re=toArray$2(this.h),je=[0,0,0,0],_e,Me,$e,ke=-1;++ke<128;){for(Me=(this.state[~~(ke/8)]&1<<7-ke%8)!==0,Me&&(je[0]^=Re[0],je[1]^=Re[1],je[2]^=Re[2],je[3]^=Re[3]),$e=(Re[3]&1)!==0,_e=3;_e>0;_e--)Re[_e]=Re[_e]>>>1|(Re[_e-1]&1)<<31;Re[0]=Re[0]>>>1,$e&&(Re[0]=Re[0]^225<<24)}this.state=fromArray(je)};GHASH$1.prototype.update=function(Re){this.cache=Buffer$d.concat([this.cache,Re]);for(var je;this.cache.length>=16;)je=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(je)};GHASH$1.prototype.final=function(Re,je){return this.cache.length&&this.ghash(Buffer$d.concat([this.cache,ZEROES],16)),this.ghash(fromArray([0,Re,0,je])),this.state};var ghash=GHASH$1,aes$4=aes$5,Buffer$c=safeBufferExports$1.Buffer,Transform$5=cipherBase,inherits$8=inherits_browserExports,GHASH=ghash,xor$3=bufferXor,incr32=incr32_1;function xorTest(Re,je){var _e=0;Re.length!==je.length&&_e++;for(var Me=Math.min(Re.length,je.length),$e=0;$e<Me;++$e)_e+=Re[$e]^je[$e];return _e}function calcIv(Re,je,_e){if(je.length===12)return Re._finID=Buffer$c.concat([je,Buffer$c.from([0,0,0,1])]),Buffer$c.concat([je,Buffer$c.from([0,0,0,2])]);var Me=new GHASH(_e),$e=je.length,ke=$e%16;Me.update(je),ke&&(ke=16-ke,Me.update(Buffer$c.alloc(ke,0))),Me.update(Buffer$c.alloc(8,0));var Ce=$e*8,Be=Buffer$c.alloc(8);Be.writeUIntBE(Ce,0,8),Me.update(Be),Re._finID=Me.state;var qe=Buffer$c.from(Re._finID);return incr32(qe),qe}function StreamCipher$3(Re,je,_e,Me){Transform$5.call(this);var $e=Buffer$c.alloc(4,0);this._cipher=new aes$4.AES(je);var ke=this._cipher.encryptBlock($e);this._ghash=new GHASH(ke),_e=calcIv(this,_e,ke),this._prev=Buffer$c.from(_e),this._cache=Buffer$c.allocUnsafe(0),this._secCache=Buffer$c.allocUnsafe(0),this._decrypt=Me,this._alen=0,this._len=0,this._mode=Re,this._authTag=null,this._called=!1}inherits$8(StreamCipher$3,Transform$5);StreamCipher$3.prototype._update=function(Re){if(!this._called&&this._alen){var je=16-this._alen%16;je<16&&(je=Buffer$c.alloc(je,0),this._ghash.update(je))}this._called=!0;var _e=this._mode.encrypt(this,Re);return this._decrypt?this._ghash.update(Re):this._ghash.update(_e),this._len+=Re.length,_e};StreamCipher$3.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var Re=xor$3(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&xorTest(Re,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=Re,this._cipher.scrub()};StreamCipher$3.prototype.getAuthTag=function(){if(this._decrypt||!Buffer$c.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag};StreamCipher$3.prototype.setAuthTag=function(je){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=je};StreamCipher$3.prototype.setAAD=function(je){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(je),this._alen+=je.length};var authCipher=StreamCipher$3,aes$3=aes$5,Buffer$b=safeBufferExports$1.Buffer,Transform$4=cipherBase,inherits$7=inherits_browserExports;function StreamCipher$2(Re,je,_e,Me){Transform$4.call(this),this._cipher=new aes$3.AES(je),this._prev=Buffer$b.from(_e),this._cache=Buffer$b.allocUnsafe(0),this._secCache=Buffer$b.allocUnsafe(0),this._decrypt=Me,this._mode=Re}inherits$7(StreamCipher$2,Transform$4);StreamCipher$2.prototype._update=function(Re){return this._mode.encrypt(this,Re,this._decrypt)};StreamCipher$2.prototype._final=function(){this._cipher.scrub()};var streamCipher=StreamCipher$2,Buffer$a=safeBufferExports$1.Buffer,MD5=md5_js;function EVP_BytesToKey(Re,je,_e,Me){if(Buffer$a.isBuffer(Re)||(Re=Buffer$a.from(Re,"binary")),je&&(Buffer$a.isBuffer(je)||(je=Buffer$a.from(je,"binary")),je.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var $e=_e/8,ke=Buffer$a.alloc($e),Ce=Buffer$a.alloc(Me||0),Be=Buffer$a.alloc(0);$e>0||Me>0;){var qe=new MD5;qe.update(Be),qe.update(Re),je&&qe.update(je),Be=qe.digest();var He=0;if($e>0){var We=ke.length-$e;He=Math.min($e,Be.length),Be.copy(ke,We,0,He),$e-=He}if(He<Be.length&&Me>0){var Ke=Ce.length-Me,Je=Math.min(Me,Be.length-He);Be.copy(Ce,Ke,He,He+Je),Me-=Je}}return Be.fill(0),{key:ke,iv:Ce}}var evp_bytestokey=EVP_BytesToKey,MODES$1=modes_1,AuthCipher$1=authCipher,Buffer$9=safeBufferExports$1.Buffer,StreamCipher$1=streamCipher,Transform$3=cipherBase,aes$2=aes$5,ebtk$2=evp_bytestokey,inherits$6=inherits_browserExports;function Cipher(Re,je,_e){Transform$3.call(this),this._cache=new Splitter$1,this._cipher=new aes$2.AES(je),this._prev=Buffer$9.from(_e),this._mode=Re,this._autopadding=!0}inherits$6(Cipher,Transform$3);Cipher.prototype._update=function(Re){this._cache.add(Re);for(var je,_e,Me=[];je=this._cache.get();)_e=this._mode.encrypt(this,je),Me.push(_e);return Buffer$9.concat(Me)};var PADDING=Buffer$9.alloc(16,16);Cipher.prototype._final=function(){var Re=this._cache.flush();if(this._autopadding)return Re=this._mode.encrypt(this,Re),this._cipher.scrub(),Re;if(!Re.equals(PADDING))throw this._cipher.scrub(),new Error("data not multiple of block length")};Cipher.prototype.setAutoPadding=function(Re){return this._autopadding=!!Re,this};function Splitter$1(){this.cache=Buffer$9.allocUnsafe(0)}Splitter$1.prototype.add=function(Re){this.cache=Buffer$9.concat([this.cache,Re])};Splitter$1.prototype.get=function(){if(this.cache.length>15){var Re=this.cache.slice(0,16);return this.cache=this.cache.slice(16),Re}return null};Splitter$1.prototype.flush=function(){for(var Re=16-this.cache.length,je=Buffer$9.allocUnsafe(Re),_e=-1;++_e<Re;)je.writeUInt8(Re,_e);return Buffer$9.concat([this.cache,je])};function createCipheriv$1(Re,je,_e){var Me=MODES$1[Re.toLowerCase()];if(!Me)throw new TypeError("invalid suite type");if(typeof je=="string"&&(je=Buffer$9.from(je)),je.length!==Me.key/8)throw new TypeError("invalid key length "+je.length);if(typeof _e=="string"&&(_e=Buffer$9.from(_e)),Me.mode!=="GCM"&&_e.length!==Me.iv)throw new TypeError("invalid iv length "+_e.length);return Me.type==="stream"?new StreamCipher$1(Me.module,je,_e):Me.type==="auth"?new AuthCipher$1(Me.module,je,_e):new Cipher(Me.module,je,_e)}function createCipher$1(Re,je){var _e=MODES$1[Re.toLowerCase()];if(!_e)throw new TypeError("invalid suite type");var Me=ebtk$2(je,!1,_e.key,_e.iv);return createCipheriv$1(Re,Me.key,Me.iv)}encrypter.createCipheriv=createCipheriv$1;encrypter.createCipher=createCipher$1;var decrypter={},AuthCipher=authCipher,Buffer$8=safeBufferExports$1.Buffer,MODES=modes_1,StreamCipher=streamCipher,Transform$2=cipherBase,aes$1=aes$5,ebtk$1=evp_bytestokey,inherits$5=inherits_browserExports;function Decipher(Re,je,_e){Transform$2.call(this),this._cache=new Splitter,this._last=void 0,this._cipher=new aes$1.AES(je),this._prev=Buffer$8.from(_e),this._mode=Re,this._autopadding=!0}inherits$5(Decipher,Transform$2);Decipher.prototype._update=function(Re){this._cache.add(Re);for(var je,_e,Me=[];je=this._cache.get(this._autopadding);)_e=this._mode.decrypt(this,je),Me.push(_e);return Buffer$8.concat(Me)};Decipher.prototype._final=function(){var Re=this._cache.flush();if(this._autopadding)return unpad(this._mode.decrypt(this,Re));if(Re)throw new Error("data not multiple of block length")};Decipher.prototype.setAutoPadding=function(Re){return this._autopadding=!!Re,this};function Splitter(){this.cache=Buffer$8.allocUnsafe(0)}Splitter.prototype.add=function(Re){this.cache=Buffer$8.concat([this.cache,Re])};Splitter.prototype.get=function(Re){var je;if(Re){if(this.cache.length>16)return je=this.cache.slice(0,16),this.cache=this.cache.slice(16),je}else if(this.cache.length>=16)return je=this.cache.slice(0,16),this.cache=this.cache.slice(16),je;return null};Splitter.prototype.flush=function(){if(this.cache.length)return this.cache};function unpad(Re){var je=Re[15];if(je<1||je>16)throw new Error("unable to decrypt data");for(var _e=-1;++_e<je;)if(Re[_e+(16-je)]!==je)throw new Error("unable to decrypt data");if(je!==16)return Re.slice(0,16-je)}function createDecipheriv$1(Re,je,_e){var Me=MODES[Re.toLowerCase()];if(!Me)throw new TypeError("invalid suite type");if(typeof _e=="string"&&(_e=Buffer$8.from(_e)),Me.mode!=="GCM"&&_e.length!==Me.iv)throw new TypeError("invalid iv length "+_e.length);if(typeof je=="string"&&(je=Buffer$8.from(je)),je.length!==Me.key/8)throw new TypeError("invalid key length "+je.length);return Me.type==="stream"?new StreamCipher(Me.module,je,_e,!0):Me.type==="auth"?new AuthCipher(Me.module,je,_e,!0):new Decipher(Me.module,je,_e)}function createDecipher$1(Re,je){var _e=MODES[Re.toLowerCase()];if(!_e)throw new TypeError("invalid suite type");var Me=ebtk$1(je,!1,_e.key,_e.iv);return createDecipheriv$1(Re,Me.key,Me.iv)}decrypter.createDecipher=createDecipher$1;decrypter.createDecipheriv=createDecipheriv$1;var ciphers$2=encrypter,deciphers=decrypter,modes$1=require$$2;function getCiphers$1(){return Object.keys(modes$1)}browser$8.createCipher=browser$8.Cipher=ciphers$2.createCipher;browser$8.createCipheriv=browser$8.Cipheriv=ciphers$2.createCipheriv;browser$8.createDecipher=browser$8.Decipher=deciphers.createDecipher;browser$8.createDecipheriv=browser$8.Decipheriv=deciphers.createDecipheriv;browser$8.listCiphers=browser$8.getCiphers=getCiphers$1;var modes={};(function(Re){Re["des-ecb"]={key:8,iv:0},Re["des-cbc"]=Re.des={key:8,iv:8},Re["des-ede3-cbc"]=Re.des3={key:24,iv:8},Re["des-ede3"]={key:24,iv:0},Re["des-ede-cbc"]={key:16,iv:8},Re["des-ede"]={key:16,iv:0}})(modes);var DES=browserifyDes,aes=browser$8,aesModes=modes_1,desModes=modes,ebtk=evp_bytestokey;function createCipher(Re,je){Re=Re.toLowerCase();var _e,Me;if(aesModes[Re])_e=aesModes[Re].key,Me=aesModes[Re].iv;else if(desModes[Re])_e=desModes[Re].key*8,Me=desModes[Re].iv;else throw new TypeError("invalid suite type");var $e=ebtk(je,!1,_e,Me);return createCipheriv(Re,$e.key,$e.iv)}function createDecipher(Re,je){Re=Re.toLowerCase();var _e,Me;if(aesModes[Re])_e=aesModes[Re].key,Me=aesModes[Re].iv;else if(desModes[Re])_e=desModes[Re].key*8,Me=desModes[Re].iv;else throw new TypeError("invalid suite type");var $e=ebtk(je,!1,_e,Me);return createDecipheriv(Re,$e.key,$e.iv)}function createCipheriv(Re,je,_e){if(Re=Re.toLowerCase(),aesModes[Re])return aes.createCipheriv(Re,je,_e);if(desModes[Re])return new DES({key:je,iv:_e,mode:Re});throw new TypeError("invalid suite type")}function createDecipheriv(Re,je,_e){if(Re=Re.toLowerCase(),aesModes[Re])return aes.createDecipheriv(Re,je,_e);if(desModes[Re])return new DES({key:je,iv:_e,mode:Re,decrypt:!0});throw new TypeError("invalid suite type")}function getCiphers(){return Object.keys(desModes).concat(aes.getCiphers())}browser$9.createCipher=browser$9.Cipher=createCipher;browser$9.createCipheriv=browser$9.Cipheriv=createCipheriv;browser$9.createDecipher=browser$9.Decipher=createDecipher;browser$9.createDecipheriv=browser$9.Decipheriv=createDecipheriv;browser$9.listCiphers=browser$9.getCiphers=getCiphers;var browser$7={},bn$6={exports:{}};bn$6.exports;(function(Re){(function(je,_e){function Me(Xe,Pe){if(!Xe)throw new Error(Pe||"Assertion failed")}function $e(Xe,Pe){Xe.super_=Pe;var Fe=function(){};Fe.prototype=Pe.prototype,Xe.prototype=new Fe,Xe.prototype.constructor=Xe}function ke(Xe,Pe,Fe){if(ke.isBN(Xe))return Xe;this.negative=0,this.words=null,this.length=0,this.red=null,Xe!==null&&((Pe==="le"||Pe==="be")&&(Fe=Pe,Pe=10),this._init(Xe||0,Pe||10,Fe||"be"))}typeof je=="object"?je.exports=ke:_e.BN=ke,ke.BN=ke,ke.wordSize=26;var Ce;try{typeof window<"u"&&typeof window.Buffer<"u"?Ce=window.Buffer:Ce=require$$0$3.Buffer}catch{}ke.isBN=function(Pe){return Pe instanceof ke?!0:Pe!==null&&typeof Pe=="object"&&Pe.constructor.wordSize===ke.wordSize&&Array.isArray(Pe.words)},ke.max=function(Pe,Fe){return Pe.cmp(Fe)>0?Pe:Fe},ke.min=function(Pe,Fe){return Pe.cmp(Fe)<0?Pe:Fe},ke.prototype._init=function(Pe,Fe,ze){if(typeof Pe=="number")return this._initNumber(Pe,Fe,ze);if(typeof Pe=="object")return this._initArray(Pe,Fe,ze);Fe==="hex"&&(Fe=16),Me(Fe===(Fe|0)&&Fe>=2&&Fe<=36),Pe=Pe.toString().replace(/\s+/g,"");var Ue=0;Pe[0]==="-"&&(Ue++,this.negative=1),Ue<Pe.length&&(Fe===16?this._parseHex(Pe,Ue,ze):(this._parseBase(Pe,Fe,Ue),ze==="le"&&this._initArray(this.toArray(),Fe,ze)))},ke.prototype._initNumber=function(Pe,Fe,ze){Pe<0&&(this.negative=1,Pe=-Pe),Pe<67108864?(this.words=[Pe&67108863],this.length=1):Pe<4503599627370496?(this.words=[Pe&67108863,Pe/67108864&67108863],this.length=2):(Me(Pe<9007199254740992),this.words=[Pe&67108863,Pe/67108864&67108863,1],this.length=3),ze==="le"&&this._initArray(this.toArray(),Fe,ze)},ke.prototype._initArray=function(Pe,Fe,ze){if(Me(typeof Pe.length=="number"),Pe.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(Pe.length/3),this.words=new Array(this.length);for(var Ue=0;Ue<this.length;Ue++)this.words[Ue]=0;var Ge,Ze,er=0;if(ze==="be")for(Ue=Pe.length-1,Ge=0;Ue>=0;Ue-=3)Ze=Pe[Ue]|Pe[Ue-1]<<8|Pe[Ue-2]<<16,this.words[Ge]|=Ze<<er&67108863,this.words[Ge+1]=Ze>>>26-er&67108863,er+=24,er>=26&&(er-=26,Ge++);else if(ze==="le")for(Ue=0,Ge=0;Ue<Pe.length;Ue+=3)Ze=Pe[Ue]|Pe[Ue+1]<<8|Pe[Ue+2]<<16,this.words[Ge]|=Ze<<er&67108863,this.words[Ge+1]=Ze>>>26-er&67108863,er+=24,er>=26&&(er-=26,Ge++);return this.strip()};function Be(Xe,Pe){var Fe=Xe.charCodeAt(Pe);return Fe>=65&&Fe<=70?Fe-55:Fe>=97&&Fe<=102?Fe-87:Fe-48&15}function qe(Xe,Pe,Fe){var ze=Be(Xe,Fe);return Fe-1>=Pe&&(ze|=Be(Xe,Fe-1)<<4),ze}ke.prototype._parseHex=function(Pe,Fe,ze){this.length=Math.ceil((Pe.length-Fe)/6),this.words=new Array(this.length);for(var Ue=0;Ue<this.length;Ue++)this.words[Ue]=0;var Ge=0,Ze=0,er;if(ze==="be")for(Ue=Pe.length-1;Ue>=Fe;Ue-=2)er=qe(Pe,Fe,Ue)<<Ge,this.words[Ze]|=er&67108863,Ge>=18?(Ge-=18,Ze+=1,this.words[Ze]|=er>>>26):Ge+=8;else{var Ve=Pe.length-Fe;for(Ue=Ve%2===0?Fe+1:Fe;Ue<Pe.length;Ue+=2)er=qe(Pe,Fe,Ue)<<Ge,this.words[Ze]|=er&67108863,Ge>=18?(Ge-=18,Ze+=1,this.words[Ze]|=er>>>26):Ge+=8}this.strip()};function He(Xe,Pe,Fe,ze){for(var Ue=0,Ge=Math.min(Xe.length,Fe),Ze=Pe;Ze<Ge;Ze++){var er=Xe.charCodeAt(Ze)-48;Ue*=ze,er>=49?Ue+=er-49+10:er>=17?Ue+=er-17+10:Ue+=er}return Ue}ke.prototype._parseBase=function(Pe,Fe,ze){this.words=[0],this.length=1;for(var Ue=0,Ge=1;Ge<=67108863;Ge*=Fe)Ue++;Ue--,Ge=Ge/Fe|0;for(var Ze=Pe.length-ze,er=Ze%Ue,Ve=Math.min(Ze,Ze-er)+ze,Ie=0,Ye=ze;Ye<Ve;Ye+=Ue)Ie=He(Pe,Ye,Ye+Ue,Fe),this.imuln(Ge),this.words[0]+Ie<67108864?this.words[0]+=Ie:this._iaddn(Ie);if(er!==0){var ir=1;for(Ie=He(Pe,Ye,Pe.length,Fe),Ye=0;Ye<er;Ye++)ir*=Fe;this.imuln(ir),this.words[0]+Ie<67108864?this.words[0]+=Ie:this._iaddn(Ie)}this.strip()},ke.prototype.copy=function(Pe){Pe.words=new Array(this.length);for(var Fe=0;Fe<this.length;Fe++)Pe.words[Fe]=this.words[Fe];Pe.length=this.length,Pe.negative=this.negative,Pe.red=this.red},ke.prototype.clone=function(){var Pe=new ke(null);return this.copy(Pe),Pe},ke.prototype._expand=function(Pe){for(;this.length<Pe;)this.words[this.length++]=0;return this},ke.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},ke.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},ke.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var We=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Ke=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Je=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];ke.prototype.toString=function(Pe,Fe){Pe=Pe||10,Fe=Fe|0||1;var ze;if(Pe===16||Pe==="hex"){ze="";for(var Ue=0,Ge=0,Ze=0;Ze<this.length;Ze++){var er=this.words[Ze],Ve=((er<<Ue|Ge)&16777215).toString(16);Ge=er>>>24-Ue&16777215,Ue+=2,Ue>=26&&(Ue-=26,Ze--),Ge!==0||Ze!==this.length-1?ze=We[6-Ve.length]+Ve+ze:ze=Ve+ze}for(Ge!==0&&(ze=Ge.toString(16)+ze);ze.length%Fe!==0;)ze="0"+ze;return this.negative!==0&&(ze="-"+ze),ze}if(Pe===(Pe|0)&&Pe>=2&&Pe<=36){var Ie=Ke[Pe],Ye=Je[Pe];ze="";var ir=this.clone();for(ir.negative=0;!ir.isZero();){var lr=ir.modn(Ye).toString(Pe);ir=ir.idivn(Ye),ir.isZero()?ze=lr+ze:ze=We[Ie-lr.length]+lr+ze}for(this.isZero()&&(ze="0"+ze);ze.length%Fe!==0;)ze="0"+ze;return this.negative!==0&&(ze="-"+ze),ze}Me(!1,"Base should be between 2 and 36")},ke.prototype.toNumber=function(){var Pe=this.words[0];return this.length===2?Pe+=this.words[1]*67108864:this.length===3&&this.words[2]===1?Pe+=4503599627370496+this.words[1]*67108864:this.length>2&&Me(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-Pe:Pe},ke.prototype.toJSON=function(){return this.toString(16)},ke.prototype.toBuffer=function(Pe,Fe){return Me(typeof Ce<"u"),this.toArrayLike(Ce,Pe,Fe)},ke.prototype.toArray=function(Pe,Fe){return this.toArrayLike(Array,Pe,Fe)},ke.prototype.toArrayLike=function(Pe,Fe,ze){var Ue=this.byteLength(),Ge=ze||Math.max(1,Ue);Me(Ue<=Ge,"byte array longer than desired length"),Me(Ge>0,"Requested array length <= 0"),this.strip();var Ze=Fe==="le",er=new Pe(Ge),Ve,Ie,Ye=this.clone();if(Ze){for(Ie=0;!Ye.isZero();Ie++)Ve=Ye.andln(255),Ye.iushrn(8),er[Ie]=Ve;for(;Ie<Ge;Ie++)er[Ie]=0}else{for(Ie=0;Ie<Ge-Ue;Ie++)er[Ie]=0;for(Ie=0;!Ye.isZero();Ie++)Ve=Ye.andln(255),Ye.iushrn(8),er[Ge-Ie-1]=Ve}return er},Math.clz32?ke.prototype._countBits=function(Pe){return 32-Math.clz32(Pe)}:ke.prototype._countBits=function(Pe){var Fe=Pe,ze=0;return Fe>=4096&&(ze+=13,Fe>>>=13),Fe>=64&&(ze+=7,Fe>>>=7),Fe>=8&&(ze+=4,Fe>>>=4),Fe>=2&&(ze+=2,Fe>>>=2),ze+Fe},ke.prototype._zeroBits=function(Pe){if(Pe===0)return 26;var Fe=Pe,ze=0;return Fe&8191||(ze+=13,Fe>>>=13),Fe&127||(ze+=7,Fe>>>=7),Fe&15||(ze+=4,Fe>>>=4),Fe&3||(ze+=2,Fe>>>=2),Fe&1||ze++,ze},ke.prototype.bitLength=function(){var Pe=this.words[this.length-1],Fe=this._countBits(Pe);return(this.length-1)*26+Fe};function Qe(Xe){for(var Pe=new Array(Xe.bitLength()),Fe=0;Fe<Pe.length;Fe++){var ze=Fe/26|0,Ue=Fe%26;Pe[Fe]=(Xe.words[ze]&1<<Ue)>>>Ue}return Pe}ke.prototype.zeroBits=function(){if(this.isZero())return 0;for(var Pe=0,Fe=0;Fe<this.length;Fe++){var ze=this._zeroBits(this.words[Fe]);if(Pe+=ze,ze!==26)break}return Pe},ke.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},ke.prototype.toTwos=function(Pe){return this.negative!==0?this.abs().inotn(Pe).iaddn(1):this.clone()},ke.prototype.fromTwos=function(Pe){return this.testn(Pe-1)?this.notn(Pe).iaddn(1).ineg():this.clone()},ke.prototype.isNeg=function(){return this.negative!==0},ke.prototype.neg=function(){return this.clone().ineg()},ke.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},ke.prototype.iuor=function(Pe){for(;this.length<Pe.length;)this.words[this.length++]=0;for(var Fe=0;Fe<Pe.length;Fe++)this.words[Fe]=this.words[Fe]|Pe.words[Fe];return this.strip()},ke.prototype.ior=function(Pe){return Me((this.negative|Pe.negative)===0),this.iuor(Pe)},ke.prototype.or=function(Pe){return this.length>Pe.length?this.clone().ior(Pe):Pe.clone().ior(this)},ke.prototype.uor=function(Pe){return this.length>Pe.length?this.clone().iuor(Pe):Pe.clone().iuor(this)},ke.prototype.iuand=function(Pe){var Fe;this.length>Pe.length?Fe=Pe:Fe=this;for(var ze=0;ze<Fe.length;ze++)this.words[ze]=this.words[ze]&Pe.words[ze];return this.length=Fe.length,this.strip()},ke.prototype.iand=function(Pe){return Me((this.negative|Pe.negative)===0),this.iuand(Pe)},ke.prototype.and=function(Pe){return this.length>Pe.length?this.clone().iand(Pe):Pe.clone().iand(this)},ke.prototype.uand=function(Pe){return this.length>Pe.length?this.clone().iuand(Pe):Pe.clone().iuand(this)},ke.prototype.iuxor=function(Pe){var Fe,ze;this.length>Pe.length?(Fe=this,ze=Pe):(Fe=Pe,ze=this);for(var Ue=0;Ue<ze.length;Ue++)this.words[Ue]=Fe.words[Ue]^ze.words[Ue];if(this!==Fe)for(;Ue<Fe.length;Ue++)this.words[Ue]=Fe.words[Ue];return this.length=Fe.length,this.strip()},ke.prototype.ixor=function(Pe){return Me((this.negative|Pe.negative)===0),this.iuxor(Pe)},ke.prototype.xor=function(Pe){return this.length>Pe.length?this.clone().ixor(Pe):Pe.clone().ixor(this)},ke.prototype.uxor=function(Pe){return this.length>Pe.length?this.clone().iuxor(Pe):Pe.clone().iuxor(this)},ke.prototype.inotn=function(Pe){Me(typeof Pe=="number"&&Pe>=0);var Fe=Math.ceil(Pe/26)|0,ze=Pe%26;this._expand(Fe),ze>0&&Fe--;for(var Ue=0;Ue<Fe;Ue++)this.words[Ue]=~this.words[Ue]&67108863;return ze>0&&(this.words[Ue]=~this.words[Ue]&67108863>>26-ze),this.strip()},ke.prototype.notn=function(Pe){return this.clone().inotn(Pe)},ke.prototype.setn=function(Pe,Fe){Me(typeof Pe=="number"&&Pe>=0);var ze=Pe/26|0,Ue=Pe%26;return this._expand(ze+1),Fe?this.words[ze]=this.words[ze]|1<<Ue:this.words[ze]=this.words[ze]&~(1<<Ue),this.strip()},ke.prototype.iadd=function(Pe){var Fe;if(this.negative!==0&&Pe.negative===0)return this.negative=0,Fe=this.isub(Pe),this.negative^=1,this._normSign();if(this.negative===0&&Pe.negative!==0)return Pe.negative=0,Fe=this.isub(Pe),Pe.negative=1,Fe._normSign();var ze,Ue;this.length>Pe.length?(ze=this,Ue=Pe):(ze=Pe,Ue=this);for(var Ge=0,Ze=0;Ze<Ue.length;Ze++)Fe=(ze.words[Ze]|0)+(Ue.words[Ze]|0)+Ge,this.words[Ze]=Fe&67108863,Ge=Fe>>>26;for(;Ge!==0&&Ze<ze.length;Ze++)Fe=(ze.words[Ze]|0)+Ge,this.words[Ze]=Fe&67108863,Ge=Fe>>>26;if(this.length=ze.length,Ge!==0)this.words[this.length]=Ge,this.length++;else if(ze!==this)for(;Ze<ze.length;Ze++)this.words[Ze]=ze.words[Ze];return this},ke.prototype.add=function(Pe){var Fe;return Pe.negative!==0&&this.negative===0?(Pe.negative=0,Fe=this.sub(Pe),Pe.negative^=1,Fe):Pe.negative===0&&this.negative!==0?(this.negative=0,Fe=Pe.sub(this),this.negative=1,Fe):this.length>Pe.length?this.clone().iadd(Pe):Pe.clone().iadd(this)},ke.prototype.isub=function(Pe){if(Pe.negative!==0){Pe.negative=0;var Fe=this.iadd(Pe);return Pe.negative=1,Fe._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(Pe),this.negative=1,this._normSign();var ze=this.cmp(Pe);if(ze===0)return this.negative=0,this.length=1,this.words[0]=0,this;var Ue,Ge;ze>0?(Ue=this,Ge=Pe):(Ue=Pe,Ge=this);for(var Ze=0,er=0;er<Ge.length;er++)Fe=(Ue.words[er]|0)-(Ge.words[er]|0)+Ze,Ze=Fe>>26,this.words[er]=Fe&67108863;for(;Ze!==0&&er<Ue.length;er++)Fe=(Ue.words[er]|0)+Ze,Ze=Fe>>26,this.words[er]=Fe&67108863;if(Ze===0&&er<Ue.length&&Ue!==this)for(;er<Ue.length;er++)this.words[er]=Ue.words[er];return this.length=Math.max(this.length,er),Ue!==this&&(this.negative=1),this.strip()},ke.prototype.sub=function(Pe){return this.clone().isub(Pe)};function rr(Xe,Pe,Fe){Fe.negative=Pe.negative^Xe.negative;var ze=Xe.length+Pe.length|0;Fe.length=ze,ze=ze-1|0;var Ue=Xe.words[0]|0,Ge=Pe.words[0]|0,Ze=Ue*Ge,er=Ze&67108863,Ve=Ze/67108864|0;Fe.words[0]=er;for(var Ie=1;Ie<ze;Ie++){for(var Ye=Ve>>>26,ir=Ve&67108863,lr=Math.min(Ie,Pe.length-1),br=Math.max(0,Ie-Xe.length+1);br<=lr;br++){var _r=Ie-br|0;Ue=Xe.words[_r]|0,Ge=Pe.words[br]|0,Ze=Ue*Ge+ir,Ye+=Ze/67108864|0,ir=Ze&67108863}Fe.words[Ie]=ir|0,Ve=Ye|0}return Ve!==0?Fe.words[Ie]=Ve|0:Fe.length--,Fe.strip()}var tr=function(Pe,Fe,ze){var Ue=Pe.words,Ge=Fe.words,Ze=ze.words,er=0,Ve,Ie,Ye,ir=Ue[0]|0,lr=ir&8191,br=ir>>>13,_r=Ue[1]|0,Sr=_r&8191,wr=_r>>>13,Nr=Ue[2]|0,kr=Nr&8191,Lr=Nr>>>13,Xr=Ue[3]|0,Ur=Xr&8191,Gr=Xr>>>13,Ts=Ue[4]|0,Br=Ts&8191,Cr=Ts>>>13,qs=Ue[5]|0,$r=qs&8191,Tr=qs>>>13,Kr=Ue[6]|0,qr=Kr&8191,Hr=Kr>>>13,ss=Ue[7]|0,Vr=ss&8191,Zr=ss>>>13,Is=Ue[8]|0,Jr=Is&8191,cs=Is>>>13,zs=Ue[9]|0,ns=zs&8191,Qr=zs>>>13,Zs=Ge[0]|0,os=Zs&8191,_s=Zs>>>13,Ys=Ge[1]|0,ds=Ys&8191,Ns=Ys>>>13,Xs=Ge[2]|0,ys=Xs&8191,ws=Xs>>>13,ni=Ge[3]|0,bs=ni&8191,Es=ni>>>13,Hs=Ge[4]|0,us=Hs&8191,As=Hs>>>13,Qs=Ge[5]|0,vs=Qs&8191,Ms=Qs>>>13,Us=Ge[6]|0,xs=Us&8191,ks=Us>>>13,ri=Ge[7]|0,fs=ri&8191,Rs=ri>>>13,si=Ge[8]|0,js=si&8191,$s=si>>>13,ai=Ge[9]|0,gs=ai&8191,Ss=ai>>>13;ze.negative=Pe.negative^Fe.negative,ze.length=19,Ve=Math.imul(lr,os),Ie=Math.imul(lr,_s),Ie=Ie+Math.imul(br,os)|0,Ye=Math.imul(br,_s);var ei=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(ei>>>26)|0,ei&=67108863,Ve=Math.imul(Sr,os),Ie=Math.imul(Sr,_s),Ie=Ie+Math.imul(wr,os)|0,Ye=Math.imul(wr,_s),Ve=Ve+Math.imul(lr,ds)|0,Ie=Ie+Math.imul(lr,Ns)|0,Ie=Ie+Math.imul(br,ds)|0,Ye=Ye+Math.imul(br,Ns)|0;var Js=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(Js>>>26)|0,Js&=67108863,Ve=Math.imul(kr,os),Ie=Math.imul(kr,_s),Ie=Ie+Math.imul(Lr,os)|0,Ye=Math.imul(Lr,_s),Ve=Ve+Math.imul(Sr,ds)|0,Ie=Ie+Math.imul(Sr,Ns)|0,Ie=Ie+Math.imul(wr,ds)|0,Ye=Ye+Math.imul(wr,Ns)|0,Ve=Ve+Math.imul(lr,ys)|0,Ie=Ie+Math.imul(lr,ws)|0,Ie=Ie+Math.imul(br,ys)|0,Ye=Ye+Math.imul(br,ws)|0;var di=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(di>>>26)|0,di&=67108863,Ve=Math.imul(Ur,os),Ie=Math.imul(Ur,_s),Ie=Ie+Math.imul(Gr,os)|0,Ye=Math.imul(Gr,_s),Ve=Ve+Math.imul(kr,ds)|0,Ie=Ie+Math.imul(kr,Ns)|0,Ie=Ie+Math.imul(Lr,ds)|0,Ye=Ye+Math.imul(Lr,Ns)|0,Ve=Ve+Math.imul(Sr,ys)|0,Ie=Ie+Math.imul(Sr,ws)|0,Ie=Ie+Math.imul(wr,ys)|0,Ye=Ye+Math.imul(wr,ws)|0,Ve=Ve+Math.imul(lr,bs)|0,Ie=Ie+Math.imul(lr,Es)|0,Ie=Ie+Math.imul(br,bs)|0,Ye=Ye+Math.imul(br,Es)|0;var fi=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(fi>>>26)|0,fi&=67108863,Ve=Math.imul(Br,os),Ie=Math.imul(Br,_s),Ie=Ie+Math.imul(Cr,os)|0,Ye=Math.imul(Cr,_s),Ve=Ve+Math.imul(Ur,ds)|0,Ie=Ie+Math.imul(Ur,Ns)|0,Ie=Ie+Math.imul(Gr,ds)|0,Ye=Ye+Math.imul(Gr,Ns)|0,Ve=Ve+Math.imul(kr,ys)|0,Ie=Ie+Math.imul(kr,ws)|0,Ie=Ie+Math.imul(Lr,ys)|0,Ye=Ye+Math.imul(Lr,ws)|0,Ve=Ve+Math.imul(Sr,bs)|0,Ie=Ie+Math.imul(Sr,Es)|0,Ie=Ie+Math.imul(wr,bs)|0,Ye=Ye+Math.imul(wr,Es)|0,Ve=Ve+Math.imul(lr,us)|0,Ie=Ie+Math.imul(lr,As)|0,Ie=Ie+Math.imul(br,us)|0,Ye=Ye+Math.imul(br,As)|0;var mi=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(mi>>>26)|0,mi&=67108863,Ve=Math.imul($r,os),Ie=Math.imul($r,_s),Ie=Ie+Math.imul(Tr,os)|0,Ye=Math.imul(Tr,_s),Ve=Ve+Math.imul(Br,ds)|0,Ie=Ie+Math.imul(Br,Ns)|0,Ie=Ie+Math.imul(Cr,ds)|0,Ye=Ye+Math.imul(Cr,Ns)|0,Ve=Ve+Math.imul(Ur,ys)|0,Ie=Ie+Math.imul(Ur,ws)|0,Ie=Ie+Math.imul(Gr,ys)|0,Ye=Ye+Math.imul(Gr,ws)|0,Ve=Ve+Math.imul(kr,bs)|0,Ie=Ie+Math.imul(kr,Es)|0,Ie=Ie+Math.imul(Lr,bs)|0,Ye=Ye+Math.imul(Lr,Es)|0,Ve=Ve+Math.imul(Sr,us)|0,Ie=Ie+Math.imul(Sr,As)|0,Ie=Ie+Math.imul(wr,us)|0,Ye=Ye+Math.imul(wr,As)|0,Ve=Ve+Math.imul(lr,vs)|0,Ie=Ie+Math.imul(lr,Ms)|0,Ie=Ie+Math.imul(br,vs)|0,Ye=Ye+Math.imul(br,Ms)|0;var pi=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(pi>>>26)|0,pi&=67108863,Ve=Math.imul(qr,os),Ie=Math.imul(qr,_s),Ie=Ie+Math.imul(Hr,os)|0,Ye=Math.imul(Hr,_s),Ve=Ve+Math.imul($r,ds)|0,Ie=Ie+Math.imul($r,Ns)|0,Ie=Ie+Math.imul(Tr,ds)|0,Ye=Ye+Math.imul(Tr,Ns)|0,Ve=Ve+Math.imul(Br,ys)|0,Ie=Ie+Math.imul(Br,ws)|0,Ie=Ie+Math.imul(Cr,ys)|0,Ye=Ye+Math.imul(Cr,ws)|0,Ve=Ve+Math.imul(Ur,bs)|0,Ie=Ie+Math.imul(Ur,Es)|0,Ie=Ie+Math.imul(Gr,bs)|0,Ye=Ye+Math.imul(Gr,Es)|0,Ve=Ve+Math.imul(kr,us)|0,Ie=Ie+Math.imul(kr,As)|0,Ie=Ie+Math.imul(Lr,us)|0,Ye=Ye+Math.imul(Lr,As)|0,Ve=Ve+Math.imul(Sr,vs)|0,Ie=Ie+Math.imul(Sr,Ms)|0,Ie=Ie+Math.imul(wr,vs)|0,Ye=Ye+Math.imul(wr,Ms)|0,Ve=Ve+Math.imul(lr,xs)|0,Ie=Ie+Math.imul(lr,ks)|0,Ie=Ie+Math.imul(br,xs)|0,Ye=Ye+Math.imul(br,ks)|0;var xi=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(xi>>>26)|0,xi&=67108863,Ve=Math.imul(Vr,os),Ie=Math.imul(Vr,_s),Ie=Ie+Math.imul(Zr,os)|0,Ye=Math.imul(Zr,_s),Ve=Ve+Math.imul(qr,ds)|0,Ie=Ie+Math.imul(qr,Ns)|0,Ie=Ie+Math.imul(Hr,ds)|0,Ye=Ye+Math.imul(Hr,Ns)|0,Ve=Ve+Math.imul($r,ys)|0,Ie=Ie+Math.imul($r,ws)|0,Ie=Ie+Math.imul(Tr,ys)|0,Ye=Ye+Math.imul(Tr,ws)|0,Ve=Ve+Math.imul(Br,bs)|0,Ie=Ie+Math.imul(Br,Es)|0,Ie=Ie+Math.imul(Cr,bs)|0,Ye=Ye+Math.imul(Cr,Es)|0,Ve=Ve+Math.imul(Ur,us)|0,Ie=Ie+Math.imul(Ur,As)|0,Ie=Ie+Math.imul(Gr,us)|0,Ye=Ye+Math.imul(Gr,As)|0,Ve=Ve+Math.imul(kr,vs)|0,Ie=Ie+Math.imul(kr,Ms)|0,Ie=Ie+Math.imul(Lr,vs)|0,Ye=Ye+Math.imul(Lr,Ms)|0,Ve=Ve+Math.imul(Sr,xs)|0,Ie=Ie+Math.imul(Sr,ks)|0,Ie=Ie+Math.imul(wr,xs)|0,Ye=Ye+Math.imul(wr,ks)|0,Ve=Ve+Math.imul(lr,fs)|0,Ie=Ie+Math.imul(lr,Rs)|0,Ie=Ie+Math.imul(br,fs)|0,Ye=Ye+Math.imul(br,Rs)|0;var gi=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(gi>>>26)|0,gi&=67108863,Ve=Math.imul(Jr,os),Ie=Math.imul(Jr,_s),Ie=Ie+Math.imul(cs,os)|0,Ye=Math.imul(cs,_s),Ve=Ve+Math.imul(Vr,ds)|0,Ie=Ie+Math.imul(Vr,Ns)|0,Ie=Ie+Math.imul(Zr,ds)|0,Ye=Ye+Math.imul(Zr,Ns)|0,Ve=Ve+Math.imul(qr,ys)|0,Ie=Ie+Math.imul(qr,ws)|0,Ie=Ie+Math.imul(Hr,ys)|0,Ye=Ye+Math.imul(Hr,ws)|0,Ve=Ve+Math.imul($r,bs)|0,Ie=Ie+Math.imul($r,Es)|0,Ie=Ie+Math.imul(Tr,bs)|0,Ye=Ye+Math.imul(Tr,Es)|0,Ve=Ve+Math.imul(Br,us)|0,Ie=Ie+Math.imul(Br,As)|0,Ie=Ie+Math.imul(Cr,us)|0,Ye=Ye+Math.imul(Cr,As)|0,Ve=Ve+Math.imul(Ur,vs)|0,Ie=Ie+Math.imul(Ur,Ms)|0,Ie=Ie+Math.imul(Gr,vs)|0,Ye=Ye+Math.imul(Gr,Ms)|0,Ve=Ve+Math.imul(kr,xs)|0,Ie=Ie+Math.imul(kr,ks)|0,Ie=Ie+Math.imul(Lr,xs)|0,Ye=Ye+Math.imul(Lr,ks)|0,Ve=Ve+Math.imul(Sr,fs)|0,Ie=Ie+Math.imul(Sr,Rs)|0,Ie=Ie+Math.imul(wr,fs)|0,Ye=Ye+Math.imul(wr,Rs)|0,Ve=Ve+Math.imul(lr,js)|0,Ie=Ie+Math.imul(lr,$s)|0,Ie=Ie+Math.imul(br,js)|0,Ye=Ye+Math.imul(br,$s)|0;var Ei=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(Ei>>>26)|0,Ei&=67108863,Ve=Math.imul(ns,os),Ie=Math.imul(ns,_s),Ie=Ie+Math.imul(Qr,os)|0,Ye=Math.imul(Qr,_s),Ve=Ve+Math.imul(Jr,ds)|0,Ie=Ie+Math.imul(Jr,Ns)|0,Ie=Ie+Math.imul(cs,ds)|0,Ye=Ye+Math.imul(cs,Ns)|0,Ve=Ve+Math.imul(Vr,ys)|0,Ie=Ie+Math.imul(Vr,ws)|0,Ie=Ie+Math.imul(Zr,ys)|0,Ye=Ye+Math.imul(Zr,ws)|0,Ve=Ve+Math.imul(qr,bs)|0,Ie=Ie+Math.imul(qr,Es)|0,Ie=Ie+Math.imul(Hr,bs)|0,Ye=Ye+Math.imul(Hr,Es)|0,Ve=Ve+Math.imul($r,us)|0,Ie=Ie+Math.imul($r,As)|0,Ie=Ie+Math.imul(Tr,us)|0,Ye=Ye+Math.imul(Tr,As)|0,Ve=Ve+Math.imul(Br,vs)|0,Ie=Ie+Math.imul(Br,Ms)|0,Ie=Ie+Math.imul(Cr,vs)|0,Ye=Ye+Math.imul(Cr,Ms)|0,Ve=Ve+Math.imul(Ur,xs)|0,Ie=Ie+Math.imul(Ur,ks)|0,Ie=Ie+Math.imul(Gr,xs)|0,Ye=Ye+Math.imul(Gr,ks)|0,Ve=Ve+Math.imul(kr,fs)|0,Ie=Ie+Math.imul(kr,Rs)|0,Ie=Ie+Math.imul(Lr,fs)|0,Ye=Ye+Math.imul(Lr,Rs)|0,Ve=Ve+Math.imul(Sr,js)|0,Ie=Ie+Math.imul(Sr,$s)|0,Ie=Ie+Math.imul(wr,js)|0,Ye=Ye+Math.imul(wr,$s)|0,Ve=Ve+Math.imul(lr,gs)|0,Ie=Ie+Math.imul(lr,Ss)|0,Ie=Ie+Math.imul(br,gs)|0,Ye=Ye+Math.imul(br,Ss)|0;var Si=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(Si>>>26)|0,Si&=67108863,Ve=Math.imul(ns,ds),Ie=Math.imul(ns,Ns),Ie=Ie+Math.imul(Qr,ds)|0,Ye=Math.imul(Qr,Ns),Ve=Ve+Math.imul(Jr,ys)|0,Ie=Ie+Math.imul(Jr,ws)|0,Ie=Ie+Math.imul(cs,ys)|0,Ye=Ye+Math.imul(cs,ws)|0,Ve=Ve+Math.imul(Vr,bs)|0,Ie=Ie+Math.imul(Vr,Es)|0,Ie=Ie+Math.imul(Zr,bs)|0,Ye=Ye+Math.imul(Zr,Es)|0,Ve=Ve+Math.imul(qr,us)|0,Ie=Ie+Math.imul(qr,As)|0,Ie=Ie+Math.imul(Hr,us)|0,Ye=Ye+Math.imul(Hr,As)|0,Ve=Ve+Math.imul($r,vs)|0,Ie=Ie+Math.imul($r,Ms)|0,Ie=Ie+Math.imul(Tr,vs)|0,Ye=Ye+Math.imul(Tr,Ms)|0,Ve=Ve+Math.imul(Br,xs)|0,Ie=Ie+Math.imul(Br,ks)|0,Ie=Ie+Math.imul(Cr,xs)|0,Ye=Ye+Math.imul(Cr,ks)|0,Ve=Ve+Math.imul(Ur,fs)|0,Ie=Ie+Math.imul(Ur,Rs)|0,Ie=Ie+Math.imul(Gr,fs)|0,Ye=Ye+Math.imul(Gr,Rs)|0,Ve=Ve+Math.imul(kr,js)|0,Ie=Ie+Math.imul(kr,$s)|0,Ie=Ie+Math.imul(Lr,js)|0,Ye=Ye+Math.imul(Lr,$s)|0,Ve=Ve+Math.imul(Sr,gs)|0,Ie=Ie+Math.imul(Sr,Ss)|0,Ie=Ie+Math.imul(wr,gs)|0,Ye=Ye+Math.imul(wr,Ss)|0;var Ni=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(Ni>>>26)|0,Ni&=67108863,Ve=Math.imul(ns,ys),Ie=Math.imul(ns,ws),Ie=Ie+Math.imul(Qr,ys)|0,Ye=Math.imul(Qr,ws),Ve=Ve+Math.imul(Jr,bs)|0,Ie=Ie+Math.imul(Jr,Es)|0,Ie=Ie+Math.imul(cs,bs)|0,Ye=Ye+Math.imul(cs,Es)|0,Ve=Ve+Math.imul(Vr,us)|0,Ie=Ie+Math.imul(Vr,As)|0,Ie=Ie+Math.imul(Zr,us)|0,Ye=Ye+Math.imul(Zr,As)|0,Ve=Ve+Math.imul(qr,vs)|0,Ie=Ie+Math.imul(qr,Ms)|0,Ie=Ie+Math.imul(Hr,vs)|0,Ye=Ye+Math.imul(Hr,Ms)|0,Ve=Ve+Math.imul($r,xs)|0,Ie=Ie+Math.imul($r,ks)|0,Ie=Ie+Math.imul(Tr,xs)|0,Ye=Ye+Math.imul(Tr,ks)|0,Ve=Ve+Math.imul(Br,fs)|0,Ie=Ie+Math.imul(Br,Rs)|0,Ie=Ie+Math.imul(Cr,fs)|0,Ye=Ye+Math.imul(Cr,Rs)|0,Ve=Ve+Math.imul(Ur,js)|0,Ie=Ie+Math.imul(Ur,$s)|0,Ie=Ie+Math.imul(Gr,js)|0,Ye=Ye+Math.imul(Gr,$s)|0,Ve=Ve+Math.imul(kr,gs)|0,Ie=Ie+Math.imul(kr,Ss)|0,Ie=Ie+Math.imul(Lr,gs)|0,Ye=Ye+Math.imul(Lr,Ss)|0;var vi=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(vi>>>26)|0,vi&=67108863,Ve=Math.imul(ns,bs),Ie=Math.imul(ns,Es),Ie=Ie+Math.imul(Qr,bs)|0,Ye=Math.imul(Qr,Es),Ve=Ve+Math.imul(Jr,us)|0,Ie=Ie+Math.imul(Jr,As)|0,Ie=Ie+Math.imul(cs,us)|0,Ye=Ye+Math.imul(cs,As)|0,Ve=Ve+Math.imul(Vr,vs)|0,Ie=Ie+Math.imul(Vr,Ms)|0,Ie=Ie+Math.imul(Zr,vs)|0,Ye=Ye+Math.imul(Zr,Ms)|0,Ve=Ve+Math.imul(qr,xs)|0,Ie=Ie+Math.imul(qr,ks)|0,Ie=Ie+Math.imul(Hr,xs)|0,Ye=Ye+Math.imul(Hr,ks)|0,Ve=Ve+Math.imul($r,fs)|0,Ie=Ie+Math.imul($r,Rs)|0,Ie=Ie+Math.imul(Tr,fs)|0,Ye=Ye+Math.imul(Tr,Rs)|0,Ve=Ve+Math.imul(Br,js)|0,Ie=Ie+Math.imul(Br,$s)|0,Ie=Ie+Math.imul(Cr,js)|0,Ye=Ye+Math.imul(Cr,$s)|0,Ve=Ve+Math.imul(Ur,gs)|0,Ie=Ie+Math.imul(Ur,Ss)|0,Ie=Ie+Math.imul(Gr,gs)|0,Ye=Ye+Math.imul(Gr,Ss)|0;var Ri=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(Ri>>>26)|0,Ri&=67108863,Ve=Math.imul(ns,us),Ie=Math.imul(ns,As),Ie=Ie+Math.imul(Qr,us)|0,Ye=Math.imul(Qr,As),Ve=Ve+Math.imul(Jr,vs)|0,Ie=Ie+Math.imul(Jr,Ms)|0,Ie=Ie+Math.imul(cs,vs)|0,Ye=Ye+Math.imul(cs,Ms)|0,Ve=Ve+Math.imul(Vr,xs)|0,Ie=Ie+Math.imul(Vr,ks)|0,Ie=Ie+Math.imul(Zr,xs)|0,Ye=Ye+Math.imul(Zr,ks)|0,Ve=Ve+Math.imul(qr,fs)|0,Ie=Ie+Math.imul(qr,Rs)|0,Ie=Ie+Math.imul(Hr,fs)|0,Ye=Ye+Math.imul(Hr,Rs)|0,Ve=Ve+Math.imul($r,js)|0,Ie=Ie+Math.imul($r,$s)|0,Ie=Ie+Math.imul(Tr,js)|0,Ye=Ye+Math.imul(Tr,$s)|0,Ve=Ve+Math.imul(Br,gs)|0,Ie=Ie+Math.imul(Br,Ss)|0,Ie=Ie+Math.imul(Cr,gs)|0,Ye=Ye+Math.imul(Cr,Ss)|0;var Mi=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(Mi>>>26)|0,Mi&=67108863,Ve=Math.imul(ns,vs),Ie=Math.imul(ns,Ms),Ie=Ie+Math.imul(Qr,vs)|0,Ye=Math.imul(Qr,Ms),Ve=Ve+Math.imul(Jr,xs)|0,Ie=Ie+Math.imul(Jr,ks)|0,Ie=Ie+Math.imul(cs,xs)|0,Ye=Ye+Math.imul(cs,ks)|0,Ve=Ve+Math.imul(Vr,fs)|0,Ie=Ie+Math.imul(Vr,Rs)|0,Ie=Ie+Math.imul(Zr,fs)|0,Ye=Ye+Math.imul(Zr,Rs)|0,Ve=Ve+Math.imul(qr,js)|0,Ie=Ie+Math.imul(qr,$s)|0,Ie=Ie+Math.imul(Hr,js)|0,Ye=Ye+Math.imul(Hr,$s)|0,Ve=Ve+Math.imul($r,gs)|0,Ie=Ie+Math.imul($r,Ss)|0,Ie=Ie+Math.imul(Tr,gs)|0,Ye=Ye+Math.imul(Tr,Ss)|0;var ji=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(ji>>>26)|0,ji&=67108863,Ve=Math.imul(ns,xs),Ie=Math.imul(ns,ks),Ie=Ie+Math.imul(Qr,xs)|0,Ye=Math.imul(Qr,ks),Ve=Ve+Math.imul(Jr,fs)|0,Ie=Ie+Math.imul(Jr,Rs)|0,Ie=Ie+Math.imul(cs,fs)|0,Ye=Ye+Math.imul(cs,Rs)|0,Ve=Ve+Math.imul(Vr,js)|0,Ie=Ie+Math.imul(Vr,$s)|0,Ie=Ie+Math.imul(Zr,js)|0,Ye=Ye+Math.imul(Zr,$s)|0,Ve=Ve+Math.imul(qr,gs)|0,Ie=Ie+Math.imul(qr,Ss)|0,Ie=Ie+Math.imul(Hr,gs)|0,Ye=Ye+Math.imul(Hr,Ss)|0;var ki=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(ki>>>26)|0,ki&=67108863,Ve=Math.imul(ns,fs),Ie=Math.imul(ns,Rs),Ie=Ie+Math.imul(Qr,fs)|0,Ye=Math.imul(Qr,Rs),Ve=Ve+Math.imul(Jr,js)|0,Ie=Ie+Math.imul(Jr,$s)|0,Ie=Ie+Math.imul(cs,js)|0,Ye=Ye+Math.imul(cs,$s)|0,Ve=Ve+Math.imul(Vr,gs)|0,Ie=Ie+Math.imul(Vr,Ss)|0,Ie=Ie+Math.imul(Zr,gs)|0,Ye=Ye+Math.imul(Zr,Ss)|0;var _i=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(_i>>>26)|0,_i&=67108863,Ve=Math.imul(ns,js),Ie=Math.imul(ns,$s),Ie=Ie+Math.imul(Qr,js)|0,Ye=Math.imul(Qr,$s),Ve=Ve+Math.imul(Jr,gs)|0,Ie=Ie+Math.imul(Jr,Ss)|0,Ie=Ie+Math.imul(cs,gs)|0,Ye=Ye+Math.imul(cs,Ss)|0;var $i=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+($i>>>26)|0,$i&=67108863,Ve=Math.imul(ns,gs),Ie=Math.imul(ns,Ss),Ie=Ie+Math.imul(Qr,gs)|0,Ye=Math.imul(Qr,Ss);var bi=(er+Ve|0)+((Ie&8191)<<13)|0;return er=(Ye+(Ie>>>13)|0)+(bi>>>26)|0,bi&=67108863,Ze[0]=ei,Ze[1]=Js,Ze[2]=di,Ze[3]=fi,Ze[4]=mi,Ze[5]=pi,Ze[6]=xi,Ze[7]=gi,Ze[8]=Ei,Ze[9]=Si,Ze[10]=Ni,Ze[11]=vi,Ze[12]=Ri,Ze[13]=Mi,Ze[14]=ji,Ze[15]=ki,Ze[16]=_i,Ze[17]=$i,Ze[18]=bi,er!==0&&(Ze[19]=er,ze.length++),ze};Math.imul||(tr=rr);function cr(Xe,Pe,Fe){Fe.negative=Pe.negative^Xe.negative,Fe.length=Xe.length+Pe.length;for(var ze=0,Ue=0,Ge=0;Ge<Fe.length-1;Ge++){var Ze=Ue;Ue=0;for(var er=ze&67108863,Ve=Math.min(Ge,Pe.length-1),Ie=Math.max(0,Ge-Xe.length+1);Ie<=Ve;Ie++){var Ye=Ge-Ie,ir=Xe.words[Ye]|0,lr=Pe.words[Ie]|0,br=ir*lr,_r=br&67108863;Ze=Ze+(br/67108864|0)|0,_r=_r+er|0,er=_r&67108863,Ze=Ze+(_r>>>26)|0,Ue+=Ze>>>26,Ze&=67108863}Fe.words[Ge]=er,ze=Ze,Ze=Ue}return ze!==0?Fe.words[Ge]=ze:Fe.length--,Fe.strip()}function or(Xe,Pe,Fe){var ze=new ar;return ze.mulp(Xe,Pe,Fe)}ke.prototype.mulTo=function(Pe,Fe){var ze,Ue=this.length+Pe.length;return this.length===10&&Pe.length===10?ze=tr(this,Pe,Fe):Ue<63?ze=rr(this,Pe,Fe):Ue<1024?ze=cr(this,Pe,Fe):ze=or(this,Pe,Fe),ze};function ar(Xe,Pe){this.x=Xe,this.y=Pe}ar.prototype.makeRBT=function(Pe){for(var Fe=new Array(Pe),ze=ke.prototype._countBits(Pe)-1,Ue=0;Ue<Pe;Ue++)Fe[Ue]=this.revBin(Ue,ze,Pe);return Fe},ar.prototype.revBin=function(Pe,Fe,ze){if(Pe===0||Pe===ze-1)return Pe;for(var Ue=0,Ge=0;Ge<Fe;Ge++)Ue|=(Pe&1)<<Fe-Ge-1,Pe>>=1;return Ue},ar.prototype.permute=function(Pe,Fe,ze,Ue,Ge,Ze){for(var er=0;er<Ze;er++)Ue[er]=Fe[Pe[er]],Ge[er]=ze[Pe[er]]},ar.prototype.transform=function(Pe,Fe,ze,Ue,Ge,Ze){this.permute(Ze,Pe,Fe,ze,Ue,Ge);for(var er=1;er<Ge;er<<=1)for(var Ve=er<<1,Ie=Math.cos(2*Math.PI/Ve),Ye=Math.sin(2*Math.PI/Ve),ir=0;ir<Ge;ir+=Ve)for(var lr=Ie,br=Ye,_r=0;_r<er;_r++){var Sr=ze[ir+_r],wr=Ue[ir+_r],Nr=ze[ir+_r+er],kr=Ue[ir+_r+er],Lr=lr*Nr-br*kr;kr=lr*kr+br*Nr,Nr=Lr,ze[ir+_r]=Sr+Nr,Ue[ir+_r]=wr+kr,ze[ir+_r+er]=Sr-Nr,Ue[ir+_r+er]=wr-kr,_r!==Ve&&(Lr=Ie*lr-Ye*br,br=Ie*br+Ye*lr,lr=Lr)}},ar.prototype.guessLen13b=function(Pe,Fe){var ze=Math.max(Fe,Pe)|1,Ue=ze&1,Ge=0;for(ze=ze/2|0;ze;ze=ze>>>1)Ge++;return 1<<Ge+1+Ue},ar.prototype.conjugate=function(Pe,Fe,ze){if(!(ze<=1))for(var Ue=0;Ue<ze/2;Ue++){var Ge=Pe[Ue];Pe[Ue]=Pe[ze-Ue-1],Pe[ze-Ue-1]=Ge,Ge=Fe[Ue],Fe[Ue]=-Fe[ze-Ue-1],Fe[ze-Ue-1]=-Ge}},ar.prototype.normalize13b=function(Pe,Fe){for(var ze=0,Ue=0;Ue<Fe/2;Ue++){var Ge=Math.round(Pe[2*Ue+1]/Fe)*8192+Math.round(Pe[2*Ue]/Fe)+ze;Pe[Ue]=Ge&67108863,Ge<67108864?ze=0:ze=Ge/67108864|0}return Pe},ar.prototype.convert13b=function(Pe,Fe,ze,Ue){for(var Ge=0,Ze=0;Ze<Fe;Ze++)Ge=Ge+(Pe[Ze]|0),ze[2*Ze]=Ge&8191,Ge=Ge>>>13,ze[2*Ze+1]=Ge&8191,Ge=Ge>>>13;for(Ze=2*Fe;Ze<Ue;++Ze)ze[Ze]=0;Me(Ge===0),Me((Ge&-8192)===0)},ar.prototype.stub=function(Pe){for(var Fe=new Array(Pe),ze=0;ze<Pe;ze++)Fe[ze]=0;return Fe},ar.prototype.mulp=function(Pe,Fe,ze){var Ue=2*this.guessLen13b(Pe.length,Fe.length),Ge=this.makeRBT(Ue),Ze=this.stub(Ue),er=new Array(Ue),Ve=new Array(Ue),Ie=new Array(Ue),Ye=new Array(Ue),ir=new Array(Ue),lr=new Array(Ue),br=ze.words;br.length=Ue,this.convert13b(Pe.words,Pe.length,er,Ue),this.convert13b(Fe.words,Fe.length,Ye,Ue),this.transform(er,Ze,Ve,Ie,Ue,Ge),this.transform(Ye,Ze,ir,lr,Ue,Ge);for(var _r=0;_r<Ue;_r++){var Sr=Ve[_r]*ir[_r]-Ie[_r]*lr[_r];Ie[_r]=Ve[_r]*lr[_r]+Ie[_r]*ir[_r],Ve[_r]=Sr}return this.conjugate(Ve,Ie,Ue),this.transform(Ve,Ie,br,Ze,Ue,Ge),this.conjugate(br,Ze,Ue),this.normalize13b(br,Ue),ze.negative=Pe.negative^Fe.negative,ze.length=Pe.length+Fe.length,ze.strip()},ke.prototype.mul=function(Pe){var Fe=new ke(null);return Fe.words=new Array(this.length+Pe.length),this.mulTo(Pe,Fe)},ke.prototype.mulf=function(Pe){var Fe=new ke(null);return Fe.words=new Array(this.length+Pe.length),or(this,Pe,Fe)},ke.prototype.imul=function(Pe){return this.clone().mulTo(Pe,this)},ke.prototype.imuln=function(Pe){Me(typeof Pe=="number"),Me(Pe<67108864);for(var Fe=0,ze=0;ze<this.length;ze++){var Ue=(this.words[ze]|0)*Pe,Ge=(Ue&67108863)+(Fe&67108863);Fe>>=26,Fe+=Ue/67108864|0,Fe+=Ge>>>26,this.words[ze]=Ge&67108863}return Fe!==0&&(this.words[ze]=Fe,this.length++),this.length=Pe===0?1:this.length,this},ke.prototype.muln=function(Pe){return this.clone().imuln(Pe)},ke.prototype.sqr=function(){return this.mul(this)},ke.prototype.isqr=function(){return this.imul(this.clone())},ke.prototype.pow=function(Pe){var Fe=Qe(Pe);if(Fe.length===0)return new ke(1);for(var ze=this,Ue=0;Ue<Fe.length&&Fe[Ue]===0;Ue++,ze=ze.sqr());if(++Ue<Fe.length)for(var Ge=ze.sqr();Ue<Fe.length;Ue++,Ge=Ge.sqr())Fe[Ue]!==0&&(ze=ze.mul(Ge));return ze},ke.prototype.iushln=function(Pe){Me(typeof Pe=="number"&&Pe>=0);var Fe=Pe%26,ze=(Pe-Fe)/26,Ue=67108863>>>26-Fe<<26-Fe,Ge;if(Fe!==0){var Ze=0;for(Ge=0;Ge<this.length;Ge++){var er=this.words[Ge]&Ue,Ve=(this.words[Ge]|0)-er<<Fe;this.words[Ge]=Ve|Ze,Ze=er>>>26-Fe}Ze&&(this.words[Ge]=Ze,this.length++)}if(ze!==0){for(Ge=this.length-1;Ge>=0;Ge--)this.words[Ge+ze]=this.words[Ge];for(Ge=0;Ge<ze;Ge++)this.words[Ge]=0;this.length+=ze}return this.strip()},ke.prototype.ishln=function(Pe){return Me(this.negative===0),this.iushln(Pe)},ke.prototype.iushrn=function(Pe,Fe,ze){Me(typeof Pe=="number"&&Pe>=0);var Ue;Fe?Ue=(Fe-Fe%26)/26:Ue=0;var Ge=Pe%26,Ze=Math.min((Pe-Ge)/26,this.length),er=67108863^67108863>>>Ge<<Ge,Ve=ze;if(Ue-=Ze,Ue=Math.max(0,Ue),Ve){for(var Ie=0;Ie<Ze;Ie++)Ve.words[Ie]=this.words[Ie];Ve.length=Ze}if(Ze!==0)if(this.length>Ze)for(this.length-=Ze,Ie=0;Ie<this.length;Ie++)this.words[Ie]=this.words[Ie+Ze];else this.words[0]=0,this.length=1;var Ye=0;for(Ie=this.length-1;Ie>=0&&(Ye!==0||Ie>=Ue);Ie--){var ir=this.words[Ie]|0;this.words[Ie]=Ye<<26-Ge|ir>>>Ge,Ye=ir&er}return Ve&&Ye!==0&&(Ve.words[Ve.length++]=Ye),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},ke.prototype.ishrn=function(Pe,Fe,ze){return Me(this.negative===0),this.iushrn(Pe,Fe,ze)},ke.prototype.shln=function(Pe){return this.clone().ishln(Pe)},ke.prototype.ushln=function(Pe){return this.clone().iushln(Pe)},ke.prototype.shrn=function(Pe){return this.clone().ishrn(Pe)},ke.prototype.ushrn=function(Pe){return this.clone().iushrn(Pe)},ke.prototype.testn=function(Pe){Me(typeof Pe=="number"&&Pe>=0);var Fe=Pe%26,ze=(Pe-Fe)/26,Ue=1<<Fe;if(this.length<=ze)return!1;var Ge=this.words[ze];return!!(Ge&Ue)},ke.prototype.imaskn=function(Pe){Me(typeof Pe=="number"&&Pe>=0);var Fe=Pe%26,ze=(Pe-Fe)/26;if(Me(this.negative===0,"imaskn works only with positive numbers"),this.length<=ze)return this;if(Fe!==0&&ze++,this.length=Math.min(ze,this.length),Fe!==0){var Ue=67108863^67108863>>>Fe<<Fe;this.words[this.length-1]&=Ue}return this.strip()},ke.prototype.maskn=function(Pe){return this.clone().imaskn(Pe)},ke.prototype.iaddn=function(Pe){return Me(typeof Pe=="number"),Me(Pe<67108864),Pe<0?this.isubn(-Pe):this.negative!==0?this.length===1&&(this.words[0]|0)<Pe?(this.words[0]=Pe-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(Pe),this.negative=1,this):this._iaddn(Pe)},ke.prototype._iaddn=function(Pe){this.words[0]+=Pe;for(var Fe=0;Fe<this.length&&this.words[Fe]>=67108864;Fe++)this.words[Fe]-=67108864,Fe===this.length-1?this.words[Fe+1]=1:this.words[Fe+1]++;return this.length=Math.max(this.length,Fe+1),this},ke.prototype.isubn=function(Pe){if(Me(typeof Pe=="number"),Me(Pe<67108864),Pe<0)return this.iaddn(-Pe);if(this.negative!==0)return this.negative=0,this.iaddn(Pe),this.negative=1,this;if(this.words[0]-=Pe,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var Fe=0;Fe<this.length&&this.words[Fe]<0;Fe++)this.words[Fe]+=67108864,this.words[Fe+1]-=1;return this.strip()},ke.prototype.addn=function(Pe){return this.clone().iaddn(Pe)},ke.prototype.subn=function(Pe){return this.clone().isubn(Pe)},ke.prototype.iabs=function(){return this.negative=0,this},ke.prototype.abs=function(){return this.clone().iabs()},ke.prototype._ishlnsubmul=function(Pe,Fe,ze){var Ue=Pe.length+ze,Ge;this._expand(Ue);var Ze,er=0;for(Ge=0;Ge<Pe.length;Ge++){Ze=(this.words[Ge+ze]|0)+er;var Ve=(Pe.words[Ge]|0)*Fe;Ze-=Ve&67108863,er=(Ze>>26)-(Ve/67108864|0),this.words[Ge+ze]=Ze&67108863}for(;Ge<this.length-ze;Ge++)Ze=(this.words[Ge+ze]|0)+er,er=Ze>>26,this.words[Ge+ze]=Ze&67108863;if(er===0)return this.strip();for(Me(er===-1),er=0,Ge=0;Ge<this.length;Ge++)Ze=-(this.words[Ge]|0)+er,er=Ze>>26,this.words[Ge]=Ze&67108863;return this.negative=1,this.strip()},ke.prototype._wordDiv=function(Pe,Fe){var ze=this.length-Pe.length,Ue=this.clone(),Ge=Pe,Ze=Ge.words[Ge.length-1]|0,er=this._countBits(Ze);ze=26-er,ze!==0&&(Ge=Ge.ushln(ze),Ue.iushln(ze),Ze=Ge.words[Ge.length-1]|0);var Ve=Ue.length-Ge.length,Ie;if(Fe!=="mod"){Ie=new ke(null),Ie.length=Ve+1,Ie.words=new Array(Ie.length);for(var Ye=0;Ye<Ie.length;Ye++)Ie.words[Ye]=0}var ir=Ue.clone()._ishlnsubmul(Ge,1,Ve);ir.negative===0&&(Ue=ir,Ie&&(Ie.words[Ve]=1));for(var lr=Ve-1;lr>=0;lr--){var br=(Ue.words[Ge.length+lr]|0)*67108864+(Ue.words[Ge.length+lr-1]|0);for(br=Math.min(br/Ze|0,67108863),Ue._ishlnsubmul(Ge,br,lr);Ue.negative!==0;)br--,Ue.negative=0,Ue._ishlnsubmul(Ge,1,lr),Ue.isZero()||(Ue.negative^=1);Ie&&(Ie.words[lr]=br)}return Ie&&Ie.strip(),Ue.strip(),Fe!=="div"&&ze!==0&&Ue.iushrn(ze),{div:Ie||null,mod:Ue}},ke.prototype.divmod=function(Pe,Fe,ze){if(Me(!Pe.isZero()),this.isZero())return{div:new ke(0),mod:new ke(0)};var Ue,Ge,Ze;return this.negative!==0&&Pe.negative===0?(Ze=this.neg().divmod(Pe,Fe),Fe!=="mod"&&(Ue=Ze.div.neg()),Fe!=="div"&&(Ge=Ze.mod.neg(),ze&&Ge.negative!==0&&Ge.iadd(Pe)),{div:Ue,mod:Ge}):this.negative===0&&Pe.negative!==0?(Ze=this.divmod(Pe.neg(),Fe),Fe!=="mod"&&(Ue=Ze.div.neg()),{div:Ue,mod:Ze.mod}):this.negative&Pe.negative?(Ze=this.neg().divmod(Pe.neg(),Fe),Fe!=="div"&&(Ge=Ze.mod.neg(),ze&&Ge.negative!==0&&Ge.isub(Pe)),{div:Ze.div,mod:Ge}):Pe.length>this.length||this.cmp(Pe)<0?{div:new ke(0),mod:this}:Pe.length===1?Fe==="div"?{div:this.divn(Pe.words[0]),mod:null}:Fe==="mod"?{div:null,mod:new ke(this.modn(Pe.words[0]))}:{div:this.divn(Pe.words[0]),mod:new ke(this.modn(Pe.words[0]))}:this._wordDiv(Pe,Fe)},ke.prototype.div=function(Pe){return this.divmod(Pe,"div",!1).div},ke.prototype.mod=function(Pe){return this.divmod(Pe,"mod",!1).mod},ke.prototype.umod=function(Pe){return this.divmod(Pe,"mod",!0).mod},ke.prototype.divRound=function(Pe){var Fe=this.divmod(Pe);if(Fe.mod.isZero())return Fe.div;var ze=Fe.div.negative!==0?Fe.mod.isub(Pe):Fe.mod,Ue=Pe.ushrn(1),Ge=Pe.andln(1),Ze=ze.cmp(Ue);return Ze<0||Ge===1&&Ze===0?Fe.div:Fe.div.negative!==0?Fe.div.isubn(1):Fe.div.iaddn(1)},ke.prototype.modn=function(Pe){Me(Pe<=67108863);for(var Fe=(1<<26)%Pe,ze=0,Ue=this.length-1;Ue>=0;Ue--)ze=(Fe*ze+(this.words[Ue]|0))%Pe;return ze},ke.prototype.idivn=function(Pe){Me(Pe<=67108863);for(var Fe=0,ze=this.length-1;ze>=0;ze--){var Ue=(this.words[ze]|0)+Fe*67108864;this.words[ze]=Ue/Pe|0,Fe=Ue%Pe}return this.strip()},ke.prototype.divn=function(Pe){return this.clone().idivn(Pe)},ke.prototype.egcd=function(Pe){Me(Pe.negative===0),Me(!Pe.isZero());var Fe=this,ze=Pe.clone();Fe.negative!==0?Fe=Fe.umod(Pe):Fe=Fe.clone();for(var Ue=new ke(1),Ge=new ke(0),Ze=new ke(0),er=new ke(1),Ve=0;Fe.isEven()&&ze.isEven();)Fe.iushrn(1),ze.iushrn(1),++Ve;for(var Ie=ze.clone(),Ye=Fe.clone();!Fe.isZero();){for(var ir=0,lr=1;!(Fe.words[0]&lr)&&ir<26;++ir,lr<<=1);if(ir>0)for(Fe.iushrn(ir);ir-- >0;)(Ue.isOdd()||Ge.isOdd())&&(Ue.iadd(Ie),Ge.isub(Ye)),Ue.iushrn(1),Ge.iushrn(1);for(var br=0,_r=1;!(ze.words[0]&_r)&&br<26;++br,_r<<=1);if(br>0)for(ze.iushrn(br);br-- >0;)(Ze.isOdd()||er.isOdd())&&(Ze.iadd(Ie),er.isub(Ye)),Ze.iushrn(1),er.iushrn(1);Fe.cmp(ze)>=0?(Fe.isub(ze),Ue.isub(Ze),Ge.isub(er)):(ze.isub(Fe),Ze.isub(Ue),er.isub(Ge))}return{a:Ze,b:er,gcd:ze.iushln(Ve)}},ke.prototype._invmp=function(Pe){Me(Pe.negative===0),Me(!Pe.isZero());var Fe=this,ze=Pe.clone();Fe.negative!==0?Fe=Fe.umod(Pe):Fe=Fe.clone();for(var Ue=new ke(1),Ge=new ke(0),Ze=ze.clone();Fe.cmpn(1)>0&&ze.cmpn(1)>0;){for(var er=0,Ve=1;!(Fe.words[0]&Ve)&&er<26;++er,Ve<<=1);if(er>0)for(Fe.iushrn(er);er-- >0;)Ue.isOdd()&&Ue.iadd(Ze),Ue.iushrn(1);for(var Ie=0,Ye=1;!(ze.words[0]&Ye)&&Ie<26;++Ie,Ye<<=1);if(Ie>0)for(ze.iushrn(Ie);Ie-- >0;)Ge.isOdd()&&Ge.iadd(Ze),Ge.iushrn(1);Fe.cmp(ze)>=0?(Fe.isub(ze),Ue.isub(Ge)):(ze.isub(Fe),Ge.isub(Ue))}var ir;return Fe.cmpn(1)===0?ir=Ue:ir=Ge,ir.cmpn(0)<0&&ir.iadd(Pe),ir},ke.prototype.gcd=function(Pe){if(this.isZero())return Pe.abs();if(Pe.isZero())return this.abs();var Fe=this.clone(),ze=Pe.clone();Fe.negative=0,ze.negative=0;for(var Ue=0;Fe.isEven()&&ze.isEven();Ue++)Fe.iushrn(1),ze.iushrn(1);do{for(;Fe.isEven();)Fe.iushrn(1);for(;ze.isEven();)ze.iushrn(1);var Ge=Fe.cmp(ze);if(Ge<0){var Ze=Fe;Fe=ze,ze=Ze}else if(Ge===0||ze.cmpn(1)===0)break;Fe.isub(ze)}while(!0);return ze.iushln(Ue)},ke.prototype.invm=function(Pe){return this.egcd(Pe).a.umod(Pe)},ke.prototype.isEven=function(){return(this.words[0]&1)===0},ke.prototype.isOdd=function(){return(this.words[0]&1)===1},ke.prototype.andln=function(Pe){return this.words[0]&Pe},ke.prototype.bincn=function(Pe){Me(typeof Pe=="number");var Fe=Pe%26,ze=(Pe-Fe)/26,Ue=1<<Fe;if(this.length<=ze)return this._expand(ze+1),this.words[ze]|=Ue,this;for(var Ge=Ue,Ze=ze;Ge!==0&&Ze<this.length;Ze++){var er=this.words[Ze]|0;er+=Ge,Ge=er>>>26,er&=67108863,this.words[Ze]=er}return Ge!==0&&(this.words[Ze]=Ge,this.length++),this},ke.prototype.isZero=function(){return this.length===1&&this.words[0]===0},ke.prototype.cmpn=function(Pe){var Fe=Pe<0;if(this.negative!==0&&!Fe)return-1;if(this.negative===0&&Fe)return 1;this.strip();var ze;if(this.length>1)ze=1;else{Fe&&(Pe=-Pe),Me(Pe<=67108863,"Number is too big");var Ue=this.words[0]|0;ze=Ue===Pe?0:Ue<Pe?-1:1}return this.negative!==0?-ze|0:ze},ke.prototype.cmp=function(Pe){if(this.negative!==0&&Pe.negative===0)return-1;if(this.negative===0&&Pe.negative!==0)return 1;var Fe=this.ucmp(Pe);return this.negative!==0?-Fe|0:Fe},ke.prototype.ucmp=function(Pe){if(this.length>Pe.length)return 1;if(this.length<Pe.length)return-1;for(var Fe=0,ze=this.length-1;ze>=0;ze--){var Ue=this.words[ze]|0,Ge=Pe.words[ze]|0;if(Ue!==Ge){Ue<Ge?Fe=-1:Ue>Ge&&(Fe=1);break}}return Fe},ke.prototype.gtn=function(Pe){return this.cmpn(Pe)===1},ke.prototype.gt=function(Pe){return this.cmp(Pe)===1},ke.prototype.gten=function(Pe){return this.cmpn(Pe)>=0},ke.prototype.gte=function(Pe){return this.cmp(Pe)>=0},ke.prototype.ltn=function(Pe){return this.cmpn(Pe)===-1},ke.prototype.lt=function(Pe){return this.cmp(Pe)===-1},ke.prototype.lten=function(Pe){return this.cmpn(Pe)<=0},ke.prototype.lte=function(Pe){return this.cmp(Pe)<=0},ke.prototype.eqn=function(Pe){return this.cmpn(Pe)===0},ke.prototype.eq=function(Pe){return this.cmp(Pe)===0},ke.red=function(Pe){return new xr(Pe)},ke.prototype.toRed=function(Pe){return Me(!this.red,"Already a number in reduction context"),Me(this.negative===0,"red works only with positives"),Pe.convertTo(this)._forceRed(Pe)},ke.prototype.fromRed=function(){return Me(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},ke.prototype._forceRed=function(Pe){return this.red=Pe,this},ke.prototype.forceRed=function(Pe){return Me(!this.red,"Already a number in reduction context"),this._forceRed(Pe)},ke.prototype.redAdd=function(Pe){return Me(this.red,"redAdd works only with red numbers"),this.red.add(this,Pe)},ke.prototype.redIAdd=function(Pe){return Me(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,Pe)},ke.prototype.redSub=function(Pe){return Me(this.red,"redSub works only with red numbers"),this.red.sub(this,Pe)},ke.prototype.redISub=function(Pe){return Me(this.red,"redISub works only with red numbers"),this.red.isub(this,Pe)},ke.prototype.redShl=function(Pe){return Me(this.red,"redShl works only with red numbers"),this.red.shl(this,Pe)},ke.prototype.redMul=function(Pe){return Me(this.red,"redMul works only with red numbers"),this.red._verify2(this,Pe),this.red.mul(this,Pe)},ke.prototype.redIMul=function(Pe){return Me(this.red,"redMul works only with red numbers"),this.red._verify2(this,Pe),this.red.imul(this,Pe)},ke.prototype.redSqr=function(){return Me(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},ke.prototype.redISqr=function(){return Me(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},ke.prototype.redSqrt=function(){return Me(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},ke.prototype.redInvm=function(){return Me(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},ke.prototype.redNeg=function(){return Me(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},ke.prototype.redPow=function(Pe){return Me(this.red&&!Pe.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,Pe)};var pr={k256:null,p224:null,p192:null,p25519:null};function ur(Xe,Pe){this.name=Xe,this.p=new ke(Pe,16),this.n=this.p.bitLength(),this.k=new ke(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}ur.prototype._tmp=function(){var Pe=new ke(null);return Pe.words=new Array(Math.ceil(this.n/13)),Pe},ur.prototype.ireduce=function(Pe){var Fe=Pe,ze;do this.split(Fe,this.tmp),Fe=this.imulK(Fe),Fe=Fe.iadd(this.tmp),ze=Fe.bitLength();while(ze>this.n);var Ue=ze<this.n?-1:Fe.ucmp(this.p);return Ue===0?(Fe.words[0]=0,Fe.length=1):Ue>0?Fe.isub(this.p):Fe.strip!==void 0?Fe.strip():Fe._strip(),Fe},ur.prototype.split=function(Pe,Fe){Pe.iushrn(this.n,0,Fe)},ur.prototype.imulK=function(Pe){return Pe.imul(this.k)};function gr(){ur.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}$e(gr,ur),gr.prototype.split=function(Pe,Fe){for(var ze=4194303,Ue=Math.min(Pe.length,9),Ge=0;Ge<Ue;Ge++)Fe.words[Ge]=Pe.words[Ge];if(Fe.length=Ue,Pe.length<=9){Pe.words[0]=0,Pe.length=1;return}var Ze=Pe.words[9];for(Fe.words[Fe.length++]=Ze&ze,Ge=10;Ge<Pe.length;Ge++){var er=Pe.words[Ge]|0;Pe.words[Ge-10]=(er&ze)<<4|Ze>>>22,Ze=er}Ze>>>=22,Pe.words[Ge-10]=Ze,Ze===0&&Pe.length>10?Pe.length-=10:Pe.length-=9},gr.prototype.imulK=function(Pe){Pe.words[Pe.length]=0,Pe.words[Pe.length+1]=0,Pe.length+=2;for(var Fe=0,ze=0;ze<Pe.length;ze++){var Ue=Pe.words[ze]|0;Fe+=Ue*977,Pe.words[ze]=Fe&67108863,Fe=Ue*64+(Fe/67108864|0)}return Pe.words[Pe.length-1]===0&&(Pe.length--,Pe.words[Pe.length-1]===0&&Pe.length--),Pe};function jr(){ur.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}$e(jr,ur);function vr(){ur.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}$e(vr,ur);function dr(){ur.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}$e(dr,ur),dr.prototype.imulK=function(Pe){for(var Fe=0,ze=0;ze<Pe.length;ze++){var Ue=(Pe.words[ze]|0)*19+Fe,Ge=Ue&67108863;Ue>>>=26,Pe.words[ze]=Ge,Fe=Ue}return Fe!==0&&(Pe.words[Pe.length++]=Fe),Pe},ke._prime=function(Pe){if(pr[Pe])return pr[Pe];var Fe;if(Pe==="k256")Fe=new gr;else if(Pe==="p224")Fe=new jr;else if(Pe==="p192")Fe=new vr;else if(Pe==="p25519")Fe=new dr;else throw new Error("Unknown prime "+Pe);return pr[Pe]=Fe,Fe};function xr(Xe){if(typeof Xe=="string"){var Pe=ke._prime(Xe);this.m=Pe.p,this.prime=Pe}else Me(Xe.gtn(1),"modulus must be greater than 1"),this.m=Xe,this.prime=null}xr.prototype._verify1=function(Pe){Me(Pe.negative===0,"red works only with positives"),Me(Pe.red,"red works only with red numbers")},xr.prototype._verify2=function(Pe,Fe){Me((Pe.negative|Fe.negative)===0,"red works only with positives"),Me(Pe.red&&Pe.red===Fe.red,"red works only with red numbers")},xr.prototype.imod=function(Pe){return this.prime?this.prime.ireduce(Pe)._forceRed(this):Pe.umod(this.m)._forceRed(this)},xr.prototype.neg=function(Pe){return Pe.isZero()?Pe.clone():this.m.sub(Pe)._forceRed(this)},xr.prototype.add=function(Pe,Fe){this._verify2(Pe,Fe);var ze=Pe.add(Fe);return ze.cmp(this.m)>=0&&ze.isub(this.m),ze._forceRed(this)},xr.prototype.iadd=function(Pe,Fe){this._verify2(Pe,Fe);var ze=Pe.iadd(Fe);return ze.cmp(this.m)>=0&&ze.isub(this.m),ze},xr.prototype.sub=function(Pe,Fe){this._verify2(Pe,Fe);var ze=Pe.sub(Fe);return ze.cmpn(0)<0&&ze.iadd(this.m),ze._forceRed(this)},xr.prototype.isub=function(Pe,Fe){this._verify2(Pe,Fe);var ze=Pe.isub(Fe);return ze.cmpn(0)<0&&ze.iadd(this.m),ze},xr.prototype.shl=function(Pe,Fe){return this._verify1(Pe),this.imod(Pe.ushln(Fe))},xr.prototype.imul=function(Pe,Fe){return this._verify2(Pe,Fe),this.imod(Pe.imul(Fe))},xr.prototype.mul=function(Pe,Fe){return this._verify2(Pe,Fe),this.imod(Pe.mul(Fe))},xr.prototype.isqr=function(Pe){return this.imul(Pe,Pe.clone())},xr.prototype.sqr=function(Pe){return this.mul(Pe,Pe)},xr.prototype.sqrt=function(Pe){if(Pe.isZero())return Pe.clone();var Fe=this.m.andln(3);if(Me(Fe%2===1),Fe===3){var ze=this.m.add(new ke(1)).iushrn(2);return this.pow(Pe,ze)}for(var Ue=this.m.subn(1),Ge=0;!Ue.isZero()&&Ue.andln(1)===0;)Ge++,Ue.iushrn(1);Me(!Ue.isZero());var Ze=new ke(1).toRed(this),er=Ze.redNeg(),Ve=this.m.subn(1).iushrn(1),Ie=this.m.bitLength();for(Ie=new ke(2*Ie*Ie).toRed(this);this.pow(Ie,Ve).cmp(er)!==0;)Ie.redIAdd(er);for(var Ye=this.pow(Ie,Ue),ir=this.pow(Pe,Ue.addn(1).iushrn(1)),lr=this.pow(Pe,Ue),br=Ge;lr.cmp(Ze)!==0;){for(var _r=lr,Sr=0;_r.cmp(Ze)!==0;Sr++)_r=_r.redSqr();Me(Sr<br);var wr=this.pow(Ye,new ke(1).iushln(br-Sr-1));ir=ir.redMul(wr),Ye=wr.redSqr(),lr=lr.redMul(Ye),br=Sr}return ir},xr.prototype.invm=function(Pe){var Fe=Pe._invmp(this.m);return Fe.negative!==0?(Fe.negative=0,this.imod(Fe).redNeg()):this.imod(Fe)},xr.prototype.pow=function(Pe,Fe){if(Fe.isZero())return new ke(1).toRed(this);if(Fe.cmpn(1)===0)return Pe.clone();var ze=4,Ue=new Array(1<<ze);Ue[0]=new ke(1).toRed(this),Ue[1]=Pe;for(var Ge=2;Ge<Ue.length;Ge++)Ue[Ge]=this.mul(Ue[Ge-1],Pe);var Ze=Ue[0],er=0,Ve=0,Ie=Fe.bitLength()%26;for(Ie===0&&(Ie=26),Ge=Fe.length-1;Ge>=0;Ge--){for(var Ye=Fe.words[Ge],ir=Ie-1;ir>=0;ir--){var lr=Ye>>ir&1;if(Ze!==Ue[0]&&(Ze=this.sqr(Ze)),lr===0&&er===0){Ve=0;continue}er<<=1,er|=lr,Ve++,!(Ve!==ze&&(Ge!==0||ir!==0))&&(Ze=this.mul(Ze,Ue[er]),Ve=0,er=0)}Ie=26}return Ze},xr.prototype.convertTo=function(Pe){var Fe=Pe.umod(this.m);return Fe===Pe?Fe.clone():Fe},xr.prototype.convertFrom=function(Pe){var Fe=Pe.clone();return Fe.red=null,Fe},ke.mont=function(Pe){return new Rr(Pe)};function Rr(Xe){xr.call(this,Xe),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new ke(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}$e(Rr,xr),Rr.prototype.convertTo=function(Pe){return this.imod(Pe.ushln(this.shift))},Rr.prototype.convertFrom=function(Pe){var Fe=this.imod(Pe.mul(this.rinv));return Fe.red=null,Fe},Rr.prototype.imul=function(Pe,Fe){if(Pe.isZero()||Fe.isZero())return Pe.words[0]=0,Pe.length=1,Pe;var ze=Pe.imul(Fe),Ue=ze.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Ge=ze.isub(Ue).iushrn(this.shift),Ze=Ge;return Ge.cmp(this.m)>=0?Ze=Ge.isub(this.m):Ge.cmpn(0)<0&&(Ze=Ge.iadd(this.m)),Ze._forceRed(this)},Rr.prototype.mul=function(Pe,Fe){if(Pe.isZero()||Fe.isZero())return new ke(0)._forceRed(this);var ze=Pe.mul(Fe),Ue=ze.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Ge=ze.isub(Ue).iushrn(this.shift),Ze=Ge;return Ge.cmp(this.m)>=0?Ze=Ge.isub(this.m):Ge.cmpn(0)<0&&(Ze=Ge.iadd(this.m)),Ze._forceRed(this)},Rr.prototype.invm=function(Pe){var Fe=this.imod(Pe._invmp(this.m).mul(this.r2));return Fe._forceRed(this)}})(Re,commonjsGlobal)})(bn$6);var bnExports$6=bn$6.exports,bn$5={exports:{}};bn$5.exports;(function(Re){(function(je,_e){function Me(Xe,Pe){if(!Xe)throw new Error(Pe||"Assertion failed")}function $e(Xe,Pe){Xe.super_=Pe;var Fe=function(){};Fe.prototype=Pe.prototype,Xe.prototype=new Fe,Xe.prototype.constructor=Xe}function ke(Xe,Pe,Fe){if(ke.isBN(Xe))return Xe;this.negative=0,this.words=null,this.length=0,this.red=null,Xe!==null&&((Pe==="le"||Pe==="be")&&(Fe=Pe,Pe=10),this._init(Xe||0,Pe||10,Fe||"be"))}typeof je=="object"?je.exports=ke:_e.BN=ke,ke.BN=ke,ke.wordSize=26;var Ce;try{typeof window<"u"&&typeof window.Buffer<"u"?Ce=window.Buffer:Ce=require$$0$3.Buffer}catch{}ke.isBN=function(Pe){return Pe instanceof ke?!0:Pe!==null&&typeof Pe=="object"&&Pe.constructor.wordSize===ke.wordSize&&Array.isArray(Pe.words)},ke.max=function(Pe,Fe){return Pe.cmp(Fe)>0?Pe:Fe},ke.min=function(Pe,Fe){return Pe.cmp(Fe)<0?Pe:Fe},ke.prototype._init=function(Pe,Fe,ze){if(typeof Pe=="number")return this._initNumber(Pe,Fe,ze);if(typeof Pe=="object")return this._initArray(Pe,Fe,ze);Fe==="hex"&&(Fe=16),Me(Fe===(Fe|0)&&Fe>=2&&Fe<=36),Pe=Pe.toString().replace(/\s+/g,"");var Ue=0;Pe[0]==="-"&&(Ue++,this.negative=1),Ue<Pe.length&&(Fe===16?this._parseHex(Pe,Ue,ze):(this._parseBase(Pe,Fe,Ue),ze==="le"&&this._initArray(this.toArray(),Fe,ze)))},ke.prototype._initNumber=function(Pe,Fe,ze){Pe<0&&(this.negative=1,Pe=-Pe),Pe<67108864?(this.words=[Pe&67108863],this.length=1):Pe<4503599627370496?(this.words=[Pe&67108863,Pe/67108864&67108863],this.length=2):(Me(Pe<9007199254740992),this.words=[Pe&67108863,Pe/67108864&67108863,1],this.length=3),ze==="le"&&this._initArray(this.toArray(),Fe,ze)},ke.prototype._initArray=function(Pe,Fe,ze){if(Me(typeof Pe.length=="number"),Pe.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(Pe.length/3),this.words=new Array(this.length);for(var Ue=0;Ue<this.length;Ue++)this.words[Ue]=0;var Ge,Ze,er=0;if(ze==="be")for(Ue=Pe.length-1,Ge=0;Ue>=0;Ue-=3)Ze=Pe[Ue]|Pe[Ue-1]<<8|Pe[Ue-2]<<16,this.words[Ge]|=Ze<<er&67108863,this.words[Ge+1]=Ze>>>26-er&67108863,er+=24,er>=26&&(er-=26,Ge++);else if(ze==="le")for(Ue=0,Ge=0;Ue<Pe.length;Ue+=3)Ze=Pe[Ue]|Pe[Ue+1]<<8|Pe[Ue+2]<<16,this.words[Ge]|=Ze<<er&67108863,this.words[Ge+1]=Ze>>>26-er&67108863,er+=24,er>=26&&(er-=26,Ge++);return this.strip()};function Be(Xe,Pe){var Fe=Xe.charCodeAt(Pe);return Fe>=65&&Fe<=70?Fe-55:Fe>=97&&Fe<=102?Fe-87:Fe-48&15}function qe(Xe,Pe,Fe){var ze=Be(Xe,Fe);return Fe-1>=Pe&&(ze|=Be(Xe,Fe-1)<<4),ze}ke.prototype._parseHex=function(Pe,Fe,ze){this.length=Math.ceil((Pe.length-Fe)/6),this.words=new Array(this.length);for(var Ue=0;Ue<this.length;Ue++)this.words[Ue]=0;var Ge=0,Ze=0,er;if(ze==="be")for(Ue=Pe.length-1;Ue>=Fe;Ue-=2)er=qe(Pe,Fe,Ue)<<Ge,this.words[Ze]|=er&67108863,Ge>=18?(Ge-=18,Ze+=1,this.words[Ze]|=er>>>26):Ge+=8;else{var Ve=Pe.length-Fe;for(Ue=Ve%2===0?Fe+1:Fe;Ue<Pe.length;Ue+=2)er=qe(Pe,Fe,Ue)<<Ge,this.words[Ze]|=er&67108863,Ge>=18?(Ge-=18,Ze+=1,this.words[Ze]|=er>>>26):Ge+=8}this.strip()};function He(Xe,Pe,Fe,ze){for(var Ue=0,Ge=Math.min(Xe.length,Fe),Ze=Pe;Ze<Ge;Ze++){var er=Xe.charCodeAt(Ze)-48;Ue*=ze,er>=49?Ue+=er-49+10:er>=17?Ue+=er-17+10:Ue+=er}return Ue}ke.prototype._parseBase=function(Pe,Fe,ze){this.words=[0],this.length=1;for(var Ue=0,Ge=1;Ge<=67108863;Ge*=Fe)Ue++;Ue--,Ge=Ge/Fe|0;for(var Ze=Pe.length-ze,er=Ze%Ue,Ve=Math.min(Ze,Ze-er)+ze,Ie=0,Ye=ze;Ye<Ve;Ye+=Ue)Ie=He(Pe,Ye,Ye+Ue,Fe),this.imuln(Ge),this.words[0]+Ie<67108864?this.words[0]+=Ie:this._iaddn(Ie);if(er!==0){var ir=1;for(Ie=He(Pe,Ye,Pe.length,Fe),Ye=0;Ye<er;Ye++)ir*=Fe;this.imuln(ir),this.words[0]+Ie<67108864?this.words[0]+=Ie:this._iaddn(Ie)}this.strip()},ke.prototype.copy=function(Pe){Pe.words=new Array(this.length);for(var Fe=0;Fe<this.length;Fe++)Pe.words[Fe]=this.words[Fe];Pe.length=this.length,Pe.negative=this.negative,Pe.red=this.red},ke.prototype.clone=function(){var Pe=new ke(null);return this.copy(Pe),Pe},ke.prototype._expand=function(Pe){for(;this.length<Pe;)this.words[this.length++]=0;return this},ke.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},ke.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},ke.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var We=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Ke=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Je=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];ke.prototype.toString=function(Pe,Fe){Pe=Pe||10,Fe=Fe|0||1;var ze;if(Pe===16||Pe==="hex"){ze="";for(var Ue=0,Ge=0,Ze=0;Ze<this.length;Ze++){var er=this.words[Ze],Ve=((er<<Ue|Ge)&16777215).toString(16);Ge=er>>>24-Ue&16777215,Ue+=2,Ue>=26&&(Ue-=26,Ze--),Ge!==0||Ze!==this.length-1?ze=We[6-Ve.length]+Ve+ze:ze=Ve+ze}for(Ge!==0&&(ze=Ge.toString(16)+ze);ze.length%Fe!==0;)ze="0"+ze;return this.negative!==0&&(ze="-"+ze),ze}if(Pe===(Pe|0)&&Pe>=2&&Pe<=36){var Ie=Ke[Pe],Ye=Je[Pe];ze="";var ir=this.clone();for(ir.negative=0;!ir.isZero();){var lr=ir.modn(Ye).toString(Pe);ir=ir.idivn(Ye),ir.isZero()?ze=lr+ze:ze=We[Ie-lr.length]+lr+ze}for(this.isZero()&&(ze="0"+ze);ze.length%Fe!==0;)ze="0"+ze;return this.negative!==0&&(ze="-"+ze),ze}Me(!1,"Base should be between 2 and 36")},ke.prototype.toNumber=function(){var Pe=this.words[0];return this.length===2?Pe+=this.words[1]*67108864:this.length===3&&this.words[2]===1?Pe+=4503599627370496+this.words[1]*67108864:this.length>2&&Me(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-Pe:Pe},ke.prototype.toJSON=function(){return this.toString(16)},ke.prototype.toBuffer=function(Pe,Fe){return Me(typeof Ce<"u"),this.toArrayLike(Ce,Pe,Fe)},ke.prototype.toArray=function(Pe,Fe){return this.toArrayLike(Array,Pe,Fe)},ke.prototype.toArrayLike=function(Pe,Fe,ze){var Ue=this.byteLength(),Ge=ze||Math.max(1,Ue);Me(Ue<=Ge,"byte array longer than desired length"),Me(Ge>0,"Requested array length <= 0"),this.strip();var Ze=Fe==="le",er=new Pe(Ge),Ve,Ie,Ye=this.clone();if(Ze){for(Ie=0;!Ye.isZero();Ie++)Ve=Ye.andln(255),Ye.iushrn(8),er[Ie]=Ve;for(;Ie<Ge;Ie++)er[Ie]=0}else{for(Ie=0;Ie<Ge-Ue;Ie++)er[Ie]=0;for(Ie=0;!Ye.isZero();Ie++)Ve=Ye.andln(255),Ye.iushrn(8),er[Ge-Ie-1]=Ve}return er},Math.clz32?ke.prototype._countBits=function(Pe){return 32-Math.clz32(Pe)}:ke.prototype._countBits=function(Pe){var Fe=Pe,ze=0;return Fe>=4096&&(ze+=13,Fe>>>=13),Fe>=64&&(ze+=7,Fe>>>=7),Fe>=8&&(ze+=4,Fe>>>=4),Fe>=2&&(ze+=2,Fe>>>=2),ze+Fe},ke.prototype._zeroBits=function(Pe){if(Pe===0)return 26;var Fe=Pe,ze=0;return Fe&8191||(ze+=13,Fe>>>=13),Fe&127||(ze+=7,Fe>>>=7),Fe&15||(ze+=4,Fe>>>=4),Fe&3||(ze+=2,Fe>>>=2),Fe&1||ze++,ze},ke.prototype.bitLength=function(){var Pe=this.words[this.length-1],Fe=this._countBits(Pe);return(this.length-1)*26+Fe};function Qe(Xe){for(var Pe=new Array(Xe.bitLength()),Fe=0;Fe<Pe.length;Fe++){var ze=Fe/26|0,Ue=Fe%26;Pe[Fe]=(Xe.words[ze]&1<<Ue)>>>Ue}return Pe}ke.prototype.zeroBits=function(){if(this.isZero())return 0;for(var Pe=0,Fe=0;Fe<this.length;Fe++){var ze=this._zeroBits(this.words[Fe]);if(Pe+=ze,ze!==26)break}return Pe},ke.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},ke.prototype.toTwos=function(Pe){return this.negative!==0?this.abs().inotn(Pe).iaddn(1):this.clone()},ke.prototype.fromTwos=function(Pe){return this.testn(Pe-1)?this.notn(Pe).iaddn(1).ineg():this.clone()},ke.prototype.isNeg=function(){return this.negative!==0},ke.prototype.neg=function(){return this.clone().ineg()},ke.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},ke.prototype.iuor=function(Pe){for(;this.length<Pe.length;)this.words[this.length++]=0;for(var Fe=0;Fe<Pe.length;Fe++)this.words[Fe]=this.words[Fe]|Pe.words[Fe];return this.strip()},ke.prototype.ior=function(Pe){return Me((this.negative|Pe.negative)===0),this.iuor(Pe)},ke.prototype.or=function(Pe){return this.length>Pe.length?this.clone().ior(Pe):Pe.clone().ior(this)},ke.prototype.uor=function(Pe){return this.length>Pe.length?this.clone().iuor(Pe):Pe.clone().iuor(this)},ke.prototype.iuand=function(Pe){var Fe;this.length>Pe.length?Fe=Pe:Fe=this;for(var ze=0;ze<Fe.length;ze++)this.words[ze]=this.words[ze]&Pe.words[ze];return this.length=Fe.length,this.strip()},ke.prototype.iand=function(Pe){return Me((this.negative|Pe.negative)===0),this.iuand(Pe)},ke.prototype.and=function(Pe){return this.length>Pe.length?this.clone().iand(Pe):Pe.clone().iand(this)},ke.prototype.uand=function(Pe){return this.length>Pe.length?this.clone().iuand(Pe):Pe.clone().iuand(this)},ke.prototype.iuxor=function(Pe){var Fe,ze;this.length>Pe.length?(Fe=this,ze=Pe):(Fe=Pe,ze=this);for(var Ue=0;Ue<ze.length;Ue++)this.words[Ue]=Fe.words[Ue]^ze.words[Ue];if(this!==Fe)for(;Ue<Fe.length;Ue++)this.words[Ue]=Fe.words[Ue];return this.length=Fe.length,this.strip()},ke.prototype.ixor=function(Pe){return Me((this.negative|Pe.negative)===0),this.iuxor(Pe)},ke.prototype.xor=function(Pe){return this.length>Pe.length?this.clone().ixor(Pe):Pe.clone().ixor(this)},ke.prototype.uxor=function(Pe){return this.length>Pe.length?this.clone().iuxor(Pe):Pe.clone().iuxor(this)},ke.prototype.inotn=function(Pe){Me(typeof Pe=="number"&&Pe>=0);var Fe=Math.ceil(Pe/26)|0,ze=Pe%26;this._expand(Fe),ze>0&&Fe--;for(var Ue=0;Ue<Fe;Ue++)this.words[Ue]=~this.words[Ue]&67108863;return ze>0&&(this.words[Ue]=~this.words[Ue]&67108863>>26-ze),this.strip()},ke.prototype.notn=function(Pe){return this.clone().inotn(Pe)},ke.prototype.setn=function(Pe,Fe){Me(typeof Pe=="number"&&Pe>=0);var ze=Pe/26|0,Ue=Pe%26;return this._expand(ze+1),Fe?this.words[ze]=this.words[ze]|1<<Ue:this.words[ze]=this.words[ze]&~(1<<Ue),this.strip()},ke.prototype.iadd=function(Pe){var Fe;if(this.negative!==0&&Pe.negative===0)return this.negative=0,Fe=this.isub(Pe),this.negative^=1,this._normSign();if(this.negative===0&&Pe.negative!==0)return Pe.negative=0,Fe=this.isub(Pe),Pe.negative=1,Fe._normSign();var ze,Ue;this.length>Pe.length?(ze=this,Ue=Pe):(ze=Pe,Ue=this);for(var Ge=0,Ze=0;Ze<Ue.length;Ze++)Fe=(ze.words[Ze]|0)+(Ue.words[Ze]|0)+Ge,this.words[Ze]=Fe&67108863,Ge=Fe>>>26;for(;Ge!==0&&Ze<ze.length;Ze++)Fe=(ze.words[Ze]|0)+Ge,this.words[Ze]=Fe&67108863,Ge=Fe>>>26;if(this.length=ze.length,Ge!==0)this.words[this.length]=Ge,this.length++;else if(ze!==this)for(;Ze<ze.length;Ze++)this.words[Ze]=ze.words[Ze];return this},ke.prototype.add=function(Pe){var Fe;return Pe.negative!==0&&this.negative===0?(Pe.negative=0,Fe=this.sub(Pe),Pe.negative^=1,Fe):Pe.negative===0&&this.negative!==0?(this.negative=0,Fe=Pe.sub(this),this.negative=1,Fe):this.length>Pe.length?this.clone().iadd(Pe):Pe.clone().iadd(this)},ke.prototype.isub=function(Pe){if(Pe.negative!==0){Pe.negative=0;var Fe=this.iadd(Pe);return Pe.negative=1,Fe._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(Pe),this.negative=1,this._normSign();var ze=this.cmp(Pe);if(ze===0)return this.negative=0,this.length=1,this.words[0]=0,this;var Ue,Ge;ze>0?(Ue=this,Ge=Pe):(Ue=Pe,Ge=this);for(var Ze=0,er=0;er<Ge.length;er++)Fe=(Ue.words[er]|0)-(Ge.words[er]|0)+Ze,Ze=Fe>>26,this.words[er]=Fe&67108863;for(;Ze!==0&&er<Ue.length;er++)Fe=(Ue.words[er]|0)+Ze,Ze=Fe>>26,this.words[er]=Fe&67108863;if(Ze===0&&er<Ue.length&&Ue!==this)for(;er<Ue.length;er++)this.words[er]=Ue.words[er];return this.length=Math.max(this.length,er),Ue!==this&&(this.negative=1),this.strip()},ke.prototype.sub=function(Pe){return this.clone().isub(Pe)};function rr(Xe,Pe,Fe){Fe.negative=Pe.negative^Xe.negative;var ze=Xe.length+Pe.length|0;Fe.length=ze,ze=ze-1|0;var Ue=Xe.words[0]|0,Ge=Pe.words[0]|0,Ze=Ue*Ge,er=Ze&67108863,Ve=Ze/67108864|0;Fe.words[0]=er;for(var Ie=1;Ie<ze;Ie++){for(var Ye=Ve>>>26,ir=Ve&67108863,lr=Math.min(Ie,Pe.length-1),br=Math.max(0,Ie-Xe.length+1);br<=lr;br++){var _r=Ie-br|0;Ue=Xe.words[_r]|0,Ge=Pe.words[br]|0,Ze=Ue*Ge+ir,Ye+=Ze/67108864|0,ir=Ze&67108863}Fe.words[Ie]=ir|0,Ve=Ye|0}return Ve!==0?Fe.words[Ie]=Ve|0:Fe.length--,Fe.strip()}var tr=function(Pe,Fe,ze){var Ue=Pe.words,Ge=Fe.words,Ze=ze.words,er=0,Ve,Ie,Ye,ir=Ue[0]|0,lr=ir&8191,br=ir>>>13,_r=Ue[1]|0,Sr=_r&8191,wr=_r>>>13,Nr=Ue[2]|0,kr=Nr&8191,Lr=Nr>>>13,Xr=Ue[3]|0,Ur=Xr&8191,Gr=Xr>>>13,Ts=Ue[4]|0,Br=Ts&8191,Cr=Ts>>>13,qs=Ue[5]|0,$r=qs&8191,Tr=qs>>>13,Kr=Ue[6]|0,qr=Kr&8191,Hr=Kr>>>13,ss=Ue[7]|0,Vr=ss&8191,Zr=ss>>>13,Is=Ue[8]|0,Jr=Is&8191,cs=Is>>>13,zs=Ue[9]|0,ns=zs&8191,Qr=zs>>>13,Zs=Ge[0]|0,os=Zs&8191,_s=Zs>>>13,Ys=Ge[1]|0,ds=Ys&8191,Ns=Ys>>>13,Xs=Ge[2]|0,ys=Xs&8191,ws=Xs>>>13,ni=Ge[3]|0,bs=ni&8191,Es=ni>>>13,Hs=Ge[4]|0,us=Hs&8191,As=Hs>>>13,Qs=Ge[5]|0,vs=Qs&8191,Ms=Qs>>>13,Us=Ge[6]|0,xs=Us&8191,ks=Us>>>13,ri=Ge[7]|0,fs=ri&8191,Rs=ri>>>13,si=Ge[8]|0,js=si&8191,$s=si>>>13,ai=Ge[9]|0,gs=ai&8191,Ss=ai>>>13;ze.negative=Pe.negative^Fe.negative,ze.length=19,Ve=Math.imul(lr,os),Ie=Math.imul(lr,_s),Ie=Ie+Math.imul(br,os)|0,Ye=Math.imul(br,_s);var ei=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(ei>>>26)|0,ei&=67108863,Ve=Math.imul(Sr,os),Ie=Math.imul(Sr,_s),Ie=Ie+Math.imul(wr,os)|0,Ye=Math.imul(wr,_s),Ve=Ve+Math.imul(lr,ds)|0,Ie=Ie+Math.imul(lr,Ns)|0,Ie=Ie+Math.imul(br,ds)|0,Ye=Ye+Math.imul(br,Ns)|0;var Js=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(Js>>>26)|0,Js&=67108863,Ve=Math.imul(kr,os),Ie=Math.imul(kr,_s),Ie=Ie+Math.imul(Lr,os)|0,Ye=Math.imul(Lr,_s),Ve=Ve+Math.imul(Sr,ds)|0,Ie=Ie+Math.imul(Sr,Ns)|0,Ie=Ie+Math.imul(wr,ds)|0,Ye=Ye+Math.imul(wr,Ns)|0,Ve=Ve+Math.imul(lr,ys)|0,Ie=Ie+Math.imul(lr,ws)|0,Ie=Ie+Math.imul(br,ys)|0,Ye=Ye+Math.imul(br,ws)|0;var di=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(di>>>26)|0,di&=67108863,Ve=Math.imul(Ur,os),Ie=Math.imul(Ur,_s),Ie=Ie+Math.imul(Gr,os)|0,Ye=Math.imul(Gr,_s),Ve=Ve+Math.imul(kr,ds)|0,Ie=Ie+Math.imul(kr,Ns)|0,Ie=Ie+Math.imul(Lr,ds)|0,Ye=Ye+Math.imul(Lr,Ns)|0,Ve=Ve+Math.imul(Sr,ys)|0,Ie=Ie+Math.imul(Sr,ws)|0,Ie=Ie+Math.imul(wr,ys)|0,Ye=Ye+Math.imul(wr,ws)|0,Ve=Ve+Math.imul(lr,bs)|0,Ie=Ie+Math.imul(lr,Es)|0,Ie=Ie+Math.imul(br,bs)|0,Ye=Ye+Math.imul(br,Es)|0;var fi=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(fi>>>26)|0,fi&=67108863,Ve=Math.imul(Br,os),Ie=Math.imul(Br,_s),Ie=Ie+Math.imul(Cr,os)|0,Ye=Math.imul(Cr,_s),Ve=Ve+Math.imul(Ur,ds)|0,Ie=Ie+Math.imul(Ur,Ns)|0,Ie=Ie+Math.imul(Gr,ds)|0,Ye=Ye+Math.imul(Gr,Ns)|0,Ve=Ve+Math.imul(kr,ys)|0,Ie=Ie+Math.imul(kr,ws)|0,Ie=Ie+Math.imul(Lr,ys)|0,Ye=Ye+Math.imul(Lr,ws)|0,Ve=Ve+Math.imul(Sr,bs)|0,Ie=Ie+Math.imul(Sr,Es)|0,Ie=Ie+Math.imul(wr,bs)|0,Ye=Ye+Math.imul(wr,Es)|0,Ve=Ve+Math.imul(lr,us)|0,Ie=Ie+Math.imul(lr,As)|0,Ie=Ie+Math.imul(br,us)|0,Ye=Ye+Math.imul(br,As)|0;var mi=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(mi>>>26)|0,mi&=67108863,Ve=Math.imul($r,os),Ie=Math.imul($r,_s),Ie=Ie+Math.imul(Tr,os)|0,Ye=Math.imul(Tr,_s),Ve=Ve+Math.imul(Br,ds)|0,Ie=Ie+Math.imul(Br,Ns)|0,Ie=Ie+Math.imul(Cr,ds)|0,Ye=Ye+Math.imul(Cr,Ns)|0,Ve=Ve+Math.imul(Ur,ys)|0,Ie=Ie+Math.imul(Ur,ws)|0,Ie=Ie+Math.imul(Gr,ys)|0,Ye=Ye+Math.imul(Gr,ws)|0,Ve=Ve+Math.imul(kr,bs)|0,Ie=Ie+Math.imul(kr,Es)|0,Ie=Ie+Math.imul(Lr,bs)|0,Ye=Ye+Math.imul(Lr,Es)|0,Ve=Ve+Math.imul(Sr,us)|0,Ie=Ie+Math.imul(Sr,As)|0,Ie=Ie+Math.imul(wr,us)|0,Ye=Ye+Math.imul(wr,As)|0,Ve=Ve+Math.imul(lr,vs)|0,Ie=Ie+Math.imul(lr,Ms)|0,Ie=Ie+Math.imul(br,vs)|0,Ye=Ye+Math.imul(br,Ms)|0;var pi=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(pi>>>26)|0,pi&=67108863,Ve=Math.imul(qr,os),Ie=Math.imul(qr,_s),Ie=Ie+Math.imul(Hr,os)|0,Ye=Math.imul(Hr,_s),Ve=Ve+Math.imul($r,ds)|0,Ie=Ie+Math.imul($r,Ns)|0,Ie=Ie+Math.imul(Tr,ds)|0,Ye=Ye+Math.imul(Tr,Ns)|0,Ve=Ve+Math.imul(Br,ys)|0,Ie=Ie+Math.imul(Br,ws)|0,Ie=Ie+Math.imul(Cr,ys)|0,Ye=Ye+Math.imul(Cr,ws)|0,Ve=Ve+Math.imul(Ur,bs)|0,Ie=Ie+Math.imul(Ur,Es)|0,Ie=Ie+Math.imul(Gr,bs)|0,Ye=Ye+Math.imul(Gr,Es)|0,Ve=Ve+Math.imul(kr,us)|0,Ie=Ie+Math.imul(kr,As)|0,Ie=Ie+Math.imul(Lr,us)|0,Ye=Ye+Math.imul(Lr,As)|0,Ve=Ve+Math.imul(Sr,vs)|0,Ie=Ie+Math.imul(Sr,Ms)|0,Ie=Ie+Math.imul(wr,vs)|0,Ye=Ye+Math.imul(wr,Ms)|0,Ve=Ve+Math.imul(lr,xs)|0,Ie=Ie+Math.imul(lr,ks)|0,Ie=Ie+Math.imul(br,xs)|0,Ye=Ye+Math.imul(br,ks)|0;var xi=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(xi>>>26)|0,xi&=67108863,Ve=Math.imul(Vr,os),Ie=Math.imul(Vr,_s),Ie=Ie+Math.imul(Zr,os)|0,Ye=Math.imul(Zr,_s),Ve=Ve+Math.imul(qr,ds)|0,Ie=Ie+Math.imul(qr,Ns)|0,Ie=Ie+Math.imul(Hr,ds)|0,Ye=Ye+Math.imul(Hr,Ns)|0,Ve=Ve+Math.imul($r,ys)|0,Ie=Ie+Math.imul($r,ws)|0,Ie=Ie+Math.imul(Tr,ys)|0,Ye=Ye+Math.imul(Tr,ws)|0,Ve=Ve+Math.imul(Br,bs)|0,Ie=Ie+Math.imul(Br,Es)|0,Ie=Ie+Math.imul(Cr,bs)|0,Ye=Ye+Math.imul(Cr,Es)|0,Ve=Ve+Math.imul(Ur,us)|0,Ie=Ie+Math.imul(Ur,As)|0,Ie=Ie+Math.imul(Gr,us)|0,Ye=Ye+Math.imul(Gr,As)|0,Ve=Ve+Math.imul(kr,vs)|0,Ie=Ie+Math.imul(kr,Ms)|0,Ie=Ie+Math.imul(Lr,vs)|0,Ye=Ye+Math.imul(Lr,Ms)|0,Ve=Ve+Math.imul(Sr,xs)|0,Ie=Ie+Math.imul(Sr,ks)|0,Ie=Ie+Math.imul(wr,xs)|0,Ye=Ye+Math.imul(wr,ks)|0,Ve=Ve+Math.imul(lr,fs)|0,Ie=Ie+Math.imul(lr,Rs)|0,Ie=Ie+Math.imul(br,fs)|0,Ye=Ye+Math.imul(br,Rs)|0;var gi=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(gi>>>26)|0,gi&=67108863,Ve=Math.imul(Jr,os),Ie=Math.imul(Jr,_s),Ie=Ie+Math.imul(cs,os)|0,Ye=Math.imul(cs,_s),Ve=Ve+Math.imul(Vr,ds)|0,Ie=Ie+Math.imul(Vr,Ns)|0,Ie=Ie+Math.imul(Zr,ds)|0,Ye=Ye+Math.imul(Zr,Ns)|0,Ve=Ve+Math.imul(qr,ys)|0,Ie=Ie+Math.imul(qr,ws)|0,Ie=Ie+Math.imul(Hr,ys)|0,Ye=Ye+Math.imul(Hr,ws)|0,Ve=Ve+Math.imul($r,bs)|0,Ie=Ie+Math.imul($r,Es)|0,Ie=Ie+Math.imul(Tr,bs)|0,Ye=Ye+Math.imul(Tr,Es)|0,Ve=Ve+Math.imul(Br,us)|0,Ie=Ie+Math.imul(Br,As)|0,Ie=Ie+Math.imul(Cr,us)|0,Ye=Ye+Math.imul(Cr,As)|0,Ve=Ve+Math.imul(Ur,vs)|0,Ie=Ie+Math.imul(Ur,Ms)|0,Ie=Ie+Math.imul(Gr,vs)|0,Ye=Ye+Math.imul(Gr,Ms)|0,Ve=Ve+Math.imul(kr,xs)|0,Ie=Ie+Math.imul(kr,ks)|0,Ie=Ie+Math.imul(Lr,xs)|0,Ye=Ye+Math.imul(Lr,ks)|0,Ve=Ve+Math.imul(Sr,fs)|0,Ie=Ie+Math.imul(Sr,Rs)|0,Ie=Ie+Math.imul(wr,fs)|0,Ye=Ye+Math.imul(wr,Rs)|0,Ve=Ve+Math.imul(lr,js)|0,Ie=Ie+Math.imul(lr,$s)|0,Ie=Ie+Math.imul(br,js)|0,Ye=Ye+Math.imul(br,$s)|0;var Ei=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(Ei>>>26)|0,Ei&=67108863,Ve=Math.imul(ns,os),Ie=Math.imul(ns,_s),Ie=Ie+Math.imul(Qr,os)|0,Ye=Math.imul(Qr,_s),Ve=Ve+Math.imul(Jr,ds)|0,Ie=Ie+Math.imul(Jr,Ns)|0,Ie=Ie+Math.imul(cs,ds)|0,Ye=Ye+Math.imul(cs,Ns)|0,Ve=Ve+Math.imul(Vr,ys)|0,Ie=Ie+Math.imul(Vr,ws)|0,Ie=Ie+Math.imul(Zr,ys)|0,Ye=Ye+Math.imul(Zr,ws)|0,Ve=Ve+Math.imul(qr,bs)|0,Ie=Ie+Math.imul(qr,Es)|0,Ie=Ie+Math.imul(Hr,bs)|0,Ye=Ye+Math.imul(Hr,Es)|0,Ve=Ve+Math.imul($r,us)|0,Ie=Ie+Math.imul($r,As)|0,Ie=Ie+Math.imul(Tr,us)|0,Ye=Ye+Math.imul(Tr,As)|0,Ve=Ve+Math.imul(Br,vs)|0,Ie=Ie+Math.imul(Br,Ms)|0,Ie=Ie+Math.imul(Cr,vs)|0,Ye=Ye+Math.imul(Cr,Ms)|0,Ve=Ve+Math.imul(Ur,xs)|0,Ie=Ie+Math.imul(Ur,ks)|0,Ie=Ie+Math.imul(Gr,xs)|0,Ye=Ye+Math.imul(Gr,ks)|0,Ve=Ve+Math.imul(kr,fs)|0,Ie=Ie+Math.imul(kr,Rs)|0,Ie=Ie+Math.imul(Lr,fs)|0,Ye=Ye+Math.imul(Lr,Rs)|0,Ve=Ve+Math.imul(Sr,js)|0,Ie=Ie+Math.imul(Sr,$s)|0,Ie=Ie+Math.imul(wr,js)|0,Ye=Ye+Math.imul(wr,$s)|0,Ve=Ve+Math.imul(lr,gs)|0,Ie=Ie+Math.imul(lr,Ss)|0,Ie=Ie+Math.imul(br,gs)|0,Ye=Ye+Math.imul(br,Ss)|0;var Si=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(Si>>>26)|0,Si&=67108863,Ve=Math.imul(ns,ds),Ie=Math.imul(ns,Ns),Ie=Ie+Math.imul(Qr,ds)|0,Ye=Math.imul(Qr,Ns),Ve=Ve+Math.imul(Jr,ys)|0,Ie=Ie+Math.imul(Jr,ws)|0,Ie=Ie+Math.imul(cs,ys)|0,Ye=Ye+Math.imul(cs,ws)|0,Ve=Ve+Math.imul(Vr,bs)|0,Ie=Ie+Math.imul(Vr,Es)|0,Ie=Ie+Math.imul(Zr,bs)|0,Ye=Ye+Math.imul(Zr,Es)|0,Ve=Ve+Math.imul(qr,us)|0,Ie=Ie+Math.imul(qr,As)|0,Ie=Ie+Math.imul(Hr,us)|0,Ye=Ye+Math.imul(Hr,As)|0,Ve=Ve+Math.imul($r,vs)|0,Ie=Ie+Math.imul($r,Ms)|0,Ie=Ie+Math.imul(Tr,vs)|0,Ye=Ye+Math.imul(Tr,Ms)|0,Ve=Ve+Math.imul(Br,xs)|0,Ie=Ie+Math.imul(Br,ks)|0,Ie=Ie+Math.imul(Cr,xs)|0,Ye=Ye+Math.imul(Cr,ks)|0,Ve=Ve+Math.imul(Ur,fs)|0,Ie=Ie+Math.imul(Ur,Rs)|0,Ie=Ie+Math.imul(Gr,fs)|0,Ye=Ye+Math.imul(Gr,Rs)|0,Ve=Ve+Math.imul(kr,js)|0,Ie=Ie+Math.imul(kr,$s)|0,Ie=Ie+Math.imul(Lr,js)|0,Ye=Ye+Math.imul(Lr,$s)|0,Ve=Ve+Math.imul(Sr,gs)|0,Ie=Ie+Math.imul(Sr,Ss)|0,Ie=Ie+Math.imul(wr,gs)|0,Ye=Ye+Math.imul(wr,Ss)|0;var Ni=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(Ni>>>26)|0,Ni&=67108863,Ve=Math.imul(ns,ys),Ie=Math.imul(ns,ws),Ie=Ie+Math.imul(Qr,ys)|0,Ye=Math.imul(Qr,ws),Ve=Ve+Math.imul(Jr,bs)|0,Ie=Ie+Math.imul(Jr,Es)|0,Ie=Ie+Math.imul(cs,bs)|0,Ye=Ye+Math.imul(cs,Es)|0,Ve=Ve+Math.imul(Vr,us)|0,Ie=Ie+Math.imul(Vr,As)|0,Ie=Ie+Math.imul(Zr,us)|0,Ye=Ye+Math.imul(Zr,As)|0,Ve=Ve+Math.imul(qr,vs)|0,Ie=Ie+Math.imul(qr,Ms)|0,Ie=Ie+Math.imul(Hr,vs)|0,Ye=Ye+Math.imul(Hr,Ms)|0,Ve=Ve+Math.imul($r,xs)|0,Ie=Ie+Math.imul($r,ks)|0,Ie=Ie+Math.imul(Tr,xs)|0,Ye=Ye+Math.imul(Tr,ks)|0,Ve=Ve+Math.imul(Br,fs)|0,Ie=Ie+Math.imul(Br,Rs)|0,Ie=Ie+Math.imul(Cr,fs)|0,Ye=Ye+Math.imul(Cr,Rs)|0,Ve=Ve+Math.imul(Ur,js)|0,Ie=Ie+Math.imul(Ur,$s)|0,Ie=Ie+Math.imul(Gr,js)|0,Ye=Ye+Math.imul(Gr,$s)|0,Ve=Ve+Math.imul(kr,gs)|0,Ie=Ie+Math.imul(kr,Ss)|0,Ie=Ie+Math.imul(Lr,gs)|0,Ye=Ye+Math.imul(Lr,Ss)|0;var vi=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(vi>>>26)|0,vi&=67108863,Ve=Math.imul(ns,bs),Ie=Math.imul(ns,Es),Ie=Ie+Math.imul(Qr,bs)|0,Ye=Math.imul(Qr,Es),Ve=Ve+Math.imul(Jr,us)|0,Ie=Ie+Math.imul(Jr,As)|0,Ie=Ie+Math.imul(cs,us)|0,Ye=Ye+Math.imul(cs,As)|0,Ve=Ve+Math.imul(Vr,vs)|0,Ie=Ie+Math.imul(Vr,Ms)|0,Ie=Ie+Math.imul(Zr,vs)|0,Ye=Ye+Math.imul(Zr,Ms)|0,Ve=Ve+Math.imul(qr,xs)|0,Ie=Ie+Math.imul(qr,ks)|0,Ie=Ie+Math.imul(Hr,xs)|0,Ye=Ye+Math.imul(Hr,ks)|0,Ve=Ve+Math.imul($r,fs)|0,Ie=Ie+Math.imul($r,Rs)|0,Ie=Ie+Math.imul(Tr,fs)|0,Ye=Ye+Math.imul(Tr,Rs)|0,Ve=Ve+Math.imul(Br,js)|0,Ie=Ie+Math.imul(Br,$s)|0,Ie=Ie+Math.imul(Cr,js)|0,Ye=Ye+Math.imul(Cr,$s)|0,Ve=Ve+Math.imul(Ur,gs)|0,Ie=Ie+Math.imul(Ur,Ss)|0,Ie=Ie+Math.imul(Gr,gs)|0,Ye=Ye+Math.imul(Gr,Ss)|0;var Ri=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(Ri>>>26)|0,Ri&=67108863,Ve=Math.imul(ns,us),Ie=Math.imul(ns,As),Ie=Ie+Math.imul(Qr,us)|0,Ye=Math.imul(Qr,As),Ve=Ve+Math.imul(Jr,vs)|0,Ie=Ie+Math.imul(Jr,Ms)|0,Ie=Ie+Math.imul(cs,vs)|0,Ye=Ye+Math.imul(cs,Ms)|0,Ve=Ve+Math.imul(Vr,xs)|0,Ie=Ie+Math.imul(Vr,ks)|0,Ie=Ie+Math.imul(Zr,xs)|0,Ye=Ye+Math.imul(Zr,ks)|0,Ve=Ve+Math.imul(qr,fs)|0,Ie=Ie+Math.imul(qr,Rs)|0,Ie=Ie+Math.imul(Hr,fs)|0,Ye=Ye+Math.imul(Hr,Rs)|0,Ve=Ve+Math.imul($r,js)|0,Ie=Ie+Math.imul($r,$s)|0,Ie=Ie+Math.imul(Tr,js)|0,Ye=Ye+Math.imul(Tr,$s)|0,Ve=Ve+Math.imul(Br,gs)|0,Ie=Ie+Math.imul(Br,Ss)|0,Ie=Ie+Math.imul(Cr,gs)|0,Ye=Ye+Math.imul(Cr,Ss)|0;var Mi=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(Mi>>>26)|0,Mi&=67108863,Ve=Math.imul(ns,vs),Ie=Math.imul(ns,Ms),Ie=Ie+Math.imul(Qr,vs)|0,Ye=Math.imul(Qr,Ms),Ve=Ve+Math.imul(Jr,xs)|0,Ie=Ie+Math.imul(Jr,ks)|0,Ie=Ie+Math.imul(cs,xs)|0,Ye=Ye+Math.imul(cs,ks)|0,Ve=Ve+Math.imul(Vr,fs)|0,Ie=Ie+Math.imul(Vr,Rs)|0,Ie=Ie+Math.imul(Zr,fs)|0,Ye=Ye+Math.imul(Zr,Rs)|0,Ve=Ve+Math.imul(qr,js)|0,Ie=Ie+Math.imul(qr,$s)|0,Ie=Ie+Math.imul(Hr,js)|0,Ye=Ye+Math.imul(Hr,$s)|0,Ve=Ve+Math.imul($r,gs)|0,Ie=Ie+Math.imul($r,Ss)|0,Ie=Ie+Math.imul(Tr,gs)|0,Ye=Ye+Math.imul(Tr,Ss)|0;var ji=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(ji>>>26)|0,ji&=67108863,Ve=Math.imul(ns,xs),Ie=Math.imul(ns,ks),Ie=Ie+Math.imul(Qr,xs)|0,Ye=Math.imul(Qr,ks),Ve=Ve+Math.imul(Jr,fs)|0,Ie=Ie+Math.imul(Jr,Rs)|0,Ie=Ie+Math.imul(cs,fs)|0,Ye=Ye+Math.imul(cs,Rs)|0,Ve=Ve+Math.imul(Vr,js)|0,Ie=Ie+Math.imul(Vr,$s)|0,Ie=Ie+Math.imul(Zr,js)|0,Ye=Ye+Math.imul(Zr,$s)|0,Ve=Ve+Math.imul(qr,gs)|0,Ie=Ie+Math.imul(qr,Ss)|0,Ie=Ie+Math.imul(Hr,gs)|0,Ye=Ye+Math.imul(Hr,Ss)|0;var ki=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(ki>>>26)|0,ki&=67108863,Ve=Math.imul(ns,fs),Ie=Math.imul(ns,Rs),Ie=Ie+Math.imul(Qr,fs)|0,Ye=Math.imul(Qr,Rs),Ve=Ve+Math.imul(Jr,js)|0,Ie=Ie+Math.imul(Jr,$s)|0,Ie=Ie+Math.imul(cs,js)|0,Ye=Ye+Math.imul(cs,$s)|0,Ve=Ve+Math.imul(Vr,gs)|0,Ie=Ie+Math.imul(Vr,Ss)|0,Ie=Ie+Math.imul(Zr,gs)|0,Ye=Ye+Math.imul(Zr,Ss)|0;var _i=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(_i>>>26)|0,_i&=67108863,Ve=Math.imul(ns,js),Ie=Math.imul(ns,$s),Ie=Ie+Math.imul(Qr,js)|0,Ye=Math.imul(Qr,$s),Ve=Ve+Math.imul(Jr,gs)|0,Ie=Ie+Math.imul(Jr,Ss)|0,Ie=Ie+Math.imul(cs,gs)|0,Ye=Ye+Math.imul(cs,Ss)|0;var $i=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+($i>>>26)|0,$i&=67108863,Ve=Math.imul(ns,gs),Ie=Math.imul(ns,Ss),Ie=Ie+Math.imul(Qr,gs)|0,Ye=Math.imul(Qr,Ss);var bi=(er+Ve|0)+((Ie&8191)<<13)|0;return er=(Ye+(Ie>>>13)|0)+(bi>>>26)|0,bi&=67108863,Ze[0]=ei,Ze[1]=Js,Ze[2]=di,Ze[3]=fi,Ze[4]=mi,Ze[5]=pi,Ze[6]=xi,Ze[7]=gi,Ze[8]=Ei,Ze[9]=Si,Ze[10]=Ni,Ze[11]=vi,Ze[12]=Ri,Ze[13]=Mi,Ze[14]=ji,Ze[15]=ki,Ze[16]=_i,Ze[17]=$i,Ze[18]=bi,er!==0&&(Ze[19]=er,ze.length++),ze};Math.imul||(tr=rr);function cr(Xe,Pe,Fe){Fe.negative=Pe.negative^Xe.negative,Fe.length=Xe.length+Pe.length;for(var ze=0,Ue=0,Ge=0;Ge<Fe.length-1;Ge++){var Ze=Ue;Ue=0;for(var er=ze&67108863,Ve=Math.min(Ge,Pe.length-1),Ie=Math.max(0,Ge-Xe.length+1);Ie<=Ve;Ie++){var Ye=Ge-Ie,ir=Xe.words[Ye]|0,lr=Pe.words[Ie]|0,br=ir*lr,_r=br&67108863;Ze=Ze+(br/67108864|0)|0,_r=_r+er|0,er=_r&67108863,Ze=Ze+(_r>>>26)|0,Ue+=Ze>>>26,Ze&=67108863}Fe.words[Ge]=er,ze=Ze,Ze=Ue}return ze!==0?Fe.words[Ge]=ze:Fe.length--,Fe.strip()}function or(Xe,Pe,Fe){var ze=new ar;return ze.mulp(Xe,Pe,Fe)}ke.prototype.mulTo=function(Pe,Fe){var ze,Ue=this.length+Pe.length;return this.length===10&&Pe.length===10?ze=tr(this,Pe,Fe):Ue<63?ze=rr(this,Pe,Fe):Ue<1024?ze=cr(this,Pe,Fe):ze=or(this,Pe,Fe),ze};function ar(Xe,Pe){this.x=Xe,this.y=Pe}ar.prototype.makeRBT=function(Pe){for(var Fe=new Array(Pe),ze=ke.prototype._countBits(Pe)-1,Ue=0;Ue<Pe;Ue++)Fe[Ue]=this.revBin(Ue,ze,Pe);return Fe},ar.prototype.revBin=function(Pe,Fe,ze){if(Pe===0||Pe===ze-1)return Pe;for(var Ue=0,Ge=0;Ge<Fe;Ge++)Ue|=(Pe&1)<<Fe-Ge-1,Pe>>=1;return Ue},ar.prototype.permute=function(Pe,Fe,ze,Ue,Ge,Ze){for(var er=0;er<Ze;er++)Ue[er]=Fe[Pe[er]],Ge[er]=ze[Pe[er]]},ar.prototype.transform=function(Pe,Fe,ze,Ue,Ge,Ze){this.permute(Ze,Pe,Fe,ze,Ue,Ge);for(var er=1;er<Ge;er<<=1)for(var Ve=er<<1,Ie=Math.cos(2*Math.PI/Ve),Ye=Math.sin(2*Math.PI/Ve),ir=0;ir<Ge;ir+=Ve)for(var lr=Ie,br=Ye,_r=0;_r<er;_r++){var Sr=ze[ir+_r],wr=Ue[ir+_r],Nr=ze[ir+_r+er],kr=Ue[ir+_r+er],Lr=lr*Nr-br*kr;kr=lr*kr+br*Nr,Nr=Lr,ze[ir+_r]=Sr+Nr,Ue[ir+_r]=wr+kr,ze[ir+_r+er]=Sr-Nr,Ue[ir+_r+er]=wr-kr,_r!==Ve&&(Lr=Ie*lr-Ye*br,br=Ie*br+Ye*lr,lr=Lr)}},ar.prototype.guessLen13b=function(Pe,Fe){var ze=Math.max(Fe,Pe)|1,Ue=ze&1,Ge=0;for(ze=ze/2|0;ze;ze=ze>>>1)Ge++;return 1<<Ge+1+Ue},ar.prototype.conjugate=function(Pe,Fe,ze){if(!(ze<=1))for(var Ue=0;Ue<ze/2;Ue++){var Ge=Pe[Ue];Pe[Ue]=Pe[ze-Ue-1],Pe[ze-Ue-1]=Ge,Ge=Fe[Ue],Fe[Ue]=-Fe[ze-Ue-1],Fe[ze-Ue-1]=-Ge}},ar.prototype.normalize13b=function(Pe,Fe){for(var ze=0,Ue=0;Ue<Fe/2;Ue++){var Ge=Math.round(Pe[2*Ue+1]/Fe)*8192+Math.round(Pe[2*Ue]/Fe)+ze;Pe[Ue]=Ge&67108863,Ge<67108864?ze=0:ze=Ge/67108864|0}return Pe},ar.prototype.convert13b=function(Pe,Fe,ze,Ue){for(var Ge=0,Ze=0;Ze<Fe;Ze++)Ge=Ge+(Pe[Ze]|0),ze[2*Ze]=Ge&8191,Ge=Ge>>>13,ze[2*Ze+1]=Ge&8191,Ge=Ge>>>13;for(Ze=2*Fe;Ze<Ue;++Ze)ze[Ze]=0;Me(Ge===0),Me((Ge&-8192)===0)},ar.prototype.stub=function(Pe){for(var Fe=new Array(Pe),ze=0;ze<Pe;ze++)Fe[ze]=0;return Fe},ar.prototype.mulp=function(Pe,Fe,ze){var Ue=2*this.guessLen13b(Pe.length,Fe.length),Ge=this.makeRBT(Ue),Ze=this.stub(Ue),er=new Array(Ue),Ve=new Array(Ue),Ie=new Array(Ue),Ye=new Array(Ue),ir=new Array(Ue),lr=new Array(Ue),br=ze.words;br.length=Ue,this.convert13b(Pe.words,Pe.length,er,Ue),this.convert13b(Fe.words,Fe.length,Ye,Ue),this.transform(er,Ze,Ve,Ie,Ue,Ge),this.transform(Ye,Ze,ir,lr,Ue,Ge);for(var _r=0;_r<Ue;_r++){var Sr=Ve[_r]*ir[_r]-Ie[_r]*lr[_r];Ie[_r]=Ve[_r]*lr[_r]+Ie[_r]*ir[_r],Ve[_r]=Sr}return this.conjugate(Ve,Ie,Ue),this.transform(Ve,Ie,br,Ze,Ue,Ge),this.conjugate(br,Ze,Ue),this.normalize13b(br,Ue),ze.negative=Pe.negative^Fe.negative,ze.length=Pe.length+Fe.length,ze.strip()},ke.prototype.mul=function(Pe){var Fe=new ke(null);return Fe.words=new Array(this.length+Pe.length),this.mulTo(Pe,Fe)},ke.prototype.mulf=function(Pe){var Fe=new ke(null);return Fe.words=new Array(this.length+Pe.length),or(this,Pe,Fe)},ke.prototype.imul=function(Pe){return this.clone().mulTo(Pe,this)},ke.prototype.imuln=function(Pe){Me(typeof Pe=="number"),Me(Pe<67108864);for(var Fe=0,ze=0;ze<this.length;ze++){var Ue=(this.words[ze]|0)*Pe,Ge=(Ue&67108863)+(Fe&67108863);Fe>>=26,Fe+=Ue/67108864|0,Fe+=Ge>>>26,this.words[ze]=Ge&67108863}return Fe!==0&&(this.words[ze]=Fe,this.length++),this.length=Pe===0?1:this.length,this},ke.prototype.muln=function(Pe){return this.clone().imuln(Pe)},ke.prototype.sqr=function(){return this.mul(this)},ke.prototype.isqr=function(){return this.imul(this.clone())},ke.prototype.pow=function(Pe){var Fe=Qe(Pe);if(Fe.length===0)return new ke(1);for(var ze=this,Ue=0;Ue<Fe.length&&Fe[Ue]===0;Ue++,ze=ze.sqr());if(++Ue<Fe.length)for(var Ge=ze.sqr();Ue<Fe.length;Ue++,Ge=Ge.sqr())Fe[Ue]!==0&&(ze=ze.mul(Ge));return ze},ke.prototype.iushln=function(Pe){Me(typeof Pe=="number"&&Pe>=0);var Fe=Pe%26,ze=(Pe-Fe)/26,Ue=67108863>>>26-Fe<<26-Fe,Ge;if(Fe!==0){var Ze=0;for(Ge=0;Ge<this.length;Ge++){var er=this.words[Ge]&Ue,Ve=(this.words[Ge]|0)-er<<Fe;this.words[Ge]=Ve|Ze,Ze=er>>>26-Fe}Ze&&(this.words[Ge]=Ze,this.length++)}if(ze!==0){for(Ge=this.length-1;Ge>=0;Ge--)this.words[Ge+ze]=this.words[Ge];for(Ge=0;Ge<ze;Ge++)this.words[Ge]=0;this.length+=ze}return this.strip()},ke.prototype.ishln=function(Pe){return Me(this.negative===0),this.iushln(Pe)},ke.prototype.iushrn=function(Pe,Fe,ze){Me(typeof Pe=="number"&&Pe>=0);var Ue;Fe?Ue=(Fe-Fe%26)/26:Ue=0;var Ge=Pe%26,Ze=Math.min((Pe-Ge)/26,this.length),er=67108863^67108863>>>Ge<<Ge,Ve=ze;if(Ue-=Ze,Ue=Math.max(0,Ue),Ve){for(var Ie=0;Ie<Ze;Ie++)Ve.words[Ie]=this.words[Ie];Ve.length=Ze}if(Ze!==0)if(this.length>Ze)for(this.length-=Ze,Ie=0;Ie<this.length;Ie++)this.words[Ie]=this.words[Ie+Ze];else this.words[0]=0,this.length=1;var Ye=0;for(Ie=this.length-1;Ie>=0&&(Ye!==0||Ie>=Ue);Ie--){var ir=this.words[Ie]|0;this.words[Ie]=Ye<<26-Ge|ir>>>Ge,Ye=ir&er}return Ve&&Ye!==0&&(Ve.words[Ve.length++]=Ye),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},ke.prototype.ishrn=function(Pe,Fe,ze){return Me(this.negative===0),this.iushrn(Pe,Fe,ze)},ke.prototype.shln=function(Pe){return this.clone().ishln(Pe)},ke.prototype.ushln=function(Pe){return this.clone().iushln(Pe)},ke.prototype.shrn=function(Pe){return this.clone().ishrn(Pe)},ke.prototype.ushrn=function(Pe){return this.clone().iushrn(Pe)},ke.prototype.testn=function(Pe){Me(typeof Pe=="number"&&Pe>=0);var Fe=Pe%26,ze=(Pe-Fe)/26,Ue=1<<Fe;if(this.length<=ze)return!1;var Ge=this.words[ze];return!!(Ge&Ue)},ke.prototype.imaskn=function(Pe){Me(typeof Pe=="number"&&Pe>=0);var Fe=Pe%26,ze=(Pe-Fe)/26;if(Me(this.negative===0,"imaskn works only with positive numbers"),this.length<=ze)return this;if(Fe!==0&&ze++,this.length=Math.min(ze,this.length),Fe!==0){var Ue=67108863^67108863>>>Fe<<Fe;this.words[this.length-1]&=Ue}return this.strip()},ke.prototype.maskn=function(Pe){return this.clone().imaskn(Pe)},ke.prototype.iaddn=function(Pe){return Me(typeof Pe=="number"),Me(Pe<67108864),Pe<0?this.isubn(-Pe):this.negative!==0?this.length===1&&(this.words[0]|0)<Pe?(this.words[0]=Pe-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(Pe),this.negative=1,this):this._iaddn(Pe)},ke.prototype._iaddn=function(Pe){this.words[0]+=Pe;for(var Fe=0;Fe<this.length&&this.words[Fe]>=67108864;Fe++)this.words[Fe]-=67108864,Fe===this.length-1?this.words[Fe+1]=1:this.words[Fe+1]++;return this.length=Math.max(this.length,Fe+1),this},ke.prototype.isubn=function(Pe){if(Me(typeof Pe=="number"),Me(Pe<67108864),Pe<0)return this.iaddn(-Pe);if(this.negative!==0)return this.negative=0,this.iaddn(Pe),this.negative=1,this;if(this.words[0]-=Pe,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var Fe=0;Fe<this.length&&this.words[Fe]<0;Fe++)this.words[Fe]+=67108864,this.words[Fe+1]-=1;return this.strip()},ke.prototype.addn=function(Pe){return this.clone().iaddn(Pe)},ke.prototype.subn=function(Pe){return this.clone().isubn(Pe)},ke.prototype.iabs=function(){return this.negative=0,this},ke.prototype.abs=function(){return this.clone().iabs()},ke.prototype._ishlnsubmul=function(Pe,Fe,ze){var Ue=Pe.length+ze,Ge;this._expand(Ue);var Ze,er=0;for(Ge=0;Ge<Pe.length;Ge++){Ze=(this.words[Ge+ze]|0)+er;var Ve=(Pe.words[Ge]|0)*Fe;Ze-=Ve&67108863,er=(Ze>>26)-(Ve/67108864|0),this.words[Ge+ze]=Ze&67108863}for(;Ge<this.length-ze;Ge++)Ze=(this.words[Ge+ze]|0)+er,er=Ze>>26,this.words[Ge+ze]=Ze&67108863;if(er===0)return this.strip();for(Me(er===-1),er=0,Ge=0;Ge<this.length;Ge++)Ze=-(this.words[Ge]|0)+er,er=Ze>>26,this.words[Ge]=Ze&67108863;return this.negative=1,this.strip()},ke.prototype._wordDiv=function(Pe,Fe){var ze=this.length-Pe.length,Ue=this.clone(),Ge=Pe,Ze=Ge.words[Ge.length-1]|0,er=this._countBits(Ze);ze=26-er,ze!==0&&(Ge=Ge.ushln(ze),Ue.iushln(ze),Ze=Ge.words[Ge.length-1]|0);var Ve=Ue.length-Ge.length,Ie;if(Fe!=="mod"){Ie=new ke(null),Ie.length=Ve+1,Ie.words=new Array(Ie.length);for(var Ye=0;Ye<Ie.length;Ye++)Ie.words[Ye]=0}var ir=Ue.clone()._ishlnsubmul(Ge,1,Ve);ir.negative===0&&(Ue=ir,Ie&&(Ie.words[Ve]=1));for(var lr=Ve-1;lr>=0;lr--){var br=(Ue.words[Ge.length+lr]|0)*67108864+(Ue.words[Ge.length+lr-1]|0);for(br=Math.min(br/Ze|0,67108863),Ue._ishlnsubmul(Ge,br,lr);Ue.negative!==0;)br--,Ue.negative=0,Ue._ishlnsubmul(Ge,1,lr),Ue.isZero()||(Ue.negative^=1);Ie&&(Ie.words[lr]=br)}return Ie&&Ie.strip(),Ue.strip(),Fe!=="div"&&ze!==0&&Ue.iushrn(ze),{div:Ie||null,mod:Ue}},ke.prototype.divmod=function(Pe,Fe,ze){if(Me(!Pe.isZero()),this.isZero())return{div:new ke(0),mod:new ke(0)};var Ue,Ge,Ze;return this.negative!==0&&Pe.negative===0?(Ze=this.neg().divmod(Pe,Fe),Fe!=="mod"&&(Ue=Ze.div.neg()),Fe!=="div"&&(Ge=Ze.mod.neg(),ze&&Ge.negative!==0&&Ge.iadd(Pe)),{div:Ue,mod:Ge}):this.negative===0&&Pe.negative!==0?(Ze=this.divmod(Pe.neg(),Fe),Fe!=="mod"&&(Ue=Ze.div.neg()),{div:Ue,mod:Ze.mod}):this.negative&Pe.negative?(Ze=this.neg().divmod(Pe.neg(),Fe),Fe!=="div"&&(Ge=Ze.mod.neg(),ze&&Ge.negative!==0&&Ge.isub(Pe)),{div:Ze.div,mod:Ge}):Pe.length>this.length||this.cmp(Pe)<0?{div:new ke(0),mod:this}:Pe.length===1?Fe==="div"?{div:this.divn(Pe.words[0]),mod:null}:Fe==="mod"?{div:null,mod:new ke(this.modn(Pe.words[0]))}:{div:this.divn(Pe.words[0]),mod:new ke(this.modn(Pe.words[0]))}:this._wordDiv(Pe,Fe)},ke.prototype.div=function(Pe){return this.divmod(Pe,"div",!1).div},ke.prototype.mod=function(Pe){return this.divmod(Pe,"mod",!1).mod},ke.prototype.umod=function(Pe){return this.divmod(Pe,"mod",!0).mod},ke.prototype.divRound=function(Pe){var Fe=this.divmod(Pe);if(Fe.mod.isZero())return Fe.div;var ze=Fe.div.negative!==0?Fe.mod.isub(Pe):Fe.mod,Ue=Pe.ushrn(1),Ge=Pe.andln(1),Ze=ze.cmp(Ue);return Ze<0||Ge===1&&Ze===0?Fe.div:Fe.div.negative!==0?Fe.div.isubn(1):Fe.div.iaddn(1)},ke.prototype.modn=function(Pe){Me(Pe<=67108863);for(var Fe=(1<<26)%Pe,ze=0,Ue=this.length-1;Ue>=0;Ue--)ze=(Fe*ze+(this.words[Ue]|0))%Pe;return ze},ke.prototype.idivn=function(Pe){Me(Pe<=67108863);for(var Fe=0,ze=this.length-1;ze>=0;ze--){var Ue=(this.words[ze]|0)+Fe*67108864;this.words[ze]=Ue/Pe|0,Fe=Ue%Pe}return this.strip()},ke.prototype.divn=function(Pe){return this.clone().idivn(Pe)},ke.prototype.egcd=function(Pe){Me(Pe.negative===0),Me(!Pe.isZero());var Fe=this,ze=Pe.clone();Fe.negative!==0?Fe=Fe.umod(Pe):Fe=Fe.clone();for(var Ue=new ke(1),Ge=new ke(0),Ze=new ke(0),er=new ke(1),Ve=0;Fe.isEven()&&ze.isEven();)Fe.iushrn(1),ze.iushrn(1),++Ve;for(var Ie=ze.clone(),Ye=Fe.clone();!Fe.isZero();){for(var ir=0,lr=1;!(Fe.words[0]&lr)&&ir<26;++ir,lr<<=1);if(ir>0)for(Fe.iushrn(ir);ir-- >0;)(Ue.isOdd()||Ge.isOdd())&&(Ue.iadd(Ie),Ge.isub(Ye)),Ue.iushrn(1),Ge.iushrn(1);for(var br=0,_r=1;!(ze.words[0]&_r)&&br<26;++br,_r<<=1);if(br>0)for(ze.iushrn(br);br-- >0;)(Ze.isOdd()||er.isOdd())&&(Ze.iadd(Ie),er.isub(Ye)),Ze.iushrn(1),er.iushrn(1);Fe.cmp(ze)>=0?(Fe.isub(ze),Ue.isub(Ze),Ge.isub(er)):(ze.isub(Fe),Ze.isub(Ue),er.isub(Ge))}return{a:Ze,b:er,gcd:ze.iushln(Ve)}},ke.prototype._invmp=function(Pe){Me(Pe.negative===0),Me(!Pe.isZero());var Fe=this,ze=Pe.clone();Fe.negative!==0?Fe=Fe.umod(Pe):Fe=Fe.clone();for(var Ue=new ke(1),Ge=new ke(0),Ze=ze.clone();Fe.cmpn(1)>0&&ze.cmpn(1)>0;){for(var er=0,Ve=1;!(Fe.words[0]&Ve)&&er<26;++er,Ve<<=1);if(er>0)for(Fe.iushrn(er);er-- >0;)Ue.isOdd()&&Ue.iadd(Ze),Ue.iushrn(1);for(var Ie=0,Ye=1;!(ze.words[0]&Ye)&&Ie<26;++Ie,Ye<<=1);if(Ie>0)for(ze.iushrn(Ie);Ie-- >0;)Ge.isOdd()&&Ge.iadd(Ze),Ge.iushrn(1);Fe.cmp(ze)>=0?(Fe.isub(ze),Ue.isub(Ge)):(ze.isub(Fe),Ge.isub(Ue))}var ir;return Fe.cmpn(1)===0?ir=Ue:ir=Ge,ir.cmpn(0)<0&&ir.iadd(Pe),ir},ke.prototype.gcd=function(Pe){if(this.isZero())return Pe.abs();if(Pe.isZero())return this.abs();var Fe=this.clone(),ze=Pe.clone();Fe.negative=0,ze.negative=0;for(var Ue=0;Fe.isEven()&&ze.isEven();Ue++)Fe.iushrn(1),ze.iushrn(1);do{for(;Fe.isEven();)Fe.iushrn(1);for(;ze.isEven();)ze.iushrn(1);var Ge=Fe.cmp(ze);if(Ge<0){var Ze=Fe;Fe=ze,ze=Ze}else if(Ge===0||ze.cmpn(1)===0)break;Fe.isub(ze)}while(!0);return ze.iushln(Ue)},ke.prototype.invm=function(Pe){return this.egcd(Pe).a.umod(Pe)},ke.prototype.isEven=function(){return(this.words[0]&1)===0},ke.prototype.isOdd=function(){return(this.words[0]&1)===1},ke.prototype.andln=function(Pe){return this.words[0]&Pe},ke.prototype.bincn=function(Pe){Me(typeof Pe=="number");var Fe=Pe%26,ze=(Pe-Fe)/26,Ue=1<<Fe;if(this.length<=ze)return this._expand(ze+1),this.words[ze]|=Ue,this;for(var Ge=Ue,Ze=ze;Ge!==0&&Ze<this.length;Ze++){var er=this.words[Ze]|0;er+=Ge,Ge=er>>>26,er&=67108863,this.words[Ze]=er}return Ge!==0&&(this.words[Ze]=Ge,this.length++),this},ke.prototype.isZero=function(){return this.length===1&&this.words[0]===0},ke.prototype.cmpn=function(Pe){var Fe=Pe<0;if(this.negative!==0&&!Fe)return-1;if(this.negative===0&&Fe)return 1;this.strip();var ze;if(this.length>1)ze=1;else{Fe&&(Pe=-Pe),Me(Pe<=67108863,"Number is too big");var Ue=this.words[0]|0;ze=Ue===Pe?0:Ue<Pe?-1:1}return this.negative!==0?-ze|0:ze},ke.prototype.cmp=function(Pe){if(this.negative!==0&&Pe.negative===0)return-1;if(this.negative===0&&Pe.negative!==0)return 1;var Fe=this.ucmp(Pe);return this.negative!==0?-Fe|0:Fe},ke.prototype.ucmp=function(Pe){if(this.length>Pe.length)return 1;if(this.length<Pe.length)return-1;for(var Fe=0,ze=this.length-1;ze>=0;ze--){var Ue=this.words[ze]|0,Ge=Pe.words[ze]|0;if(Ue!==Ge){Ue<Ge?Fe=-1:Ue>Ge&&(Fe=1);break}}return Fe},ke.prototype.gtn=function(Pe){return this.cmpn(Pe)===1},ke.prototype.gt=function(Pe){return this.cmp(Pe)===1},ke.prototype.gten=function(Pe){return this.cmpn(Pe)>=0},ke.prototype.gte=function(Pe){return this.cmp(Pe)>=0},ke.prototype.ltn=function(Pe){return this.cmpn(Pe)===-1},ke.prototype.lt=function(Pe){return this.cmp(Pe)===-1},ke.prototype.lten=function(Pe){return this.cmpn(Pe)<=0},ke.prototype.lte=function(Pe){return this.cmp(Pe)<=0},ke.prototype.eqn=function(Pe){return this.cmpn(Pe)===0},ke.prototype.eq=function(Pe){return this.cmp(Pe)===0},ke.red=function(Pe){return new xr(Pe)},ke.prototype.toRed=function(Pe){return Me(!this.red,"Already a number in reduction context"),Me(this.negative===0,"red works only with positives"),Pe.convertTo(this)._forceRed(Pe)},ke.prototype.fromRed=function(){return Me(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},ke.prototype._forceRed=function(Pe){return this.red=Pe,this},ke.prototype.forceRed=function(Pe){return Me(!this.red,"Already a number in reduction context"),this._forceRed(Pe)},ke.prototype.redAdd=function(Pe){return Me(this.red,"redAdd works only with red numbers"),this.red.add(this,Pe)},ke.prototype.redIAdd=function(Pe){return Me(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,Pe)},ke.prototype.redSub=function(Pe){return Me(this.red,"redSub works only with red numbers"),this.red.sub(this,Pe)},ke.prototype.redISub=function(Pe){return Me(this.red,"redISub works only with red numbers"),this.red.isub(this,Pe)},ke.prototype.redShl=function(Pe){return Me(this.red,"redShl works only with red numbers"),this.red.shl(this,Pe)},ke.prototype.redMul=function(Pe){return Me(this.red,"redMul works only with red numbers"),this.red._verify2(this,Pe),this.red.mul(this,Pe)},ke.prototype.redIMul=function(Pe){return Me(this.red,"redMul works only with red numbers"),this.red._verify2(this,Pe),this.red.imul(this,Pe)},ke.prototype.redSqr=function(){return Me(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},ke.prototype.redISqr=function(){return Me(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},ke.prototype.redSqrt=function(){return Me(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},ke.prototype.redInvm=function(){return Me(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},ke.prototype.redNeg=function(){return Me(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},ke.prototype.redPow=function(Pe){return Me(this.red&&!Pe.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,Pe)};var pr={k256:null,p224:null,p192:null,p25519:null};function ur(Xe,Pe){this.name=Xe,this.p=new ke(Pe,16),this.n=this.p.bitLength(),this.k=new ke(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}ur.prototype._tmp=function(){var Pe=new ke(null);return Pe.words=new Array(Math.ceil(this.n/13)),Pe},ur.prototype.ireduce=function(Pe){var Fe=Pe,ze;do this.split(Fe,this.tmp),Fe=this.imulK(Fe),Fe=Fe.iadd(this.tmp),ze=Fe.bitLength();while(ze>this.n);var Ue=ze<this.n?-1:Fe.ucmp(this.p);return Ue===0?(Fe.words[0]=0,Fe.length=1):Ue>0?Fe.isub(this.p):Fe.strip!==void 0?Fe.strip():Fe._strip(),Fe},ur.prototype.split=function(Pe,Fe){Pe.iushrn(this.n,0,Fe)},ur.prototype.imulK=function(Pe){return Pe.imul(this.k)};function gr(){ur.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}$e(gr,ur),gr.prototype.split=function(Pe,Fe){for(var ze=4194303,Ue=Math.min(Pe.length,9),Ge=0;Ge<Ue;Ge++)Fe.words[Ge]=Pe.words[Ge];if(Fe.length=Ue,Pe.length<=9){Pe.words[0]=0,Pe.length=1;return}var Ze=Pe.words[9];for(Fe.words[Fe.length++]=Ze&ze,Ge=10;Ge<Pe.length;Ge++){var er=Pe.words[Ge]|0;Pe.words[Ge-10]=(er&ze)<<4|Ze>>>22,Ze=er}Ze>>>=22,Pe.words[Ge-10]=Ze,Ze===0&&Pe.length>10?Pe.length-=10:Pe.length-=9},gr.prototype.imulK=function(Pe){Pe.words[Pe.length]=0,Pe.words[Pe.length+1]=0,Pe.length+=2;for(var Fe=0,ze=0;ze<Pe.length;ze++){var Ue=Pe.words[ze]|0;Fe+=Ue*977,Pe.words[ze]=Fe&67108863,Fe=Ue*64+(Fe/67108864|0)}return Pe.words[Pe.length-1]===0&&(Pe.length--,Pe.words[Pe.length-1]===0&&Pe.length--),Pe};function jr(){ur.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}$e(jr,ur);function vr(){ur.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}$e(vr,ur);function dr(){ur.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}$e(dr,ur),dr.prototype.imulK=function(Pe){for(var Fe=0,ze=0;ze<Pe.length;ze++){var Ue=(Pe.words[ze]|0)*19+Fe,Ge=Ue&67108863;Ue>>>=26,Pe.words[ze]=Ge,Fe=Ue}return Fe!==0&&(Pe.words[Pe.length++]=Fe),Pe},ke._prime=function(Pe){if(pr[Pe])return pr[Pe];var Fe;if(Pe==="k256")Fe=new gr;else if(Pe==="p224")Fe=new jr;else if(Pe==="p192")Fe=new vr;else if(Pe==="p25519")Fe=new dr;else throw new Error("Unknown prime "+Pe);return pr[Pe]=Fe,Fe};function xr(Xe){if(typeof Xe=="string"){var Pe=ke._prime(Xe);this.m=Pe.p,this.prime=Pe}else Me(Xe.gtn(1),"modulus must be greater than 1"),this.m=Xe,this.prime=null}xr.prototype._verify1=function(Pe){Me(Pe.negative===0,"red works only with positives"),Me(Pe.red,"red works only with red numbers")},xr.prototype._verify2=function(Pe,Fe){Me((Pe.negative|Fe.negative)===0,"red works only with positives"),Me(Pe.red&&Pe.red===Fe.red,"red works only with red numbers")},xr.prototype.imod=function(Pe){return this.prime?this.prime.ireduce(Pe)._forceRed(this):Pe.umod(this.m)._forceRed(this)},xr.prototype.neg=function(Pe){return Pe.isZero()?Pe.clone():this.m.sub(Pe)._forceRed(this)},xr.prototype.add=function(Pe,Fe){this._verify2(Pe,Fe);var ze=Pe.add(Fe);return ze.cmp(this.m)>=0&&ze.isub(this.m),ze._forceRed(this)},xr.prototype.iadd=function(Pe,Fe){this._verify2(Pe,Fe);var ze=Pe.iadd(Fe);return ze.cmp(this.m)>=0&&ze.isub(this.m),ze},xr.prototype.sub=function(Pe,Fe){this._verify2(Pe,Fe);var ze=Pe.sub(Fe);return ze.cmpn(0)<0&&ze.iadd(this.m),ze._forceRed(this)},xr.prototype.isub=function(Pe,Fe){this._verify2(Pe,Fe);var ze=Pe.isub(Fe);return ze.cmpn(0)<0&&ze.iadd(this.m),ze},xr.prototype.shl=function(Pe,Fe){return this._verify1(Pe),this.imod(Pe.ushln(Fe))},xr.prototype.imul=function(Pe,Fe){return this._verify2(Pe,Fe),this.imod(Pe.imul(Fe))},xr.prototype.mul=function(Pe,Fe){return this._verify2(Pe,Fe),this.imod(Pe.mul(Fe))},xr.prototype.isqr=function(Pe){return this.imul(Pe,Pe.clone())},xr.prototype.sqr=function(Pe){return this.mul(Pe,Pe)},xr.prototype.sqrt=function(Pe){if(Pe.isZero())return Pe.clone();var Fe=this.m.andln(3);if(Me(Fe%2===1),Fe===3){var ze=this.m.add(new ke(1)).iushrn(2);return this.pow(Pe,ze)}for(var Ue=this.m.subn(1),Ge=0;!Ue.isZero()&&Ue.andln(1)===0;)Ge++,Ue.iushrn(1);Me(!Ue.isZero());var Ze=new ke(1).toRed(this),er=Ze.redNeg(),Ve=this.m.subn(1).iushrn(1),Ie=this.m.bitLength();for(Ie=new ke(2*Ie*Ie).toRed(this);this.pow(Ie,Ve).cmp(er)!==0;)Ie.redIAdd(er);for(var Ye=this.pow(Ie,Ue),ir=this.pow(Pe,Ue.addn(1).iushrn(1)),lr=this.pow(Pe,Ue),br=Ge;lr.cmp(Ze)!==0;){for(var _r=lr,Sr=0;_r.cmp(Ze)!==0;Sr++)_r=_r.redSqr();Me(Sr<br);var wr=this.pow(Ye,new ke(1).iushln(br-Sr-1));ir=ir.redMul(wr),Ye=wr.redSqr(),lr=lr.redMul(Ye),br=Sr}return ir},xr.prototype.invm=function(Pe){var Fe=Pe._invmp(this.m);return Fe.negative!==0?(Fe.negative=0,this.imod(Fe).redNeg()):this.imod(Fe)},xr.prototype.pow=function(Pe,Fe){if(Fe.isZero())return new ke(1).toRed(this);if(Fe.cmpn(1)===0)return Pe.clone();var ze=4,Ue=new Array(1<<ze);Ue[0]=new ke(1).toRed(this),Ue[1]=Pe;for(var Ge=2;Ge<Ue.length;Ge++)Ue[Ge]=this.mul(Ue[Ge-1],Pe);var Ze=Ue[0],er=0,Ve=0,Ie=Fe.bitLength()%26;for(Ie===0&&(Ie=26),Ge=Fe.length-1;Ge>=0;Ge--){for(var Ye=Fe.words[Ge],ir=Ie-1;ir>=0;ir--){var lr=Ye>>ir&1;if(Ze!==Ue[0]&&(Ze=this.sqr(Ze)),lr===0&&er===0){Ve=0;continue}er<<=1,er|=lr,Ve++,!(Ve!==ze&&(Ge!==0||ir!==0))&&(Ze=this.mul(Ze,Ue[er]),Ve=0,er=0)}Ie=26}return Ze},xr.prototype.convertTo=function(Pe){var Fe=Pe.umod(this.m);return Fe===Pe?Fe.clone():Fe},xr.prototype.convertFrom=function(Pe){var Fe=Pe.clone();return Fe.red=null,Fe},ke.mont=function(Pe){return new Rr(Pe)};function Rr(Xe){xr.call(this,Xe),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new ke(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}$e(Rr,xr),Rr.prototype.convertTo=function(Pe){return this.imod(Pe.ushln(this.shift))},Rr.prototype.convertFrom=function(Pe){var Fe=this.imod(Pe.mul(this.rinv));return Fe.red=null,Fe},Rr.prototype.imul=function(Pe,Fe){if(Pe.isZero()||Fe.isZero())return Pe.words[0]=0,Pe.length=1,Pe;var ze=Pe.imul(Fe),Ue=ze.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Ge=ze.isub(Ue).iushrn(this.shift),Ze=Ge;return Ge.cmp(this.m)>=0?Ze=Ge.isub(this.m):Ge.cmpn(0)<0&&(Ze=Ge.iadd(this.m)),Ze._forceRed(this)},Rr.prototype.mul=function(Pe,Fe){if(Pe.isZero()||Fe.isZero())return new ke(0)._forceRed(this);var ze=Pe.mul(Fe),Ue=ze.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Ge=ze.isub(Ue).iushrn(this.shift),Ze=Ge;return Ge.cmp(this.m)>=0?Ze=Ge.isub(this.m):Ge.cmpn(0)<0&&(Ze=Ge.iadd(this.m)),Ze._forceRed(this)},Rr.prototype.invm=function(Pe){var Fe=this.imod(Pe._invmp(this.m).mul(this.r2));return Fe._forceRed(this)}})(Re,commonjsGlobal)})(bn$5);var bnExports$5=bn$5.exports,brorand={exports:{}},hasRequiredBrorand;function requireBrorand(){if(hasRequiredBrorand)return brorand.exports;hasRequiredBrorand=1;var Re;brorand.exports=function($e){return Re||(Re=new je(null)),Re.generate($e)};function je(Me){this.rand=Me}if(brorand.exports.Rand=je,je.prototype.generate=function($e){return this._rand($e)},je.prototype._rand=function($e){if(this.rand.getBytes)return this.rand.getBytes($e);for(var ke=new Uint8Array($e),Ce=0;Ce<ke.length;Ce++)ke[Ce]=this.rand.getByte();return ke},typeof self=="object")self.crypto&&self.crypto.getRandomValues?je.prototype._rand=function($e){var ke=new Uint8Array($e);return self.crypto.getRandomValues(ke),ke}:self.msCrypto&&self.msCrypto.getRandomValues?je.prototype._rand=function($e){var ke=new Uint8Array($e);return self.msCrypto.getRandomValues(ke),ke}:typeof window=="object"&&(je.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var _e=requireCryptoBrowserify();if(typeof _e.randomBytes!="function")throw new Error("Not supported");je.prototype._rand=function($e){return _e.randomBytes($e)}}catch{}return brorand.exports}var mr,hasRequiredMr;function requireMr(){if(hasRequiredMr)return mr;hasRequiredMr=1;var Re=bnExports$5,je=requireBrorand();function _e(Me){this.rand=Me||new je.Rand}return mr=_e,_e.create=function($e){return new _e($e)},_e.prototype._randbelow=function($e){var ke=$e.bitLength(),Ce=Math.ceil(ke/8);do var Be=new Re(this.rand.generate(Ce));while(Be.cmp($e)>=0);return Be},_e.prototype._randrange=function($e,ke){var Ce=ke.sub($e);return $e.add(this._randbelow(Ce))},_e.prototype.test=function($e,ke,Ce){var Be=$e.bitLength(),qe=Re.mont($e),He=new Re(1).toRed(qe);ke||(ke=Math.max(1,Be/48|0));for(var We=$e.subn(1),Ke=0;!We.testn(Ke);Ke++);for(var Je=$e.shrn(Ke),Qe=We.toRed(qe),rr=!0;ke>0;ke--){var tr=this._randrange(new Re(2),We);Ce&&Ce(tr);var cr=tr.toRed(qe).redPow(Je);if(!(cr.cmp(He)===0||cr.cmp(Qe)===0)){for(var or=1;or<Ke;or++){if(cr=cr.redSqr(),cr.cmp(He)===0)return!1;if(cr.cmp(Qe)===0)break}if(or===Ke)return!1}}return rr},_e.prototype.getDivisor=function($e,ke){var Ce=$e.bitLength(),Be=Re.mont($e),qe=new Re(1).toRed(Be);ke||(ke=Math.max(1,Ce/48|0));for(var He=$e.subn(1),We=0;!He.testn(We);We++);for(var Ke=$e.shrn(We),Je=He.toRed(Be);ke>0;ke--){var Qe=this._randrange(new Re(2),He),rr=$e.gcd(Qe);if(rr.cmpn(1)!==0)return rr;var tr=Qe.toRed(Be).redPow(Ke);if(!(tr.cmp(qe)===0||tr.cmp(Je)===0)){for(var cr=1;cr<We;cr++){if(tr=tr.redSqr(),tr.cmp(qe)===0)return tr.fromRed().subn(1).gcd($e);if(tr.cmp(Je)===0)break}if(cr===We)return tr=tr.redSqr(),tr.fromRed().subn(1).gcd($e)}}return!1},mr}var generatePrime,hasRequiredGeneratePrime;function requireGeneratePrime(){if(hasRequiredGeneratePrime)return generatePrime;hasRequiredGeneratePrime=1;var Re=browserExports;generatePrime=cr,cr.simpleSieve=rr,cr.fermatTest=tr;var je=bnExports$6,_e=new je(24),Me=requireMr(),$e=new Me,ke=new je(1),Ce=new je(2),Be=new je(5);new je(16),new je(8);var qe=new je(10),He=new je(3);new je(7);var We=new je(11),Ke=new je(4);new je(12);var Je=null;function Qe(){if(Je!==null)return Je;var or=1048576,ar=[];ar[0]=2;for(var pr=1,ur=3;ur<or;ur+=2){for(var gr=Math.ceil(Math.sqrt(ur)),jr=0;jr<pr&&ar[jr]<=gr&&ur%ar[jr]!==0;jr++);pr!==jr&&ar[jr]<=gr||(ar[pr++]=ur)}return Je=ar,ar}function rr(or){for(var ar=Qe(),pr=0;pr<ar.length;pr++)if(or.modn(ar[pr])===0)return or.cmpn(ar[pr])===0;return!0}function tr(or){var ar=je.mont(or);return Ce.toRed(ar).redPow(or.subn(1)).fromRed().cmpn(1)===0}function cr(or,ar){if(or<16)return ar===2||ar===5?new je([140,123]):new je([140,39]);ar=new je(ar);for(var pr,ur;;){for(pr=new je(Re(Math.ceil(or/8)));pr.bitLength()>or;)pr.ishrn(1);if(pr.isEven()&&pr.iadd(ke),pr.testn(1)||pr.iadd(Ce),ar.cmp(Ce)){if(!ar.cmp(Be))for(;pr.mod(qe).cmp(He);)pr.iadd(Ke)}else for(;pr.mod(_e).cmp(We);)pr.iadd(Ke);if(ur=pr.shrn(1),rr(ur)&&rr(pr)&&tr(ur)&&tr(pr)&&$e.test(ur)&&$e.test(pr))return pr}}return generatePrime}const modp1={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"},require$$1$1={modp1,modp2,modp5,modp14,modp15,modp16,modp17,modp18};var dh,hasRequiredDh;function requireDh(){if(hasRequiredDh)return dh;hasRequiredDh=1;var Re=bnExports$6,je=requireMr(),_e=new je,Me=new Re(24),$e=new Re(11),ke=new Re(10),Ce=new Re(3),Be=new Re(7),qe=requireGeneratePrime(),He=browserExports;dh=rr;function We(cr,or){return or=or||"utf8",Buffer$B.isBuffer(cr)||(cr=new Buffer$B(cr,or)),this._pub=new Re(cr),this}function Ke(cr,or){return or=or||"utf8",Buffer$B.isBuffer(cr)||(cr=new Buffer$B(cr,or)),this._priv=new Re(cr),this}var Je={};function Qe(cr,or){var ar=or.toString("hex"),pr=[ar,cr.toString(16)].join("_");if(pr in Je)return Je[pr];var ur=0;if(cr.isEven()||!qe.simpleSieve||!qe.fermatTest(cr)||!_e.test(cr))return ur+=1,ar==="02"||ar==="05"?ur+=8:ur+=4,Je[pr]=ur,ur;_e.test(cr.shrn(1))||(ur+=2);var gr;switch(ar){case"02":cr.mod(Me).cmp($e)&&(ur+=8);break;case"05":gr=cr.mod(ke),gr.cmp(Ce)&&gr.cmp(Be)&&(ur+=8);break;default:ur+=4}return Je[pr]=ur,ur}function rr(cr,or,ar){this.setGenerator(or),this.__prime=new Re(cr),this._prime=Re.mont(this.__prime),this._primeLen=cr.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,ar?(this.setPublicKey=We,this.setPrivateKey=Ke):this._primeCode=8}Object.defineProperty(rr.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=Qe(this.__prime,this.__gen)),this._primeCode}}),rr.prototype.generateKeys=function(){return this._priv||(this._priv=new Re(He(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},rr.prototype.computeSecret=function(cr){cr=new Re(cr),cr=cr.toRed(this._prime);var or=cr.redPow(this._priv).fromRed(),ar=new Buffer$B(or.toArray()),pr=this.getPrime();if(ar.length<pr.length){var ur=new Buffer$B(pr.length-ar.length);ur.fill(0),ar=Buffer$B.concat([ur,ar])}return ar},rr.prototype.getPublicKey=function(or){return tr(this._pub,or)},rr.prototype.getPrivateKey=function(or){return tr(this._priv,or)},rr.prototype.getPrime=function(cr){return tr(this.__prime,cr)},rr.prototype.getGenerator=function(cr){return tr(this._gen,cr)},rr.prototype.setGenerator=function(cr,or){return or=or||"utf8",Buffer$B.isBuffer(cr)||(cr=new Buffer$B(cr,or)),this.__gen=cr,this._gen=new Re(cr),this};function tr(cr,or){var ar=new Buffer$B(cr.toArray());return or?ar.toString(or):ar}return dh}var hasRequiredBrowser$2;function requireBrowser$2(){if(hasRequiredBrowser$2)return browser$7;hasRequiredBrowser$2=1;var Re=requireGeneratePrime(),je=require$$1$1,_e=requireDh();function Me(Ce){var Be=new Buffer$B(je[Ce].prime,"hex"),qe=new Buffer$B(je[Ce].gen,"hex");return new _e(Be,qe)}var $e={binary:!0,hex:!0,base64:!0};function ke(Ce,Be,qe,He){return Buffer$B.isBuffer(Be)||$e[Be]===void 0?ke(Ce,"binary",Be,qe):(Be=Be||"binary",He=He||"binary",qe=qe||new Buffer$B([2]),Buffer$B.isBuffer(qe)||(qe=new Buffer$B(qe,He)),typeof Ce=="number"?new _e(Re(Ce,qe),qe,!0):(Buffer$B.isBuffer(Ce)||(Ce=new Buffer$B(Ce,Be)),new _e(Ce,qe,!0)))}return browser$7.DiffieHellmanGroup=browser$7.createDiffieHellmanGroup=browser$7.getDiffieHellman=Me,browser$7.createDiffieHellman=browser$7.DiffieHellman=ke,browser$7}var readableBrowser={exports:{}},processNextickArgs={exports:{}};typeof process$1>"u"||!process$1.version||process$1.version.indexOf("v0.")===0||process$1.version.indexOf("v1.")===0&&process$1.version.indexOf("v1.8.")!==0?processNextickArgs.exports={nextTick}:processNextickArgs.exports=process$1;function nextTick(Re,je,_e,Me){if(typeof Re!="function")throw new TypeError('"callback" argument must be a function');var $e=arguments.length,ke,Ce;switch($e){case 0:case 1:return process$1.nextTick(Re);case 2:return process$1.nextTick(function(){Re.call(null,je)});case 3:return process$1.nextTick(function(){Re.call(null,je,_e)});case 4:return process$1.nextTick(function(){Re.call(null,je,_e,Me)});default:for(ke=new Array($e-1),Ce=0;Ce<ke.length;)ke[Ce++]=arguments[Ce];return process$1.nextTick(function(){Re.apply(null,ke)})}}var processNextickArgsExports=processNextickArgs.exports,toString$2={}.toString,isarray=Array.isArray||function(Re){return toString$2.call(Re)=="[object Array]"},streamBrowser=eventsExports.EventEmitter,safeBuffer$1={exports:{}};(function(Re,je){var _e=require$$0$3,Me=_e.Buffer;function $e(Ce,Be){for(var qe in Ce)Be[qe]=Ce[qe]}Me.from&&Me.alloc&&Me.allocUnsafe&&Me.allocUnsafeSlow?Re.exports=_e:($e(_e,je),je.Buffer=ke);function ke(Ce,Be,qe){return Me(Ce,Be,qe)}$e(Me,ke),ke.from=function(Ce,Be,qe){if(typeof Ce=="number")throw new TypeError("Argument must not be a number");return Me(Ce,Be,qe)},ke.alloc=function(Ce,Be,qe){if(typeof Ce!="number")throw new TypeError("Argument must be a number");var He=Me(Ce);return Be!==void 0?typeof qe=="string"?He.fill(Be,qe):He.fill(Be):He.fill(0),He},ke.allocUnsafe=function(Ce){if(typeof Ce!="number")throw new TypeError("Argument must be a number");return Me(Ce)},ke.allocUnsafeSlow=function(Ce){if(typeof Ce!="number")throw new TypeError("Argument must be a number");return _e.SlowBuffer(Ce)}})(safeBuffer$1,safeBuffer$1.exports);var safeBufferExports=safeBuffer$1.exports,util$2={};function isArray$e(Re){return Array.isArray?Array.isArray(Re):objectToString$2(Re)==="[object Array]"}util$2.isArray=isArray$e;function isBoolean(Re){return typeof Re=="boolean"}util$2.isBoolean=isBoolean;function isNull(Re){return Re===null}util$2.isNull=isNull;function isNullOrUndefined(Re){return Re==null}util$2.isNullOrUndefined=isNullOrUndefined;function isNumber$1(Re){return typeof Re=="number"}util$2.isNumber=isNumber$1;function isString(Re){return typeof Re=="string"}util$2.isString=isString;function isSymbol$6(Re){return typeof Re=="symbol"}util$2.isSymbol=isSymbol$6;function isUndefined(Re){return Re===void 0}util$2.isUndefined=isUndefined;function isRegExp(Re){return objectToString$2(Re)==="[object RegExp]"}util$2.isRegExp=isRegExp;function isObject$b(Re){return typeof Re=="object"&&Re!==null}util$2.isObject=isObject$b;function isDate(Re){return objectToString$2(Re)==="[object Date]"}util$2.isDate=isDate;function isError(Re){return objectToString$2(Re)==="[object Error]"||Re instanceof Error}util$2.isError=isError;function isFunction$6(Re){return typeof Re=="function"}util$2.isFunction=isFunction$6;function isPrimitive(Re){return Re===null||typeof Re=="boolean"||typeof Re=="number"||typeof Re=="string"||typeof Re=="symbol"||typeof Re>"u"}util$2.isPrimitive=isPrimitive;util$2.isBuffer=require$$0$3.Buffer.isBuffer;function objectToString$2(Re){return Object.prototype.toString.call(Re)}var BufferList={exports:{}},hasRequiredBufferList;function requireBufferList(){return hasRequiredBufferList||(hasRequiredBufferList=1,function(Re){function je(ke,Ce){if(!(ke instanceof Ce))throw new TypeError("Cannot call a class as a function")}var _e=safeBufferExports.Buffer,Me=util$3;function $e(ke,Ce,Be){ke.copy(Ce,Be)}Re.exports=function(){function ke(){je(this,ke),this.head=null,this.tail=null,this.length=0}return ke.prototype.push=function(Be){var qe={data:Be,next:null};this.length>0?this.tail.next=qe:this.head=qe,this.tail=qe,++this.length},ke.prototype.unshift=function(Be){var qe={data:Be,next:this.head};this.length===0&&(this.tail=qe),this.head=qe,++this.length},ke.prototype.shift=function(){if(this.length!==0){var Be=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,Be}},ke.prototype.clear=function(){this.head=this.tail=null,this.length=0},ke.prototype.join=function(Be){if(this.length===0)return"";for(var qe=this.head,He=""+qe.data;qe=qe.next;)He+=Be+qe.data;return He},ke.prototype.concat=function(Be){if(this.length===0)return _e.alloc(0);for(var qe=_e.allocUnsafe(Be>>>0),He=this.head,We=0;He;)$e(He.data,qe,We),We+=He.data.length,He=He.next;return qe},ke}(),Me&&Me.inspect&&Me.inspect.custom&&(Re.exports.prototype[Me.inspect.custom]=function(){var ke=Me.inspect({length:this.length});return this.constructor.name+" "+ke})}(BufferList)),BufferList.exports}var pna=processNextickArgsExports;function destroy(Re,je){var _e=this,Me=this._readableState&&this._readableState.destroyed,$e=this._writableState&&this._writableState.destroyed;return Me||$e?(je?je(Re):Re&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,pna.nextTick(emitErrorNT,this,Re)):pna.nextTick(emitErrorNT,this,Re)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(Re||null,function(ke){!je&&ke?_e._writableState?_e._writableState.errorEmitted||(_e._writableState.errorEmitted=!0,pna.nextTick(emitErrorNT,_e,ke)):pna.nextTick(emitErrorNT,_e,ke):je&&je(ke)}),this)}function undestroy(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function emitErrorNT(Re,je){Re.emit("error",je)}var destroy_1={destroy,undestroy},_stream_writable,hasRequired_stream_writable;function require_stream_writable(){if(hasRequired_stream_writable)return _stream_writable;hasRequired_stream_writable=1;var Re=processNextickArgsExports;_stream_writable=tr;function je(Ze){var er=this;this.next=null,this.entry=null,this.finish=function(){Ge(er,Ze)}}var _e=!process$1.browser&&["v0.10","v0.9."].indexOf(process$1.version.slice(0,5))>-1?setImmediate:Re.nextTick,Me;tr.WritableState=Qe;var $e=Object.create(util$2);$e.inherits=inherits_browserExports;var ke={deprecate:browser$e},Ce=streamBrowser,Be=safeBufferExports.Buffer,qe=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function He(Ze){return Be.from(Ze)}function We(Ze){return Be.isBuffer(Ze)||Ze instanceof qe}var Ke=destroy_1;$e.inherits(tr,Ce);function Je(){}function Qe(Ze,er){Me=Me||require_stream_duplex(),Ze=Ze||{};var Ve=er instanceof Me;this.objectMode=!!Ze.objectMode,Ve&&(this.objectMode=this.objectMode||!!Ze.writableObjectMode);var Ie=Ze.highWaterMark,Ye=Ze.writableHighWaterMark,ir=this.objectMode?16:16*1024;Ie||Ie===0?this.highWaterMark=Ie:Ve&&(Ye||Ye===0)?this.highWaterMark=Ye:this.highWaterMark=ir,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var lr=Ze.decodeStrings===!1;this.decodeStrings=!lr,this.defaultEncoding=Ze.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(br){vr(er,br)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new je(this)}Qe.prototype.getBuffer=function(){for(var er=this.bufferedRequest,Ve=[];er;)Ve.push(er),er=er.next;return Ve},function(){try{Object.defineProperty(Qe.prototype,"buffer",{get:ke.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var rr;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(rr=Function.prototype[Symbol.hasInstance],Object.defineProperty(tr,Symbol.hasInstance,{value:function(Ze){return rr.call(this,Ze)?!0:this!==tr?!1:Ze&&Ze._writableState instanceof Qe}})):rr=function(Ze){return Ze instanceof this};function tr(Ze){if(Me=Me||require_stream_duplex(),!rr.call(tr,this)&&!(this instanceof Me))return new tr(Ze);this._writableState=new Qe(Ze,this),this.writable=!0,Ze&&(typeof Ze.write=="function"&&(this._write=Ze.write),typeof Ze.writev=="function"&&(this._writev=Ze.writev),typeof Ze.destroy=="function"&&(this._destroy=Ze.destroy),typeof Ze.final=="function"&&(this._final=Ze.final)),Ce.call(this)}tr.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function cr(Ze,er){var Ve=new Error("write after end");Ze.emit("error",Ve),Re.nextTick(er,Ve)}function or(Ze,er,Ve,Ie){var Ye=!0,ir=!1;return Ve===null?ir=new TypeError("May not write null values to stream"):typeof Ve!="string"&&Ve!==void 0&&!er.objectMode&&(ir=new TypeError("Invalid non-string/buffer chunk")),ir&&(Ze.emit("error",ir),Re.nextTick(Ie,ir),Ye=!1),Ye}tr.prototype.write=function(Ze,er,Ve){var Ie=this._writableState,Ye=!1,ir=!Ie.objectMode&&We(Ze);return ir&&!Be.isBuffer(Ze)&&(Ze=He(Ze)),typeof er=="function"&&(Ve=er,er=null),ir?er="buffer":er||(er=Ie.defaultEncoding),typeof Ve!="function"&&(Ve=Je),Ie.ended?cr(this,Ve):(ir||or(this,Ie,Ze,Ve))&&(Ie.pendingcb++,Ye=pr(this,Ie,ir,Ze,er,Ve)),Ye},tr.prototype.cork=function(){var Ze=this._writableState;Ze.corked++},tr.prototype.uncork=function(){var Ze=this._writableState;Ze.corked&&(Ze.corked--,!Ze.writing&&!Ze.corked&&!Ze.bufferProcessing&&Ze.bufferedRequest&&Rr(this,Ze))},tr.prototype.setDefaultEncoding=function(er){if(typeof er=="string"&&(er=er.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((er+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+er);return this._writableState.defaultEncoding=er,this};function ar(Ze,er,Ve){return!Ze.objectMode&&Ze.decodeStrings!==!1&&typeof er=="string"&&(er=Be.from(er,Ve)),er}Object.defineProperty(tr.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function pr(Ze,er,Ve,Ie,Ye,ir){if(!Ve){var lr=ar(er,Ie,Ye);Ie!==lr&&(Ve=!0,Ye="buffer",Ie=lr)}var br=er.objectMode?1:Ie.length;er.length+=br;var _r=er.length<er.highWaterMark;if(_r||(er.needDrain=!0),er.writing||er.corked){var Sr=er.lastBufferedRequest;er.lastBufferedRequest={chunk:Ie,encoding:Ye,isBuf:Ve,callback:ir,next:null},Sr?Sr.next=er.lastBufferedRequest:er.bufferedRequest=er.lastBufferedRequest,er.bufferedRequestCount+=1}else ur(Ze,er,!1,br,Ie,Ye,ir);return _r}function ur(Ze,er,Ve,Ie,Ye,ir,lr){er.writelen=Ie,er.writecb=lr,er.writing=!0,er.sync=!0,Ve?Ze._writev(Ye,er.onwrite):Ze._write(Ye,ir,er.onwrite),er.sync=!1}function gr(Ze,er,Ve,Ie,Ye){--er.pendingcb,Ve?(Re.nextTick(Ye,Ie),Re.nextTick(ze,Ze,er),Ze._writableState.errorEmitted=!0,Ze.emit("error",Ie)):(Ye(Ie),Ze._writableState.errorEmitted=!0,Ze.emit("error",Ie),ze(Ze,er))}function jr(Ze){Ze.writing=!1,Ze.writecb=null,Ze.length-=Ze.writelen,Ze.writelen=0}function vr(Ze,er){var Ve=Ze._writableState,Ie=Ve.sync,Ye=Ve.writecb;if(jr(Ve),er)gr(Ze,Ve,Ie,er,Ye);else{var ir=Xe(Ve);!ir&&!Ve.corked&&!Ve.bufferProcessing&&Ve.bufferedRequest&&Rr(Ze,Ve),Ie?_e(dr,Ze,Ve,ir,Ye):dr(Ze,Ve,ir,Ye)}}function dr(Ze,er,Ve,Ie){Ve||xr(Ze,er),er.pendingcb--,Ie(),ze(Ze,er)}function xr(Ze,er){er.length===0&&er.needDrain&&(er.needDrain=!1,Ze.emit("drain"))}function Rr(Ze,er){er.bufferProcessing=!0;var Ve=er.bufferedRequest;if(Ze._writev&&Ve&&Ve.next){var Ie=er.bufferedRequestCount,Ye=new Array(Ie),ir=er.corkedRequestsFree;ir.entry=Ve;for(var lr=0,br=!0;Ve;)Ye[lr]=Ve,Ve.isBuf||(br=!1),Ve=Ve.next,lr+=1;Ye.allBuffers=br,ur(Ze,er,!0,er.length,Ye,"",ir.finish),er.pendingcb++,er.lastBufferedRequest=null,ir.next?(er.corkedRequestsFree=ir.next,ir.next=null):er.corkedRequestsFree=new je(er),er.bufferedRequestCount=0}else{for(;Ve;){var _r=Ve.chunk,Sr=Ve.encoding,wr=Ve.callback,Nr=er.objectMode?1:_r.length;if(ur(Ze,er,!1,Nr,_r,Sr,wr),Ve=Ve.next,er.bufferedRequestCount--,er.writing)break}Ve===null&&(er.lastBufferedRequest=null)}er.bufferedRequest=Ve,er.bufferProcessing=!1}tr.prototype._write=function(Ze,er,Ve){Ve(new Error("_write() is not implemented"))},tr.prototype._writev=null,tr.prototype.end=function(Ze,er,Ve){var Ie=this._writableState;typeof Ze=="function"?(Ve=Ze,Ze=null,er=null):typeof er=="function"&&(Ve=er,er=null),Ze!=null&&this.write(Ze,er),Ie.corked&&(Ie.corked=1,this.uncork()),Ie.ending||Ue(this,Ie,Ve)};function Xe(Ze){return Ze.ending&&Ze.length===0&&Ze.bufferedRequest===null&&!Ze.finished&&!Ze.writing}function Pe(Ze,er){Ze._final(function(Ve){er.pendingcb--,Ve&&Ze.emit("error",Ve),er.prefinished=!0,Ze.emit("prefinish"),ze(Ze,er)})}function Fe(Ze,er){!er.prefinished&&!er.finalCalled&&(typeof Ze._final=="function"?(er.pendingcb++,er.finalCalled=!0,Re.nextTick(Pe,Ze,er)):(er.prefinished=!0,Ze.emit("prefinish")))}function ze(Ze,er){var Ve=Xe(er);return Ve&&(Fe(Ze,er),er.pendingcb===0&&(er.finished=!0,Ze.emit("finish"))),Ve}function Ue(Ze,er,Ve){er.ending=!0,ze(Ze,er),Ve&&(er.finished?Re.nextTick(Ve):Ze.once("finish",Ve)),er.ended=!0,Ze.writable=!1}function Ge(Ze,er,Ve){var Ie=Ze.entry;for(Ze.entry=null;Ie;){var Ye=Ie.callback;er.pendingcb--,Ye(Ve),Ie=Ie.next}er.corkedRequestsFree.next=Ze}return Object.defineProperty(tr.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(Ze){this._writableState&&(this._writableState.destroyed=Ze)}}),tr.prototype.destroy=Ke.destroy,tr.prototype._undestroy=Ke.undestroy,tr.prototype._destroy=function(Ze,er){this.end(),er(Ze)},_stream_writable}var _stream_duplex,hasRequired_stream_duplex;function require_stream_duplex(){if(hasRequired_stream_duplex)return _stream_duplex;hasRequired_stream_duplex=1;var Re=processNextickArgsExports,je=Object.keys||function(Ke){var Je=[];for(var Qe in Ke)Je.push(Qe);return Je};_stream_duplex=qe;var _e=Object.create(util$2);_e.inherits=inherits_browserExports;var Me=require_stream_readable(),$e=require_stream_writable();_e.inherits(qe,Me);for(var ke=je($e.prototype),Ce=0;Ce<ke.length;Ce++){var Be=ke[Ce];qe.prototype[Be]||(qe.prototype[Be]=$e.prototype[Be])}function qe(Ke){if(!(this instanceof qe))return new qe(Ke);Me.call(this,Ke),$e.call(this,Ke),Ke&&Ke.readable===!1&&(this.readable=!1),Ke&&Ke.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,Ke&&Ke.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",He)}Object.defineProperty(qe.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function He(){this.allowHalfOpen||this._writableState.ended||Re.nextTick(We,this)}function We(Ke){Ke.end()}return Object.defineProperty(qe.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(Ke){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=Ke,this._writableState.destroyed=Ke)}}),qe.prototype._destroy=function(Ke,Je){this.push(null),this.end(),Re.nextTick(Je,Ke)},_stream_duplex}var _stream_readable,hasRequired_stream_readable;function require_stream_readable(){if(hasRequired_stream_readable)return _stream_readable;hasRequired_stream_readable=1;var Re=processNextickArgsExports;_stream_readable=ar;var je=isarray,_e;ar.ReadableState=or,eventsExports.EventEmitter;var Me=function(wr,Nr){return wr.listeners(Nr).length},$e=streamBrowser,ke=safeBufferExports.Buffer,Ce=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function Be(wr){return ke.from(wr)}function qe(wr){return ke.isBuffer(wr)||wr instanceof Ce}var He=Object.create(util$2);He.inherits=inherits_browserExports;var We=util$3,Ke=void 0;We&&We.debuglog?Ke=We.debuglog("stream"):Ke=function(){};var Je=requireBufferList(),Qe=destroy_1,rr;He.inherits(ar,$e);var tr=["error","close","destroy","pause","resume"];function cr(wr,Nr,kr){if(typeof wr.prependListener=="function")return wr.prependListener(Nr,kr);!wr._events||!wr._events[Nr]?wr.on(Nr,kr):je(wr._events[Nr])?wr._events[Nr].unshift(kr):wr._events[Nr]=[kr,wr._events[Nr]]}function or(wr,Nr){_e=_e||require_stream_duplex(),wr=wr||{};var kr=Nr instanceof _e;this.objectMode=!!wr.objectMode,kr&&(this.objectMode=this.objectMode||!!wr.readableObjectMode);var Lr=wr.highWaterMark,Xr=wr.readableHighWaterMark,Ur=this.objectMode?16:16*1024;Lr||Lr===0?this.highWaterMark=Lr:kr&&(Xr||Xr===0)?this.highWaterMark=Xr:this.highWaterMark=Ur,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new Je,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=wr.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,wr.encoding&&(rr||(rr=string_decoder.StringDecoder),this.decoder=new rr(wr.encoding),this.encoding=wr.encoding)}function ar(wr){if(_e=_e||require_stream_duplex(),!(this instanceof ar))return new ar(wr);this._readableState=new or(wr,this),this.readable=!0,wr&&(typeof wr.read=="function"&&(this._read=wr.read),typeof wr.destroy=="function"&&(this._destroy=wr.destroy)),$e.call(this)}Object.defineProperty(ar.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(wr){this._readableState&&(this._readableState.destroyed=wr)}}),ar.prototype.destroy=Qe.destroy,ar.prototype._undestroy=Qe.undestroy,ar.prototype._destroy=function(wr,Nr){this.push(null),Nr(wr)},ar.prototype.push=function(wr,Nr){var kr=this._readableState,Lr;return kr.objectMode?Lr=!0:typeof wr=="string"&&(Nr=Nr||kr.defaultEncoding,Nr!==kr.encoding&&(wr=ke.from(wr,Nr),Nr=""),Lr=!0),pr(this,wr,Nr,!1,Lr)},ar.prototype.unshift=function(wr){return pr(this,wr,null,!0,!1)};function pr(wr,Nr,kr,Lr,Xr){var Ur=wr._readableState;if(Nr===null)Ur.reading=!1,Rr(wr,Ur);else{var Gr;Xr||(Gr=gr(Ur,Nr)),Gr?wr.emit("error",Gr):Ur.objectMode||Nr&&Nr.length>0?(typeof Nr!="string"&&!Ur.objectMode&&Object.getPrototypeOf(Nr)!==ke.prototype&&(Nr=Be(Nr)),Lr?Ur.endEmitted?wr.emit("error",new Error("stream.unshift() after end event")):ur(wr,Ur,Nr,!0):Ur.ended?wr.emit("error",new Error("stream.push() after EOF")):(Ur.reading=!1,Ur.decoder&&!kr?(Nr=Ur.decoder.write(Nr),Ur.objectMode||Nr.length!==0?ur(wr,Ur,Nr,!1):Fe(wr,Ur)):ur(wr,Ur,Nr,!1))):Lr||(Ur.reading=!1)}return jr(Ur)}function ur(wr,Nr,kr,Lr){Nr.flowing&&Nr.length===0&&!Nr.sync?(wr.emit("data",kr),wr.read(0)):(Nr.length+=Nr.objectMode?1:kr.length,Lr?Nr.buffer.unshift(kr):Nr.buffer.push(kr),Nr.needReadable&&Xe(wr)),Fe(wr,Nr)}function gr(wr,Nr){var kr;return!qe(Nr)&&typeof Nr!="string"&&Nr!==void 0&&!wr.objectMode&&(kr=new TypeError("Invalid non-string/buffer chunk")),kr}function jr(wr){return!wr.ended&&(wr.needReadable||wr.length<wr.highWaterMark||wr.length===0)}ar.prototype.isPaused=function(){return this._readableState.flowing===!1},ar.prototype.setEncoding=function(wr){return rr||(rr=string_decoder.StringDecoder),this._readableState.decoder=new rr(wr),this._readableState.encoding=wr,this};var vr=8388608;function dr(wr){return wr>=vr?wr=vr:(wr--,wr|=wr>>>1,wr|=wr>>>2,wr|=wr>>>4,wr|=wr>>>8,wr|=wr>>>16,wr++),wr}function xr(wr,Nr){return wr<=0||Nr.length===0&&Nr.ended?0:Nr.objectMode?1:wr!==wr?Nr.flowing&&Nr.length?Nr.buffer.head.data.length:Nr.length:(wr>Nr.highWaterMark&&(Nr.highWaterMark=dr(wr)),wr<=Nr.length?wr:Nr.ended?Nr.length:(Nr.needReadable=!0,0))}ar.prototype.read=function(wr){Ke("read",wr),wr=parseInt(wr,10);var Nr=this._readableState,kr=wr;if(wr!==0&&(Nr.emittedReadable=!1),wr===0&&Nr.needReadable&&(Nr.length>=Nr.highWaterMark||Nr.ended))return Ke("read: emitReadable",Nr.length,Nr.ended),Nr.length===0&&Nr.ended?br(this):Xe(this),null;if(wr=xr(wr,Nr),wr===0&&Nr.ended)return Nr.length===0&&br(this),null;var Lr=Nr.needReadable;Ke("need readable",Lr),(Nr.length===0||Nr.length-wr<Nr.highWaterMark)&&(Lr=!0,Ke("length less than watermark",Lr)),Nr.ended||Nr.reading?(Lr=!1,Ke("reading or ended",Lr)):Lr&&(Ke("do read"),Nr.reading=!0,Nr.sync=!0,Nr.length===0&&(Nr.needReadable=!0),this._read(Nr.highWaterMark),Nr.sync=!1,Nr.reading||(wr=xr(kr,Nr)));var Xr;return wr>0?Xr=Ie(wr,Nr):Xr=null,Xr===null?(Nr.needReadable=!0,wr=0):Nr.length-=wr,Nr.length===0&&(Nr.ended||(Nr.needReadable=!0),kr!==wr&&Nr.ended&&br(this)),Xr!==null&&this.emit("data",Xr),Xr};function Rr(wr,Nr){if(!Nr.ended){if(Nr.decoder){var kr=Nr.decoder.end();kr&&kr.length&&(Nr.buffer.push(kr),Nr.length+=Nr.objectMode?1:kr.length)}Nr.ended=!0,Xe(wr)}}function Xe(wr){var Nr=wr._readableState;Nr.needReadable=!1,Nr.emittedReadable||(Ke("emitReadable",Nr.flowing),Nr.emittedReadable=!0,Nr.sync?Re.nextTick(Pe,wr):Pe(wr))}function Pe(wr){Ke("emit readable"),wr.emit("readable"),Ve(wr)}function Fe(wr,Nr){Nr.readingMore||(Nr.readingMore=!0,Re.nextTick(ze,wr,Nr))}function ze(wr,Nr){for(var kr=Nr.length;!Nr.reading&&!Nr.flowing&&!Nr.ended&&Nr.length<Nr.highWaterMark&&(Ke("maybeReadMore read 0"),wr.read(0),kr!==Nr.length);)kr=Nr.length;Nr.readingMore=!1}ar.prototype._read=function(wr){this.emit("error",new Error("_read() is not implemented"))},ar.prototype.pipe=function(wr,Nr){var kr=this,Lr=this._readableState;switch(Lr.pipesCount){case 0:Lr.pipes=wr;break;case 1:Lr.pipes=[Lr.pipes,wr];break;default:Lr.pipes.push(wr);break}Lr.pipesCount+=1,Ke("pipe count=%d opts=%j",Lr.pipesCount,Nr);var Xr=(!Nr||Nr.end!==!1)&&wr!==process$1.stdout&&wr!==process$1.stderr,Ur=Xr?Ts:ss;Lr.endEmitted?Re.nextTick(Ur):kr.once("end",Ur),wr.on("unpipe",Gr);function Gr(Vr,Zr){Ke("onunpipe"),Vr===kr&&Zr&&Zr.hasUnpiped===!1&&(Zr.hasUnpiped=!0,qs())}function Ts(){Ke("onend"),wr.end()}var Br=Ue(kr);wr.on("drain",Br);var Cr=!1;function qs(){Ke("cleanup"),wr.removeListener("close",qr),wr.removeListener("finish",Hr),wr.removeListener("drain",Br),wr.removeListener("error",Kr),wr.removeListener("unpipe",Gr),kr.removeListener("end",Ts),kr.removeListener("end",ss),kr.removeListener("data",Tr),Cr=!0,Lr.awaitDrain&&(!wr._writableState||wr._writableState.needDrain)&&Br()}var $r=!1;kr.on("data",Tr);function Tr(Vr){Ke("ondata"),$r=!1;var Zr=wr.write(Vr);Zr===!1&&!$r&&((Lr.pipesCount===1&&Lr.pipes===wr||Lr.pipesCount>1&&Sr(Lr.pipes,wr)!==-1)&&!Cr&&(Ke("false write response, pause",Lr.awaitDrain),Lr.awaitDrain++,$r=!0),kr.pause())}function Kr(Vr){Ke("onerror",Vr),ss(),wr.removeListener("error",Kr),Me(wr,"error")===0&&wr.emit("error",Vr)}cr(wr,"error",Kr);function qr(){wr.removeListener("finish",Hr),ss()}wr.once("close",qr);function Hr(){Ke("onfinish"),wr.removeListener("close",qr),ss()}wr.once("finish",Hr);function ss(){Ke("unpipe"),kr.unpipe(wr)}return wr.emit("pipe",kr),Lr.flowing||(Ke("pipe resume"),kr.resume()),wr};function Ue(wr){return function(){var Nr=wr._readableState;Ke("pipeOnDrain",Nr.awaitDrain),Nr.awaitDrain&&Nr.awaitDrain--,Nr.awaitDrain===0&&Me(wr,"data")&&(Nr.flowing=!0,Ve(wr))}}ar.prototype.unpipe=function(wr){var Nr=this._readableState,kr={hasUnpiped:!1};if(Nr.pipesCount===0)return this;if(Nr.pipesCount===1)return wr&&wr!==Nr.pipes?this:(wr||(wr=Nr.pipes),Nr.pipes=null,Nr.pipesCount=0,Nr.flowing=!1,wr&&wr.emit("unpipe",this,kr),this);if(!wr){var Lr=Nr.pipes,Xr=Nr.pipesCount;Nr.pipes=null,Nr.pipesCount=0,Nr.flowing=!1;for(var Ur=0;Ur<Xr;Ur++)Lr[Ur].emit("unpipe",this,{hasUnpiped:!1});return this}var Gr=Sr(Nr.pipes,wr);return Gr===-1?this:(Nr.pipes.splice(Gr,1),Nr.pipesCount-=1,Nr.pipesCount===1&&(Nr.pipes=Nr.pipes[0]),wr.emit("unpipe",this,kr),this)},ar.prototype.on=function(wr,Nr){var kr=$e.prototype.on.call(this,wr,Nr);if(wr==="data")this._readableState.flowing!==!1&&this.resume();else if(wr==="readable"){var Lr=this._readableState;!Lr.endEmitted&&!Lr.readableListening&&(Lr.readableListening=Lr.needReadable=!0,Lr.emittedReadable=!1,Lr.reading?Lr.length&&Xe(this):Re.nextTick(Ge,this))}return kr},ar.prototype.addListener=ar.prototype.on;function Ge(wr){Ke("readable nexttick read 0"),wr.read(0)}ar.prototype.resume=function(){var wr=this._readableState;return wr.flowing||(Ke("resume"),wr.flowing=!0,Ze(this,wr)),this};function Ze(wr,Nr){Nr.resumeScheduled||(Nr.resumeScheduled=!0,Re.nextTick(er,wr,Nr))}function er(wr,Nr){Nr.reading||(Ke("resume read 0"),wr.read(0)),Nr.resumeScheduled=!1,Nr.awaitDrain=0,wr.emit("resume"),Ve(wr),Nr.flowing&&!Nr.reading&&wr.read(0)}ar.prototype.pause=function(){return Ke("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Ke("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function Ve(wr){var Nr=wr._readableState;for(Ke("flow",Nr.flowing);Nr.flowing&&wr.read()!==null;);}ar.prototype.wrap=function(wr){var Nr=this,kr=this._readableState,Lr=!1;wr.on("end",function(){if(Ke("wrapped end"),kr.decoder&&!kr.ended){var Gr=kr.decoder.end();Gr&&Gr.length&&Nr.push(Gr)}Nr.push(null)}),wr.on("data",function(Gr){if(Ke("wrapped data"),kr.decoder&&(Gr=kr.decoder.write(Gr)),!(kr.objectMode&&Gr==null)&&!(!kr.objectMode&&(!Gr||!Gr.length))){var Ts=Nr.push(Gr);Ts||(Lr=!0,wr.pause())}});for(var Xr in wr)this[Xr]===void 0&&typeof wr[Xr]=="function"&&(this[Xr]=function(Gr){return function(){return wr[Gr].apply(wr,arguments)}}(Xr));for(var Ur=0;Ur<tr.length;Ur++)wr.on(tr[Ur],this.emit.bind(this,tr[Ur]));return this._read=function(Gr){Ke("wrapped _read",Gr),Lr&&(Lr=!1,wr.resume())},this},Object.defineProperty(ar.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),ar._fromList=Ie;function Ie(wr,Nr){if(Nr.length===0)return null;var kr;return Nr.objectMode?kr=Nr.buffer.shift():!wr||wr>=Nr.length?(Nr.decoder?kr=Nr.buffer.join(""):Nr.buffer.length===1?kr=Nr.buffer.head.data:kr=Nr.buffer.concat(Nr.length),Nr.buffer.clear()):kr=Ye(wr,Nr.buffer,Nr.decoder),kr}function Ye(wr,Nr,kr){var Lr;return wr<Nr.head.data.length?(Lr=Nr.head.data.slice(0,wr),Nr.head.data=Nr.head.data.slice(wr)):wr===Nr.head.data.length?Lr=Nr.shift():Lr=kr?ir(wr,Nr):lr(wr,Nr),Lr}function ir(wr,Nr){var kr=Nr.head,Lr=1,Xr=kr.data;for(wr-=Xr.length;kr=kr.next;){var Ur=kr.data,Gr=wr>Ur.length?Ur.length:wr;if(Gr===Ur.length?Xr+=Ur:Xr+=Ur.slice(0,wr),wr-=Gr,wr===0){Gr===Ur.length?(++Lr,kr.next?Nr.head=kr.next:Nr.head=Nr.tail=null):(Nr.head=kr,kr.data=Ur.slice(Gr));break}++Lr}return Nr.length-=Lr,Xr}function lr(wr,Nr){var kr=ke.allocUnsafe(wr),Lr=Nr.head,Xr=1;for(Lr.data.copy(kr),wr-=Lr.data.length;Lr=Lr.next;){var Ur=Lr.data,Gr=wr>Ur.length?Ur.length:wr;if(Ur.copy(kr,kr.length-wr,0,Gr),wr-=Gr,wr===0){Gr===Ur.length?(++Xr,Lr.next?Nr.head=Lr.next:Nr.head=Nr.tail=null):(Nr.head=Lr,Lr.data=Ur.slice(Gr));break}++Xr}return Nr.length-=Xr,kr}function br(wr){var Nr=wr._readableState;if(Nr.length>0)throw new Error('"endReadable()" called on non-empty stream');Nr.endEmitted||(Nr.ended=!0,Re.nextTick(_r,Nr,wr))}function _r(wr,Nr){!wr.endEmitted&&wr.length===0&&(wr.endEmitted=!0,Nr.readable=!1,Nr.emit("end"))}function Sr(wr,Nr){for(var kr=0,Lr=wr.length;kr<Lr;kr++)if(wr[kr]===Nr)return kr;return-1}return _stream_readable}var _stream_transform=Transform$1,Duplex=require_stream_duplex(),util$1=Object.create(util$2);util$1.inherits=inherits_browserExports;util$1.inherits(Transform$1,Duplex);function afterTransform(Re,je){var _e=this._transformState;_e.transforming=!1;var Me=_e.writecb;if(!Me)return this.emit("error",new Error("write callback called multiple times"));_e.writechunk=null,_e.writecb=null,je!=null&&this.push(je),Me(Re);var $e=this._readableState;$e.reading=!1,($e.needReadable||$e.length<$e.highWaterMark)&&this._read($e.highWaterMark)}function Transform$1(Re){if(!(this instanceof Transform$1))return new Transform$1(Re);Duplex.call(this,Re),this._transformState={afterTransform:afterTransform.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,Re&&(typeof Re.transform=="function"&&(this._transform=Re.transform),typeof Re.flush=="function"&&(this._flush=Re.flush)),this.on("prefinish",prefinish)}function prefinish(){var Re=this;typeof this._flush=="function"?this._flush(function(je,_e){done(Re,je,_e)}):done(this,null,null)}Transform$1.prototype.push=function(Re,je){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,Re,je)};Transform$1.prototype._transform=function(Re,je,_e){throw new Error("_transform() is not implemented")};Transform$1.prototype._write=function(Re,je,_e){var Me=this._transformState;if(Me.writecb=_e,Me.writechunk=Re,Me.writeencoding=je,!Me.transforming){var $e=this._readableState;(Me.needTransform||$e.needReadable||$e.length<$e.highWaterMark)&&this._read($e.highWaterMark)}};Transform$1.prototype._read=function(Re){var je=this._transformState;je.writechunk!==null&&je.writecb&&!je.transforming?(je.transforming=!0,this._transform(je.writechunk,je.writeencoding,je.afterTransform)):je.needTransform=!0};Transform$1.prototype._destroy=function(Re,je){var _e=this;Duplex.prototype._destroy.call(this,Re,function(Me){je(Me),_e.emit("close")})};function done(Re,je,_e){if(je)return Re.emit("error",je);if(_e!=null&&Re.push(_e),Re._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(Re._transformState.transforming)throw new Error("Calling transform done when still transforming");return Re.push(null)}var _stream_passthrough=PassThrough,Transform=_stream_transform,util=Object.create(util$2);util.inherits=inherits_browserExports;util.inherits(PassThrough,Transform);function PassThrough(Re){if(!(this instanceof PassThrough))return new PassThrough(Re);Transform.call(this,Re)}PassThrough.prototype._transform=function(Re,je,_e){_e(null,Re)};(function(Re,je){je=Re.exports=require_stream_readable(),je.Stream=je,je.Readable=je,je.Writable=require_stream_writable(),je.Duplex=require_stream_duplex(),je.Transform=_stream_transform,je.PassThrough=_stream_passthrough})(readableBrowser,readableBrowser.exports);var readableBrowserExports=readableBrowser.exports,sign$2={exports:{}},bn$4={exports:{}};bn$4.exports;(function(Re){(function(je,_e){function Me(Fe,ze){if(!Fe)throw new Error(ze||"Assertion failed")}function $e(Fe,ze){Fe.super_=ze;var Ue=function(){};Ue.prototype=ze.prototype,Fe.prototype=new Ue,Fe.prototype.constructor=Fe}function ke(Fe,ze,Ue){if(ke.isBN(Fe))return Fe;this.negative=0,this.words=null,this.length=0,this.red=null,Fe!==null&&((ze==="le"||ze==="be")&&(Ue=ze,ze=10),this._init(Fe||0,ze||10,Ue||"be"))}typeof je=="object"?je.exports=ke:_e.BN=ke,ke.BN=ke,ke.wordSize=26;var Ce;try{typeof window<"u"&&typeof window.Buffer<"u"?Ce=window.Buffer:Ce=require$$0$3.Buffer}catch{}ke.isBN=function(ze){return ze instanceof ke?!0:ze!==null&&typeof ze=="object"&&ze.constructor.wordSize===ke.wordSize&&Array.isArray(ze.words)},ke.max=function(ze,Ue){return ze.cmp(Ue)>0?ze:Ue},ke.min=function(ze,Ue){return ze.cmp(Ue)<0?ze:Ue},ke.prototype._init=function(ze,Ue,Ge){if(typeof ze=="number")return this._initNumber(ze,Ue,Ge);if(typeof ze=="object")return this._initArray(ze,Ue,Ge);Ue==="hex"&&(Ue=16),Me(Ue===(Ue|0)&&Ue>=2&&Ue<=36),ze=ze.toString().replace(/\s+/g,"");var Ze=0;ze[0]==="-"&&(Ze++,this.negative=1),Ze<ze.length&&(Ue===16?this._parseHex(ze,Ze,Ge):(this._parseBase(ze,Ue,Ze),Ge==="le"&&this._initArray(this.toArray(),Ue,Ge)))},ke.prototype._initNumber=function(ze,Ue,Ge){ze<0&&(this.negative=1,ze=-ze),ze<67108864?(this.words=[ze&67108863],this.length=1):ze<4503599627370496?(this.words=[ze&67108863,ze/67108864&67108863],this.length=2):(Me(ze<9007199254740992),this.words=[ze&67108863,ze/67108864&67108863,1],this.length=3),Ge==="le"&&this._initArray(this.toArray(),Ue,Ge)},ke.prototype._initArray=function(ze,Ue,Ge){if(Me(typeof ze.length=="number"),ze.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(ze.length/3),this.words=new Array(this.length);for(var Ze=0;Ze<this.length;Ze++)this.words[Ze]=0;var er,Ve,Ie=0;if(Ge==="be")for(Ze=ze.length-1,er=0;Ze>=0;Ze-=3)Ve=ze[Ze]|ze[Ze-1]<<8|ze[Ze-2]<<16,this.words[er]|=Ve<<Ie&67108863,this.words[er+1]=Ve>>>26-Ie&67108863,Ie+=24,Ie>=26&&(Ie-=26,er++);else if(Ge==="le")for(Ze=0,er=0;Ze<ze.length;Ze+=3)Ve=ze[Ze]|ze[Ze+1]<<8|ze[Ze+2]<<16,this.words[er]|=Ve<<Ie&67108863,this.words[er+1]=Ve>>>26-Ie&67108863,Ie+=24,Ie>=26&&(Ie-=26,er++);return this._strip()};function Be(Fe,ze){var Ue=Fe.charCodeAt(ze);if(Ue>=48&&Ue<=57)return Ue-48;if(Ue>=65&&Ue<=70)return Ue-55;if(Ue>=97&&Ue<=102)return Ue-87;Me(!1,"Invalid character in "+Fe)}function qe(Fe,ze,Ue){var Ge=Be(Fe,Ue);return Ue-1>=ze&&(Ge|=Be(Fe,Ue-1)<<4),Ge}ke.prototype._parseHex=function(ze,Ue,Ge){this.length=Math.ceil((ze.length-Ue)/6),this.words=new Array(this.length);for(var Ze=0;Ze<this.length;Ze++)this.words[Ze]=0;var er=0,Ve=0,Ie;if(Ge==="be")for(Ze=ze.length-1;Ze>=Ue;Ze-=2)Ie=qe(ze,Ue,Ze)<<er,this.words[Ve]|=Ie&67108863,er>=18?(er-=18,Ve+=1,this.words[Ve]|=Ie>>>26):er+=8;else{var Ye=ze.length-Ue;for(Ze=Ye%2===0?Ue+1:Ue;Ze<ze.length;Ze+=2)Ie=qe(ze,Ue,Ze)<<er,this.words[Ve]|=Ie&67108863,er>=18?(er-=18,Ve+=1,this.words[Ve]|=Ie>>>26):er+=8}this._strip()};function He(Fe,ze,Ue,Ge){for(var Ze=0,er=0,Ve=Math.min(Fe.length,Ue),Ie=ze;Ie<Ve;Ie++){var Ye=Fe.charCodeAt(Ie)-48;Ze*=Ge,Ye>=49?er=Ye-49+10:Ye>=17?er=Ye-17+10:er=Ye,Me(Ye>=0&&er<Ge,"Invalid character"),Ze+=er}return Ze}ke.prototype._parseBase=function(ze,Ue,Ge){this.words=[0],this.length=1;for(var Ze=0,er=1;er<=67108863;er*=Ue)Ze++;Ze--,er=er/Ue|0;for(var Ve=ze.length-Ge,Ie=Ve%Ze,Ye=Math.min(Ve,Ve-Ie)+Ge,ir=0,lr=Ge;lr<Ye;lr+=Ze)ir=He(ze,lr,lr+Ze,Ue),this.imuln(er),this.words[0]+ir<67108864?this.words[0]+=ir:this._iaddn(ir);if(Ie!==0){var br=1;for(ir=He(ze,lr,ze.length,Ue),lr=0;lr<Ie;lr++)br*=Ue;this.imuln(br),this.words[0]+ir<67108864?this.words[0]+=ir:this._iaddn(ir)}this._strip()},ke.prototype.copy=function(ze){ze.words=new Array(this.length);for(var Ue=0;Ue<this.length;Ue++)ze.words[Ue]=this.words[Ue];ze.length=this.length,ze.negative=this.negative,ze.red=this.red};function We(Fe,ze){Fe.words=ze.words,Fe.length=ze.length,Fe.negative=ze.negative,Fe.red=ze.red}if(ke.prototype._move=function(ze){We(ze,this)},ke.prototype.clone=function(){var ze=new ke(null);return this.copy(ze),ze},ke.prototype._expand=function(ze){for(;this.length<ze;)this.words[this.length++]=0;return this},ke.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},ke.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{ke.prototype[Symbol.for("nodejs.util.inspect.custom")]=Ke}catch{ke.prototype.inspect=Ke}else ke.prototype.inspect=Ke;function Ke(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var Je=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Qe=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],rr=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];ke.prototype.toString=function(ze,Ue){ze=ze||10,Ue=Ue|0||1;var Ge;if(ze===16||ze==="hex"){Ge="";for(var Ze=0,er=0,Ve=0;Ve<this.length;Ve++){var Ie=this.words[Ve],Ye=((Ie<<Ze|er)&16777215).toString(16);er=Ie>>>24-Ze&16777215,Ze+=2,Ze>=26&&(Ze-=26,Ve--),er!==0||Ve!==this.length-1?Ge=Je[6-Ye.length]+Ye+Ge:Ge=Ye+Ge}for(er!==0&&(Ge=er.toString(16)+Ge);Ge.length%Ue!==0;)Ge="0"+Ge;return this.negative!==0&&(Ge="-"+Ge),Ge}if(ze===(ze|0)&&ze>=2&&ze<=36){var ir=Qe[ze],lr=rr[ze];Ge="";var br=this.clone();for(br.negative=0;!br.isZero();){var _r=br.modrn(lr).toString(ze);br=br.idivn(lr),br.isZero()?Ge=_r+Ge:Ge=Je[ir-_r.length]+_r+Ge}for(this.isZero()&&(Ge="0"+Ge);Ge.length%Ue!==0;)Ge="0"+Ge;return this.negative!==0&&(Ge="-"+Ge),Ge}Me(!1,"Base should be between 2 and 36")},ke.prototype.toNumber=function(){var ze=this.words[0];return this.length===2?ze+=this.words[1]*67108864:this.length===3&&this.words[2]===1?ze+=4503599627370496+this.words[1]*67108864:this.length>2&&Me(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-ze:ze},ke.prototype.toJSON=function(){return this.toString(16,2)},Ce&&(ke.prototype.toBuffer=function(ze,Ue){return this.toArrayLike(Ce,ze,Ue)}),ke.prototype.toArray=function(ze,Ue){return this.toArrayLike(Array,ze,Ue)};var tr=function(ze,Ue){return ze.allocUnsafe?ze.allocUnsafe(Ue):new ze(Ue)};ke.prototype.toArrayLike=function(ze,Ue,Ge){this._strip();var Ze=this.byteLength(),er=Ge||Math.max(1,Ze);Me(Ze<=er,"byte array longer than desired length"),Me(er>0,"Requested array length <= 0");var Ve=tr(ze,er),Ie=Ue==="le"?"LE":"BE";return this["_toArrayLike"+Ie](Ve,Ze),Ve},ke.prototype._toArrayLikeLE=function(ze,Ue){for(var Ge=0,Ze=0,er=0,Ve=0;er<this.length;er++){var Ie=this.words[er]<<Ve|Ze;ze[Ge++]=Ie&255,Ge<ze.length&&(ze[Ge++]=Ie>>8&255),Ge<ze.length&&(ze[Ge++]=Ie>>16&255),Ve===6?(Ge<ze.length&&(ze[Ge++]=Ie>>24&255),Ze=0,Ve=0):(Ze=Ie>>>24,Ve+=2)}if(Ge<ze.length)for(ze[Ge++]=Ze;Ge<ze.length;)ze[Ge++]=0},ke.prototype._toArrayLikeBE=function(ze,Ue){for(var Ge=ze.length-1,Ze=0,er=0,Ve=0;er<this.length;er++){var Ie=this.words[er]<<Ve|Ze;ze[Ge--]=Ie&255,Ge>=0&&(ze[Ge--]=Ie>>8&255),Ge>=0&&(ze[Ge--]=Ie>>16&255),Ve===6?(Ge>=0&&(ze[Ge--]=Ie>>24&255),Ze=0,Ve=0):(Ze=Ie>>>24,Ve+=2)}if(Ge>=0)for(ze[Ge--]=Ze;Ge>=0;)ze[Ge--]=0},Math.clz32?ke.prototype._countBits=function(ze){return 32-Math.clz32(ze)}:ke.prototype._countBits=function(ze){var Ue=ze,Ge=0;return Ue>=4096&&(Ge+=13,Ue>>>=13),Ue>=64&&(Ge+=7,Ue>>>=7),Ue>=8&&(Ge+=4,Ue>>>=4),Ue>=2&&(Ge+=2,Ue>>>=2),Ge+Ue},ke.prototype._zeroBits=function(ze){if(ze===0)return 26;var Ue=ze,Ge=0;return Ue&8191||(Ge+=13,Ue>>>=13),Ue&127||(Ge+=7,Ue>>>=7),Ue&15||(Ge+=4,Ue>>>=4),Ue&3||(Ge+=2,Ue>>>=2),Ue&1||Ge++,Ge},ke.prototype.bitLength=function(){var ze=this.words[this.length-1],Ue=this._countBits(ze);return(this.length-1)*26+Ue};function cr(Fe){for(var ze=new Array(Fe.bitLength()),Ue=0;Ue<ze.length;Ue++){var Ge=Ue/26|0,Ze=Ue%26;ze[Ue]=Fe.words[Ge]>>>Ze&1}return ze}ke.prototype.zeroBits=function(){if(this.isZero())return 0;for(var ze=0,Ue=0;Ue<this.length;Ue++){var Ge=this._zeroBits(this.words[Ue]);if(ze+=Ge,Ge!==26)break}return ze},ke.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},ke.prototype.toTwos=function(ze){return this.negative!==0?this.abs().inotn(ze).iaddn(1):this.clone()},ke.prototype.fromTwos=function(ze){return this.testn(ze-1)?this.notn(ze).iaddn(1).ineg():this.clone()},ke.prototype.isNeg=function(){return this.negative!==0},ke.prototype.neg=function(){return this.clone().ineg()},ke.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},ke.prototype.iuor=function(ze){for(;this.length<ze.length;)this.words[this.length++]=0;for(var Ue=0;Ue<ze.length;Ue++)this.words[Ue]=this.words[Ue]|ze.words[Ue];return this._strip()},ke.prototype.ior=function(ze){return Me((this.negative|ze.negative)===0),this.iuor(ze)},ke.prototype.or=function(ze){return this.length>ze.length?this.clone().ior(ze):ze.clone().ior(this)},ke.prototype.uor=function(ze){return this.length>ze.length?this.clone().iuor(ze):ze.clone().iuor(this)},ke.prototype.iuand=function(ze){var Ue;this.length>ze.length?Ue=ze:Ue=this;for(var Ge=0;Ge<Ue.length;Ge++)this.words[Ge]=this.words[Ge]&ze.words[Ge];return this.length=Ue.length,this._strip()},ke.prototype.iand=function(ze){return Me((this.negative|ze.negative)===0),this.iuand(ze)},ke.prototype.and=function(ze){return this.length>ze.length?this.clone().iand(ze):ze.clone().iand(this)},ke.prototype.uand=function(ze){return this.length>ze.length?this.clone().iuand(ze):ze.clone().iuand(this)},ke.prototype.iuxor=function(ze){var Ue,Ge;this.length>ze.length?(Ue=this,Ge=ze):(Ue=ze,Ge=this);for(var Ze=0;Ze<Ge.length;Ze++)this.words[Ze]=Ue.words[Ze]^Ge.words[Ze];if(this!==Ue)for(;Ze<Ue.length;Ze++)this.words[Ze]=Ue.words[Ze];return this.length=Ue.length,this._strip()},ke.prototype.ixor=function(ze){return Me((this.negative|ze.negative)===0),this.iuxor(ze)},ke.prototype.xor=function(ze){return this.length>ze.length?this.clone().ixor(ze):ze.clone().ixor(this)},ke.prototype.uxor=function(ze){return this.length>ze.length?this.clone().iuxor(ze):ze.clone().iuxor(this)},ke.prototype.inotn=function(ze){Me(typeof ze=="number"&&ze>=0);var Ue=Math.ceil(ze/26)|0,Ge=ze%26;this._expand(Ue),Ge>0&&Ue--;for(var Ze=0;Ze<Ue;Ze++)this.words[Ze]=~this.words[Ze]&67108863;return Ge>0&&(this.words[Ze]=~this.words[Ze]&67108863>>26-Ge),this._strip()},ke.prototype.notn=function(ze){return this.clone().inotn(ze)},ke.prototype.setn=function(ze,Ue){Me(typeof ze=="number"&&ze>=0);var Ge=ze/26|0,Ze=ze%26;return this._expand(Ge+1),Ue?this.words[Ge]=this.words[Ge]|1<<Ze:this.words[Ge]=this.words[Ge]&~(1<<Ze),this._strip()},ke.prototype.iadd=function(ze){var Ue;if(this.negative!==0&&ze.negative===0)return this.negative=0,Ue=this.isub(ze),this.negative^=1,this._normSign();if(this.negative===0&&ze.negative!==0)return ze.negative=0,Ue=this.isub(ze),ze.negative=1,Ue._normSign();var Ge,Ze;this.length>ze.length?(Ge=this,Ze=ze):(Ge=ze,Ze=this);for(var er=0,Ve=0;Ve<Ze.length;Ve++)Ue=(Ge.words[Ve]|0)+(Ze.words[Ve]|0)+er,this.words[Ve]=Ue&67108863,er=Ue>>>26;for(;er!==0&&Ve<Ge.length;Ve++)Ue=(Ge.words[Ve]|0)+er,this.words[Ve]=Ue&67108863,er=Ue>>>26;if(this.length=Ge.length,er!==0)this.words[this.length]=er,this.length++;else if(Ge!==this)for(;Ve<Ge.length;Ve++)this.words[Ve]=Ge.words[Ve];return this},ke.prototype.add=function(ze){var Ue;return ze.negative!==0&&this.negative===0?(ze.negative=0,Ue=this.sub(ze),ze.negative^=1,Ue):ze.negative===0&&this.negative!==0?(this.negative=0,Ue=ze.sub(this),this.negative=1,Ue):this.length>ze.length?this.clone().iadd(ze):ze.clone().iadd(this)},ke.prototype.isub=function(ze){if(ze.negative!==0){ze.negative=0;var Ue=this.iadd(ze);return ze.negative=1,Ue._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(ze),this.negative=1,this._normSign();var Ge=this.cmp(ze);if(Ge===0)return this.negative=0,this.length=1,this.words[0]=0,this;var Ze,er;Ge>0?(Ze=this,er=ze):(Ze=ze,er=this);for(var Ve=0,Ie=0;Ie<er.length;Ie++)Ue=(Ze.words[Ie]|0)-(er.words[Ie]|0)+Ve,Ve=Ue>>26,this.words[Ie]=Ue&67108863;for(;Ve!==0&&Ie<Ze.length;Ie++)Ue=(Ze.words[Ie]|0)+Ve,Ve=Ue>>26,this.words[Ie]=Ue&67108863;if(Ve===0&&Ie<Ze.length&&Ze!==this)for(;Ie<Ze.length;Ie++)this.words[Ie]=Ze.words[Ie];return this.length=Math.max(this.length,Ie),Ze!==this&&(this.negative=1),this._strip()},ke.prototype.sub=function(ze){return this.clone().isub(ze)};function or(Fe,ze,Ue){Ue.negative=ze.negative^Fe.negative;var Ge=Fe.length+ze.length|0;Ue.length=Ge,Ge=Ge-1|0;var Ze=Fe.words[0]|0,er=ze.words[0]|0,Ve=Ze*er,Ie=Ve&67108863,Ye=Ve/67108864|0;Ue.words[0]=Ie;for(var ir=1;ir<Ge;ir++){for(var lr=Ye>>>26,br=Ye&67108863,_r=Math.min(ir,ze.length-1),Sr=Math.max(0,ir-Fe.length+1);Sr<=_r;Sr++){var wr=ir-Sr|0;Ze=Fe.words[wr]|0,er=ze.words[Sr]|0,Ve=Ze*er+br,lr+=Ve/67108864|0,br=Ve&67108863}Ue.words[ir]=br|0,Ye=lr|0}return Ye!==0?Ue.words[ir]=Ye|0:Ue.length--,Ue._strip()}var ar=function(ze,Ue,Ge){var Ze=ze.words,er=Ue.words,Ve=Ge.words,Ie=0,Ye,ir,lr,br=Ze[0]|0,_r=br&8191,Sr=br>>>13,wr=Ze[1]|0,Nr=wr&8191,kr=wr>>>13,Lr=Ze[2]|0,Xr=Lr&8191,Ur=Lr>>>13,Gr=Ze[3]|0,Ts=Gr&8191,Br=Gr>>>13,Cr=Ze[4]|0,qs=Cr&8191,$r=Cr>>>13,Tr=Ze[5]|0,Kr=Tr&8191,qr=Tr>>>13,Hr=Ze[6]|0,ss=Hr&8191,Vr=Hr>>>13,Zr=Ze[7]|0,Is=Zr&8191,Jr=Zr>>>13,cs=Ze[8]|0,zs=cs&8191,ns=cs>>>13,Qr=Ze[9]|0,Zs=Qr&8191,os=Qr>>>13,_s=er[0]|0,Ys=_s&8191,ds=_s>>>13,Ns=er[1]|0,Xs=Ns&8191,ys=Ns>>>13,ws=er[2]|0,ni=ws&8191,bs=ws>>>13,Es=er[3]|0,Hs=Es&8191,us=Es>>>13,As=er[4]|0,Qs=As&8191,vs=As>>>13,Ms=er[5]|0,Us=Ms&8191,xs=Ms>>>13,ks=er[6]|0,ri=ks&8191,fs=ks>>>13,Rs=er[7]|0,si=Rs&8191,js=Rs>>>13,$s=er[8]|0,ai=$s&8191,gs=$s>>>13,Ss=er[9]|0,ei=Ss&8191,Js=Ss>>>13;Ge.negative=ze.negative^Ue.negative,Ge.length=19,Ye=Math.imul(_r,Ys),ir=Math.imul(_r,ds),ir=ir+Math.imul(Sr,Ys)|0,lr=Math.imul(Sr,ds);var di=(Ie+Ye|0)+((ir&8191)<<13)|0;Ie=(lr+(ir>>>13)|0)+(di>>>26)|0,di&=67108863,Ye=Math.imul(Nr,Ys),ir=Math.imul(Nr,ds),ir=ir+Math.imul(kr,Ys)|0,lr=Math.imul(kr,ds),Ye=Ye+Math.imul(_r,Xs)|0,ir=ir+Math.imul(_r,ys)|0,ir=ir+Math.imul(Sr,Xs)|0,lr=lr+Math.imul(Sr,ys)|0;var fi=(Ie+Ye|0)+((ir&8191)<<13)|0;Ie=(lr+(ir>>>13)|0)+(fi>>>26)|0,fi&=67108863,Ye=Math.imul(Xr,Ys),ir=Math.imul(Xr,ds),ir=ir+Math.imul(Ur,Ys)|0,lr=Math.imul(Ur,ds),Ye=Ye+Math.imul(Nr,Xs)|0,ir=ir+Math.imul(Nr,ys)|0,ir=ir+Math.imul(kr,Xs)|0,lr=lr+Math.imul(kr,ys)|0,Ye=Ye+Math.imul(_r,ni)|0,ir=ir+Math.imul(_r,bs)|0,ir=ir+Math.imul(Sr,ni)|0,lr=lr+Math.imul(Sr,bs)|0;var mi=(Ie+Ye|0)+((ir&8191)<<13)|0;Ie=(lr+(ir>>>13)|0)+(mi>>>26)|0,mi&=67108863,Ye=Math.imul(Ts,Ys),ir=Math.imul(Ts,ds),ir=ir+Math.imul(Br,Ys)|0,lr=Math.imul(Br,ds),Ye=Ye+Math.imul(Xr,Xs)|0,ir=ir+Math.imul(Xr,ys)|0,ir=ir+Math.imul(Ur,Xs)|0,lr=lr+Math.imul(Ur,ys)|0,Ye=Ye+Math.imul(Nr,ni)|0,ir=ir+Math.imul(Nr,bs)|0,ir=ir+Math.imul(kr,ni)|0,lr=lr+Math.imul(kr,bs)|0,Ye=Ye+Math.imul(_r,Hs)|0,ir=ir+Math.imul(_r,us)|0,ir=ir+Math.imul(Sr,Hs)|0,lr=lr+Math.imul(Sr,us)|0;var pi=(Ie+Ye|0)+((ir&8191)<<13)|0;Ie=(lr+(ir>>>13)|0)+(pi>>>26)|0,pi&=67108863,Ye=Math.imul(qs,Ys),ir=Math.imul(qs,ds),ir=ir+Math.imul($r,Ys)|0,lr=Math.imul($r,ds),Ye=Ye+Math.imul(Ts,Xs)|0,ir=ir+Math.imul(Ts,ys)|0,ir=ir+Math.imul(Br,Xs)|0,lr=lr+Math.imul(Br,ys)|0,Ye=Ye+Math.imul(Xr,ni)|0,ir=ir+Math.imul(Xr,bs)|0,ir=ir+Math.imul(Ur,ni)|0,lr=lr+Math.imul(Ur,bs)|0,Ye=Ye+Math.imul(Nr,Hs)|0,ir=ir+Math.imul(Nr,us)|0,ir=ir+Math.imul(kr,Hs)|0,lr=lr+Math.imul(kr,us)|0,Ye=Ye+Math.imul(_r,Qs)|0,ir=ir+Math.imul(_r,vs)|0,ir=ir+Math.imul(Sr,Qs)|0,lr=lr+Math.imul(Sr,vs)|0;var xi=(Ie+Ye|0)+((ir&8191)<<13)|0;Ie=(lr+(ir>>>13)|0)+(xi>>>26)|0,xi&=67108863,Ye=Math.imul(Kr,Ys),ir=Math.imul(Kr,ds),ir=ir+Math.imul(qr,Ys)|0,lr=Math.imul(qr,ds),Ye=Ye+Math.imul(qs,Xs)|0,ir=ir+Math.imul(qs,ys)|0,ir=ir+Math.imul($r,Xs)|0,lr=lr+Math.imul($r,ys)|0,Ye=Ye+Math.imul(Ts,ni)|0,ir=ir+Math.imul(Ts,bs)|0,ir=ir+Math.imul(Br,ni)|0,lr=lr+Math.imul(Br,bs)|0,Ye=Ye+Math.imul(Xr,Hs)|0,ir=ir+Math.imul(Xr,us)|0,ir=ir+Math.imul(Ur,Hs)|0,lr=lr+Math.imul(Ur,us)|0,Ye=Ye+Math.imul(Nr,Qs)|0,ir=ir+Math.imul(Nr,vs)|0,ir=ir+Math.imul(kr,Qs)|0,lr=lr+Math.imul(kr,vs)|0,Ye=Ye+Math.imul(_r,Us)|0,ir=ir+Math.imul(_r,xs)|0,ir=ir+Math.imul(Sr,Us)|0,lr=lr+Math.imul(Sr,xs)|0;var gi=(Ie+Ye|0)+((ir&8191)<<13)|0;Ie=(lr+(ir>>>13)|0)+(gi>>>26)|0,gi&=67108863,Ye=Math.imul(ss,Ys),ir=Math.imul(ss,ds),ir=ir+Math.imul(Vr,Ys)|0,lr=Math.imul(Vr,ds),Ye=Ye+Math.imul(Kr,Xs)|0,ir=ir+Math.imul(Kr,ys)|0,ir=ir+Math.imul(qr,Xs)|0,lr=lr+Math.imul(qr,ys)|0,Ye=Ye+Math.imul(qs,ni)|0,ir=ir+Math.imul(qs,bs)|0,ir=ir+Math.imul($r,ni)|0,lr=lr+Math.imul($r,bs)|0,Ye=Ye+Math.imul(Ts,Hs)|0,ir=ir+Math.imul(Ts,us)|0,ir=ir+Math.imul(Br,Hs)|0,lr=lr+Math.imul(Br,us)|0,Ye=Ye+Math.imul(Xr,Qs)|0,ir=ir+Math.imul(Xr,vs)|0,ir=ir+Math.imul(Ur,Qs)|0,lr=lr+Math.imul(Ur,vs)|0,Ye=Ye+Math.imul(Nr,Us)|0,ir=ir+Math.imul(Nr,xs)|0,ir=ir+Math.imul(kr,Us)|0,lr=lr+Math.imul(kr,xs)|0,Ye=Ye+Math.imul(_r,ri)|0,ir=ir+Math.imul(_r,fs)|0,ir=ir+Math.imul(Sr,ri)|0,lr=lr+Math.imul(Sr,fs)|0;var Ei=(Ie+Ye|0)+((ir&8191)<<13)|0;Ie=(lr+(ir>>>13)|0)+(Ei>>>26)|0,Ei&=67108863,Ye=Math.imul(Is,Ys),ir=Math.imul(Is,ds),ir=ir+Math.imul(Jr,Ys)|0,lr=Math.imul(Jr,ds),Ye=Ye+Math.imul(ss,Xs)|0,ir=ir+Math.imul(ss,ys)|0,ir=ir+Math.imul(Vr,Xs)|0,lr=lr+Math.imul(Vr,ys)|0,Ye=Ye+Math.imul(Kr,ni)|0,ir=ir+Math.imul(Kr,bs)|0,ir=ir+Math.imul(qr,ni)|0,lr=lr+Math.imul(qr,bs)|0,Ye=Ye+Math.imul(qs,Hs)|0,ir=ir+Math.imul(qs,us)|0,ir=ir+Math.imul($r,Hs)|0,lr=lr+Math.imul($r,us)|0,Ye=Ye+Math.imul(Ts,Qs)|0,ir=ir+Math.imul(Ts,vs)|0,ir=ir+Math.imul(Br,Qs)|0,lr=lr+Math.imul(Br,vs)|0,Ye=Ye+Math.imul(Xr,Us)|0,ir=ir+Math.imul(Xr,xs)|0,ir=ir+Math.imul(Ur,Us)|0,lr=lr+Math.imul(Ur,xs)|0,Ye=Ye+Math.imul(Nr,ri)|0,ir=ir+Math.imul(Nr,fs)|0,ir=ir+Math.imul(kr,ri)|0,lr=lr+Math.imul(kr,fs)|0,Ye=Ye+Math.imul(_r,si)|0,ir=ir+Math.imul(_r,js)|0,ir=ir+Math.imul(Sr,si)|0,lr=lr+Math.imul(Sr,js)|0;var Si=(Ie+Ye|0)+((ir&8191)<<13)|0;Ie=(lr+(ir>>>13)|0)+(Si>>>26)|0,Si&=67108863,Ye=Math.imul(zs,Ys),ir=Math.imul(zs,ds),ir=ir+Math.imul(ns,Ys)|0,lr=Math.imul(ns,ds),Ye=Ye+Math.imul(Is,Xs)|0,ir=ir+Math.imul(Is,ys)|0,ir=ir+Math.imul(Jr,Xs)|0,lr=lr+Math.imul(Jr,ys)|0,Ye=Ye+Math.imul(ss,ni)|0,ir=ir+Math.imul(ss,bs)|0,ir=ir+Math.imul(Vr,ni)|0,lr=lr+Math.imul(Vr,bs)|0,Ye=Ye+Math.imul(Kr,Hs)|0,ir=ir+Math.imul(Kr,us)|0,ir=ir+Math.imul(qr,Hs)|0,lr=lr+Math.imul(qr,us)|0,Ye=Ye+Math.imul(qs,Qs)|0,ir=ir+Math.imul(qs,vs)|0,ir=ir+Math.imul($r,Qs)|0,lr=lr+Math.imul($r,vs)|0,Ye=Ye+Math.imul(Ts,Us)|0,ir=ir+Math.imul(Ts,xs)|0,ir=ir+Math.imul(Br,Us)|0,lr=lr+Math.imul(Br,xs)|0,Ye=Ye+Math.imul(Xr,ri)|0,ir=ir+Math.imul(Xr,fs)|0,ir=ir+Math.imul(Ur,ri)|0,lr=lr+Math.imul(Ur,fs)|0,Ye=Ye+Math.imul(Nr,si)|0,ir=ir+Math.imul(Nr,js)|0,ir=ir+Math.imul(kr,si)|0,lr=lr+Math.imul(kr,js)|0,Ye=Ye+Math.imul(_r,ai)|0,ir=ir+Math.imul(_r,gs)|0,ir=ir+Math.imul(Sr,ai)|0,lr=lr+Math.imul(Sr,gs)|0;var Ni=(Ie+Ye|0)+((ir&8191)<<13)|0;Ie=(lr+(ir>>>13)|0)+(Ni>>>26)|0,Ni&=67108863,Ye=Math.imul(Zs,Ys),ir=Math.imul(Zs,ds),ir=ir+Math.imul(os,Ys)|0,lr=Math.imul(os,ds),Ye=Ye+Math.imul(zs,Xs)|0,ir=ir+Math.imul(zs,ys)|0,ir=ir+Math.imul(ns,Xs)|0,lr=lr+Math.imul(ns,ys)|0,Ye=Ye+Math.imul(Is,ni)|0,ir=ir+Math.imul(Is,bs)|0,ir=ir+Math.imul(Jr,ni)|0,lr=lr+Math.imul(Jr,bs)|0,Ye=Ye+Math.imul(ss,Hs)|0,ir=ir+Math.imul(ss,us)|0,ir=ir+Math.imul(Vr,Hs)|0,lr=lr+Math.imul(Vr,us)|0,Ye=Ye+Math.imul(Kr,Qs)|0,ir=ir+Math.imul(Kr,vs)|0,ir=ir+Math.imul(qr,Qs)|0,lr=lr+Math.imul(qr,vs)|0,Ye=Ye+Math.imul(qs,Us)|0,ir=ir+Math.imul(qs,xs)|0,ir=ir+Math.imul($r,Us)|0,lr=lr+Math.imul($r,xs)|0,Ye=Ye+Math.imul(Ts,ri)|0,ir=ir+Math.imul(Ts,fs)|0,ir=ir+Math.imul(Br,ri)|0,lr=lr+Math.imul(Br,fs)|0,Ye=Ye+Math.imul(Xr,si)|0,ir=ir+Math.imul(Xr,js)|0,ir=ir+Math.imul(Ur,si)|0,lr=lr+Math.imul(Ur,js)|0,Ye=Ye+Math.imul(Nr,ai)|0,ir=ir+Math.imul(Nr,gs)|0,ir=ir+Math.imul(kr,ai)|0,lr=lr+Math.imul(kr,gs)|0,Ye=Ye+Math.imul(_r,ei)|0,ir=ir+Math.imul(_r,Js)|0,ir=ir+Math.imul(Sr,ei)|0,lr=lr+Math.imul(Sr,Js)|0;var vi=(Ie+Ye|0)+((ir&8191)<<13)|0;Ie=(lr+(ir>>>13)|0)+(vi>>>26)|0,vi&=67108863,Ye=Math.imul(Zs,Xs),ir=Math.imul(Zs,ys),ir=ir+Math.imul(os,Xs)|0,lr=Math.imul(os,ys),Ye=Ye+Math.imul(zs,ni)|0,ir=ir+Math.imul(zs,bs)|0,ir=ir+Math.imul(ns,ni)|0,lr=lr+Math.imul(ns,bs)|0,Ye=Ye+Math.imul(Is,Hs)|0,ir=ir+Math.imul(Is,us)|0,ir=ir+Math.imul(Jr,Hs)|0,lr=lr+Math.imul(Jr,us)|0,Ye=Ye+Math.imul(ss,Qs)|0,ir=ir+Math.imul(ss,vs)|0,ir=ir+Math.imul(Vr,Qs)|0,lr=lr+Math.imul(Vr,vs)|0,Ye=Ye+Math.imul(Kr,Us)|0,ir=ir+Math.imul(Kr,xs)|0,ir=ir+Math.imul(qr,Us)|0,lr=lr+Math.imul(qr,xs)|0,Ye=Ye+Math.imul(qs,ri)|0,ir=ir+Math.imul(qs,fs)|0,ir=ir+Math.imul($r,ri)|0,lr=lr+Math.imul($r,fs)|0,Ye=Ye+Math.imul(Ts,si)|0,ir=ir+Math.imul(Ts,js)|0,ir=ir+Math.imul(Br,si)|0,lr=lr+Math.imul(Br,js)|0,Ye=Ye+Math.imul(Xr,ai)|0,ir=ir+Math.imul(Xr,gs)|0,ir=ir+Math.imul(Ur,ai)|0,lr=lr+Math.imul(Ur,gs)|0,Ye=Ye+Math.imul(Nr,ei)|0,ir=ir+Math.imul(Nr,Js)|0,ir=ir+Math.imul(kr,ei)|0,lr=lr+Math.imul(kr,Js)|0;var Ri=(Ie+Ye|0)+((ir&8191)<<13)|0;Ie=(lr+(ir>>>13)|0)+(Ri>>>26)|0,Ri&=67108863,Ye=Math.imul(Zs,ni),ir=Math.imul(Zs,bs),ir=ir+Math.imul(os,ni)|0,lr=Math.imul(os,bs),Ye=Ye+Math.imul(zs,Hs)|0,ir=ir+Math.imul(zs,us)|0,ir=ir+Math.imul(ns,Hs)|0,lr=lr+Math.imul(ns,us)|0,Ye=Ye+Math.imul(Is,Qs)|0,ir=ir+Math.imul(Is,vs)|0,ir=ir+Math.imul(Jr,Qs)|0,lr=lr+Math.imul(Jr,vs)|0,Ye=Ye+Math.imul(ss,Us)|0,ir=ir+Math.imul(ss,xs)|0,ir=ir+Math.imul(Vr,Us)|0,lr=lr+Math.imul(Vr,xs)|0,Ye=Ye+Math.imul(Kr,ri)|0,ir=ir+Math.imul(Kr,fs)|0,ir=ir+Math.imul(qr,ri)|0,lr=lr+Math.imul(qr,fs)|0,Ye=Ye+Math.imul(qs,si)|0,ir=ir+Math.imul(qs,js)|0,ir=ir+Math.imul($r,si)|0,lr=lr+Math.imul($r,js)|0,Ye=Ye+Math.imul(Ts,ai)|0,ir=ir+Math.imul(Ts,gs)|0,ir=ir+Math.imul(Br,ai)|0,lr=lr+Math.imul(Br,gs)|0,Ye=Ye+Math.imul(Xr,ei)|0,ir=ir+Math.imul(Xr,Js)|0,ir=ir+Math.imul(Ur,ei)|0,lr=lr+Math.imul(Ur,Js)|0;var Mi=(Ie+Ye|0)+((ir&8191)<<13)|0;Ie=(lr+(ir>>>13)|0)+(Mi>>>26)|0,Mi&=67108863,Ye=Math.imul(Zs,Hs),ir=Math.imul(Zs,us),ir=ir+Math.imul(os,Hs)|0,lr=Math.imul(os,us),Ye=Ye+Math.imul(zs,Qs)|0,ir=ir+Math.imul(zs,vs)|0,ir=ir+Math.imul(ns,Qs)|0,lr=lr+Math.imul(ns,vs)|0,Ye=Ye+Math.imul(Is,Us)|0,ir=ir+Math.imul(Is,xs)|0,ir=ir+Math.imul(Jr,Us)|0,lr=lr+Math.imul(Jr,xs)|0,Ye=Ye+Math.imul(ss,ri)|0,ir=ir+Math.imul(ss,fs)|0,ir=ir+Math.imul(Vr,ri)|0,lr=lr+Math.imul(Vr,fs)|0,Ye=Ye+Math.imul(Kr,si)|0,ir=ir+Math.imul(Kr,js)|0,ir=ir+Math.imul(qr,si)|0,lr=lr+Math.imul(qr,js)|0,Ye=Ye+Math.imul(qs,ai)|0,ir=ir+Math.imul(qs,gs)|0,ir=ir+Math.imul($r,ai)|0,lr=lr+Math.imul($r,gs)|0,Ye=Ye+Math.imul(Ts,ei)|0,ir=ir+Math.imul(Ts,Js)|0,ir=ir+Math.imul(Br,ei)|0,lr=lr+Math.imul(Br,Js)|0;var ji=(Ie+Ye|0)+((ir&8191)<<13)|0;Ie=(lr+(ir>>>13)|0)+(ji>>>26)|0,ji&=67108863,Ye=Math.imul(Zs,Qs),ir=Math.imul(Zs,vs),ir=ir+Math.imul(os,Qs)|0,lr=Math.imul(os,vs),Ye=Ye+Math.imul(zs,Us)|0,ir=ir+Math.imul(zs,xs)|0,ir=ir+Math.imul(ns,Us)|0,lr=lr+Math.imul(ns,xs)|0,Ye=Ye+Math.imul(Is,ri)|0,ir=ir+Math.imul(Is,fs)|0,ir=ir+Math.imul(Jr,ri)|0,lr=lr+Math.imul(Jr,fs)|0,Ye=Ye+Math.imul(ss,si)|0,ir=ir+Math.imul(ss,js)|0,ir=ir+Math.imul(Vr,si)|0,lr=lr+Math.imul(Vr,js)|0,Ye=Ye+Math.imul(Kr,ai)|0,ir=ir+Math.imul(Kr,gs)|0,ir=ir+Math.imul(qr,ai)|0,lr=lr+Math.imul(qr,gs)|0,Ye=Ye+Math.imul(qs,ei)|0,ir=ir+Math.imul(qs,Js)|0,ir=ir+Math.imul($r,ei)|0,lr=lr+Math.imul($r,Js)|0;var ki=(Ie+Ye|0)+((ir&8191)<<13)|0;Ie=(lr+(ir>>>13)|0)+(ki>>>26)|0,ki&=67108863,Ye=Math.imul(Zs,Us),ir=Math.imul(Zs,xs),ir=ir+Math.imul(os,Us)|0,lr=Math.imul(os,xs),Ye=Ye+Math.imul(zs,ri)|0,ir=ir+Math.imul(zs,fs)|0,ir=ir+Math.imul(ns,ri)|0,lr=lr+Math.imul(ns,fs)|0,Ye=Ye+Math.imul(Is,si)|0,ir=ir+Math.imul(Is,js)|0,ir=ir+Math.imul(Jr,si)|0,lr=lr+Math.imul(Jr,js)|0,Ye=Ye+Math.imul(ss,ai)|0,ir=ir+Math.imul(ss,gs)|0,ir=ir+Math.imul(Vr,ai)|0,lr=lr+Math.imul(Vr,gs)|0,Ye=Ye+Math.imul(Kr,ei)|0,ir=ir+Math.imul(Kr,Js)|0,ir=ir+Math.imul(qr,ei)|0,lr=lr+Math.imul(qr,Js)|0;var _i=(Ie+Ye|0)+((ir&8191)<<13)|0;Ie=(lr+(ir>>>13)|0)+(_i>>>26)|0,_i&=67108863,Ye=Math.imul(Zs,ri),ir=Math.imul(Zs,fs),ir=ir+Math.imul(os,ri)|0,lr=Math.imul(os,fs),Ye=Ye+Math.imul(zs,si)|0,ir=ir+Math.imul(zs,js)|0,ir=ir+Math.imul(ns,si)|0,lr=lr+Math.imul(ns,js)|0,Ye=Ye+Math.imul(Is,ai)|0,ir=ir+Math.imul(Is,gs)|0,ir=ir+Math.imul(Jr,ai)|0,lr=lr+Math.imul(Jr,gs)|0,Ye=Ye+Math.imul(ss,ei)|0,ir=ir+Math.imul(ss,Js)|0,ir=ir+Math.imul(Vr,ei)|0,lr=lr+Math.imul(Vr,Js)|0;var $i=(Ie+Ye|0)+((ir&8191)<<13)|0;Ie=(lr+(ir>>>13)|0)+($i>>>26)|0,$i&=67108863,Ye=Math.imul(Zs,si),ir=Math.imul(Zs,js),ir=ir+Math.imul(os,si)|0,lr=Math.imul(os,js),Ye=Ye+Math.imul(zs,ai)|0,ir=ir+Math.imul(zs,gs)|0,ir=ir+Math.imul(ns,ai)|0,lr=lr+Math.imul(ns,gs)|0,Ye=Ye+Math.imul(Is,ei)|0,ir=ir+Math.imul(Is,Js)|0,ir=ir+Math.imul(Jr,ei)|0,lr=lr+Math.imul(Jr,Js)|0;var bi=(Ie+Ye|0)+((ir&8191)<<13)|0;Ie=(lr+(ir>>>13)|0)+(bi>>>26)|0,bi&=67108863,Ye=Math.imul(Zs,ai),ir=Math.imul(Zs,gs),ir=ir+Math.imul(os,ai)|0,lr=Math.imul(os,gs),Ye=Ye+Math.imul(zs,ei)|0,ir=ir+Math.imul(zs,Js)|0,ir=ir+Math.imul(ns,ei)|0,lr=lr+Math.imul(ns,Js)|0;var ta=(Ie+Ye|0)+((ir&8191)<<13)|0;Ie=(lr+(ir>>>13)|0)+(ta>>>26)|0,ta&=67108863,Ye=Math.imul(Zs,ei),ir=Math.imul(Zs,Js),ir=ir+Math.imul(os,ei)|0,lr=Math.imul(os,Js);var Oi=(Ie+Ye|0)+((ir&8191)<<13)|0;return Ie=(lr+(ir>>>13)|0)+(Oi>>>26)|0,Oi&=67108863,Ve[0]=di,Ve[1]=fi,Ve[2]=mi,Ve[3]=pi,Ve[4]=xi,Ve[5]=gi,Ve[6]=Ei,Ve[7]=Si,Ve[8]=Ni,Ve[9]=vi,Ve[10]=Ri,Ve[11]=Mi,Ve[12]=ji,Ve[13]=ki,Ve[14]=_i,Ve[15]=$i,Ve[16]=bi,Ve[17]=ta,Ve[18]=Oi,Ie!==0&&(Ve[19]=Ie,Ge.length++),Ge};Math.imul||(ar=or);function pr(Fe,ze,Ue){Ue.negative=ze.negative^Fe.negative,Ue.length=Fe.length+ze.length;for(var Ge=0,Ze=0,er=0;er<Ue.length-1;er++){var Ve=Ze;Ze=0;for(var Ie=Ge&67108863,Ye=Math.min(er,ze.length-1),ir=Math.max(0,er-Fe.length+1);ir<=Ye;ir++){var lr=er-ir,br=Fe.words[lr]|0,_r=ze.words[ir]|0,Sr=br*_r,wr=Sr&67108863;Ve=Ve+(Sr/67108864|0)|0,wr=wr+Ie|0,Ie=wr&67108863,Ve=Ve+(wr>>>26)|0,Ze+=Ve>>>26,Ve&=67108863}Ue.words[er]=Ie,Ge=Ve,Ve=Ze}return Ge!==0?Ue.words[er]=Ge:Ue.length--,Ue._strip()}function ur(Fe,ze,Ue){return pr(Fe,ze,Ue)}ke.prototype.mulTo=function(ze,Ue){var Ge,Ze=this.length+ze.length;return this.length===10&&ze.length===10?Ge=ar(this,ze,Ue):Ze<63?Ge=or(this,ze,Ue):Ze<1024?Ge=pr(this,ze,Ue):Ge=ur(this,ze,Ue),Ge},ke.prototype.mul=function(ze){var Ue=new ke(null);return Ue.words=new Array(this.length+ze.length),this.mulTo(ze,Ue)},ke.prototype.mulf=function(ze){var Ue=new ke(null);return Ue.words=new Array(this.length+ze.length),ur(this,ze,Ue)},ke.prototype.imul=function(ze){return this.clone().mulTo(ze,this)},ke.prototype.imuln=function(ze){var Ue=ze<0;Ue&&(ze=-ze),Me(typeof ze=="number"),Me(ze<67108864);for(var Ge=0,Ze=0;Ze<this.length;Ze++){var er=(this.words[Ze]|0)*ze,Ve=(er&67108863)+(Ge&67108863);Ge>>=26,Ge+=er/67108864|0,Ge+=Ve>>>26,this.words[Ze]=Ve&67108863}return Ge!==0&&(this.words[Ze]=Ge,this.length++),this.length=ze===0?1:this.length,Ue?this.ineg():this},ke.prototype.muln=function(ze){return this.clone().imuln(ze)},ke.prototype.sqr=function(){return this.mul(this)},ke.prototype.isqr=function(){return this.imul(this.clone())},ke.prototype.pow=function(ze){var Ue=cr(ze);if(Ue.length===0)return new ke(1);for(var Ge=this,Ze=0;Ze<Ue.length&&Ue[Ze]===0;Ze++,Ge=Ge.sqr());if(++Ze<Ue.length)for(var er=Ge.sqr();Ze<Ue.length;Ze++,er=er.sqr())Ue[Ze]!==0&&(Ge=Ge.mul(er));return Ge},ke.prototype.iushln=function(ze){Me(typeof ze=="number"&&ze>=0);var Ue=ze%26,Ge=(ze-Ue)/26,Ze=67108863>>>26-Ue<<26-Ue,er;if(Ue!==0){var Ve=0;for(er=0;er<this.length;er++){var Ie=this.words[er]&Ze,Ye=(this.words[er]|0)-Ie<<Ue;this.words[er]=Ye|Ve,Ve=Ie>>>26-Ue}Ve&&(this.words[er]=Ve,this.length++)}if(Ge!==0){for(er=this.length-1;er>=0;er--)this.words[er+Ge]=this.words[er];for(er=0;er<Ge;er++)this.words[er]=0;this.length+=Ge}return this._strip()},ke.prototype.ishln=function(ze){return Me(this.negative===0),this.iushln(ze)},ke.prototype.iushrn=function(ze,Ue,Ge){Me(typeof ze=="number"&&ze>=0);var Ze;Ue?Ze=(Ue-Ue%26)/26:Ze=0;var er=ze%26,Ve=Math.min((ze-er)/26,this.length),Ie=67108863^67108863>>>er<<er,Ye=Ge;if(Ze-=Ve,Ze=Math.max(0,Ze),Ye){for(var ir=0;ir<Ve;ir++)Ye.words[ir]=this.words[ir];Ye.length=Ve}if(Ve!==0)if(this.length>Ve)for(this.length-=Ve,ir=0;ir<this.length;ir++)this.words[ir]=this.words[ir+Ve];else this.words[0]=0,this.length=1;var lr=0;for(ir=this.length-1;ir>=0&&(lr!==0||ir>=Ze);ir--){var br=this.words[ir]|0;this.words[ir]=lr<<26-er|br>>>er,lr=br&Ie}return Ye&&lr!==0&&(Ye.words[Ye.length++]=lr),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},ke.prototype.ishrn=function(ze,Ue,Ge){return Me(this.negative===0),this.iushrn(ze,Ue,Ge)},ke.prototype.shln=function(ze){return this.clone().ishln(ze)},ke.prototype.ushln=function(ze){return this.clone().iushln(ze)},ke.prototype.shrn=function(ze){return this.clone().ishrn(ze)},ke.prototype.ushrn=function(ze){return this.clone().iushrn(ze)},ke.prototype.testn=function(ze){Me(typeof ze=="number"&&ze>=0);var Ue=ze%26,Ge=(ze-Ue)/26,Ze=1<<Ue;if(this.length<=Ge)return!1;var er=this.words[Ge];return!!(er&Ze)},ke.prototype.imaskn=function(ze){Me(typeof ze=="number"&&ze>=0);var Ue=ze%26,Ge=(ze-Ue)/26;if(Me(this.negative===0,"imaskn works only with positive numbers"),this.length<=Ge)return this;if(Ue!==0&&Ge++,this.length=Math.min(Ge,this.length),Ue!==0){var Ze=67108863^67108863>>>Ue<<Ue;this.words[this.length-1]&=Ze}return this._strip()},ke.prototype.maskn=function(ze){return this.clone().imaskn(ze)},ke.prototype.iaddn=function(ze){return Me(typeof ze=="number"),Me(ze<67108864),ze<0?this.isubn(-ze):this.negative!==0?this.length===1&&(this.words[0]|0)<=ze?(this.words[0]=ze-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(ze),this.negative=1,this):this._iaddn(ze)},ke.prototype._iaddn=function(ze){this.words[0]+=ze;for(var Ue=0;Ue<this.length&&this.words[Ue]>=67108864;Ue++)this.words[Ue]-=67108864,Ue===this.length-1?this.words[Ue+1]=1:this.words[Ue+1]++;return this.length=Math.max(this.length,Ue+1),this},ke.prototype.isubn=function(ze){if(Me(typeof ze=="number"),Me(ze<67108864),ze<0)return this.iaddn(-ze);if(this.negative!==0)return this.negative=0,this.iaddn(ze),this.negative=1,this;if(this.words[0]-=ze,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var Ue=0;Ue<this.length&&this.words[Ue]<0;Ue++)this.words[Ue]+=67108864,this.words[Ue+1]-=1;return this._strip()},ke.prototype.addn=function(ze){return this.clone().iaddn(ze)},ke.prototype.subn=function(ze){return this.clone().isubn(ze)},ke.prototype.iabs=function(){return this.negative=0,this},ke.prototype.abs=function(){return this.clone().iabs()},ke.prototype._ishlnsubmul=function(ze,Ue,Ge){var Ze=ze.length+Ge,er;this._expand(Ze);var Ve,Ie=0;for(er=0;er<ze.length;er++){Ve=(this.words[er+Ge]|0)+Ie;var Ye=(ze.words[er]|0)*Ue;Ve-=Ye&67108863,Ie=(Ve>>26)-(Ye/67108864|0),this.words[er+Ge]=Ve&67108863}for(;er<this.length-Ge;er++)Ve=(this.words[er+Ge]|0)+Ie,Ie=Ve>>26,this.words[er+Ge]=Ve&67108863;if(Ie===0)return this._strip();for(Me(Ie===-1),Ie=0,er=0;er<this.length;er++)Ve=-(this.words[er]|0)+Ie,Ie=Ve>>26,this.words[er]=Ve&67108863;return this.negative=1,this._strip()},ke.prototype._wordDiv=function(ze,Ue){var Ge=this.length-ze.length,Ze=this.clone(),er=ze,Ve=er.words[er.length-1]|0,Ie=this._countBits(Ve);Ge=26-Ie,Ge!==0&&(er=er.ushln(Ge),Ze.iushln(Ge),Ve=er.words[er.length-1]|0);var Ye=Ze.length-er.length,ir;if(Ue!=="mod"){ir=new ke(null),ir.length=Ye+1,ir.words=new Array(ir.length);for(var lr=0;lr<ir.length;lr++)ir.words[lr]=0}var br=Ze.clone()._ishlnsubmul(er,1,Ye);br.negative===0&&(Ze=br,ir&&(ir.words[Ye]=1));for(var _r=Ye-1;_r>=0;_r--){var Sr=(Ze.words[er.length+_r]|0)*67108864+(Ze.words[er.length+_r-1]|0);for(Sr=Math.min(Sr/Ve|0,67108863),Ze._ishlnsubmul(er,Sr,_r);Ze.negative!==0;)Sr--,Ze.negative=0,Ze._ishlnsubmul(er,1,_r),Ze.isZero()||(Ze.negative^=1);ir&&(ir.words[_r]=Sr)}return ir&&ir._strip(),Ze._strip(),Ue!=="div"&&Ge!==0&&Ze.iushrn(Ge),{div:ir||null,mod:Ze}},ke.prototype.divmod=function(ze,Ue,Ge){if(Me(!ze.isZero()),this.isZero())return{div:new ke(0),mod:new ke(0)};var Ze,er,Ve;return this.negative!==0&&ze.negative===0?(Ve=this.neg().divmod(ze,Ue),Ue!=="mod"&&(Ze=Ve.div.neg()),Ue!=="div"&&(er=Ve.mod.neg(),Ge&&er.negative!==0&&er.iadd(ze)),{div:Ze,mod:er}):this.negative===0&&ze.negative!==0?(Ve=this.divmod(ze.neg(),Ue),Ue!=="mod"&&(Ze=Ve.div.neg()),{div:Ze,mod:Ve.mod}):this.negative&ze.negative?(Ve=this.neg().divmod(ze.neg(),Ue),Ue!=="div"&&(er=Ve.mod.neg(),Ge&&er.negative!==0&&er.isub(ze)),{div:Ve.div,mod:er}):ze.length>this.length||this.cmp(ze)<0?{div:new ke(0),mod:this}:ze.length===1?Ue==="div"?{div:this.divn(ze.words[0]),mod:null}:Ue==="mod"?{div:null,mod:new ke(this.modrn(ze.words[0]))}:{div:this.divn(ze.words[0]),mod:new ke(this.modrn(ze.words[0]))}:this._wordDiv(ze,Ue)},ke.prototype.div=function(ze){return this.divmod(ze,"div",!1).div},ke.prototype.mod=function(ze){return this.divmod(ze,"mod",!1).mod},ke.prototype.umod=function(ze){return this.divmod(ze,"mod",!0).mod},ke.prototype.divRound=function(ze){var Ue=this.divmod(ze);if(Ue.mod.isZero())return Ue.div;var Ge=Ue.div.negative!==0?Ue.mod.isub(ze):Ue.mod,Ze=ze.ushrn(1),er=ze.andln(1),Ve=Ge.cmp(Ze);return Ve<0||er===1&&Ve===0?Ue.div:Ue.div.negative!==0?Ue.div.isubn(1):Ue.div.iaddn(1)},ke.prototype.modrn=function(ze){var Ue=ze<0;Ue&&(ze=-ze),Me(ze<=67108863);for(var Ge=(1<<26)%ze,Ze=0,er=this.length-1;er>=0;er--)Ze=(Ge*Ze+(this.words[er]|0))%ze;return Ue?-Ze:Ze},ke.prototype.modn=function(ze){return this.modrn(ze)},ke.prototype.idivn=function(ze){var Ue=ze<0;Ue&&(ze=-ze),Me(ze<=67108863);for(var Ge=0,Ze=this.length-1;Ze>=0;Ze--){var er=(this.words[Ze]|0)+Ge*67108864;this.words[Ze]=er/ze|0,Ge=er%ze}return this._strip(),Ue?this.ineg():this},ke.prototype.divn=function(ze){return this.clone().idivn(ze)},ke.prototype.egcd=function(ze){Me(ze.negative===0),Me(!ze.isZero());var Ue=this,Ge=ze.clone();Ue.negative!==0?Ue=Ue.umod(ze):Ue=Ue.clone();for(var Ze=new ke(1),er=new ke(0),Ve=new ke(0),Ie=new ke(1),Ye=0;Ue.isEven()&&Ge.isEven();)Ue.iushrn(1),Ge.iushrn(1),++Ye;for(var ir=Ge.clone(),lr=Ue.clone();!Ue.isZero();){for(var br=0,_r=1;!(Ue.words[0]&_r)&&br<26;++br,_r<<=1);if(br>0)for(Ue.iushrn(br);br-- >0;)(Ze.isOdd()||er.isOdd())&&(Ze.iadd(ir),er.isub(lr)),Ze.iushrn(1),er.iushrn(1);for(var Sr=0,wr=1;!(Ge.words[0]&wr)&&Sr<26;++Sr,wr<<=1);if(Sr>0)for(Ge.iushrn(Sr);Sr-- >0;)(Ve.isOdd()||Ie.isOdd())&&(Ve.iadd(ir),Ie.isub(lr)),Ve.iushrn(1),Ie.iushrn(1);Ue.cmp(Ge)>=0?(Ue.isub(Ge),Ze.isub(Ve),er.isub(Ie)):(Ge.isub(Ue),Ve.isub(Ze),Ie.isub(er))}return{a:Ve,b:Ie,gcd:Ge.iushln(Ye)}},ke.prototype._invmp=function(ze){Me(ze.negative===0),Me(!ze.isZero());var Ue=this,Ge=ze.clone();Ue.negative!==0?Ue=Ue.umod(ze):Ue=Ue.clone();for(var Ze=new ke(1),er=new ke(0),Ve=Ge.clone();Ue.cmpn(1)>0&&Ge.cmpn(1)>0;){for(var Ie=0,Ye=1;!(Ue.words[0]&Ye)&&Ie<26;++Ie,Ye<<=1);if(Ie>0)for(Ue.iushrn(Ie);Ie-- >0;)Ze.isOdd()&&Ze.iadd(Ve),Ze.iushrn(1);for(var ir=0,lr=1;!(Ge.words[0]&lr)&&ir<26;++ir,lr<<=1);if(ir>0)for(Ge.iushrn(ir);ir-- >0;)er.isOdd()&&er.iadd(Ve),er.iushrn(1);Ue.cmp(Ge)>=0?(Ue.isub(Ge),Ze.isub(er)):(Ge.isub(Ue),er.isub(Ze))}var br;return Ue.cmpn(1)===0?br=Ze:br=er,br.cmpn(0)<0&&br.iadd(ze),br},ke.prototype.gcd=function(ze){if(this.isZero())return ze.abs();if(ze.isZero())return this.abs();var Ue=this.clone(),Ge=ze.clone();Ue.negative=0,Ge.negative=0;for(var Ze=0;Ue.isEven()&&Ge.isEven();Ze++)Ue.iushrn(1),Ge.iushrn(1);do{for(;Ue.isEven();)Ue.iushrn(1);for(;Ge.isEven();)Ge.iushrn(1);var er=Ue.cmp(Ge);if(er<0){var Ve=Ue;Ue=Ge,Ge=Ve}else if(er===0||Ge.cmpn(1)===0)break;Ue.isub(Ge)}while(!0);return Ge.iushln(Ze)},ke.prototype.invm=function(ze){return this.egcd(ze).a.umod(ze)},ke.prototype.isEven=function(){return(this.words[0]&1)===0},ke.prototype.isOdd=function(){return(this.words[0]&1)===1},ke.prototype.andln=function(ze){return this.words[0]&ze},ke.prototype.bincn=function(ze){Me(typeof ze=="number");var Ue=ze%26,Ge=(ze-Ue)/26,Ze=1<<Ue;if(this.length<=Ge)return this._expand(Ge+1),this.words[Ge]|=Ze,this;for(var er=Ze,Ve=Ge;er!==0&&Ve<this.length;Ve++){var Ie=this.words[Ve]|0;Ie+=er,er=Ie>>>26,Ie&=67108863,this.words[Ve]=Ie}return er!==0&&(this.words[Ve]=er,this.length++),this},ke.prototype.isZero=function(){return this.length===1&&this.words[0]===0},ke.prototype.cmpn=function(ze){var Ue=ze<0;if(this.negative!==0&&!Ue)return-1;if(this.negative===0&&Ue)return 1;this._strip();var Ge;if(this.length>1)Ge=1;else{Ue&&(ze=-ze),Me(ze<=67108863,"Number is too big");var Ze=this.words[0]|0;Ge=Ze===ze?0:Ze<ze?-1:1}return this.negative!==0?-Ge|0:Ge},ke.prototype.cmp=function(ze){if(this.negative!==0&&ze.negative===0)return-1;if(this.negative===0&&ze.negative!==0)return 1;var Ue=this.ucmp(ze);return this.negative!==0?-Ue|0:Ue},ke.prototype.ucmp=function(ze){if(this.length>ze.length)return 1;if(this.length<ze.length)return-1;for(var Ue=0,Ge=this.length-1;Ge>=0;Ge--){var Ze=this.words[Ge]|0,er=ze.words[Ge]|0;if(Ze!==er){Ze<er?Ue=-1:Ze>er&&(Ue=1);break}}return Ue},ke.prototype.gtn=function(ze){return this.cmpn(ze)===1},ke.prototype.gt=function(ze){return this.cmp(ze)===1},ke.prototype.gten=function(ze){return this.cmpn(ze)>=0},ke.prototype.gte=function(ze){return this.cmp(ze)>=0},ke.prototype.ltn=function(ze){return this.cmpn(ze)===-1},ke.prototype.lt=function(ze){return this.cmp(ze)===-1},ke.prototype.lten=function(ze){return this.cmpn(ze)<=0},ke.prototype.lte=function(ze){return this.cmp(ze)<=0},ke.prototype.eqn=function(ze){return this.cmpn(ze)===0},ke.prototype.eq=function(ze){return this.cmp(ze)===0},ke.red=function(ze){return new Xe(ze)},ke.prototype.toRed=function(ze){return Me(!this.red,"Already a number in reduction context"),Me(this.negative===0,"red works only with positives"),ze.convertTo(this)._forceRed(ze)},ke.prototype.fromRed=function(){return Me(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},ke.prototype._forceRed=function(ze){return this.red=ze,this},ke.prototype.forceRed=function(ze){return Me(!this.red,"Already a number in reduction context"),this._forceRed(ze)},ke.prototype.redAdd=function(ze){return Me(this.red,"redAdd works only with red numbers"),this.red.add(this,ze)},ke.prototype.redIAdd=function(ze){return Me(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,ze)},ke.prototype.redSub=function(ze){return Me(this.red,"redSub works only with red numbers"),this.red.sub(this,ze)},ke.prototype.redISub=function(ze){return Me(this.red,"redISub works only with red numbers"),this.red.isub(this,ze)},ke.prototype.redShl=function(ze){return Me(this.red,"redShl works only with red numbers"),this.red.shl(this,ze)},ke.prototype.redMul=function(ze){return Me(this.red,"redMul works only with red numbers"),this.red._verify2(this,ze),this.red.mul(this,ze)},ke.prototype.redIMul=function(ze){return Me(this.red,"redMul works only with red numbers"),this.red._verify2(this,ze),this.red.imul(this,ze)},ke.prototype.redSqr=function(){return Me(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},ke.prototype.redISqr=function(){return Me(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},ke.prototype.redSqrt=function(){return Me(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},ke.prototype.redInvm=function(){return Me(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},ke.prototype.redNeg=function(){return Me(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},ke.prototype.redPow=function(ze){return Me(this.red&&!ze.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,ze)};var gr={k256:null,p224:null,p192:null,p25519:null};function jr(Fe,ze){this.name=Fe,this.p=new ke(ze,16),this.n=this.p.bitLength(),this.k=new ke(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}jr.prototype._tmp=function(){var ze=new ke(null);return ze.words=new Array(Math.ceil(this.n/13)),ze},jr.prototype.ireduce=function(ze){var Ue=ze,Ge;do this.split(Ue,this.tmp),Ue=this.imulK(Ue),Ue=Ue.iadd(this.tmp),Ge=Ue.bitLength();while(Ge>this.n);var Ze=Ge<this.n?-1:Ue.ucmp(this.p);return Ze===0?(Ue.words[0]=0,Ue.length=1):Ze>0?Ue.isub(this.p):Ue.strip!==void 0?Ue.strip():Ue._strip(),Ue},jr.prototype.split=function(ze,Ue){ze.iushrn(this.n,0,Ue)},jr.prototype.imulK=function(ze){return ze.imul(this.k)};function vr(){jr.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}$e(vr,jr),vr.prototype.split=function(ze,Ue){for(var Ge=4194303,Ze=Math.min(ze.length,9),er=0;er<Ze;er++)Ue.words[er]=ze.words[er];if(Ue.length=Ze,ze.length<=9){ze.words[0]=0,ze.length=1;return}var Ve=ze.words[9];for(Ue.words[Ue.length++]=Ve&Ge,er=10;er<ze.length;er++){var Ie=ze.words[er]|0;ze.words[er-10]=(Ie&Ge)<<4|Ve>>>22,Ve=Ie}Ve>>>=22,ze.words[er-10]=Ve,Ve===0&&ze.length>10?ze.length-=10:ze.length-=9},vr.prototype.imulK=function(ze){ze.words[ze.length]=0,ze.words[ze.length+1]=0,ze.length+=2;for(var Ue=0,Ge=0;Ge<ze.length;Ge++){var Ze=ze.words[Ge]|0;Ue+=Ze*977,ze.words[Ge]=Ue&67108863,Ue=Ze*64+(Ue/67108864|0)}return ze.words[ze.length-1]===0&&(ze.length--,ze.words[ze.length-1]===0&&ze.length--),ze};function dr(){jr.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}$e(dr,jr);function xr(){jr.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}$e(xr,jr);function Rr(){jr.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}$e(Rr,jr),Rr.prototype.imulK=function(ze){for(var Ue=0,Ge=0;Ge<ze.length;Ge++){var Ze=(ze.words[Ge]|0)*19+Ue,er=Ze&67108863;Ze>>>=26,ze.words[Ge]=er,Ue=Ze}return Ue!==0&&(ze.words[ze.length++]=Ue),ze},ke._prime=function(ze){if(gr[ze])return gr[ze];var Ue;if(ze==="k256")Ue=new vr;else if(ze==="p224")Ue=new dr;else if(ze==="p192")Ue=new xr;else if(ze==="p25519")Ue=new Rr;else throw new Error("Unknown prime "+ze);return gr[ze]=Ue,Ue};function Xe(Fe){if(typeof Fe=="string"){var ze=ke._prime(Fe);this.m=ze.p,this.prime=ze}else Me(Fe.gtn(1),"modulus must be greater than 1"),this.m=Fe,this.prime=null}Xe.prototype._verify1=function(ze){Me(ze.negative===0,"red works only with positives"),Me(ze.red,"red works only with red numbers")},Xe.prototype._verify2=function(ze,Ue){Me((ze.negative|Ue.negative)===0,"red works only with positives"),Me(ze.red&&ze.red===Ue.red,"red works only with red numbers")},Xe.prototype.imod=function(ze){return this.prime?this.prime.ireduce(ze)._forceRed(this):(We(ze,ze.umod(this.m)._forceRed(this)),ze)},Xe.prototype.neg=function(ze){return ze.isZero()?ze.clone():this.m.sub(ze)._forceRed(this)},Xe.prototype.add=function(ze,Ue){this._verify2(ze,Ue);var Ge=ze.add(Ue);return Ge.cmp(this.m)>=0&&Ge.isub(this.m),Ge._forceRed(this)},Xe.prototype.iadd=function(ze,Ue){this._verify2(ze,Ue);var Ge=ze.iadd(Ue);return Ge.cmp(this.m)>=0&&Ge.isub(this.m),Ge},Xe.prototype.sub=function(ze,Ue){this._verify2(ze,Ue);var Ge=ze.sub(Ue);return Ge.cmpn(0)<0&&Ge.iadd(this.m),Ge._forceRed(this)},Xe.prototype.isub=function(ze,Ue){this._verify2(ze,Ue);var Ge=ze.isub(Ue);return Ge.cmpn(0)<0&&Ge.iadd(this.m),Ge},Xe.prototype.shl=function(ze,Ue){return this._verify1(ze),this.imod(ze.ushln(Ue))},Xe.prototype.imul=function(ze,Ue){return this._verify2(ze,Ue),this.imod(ze.imul(Ue))},Xe.prototype.mul=function(ze,Ue){return this._verify2(ze,Ue),this.imod(ze.mul(Ue))},Xe.prototype.isqr=function(ze){return this.imul(ze,ze.clone())},Xe.prototype.sqr=function(ze){return this.mul(ze,ze)},Xe.prototype.sqrt=function(ze){if(ze.isZero())return ze.clone();var Ue=this.m.andln(3);if(Me(Ue%2===1),Ue===3){var Ge=this.m.add(new ke(1)).iushrn(2);return this.pow(ze,Ge)}for(var Ze=this.m.subn(1),er=0;!Ze.isZero()&&Ze.andln(1)===0;)er++,Ze.iushrn(1);Me(!Ze.isZero());var Ve=new ke(1).toRed(this),Ie=Ve.redNeg(),Ye=this.m.subn(1).iushrn(1),ir=this.m.bitLength();for(ir=new ke(2*ir*ir).toRed(this);this.pow(ir,Ye).cmp(Ie)!==0;)ir.redIAdd(Ie);for(var lr=this.pow(ir,Ze),br=this.pow(ze,Ze.addn(1).iushrn(1)),_r=this.pow(ze,Ze),Sr=er;_r.cmp(Ve)!==0;){for(var wr=_r,Nr=0;wr.cmp(Ve)!==0;Nr++)wr=wr.redSqr();Me(Nr<Sr);var kr=this.pow(lr,new ke(1).iushln(Sr-Nr-1));br=br.redMul(kr),lr=kr.redSqr(),_r=_r.redMul(lr),Sr=Nr}return br},Xe.prototype.invm=function(ze){var Ue=ze._invmp(this.m);return Ue.negative!==0?(Ue.negative=0,this.imod(Ue).redNeg()):this.imod(Ue)},Xe.prototype.pow=function(ze,Ue){if(Ue.isZero())return new ke(1).toRed(this);if(Ue.cmpn(1)===0)return ze.clone();var Ge=4,Ze=new Array(1<<Ge);Ze[0]=new ke(1).toRed(this),Ze[1]=ze;for(var er=2;er<Ze.length;er++)Ze[er]=this.mul(Ze[er-1],ze);var Ve=Ze[0],Ie=0,Ye=0,ir=Ue.bitLength()%26;for(ir===0&&(ir=26),er=Ue.length-1;er>=0;er--){for(var lr=Ue.words[er],br=ir-1;br>=0;br--){var _r=lr>>br&1;if(Ve!==Ze[0]&&(Ve=this.sqr(Ve)),_r===0&&Ie===0){Ye=0;continue}Ie<<=1,Ie|=_r,Ye++,!(Ye!==Ge&&(er!==0||br!==0))&&(Ve=this.mul(Ve,Ze[Ie]),Ye=0,Ie=0)}ir=26}return Ve},Xe.prototype.convertTo=function(ze){var Ue=ze.umod(this.m);return Ue===ze?Ue.clone():Ue},Xe.prototype.convertFrom=function(ze){var Ue=ze.clone();return Ue.red=null,Ue},ke.mont=function(ze){return new Pe(ze)};function Pe(Fe){Xe.call(this,Fe),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new ke(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}$e(Pe,Xe),Pe.prototype.convertTo=function(ze){return this.imod(ze.ushln(this.shift))},Pe.prototype.convertFrom=function(ze){var Ue=this.imod(ze.mul(this.rinv));return Ue.red=null,Ue},Pe.prototype.imul=function(ze,Ue){if(ze.isZero()||Ue.isZero())return ze.words[0]=0,ze.length=1,ze;var Ge=ze.imul(Ue),Ze=Ge.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),er=Ge.isub(Ze).iushrn(this.shift),Ve=er;return er.cmp(this.m)>=0?Ve=er.isub(this.m):er.cmpn(0)<0&&(Ve=er.iadd(this.m)),Ve._forceRed(this)},Pe.prototype.mul=function(ze,Ue){if(ze.isZero()||Ue.isZero())return new ke(0)._forceRed(this);var Ge=ze.mul(Ue),Ze=Ge.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),er=Ge.isub(Ze).iushrn(this.shift),Ve=er;return er.cmp(this.m)>=0?Ve=er.isub(this.m):er.cmpn(0)<0&&(Ve=er.iadd(this.m)),Ve._forceRed(this)},Pe.prototype.invm=function(ze){var Ue=this.imod(ze._invmp(this.m).mul(this.r2));return Ue._forceRed(this)}})(Re,commonjsGlobal)})(bn$4);var bnExports$4=bn$4.exports,BN$a=bnExports$4,randomBytes$1=browserExports,Buffer$7=safeBufferExports$1.Buffer;function getr(Re){var je=Re.modulus.byteLength(),_e;do _e=new BN$a(randomBytes$1(je));while(_e.cmp(Re.modulus)>=0||!_e.umod(Re.prime1)||!_e.umod(Re.prime2));return _e}function blind(Re){var je=getr(Re),_e=je.toRed(BN$a.mont(Re.modulus)).redPow(new BN$a(Re.publicExponent)).fromRed();return{blinder:_e,unblinder:je.invm(Re.modulus)}}function crt$2(Re,je){var _e=blind(je),Me=je.modulus.byteLength(),$e=new BN$a(Re).mul(_e.blinder).umod(je.modulus),ke=$e.toRed(BN$a.mont(je.prime1)),Ce=$e.toRed(BN$a.mont(je.prime2)),Be=je.coefficient,qe=je.prime1,He=je.prime2,We=ke.redPow(je.exponent1).fromRed(),Ke=Ce.redPow(je.exponent2).fromRed(),Je=We.isub(Ke).imul(Be).umod(qe).imul(He);return Ke.iadd(Je).imul(_e.unblinder).umod(je.modulus).toArrayLike(Buffer$7,"be",Me)}crt$2.getr=getr;var browserifyRsa=crt$2,elliptic={};const name$1="elliptic",version$3="6.6.1",description$1="EC cryptography",main$2="lib/elliptic.js",files=["lib"],scripts$1={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository$1={type:"git",url:"git@github.com:indutny/elliptic"},keywords=["EC","Elliptic","curve","Cryptography"],author$1="Fedor Indutny <fedor@indutny.com>",license$1="MIT",bugs$1={url:"https://github.com/indutny/elliptic/issues"},homepage$1="https://github.com/indutny/elliptic",devDependencies$1={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies$1={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},require$$0$2={name:name$1,version:version$3,description:description$1,main:main$2,files,scripts:scripts$1,repository:repository$1,keywords,author:author$1,license:license$1,bugs:bugs$1,homepage:homepage$1,devDependencies:devDependencies$1,dependencies:dependencies$1};var utils$l={},bn$3={exports:{}};bn$3.exports;(function(Re){(function(je,_e){function Me(Xe,Pe){if(!Xe)throw new Error(Pe||"Assertion failed")}function $e(Xe,Pe){Xe.super_=Pe;var Fe=function(){};Fe.prototype=Pe.prototype,Xe.prototype=new Fe,Xe.prototype.constructor=Xe}function ke(Xe,Pe,Fe){if(ke.isBN(Xe))return Xe;this.negative=0,this.words=null,this.length=0,this.red=null,Xe!==null&&((Pe==="le"||Pe==="be")&&(Fe=Pe,Pe=10),this._init(Xe||0,Pe||10,Fe||"be"))}typeof je=="object"?je.exports=ke:_e.BN=ke,ke.BN=ke,ke.wordSize=26;var Ce;try{typeof window<"u"&&typeof window.Buffer<"u"?Ce=window.Buffer:Ce=require$$0$3.Buffer}catch{}ke.isBN=function(Pe){return Pe instanceof ke?!0:Pe!==null&&typeof Pe=="object"&&Pe.constructor.wordSize===ke.wordSize&&Array.isArray(Pe.words)},ke.max=function(Pe,Fe){return Pe.cmp(Fe)>0?Pe:Fe},ke.min=function(Pe,Fe){return Pe.cmp(Fe)<0?Pe:Fe},ke.prototype._init=function(Pe,Fe,ze){if(typeof Pe=="number")return this._initNumber(Pe,Fe,ze);if(typeof Pe=="object")return this._initArray(Pe,Fe,ze);Fe==="hex"&&(Fe=16),Me(Fe===(Fe|0)&&Fe>=2&&Fe<=36),Pe=Pe.toString().replace(/\s+/g,"");var Ue=0;Pe[0]==="-"&&(Ue++,this.negative=1),Ue<Pe.length&&(Fe===16?this._parseHex(Pe,Ue,ze):(this._parseBase(Pe,Fe,Ue),ze==="le"&&this._initArray(this.toArray(),Fe,ze)))},ke.prototype._initNumber=function(Pe,Fe,ze){Pe<0&&(this.negative=1,Pe=-Pe),Pe<67108864?(this.words=[Pe&67108863],this.length=1):Pe<4503599627370496?(this.words=[Pe&67108863,Pe/67108864&67108863],this.length=2):(Me(Pe<9007199254740992),this.words=[Pe&67108863,Pe/67108864&67108863,1],this.length=3),ze==="le"&&this._initArray(this.toArray(),Fe,ze)},ke.prototype._initArray=function(Pe,Fe,ze){if(Me(typeof Pe.length=="number"),Pe.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(Pe.length/3),this.words=new Array(this.length);for(var Ue=0;Ue<this.length;Ue++)this.words[Ue]=0;var Ge,Ze,er=0;if(ze==="be")for(Ue=Pe.length-1,Ge=0;Ue>=0;Ue-=3)Ze=Pe[Ue]|Pe[Ue-1]<<8|Pe[Ue-2]<<16,this.words[Ge]|=Ze<<er&67108863,this.words[Ge+1]=Ze>>>26-er&67108863,er+=24,er>=26&&(er-=26,Ge++);else if(ze==="le")for(Ue=0,Ge=0;Ue<Pe.length;Ue+=3)Ze=Pe[Ue]|Pe[Ue+1]<<8|Pe[Ue+2]<<16,this.words[Ge]|=Ze<<er&67108863,this.words[Ge+1]=Ze>>>26-er&67108863,er+=24,er>=26&&(er-=26,Ge++);return this.strip()};function Be(Xe,Pe){var Fe=Xe.charCodeAt(Pe);return Fe>=65&&Fe<=70?Fe-55:Fe>=97&&Fe<=102?Fe-87:Fe-48&15}function qe(Xe,Pe,Fe){var ze=Be(Xe,Fe);return Fe-1>=Pe&&(ze|=Be(Xe,Fe-1)<<4),ze}ke.prototype._parseHex=function(Pe,Fe,ze){this.length=Math.ceil((Pe.length-Fe)/6),this.words=new Array(this.length);for(var Ue=0;Ue<this.length;Ue++)this.words[Ue]=0;var Ge=0,Ze=0,er;if(ze==="be")for(Ue=Pe.length-1;Ue>=Fe;Ue-=2)er=qe(Pe,Fe,Ue)<<Ge,this.words[Ze]|=er&67108863,Ge>=18?(Ge-=18,Ze+=1,this.words[Ze]|=er>>>26):Ge+=8;else{var Ve=Pe.length-Fe;for(Ue=Ve%2===0?Fe+1:Fe;Ue<Pe.length;Ue+=2)er=qe(Pe,Fe,Ue)<<Ge,this.words[Ze]|=er&67108863,Ge>=18?(Ge-=18,Ze+=1,this.words[Ze]|=er>>>26):Ge+=8}this.strip()};function He(Xe,Pe,Fe,ze){for(var Ue=0,Ge=Math.min(Xe.length,Fe),Ze=Pe;Ze<Ge;Ze++){var er=Xe.charCodeAt(Ze)-48;Ue*=ze,er>=49?Ue+=er-49+10:er>=17?Ue+=er-17+10:Ue+=er}return Ue}ke.prototype._parseBase=function(Pe,Fe,ze){this.words=[0],this.length=1;for(var Ue=0,Ge=1;Ge<=67108863;Ge*=Fe)Ue++;Ue--,Ge=Ge/Fe|0;for(var Ze=Pe.length-ze,er=Ze%Ue,Ve=Math.min(Ze,Ze-er)+ze,Ie=0,Ye=ze;Ye<Ve;Ye+=Ue)Ie=He(Pe,Ye,Ye+Ue,Fe),this.imuln(Ge),this.words[0]+Ie<67108864?this.words[0]+=Ie:this._iaddn(Ie);if(er!==0){var ir=1;for(Ie=He(Pe,Ye,Pe.length,Fe),Ye=0;Ye<er;Ye++)ir*=Fe;this.imuln(ir),this.words[0]+Ie<67108864?this.words[0]+=Ie:this._iaddn(Ie)}this.strip()},ke.prototype.copy=function(Pe){Pe.words=new Array(this.length);for(var Fe=0;Fe<this.length;Fe++)Pe.words[Fe]=this.words[Fe];Pe.length=this.length,Pe.negative=this.negative,Pe.red=this.red},ke.prototype.clone=function(){var Pe=new ke(null);return this.copy(Pe),Pe},ke.prototype._expand=function(Pe){for(;this.length<Pe;)this.words[this.length++]=0;return this},ke.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},ke.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},ke.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var We=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Ke=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Je=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];ke.prototype.toString=function(Pe,Fe){Pe=Pe||10,Fe=Fe|0||1;var ze;if(Pe===16||Pe==="hex"){ze="";for(var Ue=0,Ge=0,Ze=0;Ze<this.length;Ze++){var er=this.words[Ze],Ve=((er<<Ue|Ge)&16777215).toString(16);Ge=er>>>24-Ue&16777215,Ue+=2,Ue>=26&&(Ue-=26,Ze--),Ge!==0||Ze!==this.length-1?ze=We[6-Ve.length]+Ve+ze:ze=Ve+ze}for(Ge!==0&&(ze=Ge.toString(16)+ze);ze.length%Fe!==0;)ze="0"+ze;return this.negative!==0&&(ze="-"+ze),ze}if(Pe===(Pe|0)&&Pe>=2&&Pe<=36){var Ie=Ke[Pe],Ye=Je[Pe];ze="";var ir=this.clone();for(ir.negative=0;!ir.isZero();){var lr=ir.modn(Ye).toString(Pe);ir=ir.idivn(Ye),ir.isZero()?ze=lr+ze:ze=We[Ie-lr.length]+lr+ze}for(this.isZero()&&(ze="0"+ze);ze.length%Fe!==0;)ze="0"+ze;return this.negative!==0&&(ze="-"+ze),ze}Me(!1,"Base should be between 2 and 36")},ke.prototype.toNumber=function(){var Pe=this.words[0];return this.length===2?Pe+=this.words[1]*67108864:this.length===3&&this.words[2]===1?Pe+=4503599627370496+this.words[1]*67108864:this.length>2&&Me(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-Pe:Pe},ke.prototype.toJSON=function(){return this.toString(16)},ke.prototype.toBuffer=function(Pe,Fe){return Me(typeof Ce<"u"),this.toArrayLike(Ce,Pe,Fe)},ke.prototype.toArray=function(Pe,Fe){return this.toArrayLike(Array,Pe,Fe)},ke.prototype.toArrayLike=function(Pe,Fe,ze){var Ue=this.byteLength(),Ge=ze||Math.max(1,Ue);Me(Ue<=Ge,"byte array longer than desired length"),Me(Ge>0,"Requested array length <= 0"),this.strip();var Ze=Fe==="le",er=new Pe(Ge),Ve,Ie,Ye=this.clone();if(Ze){for(Ie=0;!Ye.isZero();Ie++)Ve=Ye.andln(255),Ye.iushrn(8),er[Ie]=Ve;for(;Ie<Ge;Ie++)er[Ie]=0}else{for(Ie=0;Ie<Ge-Ue;Ie++)er[Ie]=0;for(Ie=0;!Ye.isZero();Ie++)Ve=Ye.andln(255),Ye.iushrn(8),er[Ge-Ie-1]=Ve}return er},Math.clz32?ke.prototype._countBits=function(Pe){return 32-Math.clz32(Pe)}:ke.prototype._countBits=function(Pe){var Fe=Pe,ze=0;return Fe>=4096&&(ze+=13,Fe>>>=13),Fe>=64&&(ze+=7,Fe>>>=7),Fe>=8&&(ze+=4,Fe>>>=4),Fe>=2&&(ze+=2,Fe>>>=2),ze+Fe},ke.prototype._zeroBits=function(Pe){if(Pe===0)return 26;var Fe=Pe,ze=0;return Fe&8191||(ze+=13,Fe>>>=13),Fe&127||(ze+=7,Fe>>>=7),Fe&15||(ze+=4,Fe>>>=4),Fe&3||(ze+=2,Fe>>>=2),Fe&1||ze++,ze},ke.prototype.bitLength=function(){var Pe=this.words[this.length-1],Fe=this._countBits(Pe);return(this.length-1)*26+Fe};function Qe(Xe){for(var Pe=new Array(Xe.bitLength()),Fe=0;Fe<Pe.length;Fe++){var ze=Fe/26|0,Ue=Fe%26;Pe[Fe]=(Xe.words[ze]&1<<Ue)>>>Ue}return Pe}ke.prototype.zeroBits=function(){if(this.isZero())return 0;for(var Pe=0,Fe=0;Fe<this.length;Fe++){var ze=this._zeroBits(this.words[Fe]);if(Pe+=ze,ze!==26)break}return Pe},ke.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},ke.prototype.toTwos=function(Pe){return this.negative!==0?this.abs().inotn(Pe).iaddn(1):this.clone()},ke.prototype.fromTwos=function(Pe){return this.testn(Pe-1)?this.notn(Pe).iaddn(1).ineg():this.clone()},ke.prototype.isNeg=function(){return this.negative!==0},ke.prototype.neg=function(){return this.clone().ineg()},ke.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},ke.prototype.iuor=function(Pe){for(;this.length<Pe.length;)this.words[this.length++]=0;for(var Fe=0;Fe<Pe.length;Fe++)this.words[Fe]=this.words[Fe]|Pe.words[Fe];return this.strip()},ke.prototype.ior=function(Pe){return Me((this.negative|Pe.negative)===0),this.iuor(Pe)},ke.prototype.or=function(Pe){return this.length>Pe.length?this.clone().ior(Pe):Pe.clone().ior(this)},ke.prototype.uor=function(Pe){return this.length>Pe.length?this.clone().iuor(Pe):Pe.clone().iuor(this)},ke.prototype.iuand=function(Pe){var Fe;this.length>Pe.length?Fe=Pe:Fe=this;for(var ze=0;ze<Fe.length;ze++)this.words[ze]=this.words[ze]&Pe.words[ze];return this.length=Fe.length,this.strip()},ke.prototype.iand=function(Pe){return Me((this.negative|Pe.negative)===0),this.iuand(Pe)},ke.prototype.and=function(Pe){return this.length>Pe.length?this.clone().iand(Pe):Pe.clone().iand(this)},ke.prototype.uand=function(Pe){return this.length>Pe.length?this.clone().iuand(Pe):Pe.clone().iuand(this)},ke.prototype.iuxor=function(Pe){var Fe,ze;this.length>Pe.length?(Fe=this,ze=Pe):(Fe=Pe,ze=this);for(var Ue=0;Ue<ze.length;Ue++)this.words[Ue]=Fe.words[Ue]^ze.words[Ue];if(this!==Fe)for(;Ue<Fe.length;Ue++)this.words[Ue]=Fe.words[Ue];return this.length=Fe.length,this.strip()},ke.prototype.ixor=function(Pe){return Me((this.negative|Pe.negative)===0),this.iuxor(Pe)},ke.prototype.xor=function(Pe){return this.length>Pe.length?this.clone().ixor(Pe):Pe.clone().ixor(this)},ke.prototype.uxor=function(Pe){return this.length>Pe.length?this.clone().iuxor(Pe):Pe.clone().iuxor(this)},ke.prototype.inotn=function(Pe){Me(typeof Pe=="number"&&Pe>=0);var Fe=Math.ceil(Pe/26)|0,ze=Pe%26;this._expand(Fe),ze>0&&Fe--;for(var Ue=0;Ue<Fe;Ue++)this.words[Ue]=~this.words[Ue]&67108863;return ze>0&&(this.words[Ue]=~this.words[Ue]&67108863>>26-ze),this.strip()},ke.prototype.notn=function(Pe){return this.clone().inotn(Pe)},ke.prototype.setn=function(Pe,Fe){Me(typeof Pe=="number"&&Pe>=0);var ze=Pe/26|0,Ue=Pe%26;return this._expand(ze+1),Fe?this.words[ze]=this.words[ze]|1<<Ue:this.words[ze]=this.words[ze]&~(1<<Ue),this.strip()},ke.prototype.iadd=function(Pe){var Fe;if(this.negative!==0&&Pe.negative===0)return this.negative=0,Fe=this.isub(Pe),this.negative^=1,this._normSign();if(this.negative===0&&Pe.negative!==0)return Pe.negative=0,Fe=this.isub(Pe),Pe.negative=1,Fe._normSign();var ze,Ue;this.length>Pe.length?(ze=this,Ue=Pe):(ze=Pe,Ue=this);for(var Ge=0,Ze=0;Ze<Ue.length;Ze++)Fe=(ze.words[Ze]|0)+(Ue.words[Ze]|0)+Ge,this.words[Ze]=Fe&67108863,Ge=Fe>>>26;for(;Ge!==0&&Ze<ze.length;Ze++)Fe=(ze.words[Ze]|0)+Ge,this.words[Ze]=Fe&67108863,Ge=Fe>>>26;if(this.length=ze.length,Ge!==0)this.words[this.length]=Ge,this.length++;else if(ze!==this)for(;Ze<ze.length;Ze++)this.words[Ze]=ze.words[Ze];return this},ke.prototype.add=function(Pe){var Fe;return Pe.negative!==0&&this.negative===0?(Pe.negative=0,Fe=this.sub(Pe),Pe.negative^=1,Fe):Pe.negative===0&&this.negative!==0?(this.negative=0,Fe=Pe.sub(this),this.negative=1,Fe):this.length>Pe.length?this.clone().iadd(Pe):Pe.clone().iadd(this)},ke.prototype.isub=function(Pe){if(Pe.negative!==0){Pe.negative=0;var Fe=this.iadd(Pe);return Pe.negative=1,Fe._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(Pe),this.negative=1,this._normSign();var ze=this.cmp(Pe);if(ze===0)return this.negative=0,this.length=1,this.words[0]=0,this;var Ue,Ge;ze>0?(Ue=this,Ge=Pe):(Ue=Pe,Ge=this);for(var Ze=0,er=0;er<Ge.length;er++)Fe=(Ue.words[er]|0)-(Ge.words[er]|0)+Ze,Ze=Fe>>26,this.words[er]=Fe&67108863;for(;Ze!==0&&er<Ue.length;er++)Fe=(Ue.words[er]|0)+Ze,Ze=Fe>>26,this.words[er]=Fe&67108863;if(Ze===0&&er<Ue.length&&Ue!==this)for(;er<Ue.length;er++)this.words[er]=Ue.words[er];return this.length=Math.max(this.length,er),Ue!==this&&(this.negative=1),this.strip()},ke.prototype.sub=function(Pe){return this.clone().isub(Pe)};function rr(Xe,Pe,Fe){Fe.negative=Pe.negative^Xe.negative;var ze=Xe.length+Pe.length|0;Fe.length=ze,ze=ze-1|0;var Ue=Xe.words[0]|0,Ge=Pe.words[0]|0,Ze=Ue*Ge,er=Ze&67108863,Ve=Ze/67108864|0;Fe.words[0]=er;for(var Ie=1;Ie<ze;Ie++){for(var Ye=Ve>>>26,ir=Ve&67108863,lr=Math.min(Ie,Pe.length-1),br=Math.max(0,Ie-Xe.length+1);br<=lr;br++){var _r=Ie-br|0;Ue=Xe.words[_r]|0,Ge=Pe.words[br]|0,Ze=Ue*Ge+ir,Ye+=Ze/67108864|0,ir=Ze&67108863}Fe.words[Ie]=ir|0,Ve=Ye|0}return Ve!==0?Fe.words[Ie]=Ve|0:Fe.length--,Fe.strip()}var tr=function(Pe,Fe,ze){var Ue=Pe.words,Ge=Fe.words,Ze=ze.words,er=0,Ve,Ie,Ye,ir=Ue[0]|0,lr=ir&8191,br=ir>>>13,_r=Ue[1]|0,Sr=_r&8191,wr=_r>>>13,Nr=Ue[2]|0,kr=Nr&8191,Lr=Nr>>>13,Xr=Ue[3]|0,Ur=Xr&8191,Gr=Xr>>>13,Ts=Ue[4]|0,Br=Ts&8191,Cr=Ts>>>13,qs=Ue[5]|0,$r=qs&8191,Tr=qs>>>13,Kr=Ue[6]|0,qr=Kr&8191,Hr=Kr>>>13,ss=Ue[7]|0,Vr=ss&8191,Zr=ss>>>13,Is=Ue[8]|0,Jr=Is&8191,cs=Is>>>13,zs=Ue[9]|0,ns=zs&8191,Qr=zs>>>13,Zs=Ge[0]|0,os=Zs&8191,_s=Zs>>>13,Ys=Ge[1]|0,ds=Ys&8191,Ns=Ys>>>13,Xs=Ge[2]|0,ys=Xs&8191,ws=Xs>>>13,ni=Ge[3]|0,bs=ni&8191,Es=ni>>>13,Hs=Ge[4]|0,us=Hs&8191,As=Hs>>>13,Qs=Ge[5]|0,vs=Qs&8191,Ms=Qs>>>13,Us=Ge[6]|0,xs=Us&8191,ks=Us>>>13,ri=Ge[7]|0,fs=ri&8191,Rs=ri>>>13,si=Ge[8]|0,js=si&8191,$s=si>>>13,ai=Ge[9]|0,gs=ai&8191,Ss=ai>>>13;ze.negative=Pe.negative^Fe.negative,ze.length=19,Ve=Math.imul(lr,os),Ie=Math.imul(lr,_s),Ie=Ie+Math.imul(br,os)|0,Ye=Math.imul(br,_s);var ei=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(ei>>>26)|0,ei&=67108863,Ve=Math.imul(Sr,os),Ie=Math.imul(Sr,_s),Ie=Ie+Math.imul(wr,os)|0,Ye=Math.imul(wr,_s),Ve=Ve+Math.imul(lr,ds)|0,Ie=Ie+Math.imul(lr,Ns)|0,Ie=Ie+Math.imul(br,ds)|0,Ye=Ye+Math.imul(br,Ns)|0;var Js=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(Js>>>26)|0,Js&=67108863,Ve=Math.imul(kr,os),Ie=Math.imul(kr,_s),Ie=Ie+Math.imul(Lr,os)|0,Ye=Math.imul(Lr,_s),Ve=Ve+Math.imul(Sr,ds)|0,Ie=Ie+Math.imul(Sr,Ns)|0,Ie=Ie+Math.imul(wr,ds)|0,Ye=Ye+Math.imul(wr,Ns)|0,Ve=Ve+Math.imul(lr,ys)|0,Ie=Ie+Math.imul(lr,ws)|0,Ie=Ie+Math.imul(br,ys)|0,Ye=Ye+Math.imul(br,ws)|0;var di=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(di>>>26)|0,di&=67108863,Ve=Math.imul(Ur,os),Ie=Math.imul(Ur,_s),Ie=Ie+Math.imul(Gr,os)|0,Ye=Math.imul(Gr,_s),Ve=Ve+Math.imul(kr,ds)|0,Ie=Ie+Math.imul(kr,Ns)|0,Ie=Ie+Math.imul(Lr,ds)|0,Ye=Ye+Math.imul(Lr,Ns)|0,Ve=Ve+Math.imul(Sr,ys)|0,Ie=Ie+Math.imul(Sr,ws)|0,Ie=Ie+Math.imul(wr,ys)|0,Ye=Ye+Math.imul(wr,ws)|0,Ve=Ve+Math.imul(lr,bs)|0,Ie=Ie+Math.imul(lr,Es)|0,Ie=Ie+Math.imul(br,bs)|0,Ye=Ye+Math.imul(br,Es)|0;var fi=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(fi>>>26)|0,fi&=67108863,Ve=Math.imul(Br,os),Ie=Math.imul(Br,_s),Ie=Ie+Math.imul(Cr,os)|0,Ye=Math.imul(Cr,_s),Ve=Ve+Math.imul(Ur,ds)|0,Ie=Ie+Math.imul(Ur,Ns)|0,Ie=Ie+Math.imul(Gr,ds)|0,Ye=Ye+Math.imul(Gr,Ns)|0,Ve=Ve+Math.imul(kr,ys)|0,Ie=Ie+Math.imul(kr,ws)|0,Ie=Ie+Math.imul(Lr,ys)|0,Ye=Ye+Math.imul(Lr,ws)|0,Ve=Ve+Math.imul(Sr,bs)|0,Ie=Ie+Math.imul(Sr,Es)|0,Ie=Ie+Math.imul(wr,bs)|0,Ye=Ye+Math.imul(wr,Es)|0,Ve=Ve+Math.imul(lr,us)|0,Ie=Ie+Math.imul(lr,As)|0,Ie=Ie+Math.imul(br,us)|0,Ye=Ye+Math.imul(br,As)|0;var mi=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(mi>>>26)|0,mi&=67108863,Ve=Math.imul($r,os),Ie=Math.imul($r,_s),Ie=Ie+Math.imul(Tr,os)|0,Ye=Math.imul(Tr,_s),Ve=Ve+Math.imul(Br,ds)|0,Ie=Ie+Math.imul(Br,Ns)|0,Ie=Ie+Math.imul(Cr,ds)|0,Ye=Ye+Math.imul(Cr,Ns)|0,Ve=Ve+Math.imul(Ur,ys)|0,Ie=Ie+Math.imul(Ur,ws)|0,Ie=Ie+Math.imul(Gr,ys)|0,Ye=Ye+Math.imul(Gr,ws)|0,Ve=Ve+Math.imul(kr,bs)|0,Ie=Ie+Math.imul(kr,Es)|0,Ie=Ie+Math.imul(Lr,bs)|0,Ye=Ye+Math.imul(Lr,Es)|0,Ve=Ve+Math.imul(Sr,us)|0,Ie=Ie+Math.imul(Sr,As)|0,Ie=Ie+Math.imul(wr,us)|0,Ye=Ye+Math.imul(wr,As)|0,Ve=Ve+Math.imul(lr,vs)|0,Ie=Ie+Math.imul(lr,Ms)|0,Ie=Ie+Math.imul(br,vs)|0,Ye=Ye+Math.imul(br,Ms)|0;var pi=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(pi>>>26)|0,pi&=67108863,Ve=Math.imul(qr,os),Ie=Math.imul(qr,_s),Ie=Ie+Math.imul(Hr,os)|0,Ye=Math.imul(Hr,_s),Ve=Ve+Math.imul($r,ds)|0,Ie=Ie+Math.imul($r,Ns)|0,Ie=Ie+Math.imul(Tr,ds)|0,Ye=Ye+Math.imul(Tr,Ns)|0,Ve=Ve+Math.imul(Br,ys)|0,Ie=Ie+Math.imul(Br,ws)|0,Ie=Ie+Math.imul(Cr,ys)|0,Ye=Ye+Math.imul(Cr,ws)|0,Ve=Ve+Math.imul(Ur,bs)|0,Ie=Ie+Math.imul(Ur,Es)|0,Ie=Ie+Math.imul(Gr,bs)|0,Ye=Ye+Math.imul(Gr,Es)|0,Ve=Ve+Math.imul(kr,us)|0,Ie=Ie+Math.imul(kr,As)|0,Ie=Ie+Math.imul(Lr,us)|0,Ye=Ye+Math.imul(Lr,As)|0,Ve=Ve+Math.imul(Sr,vs)|0,Ie=Ie+Math.imul(Sr,Ms)|0,Ie=Ie+Math.imul(wr,vs)|0,Ye=Ye+Math.imul(wr,Ms)|0,Ve=Ve+Math.imul(lr,xs)|0,Ie=Ie+Math.imul(lr,ks)|0,Ie=Ie+Math.imul(br,xs)|0,Ye=Ye+Math.imul(br,ks)|0;var xi=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(xi>>>26)|0,xi&=67108863,Ve=Math.imul(Vr,os),Ie=Math.imul(Vr,_s),Ie=Ie+Math.imul(Zr,os)|0,Ye=Math.imul(Zr,_s),Ve=Ve+Math.imul(qr,ds)|0,Ie=Ie+Math.imul(qr,Ns)|0,Ie=Ie+Math.imul(Hr,ds)|0,Ye=Ye+Math.imul(Hr,Ns)|0,Ve=Ve+Math.imul($r,ys)|0,Ie=Ie+Math.imul($r,ws)|0,Ie=Ie+Math.imul(Tr,ys)|0,Ye=Ye+Math.imul(Tr,ws)|0,Ve=Ve+Math.imul(Br,bs)|0,Ie=Ie+Math.imul(Br,Es)|0,Ie=Ie+Math.imul(Cr,bs)|0,Ye=Ye+Math.imul(Cr,Es)|0,Ve=Ve+Math.imul(Ur,us)|0,Ie=Ie+Math.imul(Ur,As)|0,Ie=Ie+Math.imul(Gr,us)|0,Ye=Ye+Math.imul(Gr,As)|0,Ve=Ve+Math.imul(kr,vs)|0,Ie=Ie+Math.imul(kr,Ms)|0,Ie=Ie+Math.imul(Lr,vs)|0,Ye=Ye+Math.imul(Lr,Ms)|0,Ve=Ve+Math.imul(Sr,xs)|0,Ie=Ie+Math.imul(Sr,ks)|0,Ie=Ie+Math.imul(wr,xs)|0,Ye=Ye+Math.imul(wr,ks)|0,Ve=Ve+Math.imul(lr,fs)|0,Ie=Ie+Math.imul(lr,Rs)|0,Ie=Ie+Math.imul(br,fs)|0,Ye=Ye+Math.imul(br,Rs)|0;var gi=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(gi>>>26)|0,gi&=67108863,Ve=Math.imul(Jr,os),Ie=Math.imul(Jr,_s),Ie=Ie+Math.imul(cs,os)|0,Ye=Math.imul(cs,_s),Ve=Ve+Math.imul(Vr,ds)|0,Ie=Ie+Math.imul(Vr,Ns)|0,Ie=Ie+Math.imul(Zr,ds)|0,Ye=Ye+Math.imul(Zr,Ns)|0,Ve=Ve+Math.imul(qr,ys)|0,Ie=Ie+Math.imul(qr,ws)|0,Ie=Ie+Math.imul(Hr,ys)|0,Ye=Ye+Math.imul(Hr,ws)|0,Ve=Ve+Math.imul($r,bs)|0,Ie=Ie+Math.imul($r,Es)|0,Ie=Ie+Math.imul(Tr,bs)|0,Ye=Ye+Math.imul(Tr,Es)|0,Ve=Ve+Math.imul(Br,us)|0,Ie=Ie+Math.imul(Br,As)|0,Ie=Ie+Math.imul(Cr,us)|0,Ye=Ye+Math.imul(Cr,As)|0,Ve=Ve+Math.imul(Ur,vs)|0,Ie=Ie+Math.imul(Ur,Ms)|0,Ie=Ie+Math.imul(Gr,vs)|0,Ye=Ye+Math.imul(Gr,Ms)|0,Ve=Ve+Math.imul(kr,xs)|0,Ie=Ie+Math.imul(kr,ks)|0,Ie=Ie+Math.imul(Lr,xs)|0,Ye=Ye+Math.imul(Lr,ks)|0,Ve=Ve+Math.imul(Sr,fs)|0,Ie=Ie+Math.imul(Sr,Rs)|0,Ie=Ie+Math.imul(wr,fs)|0,Ye=Ye+Math.imul(wr,Rs)|0,Ve=Ve+Math.imul(lr,js)|0,Ie=Ie+Math.imul(lr,$s)|0,Ie=Ie+Math.imul(br,js)|0,Ye=Ye+Math.imul(br,$s)|0;var Ei=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(Ei>>>26)|0,Ei&=67108863,Ve=Math.imul(ns,os),Ie=Math.imul(ns,_s),Ie=Ie+Math.imul(Qr,os)|0,Ye=Math.imul(Qr,_s),Ve=Ve+Math.imul(Jr,ds)|0,Ie=Ie+Math.imul(Jr,Ns)|0,Ie=Ie+Math.imul(cs,ds)|0,Ye=Ye+Math.imul(cs,Ns)|0,Ve=Ve+Math.imul(Vr,ys)|0,Ie=Ie+Math.imul(Vr,ws)|0,Ie=Ie+Math.imul(Zr,ys)|0,Ye=Ye+Math.imul(Zr,ws)|0,Ve=Ve+Math.imul(qr,bs)|0,Ie=Ie+Math.imul(qr,Es)|0,Ie=Ie+Math.imul(Hr,bs)|0,Ye=Ye+Math.imul(Hr,Es)|0,Ve=Ve+Math.imul($r,us)|0,Ie=Ie+Math.imul($r,As)|0,Ie=Ie+Math.imul(Tr,us)|0,Ye=Ye+Math.imul(Tr,As)|0,Ve=Ve+Math.imul(Br,vs)|0,Ie=Ie+Math.imul(Br,Ms)|0,Ie=Ie+Math.imul(Cr,vs)|0,Ye=Ye+Math.imul(Cr,Ms)|0,Ve=Ve+Math.imul(Ur,xs)|0,Ie=Ie+Math.imul(Ur,ks)|0,Ie=Ie+Math.imul(Gr,xs)|0,Ye=Ye+Math.imul(Gr,ks)|0,Ve=Ve+Math.imul(kr,fs)|0,Ie=Ie+Math.imul(kr,Rs)|0,Ie=Ie+Math.imul(Lr,fs)|0,Ye=Ye+Math.imul(Lr,Rs)|0,Ve=Ve+Math.imul(Sr,js)|0,Ie=Ie+Math.imul(Sr,$s)|0,Ie=Ie+Math.imul(wr,js)|0,Ye=Ye+Math.imul(wr,$s)|0,Ve=Ve+Math.imul(lr,gs)|0,Ie=Ie+Math.imul(lr,Ss)|0,Ie=Ie+Math.imul(br,gs)|0,Ye=Ye+Math.imul(br,Ss)|0;var Si=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(Si>>>26)|0,Si&=67108863,Ve=Math.imul(ns,ds),Ie=Math.imul(ns,Ns),Ie=Ie+Math.imul(Qr,ds)|0,Ye=Math.imul(Qr,Ns),Ve=Ve+Math.imul(Jr,ys)|0,Ie=Ie+Math.imul(Jr,ws)|0,Ie=Ie+Math.imul(cs,ys)|0,Ye=Ye+Math.imul(cs,ws)|0,Ve=Ve+Math.imul(Vr,bs)|0,Ie=Ie+Math.imul(Vr,Es)|0,Ie=Ie+Math.imul(Zr,bs)|0,Ye=Ye+Math.imul(Zr,Es)|0,Ve=Ve+Math.imul(qr,us)|0,Ie=Ie+Math.imul(qr,As)|0,Ie=Ie+Math.imul(Hr,us)|0,Ye=Ye+Math.imul(Hr,As)|0,Ve=Ve+Math.imul($r,vs)|0,Ie=Ie+Math.imul($r,Ms)|0,Ie=Ie+Math.imul(Tr,vs)|0,Ye=Ye+Math.imul(Tr,Ms)|0,Ve=Ve+Math.imul(Br,xs)|0,Ie=Ie+Math.imul(Br,ks)|0,Ie=Ie+Math.imul(Cr,xs)|0,Ye=Ye+Math.imul(Cr,ks)|0,Ve=Ve+Math.imul(Ur,fs)|0,Ie=Ie+Math.imul(Ur,Rs)|0,Ie=Ie+Math.imul(Gr,fs)|0,Ye=Ye+Math.imul(Gr,Rs)|0,Ve=Ve+Math.imul(kr,js)|0,Ie=Ie+Math.imul(kr,$s)|0,Ie=Ie+Math.imul(Lr,js)|0,Ye=Ye+Math.imul(Lr,$s)|0,Ve=Ve+Math.imul(Sr,gs)|0,Ie=Ie+Math.imul(Sr,Ss)|0,Ie=Ie+Math.imul(wr,gs)|0,Ye=Ye+Math.imul(wr,Ss)|0;var Ni=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(Ni>>>26)|0,Ni&=67108863,Ve=Math.imul(ns,ys),Ie=Math.imul(ns,ws),Ie=Ie+Math.imul(Qr,ys)|0,Ye=Math.imul(Qr,ws),Ve=Ve+Math.imul(Jr,bs)|0,Ie=Ie+Math.imul(Jr,Es)|0,Ie=Ie+Math.imul(cs,bs)|0,Ye=Ye+Math.imul(cs,Es)|0,Ve=Ve+Math.imul(Vr,us)|0,Ie=Ie+Math.imul(Vr,As)|0,Ie=Ie+Math.imul(Zr,us)|0,Ye=Ye+Math.imul(Zr,As)|0,Ve=Ve+Math.imul(qr,vs)|0,Ie=Ie+Math.imul(qr,Ms)|0,Ie=Ie+Math.imul(Hr,vs)|0,Ye=Ye+Math.imul(Hr,Ms)|0,Ve=Ve+Math.imul($r,xs)|0,Ie=Ie+Math.imul($r,ks)|0,Ie=Ie+Math.imul(Tr,xs)|0,Ye=Ye+Math.imul(Tr,ks)|0,Ve=Ve+Math.imul(Br,fs)|0,Ie=Ie+Math.imul(Br,Rs)|0,Ie=Ie+Math.imul(Cr,fs)|0,Ye=Ye+Math.imul(Cr,Rs)|0,Ve=Ve+Math.imul(Ur,js)|0,Ie=Ie+Math.imul(Ur,$s)|0,Ie=Ie+Math.imul(Gr,js)|0,Ye=Ye+Math.imul(Gr,$s)|0,Ve=Ve+Math.imul(kr,gs)|0,Ie=Ie+Math.imul(kr,Ss)|0,Ie=Ie+Math.imul(Lr,gs)|0,Ye=Ye+Math.imul(Lr,Ss)|0;var vi=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(vi>>>26)|0,vi&=67108863,Ve=Math.imul(ns,bs),Ie=Math.imul(ns,Es),Ie=Ie+Math.imul(Qr,bs)|0,Ye=Math.imul(Qr,Es),Ve=Ve+Math.imul(Jr,us)|0,Ie=Ie+Math.imul(Jr,As)|0,Ie=Ie+Math.imul(cs,us)|0,Ye=Ye+Math.imul(cs,As)|0,Ve=Ve+Math.imul(Vr,vs)|0,Ie=Ie+Math.imul(Vr,Ms)|0,Ie=Ie+Math.imul(Zr,vs)|0,Ye=Ye+Math.imul(Zr,Ms)|0,Ve=Ve+Math.imul(qr,xs)|0,Ie=Ie+Math.imul(qr,ks)|0,Ie=Ie+Math.imul(Hr,xs)|0,Ye=Ye+Math.imul(Hr,ks)|0,Ve=Ve+Math.imul($r,fs)|0,Ie=Ie+Math.imul($r,Rs)|0,Ie=Ie+Math.imul(Tr,fs)|0,Ye=Ye+Math.imul(Tr,Rs)|0,Ve=Ve+Math.imul(Br,js)|0,Ie=Ie+Math.imul(Br,$s)|0,Ie=Ie+Math.imul(Cr,js)|0,Ye=Ye+Math.imul(Cr,$s)|0,Ve=Ve+Math.imul(Ur,gs)|0,Ie=Ie+Math.imul(Ur,Ss)|0,Ie=Ie+Math.imul(Gr,gs)|0,Ye=Ye+Math.imul(Gr,Ss)|0;var Ri=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(Ri>>>26)|0,Ri&=67108863,Ve=Math.imul(ns,us),Ie=Math.imul(ns,As),Ie=Ie+Math.imul(Qr,us)|0,Ye=Math.imul(Qr,As),Ve=Ve+Math.imul(Jr,vs)|0,Ie=Ie+Math.imul(Jr,Ms)|0,Ie=Ie+Math.imul(cs,vs)|0,Ye=Ye+Math.imul(cs,Ms)|0,Ve=Ve+Math.imul(Vr,xs)|0,Ie=Ie+Math.imul(Vr,ks)|0,Ie=Ie+Math.imul(Zr,xs)|0,Ye=Ye+Math.imul(Zr,ks)|0,Ve=Ve+Math.imul(qr,fs)|0,Ie=Ie+Math.imul(qr,Rs)|0,Ie=Ie+Math.imul(Hr,fs)|0,Ye=Ye+Math.imul(Hr,Rs)|0,Ve=Ve+Math.imul($r,js)|0,Ie=Ie+Math.imul($r,$s)|0,Ie=Ie+Math.imul(Tr,js)|0,Ye=Ye+Math.imul(Tr,$s)|0,Ve=Ve+Math.imul(Br,gs)|0,Ie=Ie+Math.imul(Br,Ss)|0,Ie=Ie+Math.imul(Cr,gs)|0,Ye=Ye+Math.imul(Cr,Ss)|0;var Mi=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(Mi>>>26)|0,Mi&=67108863,Ve=Math.imul(ns,vs),Ie=Math.imul(ns,Ms),Ie=Ie+Math.imul(Qr,vs)|0,Ye=Math.imul(Qr,Ms),Ve=Ve+Math.imul(Jr,xs)|0,Ie=Ie+Math.imul(Jr,ks)|0,Ie=Ie+Math.imul(cs,xs)|0,Ye=Ye+Math.imul(cs,ks)|0,Ve=Ve+Math.imul(Vr,fs)|0,Ie=Ie+Math.imul(Vr,Rs)|0,Ie=Ie+Math.imul(Zr,fs)|0,Ye=Ye+Math.imul(Zr,Rs)|0,Ve=Ve+Math.imul(qr,js)|0,Ie=Ie+Math.imul(qr,$s)|0,Ie=Ie+Math.imul(Hr,js)|0,Ye=Ye+Math.imul(Hr,$s)|0,Ve=Ve+Math.imul($r,gs)|0,Ie=Ie+Math.imul($r,Ss)|0,Ie=Ie+Math.imul(Tr,gs)|0,Ye=Ye+Math.imul(Tr,Ss)|0;var ji=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(ji>>>26)|0,ji&=67108863,Ve=Math.imul(ns,xs),Ie=Math.imul(ns,ks),Ie=Ie+Math.imul(Qr,xs)|0,Ye=Math.imul(Qr,ks),Ve=Ve+Math.imul(Jr,fs)|0,Ie=Ie+Math.imul(Jr,Rs)|0,Ie=Ie+Math.imul(cs,fs)|0,Ye=Ye+Math.imul(cs,Rs)|0,Ve=Ve+Math.imul(Vr,js)|0,Ie=Ie+Math.imul(Vr,$s)|0,Ie=Ie+Math.imul(Zr,js)|0,Ye=Ye+Math.imul(Zr,$s)|0,Ve=Ve+Math.imul(qr,gs)|0,Ie=Ie+Math.imul(qr,Ss)|0,Ie=Ie+Math.imul(Hr,gs)|0,Ye=Ye+Math.imul(Hr,Ss)|0;var ki=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(ki>>>26)|0,ki&=67108863,Ve=Math.imul(ns,fs),Ie=Math.imul(ns,Rs),Ie=Ie+Math.imul(Qr,fs)|0,Ye=Math.imul(Qr,Rs),Ve=Ve+Math.imul(Jr,js)|0,Ie=Ie+Math.imul(Jr,$s)|0,Ie=Ie+Math.imul(cs,js)|0,Ye=Ye+Math.imul(cs,$s)|0,Ve=Ve+Math.imul(Vr,gs)|0,Ie=Ie+Math.imul(Vr,Ss)|0,Ie=Ie+Math.imul(Zr,gs)|0,Ye=Ye+Math.imul(Zr,Ss)|0;var _i=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(_i>>>26)|0,_i&=67108863,Ve=Math.imul(ns,js),Ie=Math.imul(ns,$s),Ie=Ie+Math.imul(Qr,js)|0,Ye=Math.imul(Qr,$s),Ve=Ve+Math.imul(Jr,gs)|0,Ie=Ie+Math.imul(Jr,Ss)|0,Ie=Ie+Math.imul(cs,gs)|0,Ye=Ye+Math.imul(cs,Ss)|0;var $i=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+($i>>>26)|0,$i&=67108863,Ve=Math.imul(ns,gs),Ie=Math.imul(ns,Ss),Ie=Ie+Math.imul(Qr,gs)|0,Ye=Math.imul(Qr,Ss);var bi=(er+Ve|0)+((Ie&8191)<<13)|0;return er=(Ye+(Ie>>>13)|0)+(bi>>>26)|0,bi&=67108863,Ze[0]=ei,Ze[1]=Js,Ze[2]=di,Ze[3]=fi,Ze[4]=mi,Ze[5]=pi,Ze[6]=xi,Ze[7]=gi,Ze[8]=Ei,Ze[9]=Si,Ze[10]=Ni,Ze[11]=vi,Ze[12]=Ri,Ze[13]=Mi,Ze[14]=ji,Ze[15]=ki,Ze[16]=_i,Ze[17]=$i,Ze[18]=bi,er!==0&&(Ze[19]=er,ze.length++),ze};Math.imul||(tr=rr);function cr(Xe,Pe,Fe){Fe.negative=Pe.negative^Xe.negative,Fe.length=Xe.length+Pe.length;for(var ze=0,Ue=0,Ge=0;Ge<Fe.length-1;Ge++){var Ze=Ue;Ue=0;for(var er=ze&67108863,Ve=Math.min(Ge,Pe.length-1),Ie=Math.max(0,Ge-Xe.length+1);Ie<=Ve;Ie++){var Ye=Ge-Ie,ir=Xe.words[Ye]|0,lr=Pe.words[Ie]|0,br=ir*lr,_r=br&67108863;Ze=Ze+(br/67108864|0)|0,_r=_r+er|0,er=_r&67108863,Ze=Ze+(_r>>>26)|0,Ue+=Ze>>>26,Ze&=67108863}Fe.words[Ge]=er,ze=Ze,Ze=Ue}return ze!==0?Fe.words[Ge]=ze:Fe.length--,Fe.strip()}function or(Xe,Pe,Fe){var ze=new ar;return ze.mulp(Xe,Pe,Fe)}ke.prototype.mulTo=function(Pe,Fe){var ze,Ue=this.length+Pe.length;return this.length===10&&Pe.length===10?ze=tr(this,Pe,Fe):Ue<63?ze=rr(this,Pe,Fe):Ue<1024?ze=cr(this,Pe,Fe):ze=or(this,Pe,Fe),ze};function ar(Xe,Pe){this.x=Xe,this.y=Pe}ar.prototype.makeRBT=function(Pe){for(var Fe=new Array(Pe),ze=ke.prototype._countBits(Pe)-1,Ue=0;Ue<Pe;Ue++)Fe[Ue]=this.revBin(Ue,ze,Pe);return Fe},ar.prototype.revBin=function(Pe,Fe,ze){if(Pe===0||Pe===ze-1)return Pe;for(var Ue=0,Ge=0;Ge<Fe;Ge++)Ue|=(Pe&1)<<Fe-Ge-1,Pe>>=1;return Ue},ar.prototype.permute=function(Pe,Fe,ze,Ue,Ge,Ze){for(var er=0;er<Ze;er++)Ue[er]=Fe[Pe[er]],Ge[er]=ze[Pe[er]]},ar.prototype.transform=function(Pe,Fe,ze,Ue,Ge,Ze){this.permute(Ze,Pe,Fe,ze,Ue,Ge);for(var er=1;er<Ge;er<<=1)for(var Ve=er<<1,Ie=Math.cos(2*Math.PI/Ve),Ye=Math.sin(2*Math.PI/Ve),ir=0;ir<Ge;ir+=Ve)for(var lr=Ie,br=Ye,_r=0;_r<er;_r++){var Sr=ze[ir+_r],wr=Ue[ir+_r],Nr=ze[ir+_r+er],kr=Ue[ir+_r+er],Lr=lr*Nr-br*kr;kr=lr*kr+br*Nr,Nr=Lr,ze[ir+_r]=Sr+Nr,Ue[ir+_r]=wr+kr,ze[ir+_r+er]=Sr-Nr,Ue[ir+_r+er]=wr-kr,_r!==Ve&&(Lr=Ie*lr-Ye*br,br=Ie*br+Ye*lr,lr=Lr)}},ar.prototype.guessLen13b=function(Pe,Fe){var ze=Math.max(Fe,Pe)|1,Ue=ze&1,Ge=0;for(ze=ze/2|0;ze;ze=ze>>>1)Ge++;return 1<<Ge+1+Ue},ar.prototype.conjugate=function(Pe,Fe,ze){if(!(ze<=1))for(var Ue=0;Ue<ze/2;Ue++){var Ge=Pe[Ue];Pe[Ue]=Pe[ze-Ue-1],Pe[ze-Ue-1]=Ge,Ge=Fe[Ue],Fe[Ue]=-Fe[ze-Ue-1],Fe[ze-Ue-1]=-Ge}},ar.prototype.normalize13b=function(Pe,Fe){for(var ze=0,Ue=0;Ue<Fe/2;Ue++){var Ge=Math.round(Pe[2*Ue+1]/Fe)*8192+Math.round(Pe[2*Ue]/Fe)+ze;Pe[Ue]=Ge&67108863,Ge<67108864?ze=0:ze=Ge/67108864|0}return Pe},ar.prototype.convert13b=function(Pe,Fe,ze,Ue){for(var Ge=0,Ze=0;Ze<Fe;Ze++)Ge=Ge+(Pe[Ze]|0),ze[2*Ze]=Ge&8191,Ge=Ge>>>13,ze[2*Ze+1]=Ge&8191,Ge=Ge>>>13;for(Ze=2*Fe;Ze<Ue;++Ze)ze[Ze]=0;Me(Ge===0),Me((Ge&-8192)===0)},ar.prototype.stub=function(Pe){for(var Fe=new Array(Pe),ze=0;ze<Pe;ze++)Fe[ze]=0;return Fe},ar.prototype.mulp=function(Pe,Fe,ze){var Ue=2*this.guessLen13b(Pe.length,Fe.length),Ge=this.makeRBT(Ue),Ze=this.stub(Ue),er=new Array(Ue),Ve=new Array(Ue),Ie=new Array(Ue),Ye=new Array(Ue),ir=new Array(Ue),lr=new Array(Ue),br=ze.words;br.length=Ue,this.convert13b(Pe.words,Pe.length,er,Ue),this.convert13b(Fe.words,Fe.length,Ye,Ue),this.transform(er,Ze,Ve,Ie,Ue,Ge),this.transform(Ye,Ze,ir,lr,Ue,Ge);for(var _r=0;_r<Ue;_r++){var Sr=Ve[_r]*ir[_r]-Ie[_r]*lr[_r];Ie[_r]=Ve[_r]*lr[_r]+Ie[_r]*ir[_r],Ve[_r]=Sr}return this.conjugate(Ve,Ie,Ue),this.transform(Ve,Ie,br,Ze,Ue,Ge),this.conjugate(br,Ze,Ue),this.normalize13b(br,Ue),ze.negative=Pe.negative^Fe.negative,ze.length=Pe.length+Fe.length,ze.strip()},ke.prototype.mul=function(Pe){var Fe=new ke(null);return Fe.words=new Array(this.length+Pe.length),this.mulTo(Pe,Fe)},ke.prototype.mulf=function(Pe){var Fe=new ke(null);return Fe.words=new Array(this.length+Pe.length),or(this,Pe,Fe)},ke.prototype.imul=function(Pe){return this.clone().mulTo(Pe,this)},ke.prototype.imuln=function(Pe){Me(typeof Pe=="number"),Me(Pe<67108864);for(var Fe=0,ze=0;ze<this.length;ze++){var Ue=(this.words[ze]|0)*Pe,Ge=(Ue&67108863)+(Fe&67108863);Fe>>=26,Fe+=Ue/67108864|0,Fe+=Ge>>>26,this.words[ze]=Ge&67108863}return Fe!==0&&(this.words[ze]=Fe,this.length++),this.length=Pe===0?1:this.length,this},ke.prototype.muln=function(Pe){return this.clone().imuln(Pe)},ke.prototype.sqr=function(){return this.mul(this)},ke.prototype.isqr=function(){return this.imul(this.clone())},ke.prototype.pow=function(Pe){var Fe=Qe(Pe);if(Fe.length===0)return new ke(1);for(var ze=this,Ue=0;Ue<Fe.length&&Fe[Ue]===0;Ue++,ze=ze.sqr());if(++Ue<Fe.length)for(var Ge=ze.sqr();Ue<Fe.length;Ue++,Ge=Ge.sqr())Fe[Ue]!==0&&(ze=ze.mul(Ge));return ze},ke.prototype.iushln=function(Pe){Me(typeof Pe=="number"&&Pe>=0);var Fe=Pe%26,ze=(Pe-Fe)/26,Ue=67108863>>>26-Fe<<26-Fe,Ge;if(Fe!==0){var Ze=0;for(Ge=0;Ge<this.length;Ge++){var er=this.words[Ge]&Ue,Ve=(this.words[Ge]|0)-er<<Fe;this.words[Ge]=Ve|Ze,Ze=er>>>26-Fe}Ze&&(this.words[Ge]=Ze,this.length++)}if(ze!==0){for(Ge=this.length-1;Ge>=0;Ge--)this.words[Ge+ze]=this.words[Ge];for(Ge=0;Ge<ze;Ge++)this.words[Ge]=0;this.length+=ze}return this.strip()},ke.prototype.ishln=function(Pe){return Me(this.negative===0),this.iushln(Pe)},ke.prototype.iushrn=function(Pe,Fe,ze){Me(typeof Pe=="number"&&Pe>=0);var Ue;Fe?Ue=(Fe-Fe%26)/26:Ue=0;var Ge=Pe%26,Ze=Math.min((Pe-Ge)/26,this.length),er=67108863^67108863>>>Ge<<Ge,Ve=ze;if(Ue-=Ze,Ue=Math.max(0,Ue),Ve){for(var Ie=0;Ie<Ze;Ie++)Ve.words[Ie]=this.words[Ie];Ve.length=Ze}if(Ze!==0)if(this.length>Ze)for(this.length-=Ze,Ie=0;Ie<this.length;Ie++)this.words[Ie]=this.words[Ie+Ze];else this.words[0]=0,this.length=1;var Ye=0;for(Ie=this.length-1;Ie>=0&&(Ye!==0||Ie>=Ue);Ie--){var ir=this.words[Ie]|0;this.words[Ie]=Ye<<26-Ge|ir>>>Ge,Ye=ir&er}return Ve&&Ye!==0&&(Ve.words[Ve.length++]=Ye),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},ke.prototype.ishrn=function(Pe,Fe,ze){return Me(this.negative===0),this.iushrn(Pe,Fe,ze)},ke.prototype.shln=function(Pe){return this.clone().ishln(Pe)},ke.prototype.ushln=function(Pe){return this.clone().iushln(Pe)},ke.prototype.shrn=function(Pe){return this.clone().ishrn(Pe)},ke.prototype.ushrn=function(Pe){return this.clone().iushrn(Pe)},ke.prototype.testn=function(Pe){Me(typeof Pe=="number"&&Pe>=0);var Fe=Pe%26,ze=(Pe-Fe)/26,Ue=1<<Fe;if(this.length<=ze)return!1;var Ge=this.words[ze];return!!(Ge&Ue)},ke.prototype.imaskn=function(Pe){Me(typeof Pe=="number"&&Pe>=0);var Fe=Pe%26,ze=(Pe-Fe)/26;if(Me(this.negative===0,"imaskn works only with positive numbers"),this.length<=ze)return this;if(Fe!==0&&ze++,this.length=Math.min(ze,this.length),Fe!==0){var Ue=67108863^67108863>>>Fe<<Fe;this.words[this.length-1]&=Ue}return this.strip()},ke.prototype.maskn=function(Pe){return this.clone().imaskn(Pe)},ke.prototype.iaddn=function(Pe){return Me(typeof Pe=="number"),Me(Pe<67108864),Pe<0?this.isubn(-Pe):this.negative!==0?this.length===1&&(this.words[0]|0)<Pe?(this.words[0]=Pe-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(Pe),this.negative=1,this):this._iaddn(Pe)},ke.prototype._iaddn=function(Pe){this.words[0]+=Pe;for(var Fe=0;Fe<this.length&&this.words[Fe]>=67108864;Fe++)this.words[Fe]-=67108864,Fe===this.length-1?this.words[Fe+1]=1:this.words[Fe+1]++;return this.length=Math.max(this.length,Fe+1),this},ke.prototype.isubn=function(Pe){if(Me(typeof Pe=="number"),Me(Pe<67108864),Pe<0)return this.iaddn(-Pe);if(this.negative!==0)return this.negative=0,this.iaddn(Pe),this.negative=1,this;if(this.words[0]-=Pe,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var Fe=0;Fe<this.length&&this.words[Fe]<0;Fe++)this.words[Fe]+=67108864,this.words[Fe+1]-=1;return this.strip()},ke.prototype.addn=function(Pe){return this.clone().iaddn(Pe)},ke.prototype.subn=function(Pe){return this.clone().isubn(Pe)},ke.prototype.iabs=function(){return this.negative=0,this},ke.prototype.abs=function(){return this.clone().iabs()},ke.prototype._ishlnsubmul=function(Pe,Fe,ze){var Ue=Pe.length+ze,Ge;this._expand(Ue);var Ze,er=0;for(Ge=0;Ge<Pe.length;Ge++){Ze=(this.words[Ge+ze]|0)+er;var Ve=(Pe.words[Ge]|0)*Fe;Ze-=Ve&67108863,er=(Ze>>26)-(Ve/67108864|0),this.words[Ge+ze]=Ze&67108863}for(;Ge<this.length-ze;Ge++)Ze=(this.words[Ge+ze]|0)+er,er=Ze>>26,this.words[Ge+ze]=Ze&67108863;if(er===0)return this.strip();for(Me(er===-1),er=0,Ge=0;Ge<this.length;Ge++)Ze=-(this.words[Ge]|0)+er,er=Ze>>26,this.words[Ge]=Ze&67108863;return this.negative=1,this.strip()},ke.prototype._wordDiv=function(Pe,Fe){var ze=this.length-Pe.length,Ue=this.clone(),Ge=Pe,Ze=Ge.words[Ge.length-1]|0,er=this._countBits(Ze);ze=26-er,ze!==0&&(Ge=Ge.ushln(ze),Ue.iushln(ze),Ze=Ge.words[Ge.length-1]|0);var Ve=Ue.length-Ge.length,Ie;if(Fe!=="mod"){Ie=new ke(null),Ie.length=Ve+1,Ie.words=new Array(Ie.length);for(var Ye=0;Ye<Ie.length;Ye++)Ie.words[Ye]=0}var ir=Ue.clone()._ishlnsubmul(Ge,1,Ve);ir.negative===0&&(Ue=ir,Ie&&(Ie.words[Ve]=1));for(var lr=Ve-1;lr>=0;lr--){var br=(Ue.words[Ge.length+lr]|0)*67108864+(Ue.words[Ge.length+lr-1]|0);for(br=Math.min(br/Ze|0,67108863),Ue._ishlnsubmul(Ge,br,lr);Ue.negative!==0;)br--,Ue.negative=0,Ue._ishlnsubmul(Ge,1,lr),Ue.isZero()||(Ue.negative^=1);Ie&&(Ie.words[lr]=br)}return Ie&&Ie.strip(),Ue.strip(),Fe!=="div"&&ze!==0&&Ue.iushrn(ze),{div:Ie||null,mod:Ue}},ke.prototype.divmod=function(Pe,Fe,ze){if(Me(!Pe.isZero()),this.isZero())return{div:new ke(0),mod:new ke(0)};var Ue,Ge,Ze;return this.negative!==0&&Pe.negative===0?(Ze=this.neg().divmod(Pe,Fe),Fe!=="mod"&&(Ue=Ze.div.neg()),Fe!=="div"&&(Ge=Ze.mod.neg(),ze&&Ge.negative!==0&&Ge.iadd(Pe)),{div:Ue,mod:Ge}):this.negative===0&&Pe.negative!==0?(Ze=this.divmod(Pe.neg(),Fe),Fe!=="mod"&&(Ue=Ze.div.neg()),{div:Ue,mod:Ze.mod}):this.negative&Pe.negative?(Ze=this.neg().divmod(Pe.neg(),Fe),Fe!=="div"&&(Ge=Ze.mod.neg(),ze&&Ge.negative!==0&&Ge.isub(Pe)),{div:Ze.div,mod:Ge}):Pe.length>this.length||this.cmp(Pe)<0?{div:new ke(0),mod:this}:Pe.length===1?Fe==="div"?{div:this.divn(Pe.words[0]),mod:null}:Fe==="mod"?{div:null,mod:new ke(this.modn(Pe.words[0]))}:{div:this.divn(Pe.words[0]),mod:new ke(this.modn(Pe.words[0]))}:this._wordDiv(Pe,Fe)},ke.prototype.div=function(Pe){return this.divmod(Pe,"div",!1).div},ke.prototype.mod=function(Pe){return this.divmod(Pe,"mod",!1).mod},ke.prototype.umod=function(Pe){return this.divmod(Pe,"mod",!0).mod},ke.prototype.divRound=function(Pe){var Fe=this.divmod(Pe);if(Fe.mod.isZero())return Fe.div;var ze=Fe.div.negative!==0?Fe.mod.isub(Pe):Fe.mod,Ue=Pe.ushrn(1),Ge=Pe.andln(1),Ze=ze.cmp(Ue);return Ze<0||Ge===1&&Ze===0?Fe.div:Fe.div.negative!==0?Fe.div.isubn(1):Fe.div.iaddn(1)},ke.prototype.modn=function(Pe){Me(Pe<=67108863);for(var Fe=(1<<26)%Pe,ze=0,Ue=this.length-1;Ue>=0;Ue--)ze=(Fe*ze+(this.words[Ue]|0))%Pe;return ze},ke.prototype.idivn=function(Pe){Me(Pe<=67108863);for(var Fe=0,ze=this.length-1;ze>=0;ze--){var Ue=(this.words[ze]|0)+Fe*67108864;this.words[ze]=Ue/Pe|0,Fe=Ue%Pe}return this.strip()},ke.prototype.divn=function(Pe){return this.clone().idivn(Pe)},ke.prototype.egcd=function(Pe){Me(Pe.negative===0),Me(!Pe.isZero());var Fe=this,ze=Pe.clone();Fe.negative!==0?Fe=Fe.umod(Pe):Fe=Fe.clone();for(var Ue=new ke(1),Ge=new ke(0),Ze=new ke(0),er=new ke(1),Ve=0;Fe.isEven()&&ze.isEven();)Fe.iushrn(1),ze.iushrn(1),++Ve;for(var Ie=ze.clone(),Ye=Fe.clone();!Fe.isZero();){for(var ir=0,lr=1;!(Fe.words[0]&lr)&&ir<26;++ir,lr<<=1);if(ir>0)for(Fe.iushrn(ir);ir-- >0;)(Ue.isOdd()||Ge.isOdd())&&(Ue.iadd(Ie),Ge.isub(Ye)),Ue.iushrn(1),Ge.iushrn(1);for(var br=0,_r=1;!(ze.words[0]&_r)&&br<26;++br,_r<<=1);if(br>0)for(ze.iushrn(br);br-- >0;)(Ze.isOdd()||er.isOdd())&&(Ze.iadd(Ie),er.isub(Ye)),Ze.iushrn(1),er.iushrn(1);Fe.cmp(ze)>=0?(Fe.isub(ze),Ue.isub(Ze),Ge.isub(er)):(ze.isub(Fe),Ze.isub(Ue),er.isub(Ge))}return{a:Ze,b:er,gcd:ze.iushln(Ve)}},ke.prototype._invmp=function(Pe){Me(Pe.negative===0),Me(!Pe.isZero());var Fe=this,ze=Pe.clone();Fe.negative!==0?Fe=Fe.umod(Pe):Fe=Fe.clone();for(var Ue=new ke(1),Ge=new ke(0),Ze=ze.clone();Fe.cmpn(1)>0&&ze.cmpn(1)>0;){for(var er=0,Ve=1;!(Fe.words[0]&Ve)&&er<26;++er,Ve<<=1);if(er>0)for(Fe.iushrn(er);er-- >0;)Ue.isOdd()&&Ue.iadd(Ze),Ue.iushrn(1);for(var Ie=0,Ye=1;!(ze.words[0]&Ye)&&Ie<26;++Ie,Ye<<=1);if(Ie>0)for(ze.iushrn(Ie);Ie-- >0;)Ge.isOdd()&&Ge.iadd(Ze),Ge.iushrn(1);Fe.cmp(ze)>=0?(Fe.isub(ze),Ue.isub(Ge)):(ze.isub(Fe),Ge.isub(Ue))}var ir;return Fe.cmpn(1)===0?ir=Ue:ir=Ge,ir.cmpn(0)<0&&ir.iadd(Pe),ir},ke.prototype.gcd=function(Pe){if(this.isZero())return Pe.abs();if(Pe.isZero())return this.abs();var Fe=this.clone(),ze=Pe.clone();Fe.negative=0,ze.negative=0;for(var Ue=0;Fe.isEven()&&ze.isEven();Ue++)Fe.iushrn(1),ze.iushrn(1);do{for(;Fe.isEven();)Fe.iushrn(1);for(;ze.isEven();)ze.iushrn(1);var Ge=Fe.cmp(ze);if(Ge<0){var Ze=Fe;Fe=ze,ze=Ze}else if(Ge===0||ze.cmpn(1)===0)break;Fe.isub(ze)}while(!0);return ze.iushln(Ue)},ke.prototype.invm=function(Pe){return this.egcd(Pe).a.umod(Pe)},ke.prototype.isEven=function(){return(this.words[0]&1)===0},ke.prototype.isOdd=function(){return(this.words[0]&1)===1},ke.prototype.andln=function(Pe){return this.words[0]&Pe},ke.prototype.bincn=function(Pe){Me(typeof Pe=="number");var Fe=Pe%26,ze=(Pe-Fe)/26,Ue=1<<Fe;if(this.length<=ze)return this._expand(ze+1),this.words[ze]|=Ue,this;for(var Ge=Ue,Ze=ze;Ge!==0&&Ze<this.length;Ze++){var er=this.words[Ze]|0;er+=Ge,Ge=er>>>26,er&=67108863,this.words[Ze]=er}return Ge!==0&&(this.words[Ze]=Ge,this.length++),this},ke.prototype.isZero=function(){return this.length===1&&this.words[0]===0},ke.prototype.cmpn=function(Pe){var Fe=Pe<0;if(this.negative!==0&&!Fe)return-1;if(this.negative===0&&Fe)return 1;this.strip();var ze;if(this.length>1)ze=1;else{Fe&&(Pe=-Pe),Me(Pe<=67108863,"Number is too big");var Ue=this.words[0]|0;ze=Ue===Pe?0:Ue<Pe?-1:1}return this.negative!==0?-ze|0:ze},ke.prototype.cmp=function(Pe){if(this.negative!==0&&Pe.negative===0)return-1;if(this.negative===0&&Pe.negative!==0)return 1;var Fe=this.ucmp(Pe);return this.negative!==0?-Fe|0:Fe},ke.prototype.ucmp=function(Pe){if(this.length>Pe.length)return 1;if(this.length<Pe.length)return-1;for(var Fe=0,ze=this.length-1;ze>=0;ze--){var Ue=this.words[ze]|0,Ge=Pe.words[ze]|0;if(Ue!==Ge){Ue<Ge?Fe=-1:Ue>Ge&&(Fe=1);break}}return Fe},ke.prototype.gtn=function(Pe){return this.cmpn(Pe)===1},ke.prototype.gt=function(Pe){return this.cmp(Pe)===1},ke.prototype.gten=function(Pe){return this.cmpn(Pe)>=0},ke.prototype.gte=function(Pe){return this.cmp(Pe)>=0},ke.prototype.ltn=function(Pe){return this.cmpn(Pe)===-1},ke.prototype.lt=function(Pe){return this.cmp(Pe)===-1},ke.prototype.lten=function(Pe){return this.cmpn(Pe)<=0},ke.prototype.lte=function(Pe){return this.cmp(Pe)<=0},ke.prototype.eqn=function(Pe){return this.cmpn(Pe)===0},ke.prototype.eq=function(Pe){return this.cmp(Pe)===0},ke.red=function(Pe){return new xr(Pe)},ke.prototype.toRed=function(Pe){return Me(!this.red,"Already a number in reduction context"),Me(this.negative===0,"red works only with positives"),Pe.convertTo(this)._forceRed(Pe)},ke.prototype.fromRed=function(){return Me(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},ke.prototype._forceRed=function(Pe){return this.red=Pe,this},ke.prototype.forceRed=function(Pe){return Me(!this.red,"Already a number in reduction context"),this._forceRed(Pe)},ke.prototype.redAdd=function(Pe){return Me(this.red,"redAdd works only with red numbers"),this.red.add(this,Pe)},ke.prototype.redIAdd=function(Pe){return Me(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,Pe)},ke.prototype.redSub=function(Pe){return Me(this.red,"redSub works only with red numbers"),this.red.sub(this,Pe)},ke.prototype.redISub=function(Pe){return Me(this.red,"redISub works only with red numbers"),this.red.isub(this,Pe)},ke.prototype.redShl=function(Pe){return Me(this.red,"redShl works only with red numbers"),this.red.shl(this,Pe)},ke.prototype.redMul=function(Pe){return Me(this.red,"redMul works only with red numbers"),this.red._verify2(this,Pe),this.red.mul(this,Pe)},ke.prototype.redIMul=function(Pe){return Me(this.red,"redMul works only with red numbers"),this.red._verify2(this,Pe),this.red.imul(this,Pe)},ke.prototype.redSqr=function(){return Me(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},ke.prototype.redISqr=function(){return Me(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},ke.prototype.redSqrt=function(){return Me(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},ke.prototype.redInvm=function(){return Me(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},ke.prototype.redNeg=function(){return Me(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},ke.prototype.redPow=function(Pe){return Me(this.red&&!Pe.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,Pe)};var pr={k256:null,p224:null,p192:null,p25519:null};function ur(Xe,Pe){this.name=Xe,this.p=new ke(Pe,16),this.n=this.p.bitLength(),this.k=new ke(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}ur.prototype._tmp=function(){var Pe=new ke(null);return Pe.words=new Array(Math.ceil(this.n/13)),Pe},ur.prototype.ireduce=function(Pe){var Fe=Pe,ze;do this.split(Fe,this.tmp),Fe=this.imulK(Fe),Fe=Fe.iadd(this.tmp),ze=Fe.bitLength();while(ze>this.n);var Ue=ze<this.n?-1:Fe.ucmp(this.p);return Ue===0?(Fe.words[0]=0,Fe.length=1):Ue>0?Fe.isub(this.p):Fe.strip!==void 0?Fe.strip():Fe._strip(),Fe},ur.prototype.split=function(Pe,Fe){Pe.iushrn(this.n,0,Fe)},ur.prototype.imulK=function(Pe){return Pe.imul(this.k)};function gr(){ur.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}$e(gr,ur),gr.prototype.split=function(Pe,Fe){for(var ze=4194303,Ue=Math.min(Pe.length,9),Ge=0;Ge<Ue;Ge++)Fe.words[Ge]=Pe.words[Ge];if(Fe.length=Ue,Pe.length<=9){Pe.words[0]=0,Pe.length=1;return}var Ze=Pe.words[9];for(Fe.words[Fe.length++]=Ze&ze,Ge=10;Ge<Pe.length;Ge++){var er=Pe.words[Ge]|0;Pe.words[Ge-10]=(er&ze)<<4|Ze>>>22,Ze=er}Ze>>>=22,Pe.words[Ge-10]=Ze,Ze===0&&Pe.length>10?Pe.length-=10:Pe.length-=9},gr.prototype.imulK=function(Pe){Pe.words[Pe.length]=0,Pe.words[Pe.length+1]=0,Pe.length+=2;for(var Fe=0,ze=0;ze<Pe.length;ze++){var Ue=Pe.words[ze]|0;Fe+=Ue*977,Pe.words[ze]=Fe&67108863,Fe=Ue*64+(Fe/67108864|0)}return Pe.words[Pe.length-1]===0&&(Pe.length--,Pe.words[Pe.length-1]===0&&Pe.length--),Pe};function jr(){ur.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}$e(jr,ur);function vr(){ur.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}$e(vr,ur);function dr(){ur.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}$e(dr,ur),dr.prototype.imulK=function(Pe){for(var Fe=0,ze=0;ze<Pe.length;ze++){var Ue=(Pe.words[ze]|0)*19+Fe,Ge=Ue&67108863;Ue>>>=26,Pe.words[ze]=Ge,Fe=Ue}return Fe!==0&&(Pe.words[Pe.length++]=Fe),Pe},ke._prime=function(Pe){if(pr[Pe])return pr[Pe];var Fe;if(Pe==="k256")Fe=new gr;else if(Pe==="p224")Fe=new jr;else if(Pe==="p192")Fe=new vr;else if(Pe==="p25519")Fe=new dr;else throw new Error("Unknown prime "+Pe);return pr[Pe]=Fe,Fe};function xr(Xe){if(typeof Xe=="string"){var Pe=ke._prime(Xe);this.m=Pe.p,this.prime=Pe}else Me(Xe.gtn(1),"modulus must be greater than 1"),this.m=Xe,this.prime=null}xr.prototype._verify1=function(Pe){Me(Pe.negative===0,"red works only with positives"),Me(Pe.red,"red works only with red numbers")},xr.prototype._verify2=function(Pe,Fe){Me((Pe.negative|Fe.negative)===0,"red works only with positives"),Me(Pe.red&&Pe.red===Fe.red,"red works only with red numbers")},xr.prototype.imod=function(Pe){return this.prime?this.prime.ireduce(Pe)._forceRed(this):Pe.umod(this.m)._forceRed(this)},xr.prototype.neg=function(Pe){return Pe.isZero()?Pe.clone():this.m.sub(Pe)._forceRed(this)},xr.prototype.add=function(Pe,Fe){this._verify2(Pe,Fe);var ze=Pe.add(Fe);return ze.cmp(this.m)>=0&&ze.isub(this.m),ze._forceRed(this)},xr.prototype.iadd=function(Pe,Fe){this._verify2(Pe,Fe);var ze=Pe.iadd(Fe);return ze.cmp(this.m)>=0&&ze.isub(this.m),ze},xr.prototype.sub=function(Pe,Fe){this._verify2(Pe,Fe);var ze=Pe.sub(Fe);return ze.cmpn(0)<0&&ze.iadd(this.m),ze._forceRed(this)},xr.prototype.isub=function(Pe,Fe){this._verify2(Pe,Fe);var ze=Pe.isub(Fe);return ze.cmpn(0)<0&&ze.iadd(this.m),ze},xr.prototype.shl=function(Pe,Fe){return this._verify1(Pe),this.imod(Pe.ushln(Fe))},xr.prototype.imul=function(Pe,Fe){return this._verify2(Pe,Fe),this.imod(Pe.imul(Fe))},xr.prototype.mul=function(Pe,Fe){return this._verify2(Pe,Fe),this.imod(Pe.mul(Fe))},xr.prototype.isqr=function(Pe){return this.imul(Pe,Pe.clone())},xr.prototype.sqr=function(Pe){return this.mul(Pe,Pe)},xr.prototype.sqrt=function(Pe){if(Pe.isZero())return Pe.clone();var Fe=this.m.andln(3);if(Me(Fe%2===1),Fe===3){var ze=this.m.add(new ke(1)).iushrn(2);return this.pow(Pe,ze)}for(var Ue=this.m.subn(1),Ge=0;!Ue.isZero()&&Ue.andln(1)===0;)Ge++,Ue.iushrn(1);Me(!Ue.isZero());var Ze=new ke(1).toRed(this),er=Ze.redNeg(),Ve=this.m.subn(1).iushrn(1),Ie=this.m.bitLength();for(Ie=new ke(2*Ie*Ie).toRed(this);this.pow(Ie,Ve).cmp(er)!==0;)Ie.redIAdd(er);for(var Ye=this.pow(Ie,Ue),ir=this.pow(Pe,Ue.addn(1).iushrn(1)),lr=this.pow(Pe,Ue),br=Ge;lr.cmp(Ze)!==0;){for(var _r=lr,Sr=0;_r.cmp(Ze)!==0;Sr++)_r=_r.redSqr();Me(Sr<br);var wr=this.pow(Ye,new ke(1).iushln(br-Sr-1));ir=ir.redMul(wr),Ye=wr.redSqr(),lr=lr.redMul(Ye),br=Sr}return ir},xr.prototype.invm=function(Pe){var Fe=Pe._invmp(this.m);return Fe.negative!==0?(Fe.negative=0,this.imod(Fe).redNeg()):this.imod(Fe)},xr.prototype.pow=function(Pe,Fe){if(Fe.isZero())return new ke(1).toRed(this);if(Fe.cmpn(1)===0)return Pe.clone();var ze=4,Ue=new Array(1<<ze);Ue[0]=new ke(1).toRed(this),Ue[1]=Pe;for(var Ge=2;Ge<Ue.length;Ge++)Ue[Ge]=this.mul(Ue[Ge-1],Pe);var Ze=Ue[0],er=0,Ve=0,Ie=Fe.bitLength()%26;for(Ie===0&&(Ie=26),Ge=Fe.length-1;Ge>=0;Ge--){for(var Ye=Fe.words[Ge],ir=Ie-1;ir>=0;ir--){var lr=Ye>>ir&1;if(Ze!==Ue[0]&&(Ze=this.sqr(Ze)),lr===0&&er===0){Ve=0;continue}er<<=1,er|=lr,Ve++,!(Ve!==ze&&(Ge!==0||ir!==0))&&(Ze=this.mul(Ze,Ue[er]),Ve=0,er=0)}Ie=26}return Ze},xr.prototype.convertTo=function(Pe){var Fe=Pe.umod(this.m);return Fe===Pe?Fe.clone():Fe},xr.prototype.convertFrom=function(Pe){var Fe=Pe.clone();return Fe.red=null,Fe},ke.mont=function(Pe){return new Rr(Pe)};function Rr(Xe){xr.call(this,Xe),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new ke(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}$e(Rr,xr),Rr.prototype.convertTo=function(Pe){return this.imod(Pe.ushln(this.shift))},Rr.prototype.convertFrom=function(Pe){var Fe=this.imod(Pe.mul(this.rinv));return Fe.red=null,Fe},Rr.prototype.imul=function(Pe,Fe){if(Pe.isZero()||Fe.isZero())return Pe.words[0]=0,Pe.length=1,Pe;var ze=Pe.imul(Fe),Ue=ze.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Ge=ze.isub(Ue).iushrn(this.shift),Ze=Ge;return Ge.cmp(this.m)>=0?Ze=Ge.isub(this.m):Ge.cmpn(0)<0&&(Ze=Ge.iadd(this.m)),Ze._forceRed(this)},Rr.prototype.mul=function(Pe,Fe){if(Pe.isZero()||Fe.isZero())return new ke(0)._forceRed(this);var ze=Pe.mul(Fe),Ue=ze.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Ge=ze.isub(Ue).iushrn(this.shift),Ze=Ge;return Ge.cmp(this.m)>=0?Ze=Ge.isub(this.m):Ge.cmpn(0)<0&&(Ze=Ge.iadd(this.m)),Ze._forceRed(this)},Rr.prototype.invm=function(Pe){var Fe=this.imod(Pe._invmp(this.m).mul(this.r2));return Fe._forceRed(this)}})(Re,commonjsGlobal)})(bn$3);var bnExports$3=bn$3.exports,utils$k={};(function(Re){var je=Re;function _e(ke,Ce){if(Array.isArray(ke))return ke.slice();if(!ke)return[];var Be=[];if(typeof ke!="string"){for(var qe=0;qe<ke.length;qe++)Be[qe]=ke[qe]|0;return Be}if(Ce==="hex"){ke=ke.replace(/[^a-z0-9]+/ig,""),ke.length%2!==0&&(ke="0"+ke);for(var qe=0;qe<ke.length;qe+=2)Be.push(parseInt(ke[qe]+ke[qe+1],16))}else for(var qe=0;qe<ke.length;qe++){var He=ke.charCodeAt(qe),We=He>>8,Ke=He&255;We?Be.push(We,Ke):Be.push(Ke)}return Be}je.toArray=_e;function Me(ke){return ke.length===1?"0"+ke:ke}je.zero2=Me;function $e(ke){for(var Ce="",Be=0;Be<ke.length;Be++)Ce+=Me(ke[Be].toString(16));return Ce}je.toHex=$e,je.encode=function(Ce,Be){return Be==="hex"?$e(Ce):Ce}})(utils$k);(function(Re){var je=Re,_e=bnExports$3,Me=minimalisticAssert,$e=utils$k;je.assert=Me,je.toArray=$e.toArray,je.zero2=$e.zero2,je.toHex=$e.toHex,je.encode=$e.encode;function ke(We,Ke,Je){var Qe=new Array(Math.max(We.bitLength(),Je)+1),rr;for(rr=0;rr<Qe.length;rr+=1)Qe[rr]=0;var tr=1<<Ke+1,cr=We.clone();for(rr=0;rr<Qe.length;rr++){var or,ar=cr.andln(tr-1);cr.isOdd()?(ar>(tr>>1)-1?or=(tr>>1)-ar:or=ar,cr.isubn(or)):or=0,Qe[rr]=or,cr.iushrn(1)}return Qe}je.getNAF=ke;function Ce(We,Ke){var Je=[[],[]];We=We.clone(),Ke=Ke.clone();for(var Qe=0,rr=0,tr;We.cmpn(-Qe)>0||Ke.cmpn(-rr)>0;){var cr=We.andln(3)+Qe&3,or=Ke.andln(3)+rr&3;cr===3&&(cr=-1),or===3&&(or=-1);var ar;cr&1?(tr=We.andln(7)+Qe&7,(tr===3||tr===5)&&or===2?ar=-cr:ar=cr):ar=0,Je[0].push(ar);var pr;or&1?(tr=Ke.andln(7)+rr&7,(tr===3||tr===5)&&cr===2?pr=-or:pr=or):pr=0,Je[1].push(pr),2*Qe===ar+1&&(Qe=1-Qe),2*rr===pr+1&&(rr=1-rr),We.iushrn(1),Ke.iushrn(1)}return Je}je.getJSF=Ce;function Be(We,Ke,Je){var Qe="_"+Ke;We.prototype[Ke]=function(){return this[Qe]!==void 0?this[Qe]:this[Qe]=Je.call(this)}}je.cachedProperty=Be;function qe(We){return typeof We=="string"?je.toArray(We,"hex"):We}je.parseBytes=qe;function He(We){return new _e(We,"hex","le")}je.intFromLE=He})(utils$l);var curve={},BN$9=bnExports$3,utils$j=utils$l,getNAF=utils$j.getNAF,getJSF=utils$j.getJSF,assert$d=utils$j.assert;function BaseCurve(Re,je){this.type=Re,this.p=new BN$9(je.p,16),this.red=je.prime?BN$9.red(je.prime):BN$9.mont(this.p),this.zero=new BN$9(0).toRed(this.red),this.one=new BN$9(1).toRed(this.red),this.two=new BN$9(2).toRed(this.red),this.n=je.n&&new BN$9(je.n,16),this.g=je.g&&this.pointFromJSON(je.g,je.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var _e=this.n&&this.p.div(this.n);!_e||_e.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var base$1=BaseCurve;BaseCurve.prototype.point=function(){throw new Error("Not implemented")};BaseCurve.prototype.validate=function(){throw new Error("Not implemented")};BaseCurve.prototype._fixedNafMul=function(je,_e){assert$d(je.precomputed);var Me=je._getDoubles(),$e=getNAF(_e,1,this._bitLength),ke=(1<<Me.step+1)-(Me.step%2===0?2:1);ke/=3;var Ce=[],Be,qe;for(Be=0;Be<$e.length;Be+=Me.step){qe=0;for(var He=Be+Me.step-1;He>=Be;He--)qe=(qe<<1)+$e[He];Ce.push(qe)}for(var We=this.jpoint(null,null,null),Ke=this.jpoint(null,null,null),Je=ke;Je>0;Je--){for(Be=0;Be<Ce.length;Be++)qe=Ce[Be],qe===Je?Ke=Ke.mixedAdd(Me.points[Be]):qe===-Je&&(Ke=Ke.mixedAdd(Me.points[Be].neg()));We=We.add(Ke)}return We.toP()};BaseCurve.prototype._wnafMul=function(je,_e){var Me=4,$e=je._getNAFPoints(Me);Me=$e.wnd;for(var ke=$e.points,Ce=getNAF(_e,Me,this._bitLength),Be=this.jpoint(null,null,null),qe=Ce.length-1;qe>=0;qe--){for(var He=0;qe>=0&&Ce[qe]===0;qe--)He++;if(qe>=0&&He++,Be=Be.dblp(He),qe<0)break;var We=Ce[qe];assert$d(We!==0),je.type==="affine"?We>0?Be=Be.mixedAdd(ke[We-1>>1]):Be=Be.mixedAdd(ke[-We-1>>1].neg()):We>0?Be=Be.add(ke[We-1>>1]):Be=Be.add(ke[-We-1>>1].neg())}return je.type==="affine"?Be.toP():Be};BaseCurve.prototype._wnafMulAdd=function(je,_e,Me,$e,ke){var Ce=this._wnafT1,Be=this._wnafT2,qe=this._wnafT3,He=0,We,Ke,Je;for(We=0;We<$e;We++){Je=_e[We];var Qe=Je._getNAFPoints(je);Ce[We]=Qe.wnd,Be[We]=Qe.points}for(We=$e-1;We>=1;We-=2){var rr=We-1,tr=We;if(Ce[rr]!==1||Ce[tr]!==1){qe[rr]=getNAF(Me[rr],Ce[rr],this._bitLength),qe[tr]=getNAF(Me[tr],Ce[tr],this._bitLength),He=Math.max(qe[rr].length,He),He=Math.max(qe[tr].length,He);continue}var cr=[_e[rr],null,null,_e[tr]];_e[rr].y.cmp(_e[tr].y)===0?(cr[1]=_e[rr].add(_e[tr]),cr[2]=_e[rr].toJ().mixedAdd(_e[tr].neg())):_e[rr].y.cmp(_e[tr].y.redNeg())===0?(cr[1]=_e[rr].toJ().mixedAdd(_e[tr]),cr[2]=_e[rr].add(_e[tr].neg())):(cr[1]=_e[rr].toJ().mixedAdd(_e[tr]),cr[2]=_e[rr].toJ().mixedAdd(_e[tr].neg()));var or=[-3,-1,-5,-7,0,7,5,1,3],ar=getJSF(Me[rr],Me[tr]);for(He=Math.max(ar[0].length,He),qe[rr]=new Array(He),qe[tr]=new Array(He),Ke=0;Ke<He;Ke++){var pr=ar[0][Ke]|0,ur=ar[1][Ke]|0;qe[rr][Ke]=or[(pr+1)*3+(ur+1)],qe[tr][Ke]=0,Be[rr]=cr}}var gr=this.jpoint(null,null,null),jr=this._wnafT4;for(We=He;We>=0;We--){for(var vr=0;We>=0;){var dr=!0;for(Ke=0;Ke<$e;Ke++)jr[Ke]=qe[Ke][We]|0,jr[Ke]!==0&&(dr=!1);if(!dr)break;vr++,We--}if(We>=0&&vr++,gr=gr.dblp(vr),We<0)break;for(Ke=0;Ke<$e;Ke++){var xr=jr[Ke];xr!==0&&(xr>0?Je=Be[Ke][xr-1>>1]:xr<0&&(Je=Be[Ke][-xr-1>>1].neg()),Je.type==="affine"?gr=gr.mixedAdd(Je):gr=gr.add(Je))}}for(We=0;We<$e;We++)Be[We]=null;return ke?gr:gr.toP()};function BasePoint(Re,je){this.curve=Re,this.type=je,this.precomputed=null}BaseCurve.BasePoint=BasePoint;BasePoint.prototype.eq=function(){throw new Error("Not implemented")};BasePoint.prototype.validate=function(){return this.curve.validate(this)};BaseCurve.prototype.decodePoint=function(je,_e){je=utils$j.toArray(je,_e);var Me=this.p.byteLength();if((je[0]===4||je[0]===6||je[0]===7)&&je.length-1===2*Me){je[0]===6?assert$d(je[je.length-1]%2===0):je[0]===7&&assert$d(je[je.length-1]%2===1);var $e=this.point(je.slice(1,1+Me),je.slice(1+Me,1+2*Me));return $e}else if((je[0]===2||je[0]===3)&&je.length-1===Me)return this.pointFromX(je.slice(1,1+Me),je[0]===3);throw new Error("Unknown point format")};BasePoint.prototype.encodeCompressed=function(je){return this.encode(je,!0)};BasePoint.prototype._encode=function(je){var _e=this.curve.p.byteLength(),Me=this.getX().toArray("be",_e);return je?[this.getY().isEven()?2:3].concat(Me):[4].concat(Me,this.getY().toArray("be",_e))};BasePoint.prototype.encode=function(je,_e){return utils$j.encode(this._encode(_e),je)};BasePoint.prototype.precompute=function(je){if(this.precomputed)return this;var _e={doubles:null,naf:null,beta:null};return _e.naf=this._getNAFPoints(8),_e.doubles=this._getDoubles(4,je),_e.beta=this._getBeta(),this.precomputed=_e,this};BasePoint.prototype._hasDoubles=function(je){if(!this.precomputed)return!1;var _e=this.precomputed.doubles;return _e?_e.points.length>=Math.ceil((je.bitLength()+1)/_e.step):!1};BasePoint.prototype._getDoubles=function(je,_e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var Me=[this],$e=this,ke=0;ke<_e;ke+=je){for(var Ce=0;Ce<je;Ce++)$e=$e.dbl();Me.push($e)}return{step:je,points:Me}};BasePoint.prototype._getNAFPoints=function(je){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var _e=[this],Me=(1<<je)-1,$e=Me===1?null:this.dbl(),ke=1;ke<Me;ke++)_e[ke]=_e[ke-1].add($e);return{wnd:je,points:_e}};BasePoint.prototype._getBeta=function(){return null};BasePoint.prototype.dblp=function(je){for(var _e=this,Me=0;Me<je;Me++)_e=_e.dbl();return _e};var utils$i=utils$l,BN$8=bnExports$3,inherits$4=inherits_browserExports,Base$2=base$1,assert$c=utils$i.assert;function ShortCurve(Re){Base$2.call(this,"short",Re),this.a=new BN$8(Re.a,16).toRed(this.red),this.b=new BN$8(Re.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(Re),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}inherits$4(ShortCurve,Base$2);var short=ShortCurve;ShortCurve.prototype._getEndomorphism=function(je){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var _e,Me;if(je.beta)_e=new BN$8(je.beta,16).toRed(this.red);else{var $e=this._getEndoRoots(this.p);_e=$e[0].cmp($e[1])<0?$e[0]:$e[1],_e=_e.toRed(this.red)}if(je.lambda)Me=new BN$8(je.lambda,16);else{var ke=this._getEndoRoots(this.n);this.g.mul(ke[0]).x.cmp(this.g.x.redMul(_e))===0?Me=ke[0]:(Me=ke[1],assert$c(this.g.mul(Me).x.cmp(this.g.x.redMul(_e))===0))}var Ce;return je.basis?Ce=je.basis.map(function(Be){return{a:new BN$8(Be.a,16),b:new BN$8(Be.b,16)}}):Ce=this._getEndoBasis(Me),{beta:_e,lambda:Me,basis:Ce}}};ShortCurve.prototype._getEndoRoots=function(je){var _e=je===this.p?this.red:BN$8.mont(je),Me=new BN$8(2).toRed(_e).redInvm(),$e=Me.redNeg(),ke=new BN$8(3).toRed(_e).redNeg().redSqrt().redMul(Me),Ce=$e.redAdd(ke).fromRed(),Be=$e.redSub(ke).fromRed();return[Ce,Be]};ShortCurve.prototype._getEndoBasis=function(je){for(var _e=this.n.ushrn(Math.floor(this.n.bitLength()/2)),Me=je,$e=this.n.clone(),ke=new BN$8(1),Ce=new BN$8(0),Be=new BN$8(0),qe=new BN$8(1),He,We,Ke,Je,Qe,rr,tr,cr=0,or,ar;Me.cmpn(0)!==0;){var pr=$e.div(Me);or=$e.sub(pr.mul(Me)),ar=Be.sub(pr.mul(ke));var ur=qe.sub(pr.mul(Ce));if(!Ke&&or.cmp(_e)<0)He=tr.neg(),We=ke,Ke=or.neg(),Je=ar;else if(Ke&&++cr===2)break;tr=or,$e=Me,Me=or,Be=ke,ke=ar,qe=Ce,Ce=ur}Qe=or.neg(),rr=ar;var gr=Ke.sqr().add(Je.sqr()),jr=Qe.sqr().add(rr.sqr());return jr.cmp(gr)>=0&&(Qe=He,rr=We),Ke.negative&&(Ke=Ke.neg(),Je=Je.neg()),Qe.negative&&(Qe=Qe.neg(),rr=rr.neg()),[{a:Ke,b:Je},{a:Qe,b:rr}]};ShortCurve.prototype._endoSplit=function(je){var _e=this.endo.basis,Me=_e[0],$e=_e[1],ke=$e.b.mul(je).divRound(this.n),Ce=Me.b.neg().mul(je).divRound(this.n),Be=ke.mul(Me.a),qe=Ce.mul($e.a),He=ke.mul(Me.b),We=Ce.mul($e.b),Ke=je.sub(Be).sub(qe),Je=He.add(We).neg();return{k1:Ke,k2:Je}};ShortCurve.prototype.pointFromX=function(je,_e){je=new BN$8(je,16),je.red||(je=je.toRed(this.red));var Me=je.redSqr().redMul(je).redIAdd(je.redMul(this.a)).redIAdd(this.b),$e=Me.redSqrt();if($e.redSqr().redSub(Me).cmp(this.zero)!==0)throw new Error("invalid point");var ke=$e.fromRed().isOdd();return(_e&&!ke||!_e&&ke)&&($e=$e.redNeg()),this.point(je,$e)};ShortCurve.prototype.validate=function(je){if(je.inf)return!0;var _e=je.x,Me=je.y,$e=this.a.redMul(_e),ke=_e.redSqr().redMul(_e).redIAdd($e).redIAdd(this.b);return Me.redSqr().redISub(ke).cmpn(0)===0};ShortCurve.prototype._endoWnafMulAdd=function(je,_e,Me){for(var $e=this._endoWnafT1,ke=this._endoWnafT2,Ce=0;Ce<je.length;Ce++){var Be=this._endoSplit(_e[Ce]),qe=je[Ce],He=qe._getBeta();Be.k1.negative&&(Be.k1.ineg(),qe=qe.neg(!0)),Be.k2.negative&&(Be.k2.ineg(),He=He.neg(!0)),$e[Ce*2]=qe,$e[Ce*2+1]=He,ke[Ce*2]=Be.k1,ke[Ce*2+1]=Be.k2}for(var We=this._wnafMulAdd(1,$e,ke,Ce*2,Me),Ke=0;Ke<Ce*2;Ke++)$e[Ke]=null,ke[Ke]=null;return We};function Point$2(Re,je,_e,Me){Base$2.BasePoint.call(this,Re,"affine"),je===null&&_e===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new BN$8(je,16),this.y=new BN$8(_e,16),Me&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}inherits$4(Point$2,Base$2.BasePoint);ShortCurve.prototype.point=function(je,_e,Me){return new Point$2(this,je,_e,Me)};ShortCurve.prototype.pointFromJSON=function(je,_e){return Point$2.fromJSON(this,je,_e)};Point$2.prototype._getBeta=function(){if(this.curve.endo){var je=this.precomputed;if(je&&je.beta)return je.beta;var _e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(je){var Me=this.curve,$e=function(ke){return Me.point(ke.x.redMul(Me.endo.beta),ke.y)};je.beta=_e,_e.precomputed={beta:null,naf:je.naf&&{wnd:je.naf.wnd,points:je.naf.points.map($e)},doubles:je.doubles&&{step:je.doubles.step,points:je.doubles.points.map($e)}}}return _e}};Point$2.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Point$2.fromJSON=function(je,_e,Me){typeof _e=="string"&&(_e=JSON.parse(_e));var $e=je.point(_e[0],_e[1],Me);if(!_e[2])return $e;function ke(Be){return je.point(Be[0],Be[1],Me)}var Ce=_e[2];return $e.precomputed={beta:null,doubles:Ce.doubles&&{step:Ce.doubles.step,points:[$e].concat(Ce.doubles.points.map(ke))},naf:Ce.naf&&{wnd:Ce.naf.wnd,points:[$e].concat(Ce.naf.points.map(ke))}},$e};Point$2.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Point$2.prototype.isInfinity=function(){return this.inf};Point$2.prototype.add=function(je){if(this.inf)return je;if(je.inf)return this;if(this.eq(je))return this.dbl();if(this.neg().eq(je))return this.curve.point(null,null);if(this.x.cmp(je.x)===0)return this.curve.point(null,null);var _e=this.y.redSub(je.y);_e.cmpn(0)!==0&&(_e=_e.redMul(this.x.redSub(je.x).redInvm()));var Me=_e.redSqr().redISub(this.x).redISub(je.x),$e=_e.redMul(this.x.redSub(Me)).redISub(this.y);return this.curve.point(Me,$e)};Point$2.prototype.dbl=function(){if(this.inf)return this;var je=this.y.redAdd(this.y);if(je.cmpn(0)===0)return this.curve.point(null,null);var _e=this.curve.a,Me=this.x.redSqr(),$e=je.redInvm(),ke=Me.redAdd(Me).redIAdd(Me).redIAdd(_e).redMul($e),Ce=ke.redSqr().redISub(this.x.redAdd(this.x)),Be=ke.redMul(this.x.redSub(Ce)).redISub(this.y);return this.curve.point(Ce,Be)};Point$2.prototype.getX=function(){return this.x.fromRed()};Point$2.prototype.getY=function(){return this.y.fromRed()};Point$2.prototype.mul=function(je){return je=new BN$8(je,16),this.isInfinity()?this:this._hasDoubles(je)?this.curve._fixedNafMul(this,je):this.curve.endo?this.curve._endoWnafMulAdd([this],[je]):this.curve._wnafMul(this,je)};Point$2.prototype.mulAdd=function(je,_e,Me){var $e=[this,_e],ke=[je,Me];return this.curve.endo?this.curve._endoWnafMulAdd($e,ke):this.curve._wnafMulAdd(1,$e,ke,2)};Point$2.prototype.jmulAdd=function(je,_e,Me){var $e=[this,_e],ke=[je,Me];return this.curve.endo?this.curve._endoWnafMulAdd($e,ke,!0):this.curve._wnafMulAdd(1,$e,ke,2,!0)};Point$2.prototype.eq=function(je){return this===je||this.inf===je.inf&&(this.inf||this.x.cmp(je.x)===0&&this.y.cmp(je.y)===0)};Point$2.prototype.neg=function(je){if(this.inf)return this;var _e=this.curve.point(this.x,this.y.redNeg());if(je&&this.precomputed){var Me=this.precomputed,$e=function(ke){return ke.neg()};_e.precomputed={naf:Me.naf&&{wnd:Me.naf.wnd,points:Me.naf.points.map($e)},doubles:Me.doubles&&{step:Me.doubles.step,points:Me.doubles.points.map($e)}}}return _e};Point$2.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var je=this.curve.jpoint(this.x,this.y,this.curve.one);return je};function JPoint(Re,je,_e,Me){Base$2.BasePoint.call(this,Re,"jacobian"),je===null&&_e===null&&Me===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new BN$8(0)):(this.x=new BN$8(je,16),this.y=new BN$8(_e,16),this.z=new BN$8(Me,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}inherits$4(JPoint,Base$2.BasePoint);ShortCurve.prototype.jpoint=function(je,_e,Me){return new JPoint(this,je,_e,Me)};JPoint.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var je=this.z.redInvm(),_e=je.redSqr(),Me=this.x.redMul(_e),$e=this.y.redMul(_e).redMul(je);return this.curve.point(Me,$e)};JPoint.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};JPoint.prototype.add=function(je){if(this.isInfinity())return je;if(je.isInfinity())return this;var _e=je.z.redSqr(),Me=this.z.redSqr(),$e=this.x.redMul(_e),ke=je.x.redMul(Me),Ce=this.y.redMul(_e.redMul(je.z)),Be=je.y.redMul(Me.redMul(this.z)),qe=$e.redSub(ke),He=Ce.redSub(Be);if(qe.cmpn(0)===0)return He.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var We=qe.redSqr(),Ke=We.redMul(qe),Je=$e.redMul(We),Qe=He.redSqr().redIAdd(Ke).redISub(Je).redISub(Je),rr=He.redMul(Je.redISub(Qe)).redISub(Ce.redMul(Ke)),tr=this.z.redMul(je.z).redMul(qe);return this.curve.jpoint(Qe,rr,tr)};JPoint.prototype.mixedAdd=function(je){if(this.isInfinity())return je.toJ();if(je.isInfinity())return this;var _e=this.z.redSqr(),Me=this.x,$e=je.x.redMul(_e),ke=this.y,Ce=je.y.redMul(_e).redMul(this.z),Be=Me.redSub($e),qe=ke.redSub(Ce);if(Be.cmpn(0)===0)return qe.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var He=Be.redSqr(),We=He.redMul(Be),Ke=Me.redMul(He),Je=qe.redSqr().redIAdd(We).redISub(Ke).redISub(Ke),Qe=qe.redMul(Ke.redISub(Je)).redISub(ke.redMul(We)),rr=this.z.redMul(Be);return this.curve.jpoint(Je,Qe,rr)};JPoint.prototype.dblp=function(je){if(je===0)return this;if(this.isInfinity())return this;if(!je)return this.dbl();var _e;if(this.curve.zeroA||this.curve.threeA){var Me=this;for(_e=0;_e<je;_e++)Me=Me.dbl();return Me}var $e=this.curve.a,ke=this.curve.tinv,Ce=this.x,Be=this.y,qe=this.z,He=qe.redSqr().redSqr(),We=Be.redAdd(Be);for(_e=0;_e<je;_e++){var Ke=Ce.redSqr(),Je=We.redSqr(),Qe=Je.redSqr(),rr=Ke.redAdd(Ke).redIAdd(Ke).redIAdd($e.redMul(He)),tr=Ce.redMul(Je),cr=rr.redSqr().redISub(tr.redAdd(tr)),or=tr.redISub(cr),ar=rr.redMul(or);ar=ar.redIAdd(ar).redISub(Qe);var pr=We.redMul(qe);_e+1<je&&(He=He.redMul(Qe)),Ce=cr,qe=pr,We=ar}return this.curve.jpoint(Ce,We.redMul(ke),qe)};JPoint.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};JPoint.prototype._zeroDbl=function(){var je,_e,Me;if(this.zOne){var $e=this.x.redSqr(),ke=this.y.redSqr(),Ce=ke.redSqr(),Be=this.x.redAdd(ke).redSqr().redISub($e).redISub(Ce);Be=Be.redIAdd(Be);var qe=$e.redAdd($e).redIAdd($e),He=qe.redSqr().redISub(Be).redISub(Be),We=Ce.redIAdd(Ce);We=We.redIAdd(We),We=We.redIAdd(We),je=He,_e=qe.redMul(Be.redISub(He)).redISub(We),Me=this.y.redAdd(this.y)}else{var Ke=this.x.redSqr(),Je=this.y.redSqr(),Qe=Je.redSqr(),rr=this.x.redAdd(Je).redSqr().redISub(Ke).redISub(Qe);rr=rr.redIAdd(rr);var tr=Ke.redAdd(Ke).redIAdd(Ke),cr=tr.redSqr(),or=Qe.redIAdd(Qe);or=or.redIAdd(or),or=or.redIAdd(or),je=cr.redISub(rr).redISub(rr),_e=tr.redMul(rr.redISub(je)).redISub(or),Me=this.y.redMul(this.z),Me=Me.redIAdd(Me)}return this.curve.jpoint(je,_e,Me)};JPoint.prototype._threeDbl=function(){var je,_e,Me;if(this.zOne){var $e=this.x.redSqr(),ke=this.y.redSqr(),Ce=ke.redSqr(),Be=this.x.redAdd(ke).redSqr().redISub($e).redISub(Ce);Be=Be.redIAdd(Be);var qe=$e.redAdd($e).redIAdd($e).redIAdd(this.curve.a),He=qe.redSqr().redISub(Be).redISub(Be);je=He;var We=Ce.redIAdd(Ce);We=We.redIAdd(We),We=We.redIAdd(We),_e=qe.redMul(Be.redISub(He)).redISub(We),Me=this.y.redAdd(this.y)}else{var Ke=this.z.redSqr(),Je=this.y.redSqr(),Qe=this.x.redMul(Je),rr=this.x.redSub(Ke).redMul(this.x.redAdd(Ke));rr=rr.redAdd(rr).redIAdd(rr);var tr=Qe.redIAdd(Qe);tr=tr.redIAdd(tr);var cr=tr.redAdd(tr);je=rr.redSqr().redISub(cr),Me=this.y.redAdd(this.z).redSqr().redISub(Je).redISub(Ke);var or=Je.redSqr();or=or.redIAdd(or),or=or.redIAdd(or),or=or.redIAdd(or),_e=rr.redMul(tr.redISub(je)).redISub(or)}return this.curve.jpoint(je,_e,Me)};JPoint.prototype._dbl=function(){var je=this.curve.a,_e=this.x,Me=this.y,$e=this.z,ke=$e.redSqr().redSqr(),Ce=_e.redSqr(),Be=Me.redSqr(),qe=Ce.redAdd(Ce).redIAdd(Ce).redIAdd(je.redMul(ke)),He=_e.redAdd(_e);He=He.redIAdd(He);var We=He.redMul(Be),Ke=qe.redSqr().redISub(We.redAdd(We)),Je=We.redISub(Ke),Qe=Be.redSqr();Qe=Qe.redIAdd(Qe),Qe=Qe.redIAdd(Qe),Qe=Qe.redIAdd(Qe);var rr=qe.redMul(Je).redISub(Qe),tr=Me.redAdd(Me).redMul($e);return this.curve.jpoint(Ke,rr,tr)};JPoint.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var je=this.x.redSqr(),_e=this.y.redSqr(),Me=this.z.redSqr(),$e=_e.redSqr(),ke=je.redAdd(je).redIAdd(je),Ce=ke.redSqr(),Be=this.x.redAdd(_e).redSqr().redISub(je).redISub($e);Be=Be.redIAdd(Be),Be=Be.redAdd(Be).redIAdd(Be),Be=Be.redISub(Ce);var qe=Be.redSqr(),He=$e.redIAdd($e);He=He.redIAdd(He),He=He.redIAdd(He),He=He.redIAdd(He);var We=ke.redIAdd(Be).redSqr().redISub(Ce).redISub(qe).redISub(He),Ke=_e.redMul(We);Ke=Ke.redIAdd(Ke),Ke=Ke.redIAdd(Ke);var Je=this.x.redMul(qe).redISub(Ke);Je=Je.redIAdd(Je),Je=Je.redIAdd(Je);var Qe=this.y.redMul(We.redMul(He.redISub(We)).redISub(Be.redMul(qe)));Qe=Qe.redIAdd(Qe),Qe=Qe.redIAdd(Qe),Qe=Qe.redIAdd(Qe);var rr=this.z.redAdd(Be).redSqr().redISub(Me).redISub(qe);return this.curve.jpoint(Je,Qe,rr)};JPoint.prototype.mul=function(je,_e){return je=new BN$8(je,_e),this.curve._wnafMul(this,je)};JPoint.prototype.eq=function(je){if(je.type==="affine")return this.eq(je.toJ());if(this===je)return!0;var _e=this.z.redSqr(),Me=je.z.redSqr();if(this.x.redMul(Me).redISub(je.x.redMul(_e)).cmpn(0)!==0)return!1;var $e=_e.redMul(this.z),ke=Me.redMul(je.z);return this.y.redMul(ke).redISub(je.y.redMul($e)).cmpn(0)===0};JPoint.prototype.eqXToP=function(je){var _e=this.z.redSqr(),Me=je.toRed(this.curve.red).redMul(_e);if(this.x.cmp(Me)===0)return!0;for(var $e=je.clone(),ke=this.curve.redN.redMul(_e);;){if($e.iadd(this.curve.n),$e.cmp(this.curve.p)>=0)return!1;if(Me.redIAdd(ke),this.x.cmp(Me)===0)return!0}};JPoint.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};JPoint.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var BN$7=bnExports$3,inherits$3=inherits_browserExports,Base$1=base$1,utils$h=utils$l;function MontCurve(Re){Base$1.call(this,"mont",Re),this.a=new BN$7(Re.a,16).toRed(this.red),this.b=new BN$7(Re.b,16).toRed(this.red),this.i4=new BN$7(4).toRed(this.red).redInvm(),this.two=new BN$7(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}inherits$3(MontCurve,Base$1);var mont=MontCurve;MontCurve.prototype.validate=function(je){var _e=je.normalize().x,Me=_e.redSqr(),$e=Me.redMul(_e).redAdd(Me.redMul(this.a)).redAdd(_e),ke=$e.redSqrt();return ke.redSqr().cmp($e)===0};function Point$1(Re,je,_e){Base$1.BasePoint.call(this,Re,"projective"),je===null&&_e===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new BN$7(je,16),this.z=new BN$7(_e,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}inherits$3(Point$1,Base$1.BasePoint);MontCurve.prototype.decodePoint=function(je,_e){return this.point(utils$h.toArray(je,_e),1)};MontCurve.prototype.point=function(je,_e){return new Point$1(this,je,_e)};MontCurve.prototype.pointFromJSON=function(je){return Point$1.fromJSON(this,je)};Point$1.prototype.precompute=function(){};Point$1.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};Point$1.fromJSON=function(je,_e){return new Point$1(je,_e[0],_e[1]||je.one)};Point$1.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Point$1.prototype.isInfinity=function(){return this.z.cmpn(0)===0};Point$1.prototype.dbl=function(){var je=this.x.redAdd(this.z),_e=je.redSqr(),Me=this.x.redSub(this.z),$e=Me.redSqr(),ke=_e.redSub($e),Ce=_e.redMul($e),Be=ke.redMul($e.redAdd(this.curve.a24.redMul(ke)));return this.curve.point(Ce,Be)};Point$1.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};Point$1.prototype.diffAdd=function(je,_e){var Me=this.x.redAdd(this.z),$e=this.x.redSub(this.z),ke=je.x.redAdd(je.z),Ce=je.x.redSub(je.z),Be=Ce.redMul(Me),qe=ke.redMul($e),He=_e.z.redMul(Be.redAdd(qe).redSqr()),We=_e.x.redMul(Be.redISub(qe).redSqr());return this.curve.point(He,We)};Point$1.prototype.mul=function(je){for(var _e=je.clone(),Me=this,$e=this.curve.point(null,null),ke=this,Ce=[];_e.cmpn(0)!==0;_e.iushrn(1))Ce.push(_e.andln(1));for(var Be=Ce.length-1;Be>=0;Be--)Ce[Be]===0?(Me=Me.diffAdd($e,ke),$e=$e.dbl()):($e=Me.diffAdd($e,ke),Me=Me.dbl());return $e};Point$1.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};Point$1.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};Point$1.prototype.eq=function(je){return this.getX().cmp(je.getX())===0};Point$1.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};Point$1.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var utils$g=utils$l,BN$6=bnExports$3,inherits$2=inherits_browserExports,Base=base$1,assert$b=utils$g.assert;function EdwardsCurve(Re){this.twisted=(Re.a|0)!==1,this.mOneA=this.twisted&&(Re.a|0)===-1,this.extended=this.mOneA,Base.call(this,"edwards",Re),this.a=new BN$6(Re.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new BN$6(Re.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new BN$6(Re.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),assert$b(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(Re.c|0)===1}inherits$2(EdwardsCurve,Base);var edwards=EdwardsCurve;EdwardsCurve.prototype._mulA=function(je){return this.mOneA?je.redNeg():this.a.redMul(je)};EdwardsCurve.prototype._mulC=function(je){return this.oneC?je:this.c.redMul(je)};EdwardsCurve.prototype.jpoint=function(je,_e,Me,$e){return this.point(je,_e,Me,$e)};EdwardsCurve.prototype.pointFromX=function(je,_e){je=new BN$6(je,16),je.red||(je=je.toRed(this.red));var Me=je.redSqr(),$e=this.c2.redSub(this.a.redMul(Me)),ke=this.one.redSub(this.c2.redMul(this.d).redMul(Me)),Ce=$e.redMul(ke.redInvm()),Be=Ce.redSqrt();if(Be.redSqr().redSub(Ce).cmp(this.zero)!==0)throw new Error("invalid point");var qe=Be.fromRed().isOdd();return(_e&&!qe||!_e&&qe)&&(Be=Be.redNeg()),this.point(je,Be)};EdwardsCurve.prototype.pointFromY=function(je,_e){je=new BN$6(je,16),je.red||(je=je.toRed(this.red));var Me=je.redSqr(),$e=Me.redSub(this.c2),ke=Me.redMul(this.d).redMul(this.c2).redSub(this.a),Ce=$e.redMul(ke.redInvm());if(Ce.cmp(this.zero)===0){if(_e)throw new Error("invalid point");return this.point(this.zero,je)}var Be=Ce.redSqrt();if(Be.redSqr().redSub(Ce).cmp(this.zero)!==0)throw new Error("invalid point");return Be.fromRed().isOdd()!==_e&&(Be=Be.redNeg()),this.point(Be,je)};EdwardsCurve.prototype.validate=function(je){if(je.isInfinity())return!0;je.normalize();var _e=je.x.redSqr(),Me=je.y.redSqr(),$e=_e.redMul(this.a).redAdd(Me),ke=this.c2.redMul(this.one.redAdd(this.d.redMul(_e).redMul(Me)));return $e.cmp(ke)===0};function Point(Re,je,_e,Me,$e){Base.BasePoint.call(this,Re,"projective"),je===null&&_e===null&&Me===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new BN$6(je,16),this.y=new BN$6(_e,16),this.z=Me?new BN$6(Me,16):this.curve.one,this.t=$e&&new BN$6($e,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}inherits$2(Point,Base.BasePoint);EdwardsCurve.prototype.pointFromJSON=function(je){return Point.fromJSON(this,je)};EdwardsCurve.prototype.point=function(je,_e,Me,$e){return new Point(this,je,_e,Me,$e)};Point.fromJSON=function(je,_e){return new Point(je,_e[0],_e[1],_e[2])};Point.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Point.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Point.prototype._extDbl=function(){var je=this.x.redSqr(),_e=this.y.redSqr(),Me=this.z.redSqr();Me=Me.redIAdd(Me);var $e=this.curve._mulA(je),ke=this.x.redAdd(this.y).redSqr().redISub(je).redISub(_e),Ce=$e.redAdd(_e),Be=Ce.redSub(Me),qe=$e.redSub(_e),He=ke.redMul(Be),We=Ce.redMul(qe),Ke=ke.redMul(qe),Je=Be.redMul(Ce);return this.curve.point(He,We,Je,Ke)};Point.prototype._projDbl=function(){var je=this.x.redAdd(this.y).redSqr(),_e=this.x.redSqr(),Me=this.y.redSqr(),$e,ke,Ce,Be,qe,He;if(this.curve.twisted){Be=this.curve._mulA(_e);var We=Be.redAdd(Me);this.zOne?($e=je.redSub(_e).redSub(Me).redMul(We.redSub(this.curve.two)),ke=We.redMul(Be.redSub(Me)),Ce=We.redSqr().redSub(We).redSub(We)):(qe=this.z.redSqr(),He=We.redSub(qe).redISub(qe),$e=je.redSub(_e).redISub(Me).redMul(He),ke=We.redMul(Be.redSub(Me)),Ce=We.redMul(He))}else Be=_e.redAdd(Me),qe=this.curve._mulC(this.z).redSqr(),He=Be.redSub(qe).redSub(qe),$e=this.curve._mulC(je.redISub(Be)).redMul(He),ke=this.curve._mulC(Be).redMul(_e.redISub(Me)),Ce=Be.redMul(He);return this.curve.point($e,ke,Ce)};Point.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Point.prototype._extAdd=function(je){var _e=this.y.redSub(this.x).redMul(je.y.redSub(je.x)),Me=this.y.redAdd(this.x).redMul(je.y.redAdd(je.x)),$e=this.t.redMul(this.curve.dd).redMul(je.t),ke=this.z.redMul(je.z.redAdd(je.z)),Ce=Me.redSub(_e),Be=ke.redSub($e),qe=ke.redAdd($e),He=Me.redAdd(_e),We=Ce.redMul(Be),Ke=qe.redMul(He),Je=Ce.redMul(He),Qe=Be.redMul(qe);return this.curve.point(We,Ke,Qe,Je)};Point.prototype._projAdd=function(je){var _e=this.z.redMul(je.z),Me=_e.redSqr(),$e=this.x.redMul(je.x),ke=this.y.redMul(je.y),Ce=this.curve.d.redMul($e).redMul(ke),Be=Me.redSub(Ce),qe=Me.redAdd(Ce),He=this.x.redAdd(this.y).redMul(je.x.redAdd(je.y)).redISub($e).redISub(ke),We=_e.redMul(Be).redMul(He),Ke,Je;return this.curve.twisted?(Ke=_e.redMul(qe).redMul(ke.redSub(this.curve._mulA($e))),Je=Be.redMul(qe)):(Ke=_e.redMul(qe).redMul(ke.redSub($e)),Je=this.curve._mulC(Be).redMul(qe)),this.curve.point(We,Ke,Je)};Point.prototype.add=function(je){return this.isInfinity()?je:je.isInfinity()?this:this.curve.extended?this._extAdd(je):this._projAdd(je)};Point.prototype.mul=function(je){return this._hasDoubles(je)?this.curve._fixedNafMul(this,je):this.curve._wnafMul(this,je)};Point.prototype.mulAdd=function(je,_e,Me){return this.curve._wnafMulAdd(1,[this,_e],[je,Me],2,!1)};Point.prototype.jmulAdd=function(je,_e,Me){return this.curve._wnafMulAdd(1,[this,_e],[je,Me],2,!0)};Point.prototype.normalize=function(){if(this.zOne)return this;var je=this.z.redInvm();return this.x=this.x.redMul(je),this.y=this.y.redMul(je),this.t&&(this.t=this.t.redMul(je)),this.z=this.curve.one,this.zOne=!0,this};Point.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Point.prototype.getX=function(){return this.normalize(),this.x.fromRed()};Point.prototype.getY=function(){return this.normalize(),this.y.fromRed()};Point.prototype.eq=function(je){return this===je||this.getX().cmp(je.getX())===0&&this.getY().cmp(je.getY())===0};Point.prototype.eqXToP=function(je){var _e=je.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(_e)===0)return!0;for(var Me=je.clone(),$e=this.curve.redN.redMul(this.z);;){if(Me.iadd(this.curve.n),Me.cmp(this.curve.p)>=0)return!1;if(_e.redIAdd($e),this.x.cmp(_e)===0)return!0}};Point.prototype.toP=Point.prototype.normalize;Point.prototype.mixedAdd=Point.prototype.add;(function(Re){var je=Re;je.base=base$1,je.short=short,je.mont=mont,je.edwards=edwards})(curve);var curves$1={},hash$4={},utils$f={},assert$a=minimalisticAssert,inherits$1=inherits_browserExports;utils$f.inherits=inherits$1;function isSurrogatePair(Re,je){return(Re.charCodeAt(je)&64512)!==55296||je<0||je+1>=Re.length?!1:(Re.charCodeAt(je+1)&64512)===56320}function toArray$1(Re,je){if(Array.isArray(Re))return Re.slice();if(!Re)return[];var _e=[];if(typeof Re=="string")if(je){if(je==="hex")for(Re=Re.replace(/[^a-z0-9]+/ig,""),Re.length%2!==0&&(Re="0"+Re),$e=0;$e<Re.length;$e+=2)_e.push(parseInt(Re[$e]+Re[$e+1],16))}else for(var Me=0,$e=0;$e<Re.length;$e++){var ke=Re.charCodeAt($e);ke<128?_e[Me++]=ke:ke<2048?(_e[Me++]=ke>>6|192,_e[Me++]=ke&63|128):isSurrogatePair(Re,$e)?(ke=65536+((ke&1023)<<10)+(Re.charCodeAt(++$e)&1023),_e[Me++]=ke>>18|240,_e[Me++]=ke>>12&63|128,_e[Me++]=ke>>6&63|128,_e[Me++]=ke&63|128):(_e[Me++]=ke>>12|224,_e[Me++]=ke>>6&63|128,_e[Me++]=ke&63|128)}else for($e=0;$e<Re.length;$e++)_e[$e]=Re[$e]|0;return _e}utils$f.toArray=toArray$1;function toHex(Re){for(var je="",_e=0;_e<Re.length;_e++)je+=zero2(Re[_e].toString(16));return je}utils$f.toHex=toHex;function htonl(Re){var je=Re>>>24|Re>>>8&65280|Re<<8&16711680|(Re&255)<<24;return je>>>0}utils$f.htonl=htonl;function toHex32(Re,je){for(var _e="",Me=0;Me<Re.length;Me++){var $e=Re[Me];je==="little"&&($e=htonl($e)),_e+=zero8($e.toString(16))}return _e}utils$f.toHex32=toHex32;function zero2(Re){return Re.length===1?"0"+Re:Re}utils$f.zero2=zero2;function zero8(Re){return Re.length===7?"0"+Re:Re.length===6?"00"+Re:Re.length===5?"000"+Re:Re.length===4?"0000"+Re:Re.length===3?"00000"+Re:Re.length===2?"000000"+Re:Re.length===1?"0000000"+Re:Re}utils$f.zero8=zero8;function join32(Re,je,_e,Me){var $e=_e-je;assert$a($e%4===0);for(var ke=new Array($e/4),Ce=0,Be=je;Ce<ke.length;Ce++,Be+=4){var qe;Me==="big"?qe=Re[Be]<<24|Re[Be+1]<<16|Re[Be+2]<<8|Re[Be+3]:qe=Re[Be+3]<<24|Re[Be+2]<<16|Re[Be+1]<<8|Re[Be],ke[Ce]=qe>>>0}return ke}utils$f.join32=join32;function split32(Re,je){for(var _e=new Array(Re.length*4),Me=0,$e=0;Me<Re.length;Me++,$e+=4){var ke=Re[Me];je==="big"?(_e[$e]=ke>>>24,_e[$e+1]=ke>>>16&255,_e[$e+2]=ke>>>8&255,_e[$e+3]=ke&255):(_e[$e+3]=ke>>>24,_e[$e+2]=ke>>>16&255,_e[$e+1]=ke>>>8&255,_e[$e]=ke&255)}return _e}utils$f.split32=split32;function rotr32$1(Re,je){return Re>>>je|Re<<32-je}utils$f.rotr32=rotr32$1;function rotl32$2(Re,je){return Re<<je|Re>>>32-je}utils$f.rotl32=rotl32$2;function sum32$3(Re,je){return Re+je>>>0}utils$f.sum32=sum32$3;function sum32_3$1(Re,je,_e){return Re+je+_e>>>0}utils$f.sum32_3=sum32_3$1;function sum32_4$2(Re,je,_e,Me){return Re+je+_e+Me>>>0}utils$f.sum32_4=sum32_4$2;function sum32_5$2(Re,je,_e,Me,$e){return Re+je+_e+Me+$e>>>0}utils$f.sum32_5=sum32_5$2;function sum64$1(Re,je,_e,Me){var $e=Re[je],ke=Re[je+1],Ce=Me+ke>>>0,Be=(Ce<Me?1:0)+_e+$e;Re[je]=Be>>>0,Re[je+1]=Ce}utils$f.sum64=sum64$1;function sum64_hi$1(Re,je,_e,Me){var $e=je+Me>>>0,ke=($e<je?1:0)+Re+_e;return ke>>>0}utils$f.sum64_hi=sum64_hi$1;function sum64_lo$1(Re,je,_e,Me){var $e=je+Me;return $e>>>0}utils$f.sum64_lo=sum64_lo$1;function sum64_4_hi$1(Re,je,_e,Me,$e,ke,Ce,Be){var qe=0,He=je;He=He+Me>>>0,qe+=He<je?1:0,He=He+ke>>>0,qe+=He<ke?1:0,He=He+Be>>>0,qe+=He<Be?1:0;var We=Re+_e+$e+Ce+qe;return We>>>0}utils$f.sum64_4_hi=sum64_4_hi$1;function sum64_4_lo$1(Re,je,_e,Me,$e,ke,Ce,Be){var qe=je+Me+ke+Be;return qe>>>0}utils$f.sum64_4_lo=sum64_4_lo$1;function sum64_5_hi$1(Re,je,_e,Me,$e,ke,Ce,Be,qe,He){var We=0,Ke=je;Ke=Ke+Me>>>0,We+=Ke<je?1:0,Ke=Ke+ke>>>0,We+=Ke<ke?1:0,Ke=Ke+Be>>>0,We+=Ke<Be?1:0,Ke=Ke+He>>>0,We+=Ke<He?1:0;var Je=Re+_e+$e+Ce+qe+We;return Je>>>0}utils$f.sum64_5_hi=sum64_5_hi$1;function sum64_5_lo$1(Re,je,_e,Me,$e,ke,Ce,Be,qe,He){var We=je+Me+ke+Be+He;return We>>>0}utils$f.sum64_5_lo=sum64_5_lo$1;function rotr64_hi$1(Re,je,_e){var Me=je<<32-_e|Re>>>_e;return Me>>>0}utils$f.rotr64_hi=rotr64_hi$1;function rotr64_lo$1(Re,je,_e){var Me=Re<<32-_e|je>>>_e;return Me>>>0}utils$f.rotr64_lo=rotr64_lo$1;function shr64_hi$1(Re,je,_e){return Re>>>_e}utils$f.shr64_hi=shr64_hi$1;function shr64_lo$1(Re,je,_e){var Me=Re<<32-_e|je>>>_e;return Me>>>0}utils$f.shr64_lo=shr64_lo$1;var common$5={},utils$e=utils$f,assert$9=minimalisticAssert;function BlockHash$4(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}common$5.BlockHash=BlockHash$4;BlockHash$4.prototype.update=function(je,_e){if(je=utils$e.toArray(je,_e),this.pending?this.pending=this.pending.concat(je):this.pending=je,this.pendingTotal+=je.length,this.pending.length>=this._delta8){je=this.pending;var Me=je.length%this._delta8;this.pending=je.slice(je.length-Me,je.length),this.pending.length===0&&(this.pending=null),je=utils$e.join32(je,0,je.length-Me,this.endian);for(var $e=0;$e<je.length;$e+=this._delta32)this._update(je,$e,$e+this._delta32)}return this};BlockHash$4.prototype.digest=function(je){return this.update(this._pad()),assert$9(this.pending===null),this._digest(je)};BlockHash$4.prototype._pad=function(){var je=this.pendingTotal,_e=this._delta8,Me=_e-(je+this.padLength)%_e,$e=new Array(Me+this.padLength);$e[0]=128;for(var ke=1;ke<Me;ke++)$e[ke]=0;if(je<<=3,this.endian==="big"){for(var Ce=8;Ce<this.padLength;Ce++)$e[ke++]=0;$e[ke++]=0,$e[ke++]=0,$e[ke++]=0,$e[ke++]=0,$e[ke++]=je>>>24&255,$e[ke++]=je>>>16&255,$e[ke++]=je>>>8&255,$e[ke++]=je&255}else for($e[ke++]=je&255,$e[ke++]=je>>>8&255,$e[ke++]=je>>>16&255,$e[ke++]=je>>>24&255,$e[ke++]=0,$e[ke++]=0,$e[ke++]=0,$e[ke++]=0,Ce=8;Ce<this.padLength;Ce++)$e[ke++]=0;return $e};var sha={},common$4={},utils$d=utils$f,rotr32=utils$d.rotr32;function ft_1$1(Re,je,_e,Me){if(Re===0)return ch32$1(je,_e,Me);if(Re===1||Re===3)return p32(je,_e,Me);if(Re===2)return maj32$1(je,_e,Me)}common$4.ft_1=ft_1$1;function ch32$1(Re,je,_e){return Re&je^~Re&_e}common$4.ch32=ch32$1;function maj32$1(Re,je,_e){return Re&je^Re&_e^je&_e}common$4.maj32=maj32$1;function p32(Re,je,_e){return Re^je^_e}common$4.p32=p32;function s0_256$1(Re){return rotr32(Re,2)^rotr32(Re,13)^rotr32(Re,22)}common$4.s0_256=s0_256$1;function s1_256$1(Re){return rotr32(Re,6)^rotr32(Re,11)^rotr32(Re,25)}common$4.s1_256=s1_256$1;function g0_256$1(Re){return rotr32(Re,7)^rotr32(Re,18)^Re>>>3}common$4.g0_256=g0_256$1;function g1_256$1(Re){return rotr32(Re,17)^rotr32(Re,19)^Re>>>10}common$4.g1_256=g1_256$1;var utils$c=utils$f,common$3=common$5,shaCommon$1=common$4,rotl32$1=utils$c.rotl32,sum32$2=utils$c.sum32,sum32_5$1=utils$c.sum32_5,ft_1=shaCommon$1.ft_1,BlockHash$3=common$3.BlockHash,sha1_K=[1518500249,1859775393,2400959708,3395469782];function SHA1(){if(!(this instanceof SHA1))return new SHA1;BlockHash$3.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}utils$c.inherits(SHA1,BlockHash$3);var _1=SHA1;SHA1.blockSize=512;SHA1.outSize=160;SHA1.hmacStrength=80;SHA1.padLength=64;SHA1.prototype._update=function(je,_e){for(var Me=this.W,$e=0;$e<16;$e++)Me[$e]=je[_e+$e];for(;$e<Me.length;$e++)Me[$e]=rotl32$1(Me[$e-3]^Me[$e-8]^Me[$e-14]^Me[$e-16],1);var ke=this.h[0],Ce=this.h[1],Be=this.h[2],qe=this.h[3],He=this.h[4];for($e=0;$e<Me.length;$e++){var We=~~($e/20),Ke=sum32_5$1(rotl32$1(ke,5),ft_1(We,Ce,Be,qe),He,Me[$e],sha1_K[We]);He=qe,qe=Be,Be=rotl32$1(Ce,30),Ce=ke,ke=Ke}this.h[0]=sum32$2(this.h[0],ke),this.h[1]=sum32$2(this.h[1],Ce),this.h[2]=sum32$2(this.h[2],Be),this.h[3]=sum32$2(this.h[3],qe),this.h[4]=sum32$2(this.h[4],He)};SHA1.prototype._digest=function(je){return je==="hex"?utils$c.toHex32(this.h,"big"):utils$c.split32(this.h,"big")};var utils$b=utils$f,common$2=common$5,shaCommon=common$4,assert$8=minimalisticAssert,sum32$1=utils$b.sum32,sum32_4$1=utils$b.sum32_4,sum32_5=utils$b.sum32_5,ch32=shaCommon.ch32,maj32=shaCommon.maj32,s0_256=shaCommon.s0_256,s1_256=shaCommon.s1_256,g0_256=shaCommon.g0_256,g1_256=shaCommon.g1_256,BlockHash$2=common$2.BlockHash,sha256_K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function SHA256$1(){if(!(this instanceof SHA256$1))return new SHA256$1;BlockHash$2.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=sha256_K,this.W=new Array(64)}utils$b.inherits(SHA256$1,BlockHash$2);var _256=SHA256$1;SHA256$1.blockSize=512;SHA256$1.outSize=256;SHA256$1.hmacStrength=192;SHA256$1.padLength=64;SHA256$1.prototype._update=function(je,_e){for(var Me=this.W,$e=0;$e<16;$e++)Me[$e]=je[_e+$e];for(;$e<Me.length;$e++)Me[$e]=sum32_4$1(g1_256(Me[$e-2]),Me[$e-7],g0_256(Me[$e-15]),Me[$e-16]);var ke=this.h[0],Ce=this.h[1],Be=this.h[2],qe=this.h[3],He=this.h[4],We=this.h[5],Ke=this.h[6],Je=this.h[7];for(assert$8(this.k.length===Me.length),$e=0;$e<Me.length;$e++){var Qe=sum32_5(Je,s1_256(He),ch32(He,We,Ke),this.k[$e],Me[$e]),rr=sum32$1(s0_256(ke),maj32(ke,Ce,Be));Je=Ke,Ke=We,We=He,He=sum32$1(qe,Qe),qe=Be,Be=Ce,Ce=ke,ke=sum32$1(Qe,rr)}this.h[0]=sum32$1(this.h[0],ke),this.h[1]=sum32$1(this.h[1],Ce),this.h[2]=sum32$1(this.h[2],Be),this.h[3]=sum32$1(this.h[3],qe),this.h[4]=sum32$1(this.h[4],He),this.h[5]=sum32$1(this.h[5],We),this.h[6]=sum32$1(this.h[6],Ke),this.h[7]=sum32$1(this.h[7],Je)};SHA256$1.prototype._digest=function(je){return je==="hex"?utils$b.toHex32(this.h,"big"):utils$b.split32(this.h,"big")};var utils$a=utils$f,SHA256=_256;function SHA224(){if(!(this instanceof SHA224))return new SHA224;SHA256.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}utils$a.inherits(SHA224,SHA256);var _224=SHA224;SHA224.blockSize=512;SHA224.outSize=224;SHA224.hmacStrength=192;SHA224.padLength=64;SHA224.prototype._digest=function(je){return je==="hex"?utils$a.toHex32(this.h.slice(0,7),"big"):utils$a.split32(this.h.slice(0,7),"big")};var utils$9=utils$f,common$1=common$5,assert$7=minimalisticAssert,rotr64_hi=utils$9.rotr64_hi,rotr64_lo=utils$9.rotr64_lo,shr64_hi=utils$9.shr64_hi,shr64_lo=utils$9.shr64_lo,sum64=utils$9.sum64,sum64_hi=utils$9.sum64_hi,sum64_lo=utils$9.sum64_lo,sum64_4_hi=utils$9.sum64_4_hi,sum64_4_lo=utils$9.sum64_4_lo,sum64_5_hi=utils$9.sum64_5_hi,sum64_5_lo=utils$9.sum64_5_lo,BlockHash$1=common$1.BlockHash,sha512_K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function SHA512$1(){if(!(this instanceof SHA512$1))return new SHA512$1;BlockHash$1.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=sha512_K,this.W=new Array(160)}utils$9.inherits(SHA512$1,BlockHash$1);var _512=SHA512$1;SHA512$1.blockSize=1024;SHA512$1.outSize=512;SHA512$1.hmacStrength=192;SHA512$1.padLength=128;SHA512$1.prototype._prepareBlock=function(je,_e){for(var Me=this.W,$e=0;$e<32;$e++)Me[$e]=je[_e+$e];for(;$e<Me.length;$e+=2){var ke=g1_512_hi(Me[$e-4],Me[$e-3]),Ce=g1_512_lo(Me[$e-4],Me[$e-3]),Be=Me[$e-14],qe=Me[$e-13],He=g0_512_hi(Me[$e-30],Me[$e-29]),We=g0_512_lo(Me[$e-30],Me[$e-29]),Ke=Me[$e-32],Je=Me[$e-31];Me[$e]=sum64_4_hi(ke,Ce,Be,qe,He,We,Ke,Je),Me[$e+1]=sum64_4_lo(ke,Ce,Be,qe,He,We,Ke,Je)}};SHA512$1.prototype._update=function(je,_e){this._prepareBlock(je,_e);var Me=this.W,$e=this.h[0],ke=this.h[1],Ce=this.h[2],Be=this.h[3],qe=this.h[4],He=this.h[5],We=this.h[6],Ke=this.h[7],Je=this.h[8],Qe=this.h[9],rr=this.h[10],tr=this.h[11],cr=this.h[12],or=this.h[13],ar=this.h[14],pr=this.h[15];assert$7(this.k.length===Me.length);for(var ur=0;ur<Me.length;ur+=2){var gr=ar,jr=pr,vr=s1_512_hi(Je,Qe),dr=s1_512_lo(Je,Qe),xr=ch64_hi(Je,Qe,rr,tr,cr),Rr=ch64_lo(Je,Qe,rr,tr,cr,or),Xe=this.k[ur],Pe=this.k[ur+1],Fe=Me[ur],ze=Me[ur+1],Ue=sum64_5_hi(gr,jr,vr,dr,xr,Rr,Xe,Pe,Fe,ze),Ge=sum64_5_lo(gr,jr,vr,dr,xr,Rr,Xe,Pe,Fe,ze);gr=s0_512_hi($e,ke),jr=s0_512_lo($e,ke),vr=maj64_hi($e,ke,Ce,Be,qe),dr=maj64_lo($e,ke,Ce,Be,qe,He);var Ze=sum64_hi(gr,jr,vr,dr),er=sum64_lo(gr,jr,vr,dr);ar=cr,pr=or,cr=rr,or=tr,rr=Je,tr=Qe,Je=sum64_hi(We,Ke,Ue,Ge),Qe=sum64_lo(Ke,Ke,Ue,Ge),We=qe,Ke=He,qe=Ce,He=Be,Ce=$e,Be=ke,$e=sum64_hi(Ue,Ge,Ze,er),ke=sum64_lo(Ue,Ge,Ze,er)}sum64(this.h,0,$e,ke),sum64(this.h,2,Ce,Be),sum64(this.h,4,qe,He),sum64(this.h,6,We,Ke),sum64(this.h,8,Je,Qe),sum64(this.h,10,rr,tr),sum64(this.h,12,cr,or),sum64(this.h,14,ar,pr)};SHA512$1.prototype._digest=function(je){return je==="hex"?utils$9.toHex32(this.h,"big"):utils$9.split32(this.h,"big")};function ch64_hi(Re,je,_e,Me,$e){var ke=Re&_e^~Re&$e;return ke<0&&(ke+=4294967296),ke}function ch64_lo(Re,je,_e,Me,$e,ke){var Ce=je&Me^~je&ke;return Ce<0&&(Ce+=4294967296),Ce}function maj64_hi(Re,je,_e,Me,$e){var ke=Re&_e^Re&$e^_e&$e;return ke<0&&(ke+=4294967296),ke}function maj64_lo(Re,je,_e,Me,$e,ke){var Ce=je&Me^je&ke^Me&ke;return Ce<0&&(Ce+=4294967296),Ce}function s0_512_hi(Re,je){var _e=rotr64_hi(Re,je,28),Me=rotr64_hi(je,Re,2),$e=rotr64_hi(je,Re,7),ke=_e^Me^$e;return ke<0&&(ke+=4294967296),ke}function s0_512_lo(Re,je){var _e=rotr64_lo(Re,je,28),Me=rotr64_lo(je,Re,2),$e=rotr64_lo(je,Re,7),ke=_e^Me^$e;return ke<0&&(ke+=4294967296),ke}function s1_512_hi(Re,je){var _e=rotr64_hi(Re,je,14),Me=rotr64_hi(Re,je,18),$e=rotr64_hi(je,Re,9),ke=_e^Me^$e;return ke<0&&(ke+=4294967296),ke}function s1_512_lo(Re,je){var _e=rotr64_lo(Re,je,14),Me=rotr64_lo(Re,je,18),$e=rotr64_lo(je,Re,9),ke=_e^Me^$e;return ke<0&&(ke+=4294967296),ke}function g0_512_hi(Re,je){var _e=rotr64_hi(Re,je,1),Me=rotr64_hi(Re,je,8),$e=shr64_hi(Re,je,7),ke=_e^Me^$e;return ke<0&&(ke+=4294967296),ke}function g0_512_lo(Re,je){var _e=rotr64_lo(Re,je,1),Me=rotr64_lo(Re,je,8),$e=shr64_lo(Re,je,7),ke=_e^Me^$e;return ke<0&&(ke+=4294967296),ke}function g1_512_hi(Re,je){var _e=rotr64_hi(Re,je,19),Me=rotr64_hi(je,Re,29),$e=shr64_hi(Re,je,6),ke=_e^Me^$e;return ke<0&&(ke+=4294967296),ke}function g1_512_lo(Re,je){var _e=rotr64_lo(Re,je,19),Me=rotr64_lo(je,Re,29),$e=shr64_lo(Re,je,6),ke=_e^Me^$e;return ke<0&&(ke+=4294967296),ke}var utils$8=utils$f,SHA512=_512;function SHA384(){if(!(this instanceof SHA384))return new SHA384;SHA512.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}utils$8.inherits(SHA384,SHA512);var _384=SHA384;SHA384.blockSize=1024;SHA384.outSize=384;SHA384.hmacStrength=192;SHA384.padLength=128;SHA384.prototype._digest=function(je){return je==="hex"?utils$8.toHex32(this.h.slice(0,12),"big"):utils$8.split32(this.h.slice(0,12),"big")};sha.sha1=_1;sha.sha224=_224;sha.sha256=_256;sha.sha384=_384;sha.sha512=_512;var ripemd={},utils$7=utils$f,common=common$5,rotl32=utils$7.rotl32,sum32=utils$7.sum32,sum32_3=utils$7.sum32_3,sum32_4=utils$7.sum32_4,BlockHash=common.BlockHash;function RIPEMD160(){if(!(this instanceof RIPEMD160))return new RIPEMD160;BlockHash.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}utils$7.inherits(RIPEMD160,BlockHash);ripemd.ripemd160=RIPEMD160;RIPEMD160.blockSize=512;RIPEMD160.outSize=160;RIPEMD160.hmacStrength=192;RIPEMD160.padLength=64;RIPEMD160.prototype._update=function(je,_e){for(var Me=this.h[0],$e=this.h[1],ke=this.h[2],Ce=this.h[3],Be=this.h[4],qe=Me,He=$e,We=ke,Ke=Ce,Je=Be,Qe=0;Qe<80;Qe++){var rr=sum32(rotl32(sum32_4(Me,f$1(Qe,$e,ke,Ce),je[r$3[Qe]+_e],K$2(Qe)),s$5[Qe]),Be);Me=Be,Be=Ce,Ce=rotl32(ke,10),ke=$e,$e=rr,rr=sum32(rotl32(sum32_4(qe,f$1(79-Qe,He,We,Ke),je[rh[Qe]+_e],Kh(Qe)),sh[Qe]),Je),qe=Je,Je=Ke,Ke=rotl32(We,10),We=He,He=rr}rr=sum32_3(this.h[1],ke,Ke),this.h[1]=sum32_3(this.h[2],Ce,Je),this.h[2]=sum32_3(this.h[3],Be,qe),this.h[3]=sum32_3(this.h[4],Me,He),this.h[4]=sum32_3(this.h[0],$e,We),this.h[0]=rr};RIPEMD160.prototype._digest=function(je){return je==="hex"?utils$7.toHex32(this.h,"little"):utils$7.split32(this.h,"little")};function f$1(Re,je,_e,Me){return Re<=15?je^_e^Me:Re<=31?je&_e|~je&Me:Re<=47?(je|~_e)^Me:Re<=63?je&Me|_e&~Me:je^(_e|~Me)}function K$2(Re){return Re<=15?0:Re<=31?1518500249:Re<=47?1859775393:Re<=63?2400959708:2840853838}function Kh(Re){return Re<=15?1352829926:Re<=31?1548603684:Re<=47?1836072691:Re<=63?2053994217:0}var r$3=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],rh=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],s$5=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sh=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],utils$6=utils$f,assert$6=minimalisticAssert;function Hmac(Re,je,_e){if(!(this instanceof Hmac))return new Hmac(Re,je,_e);this.Hash=Re,this.blockSize=Re.blockSize/8,this.outSize=Re.outSize/8,this.inner=null,this.outer=null,this._init(utils$6.toArray(je,_e))}var hmac=Hmac;Hmac.prototype._init=function(je){je.length>this.blockSize&&(je=new this.Hash().update(je).digest()),assert$6(je.length<=this.blockSize);for(var _e=je.length;_e<this.blockSize;_e++)je.push(0);for(_e=0;_e<je.length;_e++)je[_e]^=54;for(this.inner=new this.Hash().update(je),_e=0;_e<je.length;_e++)je[_e]^=106;this.outer=new this.Hash().update(je)};Hmac.prototype.update=function(je,_e){return this.inner.update(je,_e),this};Hmac.prototype.digest=function(je){return this.outer.update(this.inner.digest()),this.outer.digest(je)};(function(Re){var je=Re;je.utils=utils$f,je.common=common$5,je.sha=sha,je.ripemd=ripemd,je.hmac=hmac,je.sha1=je.sha.sha1,je.sha256=je.sha.sha256,je.sha224=je.sha.sha224,je.sha384=je.sha.sha384,je.sha512=je.sha.sha512,je.ripemd160=je.ripemd.ripemd160})(hash$4);var secp256k1,hasRequiredSecp256k1;function requireSecp256k1(){return hasRequiredSecp256k1||(hasRequiredSecp256k1=1,secp256k1={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),secp256k1}(function(Re){var je=Re,_e=hash$4,Me=curve,$e=utils$l,ke=$e.assert;function Ce(He){He.type==="short"?this.curve=new Me.short(He):He.type==="edwards"?this.curve=new Me.edwards(He):this.curve=new Me.mont(He),this.g=this.curve.g,this.n=this.curve.n,this.hash=He.hash,ke(this.g.validate(),"Invalid curve"),ke(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}je.PresetCurve=Ce;function Be(He,We){Object.defineProperty(je,He,{configurable:!0,enumerable:!0,get:function(){var Ke=new Ce(We);return Object.defineProperty(je,He,{configurable:!0,enumerable:!0,value:Ke}),Ke}})}Be("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:_e.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),Be("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:_e.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),Be("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:_e.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),Be("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:_e.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),Be("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:_e.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),Be("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:_e.sha256,gRed:!1,g:["9"]}),Be("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:_e.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var qe;try{qe=requireSecp256k1()}catch{qe=void 0}Be("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:_e.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",qe]})})(curves$1);var hash$3=hash$4,utils$5=utils$k,assert$5=minimalisticAssert;function HmacDRBG(Re){if(!(this instanceof HmacDRBG))return new HmacDRBG(Re);this.hash=Re.hash,this.predResist=!!Re.predResist,this.outLen=this.hash.outSize,this.minEntropy=Re.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var je=utils$5.toArray(Re.entropy,Re.entropyEnc||"hex"),_e=utils$5.toArray(Re.nonce,Re.nonceEnc||"hex"),Me=utils$5.toArray(Re.pers,Re.persEnc||"hex");assert$5(je.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(je,_e,Me)}var hmacDrbg=HmacDRBG;HmacDRBG.prototype._init=function(je,_e,Me){var $e=je.concat(_e).concat(Me);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var ke=0;ke<this.V.length;ke++)this.K[ke]=0,this.V[ke]=1;this._update($e),this._reseed=1,this.reseedInterval=281474976710656};HmacDRBG.prototype._hmac=function(){return new hash$3.hmac(this.hash,this.K)};HmacDRBG.prototype._update=function(je){var _e=this._hmac().update(this.V).update([0]);je&&(_e=_e.update(je)),this.K=_e.digest(),this.V=this._hmac().update(this.V).digest(),je&&(this.K=this._hmac().update(this.V).update([1]).update(je).digest(),this.V=this._hmac().update(this.V).digest())};HmacDRBG.prototype.reseed=function(je,_e,Me,$e){typeof _e!="string"&&($e=Me,Me=_e,_e=null),je=utils$5.toArray(je,_e),Me=utils$5.toArray(Me,$e),assert$5(je.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(je.concat(Me||[])),this._reseed=1};HmacDRBG.prototype.generate=function(je,_e,Me,$e){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof _e!="string"&&($e=Me,Me=_e,_e=null),Me&&(Me=utils$5.toArray(Me,$e||"hex"),this._update(Me));for(var ke=[];ke.length<je;)this.V=this._hmac().update(this.V).digest(),ke=ke.concat(this.V);var Ce=ke.slice(0,je);return this._update(Me),this._reseed++,utils$5.encode(Ce,_e)};var BN$5=bnExports$3,utils$4=utils$l,assert$4=utils$4.assert;function KeyPair$2(Re,je){this.ec=Re,this.priv=null,this.pub=null,je.priv&&this._importPrivate(je.priv,je.privEnc),je.pub&&this._importPublic(je.pub,je.pubEnc)}var key$1=KeyPair$2;KeyPair$2.fromPublic=function(je,_e,Me){return _e instanceof KeyPair$2?_e:new KeyPair$2(je,{pub:_e,pubEnc:Me})};KeyPair$2.fromPrivate=function(je,_e,Me){return _e instanceof KeyPair$2?_e:new KeyPair$2(je,{priv:_e,privEnc:Me})};KeyPair$2.prototype.validate=function(){var je=this.getPublic();return je.isInfinity()?{result:!1,reason:"Invalid public key"}:je.validate()?je.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};KeyPair$2.prototype.getPublic=function(je,_e){return typeof je=="string"&&(_e=je,je=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),_e?this.pub.encode(_e,je):this.pub};KeyPair$2.prototype.getPrivate=function(je){return je==="hex"?this.priv.toString(16,2):this.priv};KeyPair$2.prototype._importPrivate=function(je,_e){this.priv=new BN$5(je,_e||16),this.priv=this.priv.umod(this.ec.curve.n)};KeyPair$2.prototype._importPublic=function(je,_e){if(je.x||je.y){this.ec.curve.type==="mont"?assert$4(je.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&assert$4(je.x&&je.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(je.x,je.y);return}this.pub=this.ec.curve.decodePoint(je,_e)};KeyPair$2.prototype.derive=function(je){return je.validate()||assert$4(je.validate(),"public point not validated"),je.mul(this.priv).getX()};KeyPair$2.prototype.sign=function(je,_e,Me){return this.ec.sign(je,this,_e,Me)};KeyPair$2.prototype.verify=function(je,_e,Me){return this.ec.verify(je,_e,this,void 0,Me)};KeyPair$2.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var BN$4=bnExports$3,utils$3=utils$l,assert$3=utils$3.assert;function Signature$2(Re,je){if(Re instanceof Signature$2)return Re;this._importDER(Re,je)||(assert$3(Re.r&&Re.s,"Signature without r or s"),this.r=new BN$4(Re.r,16),this.s=new BN$4(Re.s,16),Re.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=Re.recoveryParam)}var signature$1=Signature$2;function Position(){this.place=0}function getLength(Re,je){var _e=Re[je.place++];if(!(_e&128))return _e;var Me=_e&15;if(Me===0||Me>4||Re[je.place]===0)return!1;for(var $e=0,ke=0,Ce=je.place;ke<Me;ke++,Ce++)$e<<=8,$e|=Re[Ce],$e>>>=0;return $e<=127?!1:(je.place=Ce,$e)}function rmPadding(Re){for(var je=0,_e=Re.length-1;!Re[je]&&!(Re[je+1]&128)&&je<_e;)je++;return je===0?Re:Re.slice(je)}Signature$2.prototype._importDER=function(je,_e){je=utils$3.toArray(je,_e);var Me=new Position;if(je[Me.place++]!==48)return!1;var $e=getLength(je,Me);if($e===!1||$e+Me.place!==je.length||je[Me.place++]!==2)return!1;var ke=getLength(je,Me);if(ke===!1||je[Me.place]&128)return!1;var Ce=je.slice(Me.place,ke+Me.place);if(Me.place+=ke,je[Me.place++]!==2)return!1;var Be=getLength(je,Me);if(Be===!1||je.length!==Be+Me.place||je[Me.place]&128)return!1;var qe=je.slice(Me.place,Be+Me.place);if(Ce[0]===0)if(Ce[1]&128)Ce=Ce.slice(1);else return!1;if(qe[0]===0)if(qe[1]&128)qe=qe.slice(1);else return!1;return this.r=new BN$4(Ce),this.s=new BN$4(qe),this.recoveryParam=null,!0};function constructLength(Re,je){if(je<128){Re.push(je);return}var _e=1+(Math.log(je)/Math.LN2>>>3);for(Re.push(_e|128);--_e;)Re.push(je>>>(_e<<3)&255);Re.push(je)}Signature$2.prototype.toDER=function(je){var _e=this.r.toArray(),Me=this.s.toArray();for(_e[0]&128&&(_e=[0].concat(_e)),Me[0]&128&&(Me=[0].concat(Me)),_e=rmPadding(_e),Me=rmPadding(Me);!Me[0]&&!(Me[1]&128);)Me=Me.slice(1);var $e=[2];constructLength($e,_e.length),$e=$e.concat(_e),$e.push(2),constructLength($e,Me.length);var ke=$e.concat(Me),Ce=[48];return constructLength(Ce,ke.length),Ce=Ce.concat(ke),utils$3.encode(Ce,je)};var ec$1,hasRequiredEc;function requireEc(){if(hasRequiredEc)return ec$1;hasRequiredEc=1;var Re=bnExports$3,je=hmacDrbg,_e=utils$l,Me=curves$1,$e=requireBrorand(),ke=_e.assert,Ce=key$1,Be=signature$1;function qe(He){if(!(this instanceof qe))return new qe(He);typeof He=="string"&&(ke(Object.prototype.hasOwnProperty.call(Me,He),"Unknown curve "+He),He=Me[He]),He instanceof Me.PresetCurve&&(He={curve:He}),this.curve=He.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=He.curve.g,this.g.precompute(He.curve.n.bitLength()+1),this.hash=He.hash||He.curve.hash}return ec$1=qe,qe.prototype.keyPair=function(We){return new Ce(this,We)},qe.prototype.keyFromPrivate=function(We,Ke){return Ce.fromPrivate(this,We,Ke)},qe.prototype.keyFromPublic=function(We,Ke){return Ce.fromPublic(this,We,Ke)},qe.prototype.genKeyPair=function(We){We||(We={});for(var Ke=new je({hash:this.hash,pers:We.pers,persEnc:We.persEnc||"utf8",entropy:We.entropy||$e(this.hash.hmacStrength),entropyEnc:We.entropy&&We.entropyEnc||"utf8",nonce:this.n.toArray()}),Je=this.n.byteLength(),Qe=this.n.sub(new Re(2));;){var rr=new Re(Ke.generate(Je));if(!(rr.cmp(Qe)>0))return rr.iaddn(1),this.keyFromPrivate(rr)}},qe.prototype._truncateToN=function(We,Ke,Je){var Qe;if(Re.isBN(We)||typeof We=="number")We=new Re(We,16),Qe=We.byteLength();else if(typeof We=="object")Qe=We.length,We=new Re(We,16);else{var rr=We.toString();Qe=rr.length+1>>>1,We=new Re(rr,16)}typeof Je!="number"&&(Je=Qe*8);var tr=Je-this.n.bitLength();return tr>0&&(We=We.ushrn(tr)),!Ke&&We.cmp(this.n)>=0?We.sub(this.n):We},qe.prototype.sign=function(We,Ke,Je,Qe){if(typeof Je=="object"&&(Qe=Je,Je=null),Qe||(Qe={}),typeof We!="string"&&typeof We!="number"&&!Re.isBN(We)){ke(typeof We=="object"&&We&&typeof We.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),ke(We.length>>>0===We.length);for(var rr=0;rr<We.length;rr++)ke((We[rr]&255)===We[rr])}Ke=this.keyFromPrivate(Ke,Je),We=this._truncateToN(We,!1,Qe.msgBitLength),ke(!We.isNeg(),"Can not sign a negative message");var tr=this.n.byteLength(),cr=Ke.getPrivate().toArray("be",tr),or=We.toArray("be",tr);ke(new Re(or).eq(We),"Can not sign message");for(var ar=new je({hash:this.hash,entropy:cr,nonce:or,pers:Qe.pers,persEnc:Qe.persEnc||"utf8"}),pr=this.n.sub(new Re(1)),ur=0;;ur++){var gr=Qe.k?Qe.k(ur):new Re(ar.generate(this.n.byteLength()));if(gr=this._truncateToN(gr,!0),!(gr.cmpn(1)<=0||gr.cmp(pr)>=0)){var jr=this.g.mul(gr);if(!jr.isInfinity()){var vr=jr.getX(),dr=vr.umod(this.n);if(dr.cmpn(0)!==0){var xr=gr.invm(this.n).mul(dr.mul(Ke.getPrivate()).iadd(We));if(xr=xr.umod(this.n),xr.cmpn(0)!==0){var Rr=(jr.getY().isOdd()?1:0)|(vr.cmp(dr)!==0?2:0);return Qe.canonical&&xr.cmp(this.nh)>0&&(xr=this.n.sub(xr),Rr^=1),new Be({r:dr,s:xr,recoveryParam:Rr})}}}}}},qe.prototype.verify=function(We,Ke,Je,Qe,rr){rr||(rr={}),We=this._truncateToN(We,!1,rr.msgBitLength),Je=this.keyFromPublic(Je,Qe),Ke=new Be(Ke,"hex");var tr=Ke.r,cr=Ke.s;if(tr.cmpn(1)<0||tr.cmp(this.n)>=0||cr.cmpn(1)<0||cr.cmp(this.n)>=0)return!1;var or=cr.invm(this.n),ar=or.mul(We).umod(this.n),pr=or.mul(tr).umod(this.n),ur;return this.curve._maxwellTrick?(ur=this.g.jmulAdd(ar,Je.getPublic(),pr),ur.isInfinity()?!1:ur.eqXToP(tr)):(ur=this.g.mulAdd(ar,Je.getPublic(),pr),ur.isInfinity()?!1:ur.getX().umod(this.n).cmp(tr)===0)},qe.prototype.recoverPubKey=function(He,We,Ke,Je){ke((3&Ke)===Ke,"The recovery param is more than two bits"),We=new Be(We,Je);var Qe=this.n,rr=new Re(He),tr=We.r,cr=We.s,or=Ke&1,ar=Ke>>1;if(tr.cmp(this.curve.p.umod(this.curve.n))>=0&&ar)throw new Error("Unable to find sencond key candinate");ar?tr=this.curve.pointFromX(tr.add(this.curve.n),or):tr=this.curve.pointFromX(tr,or);var pr=We.r.invm(Qe),ur=Qe.sub(rr).mul(pr).umod(Qe),gr=cr.mul(pr).umod(Qe);return this.g.mulAdd(ur,tr,gr)},qe.prototype.getKeyRecoveryParam=function(He,We,Ke,Je){if(We=new Be(We,Je),We.recoveryParam!==null)return We.recoveryParam;for(var Qe=0;Qe<4;Qe++){var rr;try{rr=this.recoverPubKey(He,We,Qe)}catch{continue}if(rr.eq(Ke))return Qe}throw new Error("Unable to find valid recovery factor")},ec$1}var utils$2=utils$l,assert$2=utils$2.assert,parseBytes$2=utils$2.parseBytes,cachedProperty$1=utils$2.cachedProperty;function KeyPair$1(Re,je){this.eddsa=Re,this._secret=parseBytes$2(je.secret),Re.isPoint(je.pub)?this._pub=je.pub:this._pubBytes=parseBytes$2(je.pub)}KeyPair$1.fromPublic=function(je,_e){return _e instanceof KeyPair$1?_e:new KeyPair$1(je,{pub:_e})};KeyPair$1.fromSecret=function(je,_e){return _e instanceof KeyPair$1?_e:new KeyPair$1(je,{secret:_e})};KeyPair$1.prototype.secret=function(){return this._secret};cachedProperty$1(KeyPair$1,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});cachedProperty$1(KeyPair$1,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});cachedProperty$1(KeyPair$1,"privBytes",function(){var je=this.eddsa,_e=this.hash(),Me=je.encodingLength-1,$e=_e.slice(0,je.encodingLength);return $e[0]&=248,$e[Me]&=127,$e[Me]|=64,$e});cachedProperty$1(KeyPair$1,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});cachedProperty$1(KeyPair$1,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});cachedProperty$1(KeyPair$1,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});KeyPair$1.prototype.sign=function(je){return assert$2(this._secret,"KeyPair can only verify"),this.eddsa.sign(je,this)};KeyPair$1.prototype.verify=function(je,_e){return this.eddsa.verify(je,_e,this)};KeyPair$1.prototype.getSecret=function(je){return assert$2(this._secret,"KeyPair is public only"),utils$2.encode(this.secret(),je)};KeyPair$1.prototype.getPublic=function(je){return utils$2.encode(this.pubBytes(),je)};var key=KeyPair$1,BN$3=bnExports$3,utils$1=utils$l,assert$1=utils$1.assert,cachedProperty=utils$1.cachedProperty,parseBytes$1=utils$1.parseBytes;function Signature$1(Re,je){this.eddsa=Re,typeof je!="object"&&(je=parseBytes$1(je)),Array.isArray(je)&&(assert$1(je.length===Re.encodingLength*2,"Signature has invalid size"),je={R:je.slice(0,Re.encodingLength),S:je.slice(Re.encodingLength)}),assert$1(je.R&&je.S,"Signature without R or S"),Re.isPoint(je.R)&&(this._R=je.R),je.S instanceof BN$3&&(this._S=je.S),this._Rencoded=Array.isArray(je.R)?je.R:je.Rencoded,this._Sencoded=Array.isArray(je.S)?je.S:je.Sencoded}cachedProperty(Signature$1,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});cachedProperty(Signature$1,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});cachedProperty(Signature$1,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});cachedProperty(Signature$1,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});Signature$1.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};Signature$1.prototype.toHex=function(){return utils$1.encode(this.toBytes(),"hex").toUpperCase()};var signature=Signature$1,hash$2=hash$4,curves=curves$1,utils=utils$l,assert=utils.assert,parseBytes=utils.parseBytes,KeyPair=key,Signature=signature;function EDDSA(Re){if(assert(Re==="ed25519","only tested with ed25519 so far"),!(this instanceof EDDSA))return new EDDSA(Re);Re=curves[Re].curve,this.curve=Re,this.g=Re.g,this.g.precompute(Re.n.bitLength()+1),this.pointClass=Re.point().constructor,this.encodingLength=Math.ceil(Re.n.bitLength()/8),this.hash=hash$2.sha512}var eddsa=EDDSA;EDDSA.prototype.sign=function(je,_e){je=parseBytes(je);var Me=this.keyFromSecret(_e),$e=this.hashInt(Me.messagePrefix(),je),ke=this.g.mul($e),Ce=this.encodePoint(ke),Be=this.hashInt(Ce,Me.pubBytes(),je).mul(Me.priv()),qe=$e.add(Be).umod(this.curve.n);return this.makeSignature({R:ke,S:qe,Rencoded:Ce})};EDDSA.prototype.verify=function(je,_e,Me){if(je=parseBytes(je),_e=this.makeSignature(_e),_e.S().gte(_e.eddsa.curve.n)||_e.S().isNeg())return!1;var $e=this.keyFromPublic(Me),ke=this.hashInt(_e.Rencoded(),$e.pubBytes(),je),Ce=this.g.mul(_e.S()),Be=_e.R().add($e.pub().mul(ke));return Be.eq(Ce)};EDDSA.prototype.hashInt=function(){for(var je=this.hash(),_e=0;_e<arguments.length;_e++)je.update(arguments[_e]);return utils.intFromLE(je.digest()).umod(this.curve.n)};EDDSA.prototype.keyFromPublic=function(je){return KeyPair.fromPublic(this,je)};EDDSA.prototype.keyFromSecret=function(je){return KeyPair.fromSecret(this,je)};EDDSA.prototype.makeSignature=function(je){return je instanceof Signature?je:new Signature(this,je)};EDDSA.prototype.encodePoint=function(je){var _e=je.getY().toArray("le",this.encodingLength);return _e[this.encodingLength-1]|=je.getX().isOdd()?128:0,_e};EDDSA.prototype.decodePoint=function(je){je=utils.parseBytes(je);var _e=je.length-1,Me=je.slice(0,_e).concat(je[_e]&-129),$e=(je[_e]&128)!==0,ke=utils.intFromLE(Me);return this.curve.pointFromY(ke,$e)};EDDSA.prototype.encodeInt=function(je){return je.toArray("le",this.encodingLength)};EDDSA.prototype.decodeInt=function(je){return utils.intFromLE(je)};EDDSA.prototype.isPoint=function(je){return je instanceof this.pointClass};var hasRequiredElliptic;function requireElliptic(){return hasRequiredElliptic||(hasRequiredElliptic=1,function(Re){var je=Re;je.version=require$$0$2.version,je.utils=utils$l,je.rand=requireBrorand(),je.curve=curve,je.curves=curves$1,je.ec=requireEc(),je.eddsa=eddsa}(elliptic)),elliptic}var asn1$3={},asn1$2={},bn$2={exports:{}};bn$2.exports;(function(Re){(function(je,_e){function Me(Xe,Pe){if(!Xe)throw new Error(Pe||"Assertion failed")}function $e(Xe,Pe){Xe.super_=Pe;var Fe=function(){};Fe.prototype=Pe.prototype,Xe.prototype=new Fe,Xe.prototype.constructor=Xe}function ke(Xe,Pe,Fe){if(ke.isBN(Xe))return Xe;this.negative=0,this.words=null,this.length=0,this.red=null,Xe!==null&&((Pe==="le"||Pe==="be")&&(Fe=Pe,Pe=10),this._init(Xe||0,Pe||10,Fe||"be"))}typeof je=="object"?je.exports=ke:_e.BN=ke,ke.BN=ke,ke.wordSize=26;var Ce;try{typeof window<"u"&&typeof window.Buffer<"u"?Ce=window.Buffer:Ce=require$$0$3.Buffer}catch{}ke.isBN=function(Pe){return Pe instanceof ke?!0:Pe!==null&&typeof Pe=="object"&&Pe.constructor.wordSize===ke.wordSize&&Array.isArray(Pe.words)},ke.max=function(Pe,Fe){return Pe.cmp(Fe)>0?Pe:Fe},ke.min=function(Pe,Fe){return Pe.cmp(Fe)<0?Pe:Fe},ke.prototype._init=function(Pe,Fe,ze){if(typeof Pe=="number")return this._initNumber(Pe,Fe,ze);if(typeof Pe=="object")return this._initArray(Pe,Fe,ze);Fe==="hex"&&(Fe=16),Me(Fe===(Fe|0)&&Fe>=2&&Fe<=36),Pe=Pe.toString().replace(/\s+/g,"");var Ue=0;Pe[0]==="-"&&(Ue++,this.negative=1),Ue<Pe.length&&(Fe===16?this._parseHex(Pe,Ue,ze):(this._parseBase(Pe,Fe,Ue),ze==="le"&&this._initArray(this.toArray(),Fe,ze)))},ke.prototype._initNumber=function(Pe,Fe,ze){Pe<0&&(this.negative=1,Pe=-Pe),Pe<67108864?(this.words=[Pe&67108863],this.length=1):Pe<4503599627370496?(this.words=[Pe&67108863,Pe/67108864&67108863],this.length=2):(Me(Pe<9007199254740992),this.words=[Pe&67108863,Pe/67108864&67108863,1],this.length=3),ze==="le"&&this._initArray(this.toArray(),Fe,ze)},ke.prototype._initArray=function(Pe,Fe,ze){if(Me(typeof Pe.length=="number"),Pe.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(Pe.length/3),this.words=new Array(this.length);for(var Ue=0;Ue<this.length;Ue++)this.words[Ue]=0;var Ge,Ze,er=0;if(ze==="be")for(Ue=Pe.length-1,Ge=0;Ue>=0;Ue-=3)Ze=Pe[Ue]|Pe[Ue-1]<<8|Pe[Ue-2]<<16,this.words[Ge]|=Ze<<er&67108863,this.words[Ge+1]=Ze>>>26-er&67108863,er+=24,er>=26&&(er-=26,Ge++);else if(ze==="le")for(Ue=0,Ge=0;Ue<Pe.length;Ue+=3)Ze=Pe[Ue]|Pe[Ue+1]<<8|Pe[Ue+2]<<16,this.words[Ge]|=Ze<<er&67108863,this.words[Ge+1]=Ze>>>26-er&67108863,er+=24,er>=26&&(er-=26,Ge++);return this.strip()};function Be(Xe,Pe){var Fe=Xe.charCodeAt(Pe);return Fe>=65&&Fe<=70?Fe-55:Fe>=97&&Fe<=102?Fe-87:Fe-48&15}function qe(Xe,Pe,Fe){var ze=Be(Xe,Fe);return Fe-1>=Pe&&(ze|=Be(Xe,Fe-1)<<4),ze}ke.prototype._parseHex=function(Pe,Fe,ze){this.length=Math.ceil((Pe.length-Fe)/6),this.words=new Array(this.length);for(var Ue=0;Ue<this.length;Ue++)this.words[Ue]=0;var Ge=0,Ze=0,er;if(ze==="be")for(Ue=Pe.length-1;Ue>=Fe;Ue-=2)er=qe(Pe,Fe,Ue)<<Ge,this.words[Ze]|=er&67108863,Ge>=18?(Ge-=18,Ze+=1,this.words[Ze]|=er>>>26):Ge+=8;else{var Ve=Pe.length-Fe;for(Ue=Ve%2===0?Fe+1:Fe;Ue<Pe.length;Ue+=2)er=qe(Pe,Fe,Ue)<<Ge,this.words[Ze]|=er&67108863,Ge>=18?(Ge-=18,Ze+=1,this.words[Ze]|=er>>>26):Ge+=8}this.strip()};function He(Xe,Pe,Fe,ze){for(var Ue=0,Ge=Math.min(Xe.length,Fe),Ze=Pe;Ze<Ge;Ze++){var er=Xe.charCodeAt(Ze)-48;Ue*=ze,er>=49?Ue+=er-49+10:er>=17?Ue+=er-17+10:Ue+=er}return Ue}ke.prototype._parseBase=function(Pe,Fe,ze){this.words=[0],this.length=1;for(var Ue=0,Ge=1;Ge<=67108863;Ge*=Fe)Ue++;Ue--,Ge=Ge/Fe|0;for(var Ze=Pe.length-ze,er=Ze%Ue,Ve=Math.min(Ze,Ze-er)+ze,Ie=0,Ye=ze;Ye<Ve;Ye+=Ue)Ie=He(Pe,Ye,Ye+Ue,Fe),this.imuln(Ge),this.words[0]+Ie<67108864?this.words[0]+=Ie:this._iaddn(Ie);if(er!==0){var ir=1;for(Ie=He(Pe,Ye,Pe.length,Fe),Ye=0;Ye<er;Ye++)ir*=Fe;this.imuln(ir),this.words[0]+Ie<67108864?this.words[0]+=Ie:this._iaddn(Ie)}this.strip()},ke.prototype.copy=function(Pe){Pe.words=new Array(this.length);for(var Fe=0;Fe<this.length;Fe++)Pe.words[Fe]=this.words[Fe];Pe.length=this.length,Pe.negative=this.negative,Pe.red=this.red},ke.prototype.clone=function(){var Pe=new ke(null);return this.copy(Pe),Pe},ke.prototype._expand=function(Pe){for(;this.length<Pe;)this.words[this.length++]=0;return this},ke.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},ke.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},ke.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var We=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Ke=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Je=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];ke.prototype.toString=function(Pe,Fe){Pe=Pe||10,Fe=Fe|0||1;var ze;if(Pe===16||Pe==="hex"){ze="";for(var Ue=0,Ge=0,Ze=0;Ze<this.length;Ze++){var er=this.words[Ze],Ve=((er<<Ue|Ge)&16777215).toString(16);Ge=er>>>24-Ue&16777215,Ue+=2,Ue>=26&&(Ue-=26,Ze--),Ge!==0||Ze!==this.length-1?ze=We[6-Ve.length]+Ve+ze:ze=Ve+ze}for(Ge!==0&&(ze=Ge.toString(16)+ze);ze.length%Fe!==0;)ze="0"+ze;return this.negative!==0&&(ze="-"+ze),ze}if(Pe===(Pe|0)&&Pe>=2&&Pe<=36){var Ie=Ke[Pe],Ye=Je[Pe];ze="";var ir=this.clone();for(ir.negative=0;!ir.isZero();){var lr=ir.modn(Ye).toString(Pe);ir=ir.idivn(Ye),ir.isZero()?ze=lr+ze:ze=We[Ie-lr.length]+lr+ze}for(this.isZero()&&(ze="0"+ze);ze.length%Fe!==0;)ze="0"+ze;return this.negative!==0&&(ze="-"+ze),ze}Me(!1,"Base should be between 2 and 36")},ke.prototype.toNumber=function(){var Pe=this.words[0];return this.length===2?Pe+=this.words[1]*67108864:this.length===3&&this.words[2]===1?Pe+=4503599627370496+this.words[1]*67108864:this.length>2&&Me(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-Pe:Pe},ke.prototype.toJSON=function(){return this.toString(16)},ke.prototype.toBuffer=function(Pe,Fe){return Me(typeof Ce<"u"),this.toArrayLike(Ce,Pe,Fe)},ke.prototype.toArray=function(Pe,Fe){return this.toArrayLike(Array,Pe,Fe)},ke.prototype.toArrayLike=function(Pe,Fe,ze){var Ue=this.byteLength(),Ge=ze||Math.max(1,Ue);Me(Ue<=Ge,"byte array longer than desired length"),Me(Ge>0,"Requested array length <= 0"),this.strip();var Ze=Fe==="le",er=new Pe(Ge),Ve,Ie,Ye=this.clone();if(Ze){for(Ie=0;!Ye.isZero();Ie++)Ve=Ye.andln(255),Ye.iushrn(8),er[Ie]=Ve;for(;Ie<Ge;Ie++)er[Ie]=0}else{for(Ie=0;Ie<Ge-Ue;Ie++)er[Ie]=0;for(Ie=0;!Ye.isZero();Ie++)Ve=Ye.andln(255),Ye.iushrn(8),er[Ge-Ie-1]=Ve}return er},Math.clz32?ke.prototype._countBits=function(Pe){return 32-Math.clz32(Pe)}:ke.prototype._countBits=function(Pe){var Fe=Pe,ze=0;return Fe>=4096&&(ze+=13,Fe>>>=13),Fe>=64&&(ze+=7,Fe>>>=7),Fe>=8&&(ze+=4,Fe>>>=4),Fe>=2&&(ze+=2,Fe>>>=2),ze+Fe},ke.prototype._zeroBits=function(Pe){if(Pe===0)return 26;var Fe=Pe,ze=0;return Fe&8191||(ze+=13,Fe>>>=13),Fe&127||(ze+=7,Fe>>>=7),Fe&15||(ze+=4,Fe>>>=4),Fe&3||(ze+=2,Fe>>>=2),Fe&1||ze++,ze},ke.prototype.bitLength=function(){var Pe=this.words[this.length-1],Fe=this._countBits(Pe);return(this.length-1)*26+Fe};function Qe(Xe){for(var Pe=new Array(Xe.bitLength()),Fe=0;Fe<Pe.length;Fe++){var ze=Fe/26|0,Ue=Fe%26;Pe[Fe]=(Xe.words[ze]&1<<Ue)>>>Ue}return Pe}ke.prototype.zeroBits=function(){if(this.isZero())return 0;for(var Pe=0,Fe=0;Fe<this.length;Fe++){var ze=this._zeroBits(this.words[Fe]);if(Pe+=ze,ze!==26)break}return Pe},ke.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},ke.prototype.toTwos=function(Pe){return this.negative!==0?this.abs().inotn(Pe).iaddn(1):this.clone()},ke.prototype.fromTwos=function(Pe){return this.testn(Pe-1)?this.notn(Pe).iaddn(1).ineg():this.clone()},ke.prototype.isNeg=function(){return this.negative!==0},ke.prototype.neg=function(){return this.clone().ineg()},ke.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},ke.prototype.iuor=function(Pe){for(;this.length<Pe.length;)this.words[this.length++]=0;for(var Fe=0;Fe<Pe.length;Fe++)this.words[Fe]=this.words[Fe]|Pe.words[Fe];return this.strip()},ke.prototype.ior=function(Pe){return Me((this.negative|Pe.negative)===0),this.iuor(Pe)},ke.prototype.or=function(Pe){return this.length>Pe.length?this.clone().ior(Pe):Pe.clone().ior(this)},ke.prototype.uor=function(Pe){return this.length>Pe.length?this.clone().iuor(Pe):Pe.clone().iuor(this)},ke.prototype.iuand=function(Pe){var Fe;this.length>Pe.length?Fe=Pe:Fe=this;for(var ze=0;ze<Fe.length;ze++)this.words[ze]=this.words[ze]&Pe.words[ze];return this.length=Fe.length,this.strip()},ke.prototype.iand=function(Pe){return Me((this.negative|Pe.negative)===0),this.iuand(Pe)},ke.prototype.and=function(Pe){return this.length>Pe.length?this.clone().iand(Pe):Pe.clone().iand(this)},ke.prototype.uand=function(Pe){return this.length>Pe.length?this.clone().iuand(Pe):Pe.clone().iuand(this)},ke.prototype.iuxor=function(Pe){var Fe,ze;this.length>Pe.length?(Fe=this,ze=Pe):(Fe=Pe,ze=this);for(var Ue=0;Ue<ze.length;Ue++)this.words[Ue]=Fe.words[Ue]^ze.words[Ue];if(this!==Fe)for(;Ue<Fe.length;Ue++)this.words[Ue]=Fe.words[Ue];return this.length=Fe.length,this.strip()},ke.prototype.ixor=function(Pe){return Me((this.negative|Pe.negative)===0),this.iuxor(Pe)},ke.prototype.xor=function(Pe){return this.length>Pe.length?this.clone().ixor(Pe):Pe.clone().ixor(this)},ke.prototype.uxor=function(Pe){return this.length>Pe.length?this.clone().iuxor(Pe):Pe.clone().iuxor(this)},ke.prototype.inotn=function(Pe){Me(typeof Pe=="number"&&Pe>=0);var Fe=Math.ceil(Pe/26)|0,ze=Pe%26;this._expand(Fe),ze>0&&Fe--;for(var Ue=0;Ue<Fe;Ue++)this.words[Ue]=~this.words[Ue]&67108863;return ze>0&&(this.words[Ue]=~this.words[Ue]&67108863>>26-ze),this.strip()},ke.prototype.notn=function(Pe){return this.clone().inotn(Pe)},ke.prototype.setn=function(Pe,Fe){Me(typeof Pe=="number"&&Pe>=0);var ze=Pe/26|0,Ue=Pe%26;return this._expand(ze+1),Fe?this.words[ze]=this.words[ze]|1<<Ue:this.words[ze]=this.words[ze]&~(1<<Ue),this.strip()},ke.prototype.iadd=function(Pe){var Fe;if(this.negative!==0&&Pe.negative===0)return this.negative=0,Fe=this.isub(Pe),this.negative^=1,this._normSign();if(this.negative===0&&Pe.negative!==0)return Pe.negative=0,Fe=this.isub(Pe),Pe.negative=1,Fe._normSign();var ze,Ue;this.length>Pe.length?(ze=this,Ue=Pe):(ze=Pe,Ue=this);for(var Ge=0,Ze=0;Ze<Ue.length;Ze++)Fe=(ze.words[Ze]|0)+(Ue.words[Ze]|0)+Ge,this.words[Ze]=Fe&67108863,Ge=Fe>>>26;for(;Ge!==0&&Ze<ze.length;Ze++)Fe=(ze.words[Ze]|0)+Ge,this.words[Ze]=Fe&67108863,Ge=Fe>>>26;if(this.length=ze.length,Ge!==0)this.words[this.length]=Ge,this.length++;else if(ze!==this)for(;Ze<ze.length;Ze++)this.words[Ze]=ze.words[Ze];return this},ke.prototype.add=function(Pe){var Fe;return Pe.negative!==0&&this.negative===0?(Pe.negative=0,Fe=this.sub(Pe),Pe.negative^=1,Fe):Pe.negative===0&&this.negative!==0?(this.negative=0,Fe=Pe.sub(this),this.negative=1,Fe):this.length>Pe.length?this.clone().iadd(Pe):Pe.clone().iadd(this)},ke.prototype.isub=function(Pe){if(Pe.negative!==0){Pe.negative=0;var Fe=this.iadd(Pe);return Pe.negative=1,Fe._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(Pe),this.negative=1,this._normSign();var ze=this.cmp(Pe);if(ze===0)return this.negative=0,this.length=1,this.words[0]=0,this;var Ue,Ge;ze>0?(Ue=this,Ge=Pe):(Ue=Pe,Ge=this);for(var Ze=0,er=0;er<Ge.length;er++)Fe=(Ue.words[er]|0)-(Ge.words[er]|0)+Ze,Ze=Fe>>26,this.words[er]=Fe&67108863;for(;Ze!==0&&er<Ue.length;er++)Fe=(Ue.words[er]|0)+Ze,Ze=Fe>>26,this.words[er]=Fe&67108863;if(Ze===0&&er<Ue.length&&Ue!==this)for(;er<Ue.length;er++)this.words[er]=Ue.words[er];return this.length=Math.max(this.length,er),Ue!==this&&(this.negative=1),this.strip()},ke.prototype.sub=function(Pe){return this.clone().isub(Pe)};function rr(Xe,Pe,Fe){Fe.negative=Pe.negative^Xe.negative;var ze=Xe.length+Pe.length|0;Fe.length=ze,ze=ze-1|0;var Ue=Xe.words[0]|0,Ge=Pe.words[0]|0,Ze=Ue*Ge,er=Ze&67108863,Ve=Ze/67108864|0;Fe.words[0]=er;for(var Ie=1;Ie<ze;Ie++){for(var Ye=Ve>>>26,ir=Ve&67108863,lr=Math.min(Ie,Pe.length-1),br=Math.max(0,Ie-Xe.length+1);br<=lr;br++){var _r=Ie-br|0;Ue=Xe.words[_r]|0,Ge=Pe.words[br]|0,Ze=Ue*Ge+ir,Ye+=Ze/67108864|0,ir=Ze&67108863}Fe.words[Ie]=ir|0,Ve=Ye|0}return Ve!==0?Fe.words[Ie]=Ve|0:Fe.length--,Fe.strip()}var tr=function(Pe,Fe,ze){var Ue=Pe.words,Ge=Fe.words,Ze=ze.words,er=0,Ve,Ie,Ye,ir=Ue[0]|0,lr=ir&8191,br=ir>>>13,_r=Ue[1]|0,Sr=_r&8191,wr=_r>>>13,Nr=Ue[2]|0,kr=Nr&8191,Lr=Nr>>>13,Xr=Ue[3]|0,Ur=Xr&8191,Gr=Xr>>>13,Ts=Ue[4]|0,Br=Ts&8191,Cr=Ts>>>13,qs=Ue[5]|0,$r=qs&8191,Tr=qs>>>13,Kr=Ue[6]|0,qr=Kr&8191,Hr=Kr>>>13,ss=Ue[7]|0,Vr=ss&8191,Zr=ss>>>13,Is=Ue[8]|0,Jr=Is&8191,cs=Is>>>13,zs=Ue[9]|0,ns=zs&8191,Qr=zs>>>13,Zs=Ge[0]|0,os=Zs&8191,_s=Zs>>>13,Ys=Ge[1]|0,ds=Ys&8191,Ns=Ys>>>13,Xs=Ge[2]|0,ys=Xs&8191,ws=Xs>>>13,ni=Ge[3]|0,bs=ni&8191,Es=ni>>>13,Hs=Ge[4]|0,us=Hs&8191,As=Hs>>>13,Qs=Ge[5]|0,vs=Qs&8191,Ms=Qs>>>13,Us=Ge[6]|0,xs=Us&8191,ks=Us>>>13,ri=Ge[7]|0,fs=ri&8191,Rs=ri>>>13,si=Ge[8]|0,js=si&8191,$s=si>>>13,ai=Ge[9]|0,gs=ai&8191,Ss=ai>>>13;ze.negative=Pe.negative^Fe.negative,ze.length=19,Ve=Math.imul(lr,os),Ie=Math.imul(lr,_s),Ie=Ie+Math.imul(br,os)|0,Ye=Math.imul(br,_s);var ei=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(ei>>>26)|0,ei&=67108863,Ve=Math.imul(Sr,os),Ie=Math.imul(Sr,_s),Ie=Ie+Math.imul(wr,os)|0,Ye=Math.imul(wr,_s),Ve=Ve+Math.imul(lr,ds)|0,Ie=Ie+Math.imul(lr,Ns)|0,Ie=Ie+Math.imul(br,ds)|0,Ye=Ye+Math.imul(br,Ns)|0;var Js=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(Js>>>26)|0,Js&=67108863,Ve=Math.imul(kr,os),Ie=Math.imul(kr,_s),Ie=Ie+Math.imul(Lr,os)|0,Ye=Math.imul(Lr,_s),Ve=Ve+Math.imul(Sr,ds)|0,Ie=Ie+Math.imul(Sr,Ns)|0,Ie=Ie+Math.imul(wr,ds)|0,Ye=Ye+Math.imul(wr,Ns)|0,Ve=Ve+Math.imul(lr,ys)|0,Ie=Ie+Math.imul(lr,ws)|0,Ie=Ie+Math.imul(br,ys)|0,Ye=Ye+Math.imul(br,ws)|0;var di=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(di>>>26)|0,di&=67108863,Ve=Math.imul(Ur,os),Ie=Math.imul(Ur,_s),Ie=Ie+Math.imul(Gr,os)|0,Ye=Math.imul(Gr,_s),Ve=Ve+Math.imul(kr,ds)|0,Ie=Ie+Math.imul(kr,Ns)|0,Ie=Ie+Math.imul(Lr,ds)|0,Ye=Ye+Math.imul(Lr,Ns)|0,Ve=Ve+Math.imul(Sr,ys)|0,Ie=Ie+Math.imul(Sr,ws)|0,Ie=Ie+Math.imul(wr,ys)|0,Ye=Ye+Math.imul(wr,ws)|0,Ve=Ve+Math.imul(lr,bs)|0,Ie=Ie+Math.imul(lr,Es)|0,Ie=Ie+Math.imul(br,bs)|0,Ye=Ye+Math.imul(br,Es)|0;var fi=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(fi>>>26)|0,fi&=67108863,Ve=Math.imul(Br,os),Ie=Math.imul(Br,_s),Ie=Ie+Math.imul(Cr,os)|0,Ye=Math.imul(Cr,_s),Ve=Ve+Math.imul(Ur,ds)|0,Ie=Ie+Math.imul(Ur,Ns)|0,Ie=Ie+Math.imul(Gr,ds)|0,Ye=Ye+Math.imul(Gr,Ns)|0,Ve=Ve+Math.imul(kr,ys)|0,Ie=Ie+Math.imul(kr,ws)|0,Ie=Ie+Math.imul(Lr,ys)|0,Ye=Ye+Math.imul(Lr,ws)|0,Ve=Ve+Math.imul(Sr,bs)|0,Ie=Ie+Math.imul(Sr,Es)|0,Ie=Ie+Math.imul(wr,bs)|0,Ye=Ye+Math.imul(wr,Es)|0,Ve=Ve+Math.imul(lr,us)|0,Ie=Ie+Math.imul(lr,As)|0,Ie=Ie+Math.imul(br,us)|0,Ye=Ye+Math.imul(br,As)|0;var mi=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(mi>>>26)|0,mi&=67108863,Ve=Math.imul($r,os),Ie=Math.imul($r,_s),Ie=Ie+Math.imul(Tr,os)|0,Ye=Math.imul(Tr,_s),Ve=Ve+Math.imul(Br,ds)|0,Ie=Ie+Math.imul(Br,Ns)|0,Ie=Ie+Math.imul(Cr,ds)|0,Ye=Ye+Math.imul(Cr,Ns)|0,Ve=Ve+Math.imul(Ur,ys)|0,Ie=Ie+Math.imul(Ur,ws)|0,Ie=Ie+Math.imul(Gr,ys)|0,Ye=Ye+Math.imul(Gr,ws)|0,Ve=Ve+Math.imul(kr,bs)|0,Ie=Ie+Math.imul(kr,Es)|0,Ie=Ie+Math.imul(Lr,bs)|0,Ye=Ye+Math.imul(Lr,Es)|0,Ve=Ve+Math.imul(Sr,us)|0,Ie=Ie+Math.imul(Sr,As)|0,Ie=Ie+Math.imul(wr,us)|0,Ye=Ye+Math.imul(wr,As)|0,Ve=Ve+Math.imul(lr,vs)|0,Ie=Ie+Math.imul(lr,Ms)|0,Ie=Ie+Math.imul(br,vs)|0,Ye=Ye+Math.imul(br,Ms)|0;var pi=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(pi>>>26)|0,pi&=67108863,Ve=Math.imul(qr,os),Ie=Math.imul(qr,_s),Ie=Ie+Math.imul(Hr,os)|0,Ye=Math.imul(Hr,_s),Ve=Ve+Math.imul($r,ds)|0,Ie=Ie+Math.imul($r,Ns)|0,Ie=Ie+Math.imul(Tr,ds)|0,Ye=Ye+Math.imul(Tr,Ns)|0,Ve=Ve+Math.imul(Br,ys)|0,Ie=Ie+Math.imul(Br,ws)|0,Ie=Ie+Math.imul(Cr,ys)|0,Ye=Ye+Math.imul(Cr,ws)|0,Ve=Ve+Math.imul(Ur,bs)|0,Ie=Ie+Math.imul(Ur,Es)|0,Ie=Ie+Math.imul(Gr,bs)|0,Ye=Ye+Math.imul(Gr,Es)|0,Ve=Ve+Math.imul(kr,us)|0,Ie=Ie+Math.imul(kr,As)|0,Ie=Ie+Math.imul(Lr,us)|0,Ye=Ye+Math.imul(Lr,As)|0,Ve=Ve+Math.imul(Sr,vs)|0,Ie=Ie+Math.imul(Sr,Ms)|0,Ie=Ie+Math.imul(wr,vs)|0,Ye=Ye+Math.imul(wr,Ms)|0,Ve=Ve+Math.imul(lr,xs)|0,Ie=Ie+Math.imul(lr,ks)|0,Ie=Ie+Math.imul(br,xs)|0,Ye=Ye+Math.imul(br,ks)|0;var xi=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(xi>>>26)|0,xi&=67108863,Ve=Math.imul(Vr,os),Ie=Math.imul(Vr,_s),Ie=Ie+Math.imul(Zr,os)|0,Ye=Math.imul(Zr,_s),Ve=Ve+Math.imul(qr,ds)|0,Ie=Ie+Math.imul(qr,Ns)|0,Ie=Ie+Math.imul(Hr,ds)|0,Ye=Ye+Math.imul(Hr,Ns)|0,Ve=Ve+Math.imul($r,ys)|0,Ie=Ie+Math.imul($r,ws)|0,Ie=Ie+Math.imul(Tr,ys)|0,Ye=Ye+Math.imul(Tr,ws)|0,Ve=Ve+Math.imul(Br,bs)|0,Ie=Ie+Math.imul(Br,Es)|0,Ie=Ie+Math.imul(Cr,bs)|0,Ye=Ye+Math.imul(Cr,Es)|0,Ve=Ve+Math.imul(Ur,us)|0,Ie=Ie+Math.imul(Ur,As)|0,Ie=Ie+Math.imul(Gr,us)|0,Ye=Ye+Math.imul(Gr,As)|0,Ve=Ve+Math.imul(kr,vs)|0,Ie=Ie+Math.imul(kr,Ms)|0,Ie=Ie+Math.imul(Lr,vs)|0,Ye=Ye+Math.imul(Lr,Ms)|0,Ve=Ve+Math.imul(Sr,xs)|0,Ie=Ie+Math.imul(Sr,ks)|0,Ie=Ie+Math.imul(wr,xs)|0,Ye=Ye+Math.imul(wr,ks)|0,Ve=Ve+Math.imul(lr,fs)|0,Ie=Ie+Math.imul(lr,Rs)|0,Ie=Ie+Math.imul(br,fs)|0,Ye=Ye+Math.imul(br,Rs)|0;var gi=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(gi>>>26)|0,gi&=67108863,Ve=Math.imul(Jr,os),Ie=Math.imul(Jr,_s),Ie=Ie+Math.imul(cs,os)|0,Ye=Math.imul(cs,_s),Ve=Ve+Math.imul(Vr,ds)|0,Ie=Ie+Math.imul(Vr,Ns)|0,Ie=Ie+Math.imul(Zr,ds)|0,Ye=Ye+Math.imul(Zr,Ns)|0,Ve=Ve+Math.imul(qr,ys)|0,Ie=Ie+Math.imul(qr,ws)|0,Ie=Ie+Math.imul(Hr,ys)|0,Ye=Ye+Math.imul(Hr,ws)|0,Ve=Ve+Math.imul($r,bs)|0,Ie=Ie+Math.imul($r,Es)|0,Ie=Ie+Math.imul(Tr,bs)|0,Ye=Ye+Math.imul(Tr,Es)|0,Ve=Ve+Math.imul(Br,us)|0,Ie=Ie+Math.imul(Br,As)|0,Ie=Ie+Math.imul(Cr,us)|0,Ye=Ye+Math.imul(Cr,As)|0,Ve=Ve+Math.imul(Ur,vs)|0,Ie=Ie+Math.imul(Ur,Ms)|0,Ie=Ie+Math.imul(Gr,vs)|0,Ye=Ye+Math.imul(Gr,Ms)|0,Ve=Ve+Math.imul(kr,xs)|0,Ie=Ie+Math.imul(kr,ks)|0,Ie=Ie+Math.imul(Lr,xs)|0,Ye=Ye+Math.imul(Lr,ks)|0,Ve=Ve+Math.imul(Sr,fs)|0,Ie=Ie+Math.imul(Sr,Rs)|0,Ie=Ie+Math.imul(wr,fs)|0,Ye=Ye+Math.imul(wr,Rs)|0,Ve=Ve+Math.imul(lr,js)|0,Ie=Ie+Math.imul(lr,$s)|0,Ie=Ie+Math.imul(br,js)|0,Ye=Ye+Math.imul(br,$s)|0;var Ei=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(Ei>>>26)|0,Ei&=67108863,Ve=Math.imul(ns,os),Ie=Math.imul(ns,_s),Ie=Ie+Math.imul(Qr,os)|0,Ye=Math.imul(Qr,_s),Ve=Ve+Math.imul(Jr,ds)|0,Ie=Ie+Math.imul(Jr,Ns)|0,Ie=Ie+Math.imul(cs,ds)|0,Ye=Ye+Math.imul(cs,Ns)|0,Ve=Ve+Math.imul(Vr,ys)|0,Ie=Ie+Math.imul(Vr,ws)|0,Ie=Ie+Math.imul(Zr,ys)|0,Ye=Ye+Math.imul(Zr,ws)|0,Ve=Ve+Math.imul(qr,bs)|0,Ie=Ie+Math.imul(qr,Es)|0,Ie=Ie+Math.imul(Hr,bs)|0,Ye=Ye+Math.imul(Hr,Es)|0,Ve=Ve+Math.imul($r,us)|0,Ie=Ie+Math.imul($r,As)|0,Ie=Ie+Math.imul(Tr,us)|0,Ye=Ye+Math.imul(Tr,As)|0,Ve=Ve+Math.imul(Br,vs)|0,Ie=Ie+Math.imul(Br,Ms)|0,Ie=Ie+Math.imul(Cr,vs)|0,Ye=Ye+Math.imul(Cr,Ms)|0,Ve=Ve+Math.imul(Ur,xs)|0,Ie=Ie+Math.imul(Ur,ks)|0,Ie=Ie+Math.imul(Gr,xs)|0,Ye=Ye+Math.imul(Gr,ks)|0,Ve=Ve+Math.imul(kr,fs)|0,Ie=Ie+Math.imul(kr,Rs)|0,Ie=Ie+Math.imul(Lr,fs)|0,Ye=Ye+Math.imul(Lr,Rs)|0,Ve=Ve+Math.imul(Sr,js)|0,Ie=Ie+Math.imul(Sr,$s)|0,Ie=Ie+Math.imul(wr,js)|0,Ye=Ye+Math.imul(wr,$s)|0,Ve=Ve+Math.imul(lr,gs)|0,Ie=Ie+Math.imul(lr,Ss)|0,Ie=Ie+Math.imul(br,gs)|0,Ye=Ye+Math.imul(br,Ss)|0;var Si=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(Si>>>26)|0,Si&=67108863,Ve=Math.imul(ns,ds),Ie=Math.imul(ns,Ns),Ie=Ie+Math.imul(Qr,ds)|0,Ye=Math.imul(Qr,Ns),Ve=Ve+Math.imul(Jr,ys)|0,Ie=Ie+Math.imul(Jr,ws)|0,Ie=Ie+Math.imul(cs,ys)|0,Ye=Ye+Math.imul(cs,ws)|0,Ve=Ve+Math.imul(Vr,bs)|0,Ie=Ie+Math.imul(Vr,Es)|0,Ie=Ie+Math.imul(Zr,bs)|0,Ye=Ye+Math.imul(Zr,Es)|0,Ve=Ve+Math.imul(qr,us)|0,Ie=Ie+Math.imul(qr,As)|0,Ie=Ie+Math.imul(Hr,us)|0,Ye=Ye+Math.imul(Hr,As)|0,Ve=Ve+Math.imul($r,vs)|0,Ie=Ie+Math.imul($r,Ms)|0,Ie=Ie+Math.imul(Tr,vs)|0,Ye=Ye+Math.imul(Tr,Ms)|0,Ve=Ve+Math.imul(Br,xs)|0,Ie=Ie+Math.imul(Br,ks)|0,Ie=Ie+Math.imul(Cr,xs)|0,Ye=Ye+Math.imul(Cr,ks)|0,Ve=Ve+Math.imul(Ur,fs)|0,Ie=Ie+Math.imul(Ur,Rs)|0,Ie=Ie+Math.imul(Gr,fs)|0,Ye=Ye+Math.imul(Gr,Rs)|0,Ve=Ve+Math.imul(kr,js)|0,Ie=Ie+Math.imul(kr,$s)|0,Ie=Ie+Math.imul(Lr,js)|0,Ye=Ye+Math.imul(Lr,$s)|0,Ve=Ve+Math.imul(Sr,gs)|0,Ie=Ie+Math.imul(Sr,Ss)|0,Ie=Ie+Math.imul(wr,gs)|0,Ye=Ye+Math.imul(wr,Ss)|0;var Ni=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(Ni>>>26)|0,Ni&=67108863,Ve=Math.imul(ns,ys),Ie=Math.imul(ns,ws),Ie=Ie+Math.imul(Qr,ys)|0,Ye=Math.imul(Qr,ws),Ve=Ve+Math.imul(Jr,bs)|0,Ie=Ie+Math.imul(Jr,Es)|0,Ie=Ie+Math.imul(cs,bs)|0,Ye=Ye+Math.imul(cs,Es)|0,Ve=Ve+Math.imul(Vr,us)|0,Ie=Ie+Math.imul(Vr,As)|0,Ie=Ie+Math.imul(Zr,us)|0,Ye=Ye+Math.imul(Zr,As)|0,Ve=Ve+Math.imul(qr,vs)|0,Ie=Ie+Math.imul(qr,Ms)|0,Ie=Ie+Math.imul(Hr,vs)|0,Ye=Ye+Math.imul(Hr,Ms)|0,Ve=Ve+Math.imul($r,xs)|0,Ie=Ie+Math.imul($r,ks)|0,Ie=Ie+Math.imul(Tr,xs)|0,Ye=Ye+Math.imul(Tr,ks)|0,Ve=Ve+Math.imul(Br,fs)|0,Ie=Ie+Math.imul(Br,Rs)|0,Ie=Ie+Math.imul(Cr,fs)|0,Ye=Ye+Math.imul(Cr,Rs)|0,Ve=Ve+Math.imul(Ur,js)|0,Ie=Ie+Math.imul(Ur,$s)|0,Ie=Ie+Math.imul(Gr,js)|0,Ye=Ye+Math.imul(Gr,$s)|0,Ve=Ve+Math.imul(kr,gs)|0,Ie=Ie+Math.imul(kr,Ss)|0,Ie=Ie+Math.imul(Lr,gs)|0,Ye=Ye+Math.imul(Lr,Ss)|0;var vi=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(vi>>>26)|0,vi&=67108863,Ve=Math.imul(ns,bs),Ie=Math.imul(ns,Es),Ie=Ie+Math.imul(Qr,bs)|0,Ye=Math.imul(Qr,Es),Ve=Ve+Math.imul(Jr,us)|0,Ie=Ie+Math.imul(Jr,As)|0,Ie=Ie+Math.imul(cs,us)|0,Ye=Ye+Math.imul(cs,As)|0,Ve=Ve+Math.imul(Vr,vs)|0,Ie=Ie+Math.imul(Vr,Ms)|0,Ie=Ie+Math.imul(Zr,vs)|0,Ye=Ye+Math.imul(Zr,Ms)|0,Ve=Ve+Math.imul(qr,xs)|0,Ie=Ie+Math.imul(qr,ks)|0,Ie=Ie+Math.imul(Hr,xs)|0,Ye=Ye+Math.imul(Hr,ks)|0,Ve=Ve+Math.imul($r,fs)|0,Ie=Ie+Math.imul($r,Rs)|0,Ie=Ie+Math.imul(Tr,fs)|0,Ye=Ye+Math.imul(Tr,Rs)|0,Ve=Ve+Math.imul(Br,js)|0,Ie=Ie+Math.imul(Br,$s)|0,Ie=Ie+Math.imul(Cr,js)|0,Ye=Ye+Math.imul(Cr,$s)|0,Ve=Ve+Math.imul(Ur,gs)|0,Ie=Ie+Math.imul(Ur,Ss)|0,Ie=Ie+Math.imul(Gr,gs)|0,Ye=Ye+Math.imul(Gr,Ss)|0;var Ri=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(Ri>>>26)|0,Ri&=67108863,Ve=Math.imul(ns,us),Ie=Math.imul(ns,As),Ie=Ie+Math.imul(Qr,us)|0,Ye=Math.imul(Qr,As),Ve=Ve+Math.imul(Jr,vs)|0,Ie=Ie+Math.imul(Jr,Ms)|0,Ie=Ie+Math.imul(cs,vs)|0,Ye=Ye+Math.imul(cs,Ms)|0,Ve=Ve+Math.imul(Vr,xs)|0,Ie=Ie+Math.imul(Vr,ks)|0,Ie=Ie+Math.imul(Zr,xs)|0,Ye=Ye+Math.imul(Zr,ks)|0,Ve=Ve+Math.imul(qr,fs)|0,Ie=Ie+Math.imul(qr,Rs)|0,Ie=Ie+Math.imul(Hr,fs)|0,Ye=Ye+Math.imul(Hr,Rs)|0,Ve=Ve+Math.imul($r,js)|0,Ie=Ie+Math.imul($r,$s)|0,Ie=Ie+Math.imul(Tr,js)|0,Ye=Ye+Math.imul(Tr,$s)|0,Ve=Ve+Math.imul(Br,gs)|0,Ie=Ie+Math.imul(Br,Ss)|0,Ie=Ie+Math.imul(Cr,gs)|0,Ye=Ye+Math.imul(Cr,Ss)|0;var Mi=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(Mi>>>26)|0,Mi&=67108863,Ve=Math.imul(ns,vs),Ie=Math.imul(ns,Ms),Ie=Ie+Math.imul(Qr,vs)|0,Ye=Math.imul(Qr,Ms),Ve=Ve+Math.imul(Jr,xs)|0,Ie=Ie+Math.imul(Jr,ks)|0,Ie=Ie+Math.imul(cs,xs)|0,Ye=Ye+Math.imul(cs,ks)|0,Ve=Ve+Math.imul(Vr,fs)|0,Ie=Ie+Math.imul(Vr,Rs)|0,Ie=Ie+Math.imul(Zr,fs)|0,Ye=Ye+Math.imul(Zr,Rs)|0,Ve=Ve+Math.imul(qr,js)|0,Ie=Ie+Math.imul(qr,$s)|0,Ie=Ie+Math.imul(Hr,js)|0,Ye=Ye+Math.imul(Hr,$s)|0,Ve=Ve+Math.imul($r,gs)|0,Ie=Ie+Math.imul($r,Ss)|0,Ie=Ie+Math.imul(Tr,gs)|0,Ye=Ye+Math.imul(Tr,Ss)|0;var ji=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(ji>>>26)|0,ji&=67108863,Ve=Math.imul(ns,xs),Ie=Math.imul(ns,ks),Ie=Ie+Math.imul(Qr,xs)|0,Ye=Math.imul(Qr,ks),Ve=Ve+Math.imul(Jr,fs)|0,Ie=Ie+Math.imul(Jr,Rs)|0,Ie=Ie+Math.imul(cs,fs)|0,Ye=Ye+Math.imul(cs,Rs)|0,Ve=Ve+Math.imul(Vr,js)|0,Ie=Ie+Math.imul(Vr,$s)|0,Ie=Ie+Math.imul(Zr,js)|0,Ye=Ye+Math.imul(Zr,$s)|0,Ve=Ve+Math.imul(qr,gs)|0,Ie=Ie+Math.imul(qr,Ss)|0,Ie=Ie+Math.imul(Hr,gs)|0,Ye=Ye+Math.imul(Hr,Ss)|0;var ki=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(ki>>>26)|0,ki&=67108863,Ve=Math.imul(ns,fs),Ie=Math.imul(ns,Rs),Ie=Ie+Math.imul(Qr,fs)|0,Ye=Math.imul(Qr,Rs),Ve=Ve+Math.imul(Jr,js)|0,Ie=Ie+Math.imul(Jr,$s)|0,Ie=Ie+Math.imul(cs,js)|0,Ye=Ye+Math.imul(cs,$s)|0,Ve=Ve+Math.imul(Vr,gs)|0,Ie=Ie+Math.imul(Vr,Ss)|0,Ie=Ie+Math.imul(Zr,gs)|0,Ye=Ye+Math.imul(Zr,Ss)|0;var _i=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(_i>>>26)|0,_i&=67108863,Ve=Math.imul(ns,js),Ie=Math.imul(ns,$s),Ie=Ie+Math.imul(Qr,js)|0,Ye=Math.imul(Qr,$s),Ve=Ve+Math.imul(Jr,gs)|0,Ie=Ie+Math.imul(Jr,Ss)|0,Ie=Ie+Math.imul(cs,gs)|0,Ye=Ye+Math.imul(cs,Ss)|0;var $i=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+($i>>>26)|0,$i&=67108863,Ve=Math.imul(ns,gs),Ie=Math.imul(ns,Ss),Ie=Ie+Math.imul(Qr,gs)|0,Ye=Math.imul(Qr,Ss);var bi=(er+Ve|0)+((Ie&8191)<<13)|0;return er=(Ye+(Ie>>>13)|0)+(bi>>>26)|0,bi&=67108863,Ze[0]=ei,Ze[1]=Js,Ze[2]=di,Ze[3]=fi,Ze[4]=mi,Ze[5]=pi,Ze[6]=xi,Ze[7]=gi,Ze[8]=Ei,Ze[9]=Si,Ze[10]=Ni,Ze[11]=vi,Ze[12]=Ri,Ze[13]=Mi,Ze[14]=ji,Ze[15]=ki,Ze[16]=_i,Ze[17]=$i,Ze[18]=bi,er!==0&&(Ze[19]=er,ze.length++),ze};Math.imul||(tr=rr);function cr(Xe,Pe,Fe){Fe.negative=Pe.negative^Xe.negative,Fe.length=Xe.length+Pe.length;for(var ze=0,Ue=0,Ge=0;Ge<Fe.length-1;Ge++){var Ze=Ue;Ue=0;for(var er=ze&67108863,Ve=Math.min(Ge,Pe.length-1),Ie=Math.max(0,Ge-Xe.length+1);Ie<=Ve;Ie++){var Ye=Ge-Ie,ir=Xe.words[Ye]|0,lr=Pe.words[Ie]|0,br=ir*lr,_r=br&67108863;Ze=Ze+(br/67108864|0)|0,_r=_r+er|0,er=_r&67108863,Ze=Ze+(_r>>>26)|0,Ue+=Ze>>>26,Ze&=67108863}Fe.words[Ge]=er,ze=Ze,Ze=Ue}return ze!==0?Fe.words[Ge]=ze:Fe.length--,Fe.strip()}function or(Xe,Pe,Fe){var ze=new ar;return ze.mulp(Xe,Pe,Fe)}ke.prototype.mulTo=function(Pe,Fe){var ze,Ue=this.length+Pe.length;return this.length===10&&Pe.length===10?ze=tr(this,Pe,Fe):Ue<63?ze=rr(this,Pe,Fe):Ue<1024?ze=cr(this,Pe,Fe):ze=or(this,Pe,Fe),ze};function ar(Xe,Pe){this.x=Xe,this.y=Pe}ar.prototype.makeRBT=function(Pe){for(var Fe=new Array(Pe),ze=ke.prototype._countBits(Pe)-1,Ue=0;Ue<Pe;Ue++)Fe[Ue]=this.revBin(Ue,ze,Pe);return Fe},ar.prototype.revBin=function(Pe,Fe,ze){if(Pe===0||Pe===ze-1)return Pe;for(var Ue=0,Ge=0;Ge<Fe;Ge++)Ue|=(Pe&1)<<Fe-Ge-1,Pe>>=1;return Ue},ar.prototype.permute=function(Pe,Fe,ze,Ue,Ge,Ze){for(var er=0;er<Ze;er++)Ue[er]=Fe[Pe[er]],Ge[er]=ze[Pe[er]]},ar.prototype.transform=function(Pe,Fe,ze,Ue,Ge,Ze){this.permute(Ze,Pe,Fe,ze,Ue,Ge);for(var er=1;er<Ge;er<<=1)for(var Ve=er<<1,Ie=Math.cos(2*Math.PI/Ve),Ye=Math.sin(2*Math.PI/Ve),ir=0;ir<Ge;ir+=Ve)for(var lr=Ie,br=Ye,_r=0;_r<er;_r++){var Sr=ze[ir+_r],wr=Ue[ir+_r],Nr=ze[ir+_r+er],kr=Ue[ir+_r+er],Lr=lr*Nr-br*kr;kr=lr*kr+br*Nr,Nr=Lr,ze[ir+_r]=Sr+Nr,Ue[ir+_r]=wr+kr,ze[ir+_r+er]=Sr-Nr,Ue[ir+_r+er]=wr-kr,_r!==Ve&&(Lr=Ie*lr-Ye*br,br=Ie*br+Ye*lr,lr=Lr)}},ar.prototype.guessLen13b=function(Pe,Fe){var ze=Math.max(Fe,Pe)|1,Ue=ze&1,Ge=0;for(ze=ze/2|0;ze;ze=ze>>>1)Ge++;return 1<<Ge+1+Ue},ar.prototype.conjugate=function(Pe,Fe,ze){if(!(ze<=1))for(var Ue=0;Ue<ze/2;Ue++){var Ge=Pe[Ue];Pe[Ue]=Pe[ze-Ue-1],Pe[ze-Ue-1]=Ge,Ge=Fe[Ue],Fe[Ue]=-Fe[ze-Ue-1],Fe[ze-Ue-1]=-Ge}},ar.prototype.normalize13b=function(Pe,Fe){for(var ze=0,Ue=0;Ue<Fe/2;Ue++){var Ge=Math.round(Pe[2*Ue+1]/Fe)*8192+Math.round(Pe[2*Ue]/Fe)+ze;Pe[Ue]=Ge&67108863,Ge<67108864?ze=0:ze=Ge/67108864|0}return Pe},ar.prototype.convert13b=function(Pe,Fe,ze,Ue){for(var Ge=0,Ze=0;Ze<Fe;Ze++)Ge=Ge+(Pe[Ze]|0),ze[2*Ze]=Ge&8191,Ge=Ge>>>13,ze[2*Ze+1]=Ge&8191,Ge=Ge>>>13;for(Ze=2*Fe;Ze<Ue;++Ze)ze[Ze]=0;Me(Ge===0),Me((Ge&-8192)===0)},ar.prototype.stub=function(Pe){for(var Fe=new Array(Pe),ze=0;ze<Pe;ze++)Fe[ze]=0;return Fe},ar.prototype.mulp=function(Pe,Fe,ze){var Ue=2*this.guessLen13b(Pe.length,Fe.length),Ge=this.makeRBT(Ue),Ze=this.stub(Ue),er=new Array(Ue),Ve=new Array(Ue),Ie=new Array(Ue),Ye=new Array(Ue),ir=new Array(Ue),lr=new Array(Ue),br=ze.words;br.length=Ue,this.convert13b(Pe.words,Pe.length,er,Ue),this.convert13b(Fe.words,Fe.length,Ye,Ue),this.transform(er,Ze,Ve,Ie,Ue,Ge),this.transform(Ye,Ze,ir,lr,Ue,Ge);for(var _r=0;_r<Ue;_r++){var Sr=Ve[_r]*ir[_r]-Ie[_r]*lr[_r];Ie[_r]=Ve[_r]*lr[_r]+Ie[_r]*ir[_r],Ve[_r]=Sr}return this.conjugate(Ve,Ie,Ue),this.transform(Ve,Ie,br,Ze,Ue,Ge),this.conjugate(br,Ze,Ue),this.normalize13b(br,Ue),ze.negative=Pe.negative^Fe.negative,ze.length=Pe.length+Fe.length,ze.strip()},ke.prototype.mul=function(Pe){var Fe=new ke(null);return Fe.words=new Array(this.length+Pe.length),this.mulTo(Pe,Fe)},ke.prototype.mulf=function(Pe){var Fe=new ke(null);return Fe.words=new Array(this.length+Pe.length),or(this,Pe,Fe)},ke.prototype.imul=function(Pe){return this.clone().mulTo(Pe,this)},ke.prototype.imuln=function(Pe){Me(typeof Pe=="number"),Me(Pe<67108864);for(var Fe=0,ze=0;ze<this.length;ze++){var Ue=(this.words[ze]|0)*Pe,Ge=(Ue&67108863)+(Fe&67108863);Fe>>=26,Fe+=Ue/67108864|0,Fe+=Ge>>>26,this.words[ze]=Ge&67108863}return Fe!==0&&(this.words[ze]=Fe,this.length++),this.length=Pe===0?1:this.length,this},ke.prototype.muln=function(Pe){return this.clone().imuln(Pe)},ke.prototype.sqr=function(){return this.mul(this)},ke.prototype.isqr=function(){return this.imul(this.clone())},ke.prototype.pow=function(Pe){var Fe=Qe(Pe);if(Fe.length===0)return new ke(1);for(var ze=this,Ue=0;Ue<Fe.length&&Fe[Ue]===0;Ue++,ze=ze.sqr());if(++Ue<Fe.length)for(var Ge=ze.sqr();Ue<Fe.length;Ue++,Ge=Ge.sqr())Fe[Ue]!==0&&(ze=ze.mul(Ge));return ze},ke.prototype.iushln=function(Pe){Me(typeof Pe=="number"&&Pe>=0);var Fe=Pe%26,ze=(Pe-Fe)/26,Ue=67108863>>>26-Fe<<26-Fe,Ge;if(Fe!==0){var Ze=0;for(Ge=0;Ge<this.length;Ge++){var er=this.words[Ge]&Ue,Ve=(this.words[Ge]|0)-er<<Fe;this.words[Ge]=Ve|Ze,Ze=er>>>26-Fe}Ze&&(this.words[Ge]=Ze,this.length++)}if(ze!==0){for(Ge=this.length-1;Ge>=0;Ge--)this.words[Ge+ze]=this.words[Ge];for(Ge=0;Ge<ze;Ge++)this.words[Ge]=0;this.length+=ze}return this.strip()},ke.prototype.ishln=function(Pe){return Me(this.negative===0),this.iushln(Pe)},ke.prototype.iushrn=function(Pe,Fe,ze){Me(typeof Pe=="number"&&Pe>=0);var Ue;Fe?Ue=(Fe-Fe%26)/26:Ue=0;var Ge=Pe%26,Ze=Math.min((Pe-Ge)/26,this.length),er=67108863^67108863>>>Ge<<Ge,Ve=ze;if(Ue-=Ze,Ue=Math.max(0,Ue),Ve){for(var Ie=0;Ie<Ze;Ie++)Ve.words[Ie]=this.words[Ie];Ve.length=Ze}if(Ze!==0)if(this.length>Ze)for(this.length-=Ze,Ie=0;Ie<this.length;Ie++)this.words[Ie]=this.words[Ie+Ze];else this.words[0]=0,this.length=1;var Ye=0;for(Ie=this.length-1;Ie>=0&&(Ye!==0||Ie>=Ue);Ie--){var ir=this.words[Ie]|0;this.words[Ie]=Ye<<26-Ge|ir>>>Ge,Ye=ir&er}return Ve&&Ye!==0&&(Ve.words[Ve.length++]=Ye),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},ke.prototype.ishrn=function(Pe,Fe,ze){return Me(this.negative===0),this.iushrn(Pe,Fe,ze)},ke.prototype.shln=function(Pe){return this.clone().ishln(Pe)},ke.prototype.ushln=function(Pe){return this.clone().iushln(Pe)},ke.prototype.shrn=function(Pe){return this.clone().ishrn(Pe)},ke.prototype.ushrn=function(Pe){return this.clone().iushrn(Pe)},ke.prototype.testn=function(Pe){Me(typeof Pe=="number"&&Pe>=0);var Fe=Pe%26,ze=(Pe-Fe)/26,Ue=1<<Fe;if(this.length<=ze)return!1;var Ge=this.words[ze];return!!(Ge&Ue)},ke.prototype.imaskn=function(Pe){Me(typeof Pe=="number"&&Pe>=0);var Fe=Pe%26,ze=(Pe-Fe)/26;if(Me(this.negative===0,"imaskn works only with positive numbers"),this.length<=ze)return this;if(Fe!==0&&ze++,this.length=Math.min(ze,this.length),Fe!==0){var Ue=67108863^67108863>>>Fe<<Fe;this.words[this.length-1]&=Ue}return this.strip()},ke.prototype.maskn=function(Pe){return this.clone().imaskn(Pe)},ke.prototype.iaddn=function(Pe){return Me(typeof Pe=="number"),Me(Pe<67108864),Pe<0?this.isubn(-Pe):this.negative!==0?this.length===1&&(this.words[0]|0)<Pe?(this.words[0]=Pe-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(Pe),this.negative=1,this):this._iaddn(Pe)},ke.prototype._iaddn=function(Pe){this.words[0]+=Pe;for(var Fe=0;Fe<this.length&&this.words[Fe]>=67108864;Fe++)this.words[Fe]-=67108864,Fe===this.length-1?this.words[Fe+1]=1:this.words[Fe+1]++;return this.length=Math.max(this.length,Fe+1),this},ke.prototype.isubn=function(Pe){if(Me(typeof Pe=="number"),Me(Pe<67108864),Pe<0)return this.iaddn(-Pe);if(this.negative!==0)return this.negative=0,this.iaddn(Pe),this.negative=1,this;if(this.words[0]-=Pe,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var Fe=0;Fe<this.length&&this.words[Fe]<0;Fe++)this.words[Fe]+=67108864,this.words[Fe+1]-=1;return this.strip()},ke.prototype.addn=function(Pe){return this.clone().iaddn(Pe)},ke.prototype.subn=function(Pe){return this.clone().isubn(Pe)},ke.prototype.iabs=function(){return this.negative=0,this},ke.prototype.abs=function(){return this.clone().iabs()},ke.prototype._ishlnsubmul=function(Pe,Fe,ze){var Ue=Pe.length+ze,Ge;this._expand(Ue);var Ze,er=0;for(Ge=0;Ge<Pe.length;Ge++){Ze=(this.words[Ge+ze]|0)+er;var Ve=(Pe.words[Ge]|0)*Fe;Ze-=Ve&67108863,er=(Ze>>26)-(Ve/67108864|0),this.words[Ge+ze]=Ze&67108863}for(;Ge<this.length-ze;Ge++)Ze=(this.words[Ge+ze]|0)+er,er=Ze>>26,this.words[Ge+ze]=Ze&67108863;if(er===0)return this.strip();for(Me(er===-1),er=0,Ge=0;Ge<this.length;Ge++)Ze=-(this.words[Ge]|0)+er,er=Ze>>26,this.words[Ge]=Ze&67108863;return this.negative=1,this.strip()},ke.prototype._wordDiv=function(Pe,Fe){var ze=this.length-Pe.length,Ue=this.clone(),Ge=Pe,Ze=Ge.words[Ge.length-1]|0,er=this._countBits(Ze);ze=26-er,ze!==0&&(Ge=Ge.ushln(ze),Ue.iushln(ze),Ze=Ge.words[Ge.length-1]|0);var Ve=Ue.length-Ge.length,Ie;if(Fe!=="mod"){Ie=new ke(null),Ie.length=Ve+1,Ie.words=new Array(Ie.length);for(var Ye=0;Ye<Ie.length;Ye++)Ie.words[Ye]=0}var ir=Ue.clone()._ishlnsubmul(Ge,1,Ve);ir.negative===0&&(Ue=ir,Ie&&(Ie.words[Ve]=1));for(var lr=Ve-1;lr>=0;lr--){var br=(Ue.words[Ge.length+lr]|0)*67108864+(Ue.words[Ge.length+lr-1]|0);for(br=Math.min(br/Ze|0,67108863),Ue._ishlnsubmul(Ge,br,lr);Ue.negative!==0;)br--,Ue.negative=0,Ue._ishlnsubmul(Ge,1,lr),Ue.isZero()||(Ue.negative^=1);Ie&&(Ie.words[lr]=br)}return Ie&&Ie.strip(),Ue.strip(),Fe!=="div"&&ze!==0&&Ue.iushrn(ze),{div:Ie||null,mod:Ue}},ke.prototype.divmod=function(Pe,Fe,ze){if(Me(!Pe.isZero()),this.isZero())return{div:new ke(0),mod:new ke(0)};var Ue,Ge,Ze;return this.negative!==0&&Pe.negative===0?(Ze=this.neg().divmod(Pe,Fe),Fe!=="mod"&&(Ue=Ze.div.neg()),Fe!=="div"&&(Ge=Ze.mod.neg(),ze&&Ge.negative!==0&&Ge.iadd(Pe)),{div:Ue,mod:Ge}):this.negative===0&&Pe.negative!==0?(Ze=this.divmod(Pe.neg(),Fe),Fe!=="mod"&&(Ue=Ze.div.neg()),{div:Ue,mod:Ze.mod}):this.negative&Pe.negative?(Ze=this.neg().divmod(Pe.neg(),Fe),Fe!=="div"&&(Ge=Ze.mod.neg(),ze&&Ge.negative!==0&&Ge.isub(Pe)),{div:Ze.div,mod:Ge}):Pe.length>this.length||this.cmp(Pe)<0?{div:new ke(0),mod:this}:Pe.length===1?Fe==="div"?{div:this.divn(Pe.words[0]),mod:null}:Fe==="mod"?{div:null,mod:new ke(this.modn(Pe.words[0]))}:{div:this.divn(Pe.words[0]),mod:new ke(this.modn(Pe.words[0]))}:this._wordDiv(Pe,Fe)},ke.prototype.div=function(Pe){return this.divmod(Pe,"div",!1).div},ke.prototype.mod=function(Pe){return this.divmod(Pe,"mod",!1).mod},ke.prototype.umod=function(Pe){return this.divmod(Pe,"mod",!0).mod},ke.prototype.divRound=function(Pe){var Fe=this.divmod(Pe);if(Fe.mod.isZero())return Fe.div;var ze=Fe.div.negative!==0?Fe.mod.isub(Pe):Fe.mod,Ue=Pe.ushrn(1),Ge=Pe.andln(1),Ze=ze.cmp(Ue);return Ze<0||Ge===1&&Ze===0?Fe.div:Fe.div.negative!==0?Fe.div.isubn(1):Fe.div.iaddn(1)},ke.prototype.modn=function(Pe){Me(Pe<=67108863);for(var Fe=(1<<26)%Pe,ze=0,Ue=this.length-1;Ue>=0;Ue--)ze=(Fe*ze+(this.words[Ue]|0))%Pe;return ze},ke.prototype.idivn=function(Pe){Me(Pe<=67108863);for(var Fe=0,ze=this.length-1;ze>=0;ze--){var Ue=(this.words[ze]|0)+Fe*67108864;this.words[ze]=Ue/Pe|0,Fe=Ue%Pe}return this.strip()},ke.prototype.divn=function(Pe){return this.clone().idivn(Pe)},ke.prototype.egcd=function(Pe){Me(Pe.negative===0),Me(!Pe.isZero());var Fe=this,ze=Pe.clone();Fe.negative!==0?Fe=Fe.umod(Pe):Fe=Fe.clone();for(var Ue=new ke(1),Ge=new ke(0),Ze=new ke(0),er=new ke(1),Ve=0;Fe.isEven()&&ze.isEven();)Fe.iushrn(1),ze.iushrn(1),++Ve;for(var Ie=ze.clone(),Ye=Fe.clone();!Fe.isZero();){for(var ir=0,lr=1;!(Fe.words[0]&lr)&&ir<26;++ir,lr<<=1);if(ir>0)for(Fe.iushrn(ir);ir-- >0;)(Ue.isOdd()||Ge.isOdd())&&(Ue.iadd(Ie),Ge.isub(Ye)),Ue.iushrn(1),Ge.iushrn(1);for(var br=0,_r=1;!(ze.words[0]&_r)&&br<26;++br,_r<<=1);if(br>0)for(ze.iushrn(br);br-- >0;)(Ze.isOdd()||er.isOdd())&&(Ze.iadd(Ie),er.isub(Ye)),Ze.iushrn(1),er.iushrn(1);Fe.cmp(ze)>=0?(Fe.isub(ze),Ue.isub(Ze),Ge.isub(er)):(ze.isub(Fe),Ze.isub(Ue),er.isub(Ge))}return{a:Ze,b:er,gcd:ze.iushln(Ve)}},ke.prototype._invmp=function(Pe){Me(Pe.negative===0),Me(!Pe.isZero());var Fe=this,ze=Pe.clone();Fe.negative!==0?Fe=Fe.umod(Pe):Fe=Fe.clone();for(var Ue=new ke(1),Ge=new ke(0),Ze=ze.clone();Fe.cmpn(1)>0&&ze.cmpn(1)>0;){for(var er=0,Ve=1;!(Fe.words[0]&Ve)&&er<26;++er,Ve<<=1);if(er>0)for(Fe.iushrn(er);er-- >0;)Ue.isOdd()&&Ue.iadd(Ze),Ue.iushrn(1);for(var Ie=0,Ye=1;!(ze.words[0]&Ye)&&Ie<26;++Ie,Ye<<=1);if(Ie>0)for(ze.iushrn(Ie);Ie-- >0;)Ge.isOdd()&&Ge.iadd(Ze),Ge.iushrn(1);Fe.cmp(ze)>=0?(Fe.isub(ze),Ue.isub(Ge)):(ze.isub(Fe),Ge.isub(Ue))}var ir;return Fe.cmpn(1)===0?ir=Ue:ir=Ge,ir.cmpn(0)<0&&ir.iadd(Pe),ir},ke.prototype.gcd=function(Pe){if(this.isZero())return Pe.abs();if(Pe.isZero())return this.abs();var Fe=this.clone(),ze=Pe.clone();Fe.negative=0,ze.negative=0;for(var Ue=0;Fe.isEven()&&ze.isEven();Ue++)Fe.iushrn(1),ze.iushrn(1);do{for(;Fe.isEven();)Fe.iushrn(1);for(;ze.isEven();)ze.iushrn(1);var Ge=Fe.cmp(ze);if(Ge<0){var Ze=Fe;Fe=ze,ze=Ze}else if(Ge===0||ze.cmpn(1)===0)break;Fe.isub(ze)}while(!0);return ze.iushln(Ue)},ke.prototype.invm=function(Pe){return this.egcd(Pe).a.umod(Pe)},ke.prototype.isEven=function(){return(this.words[0]&1)===0},ke.prototype.isOdd=function(){return(this.words[0]&1)===1},ke.prototype.andln=function(Pe){return this.words[0]&Pe},ke.prototype.bincn=function(Pe){Me(typeof Pe=="number");var Fe=Pe%26,ze=(Pe-Fe)/26,Ue=1<<Fe;if(this.length<=ze)return this._expand(ze+1),this.words[ze]|=Ue,this;for(var Ge=Ue,Ze=ze;Ge!==0&&Ze<this.length;Ze++){var er=this.words[Ze]|0;er+=Ge,Ge=er>>>26,er&=67108863,this.words[Ze]=er}return Ge!==0&&(this.words[Ze]=Ge,this.length++),this},ke.prototype.isZero=function(){return this.length===1&&this.words[0]===0},ke.prototype.cmpn=function(Pe){var Fe=Pe<0;if(this.negative!==0&&!Fe)return-1;if(this.negative===0&&Fe)return 1;this.strip();var ze;if(this.length>1)ze=1;else{Fe&&(Pe=-Pe),Me(Pe<=67108863,"Number is too big");var Ue=this.words[0]|0;ze=Ue===Pe?0:Ue<Pe?-1:1}return this.negative!==0?-ze|0:ze},ke.prototype.cmp=function(Pe){if(this.negative!==0&&Pe.negative===0)return-1;if(this.negative===0&&Pe.negative!==0)return 1;var Fe=this.ucmp(Pe);return this.negative!==0?-Fe|0:Fe},ke.prototype.ucmp=function(Pe){if(this.length>Pe.length)return 1;if(this.length<Pe.length)return-1;for(var Fe=0,ze=this.length-1;ze>=0;ze--){var Ue=this.words[ze]|0,Ge=Pe.words[ze]|0;if(Ue!==Ge){Ue<Ge?Fe=-1:Ue>Ge&&(Fe=1);break}}return Fe},ke.prototype.gtn=function(Pe){return this.cmpn(Pe)===1},ke.prototype.gt=function(Pe){return this.cmp(Pe)===1},ke.prototype.gten=function(Pe){return this.cmpn(Pe)>=0},ke.prototype.gte=function(Pe){return this.cmp(Pe)>=0},ke.prototype.ltn=function(Pe){return this.cmpn(Pe)===-1},ke.prototype.lt=function(Pe){return this.cmp(Pe)===-1},ke.prototype.lten=function(Pe){return this.cmpn(Pe)<=0},ke.prototype.lte=function(Pe){return this.cmp(Pe)<=0},ke.prototype.eqn=function(Pe){return this.cmpn(Pe)===0},ke.prototype.eq=function(Pe){return this.cmp(Pe)===0},ke.red=function(Pe){return new xr(Pe)},ke.prototype.toRed=function(Pe){return Me(!this.red,"Already a number in reduction context"),Me(this.negative===0,"red works only with positives"),Pe.convertTo(this)._forceRed(Pe)},ke.prototype.fromRed=function(){return Me(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},ke.prototype._forceRed=function(Pe){return this.red=Pe,this},ke.prototype.forceRed=function(Pe){return Me(!this.red,"Already a number in reduction context"),this._forceRed(Pe)},ke.prototype.redAdd=function(Pe){return Me(this.red,"redAdd works only with red numbers"),this.red.add(this,Pe)},ke.prototype.redIAdd=function(Pe){return Me(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,Pe)},ke.prototype.redSub=function(Pe){return Me(this.red,"redSub works only with red numbers"),this.red.sub(this,Pe)},ke.prototype.redISub=function(Pe){return Me(this.red,"redISub works only with red numbers"),this.red.isub(this,Pe)},ke.prototype.redShl=function(Pe){return Me(this.red,"redShl works only with red numbers"),this.red.shl(this,Pe)},ke.prototype.redMul=function(Pe){return Me(this.red,"redMul works only with red numbers"),this.red._verify2(this,Pe),this.red.mul(this,Pe)},ke.prototype.redIMul=function(Pe){return Me(this.red,"redMul works only with red numbers"),this.red._verify2(this,Pe),this.red.imul(this,Pe)},ke.prototype.redSqr=function(){return Me(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},ke.prototype.redISqr=function(){return Me(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},ke.prototype.redSqrt=function(){return Me(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},ke.prototype.redInvm=function(){return Me(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},ke.prototype.redNeg=function(){return Me(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},ke.prototype.redPow=function(Pe){return Me(this.red&&!Pe.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,Pe)};var pr={k256:null,p224:null,p192:null,p25519:null};function ur(Xe,Pe){this.name=Xe,this.p=new ke(Pe,16),this.n=this.p.bitLength(),this.k=new ke(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}ur.prototype._tmp=function(){var Pe=new ke(null);return Pe.words=new Array(Math.ceil(this.n/13)),Pe},ur.prototype.ireduce=function(Pe){var Fe=Pe,ze;do this.split(Fe,this.tmp),Fe=this.imulK(Fe),Fe=Fe.iadd(this.tmp),ze=Fe.bitLength();while(ze>this.n);var Ue=ze<this.n?-1:Fe.ucmp(this.p);return Ue===0?(Fe.words[0]=0,Fe.length=1):Ue>0?Fe.isub(this.p):Fe.strip!==void 0?Fe.strip():Fe._strip(),Fe},ur.prototype.split=function(Pe,Fe){Pe.iushrn(this.n,0,Fe)},ur.prototype.imulK=function(Pe){return Pe.imul(this.k)};function gr(){ur.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}$e(gr,ur),gr.prototype.split=function(Pe,Fe){for(var ze=4194303,Ue=Math.min(Pe.length,9),Ge=0;Ge<Ue;Ge++)Fe.words[Ge]=Pe.words[Ge];if(Fe.length=Ue,Pe.length<=9){Pe.words[0]=0,Pe.length=1;return}var Ze=Pe.words[9];for(Fe.words[Fe.length++]=Ze&ze,Ge=10;Ge<Pe.length;Ge++){var er=Pe.words[Ge]|0;Pe.words[Ge-10]=(er&ze)<<4|Ze>>>22,Ze=er}Ze>>>=22,Pe.words[Ge-10]=Ze,Ze===0&&Pe.length>10?Pe.length-=10:Pe.length-=9},gr.prototype.imulK=function(Pe){Pe.words[Pe.length]=0,Pe.words[Pe.length+1]=0,Pe.length+=2;for(var Fe=0,ze=0;ze<Pe.length;ze++){var Ue=Pe.words[ze]|0;Fe+=Ue*977,Pe.words[ze]=Fe&67108863,Fe=Ue*64+(Fe/67108864|0)}return Pe.words[Pe.length-1]===0&&(Pe.length--,Pe.words[Pe.length-1]===0&&Pe.length--),Pe};function jr(){ur.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}$e(jr,ur);function vr(){ur.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}$e(vr,ur);function dr(){ur.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}$e(dr,ur),dr.prototype.imulK=function(Pe){for(var Fe=0,ze=0;ze<Pe.length;ze++){var Ue=(Pe.words[ze]|0)*19+Fe,Ge=Ue&67108863;Ue>>>=26,Pe.words[ze]=Ge,Fe=Ue}return Fe!==0&&(Pe.words[Pe.length++]=Fe),Pe},ke._prime=function(Pe){if(pr[Pe])return pr[Pe];var Fe;if(Pe==="k256")Fe=new gr;else if(Pe==="p224")Fe=new jr;else if(Pe==="p192")Fe=new vr;else if(Pe==="p25519")Fe=new dr;else throw new Error("Unknown prime "+Pe);return pr[Pe]=Fe,Fe};function xr(Xe){if(typeof Xe=="string"){var Pe=ke._prime(Xe);this.m=Pe.p,this.prime=Pe}else Me(Xe.gtn(1),"modulus must be greater than 1"),this.m=Xe,this.prime=null}xr.prototype._verify1=function(Pe){Me(Pe.negative===0,"red works only with positives"),Me(Pe.red,"red works only with red numbers")},xr.prototype._verify2=function(Pe,Fe){Me((Pe.negative|Fe.negative)===0,"red works only with positives"),Me(Pe.red&&Pe.red===Fe.red,"red works only with red numbers")},xr.prototype.imod=function(Pe){return this.prime?this.prime.ireduce(Pe)._forceRed(this):Pe.umod(this.m)._forceRed(this)},xr.prototype.neg=function(Pe){return Pe.isZero()?Pe.clone():this.m.sub(Pe)._forceRed(this)},xr.prototype.add=function(Pe,Fe){this._verify2(Pe,Fe);var ze=Pe.add(Fe);return ze.cmp(this.m)>=0&&ze.isub(this.m),ze._forceRed(this)},xr.prototype.iadd=function(Pe,Fe){this._verify2(Pe,Fe);var ze=Pe.iadd(Fe);return ze.cmp(this.m)>=0&&ze.isub(this.m),ze},xr.prototype.sub=function(Pe,Fe){this._verify2(Pe,Fe);var ze=Pe.sub(Fe);return ze.cmpn(0)<0&&ze.iadd(this.m),ze._forceRed(this)},xr.prototype.isub=function(Pe,Fe){this._verify2(Pe,Fe);var ze=Pe.isub(Fe);return ze.cmpn(0)<0&&ze.iadd(this.m),ze},xr.prototype.shl=function(Pe,Fe){return this._verify1(Pe),this.imod(Pe.ushln(Fe))},xr.prototype.imul=function(Pe,Fe){return this._verify2(Pe,Fe),this.imod(Pe.imul(Fe))},xr.prototype.mul=function(Pe,Fe){return this._verify2(Pe,Fe),this.imod(Pe.mul(Fe))},xr.prototype.isqr=function(Pe){return this.imul(Pe,Pe.clone())},xr.prototype.sqr=function(Pe){return this.mul(Pe,Pe)},xr.prototype.sqrt=function(Pe){if(Pe.isZero())return Pe.clone();var Fe=this.m.andln(3);if(Me(Fe%2===1),Fe===3){var ze=this.m.add(new ke(1)).iushrn(2);return this.pow(Pe,ze)}for(var Ue=this.m.subn(1),Ge=0;!Ue.isZero()&&Ue.andln(1)===0;)Ge++,Ue.iushrn(1);Me(!Ue.isZero());var Ze=new ke(1).toRed(this),er=Ze.redNeg(),Ve=this.m.subn(1).iushrn(1),Ie=this.m.bitLength();for(Ie=new ke(2*Ie*Ie).toRed(this);this.pow(Ie,Ve).cmp(er)!==0;)Ie.redIAdd(er);for(var Ye=this.pow(Ie,Ue),ir=this.pow(Pe,Ue.addn(1).iushrn(1)),lr=this.pow(Pe,Ue),br=Ge;lr.cmp(Ze)!==0;){for(var _r=lr,Sr=0;_r.cmp(Ze)!==0;Sr++)_r=_r.redSqr();Me(Sr<br);var wr=this.pow(Ye,new ke(1).iushln(br-Sr-1));ir=ir.redMul(wr),Ye=wr.redSqr(),lr=lr.redMul(Ye),br=Sr}return ir},xr.prototype.invm=function(Pe){var Fe=Pe._invmp(this.m);return Fe.negative!==0?(Fe.negative=0,this.imod(Fe).redNeg()):this.imod(Fe)},xr.prototype.pow=function(Pe,Fe){if(Fe.isZero())return new ke(1).toRed(this);if(Fe.cmpn(1)===0)return Pe.clone();var ze=4,Ue=new Array(1<<ze);Ue[0]=new ke(1).toRed(this),Ue[1]=Pe;for(var Ge=2;Ge<Ue.length;Ge++)Ue[Ge]=this.mul(Ue[Ge-1],Pe);var Ze=Ue[0],er=0,Ve=0,Ie=Fe.bitLength()%26;for(Ie===0&&(Ie=26),Ge=Fe.length-1;Ge>=0;Ge--){for(var Ye=Fe.words[Ge],ir=Ie-1;ir>=0;ir--){var lr=Ye>>ir&1;if(Ze!==Ue[0]&&(Ze=this.sqr(Ze)),lr===0&&er===0){Ve=0;continue}er<<=1,er|=lr,Ve++,!(Ve!==ze&&(Ge!==0||ir!==0))&&(Ze=this.mul(Ze,Ue[er]),Ve=0,er=0)}Ie=26}return Ze},xr.prototype.convertTo=function(Pe){var Fe=Pe.umod(this.m);return Fe===Pe?Fe.clone():Fe},xr.prototype.convertFrom=function(Pe){var Fe=Pe.clone();return Fe.red=null,Fe},ke.mont=function(Pe){return new Rr(Pe)};function Rr(Xe){xr.call(this,Xe),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new ke(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}$e(Rr,xr),Rr.prototype.convertTo=function(Pe){return this.imod(Pe.ushln(this.shift))},Rr.prototype.convertFrom=function(Pe){var Fe=this.imod(Pe.mul(this.rinv));return Fe.red=null,Fe},Rr.prototype.imul=function(Pe,Fe){if(Pe.isZero()||Fe.isZero())return Pe.words[0]=0,Pe.length=1,Pe;var ze=Pe.imul(Fe),Ue=ze.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Ge=ze.isub(Ue).iushrn(this.shift),Ze=Ge;return Ge.cmp(this.m)>=0?Ze=Ge.isub(this.m):Ge.cmpn(0)<0&&(Ze=Ge.iadd(this.m)),Ze._forceRed(this)},Rr.prototype.mul=function(Pe,Fe){if(Pe.isZero()||Fe.isZero())return new ke(0)._forceRed(this);var ze=Pe.mul(Fe),Ue=ze.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Ge=ze.isub(Ue).iushrn(this.shift),Ze=Ge;return Ge.cmp(this.m)>=0?Ze=Ge.isub(this.m):Ge.cmpn(0)<0&&(Ze=Ge.iadd(this.m)),Ze._forceRed(this)},Rr.prototype.invm=function(Pe){var Fe=this.imod(Pe._invmp(this.m).mul(this.r2));return Fe._forceRed(this)}})(Re,commonjsGlobal)})(bn$2);var bnExports$2=bn$2.exports,api={},vmBrowserify={},hasRequiredVmBrowserify;function requireVmBrowserify(){return hasRequiredVmBrowserify||(hasRequiredVmBrowserify=1,function(exports){var indexOf=function(Re,je){if(Re.indexOf)return Re.indexOf(je);for(var _e=0;_e<Re.length;_e++)if(Re[_e]===je)return _e;return-1},Object_keys=function(Re){if(Object.keys)return Object.keys(Re);var je=[];for(var _e in Re)je.push(_e);return je},forEach=function(Re,je){if(Re.forEach)return Re.forEach(je);for(var _e=0;_e<Re.length;_e++)je(Re[_e],_e,Re)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(Re,je,_e){Object.defineProperty(Re,je,{writable:!0,enumerable:!1,configurable:!0,value:_e})}}catch{return function(je,_e,Me){je[_e]=Me}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(je){if(!(this instanceof Script))return new Script(je);this.code=je};Script.prototype.runInContext=function(Re){if(!(Re instanceof Context))throw new TypeError("needs a 'context' argument.");var je=document.createElement("iframe");je.style||(je.style={}),je.style.display="none",document.body.appendChild(je);var _e=je.contentWindow,Me=_e.eval,$e=_e.execScript;!Me&&$e&&($e.call(_e,"null"),Me=_e.eval),forEach(Object_keys(Re),function(Be){_e[Be]=Re[Be]}),forEach(globals,function(Be){Re[Be]&&(_e[Be]=Re[Be])});var ke=Object_keys(_e),Ce=Me.call(_e,this.code);return forEach(Object_keys(_e),function(Be){(Be in Re||indexOf(ke,Be)===-1)&&(Re[Be]=_e[Be])}),forEach(globals,function(Be){Be in Re||defineProp(Re,Be,_e[Be])}),document.body.removeChild(je),Ce},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(Re){var je=Script.createContext(Re),_e=this.runInContext(je);return Re&&forEach(Object_keys(je),function(Me){Re[Me]=je[Me]}),_e},forEach(Object_keys(Script.prototype),function(Re){exports[Re]=Script[Re]=function(je){var _e=Script(je);return _e[Re].apply(_e,[].slice.call(arguments,1))}}),exports.isContext=function(Re){return Re instanceof Context},exports.createScript=function(Re){return exports.Script(Re)},exports.createContext=Script.createContext=function(Re){var je=new Context;return typeof Re=="object"&&forEach(Object_keys(Re),function(_e){je[_e]=Re[_e]}),je}}(vmBrowserify)),vmBrowserify}var hasRequiredApi;function requireApi(){return hasRequiredApi||(hasRequiredApi=1,function(Re){var je=requireAsn1(),_e=inherits_browserExports,Me=Re;Me.define=function(Ce,Be){return new $e(Ce,Be)};function $e(ke,Ce){this.name=ke,this.body=Ce,this.decoders={},this.encoders={}}$e.prototype._createNamed=function(Ce){var Be;try{Be=requireVmBrowserify().runInThisContext("(function "+this.name+`(entity) {
  this._initNamed(entity);
})`)}catch{Be=function(He){this._initNamed(He)}}return _e(Be,Ce),Be.prototype._initNamed=function(He){Ce.call(this,He)},new Be(this)},$e.prototype._getDecoder=function(Ce){return Ce=Ce||"der",this.decoders.hasOwnProperty(Ce)||(this.decoders[Ce]=this._createNamed(je.decoders[Ce])),this.decoders[Ce]},$e.prototype.decode=function(Ce,Be,qe){return this._getDecoder(Be).decode(Ce,qe)},$e.prototype._getEncoder=function(Ce){return Ce=Ce||"der",this.encoders.hasOwnProperty(Ce)||(this.encoders[Ce]=this._createNamed(je.encoders[Ce])),this.encoders[Ce]},$e.prototype.encode=function(Ce,Be,qe){return this._getEncoder(Be).encode(Ce,qe)}}(api)),api}var base={},reporter={},inherits=inherits_browserExports;function Reporter(Re){this._reporterState={obj:null,path:[],options:Re||{},errors:[]}}reporter.Reporter=Reporter;Reporter.prototype.isError=function Re(je){return je instanceof ReporterError};Reporter.prototype.save=function Re(){var je=this._reporterState;return{obj:je.obj,pathLen:je.path.length}};Reporter.prototype.restore=function Re(je){var _e=this._reporterState;_e.obj=je.obj,_e.path=_e.path.slice(0,je.pathLen)};Reporter.prototype.enterKey=function Re(je){return this._reporterState.path.push(je)};Reporter.prototype.exitKey=function Re(je){var _e=this._reporterState;_e.path=_e.path.slice(0,je-1)};Reporter.prototype.leaveKey=function Re(je,_e,Me){var $e=this._reporterState;this.exitKey(je),$e.obj!==null&&($e.obj[_e]=Me)};Reporter.prototype.path=function Re(){return this._reporterState.path.join("/")};Reporter.prototype.enterObject=function Re(){var je=this._reporterState,_e=je.obj;return je.obj={},_e};Reporter.prototype.leaveObject=function Re(je){var _e=this._reporterState,Me=_e.obj;return _e.obj=je,Me};Reporter.prototype.error=function Re(je){var _e,Me=this._reporterState,$e=je instanceof ReporterError;if($e?_e=je:_e=new ReporterError(Me.path.map(function(ke){return"["+JSON.stringify(ke)+"]"}).join(""),je.message||je,je.stack),!Me.options.partial)throw _e;return $e||Me.errors.push(_e),_e};Reporter.prototype.wrapResult=function Re(je){var _e=this._reporterState;return _e.options.partial?{result:this.isError(je)?null:je,errors:_e.errors}:je};function ReporterError(Re,je){this.path=Re,this.rethrow(je)}inherits(ReporterError,Error);ReporterError.prototype.rethrow=function Re(je){if(this.message=je+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,ReporterError),!this.stack)try{throw new Error(this.message)}catch(_e){this.stack=_e.stack}return this};var buffer={},hasRequiredBuffer;function requireBuffer(){if(hasRequiredBuffer)return buffer;hasRequiredBuffer=1;var Re=inherits_browserExports,je=requireBase().Reporter,_e=require$$0$3.Buffer;function Me(ke,Ce){if(je.call(this,Ce),!_e.isBuffer(ke)){this.error("Input not Buffer");return}this.base=ke,this.offset=0,this.length=ke.length}Re(Me,je),buffer.DecoderBuffer=Me,Me.prototype.save=function(){return{offset:this.offset,reporter:je.prototype.save.call(this)}},Me.prototype.restore=function(Ce){var Be=new Me(this.base);return Be.offset=Ce.offset,Be.length=this.offset,this.offset=Ce.offset,je.prototype.restore.call(this,Ce.reporter),Be},Me.prototype.isEmpty=function(){return this.offset===this.length},Me.prototype.readUInt8=function(Ce){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(Ce||"DecoderBuffer overrun")},Me.prototype.skip=function(Ce,Be){if(!(this.offset+Ce<=this.length))return this.error(Be||"DecoderBuffer overrun");var qe=new Me(this.base);return qe._reporterState=this._reporterState,qe.offset=this.offset,qe.length=this.offset+Ce,this.offset+=Ce,qe},Me.prototype.raw=function(Ce){return this.base.slice(Ce?Ce.offset:this.offset,this.length)};function $e(ke,Ce){if(Array.isArray(ke))this.length=0,this.value=ke.map(function(Be){return Be instanceof $e||(Be=new $e(Be,Ce)),this.length+=Be.length,Be},this);else if(typeof ke=="number"){if(!(0<=ke&&ke<=255))return Ce.error("non-byte EncoderBuffer value");this.value=ke,this.length=1}else if(typeof ke=="string")this.value=ke,this.length=_e.byteLength(ke);else if(_e.isBuffer(ke))this.value=ke,this.length=ke.length;else return Ce.error("Unsupported type: "+typeof ke)}return buffer.EncoderBuffer=$e,$e.prototype.join=function(Ce,Be){return Ce||(Ce=new _e(this.length)),Be||(Be=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(qe){qe.join(Ce,Be),Be+=qe.length}):(typeof this.value=="number"?Ce[Be]=this.value:typeof this.value=="string"?Ce.write(this.value,Be):_e.isBuffer(this.value)&&this.value.copy(Ce,Be),Be+=this.length)),Ce},buffer}var node,hasRequiredNode;function requireNode(){if(hasRequiredNode)return node;hasRequiredNode=1;var Re=requireBase().Reporter,je=requireBase().EncoderBuffer,_e=requireBase().DecoderBuffer,Me=minimalisticAssert,$e=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],ke=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat($e),Ce=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function Be(He,We){var Ke={};this._baseState=Ke,Ke.enc=He,Ke.parent=We||null,Ke.children=null,Ke.tag=null,Ke.args=null,Ke.reverseArgs=null,Ke.choice=null,Ke.optional=!1,Ke.any=!1,Ke.obj=!1,Ke.use=null,Ke.useDecoder=null,Ke.key=null,Ke.default=null,Ke.explicit=null,Ke.implicit=null,Ke.contains=null,Ke.parent||(Ke.children=[],this._wrap())}node=Be;var qe=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];return Be.prototype.clone=function(){var We=this._baseState,Ke={};qe.forEach(function(Qe){Ke[Qe]=We[Qe]});var Je=new this.constructor(Ke.parent);return Je._baseState=Ke,Je},Be.prototype._wrap=function(){var We=this._baseState;ke.forEach(function(Ke){this[Ke]=function(){var Qe=new this.constructor(this);return We.children.push(Qe),Qe[Ke].apply(Qe,arguments)}},this)},Be.prototype._init=function(We){var Ke=this._baseState;Me(Ke.parent===null),We.call(this),Ke.children=Ke.children.filter(function(Je){return Je._baseState.parent===this},this),Me.equal(Ke.children.length,1,"Root node can have only one child")},Be.prototype._useArgs=function(We){var Ke=this._baseState,Je=We.filter(function(Qe){return Qe instanceof this.constructor},this);We=We.filter(function(Qe){return!(Qe instanceof this.constructor)},this),Je.length!==0&&(Me(Ke.children===null),Ke.children=Je,Je.forEach(function(Qe){Qe._baseState.parent=this},this)),We.length!==0&&(Me(Ke.args===null),Ke.args=We,Ke.reverseArgs=We.map(function(Qe){if(typeof Qe!="object"||Qe.constructor!==Object)return Qe;var rr={};return Object.keys(Qe).forEach(function(tr){tr==(tr|0)&&(tr|=0);var cr=Qe[tr];rr[cr]=tr}),rr}))},Ce.forEach(function(He){Be.prototype[He]=function(){var Ke=this._baseState;throw new Error(He+" not implemented for encoding: "+Ke.enc)}}),$e.forEach(function(He){Be.prototype[He]=function(){var Ke=this._baseState,Je=Array.prototype.slice.call(arguments);return Me(Ke.tag===null),Ke.tag=He,this._useArgs(Je),this}}),Be.prototype.use=function(We){Me(We);var Ke=this._baseState;return Me(Ke.use===null),Ke.use=We,this},Be.prototype.optional=function(){var We=this._baseState;return We.optional=!0,this},Be.prototype.def=function(We){var Ke=this._baseState;return Me(Ke.default===null),Ke.default=We,Ke.optional=!0,this},Be.prototype.explicit=function(We){var Ke=this._baseState;return Me(Ke.explicit===null&&Ke.implicit===null),Ke.explicit=We,this},Be.prototype.implicit=function(We){var Ke=this._baseState;return Me(Ke.explicit===null&&Ke.implicit===null),Ke.implicit=We,this},Be.prototype.obj=function(){var We=this._baseState,Ke=Array.prototype.slice.call(arguments);return We.obj=!0,Ke.length!==0&&this._useArgs(Ke),this},Be.prototype.key=function(We){var Ke=this._baseState;return Me(Ke.key===null),Ke.key=We,this},Be.prototype.any=function(){var We=this._baseState;return We.any=!0,this},Be.prototype.choice=function(We){var Ke=this._baseState;return Me(Ke.choice===null),Ke.choice=We,this._useArgs(Object.keys(We).map(function(Je){return We[Je]})),this},Be.prototype.contains=function(We){var Ke=this._baseState;return Me(Ke.use===null),Ke.contains=We,this},Be.prototype._decode=function(We,Ke){var Je=this._baseState;if(Je.parent===null)return We.wrapResult(Je.children[0]._decode(We,Ke));var Qe=Je.default,rr=!0,tr=null;if(Je.key!==null&&(tr=We.enterKey(Je.key)),Je.optional){var cr=null;if(Je.explicit!==null?cr=Je.explicit:Je.implicit!==null?cr=Je.implicit:Je.tag!==null&&(cr=Je.tag),cr===null&&!Je.any){var or=We.save();try{Je.choice===null?this._decodeGeneric(Je.tag,We,Ke):this._decodeChoice(We,Ke),rr=!0}catch{rr=!1}We.restore(or)}else if(rr=this._peekTag(We,cr,Je.any),We.isError(rr))return rr}var ar;if(Je.obj&&rr&&(ar=We.enterObject()),rr){if(Je.explicit!==null){var pr=this._decodeTag(We,Je.explicit);if(We.isError(pr))return pr;We=pr}var ur=We.offset;if(Je.use===null&&Je.choice===null){if(Je.any)var or=We.save();var gr=this._decodeTag(We,Je.implicit!==null?Je.implicit:Je.tag,Je.any);if(We.isError(gr))return gr;Je.any?Qe=We.raw(or):We=gr}if(Ke&&Ke.track&&Je.tag!==null&&Ke.track(We.path(),ur,We.length,"tagged"),Ke&&Ke.track&&Je.tag!==null&&Ke.track(We.path(),We.offset,We.length,"content"),Je.any?Qe=Qe:Je.choice===null?Qe=this._decodeGeneric(Je.tag,We,Ke):Qe=this._decodeChoice(We,Ke),We.isError(Qe))return Qe;if(!Je.any&&Je.choice===null&&Je.children!==null&&Je.children.forEach(function(dr){dr._decode(We,Ke)}),Je.contains&&(Je.tag==="octstr"||Je.tag==="bitstr")){var jr=new _e(Qe);Qe=this._getUse(Je.contains,We._reporterState.obj)._decode(jr,Ke)}}return Je.obj&&rr&&(Qe=We.leaveObject(ar)),Je.key!==null&&(Qe!==null||rr===!0)?We.leaveKey(tr,Je.key,Qe):tr!==null&&We.exitKey(tr),Qe},Be.prototype._decodeGeneric=function(We,Ke,Je){var Qe=this._baseState;return We==="seq"||We==="set"?null:We==="seqof"||We==="setof"?this._decodeList(Ke,We,Qe.args[0],Je):/str$/.test(We)?this._decodeStr(Ke,We,Je):We==="objid"&&Qe.args?this._decodeObjid(Ke,Qe.args[0],Qe.args[1],Je):We==="objid"?this._decodeObjid(Ke,null,null,Je):We==="gentime"||We==="utctime"?this._decodeTime(Ke,We,Je):We==="null_"?this._decodeNull(Ke,Je):We==="bool"?this._decodeBool(Ke,Je):We==="objDesc"?this._decodeStr(Ke,We,Je):We==="int"||We==="enum"?this._decodeInt(Ke,Qe.args&&Qe.args[0],Je):Qe.use!==null?this._getUse(Qe.use,Ke._reporterState.obj)._decode(Ke,Je):Ke.error("unknown tag: "+We)},Be.prototype._getUse=function(We,Ke){var Je=this._baseState;return Je.useDecoder=this._use(We,Ke),Me(Je.useDecoder._baseState.parent===null),Je.useDecoder=Je.useDecoder._baseState.children[0],Je.implicit!==Je.useDecoder._baseState.implicit&&(Je.useDecoder=Je.useDecoder.clone(),Je.useDecoder._baseState.implicit=Je.implicit),Je.useDecoder},Be.prototype._decodeChoice=function(We,Ke){var Je=this._baseState,Qe=null,rr=!1;return Object.keys(Je.choice).some(function(tr){var cr=We.save(),or=Je.choice[tr];try{var ar=or._decode(We,Ke);if(We.isError(ar))return!1;Qe={type:tr,value:ar},rr=!0}catch{return We.restore(cr),!1}return!0},this),rr?Qe:We.error("Choice not matched")},Be.prototype._createEncoderBuffer=function(We){return new je(We,this.reporter)},Be.prototype._encode=function(We,Ke,Je){var Qe=this._baseState;if(!(Qe.default!==null&&Qe.default===We)){var rr=this._encodeValue(We,Ke,Je);if(rr!==void 0&&!this._skipDefault(rr,Ke,Je))return rr}},Be.prototype._encodeValue=function(We,Ke,Je){var Qe=this._baseState;if(Qe.parent===null)return Qe.children[0]._encode(We,Ke||new Re);var or=null;if(this.reporter=Ke,Qe.optional&&We===void 0)if(Qe.default!==null)We=Qe.default;else return;var rr=null,tr=!1;if(Qe.any)or=this._createEncoderBuffer(We);else if(Qe.choice)or=this._encodeChoice(We,Ke);else if(Qe.contains)rr=this._getUse(Qe.contains,Je)._encode(We,Ke),tr=!0;else if(Qe.children)rr=Qe.children.map(function(ur){if(ur._baseState.tag==="null_")return ur._encode(null,Ke,We);if(ur._baseState.key===null)return Ke.error("Child should have a key");var gr=Ke.enterKey(ur._baseState.key);if(typeof We!="object")return Ke.error("Child expected, but input is not object");var jr=ur._encode(We[ur._baseState.key],Ke,We);return Ke.leaveKey(gr),jr},this).filter(function(ur){return ur}),rr=this._createEncoderBuffer(rr);else if(Qe.tag==="seqof"||Qe.tag==="setof"){if(!(Qe.args&&Qe.args.length===1))return Ke.error("Too many args for : "+Qe.tag);if(!Array.isArray(We))return Ke.error("seqof/setof, but data is not Array");var cr=this.clone();cr._baseState.implicit=null,rr=this._createEncoderBuffer(We.map(function(ur){var gr=this._baseState;return this._getUse(gr.args[0],We)._encode(ur,Ke)},cr))}else Qe.use!==null?or=this._getUse(Qe.use,Je)._encode(We,Ke):(rr=this._encodePrimitive(Qe.tag,We),tr=!0);var or;if(!Qe.any&&Qe.choice===null){var ar=Qe.implicit!==null?Qe.implicit:Qe.tag,pr=Qe.implicit===null?"universal":"context";ar===null?Qe.use===null&&Ke.error("Tag could be omitted only for .use()"):Qe.use===null&&(or=this._encodeComposite(ar,tr,pr,rr))}return Qe.explicit!==null&&(or=this._encodeComposite(Qe.explicit,!1,"context",or)),or},Be.prototype._encodeChoice=function(We,Ke){var Je=this._baseState,Qe=Je.choice[We.type];return Qe||Me(!1,We.type+" not found in "+JSON.stringify(Object.keys(Je.choice))),Qe._encode(We.value,Ke)},Be.prototype._encodePrimitive=function(We,Ke){var Je=this._baseState;if(/str$/.test(We))return this._encodeStr(Ke,We);if(We==="objid"&&Je.args)return this._encodeObjid(Ke,Je.reverseArgs[0],Je.args[1]);if(We==="objid")return this._encodeObjid(Ke,null,null);if(We==="gentime"||We==="utctime")return this._encodeTime(Ke,We);if(We==="null_")return this._encodeNull();if(We==="int"||We==="enum")return this._encodeInt(Ke,Je.args&&Je.reverseArgs[0]);if(We==="bool")return this._encodeBool(Ke);if(We==="objDesc")return this._encodeStr(Ke,We);throw new Error("Unsupported tag: "+We)},Be.prototype._isNumstr=function(We){return/^[0-9 ]*$/.test(We)},Be.prototype._isPrintstr=function(We){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(We)},node}var hasRequiredBase;function requireBase(){return hasRequiredBase||(hasRequiredBase=1,function(Re){var je=Re;je.Reporter=reporter.Reporter,je.DecoderBuffer=requireBuffer().DecoderBuffer,je.EncoderBuffer=requireBuffer().EncoderBuffer,je.Node=requireNode()}(base)),base}var constants={},der={},hasRequiredDer$2;function requireDer$2(){return hasRequiredDer$2||(hasRequiredDer$2=1,function(Re){var je=requireConstants();Re.tagClass={0:"universal",1:"application",2:"context",3:"private"},Re.tagClassByName=je._reverse(Re.tagClass),Re.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},Re.tagByName=je._reverse(Re.tag)}(der)),der}var hasRequiredConstants;function requireConstants(){return hasRequiredConstants||(hasRequiredConstants=1,function(Re){var je=Re;je._reverse=function(Me){var $e={};return Object.keys(Me).forEach(function(ke){(ke|0)==ke&&(ke=ke|0);var Ce=Me[ke];$e[Ce]=ke}),$e},je.der=requireDer$2()}(constants)),constants}var decoders={},der_1$1,hasRequiredDer$1;function requireDer$1(){if(hasRequiredDer$1)return der_1$1;hasRequiredDer$1=1;var Re=inherits_browserExports,je=requireAsn1(),_e=je.base,Me=je.bignum,$e=je.constants.der;function ke(He){this.enc="der",this.name=He.name,this.entity=He,this.tree=new Ce,this.tree._init(He.body)}der_1$1=ke,ke.prototype.decode=function(We,Ke){return We instanceof _e.DecoderBuffer||(We=new _e.DecoderBuffer(We,Ke)),this.tree._decode(We,Ke)};function Ce(He){_e.Node.call(this,"der",He)}Re(Ce,_e.Node),Ce.prototype._peekTag=function(We,Ke,Je){if(We.isEmpty())return!1;var Qe=We.save(),rr=Be(We,'Failed to peek tag: "'+Ke+'"');return We.isError(rr)?rr:(We.restore(Qe),rr.tag===Ke||rr.tagStr===Ke||rr.tagStr+"of"===Ke||Je)},Ce.prototype._decodeTag=function(We,Ke,Je){var Qe=Be(We,'Failed to decode tag of "'+Ke+'"');if(We.isError(Qe))return Qe;var rr=qe(We,Qe.primitive,'Failed to get length of "'+Ke+'"');if(We.isError(rr))return rr;if(!Je&&Qe.tag!==Ke&&Qe.tagStr!==Ke&&Qe.tagStr+"of"!==Ke)return We.error('Failed to match tag: "'+Ke+'"');if(Qe.primitive||rr!==null)return We.skip(rr,'Failed to match body of: "'+Ke+'"');var tr=We.save(),cr=this._skipUntilEnd(We,'Failed to skip indefinite length body: "'+this.tag+'"');return We.isError(cr)?cr:(rr=We.offset-tr.offset,We.restore(tr),We.skip(rr,'Failed to match body of: "'+Ke+'"'))},Ce.prototype._skipUntilEnd=function(We,Ke){for(;;){var Je=Be(We,Ke);if(We.isError(Je))return Je;var Qe=qe(We,Je.primitive,Ke);if(We.isError(Qe))return Qe;var rr;if(Je.primitive||Qe!==null?rr=We.skip(Qe):rr=this._skipUntilEnd(We,Ke),We.isError(rr))return rr;if(Je.tagStr==="end")break}},Ce.prototype._decodeList=function(We,Ke,Je,Qe){for(var rr=[];!We.isEmpty();){var tr=this._peekTag(We,"end");if(We.isError(tr))return tr;var cr=Je.decode(We,"der",Qe);if(We.isError(cr)&&tr)break;rr.push(cr)}return rr},Ce.prototype._decodeStr=function(We,Ke){if(Ke==="bitstr"){var Je=We.readUInt8();return We.isError(Je)?Je:{unused:Je,data:We.raw()}}else if(Ke==="bmpstr"){var Qe=We.raw();if(Qe.length%2===1)return We.error("Decoding of string type: bmpstr length mismatch");for(var rr="",tr=0;tr<Qe.length/2;tr++)rr+=String.fromCharCode(Qe.readUInt16BE(tr*2));return rr}else if(Ke==="numstr"){var cr=We.raw().toString("ascii");return this._isNumstr(cr)?cr:We.error("Decoding of string type: numstr unsupported characters")}else{if(Ke==="octstr")return We.raw();if(Ke==="objDesc")return We.raw();if(Ke==="printstr"){var or=We.raw().toString("ascii");return this._isPrintstr(or)?or:We.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(Ke)?We.raw().toString():We.error("Decoding of string type: "+Ke+" unsupported")}},Ce.prototype._decodeObjid=function(We,Ke,Je){for(var Qe,rr=[],tr=0;!We.isEmpty();){var cr=We.readUInt8();tr<<=7,tr|=cr&127,cr&128||(rr.push(tr),tr=0)}cr&128&&rr.push(tr);var or=rr[0]/40|0,ar=rr[0]%40;if(Je?Qe=rr:Qe=[or,ar].concat(rr.slice(1)),Ke){var pr=Ke[Qe.join(" ")];pr===void 0&&(pr=Ke[Qe.join(".")]),pr!==void 0&&(Qe=pr)}return Qe},Ce.prototype._decodeTime=function(We,Ke){var Je=We.raw().toString();if(Ke==="gentime")var Qe=Je.slice(0,4)|0,rr=Je.slice(4,6)|0,tr=Je.slice(6,8)|0,cr=Je.slice(8,10)|0,or=Je.slice(10,12)|0,ar=Je.slice(12,14)|0;else if(Ke==="utctime"){var Qe=Je.slice(0,2)|0,rr=Je.slice(2,4)|0,tr=Je.slice(4,6)|0,cr=Je.slice(6,8)|0,or=Je.slice(8,10)|0,ar=Je.slice(10,12)|0;Qe<70?Qe=2e3+Qe:Qe=1900+Qe}else return We.error("Decoding "+Ke+" time is not supported yet");return Date.UTC(Qe,rr-1,tr,cr,or,ar,0)},Ce.prototype._decodeNull=function(We){return null},Ce.prototype._decodeBool=function(We){var Ke=We.readUInt8();return We.isError(Ke)?Ke:Ke!==0},Ce.prototype._decodeInt=function(We,Ke){var Je=We.raw(),Qe=new Me(Je);return Ke&&(Qe=Ke[Qe.toString(10)]||Qe),Qe},Ce.prototype._use=function(We,Ke){return typeof We=="function"&&(We=We(Ke)),We._getDecoder("der").tree};function Be(He,We){var Ke=He.readUInt8(We);if(He.isError(Ke))return Ke;var Je=$e.tagClass[Ke>>6],Qe=(Ke&32)===0;if((Ke&31)===31){var rr=Ke;for(Ke=0;(rr&128)===128;){if(rr=He.readUInt8(We),He.isError(rr))return rr;Ke<<=7,Ke|=rr&127}}else Ke&=31;var tr=$e.tag[Ke];return{cls:Je,primitive:Qe,tag:Ke,tagStr:tr}}function qe(He,We,Ke){var Je=He.readUInt8(Ke);if(He.isError(Je))return Je;if(!We&&Je===128)return null;if(!(Je&128))return Je;var Qe=Je&127;if(Qe>4)return He.error("length octect is too long");Je=0;for(var rr=0;rr<Qe;rr++){Je<<=8;var tr=He.readUInt8(Ke);if(He.isError(tr))return tr;Je|=tr}return Je}return der_1$1}var pem$1,hasRequiredPem$1;function requirePem$1(){if(hasRequiredPem$1)return pem$1;hasRequiredPem$1=1;var Re=inherits_browserExports,je=require$$0$3.Buffer,_e=requireDer$1();function Me($e){_e.call(this,$e),this.enc="pem"}return Re(Me,_e),pem$1=Me,Me.prototype.decode=function(ke,Ce){for(var Be=ke.toString().split(/[\r\n]+/g),qe=Ce.label.toUpperCase(),He=/^-----(BEGIN|END) ([^-]+)-----$/,We=-1,Ke=-1,Je=0;Je<Be.length;Je++){var Qe=Be[Je].match(He);if(Qe!==null&&Qe[2]===qe)if(We===-1){if(Qe[1]!=="BEGIN")break;We=Je}else{if(Qe[1]!=="END")break;Ke=Je;break}}if(We===-1||Ke===-1)throw new Error("PEM section not found for: "+qe);var rr=Be.slice(We+1,Ke).join("");rr.replace(/[^a-z0-9\+\/=]+/gi,"");var tr=new je(rr,"base64");return _e.prototype.decode.call(this,tr,Ce)},pem$1}var hasRequiredDecoders;function requireDecoders(){return hasRequiredDecoders||(hasRequiredDecoders=1,function(Re){var je=Re;je.der=requireDer$1(),je.pem=requirePem$1()}(decoders)),decoders}var encoders={},der_1,hasRequiredDer;function requireDer(){if(hasRequiredDer)return der_1;hasRequiredDer=1;var Re=inherits_browserExports,je=require$$0$3.Buffer,_e=requireAsn1(),Me=_e.base,$e=_e.constants.der;function ke(He){this.enc="der",this.name=He.name,this.entity=He,this.tree=new Ce,this.tree._init(He.body)}der_1=ke,ke.prototype.encode=function(We,Ke){return this.tree._encode(We,Ke).join()};function Ce(He){Me.Node.call(this,"der",He)}Re(Ce,Me.Node),Ce.prototype._encodeComposite=function(We,Ke,Je,Qe){var rr=qe(We,Ke,Je,this.reporter);if(Qe.length<128){var or=new je(2);return or[0]=rr,or[1]=Qe.length,this._createEncoderBuffer([or,Qe])}for(var tr=1,cr=Qe.length;cr>=256;cr>>=8)tr++;var or=new je(2+tr);or[0]=rr,or[1]=128|tr;for(var cr=1+tr,ar=Qe.length;ar>0;cr--,ar>>=8)or[cr]=ar&255;return this._createEncoderBuffer([or,Qe])},Ce.prototype._encodeStr=function(We,Ke){if(Ke==="bitstr")return this._createEncoderBuffer([We.unused|0,We.data]);if(Ke==="bmpstr"){for(var Je=new je(We.length*2),Qe=0;Qe<We.length;Qe++)Je.writeUInt16BE(We.charCodeAt(Qe),Qe*2);return this._createEncoderBuffer(Je)}else return Ke==="numstr"?this._isNumstr(We)?this._createEncoderBuffer(We):this.reporter.error("Encoding of string type: numstr supports only digits and space"):Ke==="printstr"?this._isPrintstr(We)?this._createEncoderBuffer(We):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(Ke)?this._createEncoderBuffer(We):Ke==="objDesc"?this._createEncoderBuffer(We):this.reporter.error("Encoding of string type: "+Ke+" unsupported")},Ce.prototype._encodeObjid=function(We,Ke,Je){if(typeof We=="string"){if(!Ke)return this.reporter.error("string objid given, but no values map found");if(!Ke.hasOwnProperty(We))return this.reporter.error("objid not found in values map");We=Ke[We].split(/[\s\.]+/g);for(var Qe=0;Qe<We.length;Qe++)We[Qe]|=0}else if(Array.isArray(We)){We=We.slice();for(var Qe=0;Qe<We.length;Qe++)We[Qe]|=0}if(!Array.isArray(We))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(We));if(!Je){if(We[1]>=40)return this.reporter.error("Second objid identifier OOB");We.splice(0,2,We[0]*40+We[1])}for(var rr=0,Qe=0;Qe<We.length;Qe++){var tr=We[Qe];for(rr++;tr>=128;tr>>=7)rr++}for(var cr=new je(rr),or=cr.length-1,Qe=We.length-1;Qe>=0;Qe--){var tr=We[Qe];for(cr[or--]=tr&127;(tr>>=7)>0;)cr[or--]=128|tr&127}return this._createEncoderBuffer(cr)};function Be(He){return He<10?"0"+He:He}Ce.prototype._encodeTime=function(We,Ke){var Je,Qe=new Date(We);return Ke==="gentime"?Je=[Be(Qe.getFullYear()),Be(Qe.getUTCMonth()+1),Be(Qe.getUTCDate()),Be(Qe.getUTCHours()),Be(Qe.getUTCMinutes()),Be(Qe.getUTCSeconds()),"Z"].join(""):Ke==="utctime"?Je=[Be(Qe.getFullYear()%100),Be(Qe.getUTCMonth()+1),Be(Qe.getUTCDate()),Be(Qe.getUTCHours()),Be(Qe.getUTCMinutes()),Be(Qe.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+Ke+" time is not supported yet"),this._encodeStr(Je,"octstr")},Ce.prototype._encodeNull=function(){return this._createEncoderBuffer("")},Ce.prototype._encodeInt=function(We,Ke){if(typeof We=="string"){if(!Ke)return this.reporter.error("String int or enum given, but no values map");if(!Ke.hasOwnProperty(We))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(We));We=Ke[We]}if(typeof We!="number"&&!je.isBuffer(We)){var Je=We.toArray();!We.sign&&Je[0]&128&&Je.unshift(0),We=new je(Je)}if(je.isBuffer(We)){var Qe=We.length;We.length===0&&Qe++;var tr=new je(Qe);return We.copy(tr),We.length===0&&(tr[0]=0),this._createEncoderBuffer(tr)}if(We<128)return this._createEncoderBuffer(We);if(We<256)return this._createEncoderBuffer([0,We]);for(var Qe=1,rr=We;rr>=256;rr>>=8)Qe++;for(var tr=new Array(Qe),rr=tr.length-1;rr>=0;rr--)tr[rr]=We&255,We>>=8;return tr[0]&128&&tr.unshift(0),this._createEncoderBuffer(new je(tr))},Ce.prototype._encodeBool=function(We){return this._createEncoderBuffer(We?255:0)},Ce.prototype._use=function(We,Ke){return typeof We=="function"&&(We=We(Ke)),We._getEncoder("der").tree},Ce.prototype._skipDefault=function(We,Ke,Je){var Qe=this._baseState,rr;if(Qe.default===null)return!1;var tr=We.join();if(Qe.defaultBuffer===void 0&&(Qe.defaultBuffer=this._encodeValue(Qe.default,Ke,Je).join()),tr.length!==Qe.defaultBuffer.length)return!1;for(rr=0;rr<tr.length;rr++)if(tr[rr]!==Qe.defaultBuffer[rr])return!1;return!0};function qe(He,We,Ke,Je){var Qe;if(He==="seqof"?He="seq":He==="setof"&&(He="set"),$e.tagByName.hasOwnProperty(He))Qe=$e.tagByName[He];else if(typeof He=="number"&&(He|0)===He)Qe=He;else return Je.error("Unknown tag: "+He);return Qe>=31?Je.error("Multi-octet tag encoding unsupported"):(We||(Qe|=32),Qe|=$e.tagClassByName[Ke||"universal"]<<6,Qe)}return der_1}var pem,hasRequiredPem;function requirePem(){if(hasRequiredPem)return pem;hasRequiredPem=1;var Re=inherits_browserExports,je=requireDer();function _e(Me){je.call(this,Me),this.enc="pem"}return Re(_e,je),pem=_e,_e.prototype.encode=function($e,ke){for(var Ce=je.prototype.encode.call(this,$e),Be=Ce.toString("base64"),qe=["-----BEGIN "+ke.label+"-----"],He=0;He<Be.length;He+=64)qe.push(Be.slice(He,He+64));return qe.push("-----END "+ke.label+"-----"),qe.join(`
`)},pem}var hasRequiredEncoders;function requireEncoders(){return hasRequiredEncoders||(hasRequiredEncoders=1,function(Re){var je=Re;je.der=requireDer(),je.pem=requirePem()}(encoders)),encoders}var hasRequiredAsn1;function requireAsn1(){return hasRequiredAsn1||(hasRequiredAsn1=1,function(Re){var je=Re;je.bignum=bnExports$2,je.define=requireApi().define,je.base=requireBase(),je.constants=requireConstants(),je.decoders=requireDecoders(),je.encoders=requireEncoders()}(asn1$2)),asn1$2}var asn=requireAsn1(),Time=asn.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),AttributeTypeValue=asn.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),AlgorithmIdentifier$1=asn.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),SubjectPublicKeyInfo=asn.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(AlgorithmIdentifier$1),this.key("subjectPublicKey").bitstr())}),RelativeDistinguishedName=asn.define("RelativeDistinguishedName",function(){this.setof(AttributeTypeValue)}),RDNSequence=asn.define("RDNSequence",function(){this.seqof(RelativeDistinguishedName)}),Name=asn.define("Name",function(){this.choice({rdnSequence:this.use(RDNSequence)})}),Validity=asn.define("Validity",function(){this.seq().obj(this.key("notBefore").use(Time),this.key("notAfter").use(Time))}),Extension=asn.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),TBSCertificate=asn.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(AlgorithmIdentifier$1),this.key("issuer").use(Name),this.key("validity").use(Validity),this.key("subject").use(Name),this.key("subjectPublicKeyInfo").use(SubjectPublicKeyInfo),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(Extension).optional())}),X509Certificate=asn.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(TBSCertificate),this.key("signatureAlgorithm").use(AlgorithmIdentifier$1),this.key("signatureValue").bitstr())}),certificate=X509Certificate,asn1$1=requireAsn1();asn1$3.certificate=certificate;var RSAPrivateKey=asn1$1.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});asn1$3.RSAPrivateKey=RSAPrivateKey;var RSAPublicKey=asn1$1.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});asn1$3.RSAPublicKey=RSAPublicKey;var AlgorithmIdentifier=asn1$1.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),PublicKey=asn1$1.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(AlgorithmIdentifier),this.key("subjectPublicKey").bitstr())});asn1$3.PublicKey=PublicKey;var PrivateKeyInfo=asn1$1.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(AlgorithmIdentifier),this.key("subjectPrivateKey").octstr())});asn1$3.PrivateKey=PrivateKeyInfo;var EncryptedPrivateKeyInfo=asn1$1.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});asn1$3.EncryptedPrivateKey=EncryptedPrivateKeyInfo;var DSAPrivateKey=asn1$1.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});asn1$3.DSAPrivateKey=DSAPrivateKey;asn1$3.DSAparam=asn1$1.define("DSAparam",function(){this.int()});var ECParameters=asn1$1.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),ECPrivateKey=asn1$1.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(ECParameters),this.key("publicKey").optional().explicit(1).bitstr())});asn1$3.ECPrivateKey=ECPrivateKey;asn1$3.signature=asn1$1.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())});const require$$1={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"};var findProc=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,startRegex=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,fullRegex=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,evp=evp_bytestokey,ciphers$1=browser$8,Buffer$6=safeBufferExports$1.Buffer,fixProc$1=function(Re,je){var _e=Re.toString(),Me=_e.match(findProc),$e;if(Me){var Ce="aes"+Me[1],Be=Buffer$6.from(Me[2],"hex"),qe=Buffer$6.from(Me[3].replace(/[\r\n]/g,""),"base64"),He=evp(je,Be.slice(0,8),parseInt(Me[1],10)).key,We=[],Ke=ciphers$1.createDecipheriv(Ce,He,Be);We.push(Ke.update(qe)),We.push(Ke.final()),$e=Buffer$6.concat(We)}else{var ke=_e.match(fullRegex);$e=Buffer$6.from(ke[2].replace(/[\r\n]/g,""),"base64")}var Je=_e.match(startRegex)[1];return{tag:Je,data:$e}},asn1=asn1$3,aesid=require$$1,fixProc=fixProc$1,ciphers=browser$8,compat=browser$a,Buffer$5=safeBufferExports$1.Buffer;function decrypt(Re,je){var _e=Re.algorithm.decrypt.kde.kdeparams.salt,Me=parseInt(Re.algorithm.decrypt.kde.kdeparams.iters.toString(),10),$e=aesid[Re.algorithm.decrypt.cipher.algo.join(".")],ke=Re.algorithm.decrypt.cipher.iv,Ce=Re.subjectPrivateKey,Be=parseInt($e.split("-")[1],10)/8,qe=compat.pbkdf2Sync(je,_e,Me,Be,"sha1"),He=ciphers.createDecipheriv($e,qe,ke),We=[];return We.push(He.update(Ce)),We.push(He.final()),Buffer$5.concat(We)}function parseKeys$2(Re){var je;typeof Re=="object"&&!Buffer$5.isBuffer(Re)&&(je=Re.passphrase,Re=Re.key),typeof Re=="string"&&(Re=Buffer$5.from(Re));var _e=fixProc(Re,je),Me=_e.tag,$e=_e.data,ke,Ce;switch(Me){case"CERTIFICATE":Ce=asn1.certificate.decode($e,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(Ce||(Ce=asn1.PublicKey.decode($e,"der")),ke=Ce.algorithm.algorithm.join("."),ke){case"1.2.840.113549.1.1.1":return asn1.RSAPublicKey.decode(Ce.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return Ce.subjectPrivateKey=Ce.subjectPublicKey,{type:"ec",data:Ce};case"1.2.840.10040.4.1":return Ce.algorithm.params.pub_key=asn1.DSAparam.decode(Ce.subjectPublicKey.data,"der"),{type:"dsa",data:Ce.algorithm.params};default:throw new Error("unknown key id "+ke)}case"ENCRYPTED PRIVATE KEY":$e=asn1.EncryptedPrivateKey.decode($e,"der"),$e=decrypt($e,je);case"PRIVATE KEY":switch(Ce=asn1.PrivateKey.decode($e,"der"),ke=Ce.algorithm.algorithm.join("."),ke){case"1.2.840.113549.1.1.1":return asn1.RSAPrivateKey.decode(Ce.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:Ce.algorithm.curve,privateKey:asn1.ECPrivateKey.decode(Ce.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return Ce.algorithm.params.priv_key=asn1.DSAparam.decode(Ce.subjectPrivateKey,"der"),{type:"dsa",params:Ce.algorithm.params};default:throw new Error("unknown key id "+ke)}case"RSA PUBLIC KEY":return asn1.RSAPublicKey.decode($e,"der");case"RSA PRIVATE KEY":return asn1.RSAPrivateKey.decode($e,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:asn1.DSAPrivateKey.decode($e,"der")};case"EC PRIVATE KEY":return $e=asn1.ECPrivateKey.decode($e,"der"),{curve:$e.parameters.value,privateKey:$e.privateKey};default:throw new Error("unknown key type "+Me)}}parseKeys$2.signature=asn1.signature;var parseAsn1=parseKeys$2;const require$$4={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"};var hasRequiredSign;function requireSign(){if(hasRequiredSign)return sign$2.exports;hasRequiredSign=1;var Re=safeBufferExports$1.Buffer,je=browser$b,_e=browserifyRsa,Me=requireElliptic().ec,$e=bnExports$4,ke=parseAsn1,Ce=require$$4,Be=1;function qe(or,ar,pr,ur,gr){var jr=ke(ar);if(jr.curve){if(ur!=="ecdsa"&&ur!=="ecdsa/rsa")throw new Error("wrong private key type");return He(or,jr)}else if(jr.type==="dsa"){if(ur!=="dsa")throw new Error("wrong private key type");return We(or,jr,pr)}if(ur!=="rsa"&&ur!=="ecdsa/rsa")throw new Error("wrong private key type");if(ar.padding!==void 0&&ar.padding!==Be)throw new Error("illegal or unsupported padding mode");or=Re.concat([gr,or]);for(var vr=jr.modulus.byteLength(),dr=[0,1];or.length+dr.length+1<vr;)dr.push(255);dr.push(0);for(var xr=-1;++xr<or.length;)dr.push(or[xr]);var Rr=_e(dr,jr);return Rr}function He(or,ar){var pr=Ce[ar.curve.join(".")];if(!pr)throw new Error("unknown curve "+ar.curve.join("."));var ur=new Me(pr),gr=ur.keyFromPrivate(ar.privateKey),jr=gr.sign(or);return Re.from(jr.toDER())}function We(or,ar,pr){for(var ur=ar.params.priv_key,gr=ar.params.p,jr=ar.params.q,vr=ar.params.g,dr=new $e(0),xr,Rr=Qe(or,jr).mod(jr),Xe=!1,Pe=Je(ur,jr,or,pr);Xe===!1;)xr=tr(jr,Pe,pr),dr=cr(vr,xr,gr,jr),Xe=xr.invm(jr).imul(Rr.add(ur.mul(dr))).mod(jr),Xe.cmpn(0)===0&&(Xe=!1,dr=new $e(0));return Ke(dr,Xe)}function Ke(or,ar){or=or.toArray(),ar=ar.toArray(),or[0]&128&&(or=[0].concat(or)),ar[0]&128&&(ar=[0].concat(ar));var pr=or.length+ar.length+4,ur=[48,pr,2,or.length];return ur=ur.concat(or,[2,ar.length],ar),Re.from(ur)}function Je(or,ar,pr,ur){if(or=Re.from(or.toArray()),or.length<ar.byteLength()){var gr=Re.alloc(ar.byteLength()-or.length);or=Re.concat([gr,or])}var jr=pr.length,vr=rr(pr,ar),dr=Re.alloc(jr);dr.fill(1);var xr=Re.alloc(jr);return xr=je(ur,xr).update(dr).update(Re.from([0])).update(or).update(vr).digest(),dr=je(ur,xr).update(dr).digest(),xr=je(ur,xr).update(dr).update(Re.from([1])).update(or).update(vr).digest(),dr=je(ur,xr).update(dr).digest(),{k:xr,v:dr}}function Qe(or,ar){var pr=new $e(or),ur=(or.length<<3)-ar.bitLength();return ur>0&&pr.ishrn(ur),pr}function rr(or,ar){or=Qe(or,ar),or=or.mod(ar);var pr=Re.from(or.toArray());if(pr.length<ar.byteLength()){var ur=Re.alloc(ar.byteLength()-pr.length);pr=Re.concat([ur,pr])}return pr}function tr(or,ar,pr){var ur,gr;do{for(ur=Re.alloc(0);ur.length*8<or.bitLength();)ar.v=je(pr,ar.k).update(ar.v).digest(),ur=Re.concat([ur,ar.v]);gr=Qe(ur,or),ar.k=je(pr,ar.k).update(ar.v).update(Re.from([0])).digest(),ar.v=je(pr,ar.k).update(ar.v).digest()}while(gr.cmp(or)!==-1);return gr}function cr(or,ar,pr,ur){return or.toRed($e.mont(pr)).redPow(ar).fromRed().mod(ur)}return sign$2.exports=qe,sign$2.exports.getKey=Je,sign$2.exports.makeKey=tr,sign$2.exports}var verify_1,hasRequiredVerify;function requireVerify(){if(hasRequiredVerify)return verify_1;hasRequiredVerify=1;var Re=safeBufferExports$1.Buffer,je=bnExports$4,_e=requireElliptic().ec,Me=parseAsn1,$e=require$$4;function ke(He,We,Ke,Je,Qe){var rr=Me(Ke);if(rr.type==="ec"){if(Je!=="ecdsa"&&Je!=="ecdsa/rsa")throw new Error("wrong public key type");return Ce(He,We,rr)}else if(rr.type==="dsa"){if(Je!=="dsa")throw new Error("wrong public key type");return Be(He,We,rr)}if(Je!=="rsa"&&Je!=="ecdsa/rsa")throw new Error("wrong public key type");We=Re.concat([Qe,We]);for(var tr=rr.modulus.byteLength(),cr=[1],or=0;We.length+cr.length+2<tr;)cr.push(255),or+=1;cr.push(0);for(var ar=-1;++ar<We.length;)cr.push(We[ar]);cr=Re.from(cr);var pr=je.mont(rr.modulus);He=new je(He).toRed(pr),He=He.redPow(new je(rr.publicExponent)),He=Re.from(He.fromRed().toArray());var ur=or<8?1:0;for(tr=Math.min(He.length,cr.length),He.length!==cr.length&&(ur=1),ar=-1;++ar<tr;)ur|=He[ar]^cr[ar];return ur===0}function Ce(He,We,Ke){var Je=$e[Ke.data.algorithm.curve.join(".")];if(!Je)throw new Error("unknown curve "+Ke.data.algorithm.curve.join("."));var Qe=new _e(Je),rr=Ke.data.subjectPrivateKey.data;return Qe.verify(We,He,rr)}function Be(He,We,Ke){var Je=Ke.data.p,Qe=Ke.data.q,rr=Ke.data.g,tr=Ke.data.pub_key,cr=Me.signature.decode(He,"der"),or=cr.s,ar=cr.r;qe(or,Qe),qe(ar,Qe);var pr=je.mont(Je),ur=or.invm(Qe),gr=rr.toRed(pr).redPow(new je(We).mul(ur).mod(Qe)).fromRed().mul(tr.toRed(pr).redPow(ar.mul(ur).mod(Qe)).fromRed()).mod(Je).mod(Qe);return gr.cmp(ar)===0}function qe(He,We){if(He.cmpn(0)<=0)throw new Error("invalid sig");if(He.cmp(We)>=0)throw new Error("invalid sig")}return verify_1=ke,verify_1}var browser$6,hasRequiredBrowser$1;function requireBrowser$1(){if(hasRequiredBrowser$1)return browser$6;hasRequiredBrowser$1=1;var Re=safeBufferExports$1.Buffer,je=browser$c,_e=readableBrowserExports,Me=inherits_browserExports,$e=requireSign(),ke=requireVerify(),Ce=require$$6;Object.keys(Ce).forEach(function(Ke){Ce[Ke].id=Re.from(Ce[Ke].id,"hex"),Ce[Ke.toLowerCase()]=Ce[Ke]});function Be(Ke){_e.Writable.call(this);var Je=Ce[Ke];if(!Je)throw new Error("Unknown message digest");this._hashType=Je.hash,this._hash=je(Je.hash),this._tag=Je.id,this._signType=Je.sign}Me(Be,_e.Writable),Be.prototype._write=function(Je,Qe,rr){this._hash.update(Je),rr()},Be.prototype.update=function(Je,Qe){return this._hash.update(typeof Je=="string"?Re.from(Je,Qe):Je),this},Be.prototype.sign=function(Je,Qe){this.end();var rr=this._hash.digest(),tr=$e(rr,Je,this._hashType,this._signType,this._tag);return Qe?tr.toString(Qe):tr};function qe(Ke){_e.Writable.call(this);var Je=Ce[Ke];if(!Je)throw new Error("Unknown message digest");this._hash=je(Je.hash),this._tag=Je.id,this._signType=Je.sign}Me(qe,_e.Writable),qe.prototype._write=function(Je,Qe,rr){this._hash.update(Je),rr()},qe.prototype.update=function(Je,Qe){return this._hash.update(typeof Je=="string"?Re.from(Je,Qe):Je),this},qe.prototype.verify=function(Je,Qe,rr){var tr=typeof Qe=="string"?Re.from(Qe,rr):Qe;this.end();var cr=this._hash.digest();return ke(tr,cr,Je,this._signType,this._tag)};function He(Ke){return new Be(Ke)}function We(Ke){return new qe(Ke)}return browser$6={Sign:He,Verify:We,createSign:He,createVerify:We},browser$6}var bn$1={exports:{}};bn$1.exports;(function(Re){(function(je,_e){function Me(Xe,Pe){if(!Xe)throw new Error(Pe||"Assertion failed")}function $e(Xe,Pe){Xe.super_=Pe;var Fe=function(){};Fe.prototype=Pe.prototype,Xe.prototype=new Fe,Xe.prototype.constructor=Xe}function ke(Xe,Pe,Fe){if(ke.isBN(Xe))return Xe;this.negative=0,this.words=null,this.length=0,this.red=null,Xe!==null&&((Pe==="le"||Pe==="be")&&(Fe=Pe,Pe=10),this._init(Xe||0,Pe||10,Fe||"be"))}typeof je=="object"?je.exports=ke:_e.BN=ke,ke.BN=ke,ke.wordSize=26;var Ce;try{typeof window<"u"&&typeof window.Buffer<"u"?Ce=window.Buffer:Ce=require$$0$3.Buffer}catch{}ke.isBN=function(Pe){return Pe instanceof ke?!0:Pe!==null&&typeof Pe=="object"&&Pe.constructor.wordSize===ke.wordSize&&Array.isArray(Pe.words)},ke.max=function(Pe,Fe){return Pe.cmp(Fe)>0?Pe:Fe},ke.min=function(Pe,Fe){return Pe.cmp(Fe)<0?Pe:Fe},ke.prototype._init=function(Pe,Fe,ze){if(typeof Pe=="number")return this._initNumber(Pe,Fe,ze);if(typeof Pe=="object")return this._initArray(Pe,Fe,ze);Fe==="hex"&&(Fe=16),Me(Fe===(Fe|0)&&Fe>=2&&Fe<=36),Pe=Pe.toString().replace(/\s+/g,"");var Ue=0;Pe[0]==="-"&&(Ue++,this.negative=1),Ue<Pe.length&&(Fe===16?this._parseHex(Pe,Ue,ze):(this._parseBase(Pe,Fe,Ue),ze==="le"&&this._initArray(this.toArray(),Fe,ze)))},ke.prototype._initNumber=function(Pe,Fe,ze){Pe<0&&(this.negative=1,Pe=-Pe),Pe<67108864?(this.words=[Pe&67108863],this.length=1):Pe<4503599627370496?(this.words=[Pe&67108863,Pe/67108864&67108863],this.length=2):(Me(Pe<9007199254740992),this.words=[Pe&67108863,Pe/67108864&67108863,1],this.length=3),ze==="le"&&this._initArray(this.toArray(),Fe,ze)},ke.prototype._initArray=function(Pe,Fe,ze){if(Me(typeof Pe.length=="number"),Pe.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(Pe.length/3),this.words=new Array(this.length);for(var Ue=0;Ue<this.length;Ue++)this.words[Ue]=0;var Ge,Ze,er=0;if(ze==="be")for(Ue=Pe.length-1,Ge=0;Ue>=0;Ue-=3)Ze=Pe[Ue]|Pe[Ue-1]<<8|Pe[Ue-2]<<16,this.words[Ge]|=Ze<<er&67108863,this.words[Ge+1]=Ze>>>26-er&67108863,er+=24,er>=26&&(er-=26,Ge++);else if(ze==="le")for(Ue=0,Ge=0;Ue<Pe.length;Ue+=3)Ze=Pe[Ue]|Pe[Ue+1]<<8|Pe[Ue+2]<<16,this.words[Ge]|=Ze<<er&67108863,this.words[Ge+1]=Ze>>>26-er&67108863,er+=24,er>=26&&(er-=26,Ge++);return this.strip()};function Be(Xe,Pe){var Fe=Xe.charCodeAt(Pe);return Fe>=65&&Fe<=70?Fe-55:Fe>=97&&Fe<=102?Fe-87:Fe-48&15}function qe(Xe,Pe,Fe){var ze=Be(Xe,Fe);return Fe-1>=Pe&&(ze|=Be(Xe,Fe-1)<<4),ze}ke.prototype._parseHex=function(Pe,Fe,ze){this.length=Math.ceil((Pe.length-Fe)/6),this.words=new Array(this.length);for(var Ue=0;Ue<this.length;Ue++)this.words[Ue]=0;var Ge=0,Ze=0,er;if(ze==="be")for(Ue=Pe.length-1;Ue>=Fe;Ue-=2)er=qe(Pe,Fe,Ue)<<Ge,this.words[Ze]|=er&67108863,Ge>=18?(Ge-=18,Ze+=1,this.words[Ze]|=er>>>26):Ge+=8;else{var Ve=Pe.length-Fe;for(Ue=Ve%2===0?Fe+1:Fe;Ue<Pe.length;Ue+=2)er=qe(Pe,Fe,Ue)<<Ge,this.words[Ze]|=er&67108863,Ge>=18?(Ge-=18,Ze+=1,this.words[Ze]|=er>>>26):Ge+=8}this.strip()};function He(Xe,Pe,Fe,ze){for(var Ue=0,Ge=Math.min(Xe.length,Fe),Ze=Pe;Ze<Ge;Ze++){var er=Xe.charCodeAt(Ze)-48;Ue*=ze,er>=49?Ue+=er-49+10:er>=17?Ue+=er-17+10:Ue+=er}return Ue}ke.prototype._parseBase=function(Pe,Fe,ze){this.words=[0],this.length=1;for(var Ue=0,Ge=1;Ge<=67108863;Ge*=Fe)Ue++;Ue--,Ge=Ge/Fe|0;for(var Ze=Pe.length-ze,er=Ze%Ue,Ve=Math.min(Ze,Ze-er)+ze,Ie=0,Ye=ze;Ye<Ve;Ye+=Ue)Ie=He(Pe,Ye,Ye+Ue,Fe),this.imuln(Ge),this.words[0]+Ie<67108864?this.words[0]+=Ie:this._iaddn(Ie);if(er!==0){var ir=1;for(Ie=He(Pe,Ye,Pe.length,Fe),Ye=0;Ye<er;Ye++)ir*=Fe;this.imuln(ir),this.words[0]+Ie<67108864?this.words[0]+=Ie:this._iaddn(Ie)}this.strip()},ke.prototype.copy=function(Pe){Pe.words=new Array(this.length);for(var Fe=0;Fe<this.length;Fe++)Pe.words[Fe]=this.words[Fe];Pe.length=this.length,Pe.negative=this.negative,Pe.red=this.red},ke.prototype.clone=function(){var Pe=new ke(null);return this.copy(Pe),Pe},ke.prototype._expand=function(Pe){for(;this.length<Pe;)this.words[this.length++]=0;return this},ke.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},ke.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},ke.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var We=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Ke=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Je=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];ke.prototype.toString=function(Pe,Fe){Pe=Pe||10,Fe=Fe|0||1;var ze;if(Pe===16||Pe==="hex"){ze="";for(var Ue=0,Ge=0,Ze=0;Ze<this.length;Ze++){var er=this.words[Ze],Ve=((er<<Ue|Ge)&16777215).toString(16);Ge=er>>>24-Ue&16777215,Ue+=2,Ue>=26&&(Ue-=26,Ze--),Ge!==0||Ze!==this.length-1?ze=We[6-Ve.length]+Ve+ze:ze=Ve+ze}for(Ge!==0&&(ze=Ge.toString(16)+ze);ze.length%Fe!==0;)ze="0"+ze;return this.negative!==0&&(ze="-"+ze),ze}if(Pe===(Pe|0)&&Pe>=2&&Pe<=36){var Ie=Ke[Pe],Ye=Je[Pe];ze="";var ir=this.clone();for(ir.negative=0;!ir.isZero();){var lr=ir.modn(Ye).toString(Pe);ir=ir.idivn(Ye),ir.isZero()?ze=lr+ze:ze=We[Ie-lr.length]+lr+ze}for(this.isZero()&&(ze="0"+ze);ze.length%Fe!==0;)ze="0"+ze;return this.negative!==0&&(ze="-"+ze),ze}Me(!1,"Base should be between 2 and 36")},ke.prototype.toNumber=function(){var Pe=this.words[0];return this.length===2?Pe+=this.words[1]*67108864:this.length===3&&this.words[2]===1?Pe+=4503599627370496+this.words[1]*67108864:this.length>2&&Me(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-Pe:Pe},ke.prototype.toJSON=function(){return this.toString(16)},ke.prototype.toBuffer=function(Pe,Fe){return Me(typeof Ce<"u"),this.toArrayLike(Ce,Pe,Fe)},ke.prototype.toArray=function(Pe,Fe){return this.toArrayLike(Array,Pe,Fe)},ke.prototype.toArrayLike=function(Pe,Fe,ze){var Ue=this.byteLength(),Ge=ze||Math.max(1,Ue);Me(Ue<=Ge,"byte array longer than desired length"),Me(Ge>0,"Requested array length <= 0"),this.strip();var Ze=Fe==="le",er=new Pe(Ge),Ve,Ie,Ye=this.clone();if(Ze){for(Ie=0;!Ye.isZero();Ie++)Ve=Ye.andln(255),Ye.iushrn(8),er[Ie]=Ve;for(;Ie<Ge;Ie++)er[Ie]=0}else{for(Ie=0;Ie<Ge-Ue;Ie++)er[Ie]=0;for(Ie=0;!Ye.isZero();Ie++)Ve=Ye.andln(255),Ye.iushrn(8),er[Ge-Ie-1]=Ve}return er},Math.clz32?ke.prototype._countBits=function(Pe){return 32-Math.clz32(Pe)}:ke.prototype._countBits=function(Pe){var Fe=Pe,ze=0;return Fe>=4096&&(ze+=13,Fe>>>=13),Fe>=64&&(ze+=7,Fe>>>=7),Fe>=8&&(ze+=4,Fe>>>=4),Fe>=2&&(ze+=2,Fe>>>=2),ze+Fe},ke.prototype._zeroBits=function(Pe){if(Pe===0)return 26;var Fe=Pe,ze=0;return Fe&8191||(ze+=13,Fe>>>=13),Fe&127||(ze+=7,Fe>>>=7),Fe&15||(ze+=4,Fe>>>=4),Fe&3||(ze+=2,Fe>>>=2),Fe&1||ze++,ze},ke.prototype.bitLength=function(){var Pe=this.words[this.length-1],Fe=this._countBits(Pe);return(this.length-1)*26+Fe};function Qe(Xe){for(var Pe=new Array(Xe.bitLength()),Fe=0;Fe<Pe.length;Fe++){var ze=Fe/26|0,Ue=Fe%26;Pe[Fe]=(Xe.words[ze]&1<<Ue)>>>Ue}return Pe}ke.prototype.zeroBits=function(){if(this.isZero())return 0;for(var Pe=0,Fe=0;Fe<this.length;Fe++){var ze=this._zeroBits(this.words[Fe]);if(Pe+=ze,ze!==26)break}return Pe},ke.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},ke.prototype.toTwos=function(Pe){return this.negative!==0?this.abs().inotn(Pe).iaddn(1):this.clone()},ke.prototype.fromTwos=function(Pe){return this.testn(Pe-1)?this.notn(Pe).iaddn(1).ineg():this.clone()},ke.prototype.isNeg=function(){return this.negative!==0},ke.prototype.neg=function(){return this.clone().ineg()},ke.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},ke.prototype.iuor=function(Pe){for(;this.length<Pe.length;)this.words[this.length++]=0;for(var Fe=0;Fe<Pe.length;Fe++)this.words[Fe]=this.words[Fe]|Pe.words[Fe];return this.strip()},ke.prototype.ior=function(Pe){return Me((this.negative|Pe.negative)===0),this.iuor(Pe)},ke.prototype.or=function(Pe){return this.length>Pe.length?this.clone().ior(Pe):Pe.clone().ior(this)},ke.prototype.uor=function(Pe){return this.length>Pe.length?this.clone().iuor(Pe):Pe.clone().iuor(this)},ke.prototype.iuand=function(Pe){var Fe;this.length>Pe.length?Fe=Pe:Fe=this;for(var ze=0;ze<Fe.length;ze++)this.words[ze]=this.words[ze]&Pe.words[ze];return this.length=Fe.length,this.strip()},ke.prototype.iand=function(Pe){return Me((this.negative|Pe.negative)===0),this.iuand(Pe)},ke.prototype.and=function(Pe){return this.length>Pe.length?this.clone().iand(Pe):Pe.clone().iand(this)},ke.prototype.uand=function(Pe){return this.length>Pe.length?this.clone().iuand(Pe):Pe.clone().iuand(this)},ke.prototype.iuxor=function(Pe){var Fe,ze;this.length>Pe.length?(Fe=this,ze=Pe):(Fe=Pe,ze=this);for(var Ue=0;Ue<ze.length;Ue++)this.words[Ue]=Fe.words[Ue]^ze.words[Ue];if(this!==Fe)for(;Ue<Fe.length;Ue++)this.words[Ue]=Fe.words[Ue];return this.length=Fe.length,this.strip()},ke.prototype.ixor=function(Pe){return Me((this.negative|Pe.negative)===0),this.iuxor(Pe)},ke.prototype.xor=function(Pe){return this.length>Pe.length?this.clone().ixor(Pe):Pe.clone().ixor(this)},ke.prototype.uxor=function(Pe){return this.length>Pe.length?this.clone().iuxor(Pe):Pe.clone().iuxor(this)},ke.prototype.inotn=function(Pe){Me(typeof Pe=="number"&&Pe>=0);var Fe=Math.ceil(Pe/26)|0,ze=Pe%26;this._expand(Fe),ze>0&&Fe--;for(var Ue=0;Ue<Fe;Ue++)this.words[Ue]=~this.words[Ue]&67108863;return ze>0&&(this.words[Ue]=~this.words[Ue]&67108863>>26-ze),this.strip()},ke.prototype.notn=function(Pe){return this.clone().inotn(Pe)},ke.prototype.setn=function(Pe,Fe){Me(typeof Pe=="number"&&Pe>=0);var ze=Pe/26|0,Ue=Pe%26;return this._expand(ze+1),Fe?this.words[ze]=this.words[ze]|1<<Ue:this.words[ze]=this.words[ze]&~(1<<Ue),this.strip()},ke.prototype.iadd=function(Pe){var Fe;if(this.negative!==0&&Pe.negative===0)return this.negative=0,Fe=this.isub(Pe),this.negative^=1,this._normSign();if(this.negative===0&&Pe.negative!==0)return Pe.negative=0,Fe=this.isub(Pe),Pe.negative=1,Fe._normSign();var ze,Ue;this.length>Pe.length?(ze=this,Ue=Pe):(ze=Pe,Ue=this);for(var Ge=0,Ze=0;Ze<Ue.length;Ze++)Fe=(ze.words[Ze]|0)+(Ue.words[Ze]|0)+Ge,this.words[Ze]=Fe&67108863,Ge=Fe>>>26;for(;Ge!==0&&Ze<ze.length;Ze++)Fe=(ze.words[Ze]|0)+Ge,this.words[Ze]=Fe&67108863,Ge=Fe>>>26;if(this.length=ze.length,Ge!==0)this.words[this.length]=Ge,this.length++;else if(ze!==this)for(;Ze<ze.length;Ze++)this.words[Ze]=ze.words[Ze];return this},ke.prototype.add=function(Pe){var Fe;return Pe.negative!==0&&this.negative===0?(Pe.negative=0,Fe=this.sub(Pe),Pe.negative^=1,Fe):Pe.negative===0&&this.negative!==0?(this.negative=0,Fe=Pe.sub(this),this.negative=1,Fe):this.length>Pe.length?this.clone().iadd(Pe):Pe.clone().iadd(this)},ke.prototype.isub=function(Pe){if(Pe.negative!==0){Pe.negative=0;var Fe=this.iadd(Pe);return Pe.negative=1,Fe._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(Pe),this.negative=1,this._normSign();var ze=this.cmp(Pe);if(ze===0)return this.negative=0,this.length=1,this.words[0]=0,this;var Ue,Ge;ze>0?(Ue=this,Ge=Pe):(Ue=Pe,Ge=this);for(var Ze=0,er=0;er<Ge.length;er++)Fe=(Ue.words[er]|0)-(Ge.words[er]|0)+Ze,Ze=Fe>>26,this.words[er]=Fe&67108863;for(;Ze!==0&&er<Ue.length;er++)Fe=(Ue.words[er]|0)+Ze,Ze=Fe>>26,this.words[er]=Fe&67108863;if(Ze===0&&er<Ue.length&&Ue!==this)for(;er<Ue.length;er++)this.words[er]=Ue.words[er];return this.length=Math.max(this.length,er),Ue!==this&&(this.negative=1),this.strip()},ke.prototype.sub=function(Pe){return this.clone().isub(Pe)};function rr(Xe,Pe,Fe){Fe.negative=Pe.negative^Xe.negative;var ze=Xe.length+Pe.length|0;Fe.length=ze,ze=ze-1|0;var Ue=Xe.words[0]|0,Ge=Pe.words[0]|0,Ze=Ue*Ge,er=Ze&67108863,Ve=Ze/67108864|0;Fe.words[0]=er;for(var Ie=1;Ie<ze;Ie++){for(var Ye=Ve>>>26,ir=Ve&67108863,lr=Math.min(Ie,Pe.length-1),br=Math.max(0,Ie-Xe.length+1);br<=lr;br++){var _r=Ie-br|0;Ue=Xe.words[_r]|0,Ge=Pe.words[br]|0,Ze=Ue*Ge+ir,Ye+=Ze/67108864|0,ir=Ze&67108863}Fe.words[Ie]=ir|0,Ve=Ye|0}return Ve!==0?Fe.words[Ie]=Ve|0:Fe.length--,Fe.strip()}var tr=function(Pe,Fe,ze){var Ue=Pe.words,Ge=Fe.words,Ze=ze.words,er=0,Ve,Ie,Ye,ir=Ue[0]|0,lr=ir&8191,br=ir>>>13,_r=Ue[1]|0,Sr=_r&8191,wr=_r>>>13,Nr=Ue[2]|0,kr=Nr&8191,Lr=Nr>>>13,Xr=Ue[3]|0,Ur=Xr&8191,Gr=Xr>>>13,Ts=Ue[4]|0,Br=Ts&8191,Cr=Ts>>>13,qs=Ue[5]|0,$r=qs&8191,Tr=qs>>>13,Kr=Ue[6]|0,qr=Kr&8191,Hr=Kr>>>13,ss=Ue[7]|0,Vr=ss&8191,Zr=ss>>>13,Is=Ue[8]|0,Jr=Is&8191,cs=Is>>>13,zs=Ue[9]|0,ns=zs&8191,Qr=zs>>>13,Zs=Ge[0]|0,os=Zs&8191,_s=Zs>>>13,Ys=Ge[1]|0,ds=Ys&8191,Ns=Ys>>>13,Xs=Ge[2]|0,ys=Xs&8191,ws=Xs>>>13,ni=Ge[3]|0,bs=ni&8191,Es=ni>>>13,Hs=Ge[4]|0,us=Hs&8191,As=Hs>>>13,Qs=Ge[5]|0,vs=Qs&8191,Ms=Qs>>>13,Us=Ge[6]|0,xs=Us&8191,ks=Us>>>13,ri=Ge[7]|0,fs=ri&8191,Rs=ri>>>13,si=Ge[8]|0,js=si&8191,$s=si>>>13,ai=Ge[9]|0,gs=ai&8191,Ss=ai>>>13;ze.negative=Pe.negative^Fe.negative,ze.length=19,Ve=Math.imul(lr,os),Ie=Math.imul(lr,_s),Ie=Ie+Math.imul(br,os)|0,Ye=Math.imul(br,_s);var ei=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(ei>>>26)|0,ei&=67108863,Ve=Math.imul(Sr,os),Ie=Math.imul(Sr,_s),Ie=Ie+Math.imul(wr,os)|0,Ye=Math.imul(wr,_s),Ve=Ve+Math.imul(lr,ds)|0,Ie=Ie+Math.imul(lr,Ns)|0,Ie=Ie+Math.imul(br,ds)|0,Ye=Ye+Math.imul(br,Ns)|0;var Js=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(Js>>>26)|0,Js&=67108863,Ve=Math.imul(kr,os),Ie=Math.imul(kr,_s),Ie=Ie+Math.imul(Lr,os)|0,Ye=Math.imul(Lr,_s),Ve=Ve+Math.imul(Sr,ds)|0,Ie=Ie+Math.imul(Sr,Ns)|0,Ie=Ie+Math.imul(wr,ds)|0,Ye=Ye+Math.imul(wr,Ns)|0,Ve=Ve+Math.imul(lr,ys)|0,Ie=Ie+Math.imul(lr,ws)|0,Ie=Ie+Math.imul(br,ys)|0,Ye=Ye+Math.imul(br,ws)|0;var di=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(di>>>26)|0,di&=67108863,Ve=Math.imul(Ur,os),Ie=Math.imul(Ur,_s),Ie=Ie+Math.imul(Gr,os)|0,Ye=Math.imul(Gr,_s),Ve=Ve+Math.imul(kr,ds)|0,Ie=Ie+Math.imul(kr,Ns)|0,Ie=Ie+Math.imul(Lr,ds)|0,Ye=Ye+Math.imul(Lr,Ns)|0,Ve=Ve+Math.imul(Sr,ys)|0,Ie=Ie+Math.imul(Sr,ws)|0,Ie=Ie+Math.imul(wr,ys)|0,Ye=Ye+Math.imul(wr,ws)|0,Ve=Ve+Math.imul(lr,bs)|0,Ie=Ie+Math.imul(lr,Es)|0,Ie=Ie+Math.imul(br,bs)|0,Ye=Ye+Math.imul(br,Es)|0;var fi=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(fi>>>26)|0,fi&=67108863,Ve=Math.imul(Br,os),Ie=Math.imul(Br,_s),Ie=Ie+Math.imul(Cr,os)|0,Ye=Math.imul(Cr,_s),Ve=Ve+Math.imul(Ur,ds)|0,Ie=Ie+Math.imul(Ur,Ns)|0,Ie=Ie+Math.imul(Gr,ds)|0,Ye=Ye+Math.imul(Gr,Ns)|0,Ve=Ve+Math.imul(kr,ys)|0,Ie=Ie+Math.imul(kr,ws)|0,Ie=Ie+Math.imul(Lr,ys)|0,Ye=Ye+Math.imul(Lr,ws)|0,Ve=Ve+Math.imul(Sr,bs)|0,Ie=Ie+Math.imul(Sr,Es)|0,Ie=Ie+Math.imul(wr,bs)|0,Ye=Ye+Math.imul(wr,Es)|0,Ve=Ve+Math.imul(lr,us)|0,Ie=Ie+Math.imul(lr,As)|0,Ie=Ie+Math.imul(br,us)|0,Ye=Ye+Math.imul(br,As)|0;var mi=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(mi>>>26)|0,mi&=67108863,Ve=Math.imul($r,os),Ie=Math.imul($r,_s),Ie=Ie+Math.imul(Tr,os)|0,Ye=Math.imul(Tr,_s),Ve=Ve+Math.imul(Br,ds)|0,Ie=Ie+Math.imul(Br,Ns)|0,Ie=Ie+Math.imul(Cr,ds)|0,Ye=Ye+Math.imul(Cr,Ns)|0,Ve=Ve+Math.imul(Ur,ys)|0,Ie=Ie+Math.imul(Ur,ws)|0,Ie=Ie+Math.imul(Gr,ys)|0,Ye=Ye+Math.imul(Gr,ws)|0,Ve=Ve+Math.imul(kr,bs)|0,Ie=Ie+Math.imul(kr,Es)|0,Ie=Ie+Math.imul(Lr,bs)|0,Ye=Ye+Math.imul(Lr,Es)|0,Ve=Ve+Math.imul(Sr,us)|0,Ie=Ie+Math.imul(Sr,As)|0,Ie=Ie+Math.imul(wr,us)|0,Ye=Ye+Math.imul(wr,As)|0,Ve=Ve+Math.imul(lr,vs)|0,Ie=Ie+Math.imul(lr,Ms)|0,Ie=Ie+Math.imul(br,vs)|0,Ye=Ye+Math.imul(br,Ms)|0;var pi=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(pi>>>26)|0,pi&=67108863,Ve=Math.imul(qr,os),Ie=Math.imul(qr,_s),Ie=Ie+Math.imul(Hr,os)|0,Ye=Math.imul(Hr,_s),Ve=Ve+Math.imul($r,ds)|0,Ie=Ie+Math.imul($r,Ns)|0,Ie=Ie+Math.imul(Tr,ds)|0,Ye=Ye+Math.imul(Tr,Ns)|0,Ve=Ve+Math.imul(Br,ys)|0,Ie=Ie+Math.imul(Br,ws)|0,Ie=Ie+Math.imul(Cr,ys)|0,Ye=Ye+Math.imul(Cr,ws)|0,Ve=Ve+Math.imul(Ur,bs)|0,Ie=Ie+Math.imul(Ur,Es)|0,Ie=Ie+Math.imul(Gr,bs)|0,Ye=Ye+Math.imul(Gr,Es)|0,Ve=Ve+Math.imul(kr,us)|0,Ie=Ie+Math.imul(kr,As)|0,Ie=Ie+Math.imul(Lr,us)|0,Ye=Ye+Math.imul(Lr,As)|0,Ve=Ve+Math.imul(Sr,vs)|0,Ie=Ie+Math.imul(Sr,Ms)|0,Ie=Ie+Math.imul(wr,vs)|0,Ye=Ye+Math.imul(wr,Ms)|0,Ve=Ve+Math.imul(lr,xs)|0,Ie=Ie+Math.imul(lr,ks)|0,Ie=Ie+Math.imul(br,xs)|0,Ye=Ye+Math.imul(br,ks)|0;var xi=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(xi>>>26)|0,xi&=67108863,Ve=Math.imul(Vr,os),Ie=Math.imul(Vr,_s),Ie=Ie+Math.imul(Zr,os)|0,Ye=Math.imul(Zr,_s),Ve=Ve+Math.imul(qr,ds)|0,Ie=Ie+Math.imul(qr,Ns)|0,Ie=Ie+Math.imul(Hr,ds)|0,Ye=Ye+Math.imul(Hr,Ns)|0,Ve=Ve+Math.imul($r,ys)|0,Ie=Ie+Math.imul($r,ws)|0,Ie=Ie+Math.imul(Tr,ys)|0,Ye=Ye+Math.imul(Tr,ws)|0,Ve=Ve+Math.imul(Br,bs)|0,Ie=Ie+Math.imul(Br,Es)|0,Ie=Ie+Math.imul(Cr,bs)|0,Ye=Ye+Math.imul(Cr,Es)|0,Ve=Ve+Math.imul(Ur,us)|0,Ie=Ie+Math.imul(Ur,As)|0,Ie=Ie+Math.imul(Gr,us)|0,Ye=Ye+Math.imul(Gr,As)|0,Ve=Ve+Math.imul(kr,vs)|0,Ie=Ie+Math.imul(kr,Ms)|0,Ie=Ie+Math.imul(Lr,vs)|0,Ye=Ye+Math.imul(Lr,Ms)|0,Ve=Ve+Math.imul(Sr,xs)|0,Ie=Ie+Math.imul(Sr,ks)|0,Ie=Ie+Math.imul(wr,xs)|0,Ye=Ye+Math.imul(wr,ks)|0,Ve=Ve+Math.imul(lr,fs)|0,Ie=Ie+Math.imul(lr,Rs)|0,Ie=Ie+Math.imul(br,fs)|0,Ye=Ye+Math.imul(br,Rs)|0;var gi=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(gi>>>26)|0,gi&=67108863,Ve=Math.imul(Jr,os),Ie=Math.imul(Jr,_s),Ie=Ie+Math.imul(cs,os)|0,Ye=Math.imul(cs,_s),Ve=Ve+Math.imul(Vr,ds)|0,Ie=Ie+Math.imul(Vr,Ns)|0,Ie=Ie+Math.imul(Zr,ds)|0,Ye=Ye+Math.imul(Zr,Ns)|0,Ve=Ve+Math.imul(qr,ys)|0,Ie=Ie+Math.imul(qr,ws)|0,Ie=Ie+Math.imul(Hr,ys)|0,Ye=Ye+Math.imul(Hr,ws)|0,Ve=Ve+Math.imul($r,bs)|0,Ie=Ie+Math.imul($r,Es)|0,Ie=Ie+Math.imul(Tr,bs)|0,Ye=Ye+Math.imul(Tr,Es)|0,Ve=Ve+Math.imul(Br,us)|0,Ie=Ie+Math.imul(Br,As)|0,Ie=Ie+Math.imul(Cr,us)|0,Ye=Ye+Math.imul(Cr,As)|0,Ve=Ve+Math.imul(Ur,vs)|0,Ie=Ie+Math.imul(Ur,Ms)|0,Ie=Ie+Math.imul(Gr,vs)|0,Ye=Ye+Math.imul(Gr,Ms)|0,Ve=Ve+Math.imul(kr,xs)|0,Ie=Ie+Math.imul(kr,ks)|0,Ie=Ie+Math.imul(Lr,xs)|0,Ye=Ye+Math.imul(Lr,ks)|0,Ve=Ve+Math.imul(Sr,fs)|0,Ie=Ie+Math.imul(Sr,Rs)|0,Ie=Ie+Math.imul(wr,fs)|0,Ye=Ye+Math.imul(wr,Rs)|0,Ve=Ve+Math.imul(lr,js)|0,Ie=Ie+Math.imul(lr,$s)|0,Ie=Ie+Math.imul(br,js)|0,Ye=Ye+Math.imul(br,$s)|0;var Ei=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(Ei>>>26)|0,Ei&=67108863,Ve=Math.imul(ns,os),Ie=Math.imul(ns,_s),Ie=Ie+Math.imul(Qr,os)|0,Ye=Math.imul(Qr,_s),Ve=Ve+Math.imul(Jr,ds)|0,Ie=Ie+Math.imul(Jr,Ns)|0,Ie=Ie+Math.imul(cs,ds)|0,Ye=Ye+Math.imul(cs,Ns)|0,Ve=Ve+Math.imul(Vr,ys)|0,Ie=Ie+Math.imul(Vr,ws)|0,Ie=Ie+Math.imul(Zr,ys)|0,Ye=Ye+Math.imul(Zr,ws)|0,Ve=Ve+Math.imul(qr,bs)|0,Ie=Ie+Math.imul(qr,Es)|0,Ie=Ie+Math.imul(Hr,bs)|0,Ye=Ye+Math.imul(Hr,Es)|0,Ve=Ve+Math.imul($r,us)|0,Ie=Ie+Math.imul($r,As)|0,Ie=Ie+Math.imul(Tr,us)|0,Ye=Ye+Math.imul(Tr,As)|0,Ve=Ve+Math.imul(Br,vs)|0,Ie=Ie+Math.imul(Br,Ms)|0,Ie=Ie+Math.imul(Cr,vs)|0,Ye=Ye+Math.imul(Cr,Ms)|0,Ve=Ve+Math.imul(Ur,xs)|0,Ie=Ie+Math.imul(Ur,ks)|0,Ie=Ie+Math.imul(Gr,xs)|0,Ye=Ye+Math.imul(Gr,ks)|0,Ve=Ve+Math.imul(kr,fs)|0,Ie=Ie+Math.imul(kr,Rs)|0,Ie=Ie+Math.imul(Lr,fs)|0,Ye=Ye+Math.imul(Lr,Rs)|0,Ve=Ve+Math.imul(Sr,js)|0,Ie=Ie+Math.imul(Sr,$s)|0,Ie=Ie+Math.imul(wr,js)|0,Ye=Ye+Math.imul(wr,$s)|0,Ve=Ve+Math.imul(lr,gs)|0,Ie=Ie+Math.imul(lr,Ss)|0,Ie=Ie+Math.imul(br,gs)|0,Ye=Ye+Math.imul(br,Ss)|0;var Si=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(Si>>>26)|0,Si&=67108863,Ve=Math.imul(ns,ds),Ie=Math.imul(ns,Ns),Ie=Ie+Math.imul(Qr,ds)|0,Ye=Math.imul(Qr,Ns),Ve=Ve+Math.imul(Jr,ys)|0,Ie=Ie+Math.imul(Jr,ws)|0,Ie=Ie+Math.imul(cs,ys)|0,Ye=Ye+Math.imul(cs,ws)|0,Ve=Ve+Math.imul(Vr,bs)|0,Ie=Ie+Math.imul(Vr,Es)|0,Ie=Ie+Math.imul(Zr,bs)|0,Ye=Ye+Math.imul(Zr,Es)|0,Ve=Ve+Math.imul(qr,us)|0,Ie=Ie+Math.imul(qr,As)|0,Ie=Ie+Math.imul(Hr,us)|0,Ye=Ye+Math.imul(Hr,As)|0,Ve=Ve+Math.imul($r,vs)|0,Ie=Ie+Math.imul($r,Ms)|0,Ie=Ie+Math.imul(Tr,vs)|0,Ye=Ye+Math.imul(Tr,Ms)|0,Ve=Ve+Math.imul(Br,xs)|0,Ie=Ie+Math.imul(Br,ks)|0,Ie=Ie+Math.imul(Cr,xs)|0,Ye=Ye+Math.imul(Cr,ks)|0,Ve=Ve+Math.imul(Ur,fs)|0,Ie=Ie+Math.imul(Ur,Rs)|0,Ie=Ie+Math.imul(Gr,fs)|0,Ye=Ye+Math.imul(Gr,Rs)|0,Ve=Ve+Math.imul(kr,js)|0,Ie=Ie+Math.imul(kr,$s)|0,Ie=Ie+Math.imul(Lr,js)|0,Ye=Ye+Math.imul(Lr,$s)|0,Ve=Ve+Math.imul(Sr,gs)|0,Ie=Ie+Math.imul(Sr,Ss)|0,Ie=Ie+Math.imul(wr,gs)|0,Ye=Ye+Math.imul(wr,Ss)|0;var Ni=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(Ni>>>26)|0,Ni&=67108863,Ve=Math.imul(ns,ys),Ie=Math.imul(ns,ws),Ie=Ie+Math.imul(Qr,ys)|0,Ye=Math.imul(Qr,ws),Ve=Ve+Math.imul(Jr,bs)|0,Ie=Ie+Math.imul(Jr,Es)|0,Ie=Ie+Math.imul(cs,bs)|0,Ye=Ye+Math.imul(cs,Es)|0,Ve=Ve+Math.imul(Vr,us)|0,Ie=Ie+Math.imul(Vr,As)|0,Ie=Ie+Math.imul(Zr,us)|0,Ye=Ye+Math.imul(Zr,As)|0,Ve=Ve+Math.imul(qr,vs)|0,Ie=Ie+Math.imul(qr,Ms)|0,Ie=Ie+Math.imul(Hr,vs)|0,Ye=Ye+Math.imul(Hr,Ms)|0,Ve=Ve+Math.imul($r,xs)|0,Ie=Ie+Math.imul($r,ks)|0,Ie=Ie+Math.imul(Tr,xs)|0,Ye=Ye+Math.imul(Tr,ks)|0,Ve=Ve+Math.imul(Br,fs)|0,Ie=Ie+Math.imul(Br,Rs)|0,Ie=Ie+Math.imul(Cr,fs)|0,Ye=Ye+Math.imul(Cr,Rs)|0,Ve=Ve+Math.imul(Ur,js)|0,Ie=Ie+Math.imul(Ur,$s)|0,Ie=Ie+Math.imul(Gr,js)|0,Ye=Ye+Math.imul(Gr,$s)|0,Ve=Ve+Math.imul(kr,gs)|0,Ie=Ie+Math.imul(kr,Ss)|0,Ie=Ie+Math.imul(Lr,gs)|0,Ye=Ye+Math.imul(Lr,Ss)|0;var vi=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(vi>>>26)|0,vi&=67108863,Ve=Math.imul(ns,bs),Ie=Math.imul(ns,Es),Ie=Ie+Math.imul(Qr,bs)|0,Ye=Math.imul(Qr,Es),Ve=Ve+Math.imul(Jr,us)|0,Ie=Ie+Math.imul(Jr,As)|0,Ie=Ie+Math.imul(cs,us)|0,Ye=Ye+Math.imul(cs,As)|0,Ve=Ve+Math.imul(Vr,vs)|0,Ie=Ie+Math.imul(Vr,Ms)|0,Ie=Ie+Math.imul(Zr,vs)|0,Ye=Ye+Math.imul(Zr,Ms)|0,Ve=Ve+Math.imul(qr,xs)|0,Ie=Ie+Math.imul(qr,ks)|0,Ie=Ie+Math.imul(Hr,xs)|0,Ye=Ye+Math.imul(Hr,ks)|0,Ve=Ve+Math.imul($r,fs)|0,Ie=Ie+Math.imul($r,Rs)|0,Ie=Ie+Math.imul(Tr,fs)|0,Ye=Ye+Math.imul(Tr,Rs)|0,Ve=Ve+Math.imul(Br,js)|0,Ie=Ie+Math.imul(Br,$s)|0,Ie=Ie+Math.imul(Cr,js)|0,Ye=Ye+Math.imul(Cr,$s)|0,Ve=Ve+Math.imul(Ur,gs)|0,Ie=Ie+Math.imul(Ur,Ss)|0,Ie=Ie+Math.imul(Gr,gs)|0,Ye=Ye+Math.imul(Gr,Ss)|0;var Ri=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(Ri>>>26)|0,Ri&=67108863,Ve=Math.imul(ns,us),Ie=Math.imul(ns,As),Ie=Ie+Math.imul(Qr,us)|0,Ye=Math.imul(Qr,As),Ve=Ve+Math.imul(Jr,vs)|0,Ie=Ie+Math.imul(Jr,Ms)|0,Ie=Ie+Math.imul(cs,vs)|0,Ye=Ye+Math.imul(cs,Ms)|0,Ve=Ve+Math.imul(Vr,xs)|0,Ie=Ie+Math.imul(Vr,ks)|0,Ie=Ie+Math.imul(Zr,xs)|0,Ye=Ye+Math.imul(Zr,ks)|0,Ve=Ve+Math.imul(qr,fs)|0,Ie=Ie+Math.imul(qr,Rs)|0,Ie=Ie+Math.imul(Hr,fs)|0,Ye=Ye+Math.imul(Hr,Rs)|0,Ve=Ve+Math.imul($r,js)|0,Ie=Ie+Math.imul($r,$s)|0,Ie=Ie+Math.imul(Tr,js)|0,Ye=Ye+Math.imul(Tr,$s)|0,Ve=Ve+Math.imul(Br,gs)|0,Ie=Ie+Math.imul(Br,Ss)|0,Ie=Ie+Math.imul(Cr,gs)|0,Ye=Ye+Math.imul(Cr,Ss)|0;var Mi=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(Mi>>>26)|0,Mi&=67108863,Ve=Math.imul(ns,vs),Ie=Math.imul(ns,Ms),Ie=Ie+Math.imul(Qr,vs)|0,Ye=Math.imul(Qr,Ms),Ve=Ve+Math.imul(Jr,xs)|0,Ie=Ie+Math.imul(Jr,ks)|0,Ie=Ie+Math.imul(cs,xs)|0,Ye=Ye+Math.imul(cs,ks)|0,Ve=Ve+Math.imul(Vr,fs)|0,Ie=Ie+Math.imul(Vr,Rs)|0,Ie=Ie+Math.imul(Zr,fs)|0,Ye=Ye+Math.imul(Zr,Rs)|0,Ve=Ve+Math.imul(qr,js)|0,Ie=Ie+Math.imul(qr,$s)|0,Ie=Ie+Math.imul(Hr,js)|0,Ye=Ye+Math.imul(Hr,$s)|0,Ve=Ve+Math.imul($r,gs)|0,Ie=Ie+Math.imul($r,Ss)|0,Ie=Ie+Math.imul(Tr,gs)|0,Ye=Ye+Math.imul(Tr,Ss)|0;var ji=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(ji>>>26)|0,ji&=67108863,Ve=Math.imul(ns,xs),Ie=Math.imul(ns,ks),Ie=Ie+Math.imul(Qr,xs)|0,Ye=Math.imul(Qr,ks),Ve=Ve+Math.imul(Jr,fs)|0,Ie=Ie+Math.imul(Jr,Rs)|0,Ie=Ie+Math.imul(cs,fs)|0,Ye=Ye+Math.imul(cs,Rs)|0,Ve=Ve+Math.imul(Vr,js)|0,Ie=Ie+Math.imul(Vr,$s)|0,Ie=Ie+Math.imul(Zr,js)|0,Ye=Ye+Math.imul(Zr,$s)|0,Ve=Ve+Math.imul(qr,gs)|0,Ie=Ie+Math.imul(qr,Ss)|0,Ie=Ie+Math.imul(Hr,gs)|0,Ye=Ye+Math.imul(Hr,Ss)|0;var ki=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(ki>>>26)|0,ki&=67108863,Ve=Math.imul(ns,fs),Ie=Math.imul(ns,Rs),Ie=Ie+Math.imul(Qr,fs)|0,Ye=Math.imul(Qr,Rs),Ve=Ve+Math.imul(Jr,js)|0,Ie=Ie+Math.imul(Jr,$s)|0,Ie=Ie+Math.imul(cs,js)|0,Ye=Ye+Math.imul(cs,$s)|0,Ve=Ve+Math.imul(Vr,gs)|0,Ie=Ie+Math.imul(Vr,Ss)|0,Ie=Ie+Math.imul(Zr,gs)|0,Ye=Ye+Math.imul(Zr,Ss)|0;var _i=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(_i>>>26)|0,_i&=67108863,Ve=Math.imul(ns,js),Ie=Math.imul(ns,$s),Ie=Ie+Math.imul(Qr,js)|0,Ye=Math.imul(Qr,$s),Ve=Ve+Math.imul(Jr,gs)|0,Ie=Ie+Math.imul(Jr,Ss)|0,Ie=Ie+Math.imul(cs,gs)|0,Ye=Ye+Math.imul(cs,Ss)|0;var $i=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+($i>>>26)|0,$i&=67108863,Ve=Math.imul(ns,gs),Ie=Math.imul(ns,Ss),Ie=Ie+Math.imul(Qr,gs)|0,Ye=Math.imul(Qr,Ss);var bi=(er+Ve|0)+((Ie&8191)<<13)|0;return er=(Ye+(Ie>>>13)|0)+(bi>>>26)|0,bi&=67108863,Ze[0]=ei,Ze[1]=Js,Ze[2]=di,Ze[3]=fi,Ze[4]=mi,Ze[5]=pi,Ze[6]=xi,Ze[7]=gi,Ze[8]=Ei,Ze[9]=Si,Ze[10]=Ni,Ze[11]=vi,Ze[12]=Ri,Ze[13]=Mi,Ze[14]=ji,Ze[15]=ki,Ze[16]=_i,Ze[17]=$i,Ze[18]=bi,er!==0&&(Ze[19]=er,ze.length++),ze};Math.imul||(tr=rr);function cr(Xe,Pe,Fe){Fe.negative=Pe.negative^Xe.negative,Fe.length=Xe.length+Pe.length;for(var ze=0,Ue=0,Ge=0;Ge<Fe.length-1;Ge++){var Ze=Ue;Ue=0;for(var er=ze&67108863,Ve=Math.min(Ge,Pe.length-1),Ie=Math.max(0,Ge-Xe.length+1);Ie<=Ve;Ie++){var Ye=Ge-Ie,ir=Xe.words[Ye]|0,lr=Pe.words[Ie]|0,br=ir*lr,_r=br&67108863;Ze=Ze+(br/67108864|0)|0,_r=_r+er|0,er=_r&67108863,Ze=Ze+(_r>>>26)|0,Ue+=Ze>>>26,Ze&=67108863}Fe.words[Ge]=er,ze=Ze,Ze=Ue}return ze!==0?Fe.words[Ge]=ze:Fe.length--,Fe.strip()}function or(Xe,Pe,Fe){var ze=new ar;return ze.mulp(Xe,Pe,Fe)}ke.prototype.mulTo=function(Pe,Fe){var ze,Ue=this.length+Pe.length;return this.length===10&&Pe.length===10?ze=tr(this,Pe,Fe):Ue<63?ze=rr(this,Pe,Fe):Ue<1024?ze=cr(this,Pe,Fe):ze=or(this,Pe,Fe),ze};function ar(Xe,Pe){this.x=Xe,this.y=Pe}ar.prototype.makeRBT=function(Pe){for(var Fe=new Array(Pe),ze=ke.prototype._countBits(Pe)-1,Ue=0;Ue<Pe;Ue++)Fe[Ue]=this.revBin(Ue,ze,Pe);return Fe},ar.prototype.revBin=function(Pe,Fe,ze){if(Pe===0||Pe===ze-1)return Pe;for(var Ue=0,Ge=0;Ge<Fe;Ge++)Ue|=(Pe&1)<<Fe-Ge-1,Pe>>=1;return Ue},ar.prototype.permute=function(Pe,Fe,ze,Ue,Ge,Ze){for(var er=0;er<Ze;er++)Ue[er]=Fe[Pe[er]],Ge[er]=ze[Pe[er]]},ar.prototype.transform=function(Pe,Fe,ze,Ue,Ge,Ze){this.permute(Ze,Pe,Fe,ze,Ue,Ge);for(var er=1;er<Ge;er<<=1)for(var Ve=er<<1,Ie=Math.cos(2*Math.PI/Ve),Ye=Math.sin(2*Math.PI/Ve),ir=0;ir<Ge;ir+=Ve)for(var lr=Ie,br=Ye,_r=0;_r<er;_r++){var Sr=ze[ir+_r],wr=Ue[ir+_r],Nr=ze[ir+_r+er],kr=Ue[ir+_r+er],Lr=lr*Nr-br*kr;kr=lr*kr+br*Nr,Nr=Lr,ze[ir+_r]=Sr+Nr,Ue[ir+_r]=wr+kr,ze[ir+_r+er]=Sr-Nr,Ue[ir+_r+er]=wr-kr,_r!==Ve&&(Lr=Ie*lr-Ye*br,br=Ie*br+Ye*lr,lr=Lr)}},ar.prototype.guessLen13b=function(Pe,Fe){var ze=Math.max(Fe,Pe)|1,Ue=ze&1,Ge=0;for(ze=ze/2|0;ze;ze=ze>>>1)Ge++;return 1<<Ge+1+Ue},ar.prototype.conjugate=function(Pe,Fe,ze){if(!(ze<=1))for(var Ue=0;Ue<ze/2;Ue++){var Ge=Pe[Ue];Pe[Ue]=Pe[ze-Ue-1],Pe[ze-Ue-1]=Ge,Ge=Fe[Ue],Fe[Ue]=-Fe[ze-Ue-1],Fe[ze-Ue-1]=-Ge}},ar.prototype.normalize13b=function(Pe,Fe){for(var ze=0,Ue=0;Ue<Fe/2;Ue++){var Ge=Math.round(Pe[2*Ue+1]/Fe)*8192+Math.round(Pe[2*Ue]/Fe)+ze;Pe[Ue]=Ge&67108863,Ge<67108864?ze=0:ze=Ge/67108864|0}return Pe},ar.prototype.convert13b=function(Pe,Fe,ze,Ue){for(var Ge=0,Ze=0;Ze<Fe;Ze++)Ge=Ge+(Pe[Ze]|0),ze[2*Ze]=Ge&8191,Ge=Ge>>>13,ze[2*Ze+1]=Ge&8191,Ge=Ge>>>13;for(Ze=2*Fe;Ze<Ue;++Ze)ze[Ze]=0;Me(Ge===0),Me((Ge&-8192)===0)},ar.prototype.stub=function(Pe){for(var Fe=new Array(Pe),ze=0;ze<Pe;ze++)Fe[ze]=0;return Fe},ar.prototype.mulp=function(Pe,Fe,ze){var Ue=2*this.guessLen13b(Pe.length,Fe.length),Ge=this.makeRBT(Ue),Ze=this.stub(Ue),er=new Array(Ue),Ve=new Array(Ue),Ie=new Array(Ue),Ye=new Array(Ue),ir=new Array(Ue),lr=new Array(Ue),br=ze.words;br.length=Ue,this.convert13b(Pe.words,Pe.length,er,Ue),this.convert13b(Fe.words,Fe.length,Ye,Ue),this.transform(er,Ze,Ve,Ie,Ue,Ge),this.transform(Ye,Ze,ir,lr,Ue,Ge);for(var _r=0;_r<Ue;_r++){var Sr=Ve[_r]*ir[_r]-Ie[_r]*lr[_r];Ie[_r]=Ve[_r]*lr[_r]+Ie[_r]*ir[_r],Ve[_r]=Sr}return this.conjugate(Ve,Ie,Ue),this.transform(Ve,Ie,br,Ze,Ue,Ge),this.conjugate(br,Ze,Ue),this.normalize13b(br,Ue),ze.negative=Pe.negative^Fe.negative,ze.length=Pe.length+Fe.length,ze.strip()},ke.prototype.mul=function(Pe){var Fe=new ke(null);return Fe.words=new Array(this.length+Pe.length),this.mulTo(Pe,Fe)},ke.prototype.mulf=function(Pe){var Fe=new ke(null);return Fe.words=new Array(this.length+Pe.length),or(this,Pe,Fe)},ke.prototype.imul=function(Pe){return this.clone().mulTo(Pe,this)},ke.prototype.imuln=function(Pe){Me(typeof Pe=="number"),Me(Pe<67108864);for(var Fe=0,ze=0;ze<this.length;ze++){var Ue=(this.words[ze]|0)*Pe,Ge=(Ue&67108863)+(Fe&67108863);Fe>>=26,Fe+=Ue/67108864|0,Fe+=Ge>>>26,this.words[ze]=Ge&67108863}return Fe!==0&&(this.words[ze]=Fe,this.length++),this.length=Pe===0?1:this.length,this},ke.prototype.muln=function(Pe){return this.clone().imuln(Pe)},ke.prototype.sqr=function(){return this.mul(this)},ke.prototype.isqr=function(){return this.imul(this.clone())},ke.prototype.pow=function(Pe){var Fe=Qe(Pe);if(Fe.length===0)return new ke(1);for(var ze=this,Ue=0;Ue<Fe.length&&Fe[Ue]===0;Ue++,ze=ze.sqr());if(++Ue<Fe.length)for(var Ge=ze.sqr();Ue<Fe.length;Ue++,Ge=Ge.sqr())Fe[Ue]!==0&&(ze=ze.mul(Ge));return ze},ke.prototype.iushln=function(Pe){Me(typeof Pe=="number"&&Pe>=0);var Fe=Pe%26,ze=(Pe-Fe)/26,Ue=67108863>>>26-Fe<<26-Fe,Ge;if(Fe!==0){var Ze=0;for(Ge=0;Ge<this.length;Ge++){var er=this.words[Ge]&Ue,Ve=(this.words[Ge]|0)-er<<Fe;this.words[Ge]=Ve|Ze,Ze=er>>>26-Fe}Ze&&(this.words[Ge]=Ze,this.length++)}if(ze!==0){for(Ge=this.length-1;Ge>=0;Ge--)this.words[Ge+ze]=this.words[Ge];for(Ge=0;Ge<ze;Ge++)this.words[Ge]=0;this.length+=ze}return this.strip()},ke.prototype.ishln=function(Pe){return Me(this.negative===0),this.iushln(Pe)},ke.prototype.iushrn=function(Pe,Fe,ze){Me(typeof Pe=="number"&&Pe>=0);var Ue;Fe?Ue=(Fe-Fe%26)/26:Ue=0;var Ge=Pe%26,Ze=Math.min((Pe-Ge)/26,this.length),er=67108863^67108863>>>Ge<<Ge,Ve=ze;if(Ue-=Ze,Ue=Math.max(0,Ue),Ve){for(var Ie=0;Ie<Ze;Ie++)Ve.words[Ie]=this.words[Ie];Ve.length=Ze}if(Ze!==0)if(this.length>Ze)for(this.length-=Ze,Ie=0;Ie<this.length;Ie++)this.words[Ie]=this.words[Ie+Ze];else this.words[0]=0,this.length=1;var Ye=0;for(Ie=this.length-1;Ie>=0&&(Ye!==0||Ie>=Ue);Ie--){var ir=this.words[Ie]|0;this.words[Ie]=Ye<<26-Ge|ir>>>Ge,Ye=ir&er}return Ve&&Ye!==0&&(Ve.words[Ve.length++]=Ye),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},ke.prototype.ishrn=function(Pe,Fe,ze){return Me(this.negative===0),this.iushrn(Pe,Fe,ze)},ke.prototype.shln=function(Pe){return this.clone().ishln(Pe)},ke.prototype.ushln=function(Pe){return this.clone().iushln(Pe)},ke.prototype.shrn=function(Pe){return this.clone().ishrn(Pe)},ke.prototype.ushrn=function(Pe){return this.clone().iushrn(Pe)},ke.prototype.testn=function(Pe){Me(typeof Pe=="number"&&Pe>=0);var Fe=Pe%26,ze=(Pe-Fe)/26,Ue=1<<Fe;if(this.length<=ze)return!1;var Ge=this.words[ze];return!!(Ge&Ue)},ke.prototype.imaskn=function(Pe){Me(typeof Pe=="number"&&Pe>=0);var Fe=Pe%26,ze=(Pe-Fe)/26;if(Me(this.negative===0,"imaskn works only with positive numbers"),this.length<=ze)return this;if(Fe!==0&&ze++,this.length=Math.min(ze,this.length),Fe!==0){var Ue=67108863^67108863>>>Fe<<Fe;this.words[this.length-1]&=Ue}return this.strip()},ke.prototype.maskn=function(Pe){return this.clone().imaskn(Pe)},ke.prototype.iaddn=function(Pe){return Me(typeof Pe=="number"),Me(Pe<67108864),Pe<0?this.isubn(-Pe):this.negative!==0?this.length===1&&(this.words[0]|0)<Pe?(this.words[0]=Pe-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(Pe),this.negative=1,this):this._iaddn(Pe)},ke.prototype._iaddn=function(Pe){this.words[0]+=Pe;for(var Fe=0;Fe<this.length&&this.words[Fe]>=67108864;Fe++)this.words[Fe]-=67108864,Fe===this.length-1?this.words[Fe+1]=1:this.words[Fe+1]++;return this.length=Math.max(this.length,Fe+1),this},ke.prototype.isubn=function(Pe){if(Me(typeof Pe=="number"),Me(Pe<67108864),Pe<0)return this.iaddn(-Pe);if(this.negative!==0)return this.negative=0,this.iaddn(Pe),this.negative=1,this;if(this.words[0]-=Pe,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var Fe=0;Fe<this.length&&this.words[Fe]<0;Fe++)this.words[Fe]+=67108864,this.words[Fe+1]-=1;return this.strip()},ke.prototype.addn=function(Pe){return this.clone().iaddn(Pe)},ke.prototype.subn=function(Pe){return this.clone().isubn(Pe)},ke.prototype.iabs=function(){return this.negative=0,this},ke.prototype.abs=function(){return this.clone().iabs()},ke.prototype._ishlnsubmul=function(Pe,Fe,ze){var Ue=Pe.length+ze,Ge;this._expand(Ue);var Ze,er=0;for(Ge=0;Ge<Pe.length;Ge++){Ze=(this.words[Ge+ze]|0)+er;var Ve=(Pe.words[Ge]|0)*Fe;Ze-=Ve&67108863,er=(Ze>>26)-(Ve/67108864|0),this.words[Ge+ze]=Ze&67108863}for(;Ge<this.length-ze;Ge++)Ze=(this.words[Ge+ze]|0)+er,er=Ze>>26,this.words[Ge+ze]=Ze&67108863;if(er===0)return this.strip();for(Me(er===-1),er=0,Ge=0;Ge<this.length;Ge++)Ze=-(this.words[Ge]|0)+er,er=Ze>>26,this.words[Ge]=Ze&67108863;return this.negative=1,this.strip()},ke.prototype._wordDiv=function(Pe,Fe){var ze=this.length-Pe.length,Ue=this.clone(),Ge=Pe,Ze=Ge.words[Ge.length-1]|0,er=this._countBits(Ze);ze=26-er,ze!==0&&(Ge=Ge.ushln(ze),Ue.iushln(ze),Ze=Ge.words[Ge.length-1]|0);var Ve=Ue.length-Ge.length,Ie;if(Fe!=="mod"){Ie=new ke(null),Ie.length=Ve+1,Ie.words=new Array(Ie.length);for(var Ye=0;Ye<Ie.length;Ye++)Ie.words[Ye]=0}var ir=Ue.clone()._ishlnsubmul(Ge,1,Ve);ir.negative===0&&(Ue=ir,Ie&&(Ie.words[Ve]=1));for(var lr=Ve-1;lr>=0;lr--){var br=(Ue.words[Ge.length+lr]|0)*67108864+(Ue.words[Ge.length+lr-1]|0);for(br=Math.min(br/Ze|0,67108863),Ue._ishlnsubmul(Ge,br,lr);Ue.negative!==0;)br--,Ue.negative=0,Ue._ishlnsubmul(Ge,1,lr),Ue.isZero()||(Ue.negative^=1);Ie&&(Ie.words[lr]=br)}return Ie&&Ie.strip(),Ue.strip(),Fe!=="div"&&ze!==0&&Ue.iushrn(ze),{div:Ie||null,mod:Ue}},ke.prototype.divmod=function(Pe,Fe,ze){if(Me(!Pe.isZero()),this.isZero())return{div:new ke(0),mod:new ke(0)};var Ue,Ge,Ze;return this.negative!==0&&Pe.negative===0?(Ze=this.neg().divmod(Pe,Fe),Fe!=="mod"&&(Ue=Ze.div.neg()),Fe!=="div"&&(Ge=Ze.mod.neg(),ze&&Ge.negative!==0&&Ge.iadd(Pe)),{div:Ue,mod:Ge}):this.negative===0&&Pe.negative!==0?(Ze=this.divmod(Pe.neg(),Fe),Fe!=="mod"&&(Ue=Ze.div.neg()),{div:Ue,mod:Ze.mod}):this.negative&Pe.negative?(Ze=this.neg().divmod(Pe.neg(),Fe),Fe!=="div"&&(Ge=Ze.mod.neg(),ze&&Ge.negative!==0&&Ge.isub(Pe)),{div:Ze.div,mod:Ge}):Pe.length>this.length||this.cmp(Pe)<0?{div:new ke(0),mod:this}:Pe.length===1?Fe==="div"?{div:this.divn(Pe.words[0]),mod:null}:Fe==="mod"?{div:null,mod:new ke(this.modn(Pe.words[0]))}:{div:this.divn(Pe.words[0]),mod:new ke(this.modn(Pe.words[0]))}:this._wordDiv(Pe,Fe)},ke.prototype.div=function(Pe){return this.divmod(Pe,"div",!1).div},ke.prototype.mod=function(Pe){return this.divmod(Pe,"mod",!1).mod},ke.prototype.umod=function(Pe){return this.divmod(Pe,"mod",!0).mod},ke.prototype.divRound=function(Pe){var Fe=this.divmod(Pe);if(Fe.mod.isZero())return Fe.div;var ze=Fe.div.negative!==0?Fe.mod.isub(Pe):Fe.mod,Ue=Pe.ushrn(1),Ge=Pe.andln(1),Ze=ze.cmp(Ue);return Ze<0||Ge===1&&Ze===0?Fe.div:Fe.div.negative!==0?Fe.div.isubn(1):Fe.div.iaddn(1)},ke.prototype.modn=function(Pe){Me(Pe<=67108863);for(var Fe=(1<<26)%Pe,ze=0,Ue=this.length-1;Ue>=0;Ue--)ze=(Fe*ze+(this.words[Ue]|0))%Pe;return ze},ke.prototype.idivn=function(Pe){Me(Pe<=67108863);for(var Fe=0,ze=this.length-1;ze>=0;ze--){var Ue=(this.words[ze]|0)+Fe*67108864;this.words[ze]=Ue/Pe|0,Fe=Ue%Pe}return this.strip()},ke.prototype.divn=function(Pe){return this.clone().idivn(Pe)},ke.prototype.egcd=function(Pe){Me(Pe.negative===0),Me(!Pe.isZero());var Fe=this,ze=Pe.clone();Fe.negative!==0?Fe=Fe.umod(Pe):Fe=Fe.clone();for(var Ue=new ke(1),Ge=new ke(0),Ze=new ke(0),er=new ke(1),Ve=0;Fe.isEven()&&ze.isEven();)Fe.iushrn(1),ze.iushrn(1),++Ve;for(var Ie=ze.clone(),Ye=Fe.clone();!Fe.isZero();){for(var ir=0,lr=1;!(Fe.words[0]&lr)&&ir<26;++ir,lr<<=1);if(ir>0)for(Fe.iushrn(ir);ir-- >0;)(Ue.isOdd()||Ge.isOdd())&&(Ue.iadd(Ie),Ge.isub(Ye)),Ue.iushrn(1),Ge.iushrn(1);for(var br=0,_r=1;!(ze.words[0]&_r)&&br<26;++br,_r<<=1);if(br>0)for(ze.iushrn(br);br-- >0;)(Ze.isOdd()||er.isOdd())&&(Ze.iadd(Ie),er.isub(Ye)),Ze.iushrn(1),er.iushrn(1);Fe.cmp(ze)>=0?(Fe.isub(ze),Ue.isub(Ze),Ge.isub(er)):(ze.isub(Fe),Ze.isub(Ue),er.isub(Ge))}return{a:Ze,b:er,gcd:ze.iushln(Ve)}},ke.prototype._invmp=function(Pe){Me(Pe.negative===0),Me(!Pe.isZero());var Fe=this,ze=Pe.clone();Fe.negative!==0?Fe=Fe.umod(Pe):Fe=Fe.clone();for(var Ue=new ke(1),Ge=new ke(0),Ze=ze.clone();Fe.cmpn(1)>0&&ze.cmpn(1)>0;){for(var er=0,Ve=1;!(Fe.words[0]&Ve)&&er<26;++er,Ve<<=1);if(er>0)for(Fe.iushrn(er);er-- >0;)Ue.isOdd()&&Ue.iadd(Ze),Ue.iushrn(1);for(var Ie=0,Ye=1;!(ze.words[0]&Ye)&&Ie<26;++Ie,Ye<<=1);if(Ie>0)for(ze.iushrn(Ie);Ie-- >0;)Ge.isOdd()&&Ge.iadd(Ze),Ge.iushrn(1);Fe.cmp(ze)>=0?(Fe.isub(ze),Ue.isub(Ge)):(ze.isub(Fe),Ge.isub(Ue))}var ir;return Fe.cmpn(1)===0?ir=Ue:ir=Ge,ir.cmpn(0)<0&&ir.iadd(Pe),ir},ke.prototype.gcd=function(Pe){if(this.isZero())return Pe.abs();if(Pe.isZero())return this.abs();var Fe=this.clone(),ze=Pe.clone();Fe.negative=0,ze.negative=0;for(var Ue=0;Fe.isEven()&&ze.isEven();Ue++)Fe.iushrn(1),ze.iushrn(1);do{for(;Fe.isEven();)Fe.iushrn(1);for(;ze.isEven();)ze.iushrn(1);var Ge=Fe.cmp(ze);if(Ge<0){var Ze=Fe;Fe=ze,ze=Ze}else if(Ge===0||ze.cmpn(1)===0)break;Fe.isub(ze)}while(!0);return ze.iushln(Ue)},ke.prototype.invm=function(Pe){return this.egcd(Pe).a.umod(Pe)},ke.prototype.isEven=function(){return(this.words[0]&1)===0},ke.prototype.isOdd=function(){return(this.words[0]&1)===1},ke.prototype.andln=function(Pe){return this.words[0]&Pe},ke.prototype.bincn=function(Pe){Me(typeof Pe=="number");var Fe=Pe%26,ze=(Pe-Fe)/26,Ue=1<<Fe;if(this.length<=ze)return this._expand(ze+1),this.words[ze]|=Ue,this;for(var Ge=Ue,Ze=ze;Ge!==0&&Ze<this.length;Ze++){var er=this.words[Ze]|0;er+=Ge,Ge=er>>>26,er&=67108863,this.words[Ze]=er}return Ge!==0&&(this.words[Ze]=Ge,this.length++),this},ke.prototype.isZero=function(){return this.length===1&&this.words[0]===0},ke.prototype.cmpn=function(Pe){var Fe=Pe<0;if(this.negative!==0&&!Fe)return-1;if(this.negative===0&&Fe)return 1;this.strip();var ze;if(this.length>1)ze=1;else{Fe&&(Pe=-Pe),Me(Pe<=67108863,"Number is too big");var Ue=this.words[0]|0;ze=Ue===Pe?0:Ue<Pe?-1:1}return this.negative!==0?-ze|0:ze},ke.prototype.cmp=function(Pe){if(this.negative!==0&&Pe.negative===0)return-1;if(this.negative===0&&Pe.negative!==0)return 1;var Fe=this.ucmp(Pe);return this.negative!==0?-Fe|0:Fe},ke.prototype.ucmp=function(Pe){if(this.length>Pe.length)return 1;if(this.length<Pe.length)return-1;for(var Fe=0,ze=this.length-1;ze>=0;ze--){var Ue=this.words[ze]|0,Ge=Pe.words[ze]|0;if(Ue!==Ge){Ue<Ge?Fe=-1:Ue>Ge&&(Fe=1);break}}return Fe},ke.prototype.gtn=function(Pe){return this.cmpn(Pe)===1},ke.prototype.gt=function(Pe){return this.cmp(Pe)===1},ke.prototype.gten=function(Pe){return this.cmpn(Pe)>=0},ke.prototype.gte=function(Pe){return this.cmp(Pe)>=0},ke.prototype.ltn=function(Pe){return this.cmpn(Pe)===-1},ke.prototype.lt=function(Pe){return this.cmp(Pe)===-1},ke.prototype.lten=function(Pe){return this.cmpn(Pe)<=0},ke.prototype.lte=function(Pe){return this.cmp(Pe)<=0},ke.prototype.eqn=function(Pe){return this.cmpn(Pe)===0},ke.prototype.eq=function(Pe){return this.cmp(Pe)===0},ke.red=function(Pe){return new xr(Pe)},ke.prototype.toRed=function(Pe){return Me(!this.red,"Already a number in reduction context"),Me(this.negative===0,"red works only with positives"),Pe.convertTo(this)._forceRed(Pe)},ke.prototype.fromRed=function(){return Me(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},ke.prototype._forceRed=function(Pe){return this.red=Pe,this},ke.prototype.forceRed=function(Pe){return Me(!this.red,"Already a number in reduction context"),this._forceRed(Pe)},ke.prototype.redAdd=function(Pe){return Me(this.red,"redAdd works only with red numbers"),this.red.add(this,Pe)},ke.prototype.redIAdd=function(Pe){return Me(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,Pe)},ke.prototype.redSub=function(Pe){return Me(this.red,"redSub works only with red numbers"),this.red.sub(this,Pe)},ke.prototype.redISub=function(Pe){return Me(this.red,"redISub works only with red numbers"),this.red.isub(this,Pe)},ke.prototype.redShl=function(Pe){return Me(this.red,"redShl works only with red numbers"),this.red.shl(this,Pe)},ke.prototype.redMul=function(Pe){return Me(this.red,"redMul works only with red numbers"),this.red._verify2(this,Pe),this.red.mul(this,Pe)},ke.prototype.redIMul=function(Pe){return Me(this.red,"redMul works only with red numbers"),this.red._verify2(this,Pe),this.red.imul(this,Pe)},ke.prototype.redSqr=function(){return Me(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},ke.prototype.redISqr=function(){return Me(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},ke.prototype.redSqrt=function(){return Me(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},ke.prototype.redInvm=function(){return Me(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},ke.prototype.redNeg=function(){return Me(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},ke.prototype.redPow=function(Pe){return Me(this.red&&!Pe.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,Pe)};var pr={k256:null,p224:null,p192:null,p25519:null};function ur(Xe,Pe){this.name=Xe,this.p=new ke(Pe,16),this.n=this.p.bitLength(),this.k=new ke(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}ur.prototype._tmp=function(){var Pe=new ke(null);return Pe.words=new Array(Math.ceil(this.n/13)),Pe},ur.prototype.ireduce=function(Pe){var Fe=Pe,ze;do this.split(Fe,this.tmp),Fe=this.imulK(Fe),Fe=Fe.iadd(this.tmp),ze=Fe.bitLength();while(ze>this.n);var Ue=ze<this.n?-1:Fe.ucmp(this.p);return Ue===0?(Fe.words[0]=0,Fe.length=1):Ue>0?Fe.isub(this.p):Fe.strip!==void 0?Fe.strip():Fe._strip(),Fe},ur.prototype.split=function(Pe,Fe){Pe.iushrn(this.n,0,Fe)},ur.prototype.imulK=function(Pe){return Pe.imul(this.k)};function gr(){ur.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}$e(gr,ur),gr.prototype.split=function(Pe,Fe){for(var ze=4194303,Ue=Math.min(Pe.length,9),Ge=0;Ge<Ue;Ge++)Fe.words[Ge]=Pe.words[Ge];if(Fe.length=Ue,Pe.length<=9){Pe.words[0]=0,Pe.length=1;return}var Ze=Pe.words[9];for(Fe.words[Fe.length++]=Ze&ze,Ge=10;Ge<Pe.length;Ge++){var er=Pe.words[Ge]|0;Pe.words[Ge-10]=(er&ze)<<4|Ze>>>22,Ze=er}Ze>>>=22,Pe.words[Ge-10]=Ze,Ze===0&&Pe.length>10?Pe.length-=10:Pe.length-=9},gr.prototype.imulK=function(Pe){Pe.words[Pe.length]=0,Pe.words[Pe.length+1]=0,Pe.length+=2;for(var Fe=0,ze=0;ze<Pe.length;ze++){var Ue=Pe.words[ze]|0;Fe+=Ue*977,Pe.words[ze]=Fe&67108863,Fe=Ue*64+(Fe/67108864|0)}return Pe.words[Pe.length-1]===0&&(Pe.length--,Pe.words[Pe.length-1]===0&&Pe.length--),Pe};function jr(){ur.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}$e(jr,ur);function vr(){ur.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}$e(vr,ur);function dr(){ur.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}$e(dr,ur),dr.prototype.imulK=function(Pe){for(var Fe=0,ze=0;ze<Pe.length;ze++){var Ue=(Pe.words[ze]|0)*19+Fe,Ge=Ue&67108863;Ue>>>=26,Pe.words[ze]=Ge,Fe=Ue}return Fe!==0&&(Pe.words[Pe.length++]=Fe),Pe},ke._prime=function(Pe){if(pr[Pe])return pr[Pe];var Fe;if(Pe==="k256")Fe=new gr;else if(Pe==="p224")Fe=new jr;else if(Pe==="p192")Fe=new vr;else if(Pe==="p25519")Fe=new dr;else throw new Error("Unknown prime "+Pe);return pr[Pe]=Fe,Fe};function xr(Xe){if(typeof Xe=="string"){var Pe=ke._prime(Xe);this.m=Pe.p,this.prime=Pe}else Me(Xe.gtn(1),"modulus must be greater than 1"),this.m=Xe,this.prime=null}xr.prototype._verify1=function(Pe){Me(Pe.negative===0,"red works only with positives"),Me(Pe.red,"red works only with red numbers")},xr.prototype._verify2=function(Pe,Fe){Me((Pe.negative|Fe.negative)===0,"red works only with positives"),Me(Pe.red&&Pe.red===Fe.red,"red works only with red numbers")},xr.prototype.imod=function(Pe){return this.prime?this.prime.ireduce(Pe)._forceRed(this):Pe.umod(this.m)._forceRed(this)},xr.prototype.neg=function(Pe){return Pe.isZero()?Pe.clone():this.m.sub(Pe)._forceRed(this)},xr.prototype.add=function(Pe,Fe){this._verify2(Pe,Fe);var ze=Pe.add(Fe);return ze.cmp(this.m)>=0&&ze.isub(this.m),ze._forceRed(this)},xr.prototype.iadd=function(Pe,Fe){this._verify2(Pe,Fe);var ze=Pe.iadd(Fe);return ze.cmp(this.m)>=0&&ze.isub(this.m),ze},xr.prototype.sub=function(Pe,Fe){this._verify2(Pe,Fe);var ze=Pe.sub(Fe);return ze.cmpn(0)<0&&ze.iadd(this.m),ze._forceRed(this)},xr.prototype.isub=function(Pe,Fe){this._verify2(Pe,Fe);var ze=Pe.isub(Fe);return ze.cmpn(0)<0&&ze.iadd(this.m),ze},xr.prototype.shl=function(Pe,Fe){return this._verify1(Pe),this.imod(Pe.ushln(Fe))},xr.prototype.imul=function(Pe,Fe){return this._verify2(Pe,Fe),this.imod(Pe.imul(Fe))},xr.prototype.mul=function(Pe,Fe){return this._verify2(Pe,Fe),this.imod(Pe.mul(Fe))},xr.prototype.isqr=function(Pe){return this.imul(Pe,Pe.clone())},xr.prototype.sqr=function(Pe){return this.mul(Pe,Pe)},xr.prototype.sqrt=function(Pe){if(Pe.isZero())return Pe.clone();var Fe=this.m.andln(3);if(Me(Fe%2===1),Fe===3){var ze=this.m.add(new ke(1)).iushrn(2);return this.pow(Pe,ze)}for(var Ue=this.m.subn(1),Ge=0;!Ue.isZero()&&Ue.andln(1)===0;)Ge++,Ue.iushrn(1);Me(!Ue.isZero());var Ze=new ke(1).toRed(this),er=Ze.redNeg(),Ve=this.m.subn(1).iushrn(1),Ie=this.m.bitLength();for(Ie=new ke(2*Ie*Ie).toRed(this);this.pow(Ie,Ve).cmp(er)!==0;)Ie.redIAdd(er);for(var Ye=this.pow(Ie,Ue),ir=this.pow(Pe,Ue.addn(1).iushrn(1)),lr=this.pow(Pe,Ue),br=Ge;lr.cmp(Ze)!==0;){for(var _r=lr,Sr=0;_r.cmp(Ze)!==0;Sr++)_r=_r.redSqr();Me(Sr<br);var wr=this.pow(Ye,new ke(1).iushln(br-Sr-1));ir=ir.redMul(wr),Ye=wr.redSqr(),lr=lr.redMul(Ye),br=Sr}return ir},xr.prototype.invm=function(Pe){var Fe=Pe._invmp(this.m);return Fe.negative!==0?(Fe.negative=0,this.imod(Fe).redNeg()):this.imod(Fe)},xr.prototype.pow=function(Pe,Fe){if(Fe.isZero())return new ke(1).toRed(this);if(Fe.cmpn(1)===0)return Pe.clone();var ze=4,Ue=new Array(1<<ze);Ue[0]=new ke(1).toRed(this),Ue[1]=Pe;for(var Ge=2;Ge<Ue.length;Ge++)Ue[Ge]=this.mul(Ue[Ge-1],Pe);var Ze=Ue[0],er=0,Ve=0,Ie=Fe.bitLength()%26;for(Ie===0&&(Ie=26),Ge=Fe.length-1;Ge>=0;Ge--){for(var Ye=Fe.words[Ge],ir=Ie-1;ir>=0;ir--){var lr=Ye>>ir&1;if(Ze!==Ue[0]&&(Ze=this.sqr(Ze)),lr===0&&er===0){Ve=0;continue}er<<=1,er|=lr,Ve++,!(Ve!==ze&&(Ge!==0||ir!==0))&&(Ze=this.mul(Ze,Ue[er]),Ve=0,er=0)}Ie=26}return Ze},xr.prototype.convertTo=function(Pe){var Fe=Pe.umod(this.m);return Fe===Pe?Fe.clone():Fe},xr.prototype.convertFrom=function(Pe){var Fe=Pe.clone();return Fe.red=null,Fe},ke.mont=function(Pe){return new Rr(Pe)};function Rr(Xe){xr.call(this,Xe),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new ke(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}$e(Rr,xr),Rr.prototype.convertTo=function(Pe){return this.imod(Pe.ushln(this.shift))},Rr.prototype.convertFrom=function(Pe){var Fe=this.imod(Pe.mul(this.rinv));return Fe.red=null,Fe},Rr.prototype.imul=function(Pe,Fe){if(Pe.isZero()||Fe.isZero())return Pe.words[0]=0,Pe.length=1,Pe;var ze=Pe.imul(Fe),Ue=ze.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Ge=ze.isub(Ue).iushrn(this.shift),Ze=Ge;return Ge.cmp(this.m)>=0?Ze=Ge.isub(this.m):Ge.cmpn(0)<0&&(Ze=Ge.iadd(this.m)),Ze._forceRed(this)},Rr.prototype.mul=function(Pe,Fe){if(Pe.isZero()||Fe.isZero())return new ke(0)._forceRed(this);var ze=Pe.mul(Fe),Ue=ze.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Ge=ze.isub(Ue).iushrn(this.shift),Ze=Ge;return Ge.cmp(this.m)>=0?Ze=Ge.isub(this.m):Ge.cmpn(0)<0&&(Ze=Ge.iadd(this.m)),Ze._forceRed(this)},Rr.prototype.invm=function(Pe){var Fe=this.imod(Pe._invmp(this.m).mul(this.r2));return Fe._forceRed(this)}})(Re,commonjsGlobal)})(bn$1);var bnExports$1=bn$1.exports,browser$5,hasRequiredBrowser;function requireBrowser(){if(hasRequiredBrowser)return browser$5;hasRequiredBrowser=1;var Re=requireElliptic(),je=bnExports$1;browser$5=function(Ce){return new Me(Ce)};var _e={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};_e.p224=_e.secp224r1,_e.p256=_e.secp256r1=_e.prime256v1,_e.p192=_e.secp192r1=_e.prime192v1,_e.p384=_e.secp384r1,_e.p521=_e.secp521r1;function Me(ke){this.curveType=_e[ke],this.curveType||(this.curveType={name:ke}),this.curve=new Re.ec(this.curveType.name),this.keys=void 0}Me.prototype.generateKeys=function(ke,Ce){return this.keys=this.curve.genKeyPair(),this.getPublicKey(ke,Ce)},Me.prototype.computeSecret=function(ke,Ce,Be){Ce=Ce||"utf8",Buffer$B.isBuffer(ke)||(ke=new Buffer$B(ke,Ce));var qe=this.curve.keyFromPublic(ke).getPublic(),He=qe.mul(this.keys.getPrivate()).getX();return $e(He,Be,this.curveType.byteLength)},Me.prototype.getPublicKey=function(ke,Ce){var Be=this.keys.getPublic(Ce==="compressed",!0);return Ce==="hybrid"&&(Be[Be.length-1]%2?Be[0]=7:Be[0]=6),$e(Be,ke)},Me.prototype.getPrivateKey=function(ke){return $e(this.keys.getPrivate(),ke)},Me.prototype.setPublicKey=function(ke,Ce){return Ce=Ce||"utf8",Buffer$B.isBuffer(ke)||(ke=new Buffer$B(ke,Ce)),this.keys._importPublic(ke),this},Me.prototype.setPrivateKey=function(ke,Ce){Ce=Ce||"utf8",Buffer$B.isBuffer(ke)||(ke=new Buffer$B(ke,Ce));var Be=new je(ke);return Be=Be.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(Be),this};function $e(ke,Ce,Be){Array.isArray(ke)||(ke=ke.toArray());var qe=new Buffer$B(ke);if(Be&&qe.length<Be){var He=new Buffer$B(Be-qe.length);He.fill(0),qe=Buffer$B.concat([He,qe])}return Ce?qe.toString(Ce):qe}return browser$5}var browser$4={},createHash$2=browser$c,Buffer$4=safeBufferExports$1.Buffer,mgf$2=function(Re,je){for(var _e=Buffer$4.alloc(0),Me=0,$e;_e.length<je;)$e=i2ops(Me++),_e=Buffer$4.concat([_e,createHash$2("sha1").update(Re).update($e).digest()]);return _e.slice(0,je)};function i2ops(Re){var je=Buffer$4.allocUnsafe(4);return je.writeUInt32BE(Re,0),je}var xor$2=function Re(je,_e){for(var Me=je.length,$e=-1;++$e<Me;)je[$e]^=_e[$e];return je},bn={exports:{}};bn.exports;(function(Re){(function(je,_e){function Me(Xe,Pe){if(!Xe)throw new Error(Pe||"Assertion failed")}function $e(Xe,Pe){Xe.super_=Pe;var Fe=function(){};Fe.prototype=Pe.prototype,Xe.prototype=new Fe,Xe.prototype.constructor=Xe}function ke(Xe,Pe,Fe){if(ke.isBN(Xe))return Xe;this.negative=0,this.words=null,this.length=0,this.red=null,Xe!==null&&((Pe==="le"||Pe==="be")&&(Fe=Pe,Pe=10),this._init(Xe||0,Pe||10,Fe||"be"))}typeof je=="object"?je.exports=ke:_e.BN=ke,ke.BN=ke,ke.wordSize=26;var Ce;try{typeof window<"u"&&typeof window.Buffer<"u"?Ce=window.Buffer:Ce=require$$0$3.Buffer}catch{}ke.isBN=function(Pe){return Pe instanceof ke?!0:Pe!==null&&typeof Pe=="object"&&Pe.constructor.wordSize===ke.wordSize&&Array.isArray(Pe.words)},ke.max=function(Pe,Fe){return Pe.cmp(Fe)>0?Pe:Fe},ke.min=function(Pe,Fe){return Pe.cmp(Fe)<0?Pe:Fe},ke.prototype._init=function(Pe,Fe,ze){if(typeof Pe=="number")return this._initNumber(Pe,Fe,ze);if(typeof Pe=="object")return this._initArray(Pe,Fe,ze);Fe==="hex"&&(Fe=16),Me(Fe===(Fe|0)&&Fe>=2&&Fe<=36),Pe=Pe.toString().replace(/\s+/g,"");var Ue=0;Pe[0]==="-"&&(Ue++,this.negative=1),Ue<Pe.length&&(Fe===16?this._parseHex(Pe,Ue,ze):(this._parseBase(Pe,Fe,Ue),ze==="le"&&this._initArray(this.toArray(),Fe,ze)))},ke.prototype._initNumber=function(Pe,Fe,ze){Pe<0&&(this.negative=1,Pe=-Pe),Pe<67108864?(this.words=[Pe&67108863],this.length=1):Pe<4503599627370496?(this.words=[Pe&67108863,Pe/67108864&67108863],this.length=2):(Me(Pe<9007199254740992),this.words=[Pe&67108863,Pe/67108864&67108863,1],this.length=3),ze==="le"&&this._initArray(this.toArray(),Fe,ze)},ke.prototype._initArray=function(Pe,Fe,ze){if(Me(typeof Pe.length=="number"),Pe.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(Pe.length/3),this.words=new Array(this.length);for(var Ue=0;Ue<this.length;Ue++)this.words[Ue]=0;var Ge,Ze,er=0;if(ze==="be")for(Ue=Pe.length-1,Ge=0;Ue>=0;Ue-=3)Ze=Pe[Ue]|Pe[Ue-1]<<8|Pe[Ue-2]<<16,this.words[Ge]|=Ze<<er&67108863,this.words[Ge+1]=Ze>>>26-er&67108863,er+=24,er>=26&&(er-=26,Ge++);else if(ze==="le")for(Ue=0,Ge=0;Ue<Pe.length;Ue+=3)Ze=Pe[Ue]|Pe[Ue+1]<<8|Pe[Ue+2]<<16,this.words[Ge]|=Ze<<er&67108863,this.words[Ge+1]=Ze>>>26-er&67108863,er+=24,er>=26&&(er-=26,Ge++);return this.strip()};function Be(Xe,Pe){var Fe=Xe.charCodeAt(Pe);return Fe>=65&&Fe<=70?Fe-55:Fe>=97&&Fe<=102?Fe-87:Fe-48&15}function qe(Xe,Pe,Fe){var ze=Be(Xe,Fe);return Fe-1>=Pe&&(ze|=Be(Xe,Fe-1)<<4),ze}ke.prototype._parseHex=function(Pe,Fe,ze){this.length=Math.ceil((Pe.length-Fe)/6),this.words=new Array(this.length);for(var Ue=0;Ue<this.length;Ue++)this.words[Ue]=0;var Ge=0,Ze=0,er;if(ze==="be")for(Ue=Pe.length-1;Ue>=Fe;Ue-=2)er=qe(Pe,Fe,Ue)<<Ge,this.words[Ze]|=er&67108863,Ge>=18?(Ge-=18,Ze+=1,this.words[Ze]|=er>>>26):Ge+=8;else{var Ve=Pe.length-Fe;for(Ue=Ve%2===0?Fe+1:Fe;Ue<Pe.length;Ue+=2)er=qe(Pe,Fe,Ue)<<Ge,this.words[Ze]|=er&67108863,Ge>=18?(Ge-=18,Ze+=1,this.words[Ze]|=er>>>26):Ge+=8}this.strip()};function He(Xe,Pe,Fe,ze){for(var Ue=0,Ge=Math.min(Xe.length,Fe),Ze=Pe;Ze<Ge;Ze++){var er=Xe.charCodeAt(Ze)-48;Ue*=ze,er>=49?Ue+=er-49+10:er>=17?Ue+=er-17+10:Ue+=er}return Ue}ke.prototype._parseBase=function(Pe,Fe,ze){this.words=[0],this.length=1;for(var Ue=0,Ge=1;Ge<=67108863;Ge*=Fe)Ue++;Ue--,Ge=Ge/Fe|0;for(var Ze=Pe.length-ze,er=Ze%Ue,Ve=Math.min(Ze,Ze-er)+ze,Ie=0,Ye=ze;Ye<Ve;Ye+=Ue)Ie=He(Pe,Ye,Ye+Ue,Fe),this.imuln(Ge),this.words[0]+Ie<67108864?this.words[0]+=Ie:this._iaddn(Ie);if(er!==0){var ir=1;for(Ie=He(Pe,Ye,Pe.length,Fe),Ye=0;Ye<er;Ye++)ir*=Fe;this.imuln(ir),this.words[0]+Ie<67108864?this.words[0]+=Ie:this._iaddn(Ie)}this.strip()},ke.prototype.copy=function(Pe){Pe.words=new Array(this.length);for(var Fe=0;Fe<this.length;Fe++)Pe.words[Fe]=this.words[Fe];Pe.length=this.length,Pe.negative=this.negative,Pe.red=this.red},ke.prototype.clone=function(){var Pe=new ke(null);return this.copy(Pe),Pe},ke.prototype._expand=function(Pe){for(;this.length<Pe;)this.words[this.length++]=0;return this},ke.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},ke.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},ke.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var We=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Ke=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Je=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];ke.prototype.toString=function(Pe,Fe){Pe=Pe||10,Fe=Fe|0||1;var ze;if(Pe===16||Pe==="hex"){ze="";for(var Ue=0,Ge=0,Ze=0;Ze<this.length;Ze++){var er=this.words[Ze],Ve=((er<<Ue|Ge)&16777215).toString(16);Ge=er>>>24-Ue&16777215,Ue+=2,Ue>=26&&(Ue-=26,Ze--),Ge!==0||Ze!==this.length-1?ze=We[6-Ve.length]+Ve+ze:ze=Ve+ze}for(Ge!==0&&(ze=Ge.toString(16)+ze);ze.length%Fe!==0;)ze="0"+ze;return this.negative!==0&&(ze="-"+ze),ze}if(Pe===(Pe|0)&&Pe>=2&&Pe<=36){var Ie=Ke[Pe],Ye=Je[Pe];ze="";var ir=this.clone();for(ir.negative=0;!ir.isZero();){var lr=ir.modn(Ye).toString(Pe);ir=ir.idivn(Ye),ir.isZero()?ze=lr+ze:ze=We[Ie-lr.length]+lr+ze}for(this.isZero()&&(ze="0"+ze);ze.length%Fe!==0;)ze="0"+ze;return this.negative!==0&&(ze="-"+ze),ze}Me(!1,"Base should be between 2 and 36")},ke.prototype.toNumber=function(){var Pe=this.words[0];return this.length===2?Pe+=this.words[1]*67108864:this.length===3&&this.words[2]===1?Pe+=4503599627370496+this.words[1]*67108864:this.length>2&&Me(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-Pe:Pe},ke.prototype.toJSON=function(){return this.toString(16)},ke.prototype.toBuffer=function(Pe,Fe){return Me(typeof Ce<"u"),this.toArrayLike(Ce,Pe,Fe)},ke.prototype.toArray=function(Pe,Fe){return this.toArrayLike(Array,Pe,Fe)},ke.prototype.toArrayLike=function(Pe,Fe,ze){var Ue=this.byteLength(),Ge=ze||Math.max(1,Ue);Me(Ue<=Ge,"byte array longer than desired length"),Me(Ge>0,"Requested array length <= 0"),this.strip();var Ze=Fe==="le",er=new Pe(Ge),Ve,Ie,Ye=this.clone();if(Ze){for(Ie=0;!Ye.isZero();Ie++)Ve=Ye.andln(255),Ye.iushrn(8),er[Ie]=Ve;for(;Ie<Ge;Ie++)er[Ie]=0}else{for(Ie=0;Ie<Ge-Ue;Ie++)er[Ie]=0;for(Ie=0;!Ye.isZero();Ie++)Ve=Ye.andln(255),Ye.iushrn(8),er[Ge-Ie-1]=Ve}return er},Math.clz32?ke.prototype._countBits=function(Pe){return 32-Math.clz32(Pe)}:ke.prototype._countBits=function(Pe){var Fe=Pe,ze=0;return Fe>=4096&&(ze+=13,Fe>>>=13),Fe>=64&&(ze+=7,Fe>>>=7),Fe>=8&&(ze+=4,Fe>>>=4),Fe>=2&&(ze+=2,Fe>>>=2),ze+Fe},ke.prototype._zeroBits=function(Pe){if(Pe===0)return 26;var Fe=Pe,ze=0;return Fe&8191||(ze+=13,Fe>>>=13),Fe&127||(ze+=7,Fe>>>=7),Fe&15||(ze+=4,Fe>>>=4),Fe&3||(ze+=2,Fe>>>=2),Fe&1||ze++,ze},ke.prototype.bitLength=function(){var Pe=this.words[this.length-1],Fe=this._countBits(Pe);return(this.length-1)*26+Fe};function Qe(Xe){for(var Pe=new Array(Xe.bitLength()),Fe=0;Fe<Pe.length;Fe++){var ze=Fe/26|0,Ue=Fe%26;Pe[Fe]=(Xe.words[ze]&1<<Ue)>>>Ue}return Pe}ke.prototype.zeroBits=function(){if(this.isZero())return 0;for(var Pe=0,Fe=0;Fe<this.length;Fe++){var ze=this._zeroBits(this.words[Fe]);if(Pe+=ze,ze!==26)break}return Pe},ke.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},ke.prototype.toTwos=function(Pe){return this.negative!==0?this.abs().inotn(Pe).iaddn(1):this.clone()},ke.prototype.fromTwos=function(Pe){return this.testn(Pe-1)?this.notn(Pe).iaddn(1).ineg():this.clone()},ke.prototype.isNeg=function(){return this.negative!==0},ke.prototype.neg=function(){return this.clone().ineg()},ke.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},ke.prototype.iuor=function(Pe){for(;this.length<Pe.length;)this.words[this.length++]=0;for(var Fe=0;Fe<Pe.length;Fe++)this.words[Fe]=this.words[Fe]|Pe.words[Fe];return this.strip()},ke.prototype.ior=function(Pe){return Me((this.negative|Pe.negative)===0),this.iuor(Pe)},ke.prototype.or=function(Pe){return this.length>Pe.length?this.clone().ior(Pe):Pe.clone().ior(this)},ke.prototype.uor=function(Pe){return this.length>Pe.length?this.clone().iuor(Pe):Pe.clone().iuor(this)},ke.prototype.iuand=function(Pe){var Fe;this.length>Pe.length?Fe=Pe:Fe=this;for(var ze=0;ze<Fe.length;ze++)this.words[ze]=this.words[ze]&Pe.words[ze];return this.length=Fe.length,this.strip()},ke.prototype.iand=function(Pe){return Me((this.negative|Pe.negative)===0),this.iuand(Pe)},ke.prototype.and=function(Pe){return this.length>Pe.length?this.clone().iand(Pe):Pe.clone().iand(this)},ke.prototype.uand=function(Pe){return this.length>Pe.length?this.clone().iuand(Pe):Pe.clone().iuand(this)},ke.prototype.iuxor=function(Pe){var Fe,ze;this.length>Pe.length?(Fe=this,ze=Pe):(Fe=Pe,ze=this);for(var Ue=0;Ue<ze.length;Ue++)this.words[Ue]=Fe.words[Ue]^ze.words[Ue];if(this!==Fe)for(;Ue<Fe.length;Ue++)this.words[Ue]=Fe.words[Ue];return this.length=Fe.length,this.strip()},ke.prototype.ixor=function(Pe){return Me((this.negative|Pe.negative)===0),this.iuxor(Pe)},ke.prototype.xor=function(Pe){return this.length>Pe.length?this.clone().ixor(Pe):Pe.clone().ixor(this)},ke.prototype.uxor=function(Pe){return this.length>Pe.length?this.clone().iuxor(Pe):Pe.clone().iuxor(this)},ke.prototype.inotn=function(Pe){Me(typeof Pe=="number"&&Pe>=0);var Fe=Math.ceil(Pe/26)|0,ze=Pe%26;this._expand(Fe),ze>0&&Fe--;for(var Ue=0;Ue<Fe;Ue++)this.words[Ue]=~this.words[Ue]&67108863;return ze>0&&(this.words[Ue]=~this.words[Ue]&67108863>>26-ze),this.strip()},ke.prototype.notn=function(Pe){return this.clone().inotn(Pe)},ke.prototype.setn=function(Pe,Fe){Me(typeof Pe=="number"&&Pe>=0);var ze=Pe/26|0,Ue=Pe%26;return this._expand(ze+1),Fe?this.words[ze]=this.words[ze]|1<<Ue:this.words[ze]=this.words[ze]&~(1<<Ue),this.strip()},ke.prototype.iadd=function(Pe){var Fe;if(this.negative!==0&&Pe.negative===0)return this.negative=0,Fe=this.isub(Pe),this.negative^=1,this._normSign();if(this.negative===0&&Pe.negative!==0)return Pe.negative=0,Fe=this.isub(Pe),Pe.negative=1,Fe._normSign();var ze,Ue;this.length>Pe.length?(ze=this,Ue=Pe):(ze=Pe,Ue=this);for(var Ge=0,Ze=0;Ze<Ue.length;Ze++)Fe=(ze.words[Ze]|0)+(Ue.words[Ze]|0)+Ge,this.words[Ze]=Fe&67108863,Ge=Fe>>>26;for(;Ge!==0&&Ze<ze.length;Ze++)Fe=(ze.words[Ze]|0)+Ge,this.words[Ze]=Fe&67108863,Ge=Fe>>>26;if(this.length=ze.length,Ge!==0)this.words[this.length]=Ge,this.length++;else if(ze!==this)for(;Ze<ze.length;Ze++)this.words[Ze]=ze.words[Ze];return this},ke.prototype.add=function(Pe){var Fe;return Pe.negative!==0&&this.negative===0?(Pe.negative=0,Fe=this.sub(Pe),Pe.negative^=1,Fe):Pe.negative===0&&this.negative!==0?(this.negative=0,Fe=Pe.sub(this),this.negative=1,Fe):this.length>Pe.length?this.clone().iadd(Pe):Pe.clone().iadd(this)},ke.prototype.isub=function(Pe){if(Pe.negative!==0){Pe.negative=0;var Fe=this.iadd(Pe);return Pe.negative=1,Fe._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(Pe),this.negative=1,this._normSign();var ze=this.cmp(Pe);if(ze===0)return this.negative=0,this.length=1,this.words[0]=0,this;var Ue,Ge;ze>0?(Ue=this,Ge=Pe):(Ue=Pe,Ge=this);for(var Ze=0,er=0;er<Ge.length;er++)Fe=(Ue.words[er]|0)-(Ge.words[er]|0)+Ze,Ze=Fe>>26,this.words[er]=Fe&67108863;for(;Ze!==0&&er<Ue.length;er++)Fe=(Ue.words[er]|0)+Ze,Ze=Fe>>26,this.words[er]=Fe&67108863;if(Ze===0&&er<Ue.length&&Ue!==this)for(;er<Ue.length;er++)this.words[er]=Ue.words[er];return this.length=Math.max(this.length,er),Ue!==this&&(this.negative=1),this.strip()},ke.prototype.sub=function(Pe){return this.clone().isub(Pe)};function rr(Xe,Pe,Fe){Fe.negative=Pe.negative^Xe.negative;var ze=Xe.length+Pe.length|0;Fe.length=ze,ze=ze-1|0;var Ue=Xe.words[0]|0,Ge=Pe.words[0]|0,Ze=Ue*Ge,er=Ze&67108863,Ve=Ze/67108864|0;Fe.words[0]=er;for(var Ie=1;Ie<ze;Ie++){for(var Ye=Ve>>>26,ir=Ve&67108863,lr=Math.min(Ie,Pe.length-1),br=Math.max(0,Ie-Xe.length+1);br<=lr;br++){var _r=Ie-br|0;Ue=Xe.words[_r]|0,Ge=Pe.words[br]|0,Ze=Ue*Ge+ir,Ye+=Ze/67108864|0,ir=Ze&67108863}Fe.words[Ie]=ir|0,Ve=Ye|0}return Ve!==0?Fe.words[Ie]=Ve|0:Fe.length--,Fe.strip()}var tr=function(Pe,Fe,ze){var Ue=Pe.words,Ge=Fe.words,Ze=ze.words,er=0,Ve,Ie,Ye,ir=Ue[0]|0,lr=ir&8191,br=ir>>>13,_r=Ue[1]|0,Sr=_r&8191,wr=_r>>>13,Nr=Ue[2]|0,kr=Nr&8191,Lr=Nr>>>13,Xr=Ue[3]|0,Ur=Xr&8191,Gr=Xr>>>13,Ts=Ue[4]|0,Br=Ts&8191,Cr=Ts>>>13,qs=Ue[5]|0,$r=qs&8191,Tr=qs>>>13,Kr=Ue[6]|0,qr=Kr&8191,Hr=Kr>>>13,ss=Ue[7]|0,Vr=ss&8191,Zr=ss>>>13,Is=Ue[8]|0,Jr=Is&8191,cs=Is>>>13,zs=Ue[9]|0,ns=zs&8191,Qr=zs>>>13,Zs=Ge[0]|0,os=Zs&8191,_s=Zs>>>13,Ys=Ge[1]|0,ds=Ys&8191,Ns=Ys>>>13,Xs=Ge[2]|0,ys=Xs&8191,ws=Xs>>>13,ni=Ge[3]|0,bs=ni&8191,Es=ni>>>13,Hs=Ge[4]|0,us=Hs&8191,As=Hs>>>13,Qs=Ge[5]|0,vs=Qs&8191,Ms=Qs>>>13,Us=Ge[6]|0,xs=Us&8191,ks=Us>>>13,ri=Ge[7]|0,fs=ri&8191,Rs=ri>>>13,si=Ge[8]|0,js=si&8191,$s=si>>>13,ai=Ge[9]|0,gs=ai&8191,Ss=ai>>>13;ze.negative=Pe.negative^Fe.negative,ze.length=19,Ve=Math.imul(lr,os),Ie=Math.imul(lr,_s),Ie=Ie+Math.imul(br,os)|0,Ye=Math.imul(br,_s);var ei=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(ei>>>26)|0,ei&=67108863,Ve=Math.imul(Sr,os),Ie=Math.imul(Sr,_s),Ie=Ie+Math.imul(wr,os)|0,Ye=Math.imul(wr,_s),Ve=Ve+Math.imul(lr,ds)|0,Ie=Ie+Math.imul(lr,Ns)|0,Ie=Ie+Math.imul(br,ds)|0,Ye=Ye+Math.imul(br,Ns)|0;var Js=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(Js>>>26)|0,Js&=67108863,Ve=Math.imul(kr,os),Ie=Math.imul(kr,_s),Ie=Ie+Math.imul(Lr,os)|0,Ye=Math.imul(Lr,_s),Ve=Ve+Math.imul(Sr,ds)|0,Ie=Ie+Math.imul(Sr,Ns)|0,Ie=Ie+Math.imul(wr,ds)|0,Ye=Ye+Math.imul(wr,Ns)|0,Ve=Ve+Math.imul(lr,ys)|0,Ie=Ie+Math.imul(lr,ws)|0,Ie=Ie+Math.imul(br,ys)|0,Ye=Ye+Math.imul(br,ws)|0;var di=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(di>>>26)|0,di&=67108863,Ve=Math.imul(Ur,os),Ie=Math.imul(Ur,_s),Ie=Ie+Math.imul(Gr,os)|0,Ye=Math.imul(Gr,_s),Ve=Ve+Math.imul(kr,ds)|0,Ie=Ie+Math.imul(kr,Ns)|0,Ie=Ie+Math.imul(Lr,ds)|0,Ye=Ye+Math.imul(Lr,Ns)|0,Ve=Ve+Math.imul(Sr,ys)|0,Ie=Ie+Math.imul(Sr,ws)|0,Ie=Ie+Math.imul(wr,ys)|0,Ye=Ye+Math.imul(wr,ws)|0,Ve=Ve+Math.imul(lr,bs)|0,Ie=Ie+Math.imul(lr,Es)|0,Ie=Ie+Math.imul(br,bs)|0,Ye=Ye+Math.imul(br,Es)|0;var fi=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(fi>>>26)|0,fi&=67108863,Ve=Math.imul(Br,os),Ie=Math.imul(Br,_s),Ie=Ie+Math.imul(Cr,os)|0,Ye=Math.imul(Cr,_s),Ve=Ve+Math.imul(Ur,ds)|0,Ie=Ie+Math.imul(Ur,Ns)|0,Ie=Ie+Math.imul(Gr,ds)|0,Ye=Ye+Math.imul(Gr,Ns)|0,Ve=Ve+Math.imul(kr,ys)|0,Ie=Ie+Math.imul(kr,ws)|0,Ie=Ie+Math.imul(Lr,ys)|0,Ye=Ye+Math.imul(Lr,ws)|0,Ve=Ve+Math.imul(Sr,bs)|0,Ie=Ie+Math.imul(Sr,Es)|0,Ie=Ie+Math.imul(wr,bs)|0,Ye=Ye+Math.imul(wr,Es)|0,Ve=Ve+Math.imul(lr,us)|0,Ie=Ie+Math.imul(lr,As)|0,Ie=Ie+Math.imul(br,us)|0,Ye=Ye+Math.imul(br,As)|0;var mi=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(mi>>>26)|0,mi&=67108863,Ve=Math.imul($r,os),Ie=Math.imul($r,_s),Ie=Ie+Math.imul(Tr,os)|0,Ye=Math.imul(Tr,_s),Ve=Ve+Math.imul(Br,ds)|0,Ie=Ie+Math.imul(Br,Ns)|0,Ie=Ie+Math.imul(Cr,ds)|0,Ye=Ye+Math.imul(Cr,Ns)|0,Ve=Ve+Math.imul(Ur,ys)|0,Ie=Ie+Math.imul(Ur,ws)|0,Ie=Ie+Math.imul(Gr,ys)|0,Ye=Ye+Math.imul(Gr,ws)|0,Ve=Ve+Math.imul(kr,bs)|0,Ie=Ie+Math.imul(kr,Es)|0,Ie=Ie+Math.imul(Lr,bs)|0,Ye=Ye+Math.imul(Lr,Es)|0,Ve=Ve+Math.imul(Sr,us)|0,Ie=Ie+Math.imul(Sr,As)|0,Ie=Ie+Math.imul(wr,us)|0,Ye=Ye+Math.imul(wr,As)|0,Ve=Ve+Math.imul(lr,vs)|0,Ie=Ie+Math.imul(lr,Ms)|0,Ie=Ie+Math.imul(br,vs)|0,Ye=Ye+Math.imul(br,Ms)|0;var pi=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(pi>>>26)|0,pi&=67108863,Ve=Math.imul(qr,os),Ie=Math.imul(qr,_s),Ie=Ie+Math.imul(Hr,os)|0,Ye=Math.imul(Hr,_s),Ve=Ve+Math.imul($r,ds)|0,Ie=Ie+Math.imul($r,Ns)|0,Ie=Ie+Math.imul(Tr,ds)|0,Ye=Ye+Math.imul(Tr,Ns)|0,Ve=Ve+Math.imul(Br,ys)|0,Ie=Ie+Math.imul(Br,ws)|0,Ie=Ie+Math.imul(Cr,ys)|0,Ye=Ye+Math.imul(Cr,ws)|0,Ve=Ve+Math.imul(Ur,bs)|0,Ie=Ie+Math.imul(Ur,Es)|0,Ie=Ie+Math.imul(Gr,bs)|0,Ye=Ye+Math.imul(Gr,Es)|0,Ve=Ve+Math.imul(kr,us)|0,Ie=Ie+Math.imul(kr,As)|0,Ie=Ie+Math.imul(Lr,us)|0,Ye=Ye+Math.imul(Lr,As)|0,Ve=Ve+Math.imul(Sr,vs)|0,Ie=Ie+Math.imul(Sr,Ms)|0,Ie=Ie+Math.imul(wr,vs)|0,Ye=Ye+Math.imul(wr,Ms)|0,Ve=Ve+Math.imul(lr,xs)|0,Ie=Ie+Math.imul(lr,ks)|0,Ie=Ie+Math.imul(br,xs)|0,Ye=Ye+Math.imul(br,ks)|0;var xi=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(xi>>>26)|0,xi&=67108863,Ve=Math.imul(Vr,os),Ie=Math.imul(Vr,_s),Ie=Ie+Math.imul(Zr,os)|0,Ye=Math.imul(Zr,_s),Ve=Ve+Math.imul(qr,ds)|0,Ie=Ie+Math.imul(qr,Ns)|0,Ie=Ie+Math.imul(Hr,ds)|0,Ye=Ye+Math.imul(Hr,Ns)|0,Ve=Ve+Math.imul($r,ys)|0,Ie=Ie+Math.imul($r,ws)|0,Ie=Ie+Math.imul(Tr,ys)|0,Ye=Ye+Math.imul(Tr,ws)|0,Ve=Ve+Math.imul(Br,bs)|0,Ie=Ie+Math.imul(Br,Es)|0,Ie=Ie+Math.imul(Cr,bs)|0,Ye=Ye+Math.imul(Cr,Es)|0,Ve=Ve+Math.imul(Ur,us)|0,Ie=Ie+Math.imul(Ur,As)|0,Ie=Ie+Math.imul(Gr,us)|0,Ye=Ye+Math.imul(Gr,As)|0,Ve=Ve+Math.imul(kr,vs)|0,Ie=Ie+Math.imul(kr,Ms)|0,Ie=Ie+Math.imul(Lr,vs)|0,Ye=Ye+Math.imul(Lr,Ms)|0,Ve=Ve+Math.imul(Sr,xs)|0,Ie=Ie+Math.imul(Sr,ks)|0,Ie=Ie+Math.imul(wr,xs)|0,Ye=Ye+Math.imul(wr,ks)|0,Ve=Ve+Math.imul(lr,fs)|0,Ie=Ie+Math.imul(lr,Rs)|0,Ie=Ie+Math.imul(br,fs)|0,Ye=Ye+Math.imul(br,Rs)|0;var gi=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(gi>>>26)|0,gi&=67108863,Ve=Math.imul(Jr,os),Ie=Math.imul(Jr,_s),Ie=Ie+Math.imul(cs,os)|0,Ye=Math.imul(cs,_s),Ve=Ve+Math.imul(Vr,ds)|0,Ie=Ie+Math.imul(Vr,Ns)|0,Ie=Ie+Math.imul(Zr,ds)|0,Ye=Ye+Math.imul(Zr,Ns)|0,Ve=Ve+Math.imul(qr,ys)|0,Ie=Ie+Math.imul(qr,ws)|0,Ie=Ie+Math.imul(Hr,ys)|0,Ye=Ye+Math.imul(Hr,ws)|0,Ve=Ve+Math.imul($r,bs)|0,Ie=Ie+Math.imul($r,Es)|0,Ie=Ie+Math.imul(Tr,bs)|0,Ye=Ye+Math.imul(Tr,Es)|0,Ve=Ve+Math.imul(Br,us)|0,Ie=Ie+Math.imul(Br,As)|0,Ie=Ie+Math.imul(Cr,us)|0,Ye=Ye+Math.imul(Cr,As)|0,Ve=Ve+Math.imul(Ur,vs)|0,Ie=Ie+Math.imul(Ur,Ms)|0,Ie=Ie+Math.imul(Gr,vs)|0,Ye=Ye+Math.imul(Gr,Ms)|0,Ve=Ve+Math.imul(kr,xs)|0,Ie=Ie+Math.imul(kr,ks)|0,Ie=Ie+Math.imul(Lr,xs)|0,Ye=Ye+Math.imul(Lr,ks)|0,Ve=Ve+Math.imul(Sr,fs)|0,Ie=Ie+Math.imul(Sr,Rs)|0,Ie=Ie+Math.imul(wr,fs)|0,Ye=Ye+Math.imul(wr,Rs)|0,Ve=Ve+Math.imul(lr,js)|0,Ie=Ie+Math.imul(lr,$s)|0,Ie=Ie+Math.imul(br,js)|0,Ye=Ye+Math.imul(br,$s)|0;var Ei=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(Ei>>>26)|0,Ei&=67108863,Ve=Math.imul(ns,os),Ie=Math.imul(ns,_s),Ie=Ie+Math.imul(Qr,os)|0,Ye=Math.imul(Qr,_s),Ve=Ve+Math.imul(Jr,ds)|0,Ie=Ie+Math.imul(Jr,Ns)|0,Ie=Ie+Math.imul(cs,ds)|0,Ye=Ye+Math.imul(cs,Ns)|0,Ve=Ve+Math.imul(Vr,ys)|0,Ie=Ie+Math.imul(Vr,ws)|0,Ie=Ie+Math.imul(Zr,ys)|0,Ye=Ye+Math.imul(Zr,ws)|0,Ve=Ve+Math.imul(qr,bs)|0,Ie=Ie+Math.imul(qr,Es)|0,Ie=Ie+Math.imul(Hr,bs)|0,Ye=Ye+Math.imul(Hr,Es)|0,Ve=Ve+Math.imul($r,us)|0,Ie=Ie+Math.imul($r,As)|0,Ie=Ie+Math.imul(Tr,us)|0,Ye=Ye+Math.imul(Tr,As)|0,Ve=Ve+Math.imul(Br,vs)|0,Ie=Ie+Math.imul(Br,Ms)|0,Ie=Ie+Math.imul(Cr,vs)|0,Ye=Ye+Math.imul(Cr,Ms)|0,Ve=Ve+Math.imul(Ur,xs)|0,Ie=Ie+Math.imul(Ur,ks)|0,Ie=Ie+Math.imul(Gr,xs)|0,Ye=Ye+Math.imul(Gr,ks)|0,Ve=Ve+Math.imul(kr,fs)|0,Ie=Ie+Math.imul(kr,Rs)|0,Ie=Ie+Math.imul(Lr,fs)|0,Ye=Ye+Math.imul(Lr,Rs)|0,Ve=Ve+Math.imul(Sr,js)|0,Ie=Ie+Math.imul(Sr,$s)|0,Ie=Ie+Math.imul(wr,js)|0,Ye=Ye+Math.imul(wr,$s)|0,Ve=Ve+Math.imul(lr,gs)|0,Ie=Ie+Math.imul(lr,Ss)|0,Ie=Ie+Math.imul(br,gs)|0,Ye=Ye+Math.imul(br,Ss)|0;var Si=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(Si>>>26)|0,Si&=67108863,Ve=Math.imul(ns,ds),Ie=Math.imul(ns,Ns),Ie=Ie+Math.imul(Qr,ds)|0,Ye=Math.imul(Qr,Ns),Ve=Ve+Math.imul(Jr,ys)|0,Ie=Ie+Math.imul(Jr,ws)|0,Ie=Ie+Math.imul(cs,ys)|0,Ye=Ye+Math.imul(cs,ws)|0,Ve=Ve+Math.imul(Vr,bs)|0,Ie=Ie+Math.imul(Vr,Es)|0,Ie=Ie+Math.imul(Zr,bs)|0,Ye=Ye+Math.imul(Zr,Es)|0,Ve=Ve+Math.imul(qr,us)|0,Ie=Ie+Math.imul(qr,As)|0,Ie=Ie+Math.imul(Hr,us)|0,Ye=Ye+Math.imul(Hr,As)|0,Ve=Ve+Math.imul($r,vs)|0,Ie=Ie+Math.imul($r,Ms)|0,Ie=Ie+Math.imul(Tr,vs)|0,Ye=Ye+Math.imul(Tr,Ms)|0,Ve=Ve+Math.imul(Br,xs)|0,Ie=Ie+Math.imul(Br,ks)|0,Ie=Ie+Math.imul(Cr,xs)|0,Ye=Ye+Math.imul(Cr,ks)|0,Ve=Ve+Math.imul(Ur,fs)|0,Ie=Ie+Math.imul(Ur,Rs)|0,Ie=Ie+Math.imul(Gr,fs)|0,Ye=Ye+Math.imul(Gr,Rs)|0,Ve=Ve+Math.imul(kr,js)|0,Ie=Ie+Math.imul(kr,$s)|0,Ie=Ie+Math.imul(Lr,js)|0,Ye=Ye+Math.imul(Lr,$s)|0,Ve=Ve+Math.imul(Sr,gs)|0,Ie=Ie+Math.imul(Sr,Ss)|0,Ie=Ie+Math.imul(wr,gs)|0,Ye=Ye+Math.imul(wr,Ss)|0;var Ni=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(Ni>>>26)|0,Ni&=67108863,Ve=Math.imul(ns,ys),Ie=Math.imul(ns,ws),Ie=Ie+Math.imul(Qr,ys)|0,Ye=Math.imul(Qr,ws),Ve=Ve+Math.imul(Jr,bs)|0,Ie=Ie+Math.imul(Jr,Es)|0,Ie=Ie+Math.imul(cs,bs)|0,Ye=Ye+Math.imul(cs,Es)|0,Ve=Ve+Math.imul(Vr,us)|0,Ie=Ie+Math.imul(Vr,As)|0,Ie=Ie+Math.imul(Zr,us)|0,Ye=Ye+Math.imul(Zr,As)|0,Ve=Ve+Math.imul(qr,vs)|0,Ie=Ie+Math.imul(qr,Ms)|0,Ie=Ie+Math.imul(Hr,vs)|0,Ye=Ye+Math.imul(Hr,Ms)|0,Ve=Ve+Math.imul($r,xs)|0,Ie=Ie+Math.imul($r,ks)|0,Ie=Ie+Math.imul(Tr,xs)|0,Ye=Ye+Math.imul(Tr,ks)|0,Ve=Ve+Math.imul(Br,fs)|0,Ie=Ie+Math.imul(Br,Rs)|0,Ie=Ie+Math.imul(Cr,fs)|0,Ye=Ye+Math.imul(Cr,Rs)|0,Ve=Ve+Math.imul(Ur,js)|0,Ie=Ie+Math.imul(Ur,$s)|0,Ie=Ie+Math.imul(Gr,js)|0,Ye=Ye+Math.imul(Gr,$s)|0,Ve=Ve+Math.imul(kr,gs)|0,Ie=Ie+Math.imul(kr,Ss)|0,Ie=Ie+Math.imul(Lr,gs)|0,Ye=Ye+Math.imul(Lr,Ss)|0;var vi=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(vi>>>26)|0,vi&=67108863,Ve=Math.imul(ns,bs),Ie=Math.imul(ns,Es),Ie=Ie+Math.imul(Qr,bs)|0,Ye=Math.imul(Qr,Es),Ve=Ve+Math.imul(Jr,us)|0,Ie=Ie+Math.imul(Jr,As)|0,Ie=Ie+Math.imul(cs,us)|0,Ye=Ye+Math.imul(cs,As)|0,Ve=Ve+Math.imul(Vr,vs)|0,Ie=Ie+Math.imul(Vr,Ms)|0,Ie=Ie+Math.imul(Zr,vs)|0,Ye=Ye+Math.imul(Zr,Ms)|0,Ve=Ve+Math.imul(qr,xs)|0,Ie=Ie+Math.imul(qr,ks)|0,Ie=Ie+Math.imul(Hr,xs)|0,Ye=Ye+Math.imul(Hr,ks)|0,Ve=Ve+Math.imul($r,fs)|0,Ie=Ie+Math.imul($r,Rs)|0,Ie=Ie+Math.imul(Tr,fs)|0,Ye=Ye+Math.imul(Tr,Rs)|0,Ve=Ve+Math.imul(Br,js)|0,Ie=Ie+Math.imul(Br,$s)|0,Ie=Ie+Math.imul(Cr,js)|0,Ye=Ye+Math.imul(Cr,$s)|0,Ve=Ve+Math.imul(Ur,gs)|0,Ie=Ie+Math.imul(Ur,Ss)|0,Ie=Ie+Math.imul(Gr,gs)|0,Ye=Ye+Math.imul(Gr,Ss)|0;var Ri=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(Ri>>>26)|0,Ri&=67108863,Ve=Math.imul(ns,us),Ie=Math.imul(ns,As),Ie=Ie+Math.imul(Qr,us)|0,Ye=Math.imul(Qr,As),Ve=Ve+Math.imul(Jr,vs)|0,Ie=Ie+Math.imul(Jr,Ms)|0,Ie=Ie+Math.imul(cs,vs)|0,Ye=Ye+Math.imul(cs,Ms)|0,Ve=Ve+Math.imul(Vr,xs)|0,Ie=Ie+Math.imul(Vr,ks)|0,Ie=Ie+Math.imul(Zr,xs)|0,Ye=Ye+Math.imul(Zr,ks)|0,Ve=Ve+Math.imul(qr,fs)|0,Ie=Ie+Math.imul(qr,Rs)|0,Ie=Ie+Math.imul(Hr,fs)|0,Ye=Ye+Math.imul(Hr,Rs)|0,Ve=Ve+Math.imul($r,js)|0,Ie=Ie+Math.imul($r,$s)|0,Ie=Ie+Math.imul(Tr,js)|0,Ye=Ye+Math.imul(Tr,$s)|0,Ve=Ve+Math.imul(Br,gs)|0,Ie=Ie+Math.imul(Br,Ss)|0,Ie=Ie+Math.imul(Cr,gs)|0,Ye=Ye+Math.imul(Cr,Ss)|0;var Mi=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(Mi>>>26)|0,Mi&=67108863,Ve=Math.imul(ns,vs),Ie=Math.imul(ns,Ms),Ie=Ie+Math.imul(Qr,vs)|0,Ye=Math.imul(Qr,Ms),Ve=Ve+Math.imul(Jr,xs)|0,Ie=Ie+Math.imul(Jr,ks)|0,Ie=Ie+Math.imul(cs,xs)|0,Ye=Ye+Math.imul(cs,ks)|0,Ve=Ve+Math.imul(Vr,fs)|0,Ie=Ie+Math.imul(Vr,Rs)|0,Ie=Ie+Math.imul(Zr,fs)|0,Ye=Ye+Math.imul(Zr,Rs)|0,Ve=Ve+Math.imul(qr,js)|0,Ie=Ie+Math.imul(qr,$s)|0,Ie=Ie+Math.imul(Hr,js)|0,Ye=Ye+Math.imul(Hr,$s)|0,Ve=Ve+Math.imul($r,gs)|0,Ie=Ie+Math.imul($r,Ss)|0,Ie=Ie+Math.imul(Tr,gs)|0,Ye=Ye+Math.imul(Tr,Ss)|0;var ji=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(ji>>>26)|0,ji&=67108863,Ve=Math.imul(ns,xs),Ie=Math.imul(ns,ks),Ie=Ie+Math.imul(Qr,xs)|0,Ye=Math.imul(Qr,ks),Ve=Ve+Math.imul(Jr,fs)|0,Ie=Ie+Math.imul(Jr,Rs)|0,Ie=Ie+Math.imul(cs,fs)|0,Ye=Ye+Math.imul(cs,Rs)|0,Ve=Ve+Math.imul(Vr,js)|0,Ie=Ie+Math.imul(Vr,$s)|0,Ie=Ie+Math.imul(Zr,js)|0,Ye=Ye+Math.imul(Zr,$s)|0,Ve=Ve+Math.imul(qr,gs)|0,Ie=Ie+Math.imul(qr,Ss)|0,Ie=Ie+Math.imul(Hr,gs)|0,Ye=Ye+Math.imul(Hr,Ss)|0;var ki=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(ki>>>26)|0,ki&=67108863,Ve=Math.imul(ns,fs),Ie=Math.imul(ns,Rs),Ie=Ie+Math.imul(Qr,fs)|0,Ye=Math.imul(Qr,Rs),Ve=Ve+Math.imul(Jr,js)|0,Ie=Ie+Math.imul(Jr,$s)|0,Ie=Ie+Math.imul(cs,js)|0,Ye=Ye+Math.imul(cs,$s)|0,Ve=Ve+Math.imul(Vr,gs)|0,Ie=Ie+Math.imul(Vr,Ss)|0,Ie=Ie+Math.imul(Zr,gs)|0,Ye=Ye+Math.imul(Zr,Ss)|0;var _i=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+(_i>>>26)|0,_i&=67108863,Ve=Math.imul(ns,js),Ie=Math.imul(ns,$s),Ie=Ie+Math.imul(Qr,js)|0,Ye=Math.imul(Qr,$s),Ve=Ve+Math.imul(Jr,gs)|0,Ie=Ie+Math.imul(Jr,Ss)|0,Ie=Ie+Math.imul(cs,gs)|0,Ye=Ye+Math.imul(cs,Ss)|0;var $i=(er+Ve|0)+((Ie&8191)<<13)|0;er=(Ye+(Ie>>>13)|0)+($i>>>26)|0,$i&=67108863,Ve=Math.imul(ns,gs),Ie=Math.imul(ns,Ss),Ie=Ie+Math.imul(Qr,gs)|0,Ye=Math.imul(Qr,Ss);var bi=(er+Ve|0)+((Ie&8191)<<13)|0;return er=(Ye+(Ie>>>13)|0)+(bi>>>26)|0,bi&=67108863,Ze[0]=ei,Ze[1]=Js,Ze[2]=di,Ze[3]=fi,Ze[4]=mi,Ze[5]=pi,Ze[6]=xi,Ze[7]=gi,Ze[8]=Ei,Ze[9]=Si,Ze[10]=Ni,Ze[11]=vi,Ze[12]=Ri,Ze[13]=Mi,Ze[14]=ji,Ze[15]=ki,Ze[16]=_i,Ze[17]=$i,Ze[18]=bi,er!==0&&(Ze[19]=er,ze.length++),ze};Math.imul||(tr=rr);function cr(Xe,Pe,Fe){Fe.negative=Pe.negative^Xe.negative,Fe.length=Xe.length+Pe.length;for(var ze=0,Ue=0,Ge=0;Ge<Fe.length-1;Ge++){var Ze=Ue;Ue=0;for(var er=ze&67108863,Ve=Math.min(Ge,Pe.length-1),Ie=Math.max(0,Ge-Xe.length+1);Ie<=Ve;Ie++){var Ye=Ge-Ie,ir=Xe.words[Ye]|0,lr=Pe.words[Ie]|0,br=ir*lr,_r=br&67108863;Ze=Ze+(br/67108864|0)|0,_r=_r+er|0,er=_r&67108863,Ze=Ze+(_r>>>26)|0,Ue+=Ze>>>26,Ze&=67108863}Fe.words[Ge]=er,ze=Ze,Ze=Ue}return ze!==0?Fe.words[Ge]=ze:Fe.length--,Fe.strip()}function or(Xe,Pe,Fe){var ze=new ar;return ze.mulp(Xe,Pe,Fe)}ke.prototype.mulTo=function(Pe,Fe){var ze,Ue=this.length+Pe.length;return this.length===10&&Pe.length===10?ze=tr(this,Pe,Fe):Ue<63?ze=rr(this,Pe,Fe):Ue<1024?ze=cr(this,Pe,Fe):ze=or(this,Pe,Fe),ze};function ar(Xe,Pe){this.x=Xe,this.y=Pe}ar.prototype.makeRBT=function(Pe){for(var Fe=new Array(Pe),ze=ke.prototype._countBits(Pe)-1,Ue=0;Ue<Pe;Ue++)Fe[Ue]=this.revBin(Ue,ze,Pe);return Fe},ar.prototype.revBin=function(Pe,Fe,ze){if(Pe===0||Pe===ze-1)return Pe;for(var Ue=0,Ge=0;Ge<Fe;Ge++)Ue|=(Pe&1)<<Fe-Ge-1,Pe>>=1;return Ue},ar.prototype.permute=function(Pe,Fe,ze,Ue,Ge,Ze){for(var er=0;er<Ze;er++)Ue[er]=Fe[Pe[er]],Ge[er]=ze[Pe[er]]},ar.prototype.transform=function(Pe,Fe,ze,Ue,Ge,Ze){this.permute(Ze,Pe,Fe,ze,Ue,Ge);for(var er=1;er<Ge;er<<=1)for(var Ve=er<<1,Ie=Math.cos(2*Math.PI/Ve),Ye=Math.sin(2*Math.PI/Ve),ir=0;ir<Ge;ir+=Ve)for(var lr=Ie,br=Ye,_r=0;_r<er;_r++){var Sr=ze[ir+_r],wr=Ue[ir+_r],Nr=ze[ir+_r+er],kr=Ue[ir+_r+er],Lr=lr*Nr-br*kr;kr=lr*kr+br*Nr,Nr=Lr,ze[ir+_r]=Sr+Nr,Ue[ir+_r]=wr+kr,ze[ir+_r+er]=Sr-Nr,Ue[ir+_r+er]=wr-kr,_r!==Ve&&(Lr=Ie*lr-Ye*br,br=Ie*br+Ye*lr,lr=Lr)}},ar.prototype.guessLen13b=function(Pe,Fe){var ze=Math.max(Fe,Pe)|1,Ue=ze&1,Ge=0;for(ze=ze/2|0;ze;ze=ze>>>1)Ge++;return 1<<Ge+1+Ue},ar.prototype.conjugate=function(Pe,Fe,ze){if(!(ze<=1))for(var Ue=0;Ue<ze/2;Ue++){var Ge=Pe[Ue];Pe[Ue]=Pe[ze-Ue-1],Pe[ze-Ue-1]=Ge,Ge=Fe[Ue],Fe[Ue]=-Fe[ze-Ue-1],Fe[ze-Ue-1]=-Ge}},ar.prototype.normalize13b=function(Pe,Fe){for(var ze=0,Ue=0;Ue<Fe/2;Ue++){var Ge=Math.round(Pe[2*Ue+1]/Fe)*8192+Math.round(Pe[2*Ue]/Fe)+ze;Pe[Ue]=Ge&67108863,Ge<67108864?ze=0:ze=Ge/67108864|0}return Pe},ar.prototype.convert13b=function(Pe,Fe,ze,Ue){for(var Ge=0,Ze=0;Ze<Fe;Ze++)Ge=Ge+(Pe[Ze]|0),ze[2*Ze]=Ge&8191,Ge=Ge>>>13,ze[2*Ze+1]=Ge&8191,Ge=Ge>>>13;for(Ze=2*Fe;Ze<Ue;++Ze)ze[Ze]=0;Me(Ge===0),Me((Ge&-8192)===0)},ar.prototype.stub=function(Pe){for(var Fe=new Array(Pe),ze=0;ze<Pe;ze++)Fe[ze]=0;return Fe},ar.prototype.mulp=function(Pe,Fe,ze){var Ue=2*this.guessLen13b(Pe.length,Fe.length),Ge=this.makeRBT(Ue),Ze=this.stub(Ue),er=new Array(Ue),Ve=new Array(Ue),Ie=new Array(Ue),Ye=new Array(Ue),ir=new Array(Ue),lr=new Array(Ue),br=ze.words;br.length=Ue,this.convert13b(Pe.words,Pe.length,er,Ue),this.convert13b(Fe.words,Fe.length,Ye,Ue),this.transform(er,Ze,Ve,Ie,Ue,Ge),this.transform(Ye,Ze,ir,lr,Ue,Ge);for(var _r=0;_r<Ue;_r++){var Sr=Ve[_r]*ir[_r]-Ie[_r]*lr[_r];Ie[_r]=Ve[_r]*lr[_r]+Ie[_r]*ir[_r],Ve[_r]=Sr}return this.conjugate(Ve,Ie,Ue),this.transform(Ve,Ie,br,Ze,Ue,Ge),this.conjugate(br,Ze,Ue),this.normalize13b(br,Ue),ze.negative=Pe.negative^Fe.negative,ze.length=Pe.length+Fe.length,ze.strip()},ke.prototype.mul=function(Pe){var Fe=new ke(null);return Fe.words=new Array(this.length+Pe.length),this.mulTo(Pe,Fe)},ke.prototype.mulf=function(Pe){var Fe=new ke(null);return Fe.words=new Array(this.length+Pe.length),or(this,Pe,Fe)},ke.prototype.imul=function(Pe){return this.clone().mulTo(Pe,this)},ke.prototype.imuln=function(Pe){Me(typeof Pe=="number"),Me(Pe<67108864);for(var Fe=0,ze=0;ze<this.length;ze++){var Ue=(this.words[ze]|0)*Pe,Ge=(Ue&67108863)+(Fe&67108863);Fe>>=26,Fe+=Ue/67108864|0,Fe+=Ge>>>26,this.words[ze]=Ge&67108863}return Fe!==0&&(this.words[ze]=Fe,this.length++),this.length=Pe===0?1:this.length,this},ke.prototype.muln=function(Pe){return this.clone().imuln(Pe)},ke.prototype.sqr=function(){return this.mul(this)},ke.prototype.isqr=function(){return this.imul(this.clone())},ke.prototype.pow=function(Pe){var Fe=Qe(Pe);if(Fe.length===0)return new ke(1);for(var ze=this,Ue=0;Ue<Fe.length&&Fe[Ue]===0;Ue++,ze=ze.sqr());if(++Ue<Fe.length)for(var Ge=ze.sqr();Ue<Fe.length;Ue++,Ge=Ge.sqr())Fe[Ue]!==0&&(ze=ze.mul(Ge));return ze},ke.prototype.iushln=function(Pe){Me(typeof Pe=="number"&&Pe>=0);var Fe=Pe%26,ze=(Pe-Fe)/26,Ue=67108863>>>26-Fe<<26-Fe,Ge;if(Fe!==0){var Ze=0;for(Ge=0;Ge<this.length;Ge++){var er=this.words[Ge]&Ue,Ve=(this.words[Ge]|0)-er<<Fe;this.words[Ge]=Ve|Ze,Ze=er>>>26-Fe}Ze&&(this.words[Ge]=Ze,this.length++)}if(ze!==0){for(Ge=this.length-1;Ge>=0;Ge--)this.words[Ge+ze]=this.words[Ge];for(Ge=0;Ge<ze;Ge++)this.words[Ge]=0;this.length+=ze}return this.strip()},ke.prototype.ishln=function(Pe){return Me(this.negative===0),this.iushln(Pe)},ke.prototype.iushrn=function(Pe,Fe,ze){Me(typeof Pe=="number"&&Pe>=0);var Ue;Fe?Ue=(Fe-Fe%26)/26:Ue=0;var Ge=Pe%26,Ze=Math.min((Pe-Ge)/26,this.length),er=67108863^67108863>>>Ge<<Ge,Ve=ze;if(Ue-=Ze,Ue=Math.max(0,Ue),Ve){for(var Ie=0;Ie<Ze;Ie++)Ve.words[Ie]=this.words[Ie];Ve.length=Ze}if(Ze!==0)if(this.length>Ze)for(this.length-=Ze,Ie=0;Ie<this.length;Ie++)this.words[Ie]=this.words[Ie+Ze];else this.words[0]=0,this.length=1;var Ye=0;for(Ie=this.length-1;Ie>=0&&(Ye!==0||Ie>=Ue);Ie--){var ir=this.words[Ie]|0;this.words[Ie]=Ye<<26-Ge|ir>>>Ge,Ye=ir&er}return Ve&&Ye!==0&&(Ve.words[Ve.length++]=Ye),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},ke.prototype.ishrn=function(Pe,Fe,ze){return Me(this.negative===0),this.iushrn(Pe,Fe,ze)},ke.prototype.shln=function(Pe){return this.clone().ishln(Pe)},ke.prototype.ushln=function(Pe){return this.clone().iushln(Pe)},ke.prototype.shrn=function(Pe){return this.clone().ishrn(Pe)},ke.prototype.ushrn=function(Pe){return this.clone().iushrn(Pe)},ke.prototype.testn=function(Pe){Me(typeof Pe=="number"&&Pe>=0);var Fe=Pe%26,ze=(Pe-Fe)/26,Ue=1<<Fe;if(this.length<=ze)return!1;var Ge=this.words[ze];return!!(Ge&Ue)},ke.prototype.imaskn=function(Pe){Me(typeof Pe=="number"&&Pe>=0);var Fe=Pe%26,ze=(Pe-Fe)/26;if(Me(this.negative===0,"imaskn works only with positive numbers"),this.length<=ze)return this;if(Fe!==0&&ze++,this.length=Math.min(ze,this.length),Fe!==0){var Ue=67108863^67108863>>>Fe<<Fe;this.words[this.length-1]&=Ue}return this.strip()},ke.prototype.maskn=function(Pe){return this.clone().imaskn(Pe)},ke.prototype.iaddn=function(Pe){return Me(typeof Pe=="number"),Me(Pe<67108864),Pe<0?this.isubn(-Pe):this.negative!==0?this.length===1&&(this.words[0]|0)<Pe?(this.words[0]=Pe-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(Pe),this.negative=1,this):this._iaddn(Pe)},ke.prototype._iaddn=function(Pe){this.words[0]+=Pe;for(var Fe=0;Fe<this.length&&this.words[Fe]>=67108864;Fe++)this.words[Fe]-=67108864,Fe===this.length-1?this.words[Fe+1]=1:this.words[Fe+1]++;return this.length=Math.max(this.length,Fe+1),this},ke.prototype.isubn=function(Pe){if(Me(typeof Pe=="number"),Me(Pe<67108864),Pe<0)return this.iaddn(-Pe);if(this.negative!==0)return this.negative=0,this.iaddn(Pe),this.negative=1,this;if(this.words[0]-=Pe,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var Fe=0;Fe<this.length&&this.words[Fe]<0;Fe++)this.words[Fe]+=67108864,this.words[Fe+1]-=1;return this.strip()},ke.prototype.addn=function(Pe){return this.clone().iaddn(Pe)},ke.prototype.subn=function(Pe){return this.clone().isubn(Pe)},ke.prototype.iabs=function(){return this.negative=0,this},ke.prototype.abs=function(){return this.clone().iabs()},ke.prototype._ishlnsubmul=function(Pe,Fe,ze){var Ue=Pe.length+ze,Ge;this._expand(Ue);var Ze,er=0;for(Ge=0;Ge<Pe.length;Ge++){Ze=(this.words[Ge+ze]|0)+er;var Ve=(Pe.words[Ge]|0)*Fe;Ze-=Ve&67108863,er=(Ze>>26)-(Ve/67108864|0),this.words[Ge+ze]=Ze&67108863}for(;Ge<this.length-ze;Ge++)Ze=(this.words[Ge+ze]|0)+er,er=Ze>>26,this.words[Ge+ze]=Ze&67108863;if(er===0)return this.strip();for(Me(er===-1),er=0,Ge=0;Ge<this.length;Ge++)Ze=-(this.words[Ge]|0)+er,er=Ze>>26,this.words[Ge]=Ze&67108863;return this.negative=1,this.strip()},ke.prototype._wordDiv=function(Pe,Fe){var ze=this.length-Pe.length,Ue=this.clone(),Ge=Pe,Ze=Ge.words[Ge.length-1]|0,er=this._countBits(Ze);ze=26-er,ze!==0&&(Ge=Ge.ushln(ze),Ue.iushln(ze),Ze=Ge.words[Ge.length-1]|0);var Ve=Ue.length-Ge.length,Ie;if(Fe!=="mod"){Ie=new ke(null),Ie.length=Ve+1,Ie.words=new Array(Ie.length);for(var Ye=0;Ye<Ie.length;Ye++)Ie.words[Ye]=0}var ir=Ue.clone()._ishlnsubmul(Ge,1,Ve);ir.negative===0&&(Ue=ir,Ie&&(Ie.words[Ve]=1));for(var lr=Ve-1;lr>=0;lr--){var br=(Ue.words[Ge.length+lr]|0)*67108864+(Ue.words[Ge.length+lr-1]|0);for(br=Math.min(br/Ze|0,67108863),Ue._ishlnsubmul(Ge,br,lr);Ue.negative!==0;)br--,Ue.negative=0,Ue._ishlnsubmul(Ge,1,lr),Ue.isZero()||(Ue.negative^=1);Ie&&(Ie.words[lr]=br)}return Ie&&Ie.strip(),Ue.strip(),Fe!=="div"&&ze!==0&&Ue.iushrn(ze),{div:Ie||null,mod:Ue}},ke.prototype.divmod=function(Pe,Fe,ze){if(Me(!Pe.isZero()),this.isZero())return{div:new ke(0),mod:new ke(0)};var Ue,Ge,Ze;return this.negative!==0&&Pe.negative===0?(Ze=this.neg().divmod(Pe,Fe),Fe!=="mod"&&(Ue=Ze.div.neg()),Fe!=="div"&&(Ge=Ze.mod.neg(),ze&&Ge.negative!==0&&Ge.iadd(Pe)),{div:Ue,mod:Ge}):this.negative===0&&Pe.negative!==0?(Ze=this.divmod(Pe.neg(),Fe),Fe!=="mod"&&(Ue=Ze.div.neg()),{div:Ue,mod:Ze.mod}):this.negative&Pe.negative?(Ze=this.neg().divmod(Pe.neg(),Fe),Fe!=="div"&&(Ge=Ze.mod.neg(),ze&&Ge.negative!==0&&Ge.isub(Pe)),{div:Ze.div,mod:Ge}):Pe.length>this.length||this.cmp(Pe)<0?{div:new ke(0),mod:this}:Pe.length===1?Fe==="div"?{div:this.divn(Pe.words[0]),mod:null}:Fe==="mod"?{div:null,mod:new ke(this.modn(Pe.words[0]))}:{div:this.divn(Pe.words[0]),mod:new ke(this.modn(Pe.words[0]))}:this._wordDiv(Pe,Fe)},ke.prototype.div=function(Pe){return this.divmod(Pe,"div",!1).div},ke.prototype.mod=function(Pe){return this.divmod(Pe,"mod",!1).mod},ke.prototype.umod=function(Pe){return this.divmod(Pe,"mod",!0).mod},ke.prototype.divRound=function(Pe){var Fe=this.divmod(Pe);if(Fe.mod.isZero())return Fe.div;var ze=Fe.div.negative!==0?Fe.mod.isub(Pe):Fe.mod,Ue=Pe.ushrn(1),Ge=Pe.andln(1),Ze=ze.cmp(Ue);return Ze<0||Ge===1&&Ze===0?Fe.div:Fe.div.negative!==0?Fe.div.isubn(1):Fe.div.iaddn(1)},ke.prototype.modn=function(Pe){Me(Pe<=67108863);for(var Fe=(1<<26)%Pe,ze=0,Ue=this.length-1;Ue>=0;Ue--)ze=(Fe*ze+(this.words[Ue]|0))%Pe;return ze},ke.prototype.idivn=function(Pe){Me(Pe<=67108863);for(var Fe=0,ze=this.length-1;ze>=0;ze--){var Ue=(this.words[ze]|0)+Fe*67108864;this.words[ze]=Ue/Pe|0,Fe=Ue%Pe}return this.strip()},ke.prototype.divn=function(Pe){return this.clone().idivn(Pe)},ke.prototype.egcd=function(Pe){Me(Pe.negative===0),Me(!Pe.isZero());var Fe=this,ze=Pe.clone();Fe.negative!==0?Fe=Fe.umod(Pe):Fe=Fe.clone();for(var Ue=new ke(1),Ge=new ke(0),Ze=new ke(0),er=new ke(1),Ve=0;Fe.isEven()&&ze.isEven();)Fe.iushrn(1),ze.iushrn(1),++Ve;for(var Ie=ze.clone(),Ye=Fe.clone();!Fe.isZero();){for(var ir=0,lr=1;!(Fe.words[0]&lr)&&ir<26;++ir,lr<<=1);if(ir>0)for(Fe.iushrn(ir);ir-- >0;)(Ue.isOdd()||Ge.isOdd())&&(Ue.iadd(Ie),Ge.isub(Ye)),Ue.iushrn(1),Ge.iushrn(1);for(var br=0,_r=1;!(ze.words[0]&_r)&&br<26;++br,_r<<=1);if(br>0)for(ze.iushrn(br);br-- >0;)(Ze.isOdd()||er.isOdd())&&(Ze.iadd(Ie),er.isub(Ye)),Ze.iushrn(1),er.iushrn(1);Fe.cmp(ze)>=0?(Fe.isub(ze),Ue.isub(Ze),Ge.isub(er)):(ze.isub(Fe),Ze.isub(Ue),er.isub(Ge))}return{a:Ze,b:er,gcd:ze.iushln(Ve)}},ke.prototype._invmp=function(Pe){Me(Pe.negative===0),Me(!Pe.isZero());var Fe=this,ze=Pe.clone();Fe.negative!==0?Fe=Fe.umod(Pe):Fe=Fe.clone();for(var Ue=new ke(1),Ge=new ke(0),Ze=ze.clone();Fe.cmpn(1)>0&&ze.cmpn(1)>0;){for(var er=0,Ve=1;!(Fe.words[0]&Ve)&&er<26;++er,Ve<<=1);if(er>0)for(Fe.iushrn(er);er-- >0;)Ue.isOdd()&&Ue.iadd(Ze),Ue.iushrn(1);for(var Ie=0,Ye=1;!(ze.words[0]&Ye)&&Ie<26;++Ie,Ye<<=1);if(Ie>0)for(ze.iushrn(Ie);Ie-- >0;)Ge.isOdd()&&Ge.iadd(Ze),Ge.iushrn(1);Fe.cmp(ze)>=0?(Fe.isub(ze),Ue.isub(Ge)):(ze.isub(Fe),Ge.isub(Ue))}var ir;return Fe.cmpn(1)===0?ir=Ue:ir=Ge,ir.cmpn(0)<0&&ir.iadd(Pe),ir},ke.prototype.gcd=function(Pe){if(this.isZero())return Pe.abs();if(Pe.isZero())return this.abs();var Fe=this.clone(),ze=Pe.clone();Fe.negative=0,ze.negative=0;for(var Ue=0;Fe.isEven()&&ze.isEven();Ue++)Fe.iushrn(1),ze.iushrn(1);do{for(;Fe.isEven();)Fe.iushrn(1);for(;ze.isEven();)ze.iushrn(1);var Ge=Fe.cmp(ze);if(Ge<0){var Ze=Fe;Fe=ze,ze=Ze}else if(Ge===0||ze.cmpn(1)===0)break;Fe.isub(ze)}while(!0);return ze.iushln(Ue)},ke.prototype.invm=function(Pe){return this.egcd(Pe).a.umod(Pe)},ke.prototype.isEven=function(){return(this.words[0]&1)===0},ke.prototype.isOdd=function(){return(this.words[0]&1)===1},ke.prototype.andln=function(Pe){return this.words[0]&Pe},ke.prototype.bincn=function(Pe){Me(typeof Pe=="number");var Fe=Pe%26,ze=(Pe-Fe)/26,Ue=1<<Fe;if(this.length<=ze)return this._expand(ze+1),this.words[ze]|=Ue,this;for(var Ge=Ue,Ze=ze;Ge!==0&&Ze<this.length;Ze++){var er=this.words[Ze]|0;er+=Ge,Ge=er>>>26,er&=67108863,this.words[Ze]=er}return Ge!==0&&(this.words[Ze]=Ge,this.length++),this},ke.prototype.isZero=function(){return this.length===1&&this.words[0]===0},ke.prototype.cmpn=function(Pe){var Fe=Pe<0;if(this.negative!==0&&!Fe)return-1;if(this.negative===0&&Fe)return 1;this.strip();var ze;if(this.length>1)ze=1;else{Fe&&(Pe=-Pe),Me(Pe<=67108863,"Number is too big");var Ue=this.words[0]|0;ze=Ue===Pe?0:Ue<Pe?-1:1}return this.negative!==0?-ze|0:ze},ke.prototype.cmp=function(Pe){if(this.negative!==0&&Pe.negative===0)return-1;if(this.negative===0&&Pe.negative!==0)return 1;var Fe=this.ucmp(Pe);return this.negative!==0?-Fe|0:Fe},ke.prototype.ucmp=function(Pe){if(this.length>Pe.length)return 1;if(this.length<Pe.length)return-1;for(var Fe=0,ze=this.length-1;ze>=0;ze--){var Ue=this.words[ze]|0,Ge=Pe.words[ze]|0;if(Ue!==Ge){Ue<Ge?Fe=-1:Ue>Ge&&(Fe=1);break}}return Fe},ke.prototype.gtn=function(Pe){return this.cmpn(Pe)===1},ke.prototype.gt=function(Pe){return this.cmp(Pe)===1},ke.prototype.gten=function(Pe){return this.cmpn(Pe)>=0},ke.prototype.gte=function(Pe){return this.cmp(Pe)>=0},ke.prototype.ltn=function(Pe){return this.cmpn(Pe)===-1},ke.prototype.lt=function(Pe){return this.cmp(Pe)===-1},ke.prototype.lten=function(Pe){return this.cmpn(Pe)<=0},ke.prototype.lte=function(Pe){return this.cmp(Pe)<=0},ke.prototype.eqn=function(Pe){return this.cmpn(Pe)===0},ke.prototype.eq=function(Pe){return this.cmp(Pe)===0},ke.red=function(Pe){return new xr(Pe)},ke.prototype.toRed=function(Pe){return Me(!this.red,"Already a number in reduction context"),Me(this.negative===0,"red works only with positives"),Pe.convertTo(this)._forceRed(Pe)},ke.prototype.fromRed=function(){return Me(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},ke.prototype._forceRed=function(Pe){return this.red=Pe,this},ke.prototype.forceRed=function(Pe){return Me(!this.red,"Already a number in reduction context"),this._forceRed(Pe)},ke.prototype.redAdd=function(Pe){return Me(this.red,"redAdd works only with red numbers"),this.red.add(this,Pe)},ke.prototype.redIAdd=function(Pe){return Me(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,Pe)},ke.prototype.redSub=function(Pe){return Me(this.red,"redSub works only with red numbers"),this.red.sub(this,Pe)},ke.prototype.redISub=function(Pe){return Me(this.red,"redISub works only with red numbers"),this.red.isub(this,Pe)},ke.prototype.redShl=function(Pe){return Me(this.red,"redShl works only with red numbers"),this.red.shl(this,Pe)},ke.prototype.redMul=function(Pe){return Me(this.red,"redMul works only with red numbers"),this.red._verify2(this,Pe),this.red.mul(this,Pe)},ke.prototype.redIMul=function(Pe){return Me(this.red,"redMul works only with red numbers"),this.red._verify2(this,Pe),this.red.imul(this,Pe)},ke.prototype.redSqr=function(){return Me(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},ke.prototype.redISqr=function(){return Me(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},ke.prototype.redSqrt=function(){return Me(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},ke.prototype.redInvm=function(){return Me(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},ke.prototype.redNeg=function(){return Me(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},ke.prototype.redPow=function(Pe){return Me(this.red&&!Pe.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,Pe)};var pr={k256:null,p224:null,p192:null,p25519:null};function ur(Xe,Pe){this.name=Xe,this.p=new ke(Pe,16),this.n=this.p.bitLength(),this.k=new ke(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}ur.prototype._tmp=function(){var Pe=new ke(null);return Pe.words=new Array(Math.ceil(this.n/13)),Pe},ur.prototype.ireduce=function(Pe){var Fe=Pe,ze;do this.split(Fe,this.tmp),Fe=this.imulK(Fe),Fe=Fe.iadd(this.tmp),ze=Fe.bitLength();while(ze>this.n);var Ue=ze<this.n?-1:Fe.ucmp(this.p);return Ue===0?(Fe.words[0]=0,Fe.length=1):Ue>0?Fe.isub(this.p):Fe.strip!==void 0?Fe.strip():Fe._strip(),Fe},ur.prototype.split=function(Pe,Fe){Pe.iushrn(this.n,0,Fe)},ur.prototype.imulK=function(Pe){return Pe.imul(this.k)};function gr(){ur.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}$e(gr,ur),gr.prototype.split=function(Pe,Fe){for(var ze=4194303,Ue=Math.min(Pe.length,9),Ge=0;Ge<Ue;Ge++)Fe.words[Ge]=Pe.words[Ge];if(Fe.length=Ue,Pe.length<=9){Pe.words[0]=0,Pe.length=1;return}var Ze=Pe.words[9];for(Fe.words[Fe.length++]=Ze&ze,Ge=10;Ge<Pe.length;Ge++){var er=Pe.words[Ge]|0;Pe.words[Ge-10]=(er&ze)<<4|Ze>>>22,Ze=er}Ze>>>=22,Pe.words[Ge-10]=Ze,Ze===0&&Pe.length>10?Pe.length-=10:Pe.length-=9},gr.prototype.imulK=function(Pe){Pe.words[Pe.length]=0,Pe.words[Pe.length+1]=0,Pe.length+=2;for(var Fe=0,ze=0;ze<Pe.length;ze++){var Ue=Pe.words[ze]|0;Fe+=Ue*977,Pe.words[ze]=Fe&67108863,Fe=Ue*64+(Fe/67108864|0)}return Pe.words[Pe.length-1]===0&&(Pe.length--,Pe.words[Pe.length-1]===0&&Pe.length--),Pe};function jr(){ur.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}$e(jr,ur);function vr(){ur.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}$e(vr,ur);function dr(){ur.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}$e(dr,ur),dr.prototype.imulK=function(Pe){for(var Fe=0,ze=0;ze<Pe.length;ze++){var Ue=(Pe.words[ze]|0)*19+Fe,Ge=Ue&67108863;Ue>>>=26,Pe.words[ze]=Ge,Fe=Ue}return Fe!==0&&(Pe.words[Pe.length++]=Fe),Pe},ke._prime=function(Pe){if(pr[Pe])return pr[Pe];var Fe;if(Pe==="k256")Fe=new gr;else if(Pe==="p224")Fe=new jr;else if(Pe==="p192")Fe=new vr;else if(Pe==="p25519")Fe=new dr;else throw new Error("Unknown prime "+Pe);return pr[Pe]=Fe,Fe};function xr(Xe){if(typeof Xe=="string"){var Pe=ke._prime(Xe);this.m=Pe.p,this.prime=Pe}else Me(Xe.gtn(1),"modulus must be greater than 1"),this.m=Xe,this.prime=null}xr.prototype._verify1=function(Pe){Me(Pe.negative===0,"red works only with positives"),Me(Pe.red,"red works only with red numbers")},xr.prototype._verify2=function(Pe,Fe){Me((Pe.negative|Fe.negative)===0,"red works only with positives"),Me(Pe.red&&Pe.red===Fe.red,"red works only with red numbers")},xr.prototype.imod=function(Pe){return this.prime?this.prime.ireduce(Pe)._forceRed(this):Pe.umod(this.m)._forceRed(this)},xr.prototype.neg=function(Pe){return Pe.isZero()?Pe.clone():this.m.sub(Pe)._forceRed(this)},xr.prototype.add=function(Pe,Fe){this._verify2(Pe,Fe);var ze=Pe.add(Fe);return ze.cmp(this.m)>=0&&ze.isub(this.m),ze._forceRed(this)},xr.prototype.iadd=function(Pe,Fe){this._verify2(Pe,Fe);var ze=Pe.iadd(Fe);return ze.cmp(this.m)>=0&&ze.isub(this.m),ze},xr.prototype.sub=function(Pe,Fe){this._verify2(Pe,Fe);var ze=Pe.sub(Fe);return ze.cmpn(0)<0&&ze.iadd(this.m),ze._forceRed(this)},xr.prototype.isub=function(Pe,Fe){this._verify2(Pe,Fe);var ze=Pe.isub(Fe);return ze.cmpn(0)<0&&ze.iadd(this.m),ze},xr.prototype.shl=function(Pe,Fe){return this._verify1(Pe),this.imod(Pe.ushln(Fe))},xr.prototype.imul=function(Pe,Fe){return this._verify2(Pe,Fe),this.imod(Pe.imul(Fe))},xr.prototype.mul=function(Pe,Fe){return this._verify2(Pe,Fe),this.imod(Pe.mul(Fe))},xr.prototype.isqr=function(Pe){return this.imul(Pe,Pe.clone())},xr.prototype.sqr=function(Pe){return this.mul(Pe,Pe)},xr.prototype.sqrt=function(Pe){if(Pe.isZero())return Pe.clone();var Fe=this.m.andln(3);if(Me(Fe%2===1),Fe===3){var ze=this.m.add(new ke(1)).iushrn(2);return this.pow(Pe,ze)}for(var Ue=this.m.subn(1),Ge=0;!Ue.isZero()&&Ue.andln(1)===0;)Ge++,Ue.iushrn(1);Me(!Ue.isZero());var Ze=new ke(1).toRed(this),er=Ze.redNeg(),Ve=this.m.subn(1).iushrn(1),Ie=this.m.bitLength();for(Ie=new ke(2*Ie*Ie).toRed(this);this.pow(Ie,Ve).cmp(er)!==0;)Ie.redIAdd(er);for(var Ye=this.pow(Ie,Ue),ir=this.pow(Pe,Ue.addn(1).iushrn(1)),lr=this.pow(Pe,Ue),br=Ge;lr.cmp(Ze)!==0;){for(var _r=lr,Sr=0;_r.cmp(Ze)!==0;Sr++)_r=_r.redSqr();Me(Sr<br);var wr=this.pow(Ye,new ke(1).iushln(br-Sr-1));ir=ir.redMul(wr),Ye=wr.redSqr(),lr=lr.redMul(Ye),br=Sr}return ir},xr.prototype.invm=function(Pe){var Fe=Pe._invmp(this.m);return Fe.negative!==0?(Fe.negative=0,this.imod(Fe).redNeg()):this.imod(Fe)},xr.prototype.pow=function(Pe,Fe){if(Fe.isZero())return new ke(1).toRed(this);if(Fe.cmpn(1)===0)return Pe.clone();var ze=4,Ue=new Array(1<<ze);Ue[0]=new ke(1).toRed(this),Ue[1]=Pe;for(var Ge=2;Ge<Ue.length;Ge++)Ue[Ge]=this.mul(Ue[Ge-1],Pe);var Ze=Ue[0],er=0,Ve=0,Ie=Fe.bitLength()%26;for(Ie===0&&(Ie=26),Ge=Fe.length-1;Ge>=0;Ge--){for(var Ye=Fe.words[Ge],ir=Ie-1;ir>=0;ir--){var lr=Ye>>ir&1;if(Ze!==Ue[0]&&(Ze=this.sqr(Ze)),lr===0&&er===0){Ve=0;continue}er<<=1,er|=lr,Ve++,!(Ve!==ze&&(Ge!==0||ir!==0))&&(Ze=this.mul(Ze,Ue[er]),Ve=0,er=0)}Ie=26}return Ze},xr.prototype.convertTo=function(Pe){var Fe=Pe.umod(this.m);return Fe===Pe?Fe.clone():Fe},xr.prototype.convertFrom=function(Pe){var Fe=Pe.clone();return Fe.red=null,Fe},ke.mont=function(Pe){return new Rr(Pe)};function Rr(Xe){xr.call(this,Xe),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new ke(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}$e(Rr,xr),Rr.prototype.convertTo=function(Pe){return this.imod(Pe.ushln(this.shift))},Rr.prototype.convertFrom=function(Pe){var Fe=this.imod(Pe.mul(this.rinv));return Fe.red=null,Fe},Rr.prototype.imul=function(Pe,Fe){if(Pe.isZero()||Fe.isZero())return Pe.words[0]=0,Pe.length=1,Pe;var ze=Pe.imul(Fe),Ue=ze.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Ge=ze.isub(Ue).iushrn(this.shift),Ze=Ge;return Ge.cmp(this.m)>=0?Ze=Ge.isub(this.m):Ge.cmpn(0)<0&&(Ze=Ge.iadd(this.m)),Ze._forceRed(this)},Rr.prototype.mul=function(Pe,Fe){if(Pe.isZero()||Fe.isZero())return new ke(0)._forceRed(this);var ze=Pe.mul(Fe),Ue=ze.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Ge=ze.isub(Ue).iushrn(this.shift),Ze=Ge;return Ge.cmp(this.m)>=0?Ze=Ge.isub(this.m):Ge.cmpn(0)<0&&(Ze=Ge.iadd(this.m)),Ze._forceRed(this)},Rr.prototype.invm=function(Pe){var Fe=this.imod(Pe._invmp(this.m).mul(this.r2));return Fe._forceRed(this)}})(Re,commonjsGlobal)})(bn);var bnExports=bn.exports,BN$2=bnExports,Buffer$3=safeBufferExports$1.Buffer;function withPublic$2(Re,je){return Buffer$3.from(Re.toRed(BN$2.mont(je.modulus)).redPow(new BN$2(je.publicExponent)).fromRed().toArray())}var withPublic_1=withPublic$2,parseKeys$1=parseAsn1,randomBytes=browserExports,createHash$1=browser$c,mgf$1=mgf$2,xor$1=xor$2,BN$1=bnExports,withPublic$1=withPublic_1,crt$1=browserifyRsa,Buffer$2=safeBufferExports$1.Buffer,publicEncrypt=function Re(je,_e,Me){var $e;je.padding?$e=je.padding:Me?$e=1:$e=4;var ke=parseKeys$1(je),Ce;if($e===4)Ce=oaep$1(ke,_e);else if($e===1)Ce=pkcs1$1(ke,_e,Me);else if($e===3){if(Ce=new BN$1(_e),Ce.cmp(ke.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return Me?crt$1(Ce,ke):withPublic$1(Ce,ke)};function oaep$1(Re,je){var _e=Re.modulus.byteLength(),Me=je.length,$e=createHash$1("sha1").update(Buffer$2.alloc(0)).digest(),ke=$e.length,Ce=2*ke;if(Me>_e-Ce-2)throw new Error("message too long");var Be=Buffer$2.alloc(_e-Me-Ce-2),qe=_e-ke-1,He=randomBytes(ke),We=xor$1(Buffer$2.concat([$e,Be,Buffer$2.alloc(1,1),je],qe),mgf$1(He,qe)),Ke=xor$1(He,mgf$1(We,ke));return new BN$1(Buffer$2.concat([Buffer$2.alloc(1),Ke,We],_e))}function pkcs1$1(Re,je,_e){var Me=je.length,$e=Re.modulus.byteLength();if(Me>$e-11)throw new Error("message too long");var ke;return _e?ke=Buffer$2.alloc($e-Me-3,255):ke=nonZero($e-Me-3),new BN$1(Buffer$2.concat([Buffer$2.from([0,_e?1:2]),ke,Buffer$2.alloc(1),je],$e))}function nonZero(Re){for(var je=Buffer$2.allocUnsafe(Re),_e=0,Me=randomBytes(Re*2),$e=0,ke;_e<Re;)$e===Me.length&&(Me=randomBytes(Re*2),$e=0),ke=Me[$e++],ke&&(je[_e++]=ke);return je}var parseKeys=parseAsn1,mgf=mgf$2,xor=xor$2,BN=bnExports,crt=browserifyRsa,createHash=browser$c,withPublic=withPublic_1,Buffer$1=safeBufferExports$1.Buffer,privateDecrypt=function Re(je,_e,Me){var $e;je.padding?$e=je.padding:Me?$e=1:$e=4;var ke=parseKeys(je),Ce=ke.modulus.byteLength();if(_e.length>Ce||new BN(_e).cmp(ke.modulus)>=0)throw new Error("decryption error");var Be;Me?Be=withPublic(new BN(_e),ke):Be=crt(_e,ke);var qe=Buffer$1.alloc(Ce-Be.length);if(Be=Buffer$1.concat([qe,Be],Ce),$e===4)return oaep(ke,Be);if($e===1)return pkcs1(ke,Be,Me);if($e===3)return Be;throw new Error("unknown padding")};function oaep(Re,je){var _e=Re.modulus.byteLength(),Me=createHash("sha1").update(Buffer$1.alloc(0)).digest(),$e=Me.length;if(je[0]!==0)throw new Error("decryption error");var ke=je.slice(1,$e+1),Ce=je.slice($e+1),Be=xor(ke,mgf(Ce,$e)),qe=xor(Ce,mgf(Be,_e-$e-1));if(compare(Me,qe.slice(0,$e)))throw new Error("decryption error");for(var He=$e;qe[He]===0;)He++;if(qe[He++]!==1)throw new Error("decryption error");return qe.slice(He)}function pkcs1(Re,je,_e){for(var Me=je.slice(0,2),$e=2,ke=0;je[$e++]!==0;)if($e>=je.length){ke++;break}var Ce=je.slice(2,$e-1);if((Me.toString("hex")!=="0002"&&!_e||Me.toString("hex")!=="0001"&&_e)&&ke++,Ce.length<8&&ke++,ke)throw new Error("decryption error");return je.slice($e)}function compare(Re,je){Re=Buffer$1.from(Re),je=Buffer$1.from(je);var _e=0,Me=Re.length;Re.length!==je.length&&(_e++,Me=Math.min(Re.length,je.length));for(var $e=-1;++$e<Me;)_e+=Re[$e]^je[$e];return _e}(function(Re){Re.publicEncrypt=publicEncrypt,Re.privateDecrypt=privateDecrypt,Re.privateEncrypt=function(_e,Me){return Re.publicEncrypt(_e,Me,!0)},Re.publicDecrypt=function(_e,Me){return Re.privateDecrypt(_e,Me,!0)}})(browser$4);var browser$3={};function oldBrowser(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var safeBuffer=safeBufferExports$1,randombytes=browserExports,Buffer=safeBuffer.Buffer,kBufferMaxLength=safeBuffer.kMaxLength,crypto$1=commonjsGlobal.crypto||commonjsGlobal.msCrypto,kMaxUint32=Math.pow(2,32)-1;function assertOffset(Re,je){if(typeof Re!="number"||Re!==Re)throw new TypeError("offset must be a number");if(Re>kMaxUint32||Re<0)throw new TypeError("offset must be a uint32");if(Re>kBufferMaxLength||Re>je)throw new RangeError("offset out of range")}function assertSize(Re,je,_e){if(typeof Re!="number"||Re!==Re)throw new TypeError("size must be a number");if(Re>kMaxUint32||Re<0)throw new TypeError("size must be a uint32");if(Re+je>_e||Re>kBufferMaxLength)throw new RangeError("buffer too small")}crypto$1&&crypto$1.getRandomValues||!process$1.browser?(browser$3.randomFill=randomFill,browser$3.randomFillSync=randomFillSync):(browser$3.randomFill=oldBrowser,browser$3.randomFillSync=oldBrowser);function randomFill(Re,je,_e,Me){if(!Buffer.isBuffer(Re)&&!(Re instanceof commonjsGlobal.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof je=="function")Me=je,je=0,_e=Re.length;else if(typeof _e=="function")Me=_e,_e=Re.length-je;else if(typeof Me!="function")throw new TypeError('"cb" argument must be a function');return assertOffset(je,Re.length),assertSize(_e,je,Re.length),actualFill(Re,je,_e,Me)}function actualFill(Re,je,_e,Me){if(process$1.browser){var $e=Re.buffer,ke=new Uint8Array($e,je,_e);if(crypto$1.getRandomValues(ke),Me){process$1.nextTick(function(){Me(null,Re)});return}return Re}if(Me){randombytes(_e,function(Be,qe){if(Be)return Me(Be);qe.copy(Re,je),Me(null,Re)});return}var Ce=randombytes(_e);return Ce.copy(Re,je),Re}function randomFillSync(Re,je,_e){if(typeof je>"u"&&(je=0),!Buffer.isBuffer(Re)&&!(Re instanceof commonjsGlobal.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return assertOffset(je,Re.length),_e===void 0&&(_e=Re.length-je),assertSize(_e,je,Re.length),actualFill(Re,je,_e)}var hasRequiredCryptoBrowserify;function requireCryptoBrowserify(){if(hasRequiredCryptoBrowserify)return cryptoBrowserify;hasRequiredCryptoBrowserify=1,cryptoBrowserify.randomBytes=cryptoBrowserify.rng=cryptoBrowserify.pseudoRandomBytes=cryptoBrowserify.prng=browserExports,cryptoBrowserify.createHash=cryptoBrowserify.Hash=browser$c,cryptoBrowserify.createHmac=cryptoBrowserify.Hmac=browser$b;var Re=algos,je=Object.keys(Re),_e=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(je);cryptoBrowserify.getHashes=function(){return _e};var Me=browser$a;cryptoBrowserify.pbkdf2=Me.pbkdf2,cryptoBrowserify.pbkdf2Sync=Me.pbkdf2Sync;var $e=browser$9;cryptoBrowserify.Cipher=$e.Cipher,cryptoBrowserify.createCipher=$e.createCipher,cryptoBrowserify.Cipheriv=$e.Cipheriv,cryptoBrowserify.createCipheriv=$e.createCipheriv,cryptoBrowserify.Decipher=$e.Decipher,cryptoBrowserify.createDecipher=$e.createDecipher,cryptoBrowserify.Decipheriv=$e.Decipheriv,cryptoBrowserify.createDecipheriv=$e.createDecipheriv,cryptoBrowserify.getCiphers=$e.getCiphers,cryptoBrowserify.listCiphers=$e.listCiphers;var ke=requireBrowser$2();cryptoBrowserify.DiffieHellmanGroup=ke.DiffieHellmanGroup,cryptoBrowserify.createDiffieHellmanGroup=ke.createDiffieHellmanGroup,cryptoBrowserify.getDiffieHellman=ke.getDiffieHellman,cryptoBrowserify.createDiffieHellman=ke.createDiffieHellman,cryptoBrowserify.DiffieHellman=ke.DiffieHellman;var Ce=requireBrowser$1();cryptoBrowserify.createSign=Ce.createSign,cryptoBrowserify.Sign=Ce.Sign,cryptoBrowserify.createVerify=Ce.createVerify,cryptoBrowserify.Verify=Ce.Verify,cryptoBrowserify.createECDH=requireBrowser();var Be=browser$4;cryptoBrowserify.publicEncrypt=Be.publicEncrypt,cryptoBrowserify.privateEncrypt=Be.privateEncrypt,cryptoBrowserify.publicDecrypt=Be.publicDecrypt,cryptoBrowserify.privateDecrypt=Be.privateDecrypt;var qe=browser$3;return cryptoBrowserify.randomFill=qe.randomFill,cryptoBrowserify.randomFillSync=qe.randomFillSync,cryptoBrowserify.createCredentials=function(){throw new Error(`sorry, createCredentials is not implemented yet
we accept pull requests
https://github.com/browserify/crypto-browserify`)},cryptoBrowserify.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6},cryptoBrowserify}var cryptoBrowserifyExports=requireCryptoBrowserify();const FIVE_MINUTES=5*60*1e3;function makeSecureWebhooks(Re,je){return{sign(_e,Me,$e=Date.now()){const ke=Re(Me);return`v=${$e},d=${ke(_e+$e)}`},verify(_e,Me,$e,ke={}){const Ce=/v=(\d+),d=(.*)/.exec($e);if(!Ce)return!1;const Be=Number(Ce[1]),qe=Ce[2],He=ke?.timestamp??Date.now(),We=ke?.timeout??FIVE_MINUTES;return Math.abs(He-Be)>We?!1:je(Me)(_e+Be,qe)}}}const symmetric=makeSecureWebhooks(Re=>je=>cryptoBrowserifyExports.createHmac("sha256",Re).update(je).digest("hex"),Re=>(je,_e)=>cryptoBrowserifyExports.createHmac("sha256",Re).update(je).digest("hex")===_e),verify=(Re,je,_e)=>symmetric.verify(Re,je,_e),sign$1=(Re,je)=>symmetric.sign(Re,je);var _a$2;class Retell extends APIClient$1{constructor({baseURL:je=readEnv$1("RETELL_BASE_URL"),apiKey:_e,...Me}){if(_e===void 0)throw new RetellError("Missing required client option apiKey; you need to instantiate the Retell client with an apiKey option, like new Retell({ apiKey: 'YOUR_RETELL_API_KEY' }).");const $e={apiKey:_e,...Me,baseURL:je||"https://api.retellai.com"};super({baseURL:$e.baseURL,timeout:$e.timeout??6e4,httpAgent:$e.httpAgent,maxRetries:$e.maxRetries,fetch:$e.fetch}),this.call=new Call(this),this.phoneNumber=new PhoneNumber(this),this.agent=new Agent(this),this.llm=new Llm(this),this.knowledgeBase=new KnowledgeBase(this),this.voice=new Voice(this),this.concurrency=new Concurrency(this),this.batchCall=new BatchCall(this),this._options=$e,this.apiKey=_e}defaultQuery(){return this._options.defaultQuery}defaultHeaders(je){return{...super.defaultHeaders(je),...this._options.defaultHeaders}}authHeaders(je){return{Authorization:`Bearer ${this.apiKey}`}}}_a$2=Retell;Retell.Retell=_a$2;Retell.DEFAULT_TIMEOUT=6e4;Retell.RetellError=RetellError;Retell.APIError=APIError$1;Retell.APIConnectionError=APIConnectionError$1;Retell.APIConnectionTimeoutError=APIConnectionTimeoutError$1;Retell.APIUserAbortError=APIUserAbortError$1;Retell.NotFoundError=NotFoundError$1;Retell.ConflictError=ConflictError$1;Retell.RateLimitError=RateLimitError$1;Retell.BadRequestError=BadRequestError$1;Retell.AuthenticationError=AuthenticationError$1;Retell.InternalServerError=InternalServerError$1;Retell.PermissionDeniedError=PermissionDeniedError$1;Retell.UnprocessableEntityError=UnprocessableEntityError$1;Retell.toFile=toFile$1;Retell.fileFromPath=fileFromPath$1;Retell.verify=verify;Retell.sign=sign$1;Retell.Call=Call;Retell.PhoneNumber=PhoneNumber;Retell.Agent=Agent;Retell.Llm=Llm;Retell.KnowledgeBase=KnowledgeBase;Retell.Voice=Voice;Retell.Concurrency=Concurrency;Retell.BatchCall=BatchCall;const{isAdmin,isUserAdmin}=adminStore.getState(),useCallStore=react(Re=>({calls:[],agentsCount:0,loading:!1,error:null,fetchCallAgents:async()=>{Re({loading:!0,error:null});try{const je=await supabase.auth.getUser();if(!je){Re({error:"Unable to retrieve call aggents, user is not signed in",loading:!1});return}const{data:_e,error:Me}=await supabase.from("user_call_agents").select("call_agent_id").eq("user_id",je.data?.user?.id);Re({agentsCount:_e?.length,loading:!1})}catch(je){console.error("Error fetching callAgents:",je),Re({error:je.message,loading:!1})}},fetchCustomerCalls:async je=>{Re({loading:!0,error:null});try{const _e=await customerService.getCustomerById(je);if(!_e?.phone)return;const Me=await callsService.fetchCustomerCalls(_e);Re({calls:Me,loading:!1})}catch(_e){console.error("Error fetching calls:",_e),Re({error:_e.message,loading:!1})}},fetchAllCalls:async()=>{Re({loading:!0,error:null});try{if(await isUserAdmin(),!isAdmin){Vt$1.error("Has to be admin to get all calls");return}const je=await callsService.fetchAllCalls();Re({calls:je,loading:!1})}catch(je){console.error("Error fetching calls:",je),Re({error:je.message,loading:!1})}},fetchCallViaAPI:async je=>{Re({loading:!0,error:null});try{const _e="key_b8e3bfa4516f4064f59d0eb60b8f";return await new Retell({apiKey:_e}).call.retrieve(je,{method:"GET",headers:{Authorization:`Bearer ${_e}`,"Content-Type":"application/json"}})}catch(_e){console.error("Error fetching calls:",_e),Re({error:_e.message,loading:!1})}}})),callsService={async fetchCustomerCalls(Re){try{const je=Re.phone,_e=Re.phone,Me=je,{data:$e,error:ke}=await supabase.from("calls").select("*").or(`from_number.eq.${_e},from_number.eq.+1${Me}`).order("created_at",{ascending:!1});if(ke)throw console.error("Error fetching calls:",ke),ke;return $e||[]}catch(je){return console.error("Unhandled error in fetchCustomerCalls:",je),[]}},async fetchAccountCalls(){try{const Re=await supabase.auth.getSession(),{data:je,error:_e}=await supabase.from("calls").select("*").eq("user_id",Re.data.session?.user.id).order("start_time",{ascending:!1});if(_e)throw console.error("Error fetching calls:",_e),_e;return je||[]}catch(Re){return console.error("Unhandled error in fetchCustomerCalls:",Re),[]}},async fetchAllCalls(){try{const{data:Re,error:je}=await supabase.from("calls").select("*").order("start_time",{ascending:!1});if(je)throw console.error("Error fetching calls:",je),je;return Re||[]}catch(Re){return console.error("Unhandled error in fetchAllCalls:",Re),[]}},async getCallRecording(Re){try{var je=await useCallStore.getState().fetchCallViaAPI(Re);return je}catch(_e){console.error("Unhandled error in fetchCustomerCalls:",_e);return}},async deleteCustomerCallRecording(Re){try{const{data:je}=await supabase.auth.getUser(),_e=await customerService.getCustomerById(Re);if(!_e)throw new Error("Can not find customer!");await supabase.from("calls").delete().eq("user_id",je.user?.id).eq("from_number",_e.phone)}catch(je){throw je}}},useCustomerStore=create((Re,je)=>({customers:[],loading:!1,error:null,clearError:()=>Re({error:null}),fetchCustomers:async()=>{Re({loading:!0,error:null});try{const _e=await customerService.getCustomers();Re({customers:_e,loading:!1})}catch(_e){console.error("Error in fetchCustomers:",_e),Re({error:_e.message||"Failed to fetch customers",loading:!1})}},getCustomerById:async _e=>{Re({loading:!0,error:null});try{const Me=await customerService.getCustomerById(_e);return Re({loading:!1}),Me}catch(Me){return console.error("Error in getCustomerById:",Me),Re({error:Me.message||"Failed to fetch customer details",loading:!1}),null}},createCustomer:async _e=>{Re({loading:!0,error:null});try{const{data:{user:Me}}=await supabase.auth.getUser();if(!Me)throw new Error("User not authenticated");const $e=await customerService.createCustomer(_e);await supabase.rpc("add_activity",{p_user_id:Me.id,p_type:"customer",p_title:"Customer Added",p_customer:_e.name});const ke=[...je().customers,$e];return Re({customers:ke,loading:!1}),$e}catch(Me){throw console.error("Error in createCustomer:",Me),Re({error:Me.message||"Failed to create customer",loading:!1}),Me}},updateCustomer:async(_e,Me)=>{Re({loading:!0,error:null});try{const{data:$e,error:ke}=await supabase.from("customers").update({...Me,updated_at:new Date().toISOString()}).eq("id",_e).select().single();if(ke)throw console.error("Error updating customer:",ke),ke;const Ce=je().customers.map(Be=>Be.id===_e?{...Be,...$e}:Be);return Re({customers:Ce,loading:!1}),$e}catch($e){throw console.error("Customer service error:",$e),$e}},deleteCustomer:async _e=>{Re({loading:!0,error:null});try{await piplelineService.deleteCustomerPipelineItems(_e),await callsService.deleteCustomerCallRecording(_e),await customerService.deleteCustomer(_e);const Me=je().customers.filter($e=>$e.id!==_e);Re({customers:Me,loading:!1})}catch(Me){throw console.error("Error in deleteCustomer:",Me),Re({error:Me.message||"Failed to delete customer",loading:!1}),Me}}})),supplierService={async getSuppliers(){try{const{data:Re,error:je}=await supabase.from("suppliers").select("*").order("created_at",{ascending:!1});if(je)throw console.error("Error fetching supplier:",je),je;return Re||[]}catch(Re){throw console.error("Supplier service error:",Re),Re}},async getSupplierById(Re){try{const{data:je,error:_e}=await supabase.from("suppliers").select("*").eq("id",Re).single();if(_e)throw console.error("Error fetching supplier:",_e),_e;return je}catch(je){throw console.error("Supplier service error:",je),je}},async createSupplier(Re){try{const{data:je}=await supabase.auth.getUser();if(!je?.user)throw new Error("User not authenticated");const _e={...Re,user_id:je.user.id,total_spent:0};console.log(_e);const{data:Me,error:$e}=await supabase.from("suppliers").insert([_e]).select().single();if($e)throw console.error("Error creating supplier:",$e),$e;return Me}catch(je){throw console.error("Supplier service error:",je),je}},async updateSUpplier(Re,je){try{const{street:_e,city:Me,state:$e,postal_code:ke,country:Ce,...Be}=je,qe=_e?[_e,Me,$e,ke].filter(Boolean).join(", "):null,{data:He,error:We}=await supabase.from("customers").update({...Be,address:qe,updated_at:new Date().toISOString()}).eq("id",Re).select().single();if(We)throw console.error("Error updating supplier:",We),We;return He}catch(_e){throw console.error("Supplier service error:",_e),_e}},async deleteSupplier(Re){try{const{error:je}=await supabase.from("suppliers").delete().eq("id",Re);if(je)throw console.error("Error deleting supplier:",je),je}catch(je){throw console.error("Supplier service error:",je),je}}},useSupplierStore=create((Re,je)=>({suppliers:[],loading:!1,error:null,clearError:()=>Re({error:null}),fetchSuppliers:async()=>{Re({loading:!0,error:null});try{const _e=await supplierService.getSuppliers();Re({suppliers:_e,loading:!1})}catch(_e){console.error("Error in fetch suppliers:",_e),Re({error:_e.message||"Failed to fetch suppliers",loading:!1})}},getSupplierById:async _e=>{Re({loading:!0,error:null});try{const Me=await supplierService.getSupplierById(_e);return Re({loading:!1}),Me}catch(Me){return console.error("Error in getSupplierById:",Me),Re({error:Me.message||"Failed to fetch customer details",loading:!1}),null}},createSupplier:async _e=>{Re({loading:!0,error:null});try{const{data:{user:Me}}=await supabase.auth.getUser();if(!Me)throw new Error("User not authenticated");const $e=await supplierService.createSupplier(_e);await supabase.rpc("add_activity",{p_user_id:Me.id,p_type:"supplier",p_title:"Supplier Added",p_customer:_e.user_id});const ke=[...je().suppliers,$e];return Re({suppliers:ke,loading:!1}),$e}catch(Me){throw console.error("Error in createSupplier:",Me),Re({error:Me.message||"Failed to create supplier",loading:!1}),Me}},updateSupplier:async(_e,Me)=>{Re({loading:!0,error:null});try{console.log(_e);const{data:$e,error:ke}=await supabase.from("suppliers").update({...Me,updated_at:new Date().toISOString()}).eq("id",_e).select().single();if(ke)throw console.error("Error updating supplier:",ke),ke;const Ce=je().suppliers.map(Be=>Be.id===_e?{...Be,...$e}:Be);return Re({suppliers:Ce,loading:!1}),$e}catch($e){throw console.error("Supplier service error:",$e),$e}},deleteSupplier:async _e=>{Re({loading:!0,error:null});try{await supplierService.deleteSupplier(_e);const Me=je().suppliers.filter($e=>$e.id!==_e);Re({suppliers:Me,loading:!1})}catch(Me){throw console.error("Error in delete supplier:",Me),Re({error:Me.message||"Failed to delete supplier",loading:!1}),Me}}})),productService={async getProducts(){try{const{data:Re,error:je}=await supabase.from("products").select("*").order("created_at",{ascending:!1});if(je)throw console.error("Error fetching products:",je),je;return Re||[]}catch(Re){throw console.error("Product service error:",Re),Re}},async getProductById(Re){try{const{data:je,error:_e}=await supabase.from("products").select("*").eq("id",Re).single();if(_e)throw console.error("Error fetching product:",_e),_e;return je}catch(je){throw console.error("Product service error:",je),je}},async createProduct(Re){try{const{data:je}=await supabase.auth.getUser();if(!je?.user)throw new Error("User not authenticated");const _e={...Re,user_id:je.user.id,status:Re.stock&&Re.stock>0?"In Stock":"Out of Stock",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{data:Me,error:$e}=await supabase.from("products").insert([_e]).select().single();if($e)throw console.error("Error creating product:",$e),$e;return Me}catch(je){throw console.error("Product service error:",je),je}},async updateProduct(Re,je){try{let _e={...je};if("stock"in je){const ke=je.stock||0;ke<=0?_e.status="Out of Stock":ke<=10?_e.status="Low Stock":_e.status="In Stock"}_e.updated_at=new Date().toISOString();const{data:Me,error:$e}=await supabase.from("products").update(_e).eq("id",Re).select().single();if($e)throw console.error("Error updating product:",$e),$e;return Me}catch(_e){throw console.error("Product service error:",_e),_e}},async deleteProduct(Re){try{const{error:je}=await supabase.from("products").delete().eq("id",Re);if(je)throw console.error("Error deleting product:",je),je}catch(je){throw console.error("Product service error:",je),je}},async updateStock(Re,je){try{const{data:_e,error:Me}=await supabase.from("products").select("stock").eq("id",Re).single();if(Me)throw console.error("Error fetching product for stock update:",Me),Me;if(!_e)throw new Error("Product not found");const ke=(_e.stock||0)+je;let Ce;ke<=0?Ce="Out of Stock":ke<=10?Ce="Low Stock":Ce="In Stock";const{data:Be,error:qe}=await supabase.from("products").update({stock:ke,status:Ce,updated_at:new Date().toISOString()}).eq("id",Re).select().single();if(qe)throw console.error("Error updating product stock:",qe),qe;return Be}catch(_e){throw console.error("Product service error:",_e),_e}}},useProductStore=create((Re,je)=>({products:[],loading:!1,error:null,totalProducts:0,clearError:()=>Re({error:null}),fetchProducts:async()=>{Re({loading:!0,error:null});try{const{data:{user:_e}}=await supabase.auth.getUser(),Me=await productService.getProducts();Re({products:Me,totalProducts:Me.length,loading:!1})}catch(_e){throw console.error("Error in fetchProducts:",_e),Re({error:_e.message==="User not authenticated"?"Please sign in to access products":_e.message||"Failed to fetch products",loading:!1}),_e}},getProductById:async _e=>{Re({loading:!0,error:null});try{const Me=await productService.getProductById(_e);return Re({loading:!1}),Me}catch(Me){return console.error("Error in getProductById:",Me),Re({error:Me.message||"Failed to fetch product details",loading:!1}),null}},createProduct:async _e=>{Re({loading:!0,error:null});try{const Me=await productService.createProduct(_e);await supabase.rpc("add_activity",{p_user_id:(await supabase.auth.getUser()).data.user?.id,p_type:"product",p_title:"Product Created",p_product:_e.name,p_quantity:_e.stock});const $e=[...je().products,Me];return Re({products:$e,totalProducts:$e.length,loading:!1}),Me}catch(Me){throw console.error("Error in createProduct:",Me),Re({error:Me.message||"Failed to create product",loading:!1}),Me}},updateProduct:async(_e,Me)=>{Re({loading:!0,error:null});try{const $e=je().products.find(Be=>Be.id===_e),ke=await productService.updateProduct(_e,Me);if("stock"in Me&&$e){const Be=(Me.stock||0)-($e.stock||0);await supabase.rpc("add_activity",{p_user_id:(await supabase.auth.getUser()).data.user?.id,p_type:"product",p_title:`Stock ${Be>0?"Increased":"Decreased"}`,p_product:$e.name,p_quantity:Math.abs(Be)})}const Ce=je().products.map(Be=>Be.id===_e?ke:Be);return Re({products:Ce,totalProducts:Ce.length,loading:!1}),ke}catch($e){throw console.error("Error in updateProduct:",$e),Re({error:$e.message||"Failed to update product",loading:!1}),$e}},deleteProduct:async _e=>{Re({loading:!0,error:null});try{await productService.deleteProduct(_e);const Me=je().products.filter($e=>$e.id!==_e);Re({products:Me,totalProducts:Me.length,loading:!1})}catch(Me){throw console.error("Error in deleteProduct:",Me),Re({error:Me.message||"Failed to delete product",loading:!1}),Me}},updateStock:async(_e,Me)=>{Re({loading:!0,error:null});try{const $e=await productService.updateStock(_e,Me),ke=je().products.map(Ce=>Ce.id===_e?$e:Ce);return Re({products:ke,totalProducts:ke.length,loading:!1}),$e}catch($e){throw console.error("Error in updateStock:",$e),Re({error:$e.message||"Failed to update product stock",loading:!1}),$e}}})),invoiceService={async getInvoices(){try{const{data:Re,error:je}=await supabase.from("invoices").select("*").order("created_at",{ascending:!1});if(je)throw console.error("Error fetching invoices:",je),je;return Re||[]}catch(Re){throw console.error("Invoice service error:",Re),Re}},async getInvoiceById(Re){try{const{data:je,error:_e}=await supabase.from("invoices").select("*").eq("id",Re).single();if(_e)throw console.error("Error fetching invoice:",_e),_e;return je}catch(je){throw console.error("Invoice service error:",je),je}},async generateInvoiceNumber(Re){try{const{data:je}=await supabase.auth.getUser();if(!je?.user)throw new Error("User not authenticated");const{data:_e,error:Me}=await supabase.from("invoices").select("invoice_number").eq("user_id",je.user.id).order("invoice_number",{ascending:!1}).limit(1);if(Me)throw console.error("Error fetching invoice numbers:",Me),Me;let $e=1;if(_e&&_e.length>0){const Be=_e[0].invoice_number.match(/INV-(\d+)/);Be&&Be[1]&&($e=parseInt(Be[1],10)+1)}return`INV-${$e.toString().padStart(6,"0")}`}catch(je){return console.error("Error generating invoice number:",je),"INV-000001"}},async createInvoice(Re){try{const je=await this.generateInvoiceNumber(""),{data:_e}=await supabase.auth.getUser();if(!_e?.user)throw new Error("User not authenticated");let Me=Re.customer||null,$e="",ke=null,Ce=null;if(Re.newCustomer&&!Me){const{data:tr,error:cr}=await supabase.from("customers").insert([{name:Re.newCustomer.name,email:Re.newCustomer.email,phone:Re.newCustomer.phone,address:Re.newCustomer.address,type:"Individual",status:"Active",total_spent:0,user_id:_e.user.id}]).select().single();if(cr)throw console.error("Error creating customer:",cr),new Error("Failed to create customer");Me=tr.id,$e=tr.name,ke=tr.email,Ce=tr.address}else if(Me){const{data:tr}=await supabase.from("customers").select("name, email, address").eq("id",Me).single();tr&&($e=tr.name,ke=tr.email,Ce=tr.address)}const Be=Re.items.map(tr=>({product_id:tr.product||null,description:tr.description,quantity:tr.quantity,unit_price:tr.unitPrice,total:tr.quantity*tr.unitPrice})),qe=Be.reduce((tr,cr)=>tr+cr.total,0),He=parseFloat(Re.taxRate.toString())/100,We=qe*He,Ke=qe+We,Je={invoice_number:je,customer_id:Me,customer_name:$e,customer_email:ke,customer_address:Ce,date:Re.invoiceDate,due_date:Re.dueDate,items:Be,subtotal:qe,tax_rate:He,tax:We,total:Ke,notes:Re.notes||null,status:"Draft",user_id:_e.user.id},{data:Qe,error:rr}=await supabase.from("invoices").insert([Je]).select().single();if(rr)throw console.error("Error creating invoice:",rr),rr;return Qe}catch(je){throw console.error("Invoice service error:",je),je}},async updateInvoice(Re,je){try{const _e={...je,updated_at:new Date().toISOString()};je.customer_email!==void 0&&(_e.customer_email=je.customer_email),je.customer_address!==void 0&&(_e.customer_address=je.customer_address);const{data:Me,error:$e}=await supabase.from("invoices").update(_e).eq("id",Re).select().single();if($e)throw console.error("Error updating invoice:",$e),$e;return Me}catch(_e){throw console.error("Invoice service error:",_e),_e}},async updateInvoiceStatus(Re,je){try{const _e={status:je};je==="Paid"&&(_e.payment_date=new Date().toISOString());const{data:Me,error:$e}=await supabase.from("invoices").update(_e).eq("id",Re).select().single();if($e)throw console.error("Error updating invoice status:",$e),$e;return Me}catch(_e){throw console.error("Invoice service error:",_e),_e}},async deleteInvoice(Re){try{const{error:je}=await supabase.from("invoices").delete().eq("id",Re);if(je)throw console.error("Error deleting invoice:",je),je}catch(je){throw console.error("Invoice service error:",je),je}},async generatePublicLink(Re){try{return`${window.location.origin}/public/invoice/${Re}`}catch(je){throw console.error("Invoice service error:",je),je}},async generatePaymentLink(Re){try{return`${window.location.origin}/pay/invoice/${Re}`}catch(je){throw console.error("Invoice service error:",je),je}},async duplicateInvoice(Re){try{const{data:je,error:_e}=await supabase.from("invoices").select("*").eq("id",Re).single();if(_e)throw console.error("Error fetching invoice to duplicate:",_e),_e;if(!je)throw new Error("Invoice not found");const Me=await this.generateInvoiceNumber(je.customer_id||"new"),$e={...je,id:void 0,invoice_number:Me,date:new Date().toISOString(),due_date:new Date(Date.now()+30*24*60*60*1e3).toISOString(),status:"Draft",payment_date:null,created_at:void 0,updated_at:void 0},{data:ke,error:Ce}=await supabase.from("invoices").insert([$e]).select().single();if(Ce)throw console.error("Error duplicating invoice:",Ce),Ce;return ke}catch(je){throw console.error("Invoice service error:",je),je}}},useInvoiceStore=create((Re,je)=>({invoices:[],loading:!1,error:null,clearError:()=>Re({error:null}),fetchInvoices:async()=>{Re({loading:!0,error:null});try{const _e=await invoiceService.getInvoices();Re({invoices:_e,loading:!1})}catch(_e){console.error("Error in fetchInvoices:",_e),Re({error:_e.message||"Failed to fetch invoices",loading:!1})}},getInvoiceById:async _e=>{Re({loading:!0,error:null});try{const Me=await invoiceService.getInvoiceById(_e);return Re({loading:!1}),Me}catch(Me){return console.error("Error in getInvoiceById:",Me),Re({error:Me.message||"Failed to fetch invoice details",loading:!1}),null}},createInvoice:async _e=>{Re({loading:!0,error:null});try{const Me=await invoiceService.createInvoice(_e);try{const{data:ke}=await supabase.auth.getUser();ke?.user&&await supabase.rpc("add_activity",{p_user_id:ke.user.id,p_type:"invoice",p_title:"Invoice Created",p_customer:Me.customer_name,p_amount:Me.total})}catch(ke){console.error("Error logging activity:",ke)}const $e=[...je().invoices,Me];return Re({invoices:$e,loading:!1}),Me}catch(Me){throw console.error("Error in createInvoice:",Me),Re({error:Me.message||"Failed to create invoice",loading:!1}),Me}},updateInvoice:async(_e,Me)=>{Re({loading:!0,error:null});try{const $e=await invoiceService.updateInvoice(_e,Me),ke=je().invoices.map(Ce=>Ce.id===_e?$e:Ce);return Re({invoices:ke,loading:!1}),$e}catch($e){throw console.error("Error in updateInvoice:",$e),Re({error:$e.message||"Failed to update invoice",loading:!1}),$e}},updateInvoiceStatus:async(_e,Me)=>{Re({loading:!0,error:null});try{const $e=await invoiceService.updateInvoiceStatus(_e,Me),ke=je().invoices.map(Ce=>Ce.id===_e?$e:Ce);return Re({invoices:ke,loading:!1}),$e}catch($e){throw console.error("Error in updateInvoiceStatus:",$e),Re({error:$e.message||"Failed to update invoice status",loading:!1}),$e}},deleteInvoice:async _e=>{Re({loading:!0,error:null});try{await invoiceService.deleteInvoice(_e);const Me=je().invoices.filter($e=>$e.id!==_e);Re({invoices:Me,loading:!1})}catch(Me){throw console.error("Error in deleteInvoice:",Me),Re({error:Me.message||"Failed to delete invoice",loading:!1}),Me}},duplicateInvoice:async _e=>{Re({loading:!0,error:null});try{const Me=await invoiceService.duplicateInvoice(_e),$e=[...je().invoices,Me];return Re({invoices:$e,loading:!1}),Me}catch(Me){throw console.error("Error in duplicateInvoice:",Me),Re({error:Me.message||"Failed to duplicate invoice",loading:!1}),Me}},generatePublicLink:async _e=>{try{return await invoiceService.generatePublicLink(_e)}catch(Me){throw console.error("Error generating public link:",Me),Me}},generatePaymentLink:async _e=>{try{return await invoiceService.generatePaymentLink(_e)}catch(Me){throw console.error("Error generating payment link:",Me),Me}}})),useCalendarStore=create((Re,je)=>({events:[],loading:!1,error:null,currentDate:new Date,view:"month",clearError:()=>Re({error:null}),setView:_e=>Re({view:_e}),setCurrentDate:_e=>Re({currentDate:_e}),fetchEvents:async()=>{Re({loading:!0,error:null});try{const{data:_e,error:Me}=await supabase.from("calendar_events").select("*").order("start",{ascending:!0});if(Me)throw Me;const $e=(_e||[]).map(ke=>({...ke,start:new Date(ke.start),end:new Date(ke.end)}));Re({events:$e,loading:!1})}catch(_e){console.error("Error in fetchEvents:",_e),Re({error:_e.message||"Failed to fetch calendar events",loading:!1})}},addEvent:async _e=>{Re({loading:!0,error:null});try{const{data:{user:Me}}=await supabase.auth.getUser();if(!Me)throw new Error("User not authenticated");const{data:$e,error:ke}=await supabase.from("calendar_events").insert([{..._e,user_id:Me.id,start:_e.start?.toISOString(),end:_e.end?.toISOString()}]).select().single();if(ke)throw ke;const Ce={...$e,start:new Date($e.start),end:new Date($e.end)};return Re({events:[...je().events,Ce],loading:!1}),Ce}catch(Me){throw console.error("Error in addEvent:",Me),Re({error:Me.message||"Failed to add event",loading:!1}),Me}},updateEvent:async(_e,Me)=>{Re({loading:!0,error:null});try{const{data:$e,error:ke}=await supabase.from("calendar_events").update({...Me,start:Me.start?.toISOString(),end:Me.end?.toISOString()}).eq("id",_e).select().single();if(ke)throw ke;const Ce={...$e,start:new Date($e.start),end:new Date($e.end)};return Re({events:je().events.map(Be=>Be.id===_e?Ce:Be),loading:!1}),Ce}catch($e){throw console.error("Error in updateEvent:",$e),Re({error:$e.message||"Failed to update event",loading:!1}),$e}},deleteEvent:async _e=>{Re({loading:!0,error:null});try{const{error:Me}=await supabase.from("calendar_events").delete().eq("id",_e);if(Me)throw Me;Re({events:je().events.filter($e=>$e.id!==_e),loading:!1})}catch(Me){throw console.error("Error in deleteEvent:",Me),Re({error:Me.message||"Failed to delete event",loading:!1}),Me}}}));/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function round$1(Re){return Re+.5|0}const lim=(Re,je,_e)=>Math.max(Math.min(Re,_e),je);function p2b(Re){return lim(round$1(Re*2.55),0,255)}function n2b(Re){return lim(round$1(Re*255),0,255)}function b2n(Re){return lim(round$1(Re/2.55)/100,0,1)}function n2p(Re){return lim(round$1(Re*100),0,100)}const map$1={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},hex=[..."0123456789ABCDEF"],h1=Re=>hex[Re&15],h2=Re=>hex[(Re&240)>>4]+hex[Re&15],eq$7=Re=>(Re&240)>>4===(Re&15),isShort=Re=>eq$7(Re.r)&&eq$7(Re.g)&&eq$7(Re.b)&&eq$7(Re.a);function hexParse(Re){var je=Re.length,_e;return Re[0]==="#"&&(je===4||je===5?_e={r:255&map$1[Re[1]]*17,g:255&map$1[Re[2]]*17,b:255&map$1[Re[3]]*17,a:je===5?map$1[Re[4]]*17:255}:(je===7||je===9)&&(_e={r:map$1[Re[1]]<<4|map$1[Re[2]],g:map$1[Re[3]]<<4|map$1[Re[4]],b:map$1[Re[5]]<<4|map$1[Re[6]],a:je===9?map$1[Re[7]]<<4|map$1[Re[8]]:255})),_e}const alpha=(Re,je)=>Re<255?je(Re):"";function hexString(Re){var je=isShort(Re)?h1:h2;return Re?"#"+je(Re.r)+je(Re.g)+je(Re.b)+alpha(Re.a,je):void 0}const HUE_RE=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function hsl2rgbn(Re,je,_e){const Me=je*Math.min(_e,1-_e),$e=(ke,Ce=(ke+Re/30)%12)=>_e-Me*Math.max(Math.min(Ce-3,9-Ce,1),-1);return[$e(0),$e(8),$e(4)]}function hsv2rgbn(Re,je,_e){const Me=($e,ke=($e+Re/60)%6)=>_e-_e*je*Math.max(Math.min(ke,4-ke,1),0);return[Me(5),Me(3),Me(1)]}function hwb2rgbn(Re,je,_e){const Me=hsl2rgbn(Re,1,.5);let $e;for(je+_e>1&&($e=1/(je+_e),je*=$e,_e*=$e),$e=0;$e<3;$e++)Me[$e]*=1-je-_e,Me[$e]+=je;return Me}function hueValue(Re,je,_e,Me,$e){return Re===$e?(je-_e)/Me+(je<_e?6:0):je===$e?(_e-Re)/Me+2:(Re-je)/Me+4}function rgb2hsl(Re){const _e=Re.r/255,Me=Re.g/255,$e=Re.b/255,ke=Math.max(_e,Me,$e),Ce=Math.min(_e,Me,$e),Be=(ke+Ce)/2;let qe,He,We;return ke!==Ce&&(We=ke-Ce,He=Be>.5?We/(2-ke-Ce):We/(ke+Ce),qe=hueValue(_e,Me,$e,We,ke),qe=qe*60+.5),[qe|0,He||0,Be]}function calln(Re,je,_e,Me){return(Array.isArray(je)?Re(je[0],je[1],je[2]):Re(je,_e,Me)).map(n2b)}function hsl2rgb(Re,je,_e){return calln(hsl2rgbn,Re,je,_e)}function hwb2rgb(Re,je,_e){return calln(hwb2rgbn,Re,je,_e)}function hsv2rgb(Re,je,_e){return calln(hsv2rgbn,Re,je,_e)}function hue(Re){return(Re%360+360)%360}function hueParse(Re){const je=HUE_RE.exec(Re);let _e=255,Me;if(!je)return;je[5]!==Me&&(_e=je[6]?p2b(+je[5]):n2b(+je[5]));const $e=hue(+je[2]),ke=+je[3]/100,Ce=+je[4]/100;return je[1]==="hwb"?Me=hwb2rgb($e,ke,Ce):je[1]==="hsv"?Me=hsv2rgb($e,ke,Ce):Me=hsl2rgb($e,ke,Ce),{r:Me[0],g:Me[1],b:Me[2],a:_e}}function rotate(Re,je){var _e=rgb2hsl(Re);_e[0]=hue(_e[0]+je),_e=hsl2rgb(_e),Re.r=_e[0],Re.g=_e[1],Re.b=_e[2]}function hslString(Re){if(!Re)return;const je=rgb2hsl(Re),_e=je[0],Me=n2p(je[1]),$e=n2p(je[2]);return Re.a<255?`hsla(${_e}, ${Me}%, ${$e}%, ${b2n(Re.a)})`:`hsl(${_e}, ${Me}%, ${$e}%)`}const map={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},names$1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function unpack(){const Re={},je=Object.keys(names$1),_e=Object.keys(map);let Me,$e,ke,Ce,Be;for(Me=0;Me<je.length;Me++){for(Ce=Be=je[Me],$e=0;$e<_e.length;$e++)ke=_e[$e],Be=Be.replace(ke,map[ke]);ke=parseInt(names$1[Ce],16),Re[Be]=[ke>>16&255,ke>>8&255,ke&255]}return Re}let names;function nameParse(Re){names||(names=unpack(),names.transparent=[0,0,0,0]);const je=names[Re.toLowerCase()];return je&&{r:je[0],g:je[1],b:je[2],a:je.length===4?je[3]:255}}const RGB_RE=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function rgbParse(Re){const je=RGB_RE.exec(Re);let _e=255,Me,$e,ke;if(je){if(je[7]!==Me){const Ce=+je[7];_e=je[8]?p2b(Ce):lim(Ce*255,0,255)}return Me=+je[1],$e=+je[3],ke=+je[5],Me=255&(je[2]?p2b(Me):lim(Me,0,255)),$e=255&(je[4]?p2b($e):lim($e,0,255)),ke=255&(je[6]?p2b(ke):lim(ke,0,255)),{r:Me,g:$e,b:ke,a:_e}}}function rgbString(Re){return Re&&(Re.a<255?`rgba(${Re.r}, ${Re.g}, ${Re.b}, ${b2n(Re.a)})`:`rgb(${Re.r}, ${Re.g}, ${Re.b})`)}const to=Re=>Re<=.0031308?Re*12.92:Math.pow(Re,1/2.4)*1.055-.055,from=Re=>Re<=.04045?Re/12.92:Math.pow((Re+.055)/1.055,2.4);function interpolate$1(Re,je,_e){const Me=from(b2n(Re.r)),$e=from(b2n(Re.g)),ke=from(b2n(Re.b));return{r:n2b(to(Me+_e*(from(b2n(je.r))-Me))),g:n2b(to($e+_e*(from(b2n(je.g))-$e))),b:n2b(to(ke+_e*(from(b2n(je.b))-ke))),a:Re.a+_e*(je.a-Re.a)}}function modHSL(Re,je,_e){if(Re){let Me=rgb2hsl(Re);Me[je]=Math.max(0,Math.min(Me[je]+Me[je]*_e,je===0?360:1)),Me=hsl2rgb(Me),Re.r=Me[0],Re.g=Me[1],Re.b=Me[2]}}function clone$1(Re,je){return Re&&Object.assign(je||{},Re)}function fromObject(Re){var je={r:0,g:0,b:0,a:255};return Array.isArray(Re)?Re.length>=3&&(je={r:Re[0],g:Re[1],b:Re[2],a:255},Re.length>3&&(je.a=n2b(Re[3]))):(je=clone$1(Re,{r:0,g:0,b:0,a:1}),je.a=n2b(je.a)),je}function functionParse(Re){return Re.charAt(0)==="r"?rgbParse(Re):hueParse(Re)}class Color{constructor(je){if(je instanceof Color)return je;const _e=typeof je;let Me;_e==="object"?Me=fromObject(je):_e==="string"&&(Me=hexParse(je)||nameParse(je)||functionParse(je)),this._rgb=Me,this._valid=!!Me}get valid(){return this._valid}get rgb(){var je=clone$1(this._rgb);return je&&(je.a=b2n(je.a)),je}set rgb(je){this._rgb=fromObject(je)}rgbString(){return this._valid?rgbString(this._rgb):void 0}hexString(){return this._valid?hexString(this._rgb):void 0}hslString(){return this._valid?hslString(this._rgb):void 0}mix(je,_e){if(je){const Me=this.rgb,$e=je.rgb;let ke;const Ce=_e===ke?.5:_e,Be=2*Ce-1,qe=Me.a-$e.a,He=((Be*qe===-1?Be:(Be+qe)/(1+Be*qe))+1)/2;ke=1-He,Me.r=255&He*Me.r+ke*$e.r+.5,Me.g=255&He*Me.g+ke*$e.g+.5,Me.b=255&He*Me.b+ke*$e.b+.5,Me.a=Ce*Me.a+(1-Ce)*$e.a,this.rgb=Me}return this}interpolate(je,_e){return je&&(this._rgb=interpolate$1(this._rgb,je._rgb,_e)),this}clone(){return new Color(this.rgb)}alpha(je){return this._rgb.a=n2b(je),this}clearer(je){const _e=this._rgb;return _e.a*=1-je,this}greyscale(){const je=this._rgb,_e=round$1(je.r*.3+je.g*.59+je.b*.11);return je.r=je.g=je.b=_e,this}opaquer(je){const _e=this._rgb;return _e.a*=1+je,this}negate(){const je=this._rgb;return je.r=255-je.r,je.g=255-je.g,je.b=255-je.b,this}lighten(je){return modHSL(this._rgb,2,je),this}darken(je){return modHSL(this._rgb,2,-je),this}saturate(je){return modHSL(this._rgb,1,je),this}desaturate(je){return modHSL(this._rgb,1,-je),this}rotate(je){return rotate(this._rgb,je),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function noop$2(){}const uid=(()=>{let Re=0;return()=>Re++})();function isNullOrUndef(Re){return Re==null}function isArray$d(Re){if(Array.isArray&&Array.isArray(Re))return!0;const je=Object.prototype.toString.call(Re);return je.slice(0,7)==="[object"&&je.slice(-6)==="Array]"}function isObject$a(Re){return Re!==null&&Object.prototype.toString.call(Re)==="[object Object]"}function isNumberFinite(Re){return(typeof Re=="number"||Re instanceof Number)&&isFinite(+Re)}function finiteOrDefault(Re,je){return isNumberFinite(Re)?Re:je}function valueOrDefault(Re,je){return typeof Re>"u"?je:Re}const toDimension=(Re,je)=>typeof Re=="string"&&Re.endsWith("%")?parseFloat(Re)/100*je:+Re;function callback(Re,je,_e){if(Re&&typeof Re.call=="function")return Re.apply(_e,je)}function each(Re,je,_e,Me){let $e,ke,Ce;if(isArray$d(Re))for(ke=Re.length,$e=0;$e<ke;$e++)je.call(_e,Re[$e],$e);else if(isObject$a(Re))for(Ce=Object.keys(Re),ke=Ce.length,$e=0;$e<ke;$e++)je.call(_e,Re[Ce[$e]],Ce[$e])}function _elementsEqual(Re,je){let _e,Me,$e,ke;if(!Re||!je||Re.length!==je.length)return!1;for(_e=0,Me=Re.length;_e<Me;++_e)if($e=Re[_e],ke=je[_e],$e.datasetIndex!==ke.datasetIndex||$e.index!==ke.index)return!1;return!0}function clone(Re){if(isArray$d(Re))return Re.map(clone);if(isObject$a(Re)){const je=Object.create(null),_e=Object.keys(Re),Me=_e.length;let $e=0;for(;$e<Me;++$e)je[_e[$e]]=clone(Re[_e[$e]]);return je}return Re}function isValidKey(Re){return["__proto__","prototype","constructor"].indexOf(Re)===-1}function _merger(Re,je,_e,Me){if(!isValidKey(Re))return;const $e=je[Re],ke=_e[Re];isObject$a($e)&&isObject$a(ke)?merge$1($e,ke,Me):je[Re]=clone(ke)}function merge$1(Re,je,_e){const Me=isArray$d(je)?je:[je],$e=Me.length;if(!isObject$a(Re))return Re;_e=_e||{};const ke=_e.merger||_merger;let Ce;for(let Be=0;Be<$e;++Be){if(Ce=Me[Be],!isObject$a(Ce))continue;const qe=Object.keys(Ce);for(let He=0,We=qe.length;He<We;++He)ke(qe[He],Re,Ce,_e)}return Re}function mergeIf(Re,je){return merge$1(Re,je,{merger:_mergerIf})}function _mergerIf(Re,je,_e){if(!isValidKey(Re))return;const Me=je[Re],$e=_e[Re];isObject$a(Me)&&isObject$a($e)?mergeIf(Me,$e):Object.prototype.hasOwnProperty.call(je,Re)||(je[Re]=clone($e))}const keyResolvers={"":Re=>Re,x:Re=>Re.x,y:Re=>Re.y};function _splitKey(Re){const je=Re.split("."),_e=[];let Me="";for(const $e of je)Me+=$e,Me.endsWith("\\")?Me=Me.slice(0,-1)+".":(_e.push(Me),Me="");return _e}function _getKeyResolver(Re){const je=_splitKey(Re);return _e=>{for(const Me of je){if(Me==="")break;_e=_e&&_e[Me]}return _e}}function resolveObjectKey(Re,je){return(keyResolvers[je]||(keyResolvers[je]=_getKeyResolver(je)))(Re)}function _capitalize(Re){return Re.charAt(0).toUpperCase()+Re.slice(1)}const defined=Re=>typeof Re<"u",isFunction$5=Re=>typeof Re=="function",setsEqual=(Re,je)=>{if(Re.size!==je.size)return!1;for(const _e of Re)if(!je.has(_e))return!1;return!0};function _isClickEvent(Re){return Re.type==="mouseup"||Re.type==="click"||Re.type==="contextmenu"}const PI=Math.PI,TAU=2*PI,PITAU=TAU+PI,INFINITY$4=Number.POSITIVE_INFINITY,RAD_PER_DEG=PI/180,HALF_PI=PI/2,QUARTER_PI=PI/4,TWO_THIRDS_PI=PI*2/3,log10=Math.log10,sign=Math.sign;function almostEquals(Re,je,_e){return Math.abs(Re-je)<_e}function niceNum(Re){const je=Math.round(Re);Re=almostEquals(Re,je,Re/1e3)?je:Re;const _e=Math.pow(10,Math.floor(log10(Re))),Me=Re/_e;return(Me<=1?1:Me<=2?2:Me<=5?5:10)*_e}function _factorize(Re){const je=[],_e=Math.sqrt(Re);let Me;for(Me=1;Me<_e;Me++)Re%Me===0&&(je.push(Me),je.push(Re/Me));return _e===(_e|0)&&je.push(_e),je.sort(($e,ke)=>$e-ke).pop(),je}function isNonPrimitive(Re){return typeof Re=="symbol"||typeof Re=="object"&&Re!==null&&!(Symbol.toPrimitive in Re||"toString"in Re||"valueOf"in Re)}function isNumber(Re){return!isNonPrimitive(Re)&&!isNaN(parseFloat(Re))&&isFinite(Re)}function almostWhole(Re,je){const _e=Math.round(Re);return _e-je<=Re&&_e+je>=Re}function _setMinAndMaxByKey(Re,je,_e){let Me,$e,ke;for(Me=0,$e=Re.length;Me<$e;Me++)ke=Re[Me][_e],isNaN(ke)||(je.min=Math.min(je.min,ke),je.max=Math.max(je.max,ke))}function toRadians(Re){return Re*(PI/180)}function toDegrees(Re){return Re*(180/PI)}function _decimalPlaces(Re){if(!isNumberFinite(Re))return;let je=1,_e=0;for(;Math.round(Re*je)/je!==Re;)je*=10,_e++;return _e}function getAngleFromPoint(Re,je){const _e=je.x-Re.x,Me=je.y-Re.y,$e=Math.sqrt(_e*_e+Me*Me);let ke=Math.atan2(Me,_e);return ke<-.5*PI&&(ke+=TAU),{angle:ke,distance:$e}}function distanceBetweenPoints(Re,je){return Math.sqrt(Math.pow(je.x-Re.x,2)+Math.pow(je.y-Re.y,2))}function _angleDiff(Re,je){return(Re-je+PITAU)%TAU-PI}function _normalizeAngle(Re){return(Re%TAU+TAU)%TAU}function _angleBetween(Re,je,_e,Me){const $e=_normalizeAngle(Re),ke=_normalizeAngle(je),Ce=_normalizeAngle(_e),Be=_normalizeAngle(ke-$e),qe=_normalizeAngle(Ce-$e),He=_normalizeAngle($e-ke),We=_normalizeAngle($e-Ce);return $e===ke||$e===Ce||Me&&ke===Ce||Be>qe&&He<We}function _limitValue(Re,je,_e){return Math.max(je,Math.min(_e,Re))}function _int16Range(Re){return _limitValue(Re,-32768,32767)}function _isBetween(Re,je,_e,Me=1e-6){return Re>=Math.min(je,_e)-Me&&Re<=Math.max(je,_e)+Me}function _lookup(Re,je,_e){_e=_e||(Ce=>Re[Ce]<je);let Me=Re.length-1,$e=0,ke;for(;Me-$e>1;)ke=$e+Me>>1,_e(ke)?$e=ke:Me=ke;return{lo:$e,hi:Me}}const _lookupByKey=(Re,je,_e,Me)=>_lookup(Re,_e,Me?$e=>{const ke=Re[$e][je];return ke<_e||ke===_e&&Re[$e+1][je]===_e}:$e=>Re[$e][je]<_e),_rlookupByKey=(Re,je,_e)=>_lookup(Re,_e,Me=>Re[Me][je]>=_e);function _filterBetween(Re,je,_e){let Me=0,$e=Re.length;for(;Me<$e&&Re[Me]<je;)Me++;for(;$e>Me&&Re[$e-1]>_e;)$e--;return Me>0||$e<Re.length?Re.slice(Me,$e):Re}const arrayEvents=["push","pop","shift","splice","unshift"];function listenArrayEvents(Re,je){if(Re._chartjs){Re._chartjs.listeners.push(je);return}Object.defineProperty(Re,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[je]}}),arrayEvents.forEach(_e=>{const Me="_onData"+_capitalize(_e),$e=Re[_e];Object.defineProperty(Re,_e,{configurable:!0,enumerable:!1,value(...ke){const Ce=$e.apply(this,ke);return Re._chartjs.listeners.forEach(Be=>{typeof Be[Me]=="function"&&Be[Me](...ke)}),Ce}})})}function unlistenArrayEvents(Re,je){const _e=Re._chartjs;if(!_e)return;const Me=_e.listeners,$e=Me.indexOf(je);$e!==-1&&Me.splice($e,1),!(Me.length>0)&&(arrayEvents.forEach(ke=>{delete Re[ke]}),delete Re._chartjs)}function _arrayUnique(Re){const je=new Set(Re);return je.size===Re.length?Re:Array.from(je)}const requestAnimFrame=function(){return typeof window>"u"?function(Re){return Re()}:window.requestAnimationFrame}();function throttled(Re,je){let _e=[],Me=!1;return function(...$e){_e=$e,Me||(Me=!0,requestAnimFrame.call(window,()=>{Me=!1,Re.apply(je,_e)}))}}function debounce$1(Re,je){let _e;return function(...Me){return je?(clearTimeout(_e),_e=setTimeout(Re,je,Me)):Re.apply(this,Me),je}}const _toLeftRightCenter=Re=>Re==="start"?"left":Re==="end"?"right":"center",_alignStartEnd=(Re,je,_e)=>Re==="start"?je:Re==="end"?_e:(je+_e)/2,_textX=(Re,je,_e,Me)=>Re===(Me?"left":"right")?_e:Re==="center"?(je+_e)/2:je;function _getStartAndCountOfVisiblePoints(Re,je,_e){const Me=je.length;let $e=0,ke=Me;if(Re._sorted){const{iScale:Ce,vScale:Be,_parsed:qe}=Re,He=Re.dataset&&Re.dataset.options?Re.dataset.options.spanGaps:null,We=Ce.axis,{min:Ke,max:Je,minDefined:Qe,maxDefined:rr}=Ce.getUserBounds();if(Qe){if($e=Math.min(_lookupByKey(qe,We,Ke).lo,_e?Me:_lookupByKey(je,We,Ce.getPixelForValue(Ke)).lo),He){const tr=qe.slice(0,$e+1).reverse().findIndex(cr=>!isNullOrUndef(cr[Be.axis]));$e-=Math.max(0,tr)}$e=_limitValue($e,0,Me-1)}if(rr){let tr=Math.max(_lookupByKey(qe,Ce.axis,Je,!0).hi+1,_e?0:_lookupByKey(je,We,Ce.getPixelForValue(Je),!0).hi+1);if(He){const cr=qe.slice(tr-1).findIndex(or=>!isNullOrUndef(or[Be.axis]));tr+=Math.max(0,cr)}ke=_limitValue(tr,$e,Me)-$e}else ke=Me-$e}return{start:$e,count:ke}}function _scaleRangesChanged(Re){const{xScale:je,yScale:_e,_scaleRanges:Me}=Re,$e={xmin:je.min,xmax:je.max,ymin:_e.min,ymax:_e.max};if(!Me)return Re._scaleRanges=$e,!0;const ke=Me.xmin!==je.min||Me.xmax!==je.max||Me.ymin!==_e.min||Me.ymax!==_e.max;return Object.assign(Me,$e),ke}const atEdge=Re=>Re===0||Re===1,elasticIn=(Re,je,_e)=>-(Math.pow(2,10*(Re-=1))*Math.sin((Re-je)*TAU/_e)),elasticOut=(Re,je,_e)=>Math.pow(2,-10*Re)*Math.sin((Re-je)*TAU/_e)+1,effects={linear:Re=>Re,easeInQuad:Re=>Re*Re,easeOutQuad:Re=>-Re*(Re-2),easeInOutQuad:Re=>(Re/=.5)<1?.5*Re*Re:-.5*(--Re*(Re-2)-1),easeInCubic:Re=>Re*Re*Re,easeOutCubic:Re=>(Re-=1)*Re*Re+1,easeInOutCubic:Re=>(Re/=.5)<1?.5*Re*Re*Re:.5*((Re-=2)*Re*Re+2),easeInQuart:Re=>Re*Re*Re*Re,easeOutQuart:Re=>-((Re-=1)*Re*Re*Re-1),easeInOutQuart:Re=>(Re/=.5)<1?.5*Re*Re*Re*Re:-.5*((Re-=2)*Re*Re*Re-2),easeInQuint:Re=>Re*Re*Re*Re*Re,easeOutQuint:Re=>(Re-=1)*Re*Re*Re*Re+1,easeInOutQuint:Re=>(Re/=.5)<1?.5*Re*Re*Re*Re*Re:.5*((Re-=2)*Re*Re*Re*Re+2),easeInSine:Re=>-Math.cos(Re*HALF_PI)+1,easeOutSine:Re=>Math.sin(Re*HALF_PI),easeInOutSine:Re=>-.5*(Math.cos(PI*Re)-1),easeInExpo:Re=>Re===0?0:Math.pow(2,10*(Re-1)),easeOutExpo:Re=>Re===1?1:-Math.pow(2,-10*Re)+1,easeInOutExpo:Re=>atEdge(Re)?Re:Re<.5?.5*Math.pow(2,10*(Re*2-1)):.5*(-Math.pow(2,-10*(Re*2-1))+2),easeInCirc:Re=>Re>=1?Re:-(Math.sqrt(1-Re*Re)-1),easeOutCirc:Re=>Math.sqrt(1-(Re-=1)*Re),easeInOutCirc:Re=>(Re/=.5)<1?-.5*(Math.sqrt(1-Re*Re)-1):.5*(Math.sqrt(1-(Re-=2)*Re)+1),easeInElastic:Re=>atEdge(Re)?Re:elasticIn(Re,.075,.3),easeOutElastic:Re=>atEdge(Re)?Re:elasticOut(Re,.075,.3),easeInOutElastic(Re){return atEdge(Re)?Re:Re<.5?.5*elasticIn(Re*2,.1125,.45):.5+.5*elasticOut(Re*2-1,.1125,.45)},easeInBack(Re){return Re*Re*((1.70158+1)*Re-1.70158)},easeOutBack(Re){return(Re-=1)*Re*((1.70158+1)*Re+1.70158)+1},easeInOutBack(Re){let je=1.70158;return(Re/=.5)<1?.5*(Re*Re*(((je*=1.525)+1)*Re-je)):.5*((Re-=2)*Re*(((je*=1.525)+1)*Re+je)+2)},easeInBounce:Re=>1-effects.easeOutBounce(1-Re),easeOutBounce(Re){return Re<1/2.75?7.5625*Re*Re:Re<2/2.75?7.5625*(Re-=1.5/2.75)*Re+.75:Re<2.5/2.75?7.5625*(Re-=2.25/2.75)*Re+.9375:7.5625*(Re-=2.625/2.75)*Re+.984375},easeInOutBounce:Re=>Re<.5?effects.easeInBounce(Re*2)*.5:effects.easeOutBounce(Re*2-1)*.5+.5};function isPatternOrGradient(Re){if(Re&&typeof Re=="object"){const je=Re.toString();return je==="[object CanvasPattern]"||je==="[object CanvasGradient]"}return!1}function color(Re){return isPatternOrGradient(Re)?Re:new Color(Re)}function getHoverColor(Re){return isPatternOrGradient(Re)?Re:new Color(Re).saturate(.5).darken(.1).hexString()}const numbers=["x","y","borderWidth","radius","tension"],colors=["color","borderColor","backgroundColor"];function applyAnimationsDefaults(Re){Re.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),Re.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:je=>je!=="onProgress"&&je!=="onComplete"&&je!=="fn"}),Re.set("animations",{colors:{type:"color",properties:colors},numbers:{type:"number",properties:numbers}}),Re.describe("animations",{_fallback:"animation"}),Re.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:je=>je|0}}}})}function applyLayoutsDefaults(Re){Re.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const intlCache=new Map;function getNumberFormat(Re,je){je=je||{};const _e=Re+JSON.stringify(je);let Me=intlCache.get(_e);return Me||(Me=new Intl.NumberFormat(Re,je),intlCache.set(_e,Me)),Me}function formatNumber(Re,je,_e){return getNumberFormat(je,_e).format(Re)}const formatters$1={values(Re){return isArray$d(Re)?Re:""+Re},numeric(Re,je,_e){if(Re===0)return"0";const Me=this.chart.options.locale;let $e,ke=Re;if(_e.length>1){const He=Math.max(Math.abs(_e[0].value),Math.abs(_e[_e.length-1].value));(He<1e-4||He>1e15)&&($e="scientific"),ke=calculateDelta(Re,_e)}const Ce=log10(Math.abs(ke)),Be=isNaN(Ce)?1:Math.max(Math.min(-1*Math.floor(Ce),20),0),qe={notation:$e,minimumFractionDigits:Be,maximumFractionDigits:Be};return Object.assign(qe,this.options.ticks.format),formatNumber(Re,Me,qe)},logarithmic(Re,je,_e){if(Re===0)return"0";const Me=_e[je].significand||Re/Math.pow(10,Math.floor(log10(Re)));return[1,2,3,5,10,15].includes(Me)||je>.8*_e.length?formatters$1.numeric.call(this,Re,je,_e):""}};function calculateDelta(Re,je){let _e=je.length>3?je[2].value-je[1].value:je[1].value-je[0].value;return Math.abs(_e)>=1&&Re!==Math.floor(Re)&&(_e=Re-Math.floor(Re)),_e}var Ticks={formatters:formatters$1};function applyScaleDefaults(Re){Re.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(je,_e)=>_e.lineWidth,tickColor:(je,_e)=>_e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ticks.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),Re.route("scale.ticks","color","","color"),Re.route("scale.grid","color","","borderColor"),Re.route("scale.border","color","","borderColor"),Re.route("scale.title","color","","color"),Re.describe("scale",{_fallback:!1,_scriptable:je=>!je.startsWith("before")&&!je.startsWith("after")&&je!=="callback"&&je!=="parser",_indexable:je=>je!=="borderDash"&&je!=="tickBorderDash"&&je!=="dash"}),Re.describe("scales",{_fallback:"scale"}),Re.describe("scale.ticks",{_scriptable:je=>je!=="backdropPadding"&&je!=="callback",_indexable:je=>je!=="backdropPadding"})}const overrides$1=Object.create(null),descriptors=Object.create(null);function getScope$1(Re,je){if(!je)return Re;const _e=je.split(".");for(let Me=0,$e=_e.length;Me<$e;++Me){const ke=_e[Me];Re=Re[ke]||(Re[ke]=Object.create(null))}return Re}function set(Re,je,_e){return typeof je=="string"?merge$1(getScope$1(Re,je),_e):merge$1(getScope$1(Re,""),je)}class Defaults{constructor(je,_e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=Me=>Me.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(Me,$e)=>getHoverColor($e.backgroundColor),this.hoverBorderColor=(Me,$e)=>getHoverColor($e.borderColor),this.hoverColor=(Me,$e)=>getHoverColor($e.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(je),this.apply(_e)}set(je,_e){return set(this,je,_e)}get(je){return getScope$1(this,je)}describe(je,_e){return set(descriptors,je,_e)}override(je,_e){return set(overrides$1,je,_e)}route(je,_e,Me,$e){const ke=getScope$1(this,je),Ce=getScope$1(this,Me),Be="_"+_e;Object.defineProperties(ke,{[Be]:{value:ke[_e],writable:!0},[_e]:{enumerable:!0,get(){const qe=this[Be],He=Ce[$e];return isObject$a(qe)?Object.assign({},He,qe):valueOrDefault(qe,He)},set(qe){this[Be]=qe}}})}apply(je){je.forEach(_e=>_e(this))}}var defaults$3=new Defaults({_scriptable:Re=>!Re.startsWith("on"),_indexable:Re=>Re!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[applyAnimationsDefaults,applyLayoutsDefaults,applyScaleDefaults]);function toFontString(Re){return!Re||isNullOrUndef(Re.size)||isNullOrUndef(Re.family)?null:(Re.style?Re.style+" ":"")+(Re.weight?Re.weight+" ":"")+Re.size+"px "+Re.family}function _measureText(Re,je,_e,Me,$e){let ke=je[$e];return ke||(ke=je[$e]=Re.measureText($e).width,_e.push($e)),ke>Me&&(Me=ke),Me}function _alignPixel(Re,je,_e){const Me=Re.currentDevicePixelRatio,$e=_e!==0?Math.max(_e/2,.5):0;return Math.round((je-$e)*Me)/Me+$e}function clearCanvas(Re,je){!je&&!Re||(je=je||Re.getContext("2d"),je.save(),je.resetTransform(),je.clearRect(0,0,Re.width,Re.height),je.restore())}function drawPoint(Re,je,_e,Me){drawPointLegend(Re,je,_e,Me,null)}function drawPointLegend(Re,je,_e,Me,$e){let ke,Ce,Be,qe,He,We,Ke,Je;const Qe=je.pointStyle,rr=je.rotation,tr=je.radius;let cr=(rr||0)*RAD_PER_DEG;if(Qe&&typeof Qe=="object"&&(ke=Qe.toString(),ke==="[object HTMLImageElement]"||ke==="[object HTMLCanvasElement]")){Re.save(),Re.translate(_e,Me),Re.rotate(cr),Re.drawImage(Qe,-Qe.width/2,-Qe.height/2,Qe.width,Qe.height),Re.restore();return}if(!(isNaN(tr)||tr<=0)){switch(Re.beginPath(),Qe){default:$e?Re.ellipse(_e,Me,$e/2,tr,0,0,TAU):Re.arc(_e,Me,tr,0,TAU),Re.closePath();break;case"triangle":We=$e?$e/2:tr,Re.moveTo(_e+Math.sin(cr)*We,Me-Math.cos(cr)*tr),cr+=TWO_THIRDS_PI,Re.lineTo(_e+Math.sin(cr)*We,Me-Math.cos(cr)*tr),cr+=TWO_THIRDS_PI,Re.lineTo(_e+Math.sin(cr)*We,Me-Math.cos(cr)*tr),Re.closePath();break;case"rectRounded":He=tr*.516,qe=tr-He,Ce=Math.cos(cr+QUARTER_PI)*qe,Ke=Math.cos(cr+QUARTER_PI)*($e?$e/2-He:qe),Be=Math.sin(cr+QUARTER_PI)*qe,Je=Math.sin(cr+QUARTER_PI)*($e?$e/2-He:qe),Re.arc(_e-Ke,Me-Be,He,cr-PI,cr-HALF_PI),Re.arc(_e+Je,Me-Ce,He,cr-HALF_PI,cr),Re.arc(_e+Ke,Me+Be,He,cr,cr+HALF_PI),Re.arc(_e-Je,Me+Ce,He,cr+HALF_PI,cr+PI),Re.closePath();break;case"rect":if(!rr){qe=Math.SQRT1_2*tr,We=$e?$e/2:qe,Re.rect(_e-We,Me-qe,2*We,2*qe);break}cr+=QUARTER_PI;case"rectRot":Ke=Math.cos(cr)*($e?$e/2:tr),Ce=Math.cos(cr)*tr,Be=Math.sin(cr)*tr,Je=Math.sin(cr)*($e?$e/2:tr),Re.moveTo(_e-Ke,Me-Be),Re.lineTo(_e+Je,Me-Ce),Re.lineTo(_e+Ke,Me+Be),Re.lineTo(_e-Je,Me+Ce),Re.closePath();break;case"crossRot":cr+=QUARTER_PI;case"cross":Ke=Math.cos(cr)*($e?$e/2:tr),Ce=Math.cos(cr)*tr,Be=Math.sin(cr)*tr,Je=Math.sin(cr)*($e?$e/2:tr),Re.moveTo(_e-Ke,Me-Be),Re.lineTo(_e+Ke,Me+Be),Re.moveTo(_e+Je,Me-Ce),Re.lineTo(_e-Je,Me+Ce);break;case"star":Ke=Math.cos(cr)*($e?$e/2:tr),Ce=Math.cos(cr)*tr,Be=Math.sin(cr)*tr,Je=Math.sin(cr)*($e?$e/2:tr),Re.moveTo(_e-Ke,Me-Be),Re.lineTo(_e+Ke,Me+Be),Re.moveTo(_e+Je,Me-Ce),Re.lineTo(_e-Je,Me+Ce),cr+=QUARTER_PI,Ke=Math.cos(cr)*($e?$e/2:tr),Ce=Math.cos(cr)*tr,Be=Math.sin(cr)*tr,Je=Math.sin(cr)*($e?$e/2:tr),Re.moveTo(_e-Ke,Me-Be),Re.lineTo(_e+Ke,Me+Be),Re.moveTo(_e+Je,Me-Ce),Re.lineTo(_e-Je,Me+Ce);break;case"line":Ce=$e?$e/2:Math.cos(cr)*tr,Be=Math.sin(cr)*tr,Re.moveTo(_e-Ce,Me-Be),Re.lineTo(_e+Ce,Me+Be);break;case"dash":Re.moveTo(_e,Me),Re.lineTo(_e+Math.cos(cr)*($e?$e/2:tr),Me+Math.sin(cr)*tr);break;case!1:Re.closePath();break}Re.fill(),je.borderWidth>0&&Re.stroke()}}function _isPointInArea(Re,je,_e){return _e=_e||.5,!je||Re&&Re.x>je.left-_e&&Re.x<je.right+_e&&Re.y>je.top-_e&&Re.y<je.bottom+_e}function clipArea(Re,je){Re.save(),Re.beginPath(),Re.rect(je.left,je.top,je.right-je.left,je.bottom-je.top),Re.clip()}function unclipArea(Re){Re.restore()}function _steppedLineTo(Re,je,_e,Me,$e){if(!je)return Re.lineTo(_e.x,_e.y);if($e==="middle"){const ke=(je.x+_e.x)/2;Re.lineTo(ke,je.y),Re.lineTo(ke,_e.y)}else $e==="after"!=!!Me?Re.lineTo(je.x,_e.y):Re.lineTo(_e.x,je.y);Re.lineTo(_e.x,_e.y)}function _bezierCurveTo(Re,je,_e,Me){if(!je)return Re.lineTo(_e.x,_e.y);Re.bezierCurveTo(Me?je.cp1x:je.cp2x,Me?je.cp1y:je.cp2y,Me?_e.cp2x:_e.cp1x,Me?_e.cp2y:_e.cp1y,_e.x,_e.y)}function setRenderOpts(Re,je){je.translation&&Re.translate(je.translation[0],je.translation[1]),isNullOrUndef(je.rotation)||Re.rotate(je.rotation),je.color&&(Re.fillStyle=je.color),je.textAlign&&(Re.textAlign=je.textAlign),je.textBaseline&&(Re.textBaseline=je.textBaseline)}function decorateText(Re,je,_e,Me,$e){if($e.strikethrough||$e.underline){const ke=Re.measureText(Me),Ce=je-ke.actualBoundingBoxLeft,Be=je+ke.actualBoundingBoxRight,qe=_e-ke.actualBoundingBoxAscent,He=_e+ke.actualBoundingBoxDescent,We=$e.strikethrough?(qe+He)/2:He;Re.strokeStyle=Re.fillStyle,Re.beginPath(),Re.lineWidth=$e.decorationWidth||2,Re.moveTo(Ce,We),Re.lineTo(Be,We),Re.stroke()}}function drawBackdrop(Re,je){const _e=Re.fillStyle;Re.fillStyle=je.color,Re.fillRect(je.left,je.top,je.width,je.height),Re.fillStyle=_e}function renderText(Re,je,_e,Me,$e,ke={}){const Ce=isArray$d(je)?je:[je],Be=ke.strokeWidth>0&&ke.strokeColor!=="";let qe,He;for(Re.save(),Re.font=$e.string,setRenderOpts(Re,ke),qe=0;qe<Ce.length;++qe)He=Ce[qe],ke.backdrop&&drawBackdrop(Re,ke.backdrop),Be&&(ke.strokeColor&&(Re.strokeStyle=ke.strokeColor),isNullOrUndef(ke.strokeWidth)||(Re.lineWidth=ke.strokeWidth),Re.strokeText(He,_e,Me,ke.maxWidth)),Re.fillText(He,_e,Me,ke.maxWidth),decorateText(Re,_e,Me,He,ke),Me+=Number($e.lineHeight);Re.restore()}function addRoundedRectPath(Re,je){const{x:_e,y:Me,w:$e,h:ke,radius:Ce}=je;Re.arc(_e+Ce.topLeft,Me+Ce.topLeft,Ce.topLeft,1.5*PI,PI,!0),Re.lineTo(_e,Me+ke-Ce.bottomLeft),Re.arc(_e+Ce.bottomLeft,Me+ke-Ce.bottomLeft,Ce.bottomLeft,PI,HALF_PI,!0),Re.lineTo(_e+$e-Ce.bottomRight,Me+ke),Re.arc(_e+$e-Ce.bottomRight,Me+ke-Ce.bottomRight,Ce.bottomRight,HALF_PI,0,!0),Re.lineTo(_e+$e,Me+Ce.topRight),Re.arc(_e+$e-Ce.topRight,Me+Ce.topRight,Ce.topRight,0,-HALF_PI,!0),Re.lineTo(_e+Ce.topLeft,Me)}const LINE_HEIGHT=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,FONT_STYLE=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function toLineHeight(Re,je){const _e=(""+Re).match(LINE_HEIGHT);if(!_e||_e[1]==="normal")return je*1.2;switch(Re=+_e[2],_e[3]){case"px":return Re;case"%":Re/=100;break}return je*Re}const numberOrZero=Re=>+Re||0;function _readValueToProps(Re,je){const _e={},Me=isObject$a(je),$e=Me?Object.keys(je):je,ke=isObject$a(Re)?Me?Ce=>valueOrDefault(Re[Ce],Re[je[Ce]]):Ce=>Re[Ce]:()=>Re;for(const Ce of $e)_e[Ce]=numberOrZero(ke(Ce));return _e}function toTRBL(Re){return _readValueToProps(Re,{top:"y",right:"x",bottom:"y",left:"x"})}function toTRBLCorners(Re){return _readValueToProps(Re,["topLeft","topRight","bottomLeft","bottomRight"])}function toPadding(Re){const je=toTRBL(Re);return je.width=je.left+je.right,je.height=je.top+je.bottom,je}function toFont(Re,je){Re=Re||{},je=je||defaults$3.font;let _e=valueOrDefault(Re.size,je.size);typeof _e=="string"&&(_e=parseInt(_e,10));let Me=valueOrDefault(Re.style,je.style);Me&&!(""+Me).match(FONT_STYLE)&&(console.warn('Invalid font style specified: "'+Me+'"'),Me=void 0);const $e={family:valueOrDefault(Re.family,je.family),lineHeight:toLineHeight(valueOrDefault(Re.lineHeight,je.lineHeight),_e),size:_e,style:Me,weight:valueOrDefault(Re.weight,je.weight),string:""};return $e.string=toFontString($e),$e}function resolve(Re,je,_e,Me){let $e,ke,Ce;for($e=0,ke=Re.length;$e<ke;++$e)if(Ce=Re[$e],Ce!==void 0&&Ce!==void 0)return Ce}function _addGrace(Re,je,_e){const{min:Me,max:$e}=Re,ke=toDimension(je,($e-Me)/2),Ce=(Be,qe)=>_e&&Be===0?0:Be+qe;return{min:Ce(Me,-Math.abs(ke)),max:Ce($e,ke)}}function createContext(Re,je){return Object.assign(Object.create(Re),je)}function _createResolver(Re,je=[""],_e,Me,$e=()=>Re[0]){const ke=_e||Re;typeof Me>"u"&&(Me=_resolve("_fallback",Re));const Ce={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:Re,_rootScopes:ke,_fallback:Me,_getTarget:$e,override:Be=>_createResolver([Be,...Re],je,ke,Me)};return new Proxy(Ce,{deleteProperty(Be,qe){return delete Be[qe],delete Be._keys,delete Re[0][qe],!0},get(Be,qe){return _cached(Be,qe,()=>_resolveWithPrefixes(qe,je,Re,Be))},getOwnPropertyDescriptor(Be,qe){return Reflect.getOwnPropertyDescriptor(Be._scopes[0],qe)},getPrototypeOf(){return Reflect.getPrototypeOf(Re[0])},has(Be,qe){return getKeysFromAllScopes(Be).includes(qe)},ownKeys(Be){return getKeysFromAllScopes(Be)},set(Be,qe,He){const We=Be._storage||(Be._storage=$e());return Be[qe]=We[qe]=He,delete Be._keys,!0}})}function _attachContext(Re,je,_e,Me){const $e={_cacheable:!1,_proxy:Re,_context:je,_subProxy:_e,_stack:new Set,_descriptors:_descriptors(Re,Me),setContext:ke=>_attachContext(Re,ke,_e,Me),override:ke=>_attachContext(Re.override(ke),je,_e,Me)};return new Proxy($e,{deleteProperty(ke,Ce){return delete ke[Ce],delete Re[Ce],!0},get(ke,Ce,Be){return _cached(ke,Ce,()=>_resolveWithContext(ke,Ce,Be))},getOwnPropertyDescriptor(ke,Ce){return ke._descriptors.allKeys?Reflect.has(Re,Ce)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(Re,Ce)},getPrototypeOf(){return Reflect.getPrototypeOf(Re)},has(ke,Ce){return Reflect.has(Re,Ce)},ownKeys(){return Reflect.ownKeys(Re)},set(ke,Ce,Be){return Re[Ce]=Be,delete ke[Ce],!0}})}function _descriptors(Re,je={scriptable:!0,indexable:!0}){const{_scriptable:_e=je.scriptable,_indexable:Me=je.indexable,_allKeys:$e=je.allKeys}=Re;return{allKeys:$e,scriptable:_e,indexable:Me,isScriptable:isFunction$5(_e)?_e:()=>_e,isIndexable:isFunction$5(Me)?Me:()=>Me}}const readKey=(Re,je)=>Re?Re+_capitalize(je):je,needsSubResolver=(Re,je)=>isObject$a(je)&&Re!=="adapters"&&(Object.getPrototypeOf(je)===null||je.constructor===Object);function _cached(Re,je,_e){if(Object.prototype.hasOwnProperty.call(Re,je)||je==="constructor")return Re[je];const Me=_e();return Re[je]=Me,Me}function _resolveWithContext(Re,je,_e){const{_proxy:Me,_context:$e,_subProxy:ke,_descriptors:Ce}=Re;let Be=Me[je];return isFunction$5(Be)&&Ce.isScriptable(je)&&(Be=_resolveScriptable(je,Be,Re,_e)),isArray$d(Be)&&Be.length&&(Be=_resolveArray(je,Be,Re,Ce.isIndexable)),needsSubResolver(je,Be)&&(Be=_attachContext(Be,$e,ke&&ke[je],Ce)),Be}function _resolveScriptable(Re,je,_e,Me){const{_proxy:$e,_context:ke,_subProxy:Ce,_stack:Be}=_e;if(Be.has(Re))throw new Error("Recursion detected: "+Array.from(Be).join("->")+"->"+Re);Be.add(Re);let qe=je(ke,Ce||Me);return Be.delete(Re),needsSubResolver(Re,qe)&&(qe=createSubResolver($e._scopes,$e,Re,qe)),qe}function _resolveArray(Re,je,_e,Me){const{_proxy:$e,_context:ke,_subProxy:Ce,_descriptors:Be}=_e;if(typeof ke.index<"u"&&Me(Re))return je[ke.index%je.length];if(isObject$a(je[0])){const qe=je,He=$e._scopes.filter(We=>We!==qe);je=[];for(const We of qe){const Ke=createSubResolver(He,$e,Re,We);je.push(_attachContext(Ke,ke,Ce&&Ce[Re],Be))}}return je}function resolveFallback(Re,je,_e){return isFunction$5(Re)?Re(je,_e):Re}const getScope=(Re,je)=>Re===!0?je:typeof Re=="string"?resolveObjectKey(je,Re):void 0;function addScopes(Re,je,_e,Me,$e){for(const ke of je){const Ce=getScope(_e,ke);if(Ce){Re.add(Ce);const Be=resolveFallback(Ce._fallback,_e,$e);if(typeof Be<"u"&&Be!==_e&&Be!==Me)return Be}else if(Ce===!1&&typeof Me<"u"&&_e!==Me)return null}return!1}function createSubResolver(Re,je,_e,Me){const $e=je._rootScopes,ke=resolveFallback(je._fallback,_e,Me),Ce=[...Re,...$e],Be=new Set;Be.add(Me);let qe=addScopesFromKey(Be,Ce,_e,ke||_e,Me);return qe===null||typeof ke<"u"&&ke!==_e&&(qe=addScopesFromKey(Be,Ce,ke,qe,Me),qe===null)?!1:_createResolver(Array.from(Be),[""],$e,ke,()=>subGetTarget(je,_e,Me))}function addScopesFromKey(Re,je,_e,Me,$e){for(;_e;)_e=addScopes(Re,je,_e,Me,$e);return _e}function subGetTarget(Re,je,_e){const Me=Re._getTarget();je in Me||(Me[je]={});const $e=Me[je];return isArray$d($e)&&isObject$a(_e)?_e:$e||{}}function _resolveWithPrefixes(Re,je,_e,Me){let $e;for(const ke of je)if($e=_resolve(readKey(ke,Re),_e),typeof $e<"u")return needsSubResolver(Re,$e)?createSubResolver(_e,Me,Re,$e):$e}function _resolve(Re,je){for(const _e of je){if(!_e)continue;const Me=_e[Re];if(typeof Me<"u")return Me}}function getKeysFromAllScopes(Re){let je=Re._keys;return je||(je=Re._keys=resolveKeysFromAllScopes(Re._scopes)),je}function resolveKeysFromAllScopes(Re){const je=new Set;for(const _e of Re)for(const Me of Object.keys(_e).filter($e=>!$e.startsWith("_")))je.add(Me);return Array.from(je)}const EPSILON=Number.EPSILON||1e-14,getPoint=(Re,je)=>je<Re.length&&!Re[je].skip&&Re[je],getValueAxis=Re=>Re==="x"?"y":"x";function splineCurve(Re,je,_e,Me){const $e=Re.skip?je:Re,ke=je,Ce=_e.skip?je:_e,Be=distanceBetweenPoints(ke,$e),qe=distanceBetweenPoints(Ce,ke);let He=Be/(Be+qe),We=qe/(Be+qe);He=isNaN(He)?0:He,We=isNaN(We)?0:We;const Ke=Me*He,Je=Me*We;return{previous:{x:ke.x-Ke*(Ce.x-$e.x),y:ke.y-Ke*(Ce.y-$e.y)},next:{x:ke.x+Je*(Ce.x-$e.x),y:ke.y+Je*(Ce.y-$e.y)}}}function monotoneAdjust(Re,je,_e){const Me=Re.length;let $e,ke,Ce,Be,qe,He=getPoint(Re,0);for(let We=0;We<Me-1;++We)if(qe=He,He=getPoint(Re,We+1),!(!qe||!He)){if(almostEquals(je[We],0,EPSILON)){_e[We]=_e[We+1]=0;continue}$e=_e[We]/je[We],ke=_e[We+1]/je[We],Be=Math.pow($e,2)+Math.pow(ke,2),!(Be<=9)&&(Ce=3/Math.sqrt(Be),_e[We]=$e*Ce*je[We],_e[We+1]=ke*Ce*je[We])}}function monotoneCompute(Re,je,_e="x"){const Me=getValueAxis(_e),$e=Re.length;let ke,Ce,Be,qe=getPoint(Re,0);for(let He=0;He<$e;++He){if(Ce=Be,Be=qe,qe=getPoint(Re,He+1),!Be)continue;const We=Be[_e],Ke=Be[Me];Ce&&(ke=(We-Ce[_e])/3,Be[`cp1${_e}`]=We-ke,Be[`cp1${Me}`]=Ke-ke*je[He]),qe&&(ke=(qe[_e]-We)/3,Be[`cp2${_e}`]=We+ke,Be[`cp2${Me}`]=Ke+ke*je[He])}}function splineCurveMonotone(Re,je="x"){const _e=getValueAxis(je),Me=Re.length,$e=Array(Me).fill(0),ke=Array(Me);let Ce,Be,qe,He=getPoint(Re,0);for(Ce=0;Ce<Me;++Ce)if(Be=qe,qe=He,He=getPoint(Re,Ce+1),!!qe){if(He){const We=He[je]-qe[je];$e[Ce]=We!==0?(He[_e]-qe[_e])/We:0}ke[Ce]=Be?He?sign($e[Ce-1])!==sign($e[Ce])?0:($e[Ce-1]+$e[Ce])/2:$e[Ce-1]:$e[Ce]}monotoneAdjust(Re,$e,ke),monotoneCompute(Re,ke,je)}function capControlPoint(Re,je,_e){return Math.max(Math.min(Re,_e),je)}function capBezierPoints(Re,je){let _e,Me,$e,ke,Ce,Be=_isPointInArea(Re[0],je);for(_e=0,Me=Re.length;_e<Me;++_e)Ce=ke,ke=Be,Be=_e<Me-1&&_isPointInArea(Re[_e+1],je),ke&&($e=Re[_e],Ce&&($e.cp1x=capControlPoint($e.cp1x,je.left,je.right),$e.cp1y=capControlPoint($e.cp1y,je.top,je.bottom)),Be&&($e.cp2x=capControlPoint($e.cp2x,je.left,je.right),$e.cp2y=capControlPoint($e.cp2y,je.top,je.bottom)))}function _updateBezierControlPoints(Re,je,_e,Me,$e){let ke,Ce,Be,qe;if(je.spanGaps&&(Re=Re.filter(He=>!He.skip)),je.cubicInterpolationMode==="monotone")splineCurveMonotone(Re,$e);else{let He=Me?Re[Re.length-1]:Re[0];for(ke=0,Ce=Re.length;ke<Ce;++ke)Be=Re[ke],qe=splineCurve(He,Be,Re[Math.min(ke+1,Ce-(Me?0:1))%Ce],je.tension),Be.cp1x=qe.previous.x,Be.cp1y=qe.previous.y,Be.cp2x=qe.next.x,Be.cp2y=qe.next.y,He=Be}je.capBezierPoints&&capBezierPoints(Re,_e)}function _isDomSupported(){return typeof window<"u"&&typeof document<"u"}function _getParentNode(Re){let je=Re.parentNode;return je&&je.toString()==="[object ShadowRoot]"&&(je=je.host),je}function parseMaxStyle(Re,je,_e){let Me;return typeof Re=="string"?(Me=parseInt(Re,10),Re.indexOf("%")!==-1&&(Me=Me/100*je.parentNode[_e])):Me=Re,Me}const getComputedStyle$2=Re=>Re.ownerDocument.defaultView.getComputedStyle(Re,null);function getStyle(Re,je){return getComputedStyle$2(Re).getPropertyValue(je)}const positions=["top","right","bottom","left"];function getPositionedStyle(Re,je,_e){const Me={};_e=_e?"-"+_e:"";for(let $e=0;$e<4;$e++){const ke=positions[$e];Me[ke]=parseFloat(Re[je+"-"+ke+_e])||0}return Me.width=Me.left+Me.right,Me.height=Me.top+Me.bottom,Me}const useOffsetPos=(Re,je,_e)=>(Re>0||je>0)&&(!_e||!_e.shadowRoot);function getCanvasPosition(Re,je){const _e=Re.touches,Me=_e&&_e.length?_e[0]:Re,{offsetX:$e,offsetY:ke}=Me;let Ce=!1,Be,qe;if(useOffsetPos($e,ke,Re.target))Be=$e,qe=ke;else{const He=je.getBoundingClientRect();Be=Me.clientX-He.left,qe=Me.clientY-He.top,Ce=!0}return{x:Be,y:qe,box:Ce}}function getRelativePosition(Re,je){if("native"in Re)return Re;const{canvas:_e,currentDevicePixelRatio:Me}=je,$e=getComputedStyle$2(_e),ke=$e.boxSizing==="border-box",Ce=getPositionedStyle($e,"padding"),Be=getPositionedStyle($e,"border","width"),{x:qe,y:He,box:We}=getCanvasPosition(Re,_e),Ke=Ce.left+(We&&Be.left),Je=Ce.top+(We&&Be.top);let{width:Qe,height:rr}=je;return ke&&(Qe-=Ce.width+Be.width,rr-=Ce.height+Be.height),{x:Math.round((qe-Ke)/Qe*_e.width/Me),y:Math.round((He-Je)/rr*_e.height/Me)}}function getContainerSize(Re,je,_e){let Me,$e;if(je===void 0||_e===void 0){const ke=Re&&_getParentNode(Re);if(!ke)je=Re.clientWidth,_e=Re.clientHeight;else{const Ce=ke.getBoundingClientRect(),Be=getComputedStyle$2(ke),qe=getPositionedStyle(Be,"border","width"),He=getPositionedStyle(Be,"padding");je=Ce.width-He.width-qe.width,_e=Ce.height-He.height-qe.height,Me=parseMaxStyle(Be.maxWidth,ke,"clientWidth"),$e=parseMaxStyle(Be.maxHeight,ke,"clientHeight")}}return{width:je,height:_e,maxWidth:Me||INFINITY$4,maxHeight:$e||INFINITY$4}}const round1=Re=>Math.round(Re*10)/10;function getMaximumSize(Re,je,_e,Me){const $e=getComputedStyle$2(Re),ke=getPositionedStyle($e,"margin"),Ce=parseMaxStyle($e.maxWidth,Re,"clientWidth")||INFINITY$4,Be=parseMaxStyle($e.maxHeight,Re,"clientHeight")||INFINITY$4,qe=getContainerSize(Re,je,_e);let{width:He,height:We}=qe;if($e.boxSizing==="content-box"){const Je=getPositionedStyle($e,"border","width"),Qe=getPositionedStyle($e,"padding");He-=Qe.width+Je.width,We-=Qe.height+Je.height}return He=Math.max(0,He-ke.width),We=Math.max(0,Me?He/Me:We-ke.height),He=round1(Math.min(He,Ce,qe.maxWidth)),We=round1(Math.min(We,Be,qe.maxHeight)),He&&!We&&(We=round1(He/2)),(je!==void 0||_e!==void 0)&&Me&&qe.height&&We>qe.height&&(We=qe.height,He=round1(Math.floor(We*Me))),{width:He,height:We}}function retinaScale(Re,je,_e){const Me=je||1,$e=Math.floor(Re.height*Me),ke=Math.floor(Re.width*Me);Re.height=Math.floor(Re.height),Re.width=Math.floor(Re.width);const Ce=Re.canvas;return Ce.style&&(_e||!Ce.style.height&&!Ce.style.width)&&(Ce.style.height=`${Re.height}px`,Ce.style.width=`${Re.width}px`),Re.currentDevicePixelRatio!==Me||Ce.height!==$e||Ce.width!==ke?(Re.currentDevicePixelRatio=Me,Ce.height=$e,Ce.width=ke,Re.ctx.setTransform(Me,0,0,Me,0,0),!0):!1}const supportsEventListenerOptions=function(){let Re=!1;try{const je={get passive(){return Re=!0,!1}};_isDomSupported()&&(window.addEventListener("test",null,je),window.removeEventListener("test",null,je))}catch{}return Re}();function readUsedSize(Re,je){const _e=getStyle(Re,je),Me=_e&&_e.match(/^(\d+)(\.\d+)?px$/);return Me?+Me[1]:void 0}function _pointInLine(Re,je,_e,Me){return{x:Re.x+_e*(je.x-Re.x),y:Re.y+_e*(je.y-Re.y)}}function _steppedInterpolation(Re,je,_e,Me){return{x:Re.x+_e*(je.x-Re.x),y:Me==="middle"?_e<.5?Re.y:je.y:Me==="after"?_e<1?Re.y:je.y:_e>0?je.y:Re.y}}function _bezierInterpolation(Re,je,_e,Me){const $e={x:Re.cp2x,y:Re.cp2y},ke={x:je.cp1x,y:je.cp1y},Ce=_pointInLine(Re,$e,_e),Be=_pointInLine($e,ke,_e),qe=_pointInLine(ke,je,_e),He=_pointInLine(Ce,Be,_e),We=_pointInLine(Be,qe,_e);return _pointInLine(He,We,_e)}const getRightToLeftAdapter=function(Re,je){return{x(_e){return Re+Re+je-_e},setWidth(_e){je=_e},textAlign(_e){return _e==="center"?_e:_e==="right"?"left":"right"},xPlus(_e,Me){return _e-Me},leftForLtr(_e,Me){return _e-Me}}},getLeftToRightAdapter=function(){return{x(Re){return Re},setWidth(Re){},textAlign(Re){return Re},xPlus(Re,je){return Re+je},leftForLtr(Re,je){return Re}}};function getRtlAdapter(Re,je,_e){return Re?getRightToLeftAdapter(je,_e):getLeftToRightAdapter()}function overrideTextDirection(Re,je){let _e,Me;(je==="ltr"||je==="rtl")&&(_e=Re.canvas.style,Me=[_e.getPropertyValue("direction"),_e.getPropertyPriority("direction")],_e.setProperty("direction",je,"important"),Re.prevTextDirection=Me)}function restoreTextDirection(Re,je){je!==void 0&&(delete Re.prevTextDirection,Re.canvas.style.setProperty("direction",je[0],je[1]))}function propertyFn(Re){return Re==="angle"?{between:_angleBetween,compare:_angleDiff,normalize:_normalizeAngle}:{between:_isBetween,compare:(je,_e)=>je-_e,normalize:je=>je}}function normalizeSegment({start:Re,end:je,count:_e,loop:Me,style:$e}){return{start:Re%_e,end:je%_e,loop:Me&&(je-Re+1)%_e===0,style:$e}}function getSegment(Re,je,_e){const{property:Me,start:$e,end:ke}=_e,{between:Ce,normalize:Be}=propertyFn(Me),qe=je.length;let{start:He,end:We,loop:Ke}=Re,Je,Qe;if(Ke){for(He+=qe,We+=qe,Je=0,Qe=qe;Je<Qe&&Ce(Be(je[He%qe][Me]),$e,ke);++Je)He--,We--;He%=qe,We%=qe}return We<He&&(We+=qe),{start:He,end:We,loop:Ke,style:Re.style}}function _boundSegment(Re,je,_e){if(!_e)return[Re];const{property:Me,start:$e,end:ke}=_e,Ce=je.length,{compare:Be,between:qe,normalize:He}=propertyFn(Me),{start:We,end:Ke,loop:Je,style:Qe}=getSegment(Re,je,_e),rr=[];let tr=!1,cr=null,or,ar,pr;const ur=()=>qe($e,pr,or)&&Be($e,pr)!==0,gr=()=>Be(ke,or)===0||qe(ke,pr,or),jr=()=>tr||ur(),vr=()=>!tr||gr();for(let dr=We,xr=We;dr<=Ke;++dr)ar=je[dr%Ce],!ar.skip&&(or=He(ar[Me]),or!==pr&&(tr=qe(or,$e,ke),cr===null&&jr()&&(cr=Be(or,$e)===0?dr:xr),cr!==null&&vr()&&(rr.push(normalizeSegment({start:cr,end:dr,loop:Je,count:Ce,style:Qe})),cr=null),xr=dr,pr=or));return cr!==null&&rr.push(normalizeSegment({start:cr,end:Ke,loop:Je,count:Ce,style:Qe})),rr}function _boundSegments(Re,je){const _e=[],Me=Re.segments;for(let $e=0;$e<Me.length;$e++){const ke=_boundSegment(Me[$e],Re.points,je);ke.length&&_e.push(...ke)}return _e}function findStartAndEnd(Re,je,_e,Me){let $e=0,ke=je-1;if(_e&&!Me)for(;$e<je&&!Re[$e].skip;)$e++;for(;$e<je&&Re[$e].skip;)$e++;for($e%=je,_e&&(ke+=$e);ke>$e&&Re[ke%je].skip;)ke--;return ke%=je,{start:$e,end:ke}}function solidSegments(Re,je,_e,Me){const $e=Re.length,ke=[];let Ce=je,Be=Re[je],qe;for(qe=je+1;qe<=_e;++qe){const He=Re[qe%$e];He.skip||He.stop?Be.skip||(Me=!1,ke.push({start:je%$e,end:(qe-1)%$e,loop:Me}),je=Ce=He.stop?qe:null):(Ce=qe,Be.skip&&(je=qe)),Be=He}return Ce!==null&&ke.push({start:je%$e,end:Ce%$e,loop:Me}),ke}function _computeSegments(Re,je){const _e=Re.points,Me=Re.options.spanGaps,$e=_e.length;if(!$e)return[];const ke=!!Re._loop,{start:Ce,end:Be}=findStartAndEnd(_e,$e,ke,Me);if(Me===!0)return splitByStyles(Re,[{start:Ce,end:Be,loop:ke}],_e,je);const qe=Be<Ce?Be+$e:Be,He=!!Re._fullLoop&&Ce===0&&Be===$e-1;return splitByStyles(Re,solidSegments(_e,Ce,qe,He),_e,je)}function splitByStyles(Re,je,_e,Me){return!Me||!Me.setContext||!_e?je:doSplitByStyles(Re,je,_e,Me)}function doSplitByStyles(Re,je,_e,Me){const $e=Re._chart.getContext(),ke=readStyle(Re.options),{_datasetIndex:Ce,options:{spanGaps:Be}}=Re,qe=_e.length,He=[];let We=ke,Ke=je[0].start,Je=Ke;function Qe(rr,tr,cr,or){const ar=Be?-1:1;if(rr!==tr){for(rr+=qe;_e[rr%qe].skip;)rr-=ar;for(;_e[tr%qe].skip;)tr+=ar;rr%qe!==tr%qe&&(He.push({start:rr%qe,end:tr%qe,loop:cr,style:or}),We=or,Ke=tr%qe)}}for(const rr of je){Ke=Be?Ke:rr.start;let tr=_e[Ke%qe],cr;for(Je=Ke+1;Je<=rr.end;Je++){const or=_e[Je%qe];cr=readStyle(Me.setContext(createContext($e,{type:"segment",p0:tr,p1:or,p0DataIndex:(Je-1)%qe,p1DataIndex:Je%qe,datasetIndex:Ce}))),styleChanged(cr,We)&&Qe(Ke,Je-1,rr.loop,We),tr=or,We=cr}Ke<Je-1&&Qe(Ke,Je-1,rr.loop,We)}return He}function readStyle(Re){return{backgroundColor:Re.backgroundColor,borderCapStyle:Re.borderCapStyle,borderDash:Re.borderDash,borderDashOffset:Re.borderDashOffset,borderJoinStyle:Re.borderJoinStyle,borderWidth:Re.borderWidth,borderColor:Re.borderColor}}function styleChanged(Re,je){if(!je)return!1;const _e=[],Me=function($e,ke){return isPatternOrGradient(ke)?(_e.includes(ke)||_e.push(ke),_e.indexOf(ke)):ke};return JSON.stringify(Re,Me)!==JSON.stringify(je,Me)}function getSizeForArea(Re,je,_e){return Re.options.clip?Re[_e]:je[_e]}function getDatasetArea(Re,je){const{xScale:_e,yScale:Me}=Re;return _e&&Me?{left:getSizeForArea(_e,je,"left"),right:getSizeForArea(_e,je,"right"),top:getSizeForArea(Me,je,"top"),bottom:getSizeForArea(Me,je,"bottom")}:je}function getDatasetClipArea(Re,je){const _e=je._clip;if(_e.disabled)return!1;const Me=getDatasetArea(je,Re.chartArea);return{left:_e.left===!1?0:Me.left-(_e.left===!0?0:_e.left),right:_e.right===!1?Re.width:Me.right+(_e.right===!0?0:_e.right),top:_e.top===!1?0:Me.top-(_e.top===!0?0:_e.top),bottom:_e.bottom===!1?Re.height:Me.bottom+(_e.bottom===!0?0:_e.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Animator{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(je,_e,Me,$e){const ke=_e.listeners[$e],Ce=_e.duration;ke.forEach(Be=>Be({chart:je,initial:_e.initial,numSteps:Ce,currentStep:Math.min(Me-_e.start,Ce)}))}_refresh(){this._request||(this._running=!0,this._request=requestAnimFrame.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(je=Date.now()){let _e=0;this._charts.forEach((Me,$e)=>{if(!Me.running||!Me.items.length)return;const ke=Me.items;let Ce=ke.length-1,Be=!1,qe;for(;Ce>=0;--Ce)qe=ke[Ce],qe._active?(qe._total>Me.duration&&(Me.duration=qe._total),qe.tick(je),Be=!0):(ke[Ce]=ke[ke.length-1],ke.pop());Be&&($e.draw(),this._notify($e,Me,je,"progress")),ke.length||(Me.running=!1,this._notify($e,Me,je,"complete"),Me.initial=!1),_e+=ke.length}),this._lastDate=je,_e===0&&(this._running=!1)}_getAnims(je){const _e=this._charts;let Me=_e.get(je);return Me||(Me={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},_e.set(je,Me)),Me}listen(je,_e,Me){this._getAnims(je).listeners[_e].push(Me)}add(je,_e){!_e||!_e.length||this._getAnims(je).items.push(..._e)}has(je){return this._getAnims(je).items.length>0}start(je){const _e=this._charts.get(je);_e&&(_e.running=!0,_e.start=Date.now(),_e.duration=_e.items.reduce((Me,$e)=>Math.max(Me,$e._duration),0),this._refresh())}running(je){if(!this._running)return!1;const _e=this._charts.get(je);return!(!_e||!_e.running||!_e.items.length)}stop(je){const _e=this._charts.get(je);if(!_e||!_e.items.length)return;const Me=_e.items;let $e=Me.length-1;for(;$e>=0;--$e)Me[$e].cancel();_e.items=[],this._notify(je,_e,Date.now(),"complete")}remove(je){return this._charts.delete(je)}}var animator=new Animator;const transparent="transparent",interpolators={boolean(Re,je,_e){return _e>.5?je:Re},color(Re,je,_e){const Me=color(Re||transparent),$e=Me.valid&&color(je||transparent);return $e&&$e.valid?$e.mix(Me,_e).hexString():je},number(Re,je,_e){return Re+(je-Re)*_e}};class Animation{constructor(je,_e,Me,$e){const ke=_e[Me];$e=resolve([je.to,$e,ke,je.from]);const Ce=resolve([je.from,ke,$e]);this._active=!0,this._fn=je.fn||interpolators[je.type||typeof Ce],this._easing=effects[je.easing]||effects.linear,this._start=Math.floor(Date.now()+(je.delay||0)),this._duration=this._total=Math.floor(je.duration),this._loop=!!je.loop,this._target=_e,this._prop=Me,this._from=Ce,this._to=$e,this._promises=void 0}active(){return this._active}update(je,_e,Me){if(this._active){this._notify(!1);const $e=this._target[this._prop],ke=Me-this._start,Ce=this._duration-ke;this._start=Me,this._duration=Math.floor(Math.max(Ce,je.duration)),this._total+=ke,this._loop=!!je.loop,this._to=resolve([je.to,_e,$e,je.from]),this._from=resolve([je.from,$e,_e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(je){const _e=je-this._start,Me=this._duration,$e=this._prop,ke=this._from,Ce=this._loop,Be=this._to;let qe;if(this._active=ke!==Be&&(Ce||_e<Me),!this._active){this._target[$e]=Be,this._notify(!0);return}if(_e<0){this._target[$e]=ke;return}qe=_e/Me%2,qe=Ce&&qe>1?2-qe:qe,qe=this._easing(Math.min(1,Math.max(0,qe))),this._target[$e]=this._fn(ke,Be,qe)}wait(){const je=this._promises||(this._promises=[]);return new Promise((_e,Me)=>{je.push({res:_e,rej:Me})})}_notify(je){const _e=je?"res":"rej",Me=this._promises||[];for(let $e=0;$e<Me.length;$e++)Me[$e][_e]()}}class Animations{constructor(je,_e){this._chart=je,this._properties=new Map,this.configure(_e)}configure(je){if(!isObject$a(je))return;const _e=Object.keys(defaults$3.animation),Me=this._properties;Object.getOwnPropertyNames(je).forEach($e=>{const ke=je[$e];if(!isObject$a(ke))return;const Ce={};for(const Be of _e)Ce[Be]=ke[Be];(isArray$d(ke.properties)&&ke.properties||[$e]).forEach(Be=>{(Be===$e||!Me.has(Be))&&Me.set(Be,Ce)})})}_animateOptions(je,_e){const Me=_e.options,$e=resolveTargetOptions(je,Me);if(!$e)return[];const ke=this._createAnimations($e,Me);return Me.$shared&&awaitAll(je.options.$animations,Me).then(()=>{je.options=Me},()=>{}),ke}_createAnimations(je,_e){const Me=this._properties,$e=[],ke=je.$animations||(je.$animations={}),Ce=Object.keys(_e),Be=Date.now();let qe;for(qe=Ce.length-1;qe>=0;--qe){const He=Ce[qe];if(He.charAt(0)==="$")continue;if(He==="options"){$e.push(...this._animateOptions(je,_e));continue}const We=_e[He];let Ke=ke[He];const Je=Me.get(He);if(Ke)if(Je&&Ke.active()){Ke.update(Je,We,Be);continue}else Ke.cancel();if(!Je||!Je.duration){je[He]=We;continue}ke[He]=Ke=new Animation(Je,je,He,We),$e.push(Ke)}return $e}update(je,_e){if(this._properties.size===0){Object.assign(je,_e);return}const Me=this._createAnimations(je,_e);if(Me.length)return animator.add(this._chart,Me),!0}}function awaitAll(Re,je){const _e=[],Me=Object.keys(je);for(let $e=0;$e<Me.length;$e++){const ke=Re[Me[$e]];ke&&ke.active()&&_e.push(ke.wait())}return Promise.all(_e)}function resolveTargetOptions(Re,je){if(!je)return;let _e=Re.options;if(!_e){Re.options=je;return}return _e.$shared&&(Re.options=_e=Object.assign({},_e,{$shared:!1,$animations:{}})),_e}function scaleClip(Re,je){const _e=Re&&Re.options||{},Me=_e.reverse,$e=_e.min===void 0?je:0,ke=_e.max===void 0?je:0;return{start:Me?ke:$e,end:Me?$e:ke}}function defaultClip(Re,je,_e){if(_e===!1)return!1;const Me=scaleClip(Re,_e),$e=scaleClip(je,_e);return{top:$e.end,right:Me.end,bottom:$e.start,left:Me.start}}function toClip(Re){let je,_e,Me,$e;return isObject$a(Re)?(je=Re.top,_e=Re.right,Me=Re.bottom,$e=Re.left):je=_e=Me=$e=Re,{top:je,right:_e,bottom:Me,left:$e,disabled:Re===!1}}function getSortedDatasetIndices(Re,je){const _e=[],Me=Re._getSortedDatasetMetas(je);let $e,ke;for($e=0,ke=Me.length;$e<ke;++$e)_e.push(Me[$e].index);return _e}function applyStack(Re,je,_e,Me={}){const $e=Re.keys,ke=Me.mode==="single";let Ce,Be,qe,He;if(je===null)return;let We=!1;for(Ce=0,Be=$e.length;Ce<Be;++Ce){if(qe=+$e[Ce],qe===_e){if(We=!0,Me.all)continue;break}He=Re.values[qe],isNumberFinite(He)&&(ke||je===0||sign(je)===sign(He))&&(je+=He)}return!We&&!Me.all?0:je}function convertObjectDataToArray(Re,je){const{iScale:_e,vScale:Me}=je,$e=_e.axis==="x"?"x":"y",ke=Me.axis==="x"?"x":"y",Ce=Object.keys(Re),Be=new Array(Ce.length);let qe,He,We;for(qe=0,He=Ce.length;qe<He;++qe)We=Ce[qe],Be[qe]={[$e]:We,[ke]:Re[We]};return Be}function isStacked(Re,je){const _e=Re&&Re.options.stacked;return _e||_e===void 0&&je.stack!==void 0}function getStackKey(Re,je,_e){return`${Re.id}.${je.id}.${_e.stack||_e.type}`}function getUserBounds(Re){const{min:je,max:_e,minDefined:Me,maxDefined:$e}=Re.getUserBounds();return{min:Me?je:Number.NEGATIVE_INFINITY,max:$e?_e:Number.POSITIVE_INFINITY}}function getOrCreateStack(Re,je,_e){const Me=Re[je]||(Re[je]={});return Me[_e]||(Me[_e]={})}function getLastIndexInStack(Re,je,_e,Me){for(const $e of je.getMatchingVisibleMetas(Me).reverse()){const ke=Re[$e.index];if(_e&&ke>0||!_e&&ke<0)return $e.index}return null}function updateStacks(Re,je){const{chart:_e,_cachedMeta:Me}=Re,$e=_e._stacks||(_e._stacks={}),{iScale:ke,vScale:Ce,index:Be}=Me,qe=ke.axis,He=Ce.axis,We=getStackKey(ke,Ce,Me),Ke=je.length;let Je;for(let Qe=0;Qe<Ke;++Qe){const rr=je[Qe],{[qe]:tr,[He]:cr}=rr,or=rr._stacks||(rr._stacks={});Je=or[He]=getOrCreateStack($e,We,tr),Je[Be]=cr,Je._top=getLastIndexInStack(Je,Ce,!0,Me.type),Je._bottom=getLastIndexInStack(Je,Ce,!1,Me.type);const ar=Je._visualValues||(Je._visualValues={});ar[Be]=cr}}function getFirstScaleId(Re,je){const _e=Re.scales;return Object.keys(_e).filter(Me=>_e[Me].axis===je).shift()}function createDatasetContext(Re,je){return createContext(Re,{active:!1,dataset:void 0,datasetIndex:je,index:je,mode:"default",type:"dataset"})}function createDataContext(Re,je,_e){return createContext(Re,{active:!1,dataIndex:je,parsed:void 0,raw:void 0,element:_e,index:je,mode:"default",type:"data"})}function clearStacks(Re,je){const _e=Re.controller.index,Me=Re.vScale&&Re.vScale.axis;if(Me){je=je||Re._parsed;for(const $e of je){const ke=$e._stacks;if(!ke||ke[Me]===void 0||ke[Me][_e]===void 0)return;delete ke[Me][_e],ke[Me]._visualValues!==void 0&&ke[Me]._visualValues[_e]!==void 0&&delete ke[Me]._visualValues[_e]}}}const isDirectUpdateMode=Re=>Re==="reset"||Re==="none",cloneIfNotShared=(Re,je)=>je?Re:Object.assign({},Re),createStack=(Re,je,_e)=>Re&&!je.hidden&&je._stacked&&{keys:getSortedDatasetIndices(_e,!0),values:null};class DatasetController{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(je,_e){this.chart=je,this._ctx=je.ctx,this.index=_e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const je=this._cachedMeta;this.configure(),this.linkScales(),je._stacked=isStacked(je.vScale,je),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(je){this.index!==je&&clearStacks(this._cachedMeta),this.index=je}linkScales(){const je=this.chart,_e=this._cachedMeta,Me=this.getDataset(),$e=(Ke,Je,Qe,rr)=>Ke==="x"?Je:Ke==="r"?rr:Qe,ke=_e.xAxisID=valueOrDefault(Me.xAxisID,getFirstScaleId(je,"x")),Ce=_e.yAxisID=valueOrDefault(Me.yAxisID,getFirstScaleId(je,"y")),Be=_e.rAxisID=valueOrDefault(Me.rAxisID,getFirstScaleId(je,"r")),qe=_e.indexAxis,He=_e.iAxisID=$e(qe,ke,Ce,Be),We=_e.vAxisID=$e(qe,Ce,ke,Be);_e.xScale=this.getScaleForId(ke),_e.yScale=this.getScaleForId(Ce),_e.rScale=this.getScaleForId(Be),_e.iScale=this.getScaleForId(He),_e.vScale=this.getScaleForId(We)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(je){return this.chart.scales[je]}_getOtherScale(je){const _e=this._cachedMeta;return je===_e.iScale?_e.vScale:_e.iScale}reset(){this._update("reset")}_destroy(){const je=this._cachedMeta;this._data&&unlistenArrayEvents(this._data,this),je._stacked&&clearStacks(je)}_dataCheck(){const je=this.getDataset(),_e=je.data||(je.data=[]),Me=this._data;if(isObject$a(_e)){const $e=this._cachedMeta;this._data=convertObjectDataToArray(_e,$e)}else if(Me!==_e){if(Me){unlistenArrayEvents(Me,this);const $e=this._cachedMeta;clearStacks($e),$e._parsed=[]}_e&&Object.isExtensible(_e)&&listenArrayEvents(_e,this),this._syncList=[],this._data=_e}}addElements(){const je=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(je.dataset=new this.datasetElementType)}buildOrUpdateElements(je){const _e=this._cachedMeta,Me=this.getDataset();let $e=!1;this._dataCheck();const ke=_e._stacked;_e._stacked=isStacked(_e.vScale,_e),_e.stack!==Me.stack&&($e=!0,clearStacks(_e),_e.stack=Me.stack),this._resyncElements(je),($e||ke!==_e._stacked)&&(updateStacks(this,_e._parsed),_e._stacked=isStacked(_e.vScale,_e))}configure(){const je=this.chart.config,_e=je.datasetScopeKeys(this._type),Me=je.getOptionScopes(this.getDataset(),_e,!0);this.options=je.createResolver(Me,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(je,_e){const{_cachedMeta:Me,_data:$e}=this,{iScale:ke,_stacked:Ce}=Me,Be=ke.axis;let qe=je===0&&_e===$e.length?!0:Me._sorted,He=je>0&&Me._parsed[je-1],We,Ke,Je;if(this._parsing===!1)Me._parsed=$e,Me._sorted=!0,Je=$e;else{isArray$d($e[je])?Je=this.parseArrayData(Me,$e,je,_e):isObject$a($e[je])?Je=this.parseObjectData(Me,$e,je,_e):Je=this.parsePrimitiveData(Me,$e,je,_e);const Qe=()=>Ke[Be]===null||He&&Ke[Be]<He[Be];for(We=0;We<_e;++We)Me._parsed[We+je]=Ke=Je[We],qe&&(Qe()&&(qe=!1),He=Ke);Me._sorted=qe}Ce&&updateStacks(this,Je)}parsePrimitiveData(je,_e,Me,$e){const{iScale:ke,vScale:Ce}=je,Be=ke.axis,qe=Ce.axis,He=ke.getLabels(),We=ke===Ce,Ke=new Array($e);let Je,Qe,rr;for(Je=0,Qe=$e;Je<Qe;++Je)rr=Je+Me,Ke[Je]={[Be]:We||ke.parse(He[rr],rr),[qe]:Ce.parse(_e[rr],rr)};return Ke}parseArrayData(je,_e,Me,$e){const{xScale:ke,yScale:Ce}=je,Be=new Array($e);let qe,He,We,Ke;for(qe=0,He=$e;qe<He;++qe)We=qe+Me,Ke=_e[We],Be[qe]={x:ke.parse(Ke[0],We),y:Ce.parse(Ke[1],We)};return Be}parseObjectData(je,_e,Me,$e){const{xScale:ke,yScale:Ce}=je,{xAxisKey:Be="x",yAxisKey:qe="y"}=this._parsing,He=new Array($e);let We,Ke,Je,Qe;for(We=0,Ke=$e;We<Ke;++We)Je=We+Me,Qe=_e[Je],He[We]={x:ke.parse(resolveObjectKey(Qe,Be),Je),y:Ce.parse(resolveObjectKey(Qe,qe),Je)};return He}getParsed(je){return this._cachedMeta._parsed[je]}getDataElement(je){return this._cachedMeta.data[je]}applyStack(je,_e,Me){const $e=this.chart,ke=this._cachedMeta,Ce=_e[je.axis],Be={keys:getSortedDatasetIndices($e,!0),values:_e._stacks[je.axis]._visualValues};return applyStack(Be,Ce,ke.index,{mode:Me})}updateRangeFromParsed(je,_e,Me,$e){const ke=Me[_e.axis];let Ce=ke===null?NaN:ke;const Be=$e&&Me._stacks[_e.axis];$e&&Be&&($e.values=Be,Ce=applyStack($e,ke,this._cachedMeta.index)),je.min=Math.min(je.min,Ce),je.max=Math.max(je.max,Ce)}getMinMax(je,_e){const Me=this._cachedMeta,$e=Me._parsed,ke=Me._sorted&&je===Me.iScale,Ce=$e.length,Be=this._getOtherScale(je),qe=createStack(_e,Me,this.chart),He={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:We,max:Ke}=getUserBounds(Be);let Je,Qe;function rr(){Qe=$e[Je];const tr=Qe[Be.axis];return!isNumberFinite(Qe[je.axis])||We>tr||Ke<tr}for(Je=0;Je<Ce&&!(!rr()&&(this.updateRangeFromParsed(He,je,Qe,qe),ke));++Je);if(ke){for(Je=Ce-1;Je>=0;--Je)if(!rr()){this.updateRangeFromParsed(He,je,Qe,qe);break}}return He}getAllParsedValues(je){const _e=this._cachedMeta._parsed,Me=[];let $e,ke,Ce;for($e=0,ke=_e.length;$e<ke;++$e)Ce=_e[$e][je.axis],isNumberFinite(Ce)&&Me.push(Ce);return Me}getMaxOverflow(){return!1}getLabelAndValue(je){const _e=this._cachedMeta,Me=_e.iScale,$e=_e.vScale,ke=this.getParsed(je);return{label:Me?""+Me.getLabelForValue(ke[Me.axis]):"",value:$e?""+$e.getLabelForValue(ke[$e.axis]):""}}_update(je){const _e=this._cachedMeta;this.update(je||"default"),_e._clip=toClip(valueOrDefault(this.options.clip,defaultClip(_e.xScale,_e.yScale,this.getMaxOverflow())))}update(je){}draw(){const je=this._ctx,_e=this.chart,Me=this._cachedMeta,$e=Me.data||[],ke=_e.chartArea,Ce=[],Be=this._drawStart||0,qe=this._drawCount||$e.length-Be,He=this.options.drawActiveElementsOnTop;let We;for(Me.dataset&&Me.dataset.draw(je,ke,Be,qe),We=Be;We<Be+qe;++We){const Ke=$e[We];Ke.hidden||(Ke.active&&He?Ce.push(Ke):Ke.draw(je,ke))}for(We=0;We<Ce.length;++We)Ce[We].draw(je,ke)}getStyle(je,_e){const Me=_e?"active":"default";return je===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(Me):this.resolveDataElementOptions(je||0,Me)}getContext(je,_e,Me){const $e=this.getDataset();let ke;if(je>=0&&je<this._cachedMeta.data.length){const Ce=this._cachedMeta.data[je];ke=Ce.$context||(Ce.$context=createDataContext(this.getContext(),je,Ce)),ke.parsed=this.getParsed(je),ke.raw=$e.data[je],ke.index=ke.dataIndex=je}else ke=this.$context||(this.$context=createDatasetContext(this.chart.getContext(),this.index)),ke.dataset=$e,ke.index=ke.datasetIndex=this.index;return ke.active=!!_e,ke.mode=Me,ke}resolveDatasetElementOptions(je){return this._resolveElementOptions(this.datasetElementType.id,je)}resolveDataElementOptions(je,_e){return this._resolveElementOptions(this.dataElementType.id,_e,je)}_resolveElementOptions(je,_e="default",Me){const $e=_e==="active",ke=this._cachedDataOpts,Ce=je+"-"+_e,Be=ke[Ce],qe=this.enableOptionSharing&&defined(Me);if(Be)return cloneIfNotShared(Be,qe);const He=this.chart.config,We=He.datasetElementScopeKeys(this._type,je),Ke=$e?[`${je}Hover`,"hover",je,""]:[je,""],Je=He.getOptionScopes(this.getDataset(),We),Qe=Object.keys(defaults$3.elements[je]),rr=()=>this.getContext(Me,$e,_e),tr=He.resolveNamedOptions(Je,Qe,rr,Ke);return tr.$shared&&(tr.$shared=qe,ke[Ce]=Object.freeze(cloneIfNotShared(tr,qe))),tr}_resolveAnimations(je,_e,Me){const $e=this.chart,ke=this._cachedDataOpts,Ce=`animation-${_e}`,Be=ke[Ce];if(Be)return Be;let qe;if($e.options.animation!==!1){const We=this.chart.config,Ke=We.datasetAnimationScopeKeys(this._type,_e),Je=We.getOptionScopes(this.getDataset(),Ke);qe=We.createResolver(Je,this.getContext(je,Me,_e))}const He=new Animations($e,qe&&qe.animations);return qe&&qe._cacheable&&(ke[Ce]=Object.freeze(He)),He}getSharedOptions(je){if(je.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},je))}includeOptions(je,_e){return!_e||isDirectUpdateMode(je)||this.chart._animationsDisabled}_getSharedOptions(je,_e){const Me=this.resolveDataElementOptions(je,_e),$e=this._sharedOptions,ke=this.getSharedOptions(Me),Ce=this.includeOptions(_e,ke)||ke!==$e;return this.updateSharedOptions(ke,_e,Me),{sharedOptions:ke,includeOptions:Ce}}updateElement(je,_e,Me,$e){isDirectUpdateMode($e)?Object.assign(je,Me):this._resolveAnimations(_e,$e).update(je,Me)}updateSharedOptions(je,_e,Me){je&&!isDirectUpdateMode(_e)&&this._resolveAnimations(void 0,_e).update(je,Me)}_setStyle(je,_e,Me,$e){je.active=$e;const ke=this.getStyle(_e,$e);this._resolveAnimations(_e,Me,$e).update(je,{options:!$e&&this.getSharedOptions(ke)||ke})}removeHoverStyle(je,_e,Me){this._setStyle(je,Me,"active",!1)}setHoverStyle(je,_e,Me){this._setStyle(je,Me,"active",!0)}_removeDatasetHoverStyle(){const je=this._cachedMeta.dataset;je&&this._setStyle(je,void 0,"active",!1)}_setDatasetHoverStyle(){const je=this._cachedMeta.dataset;je&&this._setStyle(je,void 0,"active",!0)}_resyncElements(je){const _e=this._data,Me=this._cachedMeta.data;for(const[Be,qe,He]of this._syncList)this[Be](qe,He);this._syncList=[];const $e=Me.length,ke=_e.length,Ce=Math.min(ke,$e);Ce&&this.parse(0,Ce),ke>$e?this._insertElements($e,ke-$e,je):ke<$e&&this._removeElements(ke,$e-ke)}_insertElements(je,_e,Me=!0){const $e=this._cachedMeta,ke=$e.data,Ce=je+_e;let Be;const qe=He=>{for(He.length+=_e,Be=He.length-1;Be>=Ce;Be--)He[Be]=He[Be-_e]};for(qe(ke),Be=je;Be<Ce;++Be)ke[Be]=new this.dataElementType;this._parsing&&qe($e._parsed),this.parse(je,_e),Me&&this.updateElements(ke,je,_e,"reset")}updateElements(je,_e,Me,$e){}_removeElements(je,_e){const Me=this._cachedMeta;if(this._parsing){const $e=Me._parsed.splice(je,_e);Me._stacked&&clearStacks(Me,$e)}Me.data.splice(je,_e)}_sync(je){if(this._parsing)this._syncList.push(je);else{const[_e,Me,$e]=je;this[_e](Me,$e)}this.chart._dataChanges.push([this.index,...je])}_onDataPush(){const je=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-je,je])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(je,_e){_e&&this._sync(["_removeElements",je,_e]);const Me=arguments.length-2;Me&&this._sync(["_insertElements",je,Me])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function getAllScaleValues(Re,je){if(!Re._cache.$bar){const _e=Re.getMatchingVisibleMetas(je);let Me=[];for(let $e=0,ke=_e.length;$e<ke;$e++)Me=Me.concat(_e[$e].controller.getAllParsedValues(Re));Re._cache.$bar=_arrayUnique(Me.sort(($e,ke)=>$e-ke))}return Re._cache.$bar}function computeMinSampleSize(Re){const je=Re.iScale,_e=getAllScaleValues(je,Re.type);let Me=je._length,$e,ke,Ce,Be;const qe=()=>{Ce===32767||Ce===-32768||(defined(Be)&&(Me=Math.min(Me,Math.abs(Ce-Be)||Me)),Be=Ce)};for($e=0,ke=_e.length;$e<ke;++$e)Ce=je.getPixelForValue(_e[$e]),qe();for(Be=void 0,$e=0,ke=je.ticks.length;$e<ke;++$e)Ce=je.getPixelForTick($e),qe();return Me}function computeFitCategoryTraits(Re,je,_e,Me){const $e=_e.barThickness;let ke,Ce;return isNullOrUndef($e)?(ke=je.min*_e.categoryPercentage,Ce=_e.barPercentage):(ke=$e*Me,Ce=1),{chunk:ke/Me,ratio:Ce,start:je.pixels[Re]-ke/2}}function computeFlexCategoryTraits(Re,je,_e,Me){const $e=je.pixels,ke=$e[Re];let Ce=Re>0?$e[Re-1]:null,Be=Re<$e.length-1?$e[Re+1]:null;const qe=_e.categoryPercentage;Ce===null&&(Ce=ke-(Be===null?je.end-je.start:Be-ke)),Be===null&&(Be=ke+ke-Ce);const He=ke-(ke-Math.min(Ce,Be))/2*qe;return{chunk:Math.abs(Be-Ce)/2*qe/Me,ratio:_e.barPercentage,start:He}}function parseFloatBar(Re,je,_e,Me){const $e=_e.parse(Re[0],Me),ke=_e.parse(Re[1],Me),Ce=Math.min($e,ke),Be=Math.max($e,ke);let qe=Ce,He=Be;Math.abs(Ce)>Math.abs(Be)&&(qe=Be,He=Ce),je[_e.axis]=He,je._custom={barStart:qe,barEnd:He,start:$e,end:ke,min:Ce,max:Be}}function parseValue(Re,je,_e,Me){return isArray$d(Re)?parseFloatBar(Re,je,_e,Me):je[_e.axis]=_e.parse(Re,Me),je}function parseArrayOrPrimitive(Re,je,_e,Me){const $e=Re.iScale,ke=Re.vScale,Ce=$e.getLabels(),Be=$e===ke,qe=[];let He,We,Ke,Je;for(He=_e,We=_e+Me;He<We;++He)Je=je[He],Ke={},Ke[$e.axis]=Be||$e.parse(Ce[He],He),qe.push(parseValue(Je,Ke,ke,He));return qe}function isFloatBar(Re){return Re&&Re.barStart!==void 0&&Re.barEnd!==void 0}function barSign(Re,je,_e){return Re!==0?sign(Re):(je.isHorizontal()?1:-1)*(je.min>=_e?1:-1)}function borderProps(Re){let je,_e,Me,$e,ke;return Re.horizontal?(je=Re.base>Re.x,_e="left",Me="right"):(je=Re.base<Re.y,_e="bottom",Me="top"),je?($e="end",ke="start"):($e="start",ke="end"),{start:_e,end:Me,reverse:je,top:$e,bottom:ke}}function setBorderSkipped(Re,je,_e,Me){let $e=je.borderSkipped;const ke={};if(!$e){Re.borderSkipped=ke;return}if($e===!0){Re.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:Ce,end:Be,reverse:qe,top:He,bottom:We}=borderProps(Re);$e==="middle"&&_e&&(Re.enableBorderRadius=!0,(_e._top||0)===Me?$e=He:(_e._bottom||0)===Me?$e=We:(ke[parseEdge(We,Ce,Be,qe)]=!0,$e=He)),ke[parseEdge($e,Ce,Be,qe)]=!0,Re.borderSkipped=ke}function parseEdge(Re,je,_e,Me){return Me?(Re=swap(Re,je,_e),Re=startEnd(Re,_e,je)):Re=startEnd(Re,je,_e),Re}function swap(Re,je,_e){return Re===je?_e:Re===_e?je:Re}function startEnd(Re,je,_e){return Re==="start"?je:Re==="end"?_e:Re}function setInflateAmount(Re,{inflateAmount:je},_e){Re.inflateAmount=je==="auto"?_e===1?.33:0:je}class BarController extends DatasetController{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(je,_e,Me,$e){return parseArrayOrPrimitive(je,_e,Me,$e)}parseArrayData(je,_e,Me,$e){return parseArrayOrPrimitive(je,_e,Me,$e)}parseObjectData(je,_e,Me,$e){const{iScale:ke,vScale:Ce}=je,{xAxisKey:Be="x",yAxisKey:qe="y"}=this._parsing,He=ke.axis==="x"?Be:qe,We=Ce.axis==="x"?Be:qe,Ke=[];let Je,Qe,rr,tr;for(Je=Me,Qe=Me+$e;Je<Qe;++Je)tr=_e[Je],rr={},rr[ke.axis]=ke.parse(resolveObjectKey(tr,He),Je),Ke.push(parseValue(resolveObjectKey(tr,We),rr,Ce,Je));return Ke}updateRangeFromParsed(je,_e,Me,$e){super.updateRangeFromParsed(je,_e,Me,$e);const ke=Me._custom;ke&&_e===this._cachedMeta.vScale&&(je.min=Math.min(je.min,ke.min),je.max=Math.max(je.max,ke.max))}getMaxOverflow(){return 0}getLabelAndValue(je){const _e=this._cachedMeta,{iScale:Me,vScale:$e}=_e,ke=this.getParsed(je),Ce=ke._custom,Be=isFloatBar(Ce)?"["+Ce.start+", "+Ce.end+"]":""+$e.getLabelForValue(ke[$e.axis]);return{label:""+Me.getLabelForValue(ke[Me.axis]),value:Be}}initialize(){this.enableOptionSharing=!0,super.initialize();const je=this._cachedMeta;je.stack=this.getDataset().stack}update(je){const _e=this._cachedMeta;this.updateElements(_e.data,0,_e.data.length,je)}updateElements(je,_e,Me,$e){const ke=$e==="reset",{index:Ce,_cachedMeta:{vScale:Be}}=this,qe=Be.getBasePixel(),He=Be.isHorizontal(),We=this._getRuler(),{sharedOptions:Ke,includeOptions:Je}=this._getSharedOptions(_e,$e);for(let Qe=_e;Qe<_e+Me;Qe++){const rr=this.getParsed(Qe),tr=ke||isNullOrUndef(rr[Be.axis])?{base:qe,head:qe}:this._calculateBarValuePixels(Qe),cr=this._calculateBarIndexPixels(Qe,We),or=(rr._stacks||{})[Be.axis],ar={horizontal:He,base:tr.base,enableBorderRadius:!or||isFloatBar(rr._custom)||Ce===or._top||Ce===or._bottom,x:He?tr.head:cr.center,y:He?cr.center:tr.head,height:He?cr.size:Math.abs(tr.size),width:He?Math.abs(tr.size):cr.size};Je&&(ar.options=Ke||this.resolveDataElementOptions(Qe,je[Qe].active?"active":$e));const pr=ar.options||je[Qe].options;setBorderSkipped(ar,pr,or,Ce),setInflateAmount(ar,pr,We.ratio),this.updateElement(je[Qe],Qe,ar,$e)}}_getStacks(je,_e){const{iScale:Me}=this._cachedMeta,$e=Me.getMatchingVisibleMetas(this._type).filter(We=>We.controller.options.grouped),ke=Me.options.stacked,Ce=[],Be=this._cachedMeta.controller.getParsed(_e),qe=Be&&Be[Me.axis],He=We=>{const Ke=We._parsed.find(Qe=>Qe[Me.axis]===qe),Je=Ke&&Ke[We.vScale.axis];if(isNullOrUndef(Je)||isNaN(Je))return!0};for(const We of $e)if(!(_e!==void 0&&He(We))&&((ke===!1||Ce.indexOf(We.stack)===-1||ke===void 0&&We.stack===void 0)&&Ce.push(We.stack),We.index===je))break;return Ce.length||Ce.push(void 0),Ce}_getStackCount(je){return this._getStacks(void 0,je).length}_getStackIndex(je,_e,Me){const $e=this._getStacks(je,Me),ke=_e!==void 0?$e.indexOf(_e):-1;return ke===-1?$e.length-1:ke}_getRuler(){const je=this.options,_e=this._cachedMeta,Me=_e.iScale,$e=[];let ke,Ce;for(ke=0,Ce=_e.data.length;ke<Ce;++ke)$e.push(Me.getPixelForValue(this.getParsed(ke)[Me.axis],ke));const Be=je.barThickness;return{min:Be||computeMinSampleSize(_e),pixels:$e,start:Me._startPixel,end:Me._endPixel,stackCount:this._getStackCount(),scale:Me,grouped:je.grouped,ratio:Be?1:je.categoryPercentage*je.barPercentage}}_calculateBarValuePixels(je){const{_cachedMeta:{vScale:_e,_stacked:Me,index:$e},options:{base:ke,minBarLength:Ce}}=this,Be=ke||0,qe=this.getParsed(je),He=qe._custom,We=isFloatBar(He);let Ke=qe[_e.axis],Je=0,Qe=Me?this.applyStack(_e,qe,Me):Ke,rr,tr;Qe!==Ke&&(Je=Qe-Ke,Qe=Ke),We&&(Ke=He.barStart,Qe=He.barEnd-He.barStart,Ke!==0&&sign(Ke)!==sign(He.barEnd)&&(Je=0),Je+=Ke);const cr=!isNullOrUndef(ke)&&!We?ke:Je;let or=_e.getPixelForValue(cr);if(this.chart.getDataVisibility(je)?rr=_e.getPixelForValue(Je+Qe):rr=or,tr=rr-or,Math.abs(tr)<Ce){tr=barSign(tr,_e,Be)*Ce,Ke===Be&&(or-=tr/2);const ar=_e.getPixelForDecimal(0),pr=_e.getPixelForDecimal(1),ur=Math.min(ar,pr),gr=Math.max(ar,pr);or=Math.max(Math.min(or,gr),ur),rr=or+tr,Me&&!We&&(qe._stacks[_e.axis]._visualValues[$e]=_e.getValueForPixel(rr)-_e.getValueForPixel(or))}if(or===_e.getPixelForValue(Be)){const ar=sign(tr)*_e.getLineWidthForValue(Be)/2;or+=ar,tr-=ar}return{size:tr,base:or,head:rr,center:rr+tr/2}}_calculateBarIndexPixels(je,_e){const Me=_e.scale,$e=this.options,ke=$e.skipNull,Ce=valueOrDefault($e.maxBarThickness,1/0);let Be,qe;if(_e.grouped){const He=ke?this._getStackCount(je):_e.stackCount,We=$e.barThickness==="flex"?computeFlexCategoryTraits(je,_e,$e,He):computeFitCategoryTraits(je,_e,$e,He),Ke=this._getStackIndex(this.index,this._cachedMeta.stack,ke?je:void 0);Be=We.start+We.chunk*Ke+We.chunk/2,qe=Math.min(Ce,We.chunk*We.ratio)}else Be=Me.getPixelForValue(this.getParsed(je)[Me.axis],je),qe=Math.min(Ce,_e.min*_e.ratio);return{base:Be-qe/2,head:Be+qe/2,center:Be,size:qe}}draw(){const je=this._cachedMeta,_e=je.vScale,Me=je.data,$e=Me.length;let ke=0;for(;ke<$e;++ke)this.getParsed(ke)[_e.axis]!==null&&!Me[ke].hidden&&Me[ke].draw(this._ctx)}}class LineController extends DatasetController{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(je){const _e=this._cachedMeta,{dataset:Me,data:$e=[],_dataset:ke}=_e,Ce=this.chart._animationsDisabled;let{start:Be,count:qe}=_getStartAndCountOfVisiblePoints(_e,$e,Ce);this._drawStart=Be,this._drawCount=qe,_scaleRangesChanged(_e)&&(Be=0,qe=$e.length),Me._chart=this.chart,Me._datasetIndex=this.index,Me._decimated=!!ke._decimated,Me.points=$e;const He=this.resolveDatasetElementOptions(je);this.options.showLine||(He.borderWidth=0),He.segment=this.options.segment,this.updateElement(Me,void 0,{animated:!Ce,options:He},je),this.updateElements($e,Be,qe,je)}updateElements(je,_e,Me,$e){const ke=$e==="reset",{iScale:Ce,vScale:Be,_stacked:qe,_dataset:He}=this._cachedMeta,{sharedOptions:We,includeOptions:Ke}=this._getSharedOptions(_e,$e),Je=Ce.axis,Qe=Be.axis,{spanGaps:rr,segment:tr}=this.options,cr=isNumber(rr)?rr:Number.POSITIVE_INFINITY,or=this.chart._animationsDisabled||ke||$e==="none",ar=_e+Me,pr=je.length;let ur=_e>0&&this.getParsed(_e-1);for(let gr=0;gr<pr;++gr){const jr=je[gr],vr=or?jr:{};if(gr<_e||gr>=ar){vr.skip=!0;continue}const dr=this.getParsed(gr),xr=isNullOrUndef(dr[Qe]),Rr=vr[Je]=Ce.getPixelForValue(dr[Je],gr),Xe=vr[Qe]=ke||xr?Be.getBasePixel():Be.getPixelForValue(qe?this.applyStack(Be,dr,qe):dr[Qe],gr);vr.skip=isNaN(Rr)||isNaN(Xe)||xr,vr.stop=gr>0&&Math.abs(dr[Je]-ur[Je])>cr,tr&&(vr.parsed=dr,vr.raw=He.data[gr]),Ke&&(vr.options=We||this.resolveDataElementOptions(gr,jr.active?"active":$e)),or||this.updateElement(jr,gr,vr,$e),ur=dr}}getMaxOverflow(){const je=this._cachedMeta,_e=je.dataset,Me=_e.options&&_e.options.borderWidth||0,$e=je.data||[];if(!$e.length)return Me;const ke=$e[0].size(this.resolveDataElementOptions(0)),Ce=$e[$e.length-1].size(this.resolveDataElementOptions($e.length-1));return Math.max(Me,ke,Ce)/2}draw(){const je=this._cachedMeta;je.dataset.updateControlPoints(this.chart.chartArea,je.iScale.axis),super.draw()}}function abstract(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class DateAdapterBase{static override(je){Object.assign(DateAdapterBase.prototype,je)}options;constructor(je){this.options=je||{}}init(){}formats(){return abstract()}parse(){return abstract()}format(){return abstract()}add(){return abstract()}diff(){return abstract()}startOf(){return abstract()}endOf(){return abstract()}}var adapters={_date:DateAdapterBase};function binarySearch(Re,je,_e,Me){const{controller:$e,data:ke,_sorted:Ce}=Re,Be=$e._cachedMeta.iScale,qe=Re.dataset&&Re.dataset.options?Re.dataset.options.spanGaps:null;if(Be&&je===Be.axis&&je!=="r"&&Ce&&ke.length){const He=Be._reversePixels?_rlookupByKey:_lookupByKey;if(Me){if($e._sharedOptions){const We=ke[0],Ke=typeof We.getRange=="function"&&We.getRange(je);if(Ke){const Je=He(ke,je,_e-Ke),Qe=He(ke,je,_e+Ke);return{lo:Je.lo,hi:Qe.hi}}}}else{const We=He(ke,je,_e);if(qe){const{vScale:Ke}=$e._cachedMeta,{_parsed:Je}=Re,Qe=Je.slice(0,We.lo+1).reverse().findIndex(tr=>!isNullOrUndef(tr[Ke.axis]));We.lo-=Math.max(0,Qe);const rr=Je.slice(We.hi).findIndex(tr=>!isNullOrUndef(tr[Ke.axis]));We.hi+=Math.max(0,rr)}return We}}return{lo:0,hi:ke.length-1}}function evaluateInteractionItems(Re,je,_e,Me,$e){const ke=Re.getSortedVisibleDatasetMetas(),Ce=_e[je];for(let Be=0,qe=ke.length;Be<qe;++Be){const{index:He,data:We}=ke[Be],{lo:Ke,hi:Je}=binarySearch(ke[Be],je,Ce,$e);for(let Qe=Ke;Qe<=Je;++Qe){const rr=We[Qe];rr.skip||Me(rr,He,Qe)}}}function getDistanceMetricForAxis(Re){const je=Re.indexOf("x")!==-1,_e=Re.indexOf("y")!==-1;return function(Me,$e){const ke=je?Math.abs(Me.x-$e.x):0,Ce=_e?Math.abs(Me.y-$e.y):0;return Math.sqrt(Math.pow(ke,2)+Math.pow(Ce,2))}}function getIntersectItems(Re,je,_e,Me,$e){const ke=[];return!$e&&!Re.isPointInArea(je)||evaluateInteractionItems(Re,_e,je,function(Be,qe,He){!$e&&!_isPointInArea(Be,Re.chartArea,0)||Be.inRange(je.x,je.y,Me)&&ke.push({element:Be,datasetIndex:qe,index:He})},!0),ke}function getNearestRadialItems(Re,je,_e,Me){let $e=[];function ke(Ce,Be,qe){const{startAngle:He,endAngle:We}=Ce.getProps(["startAngle","endAngle"],Me),{angle:Ke}=getAngleFromPoint(Ce,{x:je.x,y:je.y});_angleBetween(Ke,He,We)&&$e.push({element:Ce,datasetIndex:Be,index:qe})}return evaluateInteractionItems(Re,_e,je,ke),$e}function getNearestCartesianItems(Re,je,_e,Me,$e,ke){let Ce=[];const Be=getDistanceMetricForAxis(_e);let qe=Number.POSITIVE_INFINITY;function He(We,Ke,Je){const Qe=We.inRange(je.x,je.y,$e);if(Me&&!Qe)return;const rr=We.getCenterPoint($e);if(!(!!ke||Re.isPointInArea(rr))&&!Qe)return;const cr=Be(je,rr);cr<qe?(Ce=[{element:We,datasetIndex:Ke,index:Je}],qe=cr):cr===qe&&Ce.push({element:We,datasetIndex:Ke,index:Je})}return evaluateInteractionItems(Re,_e,je,He),Ce}function getNearestItems(Re,je,_e,Me,$e,ke){return!ke&&!Re.isPointInArea(je)?[]:_e==="r"&&!Me?getNearestRadialItems(Re,je,_e,$e):getNearestCartesianItems(Re,je,_e,Me,$e,ke)}function getAxisItems(Re,je,_e,Me,$e){const ke=[],Ce=_e==="x"?"inXRange":"inYRange";let Be=!1;return evaluateInteractionItems(Re,_e,je,(qe,He,We)=>{qe[Ce]&&qe[Ce](je[_e],$e)&&(ke.push({element:qe,datasetIndex:He,index:We}),Be=Be||qe.inRange(je.x,je.y,$e))}),Me&&!Be?[]:ke}var Interaction={evaluateInteractionItems,modes:{index(Re,je,_e,Me){const $e=getRelativePosition(je,Re),ke=_e.axis||"x",Ce=_e.includeInvisible||!1,Be=_e.intersect?getIntersectItems(Re,$e,ke,Me,Ce):getNearestItems(Re,$e,ke,!1,Me,Ce),qe=[];return Be.length?(Re.getSortedVisibleDatasetMetas().forEach(He=>{const We=Be[0].index,Ke=He.data[We];Ke&&!Ke.skip&&qe.push({element:Ke,datasetIndex:He.index,index:We})}),qe):[]},dataset(Re,je,_e,Me){const $e=getRelativePosition(je,Re),ke=_e.axis||"xy",Ce=_e.includeInvisible||!1;let Be=_e.intersect?getIntersectItems(Re,$e,ke,Me,Ce):getNearestItems(Re,$e,ke,!1,Me,Ce);if(Be.length>0){const qe=Be[0].datasetIndex,He=Re.getDatasetMeta(qe).data;Be=[];for(let We=0;We<He.length;++We)Be.push({element:He[We],datasetIndex:qe,index:We})}return Be},point(Re,je,_e,Me){const $e=getRelativePosition(je,Re),ke=_e.axis||"xy",Ce=_e.includeInvisible||!1;return getIntersectItems(Re,$e,ke,Me,Ce)},nearest(Re,je,_e,Me){const $e=getRelativePosition(je,Re),ke=_e.axis||"xy",Ce=_e.includeInvisible||!1;return getNearestItems(Re,$e,ke,_e.intersect,Me,Ce)},x(Re,je,_e,Me){const $e=getRelativePosition(je,Re);return getAxisItems(Re,$e,"x",_e.intersect,Me)},y(Re,je,_e,Me){const $e=getRelativePosition(je,Re);return getAxisItems(Re,$e,"y",_e.intersect,Me)}}};const STATIC_POSITIONS=["left","top","right","bottom"];function filterByPosition(Re,je){return Re.filter(_e=>_e.pos===je)}function filterDynamicPositionByAxis(Re,je){return Re.filter(_e=>STATIC_POSITIONS.indexOf(_e.pos)===-1&&_e.box.axis===je)}function sortByWeight(Re,je){return Re.sort((_e,Me)=>{const $e=je?Me:_e,ke=je?_e:Me;return $e.weight===ke.weight?$e.index-ke.index:$e.weight-ke.weight})}function wrapBoxes(Re){const je=[];let _e,Me,$e,ke,Ce,Be;for(_e=0,Me=(Re||[]).length;_e<Me;++_e)$e=Re[_e],{position:ke,options:{stack:Ce,stackWeight:Be=1}}=$e,je.push({index:_e,box:$e,pos:ke,horizontal:$e.isHorizontal(),weight:$e.weight,stack:Ce&&ke+Ce,stackWeight:Be});return je}function buildStacks(Re){const je={};for(const _e of Re){const{stack:Me,pos:$e,stackWeight:ke}=_e;if(!Me||!STATIC_POSITIONS.includes($e))continue;const Ce=je[Me]||(je[Me]={count:0,placed:0,weight:0,size:0});Ce.count++,Ce.weight+=ke}return je}function setLayoutDims(Re,je){const _e=buildStacks(Re),{vBoxMaxWidth:Me,hBoxMaxHeight:$e}=je;let ke,Ce,Be;for(ke=0,Ce=Re.length;ke<Ce;++ke){Be=Re[ke];const{fullSize:qe}=Be.box,He=_e[Be.stack],We=He&&Be.stackWeight/He.weight;Be.horizontal?(Be.width=We?We*Me:qe&&je.availableWidth,Be.height=$e):(Be.width=Me,Be.height=We?We*$e:qe&&je.availableHeight)}return _e}function buildLayoutBoxes(Re){const je=wrapBoxes(Re),_e=sortByWeight(je.filter(He=>He.box.fullSize),!0),Me=sortByWeight(filterByPosition(je,"left"),!0),$e=sortByWeight(filterByPosition(je,"right")),ke=sortByWeight(filterByPosition(je,"top"),!0),Ce=sortByWeight(filterByPosition(je,"bottom")),Be=filterDynamicPositionByAxis(je,"x"),qe=filterDynamicPositionByAxis(je,"y");return{fullSize:_e,leftAndTop:Me.concat(ke),rightAndBottom:$e.concat(qe).concat(Ce).concat(Be),chartArea:filterByPosition(je,"chartArea"),vertical:Me.concat($e).concat(qe),horizontal:ke.concat(Ce).concat(Be)}}function getCombinedMax(Re,je,_e,Me){return Math.max(Re[_e],je[_e])+Math.max(Re[Me],je[Me])}function updateMaxPadding(Re,je){Re.top=Math.max(Re.top,je.top),Re.left=Math.max(Re.left,je.left),Re.bottom=Math.max(Re.bottom,je.bottom),Re.right=Math.max(Re.right,je.right)}function updateDims(Re,je,_e,Me){const{pos:$e,box:ke}=_e,Ce=Re.maxPadding;if(!isObject$a($e)){_e.size&&(Re[$e]-=_e.size);const Ke=Me[_e.stack]||{size:0,count:1};Ke.size=Math.max(Ke.size,_e.horizontal?ke.height:ke.width),_e.size=Ke.size/Ke.count,Re[$e]+=_e.size}ke.getPadding&&updateMaxPadding(Ce,ke.getPadding());const Be=Math.max(0,je.outerWidth-getCombinedMax(Ce,Re,"left","right")),qe=Math.max(0,je.outerHeight-getCombinedMax(Ce,Re,"top","bottom")),He=Be!==Re.w,We=qe!==Re.h;return Re.w=Be,Re.h=qe,_e.horizontal?{same:He,other:We}:{same:We,other:He}}function handleMaxPadding(Re){const je=Re.maxPadding;function _e(Me){const $e=Math.max(je[Me]-Re[Me],0);return Re[Me]+=$e,$e}Re.y+=_e("top"),Re.x+=_e("left"),_e("right"),_e("bottom")}function getMargins(Re,je){const _e=je.maxPadding;function Me($e){const ke={left:0,top:0,right:0,bottom:0};return $e.forEach(Ce=>{ke[Ce]=Math.max(je[Ce],_e[Ce])}),ke}return Me(Re?["left","right"]:["top","bottom"])}function fitBoxes(Re,je,_e,Me){const $e=[];let ke,Ce,Be,qe,He,We;for(ke=0,Ce=Re.length,He=0;ke<Ce;++ke){Be=Re[ke],qe=Be.box,qe.update(Be.width||je.w,Be.height||je.h,getMargins(Be.horizontal,je));const{same:Ke,other:Je}=updateDims(je,_e,Be,Me);He|=Ke&&$e.length,We=We||Je,qe.fullSize||$e.push(Be)}return He&&fitBoxes($e,je,_e,Me)||We}function setBoxDims(Re,je,_e,Me,$e){Re.top=_e,Re.left=je,Re.right=je+Me,Re.bottom=_e+$e,Re.width=Me,Re.height=$e}function placeBoxes(Re,je,_e,Me){const $e=_e.padding;let{x:ke,y:Ce}=je;for(const Be of Re){const qe=Be.box,He=Me[Be.stack]||{count:1,placed:0,weight:1},We=Be.stackWeight/He.weight||1;if(Be.horizontal){const Ke=je.w*We,Je=He.size||qe.height;defined(He.start)&&(Ce=He.start),qe.fullSize?setBoxDims(qe,$e.left,Ce,_e.outerWidth-$e.right-$e.left,Je):setBoxDims(qe,je.left+He.placed,Ce,Ke,Je),He.start=Ce,He.placed+=Ke,Ce=qe.bottom}else{const Ke=je.h*We,Je=He.size||qe.width;defined(He.start)&&(ke=He.start),qe.fullSize?setBoxDims(qe,ke,$e.top,Je,_e.outerHeight-$e.bottom-$e.top):setBoxDims(qe,ke,je.top+He.placed,Je,Ke),He.start=ke,He.placed+=Ke,ke=qe.right}}je.x=ke,je.y=Ce}var layouts={addBox(Re,je){Re.boxes||(Re.boxes=[]),je.fullSize=je.fullSize||!1,je.position=je.position||"top",je.weight=je.weight||0,je._layers=je._layers||function(){return[{z:0,draw(_e){je.draw(_e)}}]},Re.boxes.push(je)},removeBox(Re,je){const _e=Re.boxes?Re.boxes.indexOf(je):-1;_e!==-1&&Re.boxes.splice(_e,1)},configure(Re,je,_e){je.fullSize=_e.fullSize,je.position=_e.position,je.weight=_e.weight},update(Re,je,_e,Me){if(!Re)return;const $e=toPadding(Re.options.layout.padding),ke=Math.max(je-$e.width,0),Ce=Math.max(_e-$e.height,0),Be=buildLayoutBoxes(Re.boxes),qe=Be.vertical,He=Be.horizontal;each(Re.boxes,tr=>{typeof tr.beforeLayout=="function"&&tr.beforeLayout()});const We=qe.reduce((tr,cr)=>cr.box.options&&cr.box.options.display===!1?tr:tr+1,0)||1,Ke=Object.freeze({outerWidth:je,outerHeight:_e,padding:$e,availableWidth:ke,availableHeight:Ce,vBoxMaxWidth:ke/2/We,hBoxMaxHeight:Ce/2}),Je=Object.assign({},$e);updateMaxPadding(Je,toPadding(Me));const Qe=Object.assign({maxPadding:Je,w:ke,h:Ce,x:$e.left,y:$e.top},$e),rr=setLayoutDims(qe.concat(He),Ke);fitBoxes(Be.fullSize,Qe,Ke,rr),fitBoxes(qe,Qe,Ke,rr),fitBoxes(He,Qe,Ke,rr)&&fitBoxes(qe,Qe,Ke,rr),handleMaxPadding(Qe),placeBoxes(Be.leftAndTop,Qe,Ke,rr),Qe.x+=Qe.w,Qe.y+=Qe.h,placeBoxes(Be.rightAndBottom,Qe,Ke,rr),Re.chartArea={left:Qe.left,top:Qe.top,right:Qe.left+Qe.w,bottom:Qe.top+Qe.h,height:Qe.h,width:Qe.w},each(Be.chartArea,tr=>{const cr=tr.box;Object.assign(cr,Re.chartArea),cr.update(Qe.w,Qe.h,{left:0,top:0,right:0,bottom:0})})}};class BasePlatform{acquireContext(je,_e){}releaseContext(je){return!1}addEventListener(je,_e,Me){}removeEventListener(je,_e,Me){}getDevicePixelRatio(){return 1}getMaximumSize(je,_e,Me,$e){return _e=Math.max(0,_e||je.width),Me=Me||je.height,{width:_e,height:Math.max(0,$e?Math.floor(_e/$e):Me)}}isAttached(je){return!0}updateConfig(je){}}class BasicPlatform extends BasePlatform{acquireContext(je){return je&&je.getContext&&je.getContext("2d")||null}updateConfig(je){je.options.animation=!1}}const EXPANDO_KEY="$chartjs",EVENT_TYPES={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},isNullOrEmpty=Re=>Re===null||Re==="";function initCanvas(Re,je){const _e=Re.style,Me=Re.getAttribute("height"),$e=Re.getAttribute("width");if(Re[EXPANDO_KEY]={initial:{height:Me,width:$e,style:{display:_e.display,height:_e.height,width:_e.width}}},_e.display=_e.display||"block",_e.boxSizing=_e.boxSizing||"border-box",isNullOrEmpty($e)){const ke=readUsedSize(Re,"width");ke!==void 0&&(Re.width=ke)}if(isNullOrEmpty(Me))if(Re.style.height==="")Re.height=Re.width/(je||2);else{const ke=readUsedSize(Re,"height");ke!==void 0&&(Re.height=ke)}return Re}const eventListenerOptions=supportsEventListenerOptions?{passive:!0}:!1;function addListener(Re,je,_e){Re&&Re.addEventListener(je,_e,eventListenerOptions)}function removeListener(Re,je,_e){Re&&Re.canvas&&Re.canvas.removeEventListener(je,_e,eventListenerOptions)}function fromNativeEvent(Re,je){const _e=EVENT_TYPES[Re.type]||Re.type,{x:Me,y:$e}=getRelativePosition(Re,je);return{type:_e,chart:je,native:Re,x:Me!==void 0?Me:null,y:$e!==void 0?$e:null}}function nodeListContains(Re,je){for(const _e of Re)if(_e===je||_e.contains(je))return!0}function createAttachObserver(Re,je,_e){const Me=Re.canvas,$e=new MutationObserver(ke=>{let Ce=!1;for(const Be of ke)Ce=Ce||nodeListContains(Be.addedNodes,Me),Ce=Ce&&!nodeListContains(Be.removedNodes,Me);Ce&&_e()});return $e.observe(document,{childList:!0,subtree:!0}),$e}function createDetachObserver(Re,je,_e){const Me=Re.canvas,$e=new MutationObserver(ke=>{let Ce=!1;for(const Be of ke)Ce=Ce||nodeListContains(Be.removedNodes,Me),Ce=Ce&&!nodeListContains(Be.addedNodes,Me);Ce&&_e()});return $e.observe(document,{childList:!0,subtree:!0}),$e}const drpListeningCharts=new Map;let oldDevicePixelRatio=0;function onWindowResize(){const Re=window.devicePixelRatio;Re!==oldDevicePixelRatio&&(oldDevicePixelRatio=Re,drpListeningCharts.forEach((je,_e)=>{_e.currentDevicePixelRatio!==Re&&je()}))}function listenDevicePixelRatioChanges(Re,je){drpListeningCharts.size||window.addEventListener("resize",onWindowResize),drpListeningCharts.set(Re,je)}function unlistenDevicePixelRatioChanges(Re){drpListeningCharts.delete(Re),drpListeningCharts.size||window.removeEventListener("resize",onWindowResize)}function createResizeObserver(Re,je,_e){const Me=Re.canvas,$e=Me&&_getParentNode(Me);if(!$e)return;const ke=throttled((Be,qe)=>{const He=$e.clientWidth;_e(Be,qe),He<$e.clientWidth&&_e()},window),Ce=new ResizeObserver(Be=>{const qe=Be[0],He=qe.contentRect.width,We=qe.contentRect.height;He===0&&We===0||ke(He,We)});return Ce.observe($e),listenDevicePixelRatioChanges(Re,ke),Ce}function releaseObserver(Re,je,_e){_e&&_e.disconnect(),je==="resize"&&unlistenDevicePixelRatioChanges(Re)}function createProxyAndListen(Re,je,_e){const Me=Re.canvas,$e=throttled(ke=>{Re.ctx!==null&&_e(fromNativeEvent(ke,Re))},Re);return addListener(Me,je,$e),$e}class DomPlatform extends BasePlatform{acquireContext(je,_e){const Me=je&&je.getContext&&je.getContext("2d");return Me&&Me.canvas===je?(initCanvas(je,_e),Me):null}releaseContext(je){const _e=je.canvas;if(!_e[EXPANDO_KEY])return!1;const Me=_e[EXPANDO_KEY].initial;["height","width"].forEach(ke=>{const Ce=Me[ke];isNullOrUndef(Ce)?_e.removeAttribute(ke):_e.setAttribute(ke,Ce)});const $e=Me.style||{};return Object.keys($e).forEach(ke=>{_e.style[ke]=$e[ke]}),_e.width=_e.width,delete _e[EXPANDO_KEY],!0}addEventListener(je,_e,Me){this.removeEventListener(je,_e);const $e=je.$proxies||(je.$proxies={}),Ce={attach:createAttachObserver,detach:createDetachObserver,resize:createResizeObserver}[_e]||createProxyAndListen;$e[_e]=Ce(je,_e,Me)}removeEventListener(je,_e){const Me=je.$proxies||(je.$proxies={}),$e=Me[_e];if(!$e)return;({attach:releaseObserver,detach:releaseObserver,resize:releaseObserver}[_e]||removeListener)(je,_e,$e),Me[_e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(je,_e,Me,$e){return getMaximumSize(je,_e,Me,$e)}isAttached(je){const _e=je&&_getParentNode(je);return!!(_e&&_e.isConnected)}}function _detectPlatform(Re){return!_isDomSupported()||typeof OffscreenCanvas<"u"&&Re instanceof OffscreenCanvas?BasicPlatform:DomPlatform}let Element$1=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(je){const{x:_e,y:Me}=this.getProps(["x","y"],je);return{x:_e,y:Me}}hasValue(){return isNumber(this.x)&&isNumber(this.y)}getProps(je,_e){const Me=this.$animations;if(!_e||!Me)return this;const $e={};return je.forEach(ke=>{$e[ke]=Me[ke]&&Me[ke].active()?Me[ke]._to:this[ke]}),$e}};function autoSkip(Re,je){const _e=Re.options.ticks,Me=determineMaxTicks(Re),$e=Math.min(_e.maxTicksLimit||Me,Me),ke=_e.major.enabled?getMajorIndices(je):[],Ce=ke.length,Be=ke[0],qe=ke[Ce-1],He=[];if(Ce>$e)return skipMajors(je,He,ke,Ce/$e),He;const We=calculateSpacing(ke,je,$e);if(Ce>0){let Ke,Je;const Qe=Ce>1?Math.round((qe-Be)/(Ce-1)):null;for(skip(je,He,We,isNullOrUndef(Qe)?0:Be-Qe,Be),Ke=0,Je=Ce-1;Ke<Je;Ke++)skip(je,He,We,ke[Ke],ke[Ke+1]);return skip(je,He,We,qe,isNullOrUndef(Qe)?je.length:qe+Qe),He}return skip(je,He,We),He}function determineMaxTicks(Re){const je=Re.options.offset,_e=Re._tickSize(),Me=Re._length/_e+(je?0:1),$e=Re._maxLength/_e;return Math.floor(Math.min(Me,$e))}function calculateSpacing(Re,je,_e){const Me=getEvenSpacing(Re),$e=je.length/_e;if(!Me)return Math.max($e,1);const ke=_factorize(Me);for(let Ce=0,Be=ke.length-1;Ce<Be;Ce++){const qe=ke[Ce];if(qe>$e)return qe}return Math.max($e,1)}function getMajorIndices(Re){const je=[];let _e,Me;for(_e=0,Me=Re.length;_e<Me;_e++)Re[_e].major&&je.push(_e);return je}function skipMajors(Re,je,_e,Me){let $e=0,ke=_e[0],Ce;for(Me=Math.ceil(Me),Ce=0;Ce<Re.length;Ce++)Ce===ke&&(je.push(Re[Ce]),$e++,ke=_e[$e*Me])}function skip(Re,je,_e,Me,$e){const ke=valueOrDefault(Me,0),Ce=Math.min(valueOrDefault($e,Re.length),Re.length);let Be=0,qe,He,We;for(_e=Math.ceil(_e),$e&&(qe=$e-Me,_e=qe/Math.floor(qe/_e)),We=ke;We<0;)Be++,We=Math.round(ke+Be*_e);for(He=Math.max(ke,0);He<Ce;He++)He===We&&(je.push(Re[He]),Be++,We=Math.round(ke+Be*_e))}function getEvenSpacing(Re){const je=Re.length;let _e,Me;if(je<2)return!1;for(Me=Re[0],_e=1;_e<je;++_e)if(Re[_e]-Re[_e-1]!==Me)return!1;return Me}const reverseAlign=Re=>Re==="left"?"right":Re==="right"?"left":Re,offsetFromEdge=(Re,je,_e)=>je==="top"||je==="left"?Re[je]+_e:Re[je]-_e,getTicksLimit=(Re,je)=>Math.min(je||Re,Re);function sample(Re,je){const _e=[],Me=Re.length/je,$e=Re.length;let ke=0;for(;ke<$e;ke+=Me)_e.push(Re[Math.floor(ke)]);return _e}function getPixelForGridLine(Re,je,_e){const Me=Re.ticks.length,$e=Math.min(je,Me-1),ke=Re._startPixel,Ce=Re._endPixel,Be=1e-6;let qe=Re.getPixelForTick($e),He;if(!(_e&&(Me===1?He=Math.max(qe-ke,Ce-qe):je===0?He=(Re.getPixelForTick(1)-qe)/2:He=(qe-Re.getPixelForTick($e-1))/2,qe+=$e<je?He:-He,qe<ke-Be||qe>Ce+Be)))return qe}function garbageCollect(Re,je){each(Re,_e=>{const Me=_e.gc,$e=Me.length/2;let ke;if($e>je){for(ke=0;ke<$e;++ke)delete _e.data[Me[ke]];Me.splice(0,$e)}})}function getTickMarkLength(Re){return Re.drawTicks?Re.tickLength:0}function getTitleHeight(Re,je){if(!Re.display)return 0;const _e=toFont(Re.font,je),Me=toPadding(Re.padding);return(isArray$d(Re.text)?Re.text.length:1)*_e.lineHeight+Me.height}function createScaleContext(Re,je){return createContext(Re,{scale:je,type:"scale"})}function createTickContext(Re,je,_e){return createContext(Re,{tick:_e,index:je,type:"tick"})}function titleAlign(Re,je,_e){let Me=_toLeftRightCenter(Re);return(_e&&je!=="right"||!_e&&je==="right")&&(Me=reverseAlign(Me)),Me}function titleArgs(Re,je,_e,Me){const{top:$e,left:ke,bottom:Ce,right:Be,chart:qe}=Re,{chartArea:He,scales:We}=qe;let Ke=0,Je,Qe,rr;const tr=Ce-$e,cr=Be-ke;if(Re.isHorizontal()){if(Qe=_alignStartEnd(Me,ke,Be),isObject$a(_e)){const or=Object.keys(_e)[0],ar=_e[or];rr=We[or].getPixelForValue(ar)+tr-je}else _e==="center"?rr=(He.bottom+He.top)/2+tr-je:rr=offsetFromEdge(Re,_e,je);Je=Be-ke}else{if(isObject$a(_e)){const or=Object.keys(_e)[0],ar=_e[or];Qe=We[or].getPixelForValue(ar)-cr+je}else _e==="center"?Qe=(He.left+He.right)/2-cr+je:Qe=offsetFromEdge(Re,_e,je);rr=_alignStartEnd(Me,Ce,$e),Ke=_e==="left"?-HALF_PI:HALF_PI}return{titleX:Qe,titleY:rr,maxWidth:Je,rotation:Ke}}class Scale extends Element$1{constructor(je){super(),this.id=je.id,this.type=je.type,this.options=void 0,this.ctx=je.ctx,this.chart=je.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(je){this.options=je.setContext(this.getContext()),this.axis=je.axis,this._userMin=this.parse(je.min),this._userMax=this.parse(je.max),this._suggestedMin=this.parse(je.suggestedMin),this._suggestedMax=this.parse(je.suggestedMax)}parse(je,_e){return je}getUserBounds(){let{_userMin:je,_userMax:_e,_suggestedMin:Me,_suggestedMax:$e}=this;return je=finiteOrDefault(je,Number.POSITIVE_INFINITY),_e=finiteOrDefault(_e,Number.NEGATIVE_INFINITY),Me=finiteOrDefault(Me,Number.POSITIVE_INFINITY),$e=finiteOrDefault($e,Number.NEGATIVE_INFINITY),{min:finiteOrDefault(je,Me),max:finiteOrDefault(_e,$e),minDefined:isNumberFinite(je),maxDefined:isNumberFinite(_e)}}getMinMax(je){let{min:_e,max:Me,minDefined:$e,maxDefined:ke}=this.getUserBounds(),Ce;if($e&&ke)return{min:_e,max:Me};const Be=this.getMatchingVisibleMetas();for(let qe=0,He=Be.length;qe<He;++qe)Ce=Be[qe].controller.getMinMax(this,je),$e||(_e=Math.min(_e,Ce.min)),ke||(Me=Math.max(Me,Ce.max));return _e=ke&&_e>Me?Me:_e,Me=$e&&_e>Me?_e:Me,{min:finiteOrDefault(_e,finiteOrDefault(Me,_e)),max:finiteOrDefault(Me,finiteOrDefault(_e,Me))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const je=this.chart.data;return this.options.labels||(this.isHorizontal()?je.xLabels:je.yLabels)||je.labels||[]}getLabelItems(je=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(je))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){callback(this.options.beforeUpdate,[this])}update(je,_e,Me){const{beginAtZero:$e,grace:ke,ticks:Ce}=this.options,Be=Ce.sampleSize;this.beforeUpdate(),this.maxWidth=je,this.maxHeight=_e,this._margins=Me=Object.assign({left:0,right:0,top:0,bottom:0},Me),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+Me.left+Me.right:this.height+Me.top+Me.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=_addGrace(this,ke,$e),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const qe=Be<this.ticks.length;this._convertTicksToLabels(qe?sample(this.ticks,Be):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),Ce.display&&(Ce.autoSkip||Ce.source==="auto")&&(this.ticks=autoSkip(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),qe&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let je=this.options.reverse,_e,Me;this.isHorizontal()?(_e=this.left,Me=this.right):(_e=this.top,Me=this.bottom,je=!je),this._startPixel=_e,this._endPixel=Me,this._reversePixels=je,this._length=Me-_e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){callback(this.options.afterUpdate,[this])}beforeSetDimensions(){callback(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){callback(this.options.afterSetDimensions,[this])}_callHooks(je){this.chart.notifyPlugins(je,this.getContext()),callback(this.options[je],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){callback(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(je){const _e=this.options.ticks;let Me,$e,ke;for(Me=0,$e=je.length;Me<$e;Me++)ke=je[Me],ke.label=callback(_e.callback,[ke.value,Me,je],this)}afterTickToLabelConversion(){callback(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){callback(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const je=this.options,_e=je.ticks,Me=getTicksLimit(this.ticks.length,je.ticks.maxTicksLimit),$e=_e.minRotation||0,ke=_e.maxRotation;let Ce=$e,Be,qe,He;if(!this._isVisible()||!_e.display||$e>=ke||Me<=1||!this.isHorizontal()){this.labelRotation=$e;return}const We=this._getLabelSizes(),Ke=We.widest.width,Je=We.highest.height,Qe=_limitValue(this.chart.width-Ke,0,this.maxWidth);Be=je.offset?this.maxWidth/Me:Qe/(Me-1),Ke+6>Be&&(Be=Qe/(Me-(je.offset?.5:1)),qe=this.maxHeight-getTickMarkLength(je.grid)-_e.padding-getTitleHeight(je.title,this.chart.options.font),He=Math.sqrt(Ke*Ke+Je*Je),Ce=toDegrees(Math.min(Math.asin(_limitValue((We.highest.height+6)/Be,-1,1)),Math.asin(_limitValue(qe/He,-1,1))-Math.asin(_limitValue(Je/He,-1,1)))),Ce=Math.max($e,Math.min(ke,Ce))),this.labelRotation=Ce}afterCalculateLabelRotation(){callback(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){callback(this.options.beforeFit,[this])}fit(){const je={width:0,height:0},{chart:_e,options:{ticks:Me,title:$e,grid:ke}}=this,Ce=this._isVisible(),Be=this.isHorizontal();if(Ce){const qe=getTitleHeight($e,_e.options.font);if(Be?(je.width=this.maxWidth,je.height=getTickMarkLength(ke)+qe):(je.height=this.maxHeight,je.width=getTickMarkLength(ke)+qe),Me.display&&this.ticks.length){const{first:He,last:We,widest:Ke,highest:Je}=this._getLabelSizes(),Qe=Me.padding*2,rr=toRadians(this.labelRotation),tr=Math.cos(rr),cr=Math.sin(rr);if(Be){const or=Me.mirror?0:cr*Ke.width+tr*Je.height;je.height=Math.min(this.maxHeight,je.height+or+Qe)}else{const or=Me.mirror?0:tr*Ke.width+cr*Je.height;je.width=Math.min(this.maxWidth,je.width+or+Qe)}this._calculatePadding(He,We,cr,tr)}}this._handleMargins(),Be?(this.width=this._length=_e.width-this._margins.left-this._margins.right,this.height=je.height):(this.width=je.width,this.height=this._length=_e.height-this._margins.top-this._margins.bottom)}_calculatePadding(je,_e,Me,$e){const{ticks:{align:ke,padding:Ce},position:Be}=this.options,qe=this.labelRotation!==0,He=Be!=="top"&&this.axis==="x";if(this.isHorizontal()){const We=this.getPixelForTick(0)-this.left,Ke=this.right-this.getPixelForTick(this.ticks.length-1);let Je=0,Qe=0;qe?He?(Je=$e*je.width,Qe=Me*_e.height):(Je=Me*je.height,Qe=$e*_e.width):ke==="start"?Qe=_e.width:ke==="end"?Je=je.width:ke!=="inner"&&(Je=je.width/2,Qe=_e.width/2),this.paddingLeft=Math.max((Je-We+Ce)*this.width/(this.width-We),0),this.paddingRight=Math.max((Qe-Ke+Ce)*this.width/(this.width-Ke),0)}else{let We=_e.height/2,Ke=je.height/2;ke==="start"?(We=0,Ke=je.height):ke==="end"&&(We=_e.height,Ke=0),this.paddingTop=We+Ce,this.paddingBottom=Ke+Ce}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){callback(this.options.afterFit,[this])}isHorizontal(){const{axis:je,position:_e}=this.options;return _e==="top"||_e==="bottom"||je==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(je){this.beforeTickToLabelConversion(),this.generateTickLabels(je);let _e,Me;for(_e=0,Me=je.length;_e<Me;_e++)isNullOrUndef(je[_e].label)&&(je.splice(_e,1),Me--,_e--);this.afterTickToLabelConversion()}_getLabelSizes(){let je=this._labelSizes;if(!je){const _e=this.options.ticks.sampleSize;let Me=this.ticks;_e<Me.length&&(Me=sample(Me,_e)),this._labelSizes=je=this._computeLabelSizes(Me,Me.length,this.options.ticks.maxTicksLimit)}return je}_computeLabelSizes(je,_e,Me){const{ctx:$e,_longestTextCache:ke}=this,Ce=[],Be=[],qe=Math.floor(_e/getTicksLimit(_e,Me));let He=0,We=0,Ke,Je,Qe,rr,tr,cr,or,ar,pr,ur,gr;for(Ke=0;Ke<_e;Ke+=qe){if(rr=je[Ke].label,tr=this._resolveTickFontOptions(Ke),$e.font=cr=tr.string,or=ke[cr]=ke[cr]||{data:{},gc:[]},ar=tr.lineHeight,pr=ur=0,!isNullOrUndef(rr)&&!isArray$d(rr))pr=_measureText($e,or.data,or.gc,pr,rr),ur=ar;else if(isArray$d(rr))for(Je=0,Qe=rr.length;Je<Qe;++Je)gr=rr[Je],!isNullOrUndef(gr)&&!isArray$d(gr)&&(pr=_measureText($e,or.data,or.gc,pr,gr),ur+=ar);Ce.push(pr),Be.push(ur),He=Math.max(pr,He),We=Math.max(ur,We)}garbageCollect(ke,_e);const jr=Ce.indexOf(He),vr=Be.indexOf(We),dr=xr=>({width:Ce[xr]||0,height:Be[xr]||0});return{first:dr(0),last:dr(_e-1),widest:dr(jr),highest:dr(vr),widths:Ce,heights:Be}}getLabelForValue(je){return je}getPixelForValue(je,_e){return NaN}getValueForPixel(je){}getPixelForTick(je){const _e=this.ticks;return je<0||je>_e.length-1?null:this.getPixelForValue(_e[je].value)}getPixelForDecimal(je){this._reversePixels&&(je=1-je);const _e=this._startPixel+je*this._length;return _int16Range(this._alignToPixels?_alignPixel(this.chart,_e,0):_e)}getDecimalForPixel(je){const _e=(je-this._startPixel)/this._length;return this._reversePixels?1-_e:_e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:je,max:_e}=this;return je<0&&_e<0?_e:je>0&&_e>0?je:0}getContext(je){const _e=this.ticks||[];if(je>=0&&je<_e.length){const Me=_e[je];return Me.$context||(Me.$context=createTickContext(this.getContext(),je,Me))}return this.$context||(this.$context=createScaleContext(this.chart.getContext(),this))}_tickSize(){const je=this.options.ticks,_e=toRadians(this.labelRotation),Me=Math.abs(Math.cos(_e)),$e=Math.abs(Math.sin(_e)),ke=this._getLabelSizes(),Ce=je.autoSkipPadding||0,Be=ke?ke.widest.width+Ce:0,qe=ke?ke.highest.height+Ce:0;return this.isHorizontal()?qe*Me>Be*$e?Be/Me:qe/$e:qe*$e<Be*Me?qe/Me:Be/$e}_isVisible(){const je=this.options.display;return je!=="auto"?!!je:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(je){const _e=this.axis,Me=this.chart,$e=this.options,{grid:ke,position:Ce,border:Be}=$e,qe=ke.offset,He=this.isHorizontal(),Ke=this.ticks.length+(qe?1:0),Je=getTickMarkLength(ke),Qe=[],rr=Be.setContext(this.getContext()),tr=rr.display?rr.width:0,cr=tr/2,or=function(Ge){return _alignPixel(Me,Ge,tr)};let ar,pr,ur,gr,jr,vr,dr,xr,Rr,Xe,Pe,Fe;if(Ce==="top")ar=or(this.bottom),vr=this.bottom-Je,xr=ar-cr,Xe=or(je.top)+cr,Fe=je.bottom;else if(Ce==="bottom")ar=or(this.top),Xe=je.top,Fe=or(je.bottom)-cr,vr=ar+cr,xr=this.top+Je;else if(Ce==="left")ar=or(this.right),jr=this.right-Je,dr=ar-cr,Rr=or(je.left)+cr,Pe=je.right;else if(Ce==="right")ar=or(this.left),Rr=je.left,Pe=or(je.right)-cr,jr=ar+cr,dr=this.left+Je;else if(_e==="x"){if(Ce==="center")ar=or((je.top+je.bottom)/2+.5);else if(isObject$a(Ce)){const Ge=Object.keys(Ce)[0],Ze=Ce[Ge];ar=or(this.chart.scales[Ge].getPixelForValue(Ze))}Xe=je.top,Fe=je.bottom,vr=ar+cr,xr=vr+Je}else if(_e==="y"){if(Ce==="center")ar=or((je.left+je.right)/2);else if(isObject$a(Ce)){const Ge=Object.keys(Ce)[0],Ze=Ce[Ge];ar=or(this.chart.scales[Ge].getPixelForValue(Ze))}jr=ar-cr,dr=jr-Je,Rr=je.left,Pe=je.right}const ze=valueOrDefault($e.ticks.maxTicksLimit,Ke),Ue=Math.max(1,Math.ceil(Ke/ze));for(pr=0;pr<Ke;pr+=Ue){const Ge=this.getContext(pr),Ze=ke.setContext(Ge),er=Be.setContext(Ge),Ve=Ze.lineWidth,Ie=Ze.color,Ye=er.dash||[],ir=er.dashOffset,lr=Ze.tickWidth,br=Ze.tickColor,_r=Ze.tickBorderDash||[],Sr=Ze.tickBorderDashOffset;ur=getPixelForGridLine(this,pr,qe),ur!==void 0&&(gr=_alignPixel(Me,ur,Ve),He?jr=dr=Rr=Pe=gr:vr=xr=Xe=Fe=gr,Qe.push({tx1:jr,ty1:vr,tx2:dr,ty2:xr,x1:Rr,y1:Xe,x2:Pe,y2:Fe,width:Ve,color:Ie,borderDash:Ye,borderDashOffset:ir,tickWidth:lr,tickColor:br,tickBorderDash:_r,tickBorderDashOffset:Sr}))}return this._ticksLength=Ke,this._borderValue=ar,Qe}_computeLabelItems(je){const _e=this.axis,Me=this.options,{position:$e,ticks:ke}=Me,Ce=this.isHorizontal(),Be=this.ticks,{align:qe,crossAlign:He,padding:We,mirror:Ke}=ke,Je=getTickMarkLength(Me.grid),Qe=Je+We,rr=Ke?-We:Qe,tr=-toRadians(this.labelRotation),cr=[];let or,ar,pr,ur,gr,jr,vr,dr,xr,Rr,Xe,Pe,Fe="middle";if($e==="top")jr=this.bottom-rr,vr=this._getXAxisLabelAlignment();else if($e==="bottom")jr=this.top+rr,vr=this._getXAxisLabelAlignment();else if($e==="left"){const Ue=this._getYAxisLabelAlignment(Je);vr=Ue.textAlign,gr=Ue.x}else if($e==="right"){const Ue=this._getYAxisLabelAlignment(Je);vr=Ue.textAlign,gr=Ue.x}else if(_e==="x"){if($e==="center")jr=(je.top+je.bottom)/2+Qe;else if(isObject$a($e)){const Ue=Object.keys($e)[0],Ge=$e[Ue];jr=this.chart.scales[Ue].getPixelForValue(Ge)+Qe}vr=this._getXAxisLabelAlignment()}else if(_e==="y"){if($e==="center")gr=(je.left+je.right)/2-Qe;else if(isObject$a($e)){const Ue=Object.keys($e)[0],Ge=$e[Ue];gr=this.chart.scales[Ue].getPixelForValue(Ge)}vr=this._getYAxisLabelAlignment(Je).textAlign}_e==="y"&&(qe==="start"?Fe="top":qe==="end"&&(Fe="bottom"));const ze=this._getLabelSizes();for(or=0,ar=Be.length;or<ar;++or){pr=Be[or],ur=pr.label;const Ue=ke.setContext(this.getContext(or));dr=this.getPixelForTick(or)+ke.labelOffset,xr=this._resolveTickFontOptions(or),Rr=xr.lineHeight,Xe=isArray$d(ur)?ur.length:1;const Ge=Xe/2,Ze=Ue.color,er=Ue.textStrokeColor,Ve=Ue.textStrokeWidth;let Ie=vr;Ce?(gr=dr,vr==="inner"&&(or===ar-1?Ie=this.options.reverse?"left":"right":or===0?Ie=this.options.reverse?"right":"left":Ie="center"),$e==="top"?He==="near"||tr!==0?Pe=-Xe*Rr+Rr/2:He==="center"?Pe=-ze.highest.height/2-Ge*Rr+Rr:Pe=-ze.highest.height+Rr/2:He==="near"||tr!==0?Pe=Rr/2:He==="center"?Pe=ze.highest.height/2-Ge*Rr:Pe=ze.highest.height-Xe*Rr,Ke&&(Pe*=-1),tr!==0&&!Ue.showLabelBackdrop&&(gr+=Rr/2*Math.sin(tr))):(jr=dr,Pe=(1-Xe)*Rr/2);let Ye;if(Ue.showLabelBackdrop){const ir=toPadding(Ue.backdropPadding),lr=ze.heights[or],br=ze.widths[or];let _r=Pe-ir.top,Sr=0-ir.left;switch(Fe){case"middle":_r-=lr/2;break;case"bottom":_r-=lr;break}switch(vr){case"center":Sr-=br/2;break;case"right":Sr-=br;break;case"inner":or===ar-1?Sr-=br:or>0&&(Sr-=br/2);break}Ye={left:Sr,top:_r,width:br+ir.width,height:lr+ir.height,color:Ue.backdropColor}}cr.push({label:ur,font:xr,textOffset:Pe,options:{rotation:tr,color:Ze,strokeColor:er,strokeWidth:Ve,textAlign:Ie,textBaseline:Fe,translation:[gr,jr],backdrop:Ye}})}return cr}_getXAxisLabelAlignment(){const{position:je,ticks:_e}=this.options;if(-toRadians(this.labelRotation))return je==="top"?"left":"right";let $e="center";return _e.align==="start"?$e="left":_e.align==="end"?$e="right":_e.align==="inner"&&($e="inner"),$e}_getYAxisLabelAlignment(je){const{position:_e,ticks:{crossAlign:Me,mirror:$e,padding:ke}}=this.options,Ce=this._getLabelSizes(),Be=je+ke,qe=Ce.widest.width;let He,We;return _e==="left"?$e?(We=this.right+ke,Me==="near"?He="left":Me==="center"?(He="center",We+=qe/2):(He="right",We+=qe)):(We=this.right-Be,Me==="near"?He="right":Me==="center"?(He="center",We-=qe/2):(He="left",We=this.left)):_e==="right"?$e?(We=this.left+ke,Me==="near"?He="right":Me==="center"?(He="center",We-=qe/2):(He="left",We-=qe)):(We=this.left+Be,Me==="near"?He="left":Me==="center"?(He="center",We+=qe/2):(He="right",We=this.right)):He="right",{textAlign:He,x:We}}_computeLabelArea(){if(this.options.ticks.mirror)return;const je=this.chart,_e=this.options.position;if(_e==="left"||_e==="right")return{top:0,left:this.left,bottom:je.height,right:this.right};if(_e==="top"||_e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:je.width}}drawBackground(){const{ctx:je,options:{backgroundColor:_e},left:Me,top:$e,width:ke,height:Ce}=this;_e&&(je.save(),je.fillStyle=_e,je.fillRect(Me,$e,ke,Ce),je.restore())}getLineWidthForValue(je){const _e=this.options.grid;if(!this._isVisible()||!_e.display)return 0;const $e=this.ticks.findIndex(ke=>ke.value===je);return $e>=0?_e.setContext(this.getContext($e)).lineWidth:0}drawGrid(je){const _e=this.options.grid,Me=this.ctx,$e=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(je));let ke,Ce;const Be=(qe,He,We)=>{!We.width||!We.color||(Me.save(),Me.lineWidth=We.width,Me.strokeStyle=We.color,Me.setLineDash(We.borderDash||[]),Me.lineDashOffset=We.borderDashOffset,Me.beginPath(),Me.moveTo(qe.x,qe.y),Me.lineTo(He.x,He.y),Me.stroke(),Me.restore())};if(_e.display)for(ke=0,Ce=$e.length;ke<Ce;++ke){const qe=$e[ke];_e.drawOnChartArea&&Be({x:qe.x1,y:qe.y1},{x:qe.x2,y:qe.y2},qe),_e.drawTicks&&Be({x:qe.tx1,y:qe.ty1},{x:qe.tx2,y:qe.ty2},{color:qe.tickColor,width:qe.tickWidth,borderDash:qe.tickBorderDash,borderDashOffset:qe.tickBorderDashOffset})}}drawBorder(){const{chart:je,ctx:_e,options:{border:Me,grid:$e}}=this,ke=Me.setContext(this.getContext()),Ce=Me.display?ke.width:0;if(!Ce)return;const Be=$e.setContext(this.getContext(0)).lineWidth,qe=this._borderValue;let He,We,Ke,Je;this.isHorizontal()?(He=_alignPixel(je,this.left,Ce)-Ce/2,We=_alignPixel(je,this.right,Be)+Be/2,Ke=Je=qe):(Ke=_alignPixel(je,this.top,Ce)-Ce/2,Je=_alignPixel(je,this.bottom,Be)+Be/2,He=We=qe),_e.save(),_e.lineWidth=ke.width,_e.strokeStyle=ke.color,_e.beginPath(),_e.moveTo(He,Ke),_e.lineTo(We,Je),_e.stroke(),_e.restore()}drawLabels(je){if(!this.options.ticks.display)return;const Me=this.ctx,$e=this._computeLabelArea();$e&&clipArea(Me,$e);const ke=this.getLabelItems(je);for(const Ce of ke){const Be=Ce.options,qe=Ce.font,He=Ce.label,We=Ce.textOffset;renderText(Me,He,0,We,qe,Be)}$e&&unclipArea(Me)}drawTitle(){const{ctx:je,options:{position:_e,title:Me,reverse:$e}}=this;if(!Me.display)return;const ke=toFont(Me.font),Ce=toPadding(Me.padding),Be=Me.align;let qe=ke.lineHeight/2;_e==="bottom"||_e==="center"||isObject$a(_e)?(qe+=Ce.bottom,isArray$d(Me.text)&&(qe+=ke.lineHeight*(Me.text.length-1))):qe+=Ce.top;const{titleX:He,titleY:We,maxWidth:Ke,rotation:Je}=titleArgs(this,qe,_e,Be);renderText(je,Me.text,0,0,ke,{color:Me.color,maxWidth:Ke,rotation:Je,textAlign:titleAlign(Be,_e,$e),textBaseline:"middle",translation:[He,We]})}draw(je){this._isVisible()&&(this.drawBackground(),this.drawGrid(je),this.drawBorder(),this.drawTitle(),this.drawLabels(je))}_layers(){const je=this.options,_e=je.ticks&&je.ticks.z||0,Me=valueOrDefault(je.grid&&je.grid.z,-1),$e=valueOrDefault(je.border&&je.border.z,0);return!this._isVisible()||this.draw!==Scale.prototype.draw?[{z:_e,draw:ke=>{this.draw(ke)}}]:[{z:Me,draw:ke=>{this.drawBackground(),this.drawGrid(ke),this.drawTitle()}},{z:$e,draw:()=>{this.drawBorder()}},{z:_e,draw:ke=>{this.drawLabels(ke)}}]}getMatchingVisibleMetas(je){const _e=this.chart.getSortedVisibleDatasetMetas(),Me=this.axis+"AxisID",$e=[];let ke,Ce;for(ke=0,Ce=_e.length;ke<Ce;++ke){const Be=_e[ke];Be[Me]===this.id&&(!je||Be.type===je)&&$e.push(Be)}return $e}_resolveTickFontOptions(je){const _e=this.options.ticks.setContext(this.getContext(je));return toFont(_e.font)}_maxDigits(){const je=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/je}}class TypedRegistry{constructor(je,_e,Me){this.type=je,this.scope=_e,this.override=Me,this.items=Object.create(null)}isForType(je){return Object.prototype.isPrototypeOf.call(this.type.prototype,je.prototype)}register(je){const _e=Object.getPrototypeOf(je);let Me;isIChartComponent(_e)&&(Me=this.register(_e));const $e=this.items,ke=je.id,Ce=this.scope+"."+ke;if(!ke)throw new Error("class does not have id: "+je);return ke in $e||($e[ke]=je,registerDefaults(je,Ce,Me),this.override&&defaults$3.override(je.id,je.overrides)),Ce}get(je){return this.items[je]}unregister(je){const _e=this.items,Me=je.id,$e=this.scope;Me in _e&&delete _e[Me],$e&&Me in defaults$3[$e]&&(delete defaults$3[$e][Me],this.override&&delete overrides$1[Me])}}function registerDefaults(Re,je,_e){const Me=merge$1(Object.create(null),[_e?defaults$3.get(_e):{},defaults$3.get(je),Re.defaults]);defaults$3.set(je,Me),Re.defaultRoutes&&routeDefaults(je,Re.defaultRoutes),Re.descriptors&&defaults$3.describe(je,Re.descriptors)}function routeDefaults(Re,je){Object.keys(je).forEach(_e=>{const Me=_e.split("."),$e=Me.pop(),ke=[Re].concat(Me).join("."),Ce=je[_e].split("."),Be=Ce.pop(),qe=Ce.join(".");defaults$3.route(ke,$e,qe,Be)})}function isIChartComponent(Re){return"id"in Re&&"defaults"in Re}class Registry{constructor(){this.controllers=new TypedRegistry(DatasetController,"datasets",!0),this.elements=new TypedRegistry(Element$1,"elements"),this.plugins=new TypedRegistry(Object,"plugins"),this.scales=new TypedRegistry(Scale,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...je){this._each("register",je)}remove(...je){this._each("unregister",je)}addControllers(...je){this._each("register",je,this.controllers)}addElements(...je){this._each("register",je,this.elements)}addPlugins(...je){this._each("register",je,this.plugins)}addScales(...je){this._each("register",je,this.scales)}getController(je){return this._get(je,this.controllers,"controller")}getElement(je){return this._get(je,this.elements,"element")}getPlugin(je){return this._get(je,this.plugins,"plugin")}getScale(je){return this._get(je,this.scales,"scale")}removeControllers(...je){this._each("unregister",je,this.controllers)}removeElements(...je){this._each("unregister",je,this.elements)}removePlugins(...je){this._each("unregister",je,this.plugins)}removeScales(...je){this._each("unregister",je,this.scales)}_each(je,_e,Me){[..._e].forEach($e=>{const ke=Me||this._getRegistryForType($e);Me||ke.isForType($e)||ke===this.plugins&&$e.id?this._exec(je,ke,$e):each($e,Ce=>{const Be=Me||this._getRegistryForType(Ce);this._exec(je,Be,Ce)})})}_exec(je,_e,Me){const $e=_capitalize(je);callback(Me["before"+$e],[],Me),_e[je](Me),callback(Me["after"+$e],[],Me)}_getRegistryForType(je){for(let _e=0;_e<this._typedRegistries.length;_e++){const Me=this._typedRegistries[_e];if(Me.isForType(je))return Me}return this.plugins}_get(je,_e,Me){const $e=_e.get(je);if($e===void 0)throw new Error('"'+je+'" is not a registered '+Me+".");return $e}}var registry=new Registry;class PluginService{constructor(){this._init=[]}notify(je,_e,Me,$e){_e==="beforeInit"&&(this._init=this._createDescriptors(je,!0),this._notify(this._init,je,"install"));const ke=$e?this._descriptors(je).filter($e):this._descriptors(je),Ce=this._notify(ke,je,_e,Me);return _e==="afterDestroy"&&(this._notify(ke,je,"stop"),this._notify(this._init,je,"uninstall")),Ce}_notify(je,_e,Me,$e){$e=$e||{};for(const ke of je){const Ce=ke.plugin,Be=Ce[Me],qe=[_e,$e,ke.options];if(callback(Be,qe,Ce)===!1&&$e.cancelable)return!1}return!0}invalidate(){isNullOrUndef(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(je){if(this._cache)return this._cache;const _e=this._cache=this._createDescriptors(je);return this._notifyStateChanges(je),_e}_createDescriptors(je,_e){const Me=je&&je.config,$e=valueOrDefault(Me.options&&Me.options.plugins,{}),ke=allPlugins(Me);return $e===!1&&!_e?[]:createDescriptors(je,ke,$e,_e)}_notifyStateChanges(je){const _e=this._oldCache||[],Me=this._cache,$e=(ke,Ce)=>ke.filter(Be=>!Ce.some(qe=>Be.plugin.id===qe.plugin.id));this._notify($e(_e,Me),je,"stop"),this._notify($e(Me,_e),je,"start")}}function allPlugins(Re){const je={},_e=[],Me=Object.keys(registry.plugins.items);for(let ke=0;ke<Me.length;ke++)_e.push(registry.getPlugin(Me[ke]));const $e=Re.plugins||[];for(let ke=0;ke<$e.length;ke++){const Ce=$e[ke];_e.indexOf(Ce)===-1&&(_e.push(Ce),je[Ce.id]=!0)}return{plugins:_e,localIds:je}}function getOpts(Re,je){return!je&&Re===!1?null:Re===!0?{}:Re}function createDescriptors(Re,{plugins:je,localIds:_e},Me,$e){const ke=[],Ce=Re.getContext();for(const Be of je){const qe=Be.id,He=getOpts(Me[qe],$e);He!==null&&ke.push({plugin:Be,options:pluginOpts(Re.config,{plugin:Be,local:_e[qe]},He,Ce)})}return ke}function pluginOpts(Re,{plugin:je,local:_e},Me,$e){const ke=Re.pluginScopeKeys(je),Ce=Re.getOptionScopes(Me,ke);return _e&&je.defaults&&Ce.push(je.defaults),Re.createResolver(Ce,$e,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function getIndexAxis(Re,je){const _e=defaults$3.datasets[Re]||{};return((je.datasets||{})[Re]||{}).indexAxis||je.indexAxis||_e.indexAxis||"x"}function getAxisFromDefaultScaleID(Re,je){let _e=Re;return Re==="_index_"?_e=je:Re==="_value_"&&(_e=je==="x"?"y":"x"),_e}function getDefaultScaleIDFromAxis(Re,je){return Re===je?"_index_":"_value_"}function idMatchesAxis(Re){if(Re==="x"||Re==="y"||Re==="r")return Re}function axisFromPosition(Re){if(Re==="top"||Re==="bottom")return"x";if(Re==="left"||Re==="right")return"y"}function determineAxis(Re,...je){if(idMatchesAxis(Re))return Re;for(const _e of je){const Me=_e.axis||axisFromPosition(_e.position)||Re.length>1&&idMatchesAxis(Re[0].toLowerCase());if(Me)return Me}throw new Error(`Cannot determine type of '${Re}' axis. Please provide 'axis' or 'position' option.`)}function getAxisFromDataset(Re,je,_e){if(_e[je+"AxisID"]===Re)return{axis:je}}function retrieveAxisFromDatasets(Re,je){if(je.data&&je.data.datasets){const _e=je.data.datasets.filter(Me=>Me.xAxisID===Re||Me.yAxisID===Re);if(_e.length)return getAxisFromDataset(Re,"x",_e[0])||getAxisFromDataset(Re,"y",_e[0])}return{}}function mergeScaleConfig(Re,je){const _e=overrides$1[Re.type]||{scales:{}},Me=je.scales||{},$e=getIndexAxis(Re.type,je),ke=Object.create(null);return Object.keys(Me).forEach(Ce=>{const Be=Me[Ce];if(!isObject$a(Be))return console.error(`Invalid scale configuration for scale: ${Ce}`);if(Be._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${Ce}`);const qe=determineAxis(Ce,Be,retrieveAxisFromDatasets(Ce,Re),defaults$3.scales[Be.type]),He=getDefaultScaleIDFromAxis(qe,$e),We=_e.scales||{};ke[Ce]=mergeIf(Object.create(null),[{axis:qe},Be,We[qe],We[He]])}),Re.data.datasets.forEach(Ce=>{const Be=Ce.type||Re.type,qe=Ce.indexAxis||getIndexAxis(Be,je),We=(overrides$1[Be]||{}).scales||{};Object.keys(We).forEach(Ke=>{const Je=getAxisFromDefaultScaleID(Ke,qe),Qe=Ce[Je+"AxisID"]||Je;ke[Qe]=ke[Qe]||Object.create(null),mergeIf(ke[Qe],[{axis:Je},Me[Qe],We[Ke]])})}),Object.keys(ke).forEach(Ce=>{const Be=ke[Ce];mergeIf(Be,[defaults$3.scales[Be.type],defaults$3.scale])}),ke}function initOptions(Re){const je=Re.options||(Re.options={});je.plugins=valueOrDefault(je.plugins,{}),je.scales=mergeScaleConfig(Re,je)}function initData(Re){return Re=Re||{},Re.datasets=Re.datasets||[],Re.labels=Re.labels||[],Re}function initConfig(Re){return Re=Re||{},Re.data=initData(Re.data),initOptions(Re),Re}const keyCache=new Map,keysCached=new Set;function cachedKeys(Re,je){let _e=keyCache.get(Re);return _e||(_e=je(),keyCache.set(Re,_e),keysCached.add(_e)),_e}const addIfFound=(Re,je,_e)=>{const Me=resolveObjectKey(je,_e);Me!==void 0&&Re.add(Me)};class Config{constructor(je){this._config=initConfig(je),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(je){this._config.type=je}get data(){return this._config.data}set data(je){this._config.data=initData(je)}get options(){return this._config.options}set options(je){this._config.options=je}get plugins(){return this._config.plugins}update(){const je=this._config;this.clearCache(),initOptions(je)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(je){return cachedKeys(je,()=>[[`datasets.${je}`,""]])}datasetAnimationScopeKeys(je,_e){return cachedKeys(`${je}.transition.${_e}`,()=>[[`datasets.${je}.transitions.${_e}`,`transitions.${_e}`],[`datasets.${je}`,""]])}datasetElementScopeKeys(je,_e){return cachedKeys(`${je}-${_e}`,()=>[[`datasets.${je}.elements.${_e}`,`datasets.${je}`,`elements.${_e}`,""]])}pluginScopeKeys(je){const _e=je.id,Me=this.type;return cachedKeys(`${Me}-plugin-${_e}`,()=>[[`plugins.${_e}`,...je.additionalOptionScopes||[]]])}_cachedScopes(je,_e){const Me=this._scopeCache;let $e=Me.get(je);return(!$e||_e)&&($e=new Map,Me.set(je,$e)),$e}getOptionScopes(je,_e,Me){const{options:$e,type:ke}=this,Ce=this._cachedScopes(je,Me),Be=Ce.get(_e);if(Be)return Be;const qe=new Set;_e.forEach(We=>{je&&(qe.add(je),We.forEach(Ke=>addIfFound(qe,je,Ke))),We.forEach(Ke=>addIfFound(qe,$e,Ke)),We.forEach(Ke=>addIfFound(qe,overrides$1[ke]||{},Ke)),We.forEach(Ke=>addIfFound(qe,defaults$3,Ke)),We.forEach(Ke=>addIfFound(qe,descriptors,Ke))});const He=Array.from(qe);return He.length===0&&He.push(Object.create(null)),keysCached.has(_e)&&Ce.set(_e,He),He}chartOptionScopes(){const{options:je,type:_e}=this;return[je,overrides$1[_e]||{},defaults$3.datasets[_e]||{},{type:_e},defaults$3,descriptors]}resolveNamedOptions(je,_e,Me,$e=[""]){const ke={$shared:!0},{resolver:Ce,subPrefixes:Be}=getResolver(this._resolverCache,je,$e);let qe=Ce;if(needContext(Ce,_e)){ke.$shared=!1,Me=isFunction$5(Me)?Me():Me;const He=this.createResolver(je,Me,Be);qe=_attachContext(Ce,Me,He)}for(const He of _e)ke[He]=qe[He];return ke}createResolver(je,_e,Me=[""],$e){const{resolver:ke}=getResolver(this._resolverCache,je,Me);return isObject$a(_e)?_attachContext(ke,_e,void 0,$e):ke}}function getResolver(Re,je,_e){let Me=Re.get(je);Me||(Me=new Map,Re.set(je,Me));const $e=_e.join();let ke=Me.get($e);return ke||(ke={resolver:_createResolver(je,_e),subPrefixes:_e.filter(Be=>!Be.toLowerCase().includes("hover"))},Me.set($e,ke)),ke}const hasFunction=Re=>isObject$a(Re)&&Object.getOwnPropertyNames(Re).some(je=>isFunction$5(Re[je]));function needContext(Re,je){const{isScriptable:_e,isIndexable:Me}=_descriptors(Re);for(const $e of je){const ke=_e($e),Ce=Me($e),Be=(Ce||ke)&&Re[$e];if(ke&&(isFunction$5(Be)||hasFunction(Be))||Ce&&isArray$d(Be))return!0}return!1}var version$2="4.4.9";const KNOWN_POSITIONS=["top","bottom","left","right","chartArea"];function positionIsHorizontal(Re,je){return Re==="top"||Re==="bottom"||KNOWN_POSITIONS.indexOf(Re)===-1&&je==="x"}function compare2Level(Re,je){return function(_e,Me){return _e[Re]===Me[Re]?_e[je]-Me[je]:_e[Re]-Me[Re]}}function onAnimationsComplete(Re){const je=Re.chart,_e=je.options.animation;je.notifyPlugins("afterRender"),callback(_e&&_e.onComplete,[Re],je)}function onAnimationProgress(Re){const je=Re.chart,_e=je.options.animation;callback(_e&&_e.onProgress,[Re],je)}function getCanvas(Re){return _isDomSupported()&&typeof Re=="string"?Re=document.getElementById(Re):Re&&Re.length&&(Re=Re[0]),Re&&Re.canvas&&(Re=Re.canvas),Re}const instances={},getChart=Re=>{const je=getCanvas(Re);return Object.values(instances).filter(_e=>_e.canvas===je).pop()};function moveNumericKeys(Re,je,_e){const Me=Object.keys(Re);for(const $e of Me){const ke=+$e;if(ke>=je){const Ce=Re[$e];delete Re[$e],(_e>0||ke>je)&&(Re[ke+_e]=Ce)}}}function determineLastEvent(Re,je,_e,Me){return!_e||Re.type==="mouseout"?null:Me?je:Re}let Chart$1=class{static defaults=defaults$3;static instances=instances;static overrides=overrides$1;static registry=registry;static version=version$2;static getChart=getChart;static register(...je){registry.add(...je),invalidatePlugins()}static unregister(...je){registry.remove(...je),invalidatePlugins()}constructor(je,_e){const Me=this.config=new Config(_e),$e=getCanvas(je),ke=getChart($e);if(ke)throw new Error("Canvas is already in use. Chart with ID '"+ke.id+"' must be destroyed before the canvas with ID '"+ke.canvas.id+"' can be reused.");const Ce=Me.createResolver(Me.chartOptionScopes(),this.getContext());this.platform=new(Me.platform||_detectPlatform($e)),this.platform.updateConfig(Me);const Be=this.platform.acquireContext($e,Ce.aspectRatio),qe=Be&&Be.canvas,He=qe&&qe.height,We=qe&&qe.width;if(this.id=uid(),this.ctx=Be,this.canvas=qe,this.width=We,this.height=He,this._options=Ce,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new PluginService,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=debounce$1(Ke=>this.update(Ke),Ce.resizeDelay||0),this._dataChanges=[],instances[this.id]=this,!Be||!qe){console.error("Failed to create chart: can't acquire context from the given item");return}animator.listen(this,"complete",onAnimationsComplete),animator.listen(this,"progress",onAnimationProgress),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:je,maintainAspectRatio:_e},width:Me,height:$e,_aspectRatio:ke}=this;return isNullOrUndef(je)?_e&&ke?ke:$e?Me/$e:null:je}get data(){return this.config.data}set data(je){this.config.data=je}get options(){return this._options}set options(je){this.config.options=je}get registry(){return registry}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():retinaScale(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return clearCanvas(this.canvas,this.ctx),this}stop(){return animator.stop(this),this}resize(je,_e){animator.running(this)?this._resizeBeforeDraw={width:je,height:_e}:this._resize(je,_e)}_resize(je,_e){const Me=this.options,$e=this.canvas,ke=Me.maintainAspectRatio&&this.aspectRatio,Ce=this.platform.getMaximumSize($e,je,_e,ke),Be=Me.devicePixelRatio||this.platform.getDevicePixelRatio(),qe=this.width?"resize":"attach";this.width=Ce.width,this.height=Ce.height,this._aspectRatio=this.aspectRatio,retinaScale(this,Be,!0)&&(this.notifyPlugins("resize",{size:Ce}),callback(Me.onResize,[this,Ce],this),this.attached&&this._doResize(qe)&&this.render())}ensureScalesHaveIDs(){const _e=this.options.scales||{};each(_e,(Me,$e)=>{Me.id=$e})}buildOrUpdateScales(){const je=this.options,_e=je.scales,Me=this.scales,$e=Object.keys(Me).reduce((Ce,Be)=>(Ce[Be]=!1,Ce),{});let ke=[];_e&&(ke=ke.concat(Object.keys(_e).map(Ce=>{const Be=_e[Ce],qe=determineAxis(Ce,Be),He=qe==="r",We=qe==="x";return{options:Be,dposition:He?"chartArea":We?"bottom":"left",dtype:He?"radialLinear":We?"category":"linear"}}))),each(ke,Ce=>{const Be=Ce.options,qe=Be.id,He=determineAxis(qe,Be),We=valueOrDefault(Be.type,Ce.dtype);(Be.position===void 0||positionIsHorizontal(Be.position,He)!==positionIsHorizontal(Ce.dposition))&&(Be.position=Ce.dposition),$e[qe]=!0;let Ke=null;if(qe in Me&&Me[qe].type===We)Ke=Me[qe];else{const Je=registry.getScale(We);Ke=new Je({id:qe,type:We,ctx:this.ctx,chart:this}),Me[Ke.id]=Ke}Ke.init(Be,je)}),each($e,(Ce,Be)=>{Ce||delete Me[Be]}),each(Me,Ce=>{layouts.configure(this,Ce,Ce.options),layouts.addBox(this,Ce)})}_updateMetasets(){const je=this._metasets,_e=this.data.datasets.length,Me=je.length;if(je.sort(($e,ke)=>$e.index-ke.index),Me>_e){for(let $e=_e;$e<Me;++$e)this._destroyDatasetMeta($e);je.splice(_e,Me-_e)}this._sortedMetasets=je.slice(0).sort(compare2Level("order","index"))}_removeUnreferencedMetasets(){const{_metasets:je,data:{datasets:_e}}=this;je.length>_e.length&&delete this._stacks,je.forEach((Me,$e)=>{_e.filter(ke=>ke===Me._dataset).length===0&&this._destroyDatasetMeta($e)})}buildOrUpdateControllers(){const je=[],_e=this.data.datasets;let Me,$e;for(this._removeUnreferencedMetasets(),Me=0,$e=_e.length;Me<$e;Me++){const ke=_e[Me];let Ce=this.getDatasetMeta(Me);const Be=ke.type||this.config.type;if(Ce.type&&Ce.type!==Be&&(this._destroyDatasetMeta(Me),Ce=this.getDatasetMeta(Me)),Ce.type=Be,Ce.indexAxis=ke.indexAxis||getIndexAxis(Be,this.options),Ce.order=ke.order||0,Ce.index=Me,Ce.label=""+ke.label,Ce.visible=this.isDatasetVisible(Me),Ce.controller)Ce.controller.updateIndex(Me),Ce.controller.linkScales();else{const qe=registry.getController(Be),{datasetElementType:He,dataElementType:We}=defaults$3.datasets[Be];Object.assign(qe,{dataElementType:registry.getElement(We),datasetElementType:He&&registry.getElement(He)}),Ce.controller=new qe(this,Me),je.push(Ce.controller)}}return this._updateMetasets(),je}_resetElements(){each(this.data.datasets,(je,_e)=>{this.getDatasetMeta(_e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(je){const _e=this.config;_e.update();const Me=this._options=_e.createResolver(_e.chartOptionScopes(),this.getContext()),$e=this._animationsDisabled=!Me.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:je,cancelable:!0})===!1)return;const ke=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let Ce=0;for(let He=0,We=this.data.datasets.length;He<We;He++){const{controller:Ke}=this.getDatasetMeta(He),Je=!$e&&ke.indexOf(Ke)===-1;Ke.buildOrUpdateElements(Je),Ce=Math.max(+Ke.getMaxOverflow(),Ce)}Ce=this._minPadding=Me.layout.autoPadding?Ce:0,this._updateLayout(Ce),$e||each(ke,He=>{He.reset()}),this._updateDatasets(je),this.notifyPlugins("afterUpdate",{mode:je}),this._layers.sort(compare2Level("z","_idx"));const{_active:Be,_lastEvent:qe}=this;qe?this._eventHandler(qe,!0):Be.length&&this._updateHoverStyles(Be,Be,!0),this.render()}_updateScales(){each(this.scales,je=>{layouts.removeBox(this,je)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const je=this.options,_e=new Set(Object.keys(this._listeners)),Me=new Set(je.events);(!setsEqual(_e,Me)||!!this._responsiveListeners!==je.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:je}=this,_e=this._getUniformDataChanges()||[];for(const{method:Me,start:$e,count:ke}of _e){const Ce=Me==="_removeElements"?-ke:ke;moveNumericKeys(je,$e,Ce)}}_getUniformDataChanges(){const je=this._dataChanges;if(!je||!je.length)return;this._dataChanges=[];const _e=this.data.datasets.length,Me=ke=>new Set(je.filter(Ce=>Ce[0]===ke).map((Ce,Be)=>Be+","+Ce.splice(1).join(","))),$e=Me(0);for(let ke=1;ke<_e;ke++)if(!setsEqual($e,Me(ke)))return;return Array.from($e).map(ke=>ke.split(",")).map(ke=>({method:ke[1],start:+ke[2],count:+ke[3]}))}_updateLayout(je){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;layouts.update(this,this.width,this.height,je);const _e=this.chartArea,Me=_e.width<=0||_e.height<=0;this._layers=[],each(this.boxes,$e=>{Me&&$e.position==="chartArea"||($e.configure&&$e.configure(),this._layers.push(...$e._layers()))},this),this._layers.forEach(($e,ke)=>{$e._idx=ke}),this.notifyPlugins("afterLayout")}_updateDatasets(je){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:je,cancelable:!0})!==!1){for(let _e=0,Me=this.data.datasets.length;_e<Me;++_e)this.getDatasetMeta(_e).controller.configure();for(let _e=0,Me=this.data.datasets.length;_e<Me;++_e)this._updateDataset(_e,isFunction$5(je)?je({datasetIndex:_e}):je);this.notifyPlugins("afterDatasetsUpdate",{mode:je})}}_updateDataset(je,_e){const Me=this.getDatasetMeta(je),$e={meta:Me,index:je,mode:_e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",$e)!==!1&&(Me.controller._update(_e),$e.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",$e))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(animator.has(this)?this.attached&&!animator.running(this)&&animator.start(this):(this.draw(),onAnimationsComplete({chart:this})))}draw(){let je;if(this._resizeBeforeDraw){const{width:Me,height:$e}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(Me,$e)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const _e=this._layers;for(je=0;je<_e.length&&_e[je].z<=0;++je)_e[je].draw(this.chartArea);for(this._drawDatasets();je<_e.length;++je)_e[je].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(je){const _e=this._sortedMetasets,Me=[];let $e,ke;for($e=0,ke=_e.length;$e<ke;++$e){const Ce=_e[$e];(!je||Ce.visible)&&Me.push(Ce)}return Me}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const je=this.getSortedVisibleDatasetMetas();for(let _e=je.length-1;_e>=0;--_e)this._drawDataset(je[_e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(je){const _e=this.ctx,Me={meta:je,index:je.index,cancelable:!0},$e=getDatasetClipArea(this,je);this.notifyPlugins("beforeDatasetDraw",Me)!==!1&&($e&&clipArea(_e,$e),je.controller.draw(),$e&&unclipArea(_e),Me.cancelable=!1,this.notifyPlugins("afterDatasetDraw",Me))}isPointInArea(je){return _isPointInArea(je,this.chartArea,this._minPadding)}getElementsAtEventForMode(je,_e,Me,$e){const ke=Interaction.modes[_e];return typeof ke=="function"?ke(this,je,Me,$e):[]}getDatasetMeta(je){const _e=this.data.datasets[je],Me=this._metasets;let $e=Me.filter(ke=>ke&&ke._dataset===_e).pop();return $e||($e={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:_e&&_e.order||0,index:je,_dataset:_e,_parsed:[],_sorted:!1},Me.push($e)),$e}getContext(){return this.$context||(this.$context=createContext(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(je){const _e=this.data.datasets[je];if(!_e)return!1;const Me=this.getDatasetMeta(je);return typeof Me.hidden=="boolean"?!Me.hidden:!_e.hidden}setDatasetVisibility(je,_e){const Me=this.getDatasetMeta(je);Me.hidden=!_e}toggleDataVisibility(je){this._hiddenIndices[je]=!this._hiddenIndices[je]}getDataVisibility(je){return!this._hiddenIndices[je]}_updateVisibility(je,_e,Me){const $e=Me?"show":"hide",ke=this.getDatasetMeta(je),Ce=ke.controller._resolveAnimations(void 0,$e);defined(_e)?(ke.data[_e].hidden=!Me,this.update()):(this.setDatasetVisibility(je,Me),Ce.update(ke,{visible:Me}),this.update(Be=>Be.datasetIndex===je?$e:void 0))}hide(je,_e){this._updateVisibility(je,_e,!1)}show(je,_e){this._updateVisibility(je,_e,!0)}_destroyDatasetMeta(je){const _e=this._metasets[je];_e&&_e.controller&&_e.controller._destroy(),delete this._metasets[je]}_stop(){let je,_e;for(this.stop(),animator.remove(this),je=0,_e=this.data.datasets.length;je<_e;++je)this._destroyDatasetMeta(je)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:je,ctx:_e}=this;this._stop(),this.config.clearCache(),je&&(this.unbindEvents(),clearCanvas(je,_e),this.platform.releaseContext(_e),this.canvas=null,this.ctx=null),delete instances[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...je){return this.canvas.toDataURL(...je)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const je=this._listeners,_e=this.platform,Me=(ke,Ce)=>{_e.addEventListener(this,ke,Ce),je[ke]=Ce},$e=(ke,Ce,Be)=>{ke.offsetX=Ce,ke.offsetY=Be,this._eventHandler(ke)};each(this.options.events,ke=>Me(ke,$e))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const je=this._responsiveListeners,_e=this.platform,Me=(qe,He)=>{_e.addEventListener(this,qe,He),je[qe]=He},$e=(qe,He)=>{je[qe]&&(_e.removeEventListener(this,qe,He),delete je[qe])},ke=(qe,He)=>{this.canvas&&this.resize(qe,He)};let Ce;const Be=()=>{$e("attach",Be),this.attached=!0,this.resize(),Me("resize",ke),Me("detach",Ce)};Ce=()=>{this.attached=!1,$e("resize",ke),this._stop(),this._resize(0,0),Me("attach",Be)},_e.isAttached(this.canvas)?Be():Ce()}unbindEvents(){each(this._listeners,(je,_e)=>{this.platform.removeEventListener(this,_e,je)}),this._listeners={},each(this._responsiveListeners,(je,_e)=>{this.platform.removeEventListener(this,_e,je)}),this._responsiveListeners=void 0}updateHoverStyle(je,_e,Me){const $e=Me?"set":"remove";let ke,Ce,Be,qe;for(_e==="dataset"&&(ke=this.getDatasetMeta(je[0].datasetIndex),ke.controller["_"+$e+"DatasetHoverStyle"]()),Be=0,qe=je.length;Be<qe;++Be){Ce=je[Be];const He=Ce&&this.getDatasetMeta(Ce.datasetIndex).controller;He&&He[$e+"HoverStyle"](Ce.element,Ce.datasetIndex,Ce.index)}}getActiveElements(){return this._active||[]}setActiveElements(je){const _e=this._active||[],Me=je.map(({datasetIndex:ke,index:Ce})=>{const Be=this.getDatasetMeta(ke);if(!Be)throw new Error("No dataset found at index "+ke);return{datasetIndex:ke,element:Be.data[Ce],index:Ce}});!_elementsEqual(Me,_e)&&(this._active=Me,this._lastEvent=null,this._updateHoverStyles(Me,_e))}notifyPlugins(je,_e,Me){return this._plugins.notify(this,je,_e,Me)}isPluginEnabled(je){return this._plugins._cache.filter(_e=>_e.plugin.id===je).length===1}_updateHoverStyles(je,_e,Me){const $e=this.options.hover,ke=(qe,He)=>qe.filter(We=>!He.some(Ke=>We.datasetIndex===Ke.datasetIndex&&We.index===Ke.index)),Ce=ke(_e,je),Be=Me?je:ke(je,_e);Ce.length&&this.updateHoverStyle(Ce,$e.mode,!1),Be.length&&$e.mode&&this.updateHoverStyle(Be,$e.mode,!0)}_eventHandler(je,_e){const Me={event:je,replay:_e,cancelable:!0,inChartArea:this.isPointInArea(je)},$e=Ce=>(Ce.options.events||this.options.events).includes(je.native.type);if(this.notifyPlugins("beforeEvent",Me,$e)===!1)return;const ke=this._handleEvent(je,_e,Me.inChartArea);return Me.cancelable=!1,this.notifyPlugins("afterEvent",Me,$e),(ke||Me.changed)&&this.render(),this}_handleEvent(je,_e,Me){const{_active:$e=[],options:ke}=this,Ce=_e,Be=this._getActiveElements(je,$e,Me,Ce),qe=_isClickEvent(je),He=determineLastEvent(je,this._lastEvent,Me,qe);Me&&(this._lastEvent=null,callback(ke.onHover,[je,Be,this],this),qe&&callback(ke.onClick,[je,Be,this],this));const We=!_elementsEqual(Be,$e);return(We||_e)&&(this._active=Be,this._updateHoverStyles(Be,$e,_e)),this._lastEvent=He,We}_getActiveElements(je,_e,Me,$e){if(je.type==="mouseout")return[];if(!Me)return _e;const ke=this.options.hover;return this.getElementsAtEventForMode(je,ke.mode,ke,$e)}};function invalidatePlugins(){return each(Chart$1.instances,Re=>Re._plugins.invalidate())}function clipArc(Re,je,_e){const{startAngle:Me,pixelMargin:$e,x:ke,y:Ce,outerRadius:Be,innerRadius:qe}=je;let He=$e/Be;Re.beginPath(),Re.arc(ke,Ce,Be,Me-He,_e+He),qe>$e?(He=$e/qe,Re.arc(ke,Ce,qe,_e+He,Me-He,!0)):Re.arc(ke,Ce,$e,_e+HALF_PI,Me-HALF_PI),Re.closePath(),Re.clip()}function toRadiusCorners(Re){return _readValueToProps(Re,["outerStart","outerEnd","innerStart","innerEnd"])}function parseBorderRadius$1(Re,je,_e,Me){const $e=toRadiusCorners(Re.options.borderRadius),ke=(_e-je)/2,Ce=Math.min(ke,Me*je/2),Be=qe=>{const He=(_e-Math.min(ke,qe))*Me/2;return _limitValue(qe,0,Math.min(ke,He))};return{outerStart:Be($e.outerStart),outerEnd:Be($e.outerEnd),innerStart:_limitValue($e.innerStart,0,Ce),innerEnd:_limitValue($e.innerEnd,0,Ce)}}function rThetaToXY(Re,je,_e,Me){return{x:_e+Re*Math.cos(je),y:Me+Re*Math.sin(je)}}function pathArc(Re,je,_e,Me,$e,ke){const{x:Ce,y:Be,startAngle:qe,pixelMargin:He,innerRadius:We}=je,Ke=Math.max(je.outerRadius+Me+_e-He,0),Je=We>0?We+Me+_e+He:0;let Qe=0;const rr=$e-qe;if(Me){const Ue=We>0?We-Me:0,Ge=Ke>0?Ke-Me:0,Ze=(Ue+Ge)/2,er=Ze!==0?rr*Ze/(Ze+Me):rr;Qe=(rr-er)/2}const tr=Math.max(.001,rr*Ke-_e/PI)/Ke,cr=(rr-tr)/2,or=qe+cr+Qe,ar=$e-cr-Qe,{outerStart:pr,outerEnd:ur,innerStart:gr,innerEnd:jr}=parseBorderRadius$1(je,Je,Ke,ar-or),vr=Ke-pr,dr=Ke-ur,xr=or+pr/vr,Rr=ar-ur/dr,Xe=Je+gr,Pe=Je+jr,Fe=or+gr/Xe,ze=ar-jr/Pe;if(Re.beginPath(),ke){const Ue=(xr+Rr)/2;if(Re.arc(Ce,Be,Ke,xr,Ue),Re.arc(Ce,Be,Ke,Ue,Rr),ur>0){const Ve=rThetaToXY(dr,Rr,Ce,Be);Re.arc(Ve.x,Ve.y,ur,Rr,ar+HALF_PI)}const Ge=rThetaToXY(Pe,ar,Ce,Be);if(Re.lineTo(Ge.x,Ge.y),jr>0){const Ve=rThetaToXY(Pe,ze,Ce,Be);Re.arc(Ve.x,Ve.y,jr,ar+HALF_PI,ze+Math.PI)}const Ze=(ar-jr/Je+(or+gr/Je))/2;if(Re.arc(Ce,Be,Je,ar-jr/Je,Ze,!0),Re.arc(Ce,Be,Je,Ze,or+gr/Je,!0),gr>0){const Ve=rThetaToXY(Xe,Fe,Ce,Be);Re.arc(Ve.x,Ve.y,gr,Fe+Math.PI,or-HALF_PI)}const er=rThetaToXY(vr,or,Ce,Be);if(Re.lineTo(er.x,er.y),pr>0){const Ve=rThetaToXY(vr,xr,Ce,Be);Re.arc(Ve.x,Ve.y,pr,or-HALF_PI,xr)}}else{Re.moveTo(Ce,Be);const Ue=Math.cos(xr)*Ke+Ce,Ge=Math.sin(xr)*Ke+Be;Re.lineTo(Ue,Ge);const Ze=Math.cos(Rr)*Ke+Ce,er=Math.sin(Rr)*Ke+Be;Re.lineTo(Ze,er)}Re.closePath()}function drawArc(Re,je,_e,Me,$e){const{fullCircles:ke,startAngle:Ce,circumference:Be}=je;let qe=je.endAngle;if(ke){pathArc(Re,je,_e,Me,qe,$e);for(let He=0;He<ke;++He)Re.fill();isNaN(Be)||(qe=Ce+(Be%TAU||TAU))}return pathArc(Re,je,_e,Me,qe,$e),Re.fill(),qe}function drawBorder(Re,je,_e,Me,$e){const{fullCircles:ke,startAngle:Ce,circumference:Be,options:qe}=je,{borderWidth:He,borderJoinStyle:We,borderDash:Ke,borderDashOffset:Je}=qe,Qe=qe.borderAlign==="inner";if(!He)return;Re.setLineDash(Ke||[]),Re.lineDashOffset=Je,Qe?(Re.lineWidth=He*2,Re.lineJoin=We||"round"):(Re.lineWidth=He,Re.lineJoin=We||"bevel");let rr=je.endAngle;if(ke){pathArc(Re,je,_e,Me,rr,$e);for(let tr=0;tr<ke;++tr)Re.stroke();isNaN(Be)||(rr=Ce+(Be%TAU||TAU))}Qe&&clipArc(Re,je,rr),ke||(pathArc(Re,je,_e,Me,rr,$e),Re.stroke())}class ArcElement extends Element$1{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:je=>je!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(je){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,je&&Object.assign(this,je)}inRange(je,_e,Me){const $e=this.getProps(["x","y"],Me),{angle:ke,distance:Ce}=getAngleFromPoint($e,{x:je,y:_e}),{startAngle:Be,endAngle:qe,innerRadius:He,outerRadius:We,circumference:Ke}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],Me),Je=(this.options.spacing+this.options.borderWidth)/2,Qe=valueOrDefault(Ke,qe-Be),rr=_angleBetween(ke,Be,qe)&&Be!==qe,tr=Qe>=TAU||rr,cr=_isBetween(Ce,He+Je,We+Je);return tr&&cr}getCenterPoint(je){const{x:_e,y:Me,startAngle:$e,endAngle:ke,innerRadius:Ce,outerRadius:Be}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],je),{offset:qe,spacing:He}=this.options,We=($e+ke)/2,Ke=(Ce+Be+He+qe)/2;return{x:_e+Math.cos(We)*Ke,y:Me+Math.sin(We)*Ke}}tooltipPosition(je){return this.getCenterPoint(je)}draw(je){const{options:_e,circumference:Me}=this,$e=(_e.offset||0)/4,ke=(_e.spacing||0)/2,Ce=_e.circular;if(this.pixelMargin=_e.borderAlign==="inner"?.33:0,this.fullCircles=Me>TAU?Math.floor(Me/TAU):0,Me===0||this.innerRadius<0||this.outerRadius<0)return;je.save();const Be=(this.startAngle+this.endAngle)/2;je.translate(Math.cos(Be)*$e,Math.sin(Be)*$e);const qe=1-Math.sin(Math.min(PI,Me||0)),He=$e*qe;je.fillStyle=_e.backgroundColor,je.strokeStyle=_e.borderColor,drawArc(je,this,He,ke,Ce),drawBorder(je,this,He,ke,Ce),je.restore()}}function setStyle(Re,je,_e=je){Re.lineCap=valueOrDefault(_e.borderCapStyle,je.borderCapStyle),Re.setLineDash(valueOrDefault(_e.borderDash,je.borderDash)),Re.lineDashOffset=valueOrDefault(_e.borderDashOffset,je.borderDashOffset),Re.lineJoin=valueOrDefault(_e.borderJoinStyle,je.borderJoinStyle),Re.lineWidth=valueOrDefault(_e.borderWidth,je.borderWidth),Re.strokeStyle=valueOrDefault(_e.borderColor,je.borderColor)}function lineTo(Re,je,_e){Re.lineTo(_e.x,_e.y)}function getLineMethod(Re){return Re.stepped?_steppedLineTo:Re.tension||Re.cubicInterpolationMode==="monotone"?_bezierCurveTo:lineTo}function pathVars(Re,je,_e={}){const Me=Re.length,{start:$e=0,end:ke=Me-1}=_e,{start:Ce,end:Be}=je,qe=Math.max($e,Ce),He=Math.min(ke,Be),We=$e<Ce&&ke<Ce||$e>Be&&ke>Be;return{count:Me,start:qe,loop:je.loop,ilen:He<qe&&!We?Me+He-qe:He-qe}}function pathSegment(Re,je,_e,Me){const{points:$e,options:ke}=je,{count:Ce,start:Be,loop:qe,ilen:He}=pathVars($e,_e,Me),We=getLineMethod(ke);let{move:Ke=!0,reverse:Je}=Me||{},Qe,rr,tr;for(Qe=0;Qe<=He;++Qe)rr=$e[(Be+(Je?He-Qe:Qe))%Ce],!rr.skip&&(Ke?(Re.moveTo(rr.x,rr.y),Ke=!1):We(Re,tr,rr,Je,ke.stepped),tr=rr);return qe&&(rr=$e[(Be+(Je?He:0))%Ce],We(Re,tr,rr,Je,ke.stepped)),!!qe}function fastPathSegment(Re,je,_e,Me){const $e=je.points,{count:ke,start:Ce,ilen:Be}=pathVars($e,_e,Me),{move:qe=!0,reverse:He}=Me||{};let We=0,Ke=0,Je,Qe,rr,tr,cr,or;const ar=ur=>(Ce+(He?Be-ur:ur))%ke,pr=()=>{tr!==cr&&(Re.lineTo(We,cr),Re.lineTo(We,tr),Re.lineTo(We,or))};for(qe&&(Qe=$e[ar(0)],Re.moveTo(Qe.x,Qe.y)),Je=0;Je<=Be;++Je){if(Qe=$e[ar(Je)],Qe.skip)continue;const ur=Qe.x,gr=Qe.y,jr=ur|0;jr===rr?(gr<tr?tr=gr:gr>cr&&(cr=gr),We=(Ke*We+ur)/++Ke):(pr(),Re.lineTo(ur,gr),rr=jr,Ke=0,tr=cr=gr),or=gr}pr()}function _getSegmentMethod(Re){const je=Re.options,_e=je.borderDash&&je.borderDash.length;return!Re._decimated&&!Re._loop&&!je.tension&&je.cubicInterpolationMode!=="monotone"&&!je.stepped&&!_e?fastPathSegment:pathSegment}function _getInterpolationMethod(Re){return Re.stepped?_steppedInterpolation:Re.tension||Re.cubicInterpolationMode==="monotone"?_bezierInterpolation:_pointInLine}function strokePathWithCache(Re,je,_e,Me){let $e=je._path;$e||($e=je._path=new Path2D,je.path($e,_e,Me)&&$e.closePath()),setStyle(Re,je.options),Re.stroke($e)}function strokePathDirect(Re,je,_e,Me){const{segments:$e,options:ke}=je,Ce=_getSegmentMethod(je);for(const Be of $e)setStyle(Re,ke,Be.style),Re.beginPath(),Ce(Re,je,Be,{start:_e,end:_e+Me-1})&&Re.closePath(),Re.stroke()}const usePath2D=typeof Path2D=="function";function draw(Re,je,_e,Me){usePath2D&&!je.options.segment?strokePathWithCache(Re,je,_e,Me):strokePathDirect(Re,je,_e,Me)}class LineElement extends Element$1{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:je=>je!=="borderDash"&&je!=="fill"};constructor(je){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,je&&Object.assign(this,je)}updateControlPoints(je,_e){const Me=this.options;if((Me.tension||Me.cubicInterpolationMode==="monotone")&&!Me.stepped&&!this._pointsUpdated){const $e=Me.spanGaps?this._loop:this._fullLoop;_updateBezierControlPoints(this._points,Me,je,$e,_e),this._pointsUpdated=!0}}set points(je){this._points=je,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=_computeSegments(this,this.options.segment))}first(){const je=this.segments,_e=this.points;return je.length&&_e[je[0].start]}last(){const je=this.segments,_e=this.points,Me=je.length;return Me&&_e[je[Me-1].end]}interpolate(je,_e){const Me=this.options,$e=je[_e],ke=this.points,Ce=_boundSegments(this,{property:_e,start:$e,end:$e});if(!Ce.length)return;const Be=[],qe=_getInterpolationMethod(Me);let He,We;for(He=0,We=Ce.length;He<We;++He){const{start:Ke,end:Je}=Ce[He],Qe=ke[Ke],rr=ke[Je];if(Qe===rr){Be.push(Qe);continue}const tr=Math.abs(($e-Qe[_e])/(rr[_e]-Qe[_e])),cr=qe(Qe,rr,tr,Me.stepped);cr[_e]=je[_e],Be.push(cr)}return Be.length===1?Be[0]:Be}pathSegment(je,_e,Me){return _getSegmentMethod(this)(je,this,_e,Me)}path(je,_e,Me){const $e=this.segments,ke=_getSegmentMethod(this);let Ce=this._loop;_e=_e||0,Me=Me||this.points.length-_e;for(const Be of $e)Ce&=ke(je,this,Be,{start:_e,end:_e+Me-1});return!!Ce}draw(je,_e,Me,$e){const ke=this.options||{};(this.points||[]).length&&ke.borderWidth&&(je.save(),draw(je,this,Me,$e),je.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function inRange$1$1(Re,je,_e,Me){const $e=Re.options,{[_e]:ke}=Re.getProps([_e],Me);return Math.abs(je-ke)<$e.radius+$e.hitRadius}class PointElement extends Element$1{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(je){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,je&&Object.assign(this,je)}inRange(je,_e,Me){const $e=this.options,{x:ke,y:Ce}=this.getProps(["x","y"],Me);return Math.pow(je-ke,2)+Math.pow(_e-Ce,2)<Math.pow($e.hitRadius+$e.radius,2)}inXRange(je,_e){return inRange$1$1(this,je,"x",_e)}inYRange(je,_e){return inRange$1$1(this,je,"y",_e)}getCenterPoint(je){const{x:_e,y:Me}=this.getProps(["x","y"],je);return{x:_e,y:Me}}size(je){je=je||this.options||{};let _e=je.radius||0;_e=Math.max(_e,_e&&je.hoverRadius||0);const Me=_e&&je.borderWidth||0;return(_e+Me)*2}draw(je,_e){const Me=this.options;this.skip||Me.radius<.1||!_isPointInArea(this,_e,this.size(Me)/2)||(je.strokeStyle=Me.borderColor,je.lineWidth=Me.borderWidth,je.fillStyle=Me.backgroundColor,drawPoint(je,Me,this.x,this.y))}getRange(){const je=this.options||{};return je.radius+je.hitRadius}}function getBarBounds(Re,je){const{x:_e,y:Me,base:$e,width:ke,height:Ce}=Re.getProps(["x","y","base","width","height"],je);let Be,qe,He,We,Ke;return Re.horizontal?(Ke=Ce/2,Be=Math.min(_e,$e),qe=Math.max(_e,$e),He=Me-Ke,We=Me+Ke):(Ke=ke/2,Be=_e-Ke,qe=_e+Ke,He=Math.min(Me,$e),We=Math.max(Me,$e)),{left:Be,top:He,right:qe,bottom:We}}function skipOrLimit(Re,je,_e,Me){return Re?0:_limitValue(je,_e,Me)}function parseBorderWidth(Re,je,_e){const Me=Re.options.borderWidth,$e=Re.borderSkipped,ke=toTRBL(Me);return{t:skipOrLimit($e.top,ke.top,0,_e),r:skipOrLimit($e.right,ke.right,0,je),b:skipOrLimit($e.bottom,ke.bottom,0,_e),l:skipOrLimit($e.left,ke.left,0,je)}}function parseBorderRadius(Re,je,_e){const{enableBorderRadius:Me}=Re.getProps(["enableBorderRadius"]),$e=Re.options.borderRadius,ke=toTRBLCorners($e),Ce=Math.min(je,_e),Be=Re.borderSkipped,qe=Me||isObject$a($e);return{topLeft:skipOrLimit(!qe||Be.top||Be.left,ke.topLeft,0,Ce),topRight:skipOrLimit(!qe||Be.top||Be.right,ke.topRight,0,Ce),bottomLeft:skipOrLimit(!qe||Be.bottom||Be.left,ke.bottomLeft,0,Ce),bottomRight:skipOrLimit(!qe||Be.bottom||Be.right,ke.bottomRight,0,Ce)}}function boundingRects(Re){const je=getBarBounds(Re),_e=je.right-je.left,Me=je.bottom-je.top,$e=parseBorderWidth(Re,_e/2,Me/2),ke=parseBorderRadius(Re,_e/2,Me/2);return{outer:{x:je.left,y:je.top,w:_e,h:Me,radius:ke},inner:{x:je.left+$e.l,y:je.top+$e.t,w:_e-$e.l-$e.r,h:Me-$e.t-$e.b,radius:{topLeft:Math.max(0,ke.topLeft-Math.max($e.t,$e.l)),topRight:Math.max(0,ke.topRight-Math.max($e.t,$e.r)),bottomLeft:Math.max(0,ke.bottomLeft-Math.max($e.b,$e.l)),bottomRight:Math.max(0,ke.bottomRight-Math.max($e.b,$e.r))}}}}function inRange$2(Re,je,_e,Me){const $e=je===null,ke=_e===null,Be=Re&&!($e&&ke)&&getBarBounds(Re,Me);return Be&&($e||_isBetween(je,Be.left,Be.right))&&(ke||_isBetween(_e,Be.top,Be.bottom))}function hasRadius(Re){return Re.topLeft||Re.topRight||Re.bottomLeft||Re.bottomRight}function addNormalRectPath(Re,je){Re.rect(je.x,je.y,je.w,je.h)}function inflateRect(Re,je,_e={}){const Me=Re.x!==_e.x?-je:0,$e=Re.y!==_e.y?-je:0,ke=(Re.x+Re.w!==_e.x+_e.w?je:0)-Me,Ce=(Re.y+Re.h!==_e.y+_e.h?je:0)-$e;return{x:Re.x+Me,y:Re.y+$e,w:Re.w+ke,h:Re.h+Ce,radius:Re.radius}}class BarElement extends Element$1{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(je){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,je&&Object.assign(this,je)}draw(je){const{inflateAmount:_e,options:{borderColor:Me,backgroundColor:$e}}=this,{inner:ke,outer:Ce}=boundingRects(this),Be=hasRadius(Ce.radius)?addRoundedRectPath:addNormalRectPath;je.save(),(Ce.w!==ke.w||Ce.h!==ke.h)&&(je.beginPath(),Be(je,inflateRect(Ce,_e,ke)),je.clip(),Be(je,inflateRect(ke,-_e,Ce)),je.fillStyle=Me,je.fill("evenodd")),je.beginPath(),Be(je,inflateRect(ke,_e)),je.fillStyle=$e,je.fill(),je.restore()}inRange(je,_e,Me){return inRange$2(this,je,_e,Me)}inXRange(je,_e){return inRange$2(this,je,null,_e)}inYRange(je,_e){return inRange$2(this,null,je,_e)}getCenterPoint(je){const{x:_e,y:Me,base:$e,horizontal:ke}=this.getProps(["x","y","base","horizontal"],je);return{x:ke?(_e+$e)/2:_e,y:ke?Me:(Me+$e)/2}}getRange(je){return je==="x"?this.width/2:this.height/2}}function _segments(Re,je,_e){const Me=Re.segments,$e=Re.points,ke=je.points,Ce=[];for(const Be of Me){let{start:qe,end:He}=Be;He=_findSegmentEnd(qe,He,$e);const We=_getBounds(_e,$e[qe],$e[He],Be.loop);if(!je.segments){Ce.push({source:Be,target:We,start:$e[qe],end:$e[He]});continue}const Ke=_boundSegments(je,We);for(const Je of Ke){const Qe=_getBounds(_e,ke[Je.start],ke[Je.end],Je.loop),rr=_boundSegment(Be,$e,Qe);for(const tr of rr)Ce.push({source:tr,target:Je,start:{[_e]:_getEdge(We,Qe,"start",Math.max)},end:{[_e]:_getEdge(We,Qe,"end",Math.min)}})}}return Ce}function _getBounds(Re,je,_e,Me){if(Me)return;let $e=je[Re],ke=_e[Re];return Re==="angle"&&($e=_normalizeAngle($e),ke=_normalizeAngle(ke)),{property:Re,start:$e,end:ke}}function _pointsFromSegments(Re,je){const{x:_e=null,y:Me=null}=Re||{},$e=je.points,ke=[];return je.segments.forEach(({start:Ce,end:Be})=>{Be=_findSegmentEnd(Ce,Be,$e);const qe=$e[Ce],He=$e[Be];Me!==null?(ke.push({x:qe.x,y:Me}),ke.push({x:He.x,y:Me})):_e!==null&&(ke.push({x:_e,y:qe.y}),ke.push({x:_e,y:He.y}))}),ke}function _findSegmentEnd(Re,je,_e){for(;je>Re;je--){const Me=_e[je];if(!isNaN(Me.x)&&!isNaN(Me.y))break}return je}function _getEdge(Re,je,_e,Me){return Re&&je?Me(Re[_e],je[_e]):Re?Re[_e]:je?je[_e]:0}function _createBoundaryLine(Re,je){let _e=[],Me=!1;return isArray$d(Re)?(Me=!0,_e=Re):_e=_pointsFromSegments(Re,je),_e.length?new LineElement({points:_e,options:{tension:0},_loop:Me,_fullLoop:Me}):null}function _shouldApplyFill(Re){return Re&&Re.fill!==!1}function _resolveTarget(Re,je,_e){let $e=Re[je].fill;const ke=[je];let Ce;if(!_e)return $e;for(;$e!==!1&&ke.indexOf($e)===-1;){if(!isNumberFinite($e))return $e;if(Ce=Re[$e],!Ce)return!1;if(Ce.visible)return $e;ke.push($e),$e=Ce.fill}return!1}function _decodeFill(Re,je,_e){const Me=parseFillOption(Re);if(isObject$a(Me))return isNaN(Me.value)?!1:Me;let $e=parseFloat(Me);return isNumberFinite($e)&&Math.floor($e)===$e?decodeTargetIndex(Me[0],je,$e,_e):["origin","start","end","stack","shape"].indexOf(Me)>=0&&Me}function decodeTargetIndex(Re,je,_e,Me){return(Re==="-"||Re==="+")&&(_e=je+_e),_e===je||_e<0||_e>=Me?!1:_e}function _getTargetPixel(Re,je){let _e=null;return Re==="start"?_e=je.bottom:Re==="end"?_e=je.top:isObject$a(Re)?_e=je.getPixelForValue(Re.value):je.getBasePixel&&(_e=je.getBasePixel()),_e}function _getTargetValue(Re,je,_e){let Me;return Re==="start"?Me=_e:Re==="end"?Me=je.options.reverse?je.min:je.max:isObject$a(Re)?Me=Re.value:Me=je.getBaseValue(),Me}function parseFillOption(Re){const je=Re.options,_e=je.fill;let Me=valueOrDefault(_e&&_e.target,_e);return Me===void 0&&(Me=!!je.backgroundColor),Me===!1||Me===null?!1:Me===!0?"origin":Me}function _buildStackLine(Re){const{scale:je,index:_e,line:Me}=Re,$e=[],ke=Me.segments,Ce=Me.points,Be=getLinesBelow(je,_e);Be.push(_createBoundaryLine({x:null,y:je.bottom},Me));for(let qe=0;qe<ke.length;qe++){const He=ke[qe];for(let We=He.start;We<=He.end;We++)addPointsBelow($e,Ce[We],Be)}return new LineElement({points:$e,options:{}})}function getLinesBelow(Re,je){const _e=[],Me=Re.getMatchingVisibleMetas("line");for(let $e=0;$e<Me.length;$e++){const ke=Me[$e];if(ke.index===je)break;ke.hidden||_e.unshift(ke.dataset)}return _e}function addPointsBelow(Re,je,_e){const Me=[];for(let $e=0;$e<_e.length;$e++){const ke=_e[$e],{first:Ce,last:Be,point:qe}=findPoint(ke,je,"x");if(!(!qe||Ce&&Be)){if(Ce)Me.unshift(qe);else if(Re.push(qe),!Be)break}}Re.push(...Me)}function findPoint(Re,je,_e){const Me=Re.interpolate(je,_e);if(!Me)return{};const $e=Me[_e],ke=Re.segments,Ce=Re.points;let Be=!1,qe=!1;for(let He=0;He<ke.length;He++){const We=ke[He],Ke=Ce[We.start][_e],Je=Ce[We.end][_e];if(_isBetween($e,Ke,Je)){Be=$e===Ke,qe=$e===Je;break}}return{first:Be,last:qe,point:Me}}class simpleArc{constructor(je){this.x=je.x,this.y=je.y,this.radius=je.radius}pathSegment(je,_e,Me){const{x:$e,y:ke,radius:Ce}=this;return _e=_e||{start:0,end:TAU},je.arc($e,ke,Ce,_e.end,_e.start,!0),!Me.bounds}interpolate(je){const{x:_e,y:Me,radius:$e}=this,ke=je.angle;return{x:_e+Math.cos(ke)*$e,y:Me+Math.sin(ke)*$e,angle:ke}}}function _getTarget(Re){const{chart:je,fill:_e,line:Me}=Re;if(isNumberFinite(_e))return getLineByIndex(je,_e);if(_e==="stack")return _buildStackLine(Re);if(_e==="shape")return!0;const $e=computeBoundary(Re);return $e instanceof simpleArc?$e:_createBoundaryLine($e,Me)}function getLineByIndex(Re,je){const _e=Re.getDatasetMeta(je);return _e&&Re.isDatasetVisible(je)?_e.dataset:null}function computeBoundary(Re){return(Re.scale||{}).getPointPositionForValue?computeCircularBoundary(Re):computeLinearBoundary(Re)}function computeLinearBoundary(Re){const{scale:je={},fill:_e}=Re,Me=_getTargetPixel(_e,je);if(isNumberFinite(Me)){const $e=je.isHorizontal();return{x:$e?Me:null,y:$e?null:Me}}return null}function computeCircularBoundary(Re){const{scale:je,fill:_e}=Re,Me=je.options,$e=je.getLabels().length,ke=Me.reverse?je.max:je.min,Ce=_getTargetValue(_e,je,ke),Be=[];if(Me.grid.circular){const qe=je.getPointPositionForValue(0,ke);return new simpleArc({x:qe.x,y:qe.y,radius:je.getDistanceFromCenterForValue(Ce)})}for(let qe=0;qe<$e;++qe)Be.push(je.getPointPositionForValue(qe,Ce));return Be}function _drawfill(Re,je,_e){const Me=_getTarget(je),{chart:$e,index:ke,line:Ce,scale:Be,axis:qe}=je,He=Ce.options,We=He.fill,Ke=He.backgroundColor,{above:Je=Ke,below:Qe=Ke}=We||{},rr=$e.getDatasetMeta(ke),tr=getDatasetClipArea($e,rr);Me&&Ce.points.length&&(clipArea(Re,_e),doFill(Re,{line:Ce,target:Me,above:Je,below:Qe,area:_e,scale:Be,axis:qe,clip:tr}),unclipArea(Re))}function doFill(Re,je){const{line:_e,target:Me,above:$e,below:ke,area:Ce,scale:Be,clip:qe}=je,He=_e._loop?"angle":je.axis;Re.save(),He==="x"&&ke!==$e&&(clipVertical(Re,Me,Ce.top),fill(Re,{line:_e,target:Me,color:$e,scale:Be,property:He,clip:qe}),Re.restore(),Re.save(),clipVertical(Re,Me,Ce.bottom)),fill(Re,{line:_e,target:Me,color:ke,scale:Be,property:He,clip:qe}),Re.restore()}function clipVertical(Re,je,_e){const{segments:Me,points:$e}=je;let ke=!0,Ce=!1;Re.beginPath();for(const Be of Me){const{start:qe,end:He}=Be,We=$e[qe],Ke=$e[_findSegmentEnd(qe,He,$e)];ke?(Re.moveTo(We.x,We.y),ke=!1):(Re.lineTo(We.x,_e),Re.lineTo(We.x,We.y)),Ce=!!je.pathSegment(Re,Be,{move:Ce}),Ce?Re.closePath():Re.lineTo(Ke.x,_e)}Re.lineTo(je.first().x,_e),Re.closePath(),Re.clip()}function fill(Re,je){const{line:_e,target:Me,property:$e,color:ke,scale:Ce,clip:Be}=je,qe=_segments(_e,Me,$e);for(const{source:He,target:We,start:Ke,end:Je}of qe){const{style:{backgroundColor:Qe=ke}={}}=He,rr=Me!==!0;Re.save(),Re.fillStyle=Qe,clipBounds(Re,Ce,Be,rr&&_getBounds($e,Ke,Je)),Re.beginPath();const tr=!!_e.pathSegment(Re,He);let cr;if(rr){tr?Re.closePath():interpolatedLineTo(Re,Me,Je,$e);const or=!!Me.pathSegment(Re,We,{move:tr,reverse:!0});cr=tr&&or,cr||interpolatedLineTo(Re,Me,Ke,$e)}Re.closePath(),Re.fill(cr?"evenodd":"nonzero"),Re.restore()}}function clipBounds(Re,je,_e,Me){const $e=je.chart.chartArea,{property:ke,start:Ce,end:Be}=Me||{};if(ke==="x"||ke==="y"){let qe,He,We,Ke;ke==="x"?(qe=Ce,He=$e.top,We=Be,Ke=$e.bottom):(qe=$e.left,He=Ce,We=$e.right,Ke=Be),Re.beginPath(),_e&&(qe=Math.max(qe,_e.left),We=Math.min(We,_e.right),He=Math.max(He,_e.top),Ke=Math.min(Ke,_e.bottom)),Re.rect(qe,He,We-qe,Ke-He),Re.clip()}}function interpolatedLineTo(Re,je,_e,Me){const $e=je.interpolate(_e,Me);$e&&Re.lineTo($e.x,$e.y)}var index={id:"filler",afterDatasetsUpdate(Re,je,_e){const Me=(Re.data.datasets||[]).length,$e=[];let ke,Ce,Be,qe;for(Ce=0;Ce<Me;++Ce)ke=Re.getDatasetMeta(Ce),Be=ke.dataset,qe=null,Be&&Be.options&&Be instanceof LineElement&&(qe={visible:Re.isDatasetVisible(Ce),index:Ce,fill:_decodeFill(Be,Ce,Me),chart:Re,axis:ke.controller.options.indexAxis,scale:ke.vScale,line:Be}),ke.$filler=qe,$e.push(qe);for(Ce=0;Ce<Me;++Ce)qe=$e[Ce],!(!qe||qe.fill===!1)&&(qe.fill=_resolveTarget($e,Ce,_e.propagate))},beforeDraw(Re,je,_e){const Me=_e.drawTime==="beforeDraw",$e=Re.getSortedVisibleDatasetMetas(),ke=Re.chartArea;for(let Ce=$e.length-1;Ce>=0;--Ce){const Be=$e[Ce].$filler;Be&&(Be.line.updateControlPoints(ke,Be.axis),Me&&Be.fill&&_drawfill(Re.ctx,Be,ke))}},beforeDatasetsDraw(Re,je,_e){if(_e.drawTime!=="beforeDatasetsDraw")return;const Me=Re.getSortedVisibleDatasetMetas();for(let $e=Me.length-1;$e>=0;--$e){const ke=Me[$e].$filler;_shouldApplyFill(ke)&&_drawfill(Re.ctx,ke,Re.chartArea)}},beforeDatasetDraw(Re,je,_e){const Me=je.meta.$filler;!_shouldApplyFill(Me)||_e.drawTime!=="beforeDatasetDraw"||_drawfill(Re.ctx,Me,Re.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const getBoxSize=(Re,je)=>{let{boxHeight:_e=je,boxWidth:Me=je}=Re;return Re.usePointStyle&&(_e=Math.min(_e,je),Me=Re.pointStyleWidth||Math.min(Me,je)),{boxWidth:Me,boxHeight:_e,itemHeight:Math.max(je,_e)}},itemsEqual=(Re,je)=>Re!==null&&je!==null&&Re.datasetIndex===je.datasetIndex&&Re.index===je.index;class Legend extends Element$1{constructor(je){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=je.chart,this.options=je.options,this.ctx=je.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(je,_e,Me){this.maxWidth=je,this.maxHeight=_e,this._margins=Me,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const je=this.options.labels||{};let _e=callback(je.generateLabels,[this.chart],this)||[];je.filter&&(_e=_e.filter(Me=>je.filter(Me,this.chart.data))),je.sort&&(_e=_e.sort((Me,$e)=>je.sort(Me,$e,this.chart.data))),this.options.reverse&&_e.reverse(),this.legendItems=_e}fit(){const{options:je,ctx:_e}=this;if(!je.display){this.width=this.height=0;return}const Me=je.labels,$e=toFont(Me.font),ke=$e.size,Ce=this._computeTitleHeight(),{boxWidth:Be,itemHeight:qe}=getBoxSize(Me,ke);let He,We;_e.font=$e.string,this.isHorizontal()?(He=this.maxWidth,We=this._fitRows(Ce,ke,Be,qe)+10):(We=this.maxHeight,He=this._fitCols(Ce,$e,Be,qe)+10),this.width=Math.min(He,je.maxWidth||this.maxWidth),this.height=Math.min(We,je.maxHeight||this.maxHeight)}_fitRows(je,_e,Me,$e){const{ctx:ke,maxWidth:Ce,options:{labels:{padding:Be}}}=this,qe=this.legendHitBoxes=[],He=this.lineWidths=[0],We=$e+Be;let Ke=je;ke.textAlign="left",ke.textBaseline="middle";let Je=-1,Qe=-We;return this.legendItems.forEach((rr,tr)=>{const cr=Me+_e/2+ke.measureText(rr.text).width;(tr===0||He[He.length-1]+cr+2*Be>Ce)&&(Ke+=We,He[He.length-(tr>0?0:1)]=0,Qe+=We,Je++),qe[tr]={left:0,top:Qe,row:Je,width:cr,height:$e},He[He.length-1]+=cr+Be}),Ke}_fitCols(je,_e,Me,$e){const{ctx:ke,maxHeight:Ce,options:{labels:{padding:Be}}}=this,qe=this.legendHitBoxes=[],He=this.columnSizes=[],We=Ce-je;let Ke=Be,Je=0,Qe=0,rr=0,tr=0;return this.legendItems.forEach((cr,or)=>{const{itemWidth:ar,itemHeight:pr}=calculateItemSize(Me,_e,ke,cr,$e);or>0&&Qe+pr+2*Be>We&&(Ke+=Je+Be,He.push({width:Je,height:Qe}),rr+=Je+Be,tr++,Je=Qe=0),qe[or]={left:rr,top:Qe,col:tr,width:ar,height:pr},Je=Math.max(Je,ar),Qe+=pr+Be}),Ke+=Je,He.push({width:Je,height:Qe}),Ke}adjustHitBoxes(){if(!this.options.display)return;const je=this._computeTitleHeight(),{legendHitBoxes:_e,options:{align:Me,labels:{padding:$e},rtl:ke}}=this,Ce=getRtlAdapter(ke,this.left,this.width);if(this.isHorizontal()){let Be=0,qe=_alignStartEnd(Me,this.left+$e,this.right-this.lineWidths[Be]);for(const He of _e)Be!==He.row&&(Be=He.row,qe=_alignStartEnd(Me,this.left+$e,this.right-this.lineWidths[Be])),He.top+=this.top+je+$e,He.left=Ce.leftForLtr(Ce.x(qe),He.width),qe+=He.width+$e}else{let Be=0,qe=_alignStartEnd(Me,this.top+je+$e,this.bottom-this.columnSizes[Be].height);for(const He of _e)He.col!==Be&&(Be=He.col,qe=_alignStartEnd(Me,this.top+je+$e,this.bottom-this.columnSizes[Be].height)),He.top=qe,He.left+=this.left+$e,He.left=Ce.leftForLtr(Ce.x(He.left),He.width),qe+=He.height+$e}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const je=this.ctx;clipArea(je,this),this._draw(),unclipArea(je)}}_draw(){const{options:je,columnSizes:_e,lineWidths:Me,ctx:$e}=this,{align:ke,labels:Ce}=je,Be=defaults$3.color,qe=getRtlAdapter(je.rtl,this.left,this.width),He=toFont(Ce.font),{padding:We}=Ce,Ke=He.size,Je=Ke/2;let Qe;this.drawTitle(),$e.textAlign=qe.textAlign("left"),$e.textBaseline="middle",$e.lineWidth=.5,$e.font=He.string;const{boxWidth:rr,boxHeight:tr,itemHeight:cr}=getBoxSize(Ce,Ke),or=function(jr,vr,dr){if(isNaN(rr)||rr<=0||isNaN(tr)||tr<0)return;$e.save();const xr=valueOrDefault(dr.lineWidth,1);if($e.fillStyle=valueOrDefault(dr.fillStyle,Be),$e.lineCap=valueOrDefault(dr.lineCap,"butt"),$e.lineDashOffset=valueOrDefault(dr.lineDashOffset,0),$e.lineJoin=valueOrDefault(dr.lineJoin,"miter"),$e.lineWidth=xr,$e.strokeStyle=valueOrDefault(dr.strokeStyle,Be),$e.setLineDash(valueOrDefault(dr.lineDash,[])),Ce.usePointStyle){const Rr={radius:tr*Math.SQRT2/2,pointStyle:dr.pointStyle,rotation:dr.rotation,borderWidth:xr},Xe=qe.xPlus(jr,rr/2),Pe=vr+Je;drawPointLegend($e,Rr,Xe,Pe,Ce.pointStyleWidth&&rr)}else{const Rr=vr+Math.max((Ke-tr)/2,0),Xe=qe.leftForLtr(jr,rr),Pe=toTRBLCorners(dr.borderRadius);$e.beginPath(),Object.values(Pe).some(Fe=>Fe!==0)?addRoundedRectPath($e,{x:Xe,y:Rr,w:rr,h:tr,radius:Pe}):$e.rect(Xe,Rr,rr,tr),$e.fill(),xr!==0&&$e.stroke()}$e.restore()},ar=function(jr,vr,dr){renderText($e,dr.text,jr,vr+cr/2,He,{strikethrough:dr.hidden,textAlign:qe.textAlign(dr.textAlign)})},pr=this.isHorizontal(),ur=this._computeTitleHeight();pr?Qe={x:_alignStartEnd(ke,this.left+We,this.right-Me[0]),y:this.top+We+ur,line:0}:Qe={x:this.left+We,y:_alignStartEnd(ke,this.top+ur+We,this.bottom-_e[0].height),line:0},overrideTextDirection(this.ctx,je.textDirection);const gr=cr+We;this.legendItems.forEach((jr,vr)=>{$e.strokeStyle=jr.fontColor,$e.fillStyle=jr.fontColor;const dr=$e.measureText(jr.text).width,xr=qe.textAlign(jr.textAlign||(jr.textAlign=Ce.textAlign)),Rr=rr+Je+dr;let Xe=Qe.x,Pe=Qe.y;qe.setWidth(this.width),pr?vr>0&&Xe+Rr+We>this.right&&(Pe=Qe.y+=gr,Qe.line++,Xe=Qe.x=_alignStartEnd(ke,this.left+We,this.right-Me[Qe.line])):vr>0&&Pe+gr>this.bottom&&(Xe=Qe.x=Xe+_e[Qe.line].width+We,Qe.line++,Pe=Qe.y=_alignStartEnd(ke,this.top+ur+We,this.bottom-_e[Qe.line].height));const Fe=qe.x(Xe);if(or(Fe,Pe,jr),Xe=_textX(xr,Xe+rr+Je,pr?Xe+Rr:this.right,je.rtl),ar(qe.x(Xe),Pe,jr),pr)Qe.x+=Rr+We;else if(typeof jr.text!="string"){const ze=He.lineHeight;Qe.y+=calculateLegendItemHeight(jr,ze)+We}else Qe.y+=gr}),restoreTextDirection(this.ctx,je.textDirection)}drawTitle(){const je=this.options,_e=je.title,Me=toFont(_e.font),$e=toPadding(_e.padding);if(!_e.display)return;const ke=getRtlAdapter(je.rtl,this.left,this.width),Ce=this.ctx,Be=_e.position,qe=Me.size/2,He=$e.top+qe;let We,Ke=this.left,Je=this.width;if(this.isHorizontal())Je=Math.max(...this.lineWidths),We=this.top+He,Ke=_alignStartEnd(je.align,Ke,this.right-Je);else{const rr=this.columnSizes.reduce((tr,cr)=>Math.max(tr,cr.height),0);We=He+_alignStartEnd(je.align,this.top,this.bottom-rr-je.labels.padding-this._computeTitleHeight())}const Qe=_alignStartEnd(Be,Ke,Ke+Je);Ce.textAlign=ke.textAlign(_toLeftRightCenter(Be)),Ce.textBaseline="middle",Ce.strokeStyle=_e.color,Ce.fillStyle=_e.color,Ce.font=Me.string,renderText(Ce,_e.text,Qe,We,Me)}_computeTitleHeight(){const je=this.options.title,_e=toFont(je.font),Me=toPadding(je.padding);return je.display?_e.lineHeight+Me.height:0}_getLegendItemAt(je,_e){let Me,$e,ke;if(_isBetween(je,this.left,this.right)&&_isBetween(_e,this.top,this.bottom)){for(ke=this.legendHitBoxes,Me=0;Me<ke.length;++Me)if($e=ke[Me],_isBetween(je,$e.left,$e.left+$e.width)&&_isBetween(_e,$e.top,$e.top+$e.height))return this.legendItems[Me]}return null}handleEvent(je){const _e=this.options;if(!isListened(je.type,_e))return;const Me=this._getLegendItemAt(je.x,je.y);if(je.type==="mousemove"||je.type==="mouseout"){const $e=this._hoveredItem,ke=itemsEqual($e,Me);$e&&!ke&&callback(_e.onLeave,[je,$e,this],this),this._hoveredItem=Me,Me&&!ke&&callback(_e.onHover,[je,Me,this],this)}else Me&&callback(_e.onClick,[je,Me,this],this)}}function calculateItemSize(Re,je,_e,Me,$e){const ke=calculateItemWidth(Me,Re,je,_e),Ce=calculateItemHeight($e,Me,je.lineHeight);return{itemWidth:ke,itemHeight:Ce}}function calculateItemWidth(Re,je,_e,Me){let $e=Re.text;return $e&&typeof $e!="string"&&($e=$e.reduce((ke,Ce)=>ke.length>Ce.length?ke:Ce)),je+_e.size/2+Me.measureText($e).width}function calculateItemHeight(Re,je,_e){let Me=Re;return typeof je.text!="string"&&(Me=calculateLegendItemHeight(je,_e)),Me}function calculateLegendItemHeight(Re,je){const _e=Re.text?Re.text.length:0;return je*_e}function isListened(Re,je){return!!((Re==="mousemove"||Re==="mouseout")&&(je.onHover||je.onLeave)||je.onClick&&(Re==="click"||Re==="mouseup"))}var plugin_legend={id:"legend",_element:Legend,start(Re,je,_e){const Me=Re.legend=new Legend({ctx:Re.ctx,options:_e,chart:Re});layouts.configure(Re,Me,_e),layouts.addBox(Re,Me)},stop(Re){layouts.removeBox(Re,Re.legend),delete Re.legend},beforeUpdate(Re,je,_e){const Me=Re.legend;layouts.configure(Re,Me,_e),Me.options=_e},afterUpdate(Re){const je=Re.legend;je.buildLabels(),je.adjustHitBoxes()},afterEvent(Re,je){je.replay||Re.legend.handleEvent(je.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(Re,je,_e){const Me=je.datasetIndex,$e=_e.chart;$e.isDatasetVisible(Me)?($e.hide(Me),je.hidden=!0):($e.show(Me),je.hidden=!1)},onHover:null,onLeave:null,labels:{color:Re=>Re.chart.options.color,boxWidth:40,padding:10,generateLabels(Re){const je=Re.data.datasets,{labels:{usePointStyle:_e,pointStyle:Me,textAlign:$e,color:ke,useBorderRadius:Ce,borderRadius:Be}}=Re.legend.options;return Re._getSortedDatasetMetas().map(qe=>{const He=qe.controller.getStyle(_e?0:void 0),We=toPadding(He.borderWidth);return{text:je[qe.index].label,fillStyle:He.backgroundColor,fontColor:ke,hidden:!qe.visible,lineCap:He.borderCapStyle,lineDash:He.borderDash,lineDashOffset:He.borderDashOffset,lineJoin:He.borderJoinStyle,lineWidth:(We.width+We.height)/4,strokeStyle:He.borderColor,pointStyle:Me||He.pointStyle,rotation:He.rotation,textAlign:$e||He.textAlign,borderRadius:Ce&&(Be||He.borderRadius),datasetIndex:qe.index}},this)}},title:{color:Re=>Re.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:Re=>!Re.startsWith("on"),labels:{_scriptable:Re=>!["generateLabels","filter","sort"].includes(Re)}}};class Title extends Element$1{constructor(je){super(),this.chart=je.chart,this.options=je.options,this.ctx=je.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(je,_e){const Me=this.options;if(this.left=0,this.top=0,!Me.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=je,this.height=this.bottom=_e;const $e=isArray$d(Me.text)?Me.text.length:1;this._padding=toPadding(Me.padding);const ke=$e*toFont(Me.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=ke:this.width=ke}isHorizontal(){const je=this.options.position;return je==="top"||je==="bottom"}_drawArgs(je){const{top:_e,left:Me,bottom:$e,right:ke,options:Ce}=this,Be=Ce.align;let qe=0,He,We,Ke;return this.isHorizontal()?(We=_alignStartEnd(Be,Me,ke),Ke=_e+je,He=ke-Me):(Ce.position==="left"?(We=Me+je,Ke=_alignStartEnd(Be,$e,_e),qe=PI*-.5):(We=ke-je,Ke=_alignStartEnd(Be,_e,$e),qe=PI*.5),He=$e-_e),{titleX:We,titleY:Ke,maxWidth:He,rotation:qe}}draw(){const je=this.ctx,_e=this.options;if(!_e.display)return;const Me=toFont(_e.font),ke=Me.lineHeight/2+this._padding.top,{titleX:Ce,titleY:Be,maxWidth:qe,rotation:He}=this._drawArgs(ke);renderText(je,_e.text,0,0,Me,{color:_e.color,maxWidth:qe,rotation:He,textAlign:_toLeftRightCenter(_e.align),textBaseline:"middle",translation:[Ce,Be]})}}function createTitle(Re,je){const _e=new Title({ctx:Re.ctx,options:je,chart:Re});layouts.configure(Re,_e,je),layouts.addBox(Re,_e),Re.titleBlock=_e}var plugin_title={id:"title",_element:Title,start(Re,je,_e){createTitle(Re,_e)},stop(Re){const je=Re.titleBlock;layouts.removeBox(Re,je),delete Re.titleBlock},beforeUpdate(Re,je,_e){const Me=Re.titleBlock;layouts.configure(Re,Me,_e),Me.options=_e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const positioners={average(Re){if(!Re.length)return!1;let je,_e,Me=new Set,$e=0,ke=0;for(je=0,_e=Re.length;je<_e;++je){const Be=Re[je].element;if(Be&&Be.hasValue()){const qe=Be.tooltipPosition();Me.add(qe.x),$e+=qe.y,++ke}}return ke===0||Me.size===0?!1:{x:[...Me].reduce((Be,qe)=>Be+qe)/Me.size,y:$e/ke}},nearest(Re,je){if(!Re.length)return!1;let _e=je.x,Me=je.y,$e=Number.POSITIVE_INFINITY,ke,Ce,Be;for(ke=0,Ce=Re.length;ke<Ce;++ke){const qe=Re[ke].element;if(qe&&qe.hasValue()){const He=qe.getCenterPoint(),We=distanceBetweenPoints(je,He);We<$e&&($e=We,Be=qe)}}if(Be){const qe=Be.tooltipPosition();_e=qe.x,Me=qe.y}return{x:_e,y:Me}}};function pushOrConcat(Re,je){return je&&(isArray$d(je)?Array.prototype.push.apply(Re,je):Re.push(je)),Re}function splitNewlines(Re){return(typeof Re=="string"||Re instanceof String)&&Re.indexOf(`
`)>-1?Re.split(`
`):Re}function createTooltipItem(Re,je){const{element:_e,datasetIndex:Me,index:$e}=je,ke=Re.getDatasetMeta(Me).controller,{label:Ce,value:Be}=ke.getLabelAndValue($e);return{chart:Re,label:Ce,parsed:ke.getParsed($e),raw:Re.data.datasets[Me].data[$e],formattedValue:Be,dataset:ke.getDataset(),dataIndex:$e,datasetIndex:Me,element:_e}}function getTooltipSize(Re,je){const _e=Re.chart.ctx,{body:Me,footer:$e,title:ke}=Re,{boxWidth:Ce,boxHeight:Be}=je,qe=toFont(je.bodyFont),He=toFont(je.titleFont),We=toFont(je.footerFont),Ke=ke.length,Je=$e.length,Qe=Me.length,rr=toPadding(je.padding);let tr=rr.height,cr=0,or=Me.reduce((ur,gr)=>ur+gr.before.length+gr.lines.length+gr.after.length,0);if(or+=Re.beforeBody.length+Re.afterBody.length,Ke&&(tr+=Ke*He.lineHeight+(Ke-1)*je.titleSpacing+je.titleMarginBottom),or){const ur=je.displayColors?Math.max(Be,qe.lineHeight):qe.lineHeight;tr+=Qe*ur+(or-Qe)*qe.lineHeight+(or-1)*je.bodySpacing}Je&&(tr+=je.footerMarginTop+Je*We.lineHeight+(Je-1)*je.footerSpacing);let ar=0;const pr=function(ur){cr=Math.max(cr,_e.measureText(ur).width+ar)};return _e.save(),_e.font=He.string,each(Re.title,pr),_e.font=qe.string,each(Re.beforeBody.concat(Re.afterBody),pr),ar=je.displayColors?Ce+2+je.boxPadding:0,each(Me,ur=>{each(ur.before,pr),each(ur.lines,pr),each(ur.after,pr)}),ar=0,_e.font=We.string,each(Re.footer,pr),_e.restore(),cr+=rr.width,{width:cr,height:tr}}function determineYAlign(Re,je){const{y:_e,height:Me}=je;return _e<Me/2?"top":_e>Re.height-Me/2?"bottom":"center"}function doesNotFitWithAlign(Re,je,_e,Me){const{x:$e,width:ke}=Me,Ce=_e.caretSize+_e.caretPadding;if(Re==="left"&&$e+ke+Ce>je.width||Re==="right"&&$e-ke-Ce<0)return!0}function determineXAlign(Re,je,_e,Me){const{x:$e,width:ke}=_e,{width:Ce,chartArea:{left:Be,right:qe}}=Re;let He="center";return Me==="center"?He=$e<=(Be+qe)/2?"left":"right":$e<=ke/2?He="left":$e>=Ce-ke/2&&(He="right"),doesNotFitWithAlign(He,Re,je,_e)&&(He="center"),He}function determineAlignment(Re,je,_e){const Me=_e.yAlign||je.yAlign||determineYAlign(Re,_e);return{xAlign:_e.xAlign||je.xAlign||determineXAlign(Re,je,_e,Me),yAlign:Me}}function alignX(Re,je){let{x:_e,width:Me}=Re;return je==="right"?_e-=Me:je==="center"&&(_e-=Me/2),_e}function alignY(Re,je,_e){let{y:Me,height:$e}=Re;return je==="top"?Me+=_e:je==="bottom"?Me-=$e+_e:Me-=$e/2,Me}function getBackgroundPoint(Re,je,_e,Me){const{caretSize:$e,caretPadding:ke,cornerRadius:Ce}=Re,{xAlign:Be,yAlign:qe}=_e,He=$e+ke,{topLeft:We,topRight:Ke,bottomLeft:Je,bottomRight:Qe}=toTRBLCorners(Ce);let rr=alignX(je,Be);const tr=alignY(je,qe,He);return qe==="center"?Be==="left"?rr+=He:Be==="right"&&(rr-=He):Be==="left"?rr-=Math.max(We,Je)+$e:Be==="right"&&(rr+=Math.max(Ke,Qe)+$e),{x:_limitValue(rr,0,Me.width-je.width),y:_limitValue(tr,0,Me.height-je.height)}}function getAlignedX(Re,je,_e){const Me=toPadding(_e.padding);return je==="center"?Re.x+Re.width/2:je==="right"?Re.x+Re.width-Me.right:Re.x+Me.left}function getBeforeAfterBodyLines(Re){return pushOrConcat([],splitNewlines(Re))}function createTooltipContext(Re,je,_e){return createContext(Re,{tooltip:je,tooltipItems:_e,type:"tooltip"})}function overrideCallbacks(Re,je){const _e=je&&je.dataset&&je.dataset.tooltip&&je.dataset.tooltip.callbacks;return _e?Re.override(_e):Re}const defaultCallbacks={beforeTitle:noop$2,title(Re){if(Re.length>0){const je=Re[0],_e=je.chart.data.labels,Me=_e?_e.length:0;if(this&&this.options&&this.options.mode==="dataset")return je.dataset.label||"";if(je.label)return je.label;if(Me>0&&je.dataIndex<Me)return _e[je.dataIndex]}return""},afterTitle:noop$2,beforeBody:noop$2,beforeLabel:noop$2,label(Re){if(this&&this.options&&this.options.mode==="dataset")return Re.label+": "+Re.formattedValue||Re.formattedValue;let je=Re.dataset.label||"";je&&(je+=": ");const _e=Re.formattedValue;return isNullOrUndef(_e)||(je+=_e),je},labelColor(Re){const _e=Re.chart.getDatasetMeta(Re.datasetIndex).controller.getStyle(Re.dataIndex);return{borderColor:_e.borderColor,backgroundColor:_e.backgroundColor,borderWidth:_e.borderWidth,borderDash:_e.borderDash,borderDashOffset:_e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(Re){const _e=Re.chart.getDatasetMeta(Re.datasetIndex).controller.getStyle(Re.dataIndex);return{pointStyle:_e.pointStyle,rotation:_e.rotation}},afterLabel:noop$2,afterBody:noop$2,beforeFooter:noop$2,footer:noop$2,afterFooter:noop$2};function invokeCallbackWithFallback(Re,je,_e,Me){const $e=Re[je].call(_e,Me);return typeof $e>"u"?defaultCallbacks[je].call(_e,Me):$e}class Tooltip extends Element$1{static positioners=positioners;constructor(je){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=je.chart,this.options=je.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(je){this.options=je,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const je=this._cachedAnimations;if(je)return je;const _e=this.chart,Me=this.options.setContext(this.getContext()),$e=Me.enabled&&_e.options.animation&&Me.animations,ke=new Animations(this.chart,$e);return $e._cacheable&&(this._cachedAnimations=Object.freeze(ke)),ke}getContext(){return this.$context||(this.$context=createTooltipContext(this.chart.getContext(),this,this._tooltipItems))}getTitle(je,_e){const{callbacks:Me}=_e,$e=invokeCallbackWithFallback(Me,"beforeTitle",this,je),ke=invokeCallbackWithFallback(Me,"title",this,je),Ce=invokeCallbackWithFallback(Me,"afterTitle",this,je);let Be=[];return Be=pushOrConcat(Be,splitNewlines($e)),Be=pushOrConcat(Be,splitNewlines(ke)),Be=pushOrConcat(Be,splitNewlines(Ce)),Be}getBeforeBody(je,_e){return getBeforeAfterBodyLines(invokeCallbackWithFallback(_e.callbacks,"beforeBody",this,je))}getBody(je,_e){const{callbacks:Me}=_e,$e=[];return each(je,ke=>{const Ce={before:[],lines:[],after:[]},Be=overrideCallbacks(Me,ke);pushOrConcat(Ce.before,splitNewlines(invokeCallbackWithFallback(Be,"beforeLabel",this,ke))),pushOrConcat(Ce.lines,invokeCallbackWithFallback(Be,"label",this,ke)),pushOrConcat(Ce.after,splitNewlines(invokeCallbackWithFallback(Be,"afterLabel",this,ke))),$e.push(Ce)}),$e}getAfterBody(je,_e){return getBeforeAfterBodyLines(invokeCallbackWithFallback(_e.callbacks,"afterBody",this,je))}getFooter(je,_e){const{callbacks:Me}=_e,$e=invokeCallbackWithFallback(Me,"beforeFooter",this,je),ke=invokeCallbackWithFallback(Me,"footer",this,je),Ce=invokeCallbackWithFallback(Me,"afterFooter",this,je);let Be=[];return Be=pushOrConcat(Be,splitNewlines($e)),Be=pushOrConcat(Be,splitNewlines(ke)),Be=pushOrConcat(Be,splitNewlines(Ce)),Be}_createItems(je){const _e=this._active,Me=this.chart.data,$e=[],ke=[],Ce=[];let Be=[],qe,He;for(qe=0,He=_e.length;qe<He;++qe)Be.push(createTooltipItem(this.chart,_e[qe]));return je.filter&&(Be=Be.filter((We,Ke,Je)=>je.filter(We,Ke,Je,Me))),je.itemSort&&(Be=Be.sort((We,Ke)=>je.itemSort(We,Ke,Me))),each(Be,We=>{const Ke=overrideCallbacks(je.callbacks,We);$e.push(invokeCallbackWithFallback(Ke,"labelColor",this,We)),ke.push(invokeCallbackWithFallback(Ke,"labelPointStyle",this,We)),Ce.push(invokeCallbackWithFallback(Ke,"labelTextColor",this,We))}),this.labelColors=$e,this.labelPointStyles=ke,this.labelTextColors=Ce,this.dataPoints=Be,Be}update(je,_e){const Me=this.options.setContext(this.getContext()),$e=this._active;let ke,Ce=[];if(!$e.length)this.opacity!==0&&(ke={opacity:0});else{const Be=positioners[Me.position].call(this,$e,this._eventPosition);Ce=this._createItems(Me),this.title=this.getTitle(Ce,Me),this.beforeBody=this.getBeforeBody(Ce,Me),this.body=this.getBody(Ce,Me),this.afterBody=this.getAfterBody(Ce,Me),this.footer=this.getFooter(Ce,Me);const qe=this._size=getTooltipSize(this,Me),He=Object.assign({},Be,qe),We=determineAlignment(this.chart,Me,He),Ke=getBackgroundPoint(Me,He,We,this.chart);this.xAlign=We.xAlign,this.yAlign=We.yAlign,ke={opacity:1,x:Ke.x,y:Ke.y,width:qe.width,height:qe.height,caretX:Be.x,caretY:Be.y}}this._tooltipItems=Ce,this.$context=void 0,ke&&this._resolveAnimations().update(this,ke),je&&Me.external&&Me.external.call(this,{chart:this.chart,tooltip:this,replay:_e})}drawCaret(je,_e,Me,$e){const ke=this.getCaretPosition(je,Me,$e);_e.lineTo(ke.x1,ke.y1),_e.lineTo(ke.x2,ke.y2),_e.lineTo(ke.x3,ke.y3)}getCaretPosition(je,_e,Me){const{xAlign:$e,yAlign:ke}=this,{caretSize:Ce,cornerRadius:Be}=Me,{topLeft:qe,topRight:He,bottomLeft:We,bottomRight:Ke}=toTRBLCorners(Be),{x:Je,y:Qe}=je,{width:rr,height:tr}=_e;let cr,or,ar,pr,ur,gr;return ke==="center"?(ur=Qe+tr/2,$e==="left"?(cr=Je,or=cr-Ce,pr=ur+Ce,gr=ur-Ce):(cr=Je+rr,or=cr+Ce,pr=ur-Ce,gr=ur+Ce),ar=cr):($e==="left"?or=Je+Math.max(qe,We)+Ce:$e==="right"?or=Je+rr-Math.max(He,Ke)-Ce:or=this.caretX,ke==="top"?(pr=Qe,ur=pr-Ce,cr=or-Ce,ar=or+Ce):(pr=Qe+tr,ur=pr+Ce,cr=or+Ce,ar=or-Ce),gr=pr),{x1:cr,x2:or,x3:ar,y1:pr,y2:ur,y3:gr}}drawTitle(je,_e,Me){const $e=this.title,ke=$e.length;let Ce,Be,qe;if(ke){const He=getRtlAdapter(Me.rtl,this.x,this.width);for(je.x=getAlignedX(this,Me.titleAlign,Me),_e.textAlign=He.textAlign(Me.titleAlign),_e.textBaseline="middle",Ce=toFont(Me.titleFont),Be=Me.titleSpacing,_e.fillStyle=Me.titleColor,_e.font=Ce.string,qe=0;qe<ke;++qe)_e.fillText($e[qe],He.x(je.x),je.y+Ce.lineHeight/2),je.y+=Ce.lineHeight+Be,qe+1===ke&&(je.y+=Me.titleMarginBottom-Be)}}_drawColorBox(je,_e,Me,$e,ke){const Ce=this.labelColors[Me],Be=this.labelPointStyles[Me],{boxHeight:qe,boxWidth:He}=ke,We=toFont(ke.bodyFont),Ke=getAlignedX(this,"left",ke),Je=$e.x(Ke),Qe=qe<We.lineHeight?(We.lineHeight-qe)/2:0,rr=_e.y+Qe;if(ke.usePointStyle){const tr={radius:Math.min(He,qe)/2,pointStyle:Be.pointStyle,rotation:Be.rotation,borderWidth:1},cr=$e.leftForLtr(Je,He)+He/2,or=rr+qe/2;je.strokeStyle=ke.multiKeyBackground,je.fillStyle=ke.multiKeyBackground,drawPoint(je,tr,cr,or),je.strokeStyle=Ce.borderColor,je.fillStyle=Ce.backgroundColor,drawPoint(je,tr,cr,or)}else{je.lineWidth=isObject$a(Ce.borderWidth)?Math.max(...Object.values(Ce.borderWidth)):Ce.borderWidth||1,je.strokeStyle=Ce.borderColor,je.setLineDash(Ce.borderDash||[]),je.lineDashOffset=Ce.borderDashOffset||0;const tr=$e.leftForLtr(Je,He),cr=$e.leftForLtr($e.xPlus(Je,1),He-2),or=toTRBLCorners(Ce.borderRadius);Object.values(or).some(ar=>ar!==0)?(je.beginPath(),je.fillStyle=ke.multiKeyBackground,addRoundedRectPath(je,{x:tr,y:rr,w:He,h:qe,radius:or}),je.fill(),je.stroke(),je.fillStyle=Ce.backgroundColor,je.beginPath(),addRoundedRectPath(je,{x:cr,y:rr+1,w:He-2,h:qe-2,radius:or}),je.fill()):(je.fillStyle=ke.multiKeyBackground,je.fillRect(tr,rr,He,qe),je.strokeRect(tr,rr,He,qe),je.fillStyle=Ce.backgroundColor,je.fillRect(cr,rr+1,He-2,qe-2))}je.fillStyle=this.labelTextColors[Me]}drawBody(je,_e,Me){const{body:$e}=this,{bodySpacing:ke,bodyAlign:Ce,displayColors:Be,boxHeight:qe,boxWidth:He,boxPadding:We}=Me,Ke=toFont(Me.bodyFont);let Je=Ke.lineHeight,Qe=0;const rr=getRtlAdapter(Me.rtl,this.x,this.width),tr=function(dr){_e.fillText(dr,rr.x(je.x+Qe),je.y+Je/2),je.y+=Je+ke},cr=rr.textAlign(Ce);let or,ar,pr,ur,gr,jr,vr;for(_e.textAlign=Ce,_e.textBaseline="middle",_e.font=Ke.string,je.x=getAlignedX(this,cr,Me),_e.fillStyle=Me.bodyColor,each(this.beforeBody,tr),Qe=Be&&cr!=="right"?Ce==="center"?He/2+We:He+2+We:0,ur=0,jr=$e.length;ur<jr;++ur){for(or=$e[ur],ar=this.labelTextColors[ur],_e.fillStyle=ar,each(or.before,tr),pr=or.lines,Be&&pr.length&&(this._drawColorBox(_e,je,ur,rr,Me),Je=Math.max(Ke.lineHeight,qe)),gr=0,vr=pr.length;gr<vr;++gr)tr(pr[gr]),Je=Ke.lineHeight;each(or.after,tr)}Qe=0,Je=Ke.lineHeight,each(this.afterBody,tr),je.y-=ke}drawFooter(je,_e,Me){const $e=this.footer,ke=$e.length;let Ce,Be;if(ke){const qe=getRtlAdapter(Me.rtl,this.x,this.width);for(je.x=getAlignedX(this,Me.footerAlign,Me),je.y+=Me.footerMarginTop,_e.textAlign=qe.textAlign(Me.footerAlign),_e.textBaseline="middle",Ce=toFont(Me.footerFont),_e.fillStyle=Me.footerColor,_e.font=Ce.string,Be=0;Be<ke;++Be)_e.fillText($e[Be],qe.x(je.x),je.y+Ce.lineHeight/2),je.y+=Ce.lineHeight+Me.footerSpacing}}drawBackground(je,_e,Me,$e){const{xAlign:ke,yAlign:Ce}=this,{x:Be,y:qe}=je,{width:He,height:We}=Me,{topLeft:Ke,topRight:Je,bottomLeft:Qe,bottomRight:rr}=toTRBLCorners($e.cornerRadius);_e.fillStyle=$e.backgroundColor,_e.strokeStyle=$e.borderColor,_e.lineWidth=$e.borderWidth,_e.beginPath(),_e.moveTo(Be+Ke,qe),Ce==="top"&&this.drawCaret(je,_e,Me,$e),_e.lineTo(Be+He-Je,qe),_e.quadraticCurveTo(Be+He,qe,Be+He,qe+Je),Ce==="center"&&ke==="right"&&this.drawCaret(je,_e,Me,$e),_e.lineTo(Be+He,qe+We-rr),_e.quadraticCurveTo(Be+He,qe+We,Be+He-rr,qe+We),Ce==="bottom"&&this.drawCaret(je,_e,Me,$e),_e.lineTo(Be+Qe,qe+We),_e.quadraticCurveTo(Be,qe+We,Be,qe+We-Qe),Ce==="center"&&ke==="left"&&this.drawCaret(je,_e,Me,$e),_e.lineTo(Be,qe+Ke),_e.quadraticCurveTo(Be,qe,Be+Ke,qe),_e.closePath(),_e.fill(),$e.borderWidth>0&&_e.stroke()}_updateAnimationTarget(je){const _e=this.chart,Me=this.$animations,$e=Me&&Me.x,ke=Me&&Me.y;if($e||ke){const Ce=positioners[je.position].call(this,this._active,this._eventPosition);if(!Ce)return;const Be=this._size=getTooltipSize(this,je),qe=Object.assign({},Ce,this._size),He=determineAlignment(_e,je,qe),We=getBackgroundPoint(je,qe,He,_e);($e._to!==We.x||ke._to!==We.y)&&(this.xAlign=He.xAlign,this.yAlign=He.yAlign,this.width=Be.width,this.height=Be.height,this.caretX=Ce.x,this.caretY=Ce.y,this._resolveAnimations().update(this,We))}}_willRender(){return!!this.opacity}draw(je){const _e=this.options.setContext(this.getContext());let Me=this.opacity;if(!Me)return;this._updateAnimationTarget(_e);const $e={width:this.width,height:this.height},ke={x:this.x,y:this.y};Me=Math.abs(Me)<.001?0:Me;const Ce=toPadding(_e.padding),Be=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;_e.enabled&&Be&&(je.save(),je.globalAlpha=Me,this.drawBackground(ke,je,$e,_e),overrideTextDirection(je,_e.textDirection),ke.y+=Ce.top,this.drawTitle(ke,je,_e),this.drawBody(ke,je,_e),this.drawFooter(ke,je,_e),restoreTextDirection(je,_e.textDirection),je.restore())}getActiveElements(){return this._active||[]}setActiveElements(je,_e){const Me=this._active,$e=je.map(({datasetIndex:Be,index:qe})=>{const He=this.chart.getDatasetMeta(Be);if(!He)throw new Error("Cannot find a dataset at index "+Be);return{datasetIndex:Be,element:He.data[qe],index:qe}}),ke=!_elementsEqual(Me,$e),Ce=this._positionChanged($e,_e);(ke||Ce)&&(this._active=$e,this._eventPosition=_e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(je,_e,Me=!0){if(_e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const $e=this.options,ke=this._active||[],Ce=this._getActiveElements(je,ke,_e,Me),Be=this._positionChanged(Ce,je),qe=_e||!_elementsEqual(Ce,ke)||Be;return qe&&(this._active=Ce,($e.enabled||$e.external)&&(this._eventPosition={x:je.x,y:je.y},this.update(!0,_e))),qe}_getActiveElements(je,_e,Me,$e){const ke=this.options;if(je.type==="mouseout")return[];if(!$e)return _e.filter(Be=>this.chart.data.datasets[Be.datasetIndex]&&this.chart.getDatasetMeta(Be.datasetIndex).controller.getParsed(Be.index)!==void 0);const Ce=this.chart.getElementsAtEventForMode(je,ke.mode,ke,Me);return ke.reverse&&Ce.reverse(),Ce}_positionChanged(je,_e){const{caretX:Me,caretY:$e,options:ke}=this,Ce=positioners[ke.position].call(this,je,_e);return Ce!==!1&&(Me!==Ce.x||$e!==Ce.y)}}var plugin_tooltip={id:"tooltip",_element:Tooltip,positioners,afterInit(Re,je,_e){_e&&(Re.tooltip=new Tooltip({chart:Re,options:_e}))},beforeUpdate(Re,je,_e){Re.tooltip&&Re.tooltip.initialize(_e)},reset(Re,je,_e){Re.tooltip&&Re.tooltip.initialize(_e)},afterDraw(Re){const je=Re.tooltip;if(je&&je._willRender()){const _e={tooltip:je};if(Re.notifyPlugins("beforeTooltipDraw",{..._e,cancelable:!0})===!1)return;je.draw(Re.ctx),Re.notifyPlugins("afterTooltipDraw",_e)}},afterEvent(Re,je){if(Re.tooltip){const _e=je.replay;Re.tooltip.handleEvent(je.event,_e,je.inChartArea)&&(je.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(Re,je)=>je.bodyFont.size,boxWidth:(Re,je)=>je.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:defaultCallbacks},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:Re=>Re!=="filter"&&Re!=="itemSort"&&Re!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const addIfString=(Re,je,_e,Me)=>(typeof je=="string"?(_e=Re.push(je)-1,Me.unshift({index:_e,label:je})):isNaN(je)&&(_e=null),_e);function findOrAddLabel(Re,je,_e,Me){const $e=Re.indexOf(je);if($e===-1)return addIfString(Re,je,_e,Me);const ke=Re.lastIndexOf(je);return $e!==ke?_e:$e}const validIndex=(Re,je)=>Re===null?null:_limitValue(Math.round(Re),0,je);function _getLabelForValue(Re){const je=this.getLabels();return Re>=0&&Re<je.length?je[Re]:Re}class CategoryScale extends Scale{static id="category";static defaults={ticks:{callback:_getLabelForValue}};constructor(je){super(je),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(je){const _e=this._addedLabels;if(_e.length){const Me=this.getLabels();for(const{index:$e,label:ke}of _e)Me[$e]===ke&&Me.splice($e,1);this._addedLabels=[]}super.init(je)}parse(je,_e){if(isNullOrUndef(je))return null;const Me=this.getLabels();return _e=isFinite(_e)&&Me[_e]===je?_e:findOrAddLabel(Me,je,valueOrDefault(_e,je),this._addedLabels),validIndex(_e,Me.length-1)}determineDataLimits(){const{minDefined:je,maxDefined:_e}=this.getUserBounds();let{min:Me,max:$e}=this.getMinMax(!0);this.options.bounds==="ticks"&&(je||(Me=0),_e||($e=this.getLabels().length-1)),this.min=Me,this.max=$e}buildTicks(){const je=this.min,_e=this.max,Me=this.options.offset,$e=[];let ke=this.getLabels();ke=je===0&&_e===ke.length-1?ke:ke.slice(je,_e+1),this._valueRange=Math.max(ke.length-(Me?0:1),1),this._startValue=this.min-(Me?.5:0);for(let Ce=je;Ce<=_e;Ce++)$e.push({value:Ce});return $e}getLabelForValue(je){return _getLabelForValue.call(this,je)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(je){return typeof je!="number"&&(je=this.parse(je)),je===null?NaN:this.getPixelForDecimal((je-this._startValue)/this._valueRange)}getPixelForTick(je){const _e=this.ticks;return je<0||je>_e.length-1?null:this.getPixelForValue(_e[je].value)}getValueForPixel(je){return Math.round(this._startValue+this.getDecimalForPixel(je)*this._valueRange)}getBasePixel(){return this.bottom}}function generateTicks$1(Re,je){const _e=[],{bounds:$e,step:ke,min:Ce,max:Be,precision:qe,count:He,maxTicks:We,maxDigits:Ke,includeBounds:Je}=Re,Qe=ke||1,rr=We-1,{min:tr,max:cr}=je,or=!isNullOrUndef(Ce),ar=!isNullOrUndef(Be),pr=!isNullOrUndef(He),ur=(cr-tr)/(Ke+1);let gr=niceNum((cr-tr)/rr/Qe)*Qe,jr,vr,dr,xr;if(gr<1e-14&&!or&&!ar)return[{value:tr},{value:cr}];xr=Math.ceil(cr/gr)-Math.floor(tr/gr),xr>rr&&(gr=niceNum(xr*gr/rr/Qe)*Qe),isNullOrUndef(qe)||(jr=Math.pow(10,qe),gr=Math.ceil(gr*jr)/jr),$e==="ticks"?(vr=Math.floor(tr/gr)*gr,dr=Math.ceil(cr/gr)*gr):(vr=tr,dr=cr),or&&ar&&ke&&almostWhole((Be-Ce)/ke,gr/1e3)?(xr=Math.round(Math.min((Be-Ce)/gr,We)),gr=(Be-Ce)/xr,vr=Ce,dr=Be):pr?(vr=or?Ce:vr,dr=ar?Be:dr,xr=He-1,gr=(dr-vr)/xr):(xr=(dr-vr)/gr,almostEquals(xr,Math.round(xr),gr/1e3)?xr=Math.round(xr):xr=Math.ceil(xr));const Rr=Math.max(_decimalPlaces(gr),_decimalPlaces(vr));jr=Math.pow(10,isNullOrUndef(qe)?Rr:qe),vr=Math.round(vr*jr)/jr,dr=Math.round(dr*jr)/jr;let Xe=0;for(or&&(Je&&vr!==Ce?(_e.push({value:Ce}),vr<Ce&&Xe++,almostEquals(Math.round((vr+Xe*gr)*jr)/jr,Ce,relativeLabelSize(Ce,ur,Re))&&Xe++):vr<Ce&&Xe++);Xe<xr;++Xe){const Pe=Math.round((vr+Xe*gr)*jr)/jr;if(ar&&Pe>Be)break;_e.push({value:Pe})}return ar&&Je&&dr!==Be?_e.length&&almostEquals(_e[_e.length-1].value,Be,relativeLabelSize(Be,ur,Re))?_e[_e.length-1].value=Be:_e.push({value:Be}):(!ar||dr===Be)&&_e.push({value:dr}),_e}function relativeLabelSize(Re,je,{horizontal:_e,minRotation:Me}){const $e=toRadians(Me),ke=(_e?Math.sin($e):Math.cos($e))||.001,Ce=.75*je*(""+Re).length;return Math.min(je/ke,Ce)}class LinearScaleBase extends Scale{constructor(je){super(je),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(je,_e){return isNullOrUndef(je)||(typeof je=="number"||je instanceof Number)&&!isFinite(+je)?null:+je}handleTickRangeOptions(){const{beginAtZero:je}=this.options,{minDefined:_e,maxDefined:Me}=this.getUserBounds();let{min:$e,max:ke}=this;const Ce=qe=>$e=_e?$e:qe,Be=qe=>ke=Me?ke:qe;if(je){const qe=sign($e),He=sign(ke);qe<0&&He<0?Be(0):qe>0&&He>0&&Ce(0)}if($e===ke){let qe=ke===0?1:Math.abs(ke*.05);Be(ke+qe),je||Ce($e-qe)}this.min=$e,this.max=ke}getTickLimit(){const je=this.options.ticks;let{maxTicksLimit:_e,stepSize:Me}=je,$e;return Me?($e=Math.ceil(this.max/Me)-Math.floor(this.min/Me)+1,$e>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${Me} would result generating up to ${$e} ticks. Limiting to 1000.`),$e=1e3)):($e=this.computeTickLimit(),_e=_e||11),_e&&($e=Math.min(_e,$e)),$e}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const je=this.options,_e=je.ticks;let Me=this.getTickLimit();Me=Math.max(2,Me);const $e={maxTicks:Me,bounds:je.bounds,min:je.min,max:je.max,precision:_e.precision,step:_e.stepSize,count:_e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:_e.minRotation||0,includeBounds:_e.includeBounds!==!1},ke=this._range||this,Ce=generateTicks$1($e,ke);return je.bounds==="ticks"&&_setMinAndMaxByKey(Ce,this,"value"),je.reverse?(Ce.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),Ce}configure(){const je=this.ticks;let _e=this.min,Me=this.max;if(super.configure(),this.options.offset&&je.length){const $e=(Me-_e)/Math.max(je.length-1,1)/2;_e-=$e,Me+=$e}this._startValue=_e,this._endValue=Me,this._valueRange=Me-_e}getLabelForValue(je){return formatNumber(je,this.chart.options.locale,this.options.ticks.format)}}class LinearScale extends LinearScaleBase{static id="linear";static defaults={ticks:{callback:Ticks.formatters.numeric}};determineDataLimits(){const{min:je,max:_e}=this.getMinMax(!0);this.min=isNumberFinite(je)?je:0,this.max=isNumberFinite(_e)?_e:1,this.handleTickRangeOptions()}computeTickLimit(){const je=this.isHorizontal(),_e=je?this.width:this.height,Me=toRadians(this.options.ticks.minRotation),$e=(je?Math.sin(Me):Math.cos(Me))||.001,ke=this._resolveTickFontOptions(0);return Math.ceil(_e/Math.min(40,ke.lineHeight/$e))}getPixelForValue(je){return je===null?NaN:this.getPixelForDecimal((je-this._startValue)/this._valueRange)}getValueForPixel(je){return this._startValue+this.getDecimalForPixel(je)*this._valueRange}}const INTERVALS={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},UNITS=Object.keys(INTERVALS);function sorter(Re,je){return Re-je}function parse(Re,je){if(isNullOrUndef(je))return null;const _e=Re._adapter,{parser:Me,round:$e,isoWeekday:ke}=Re._parseOpts;let Ce=je;return typeof Me=="function"&&(Ce=Me(Ce)),isNumberFinite(Ce)||(Ce=typeof Me=="string"?_e.parse(Ce,Me):_e.parse(Ce)),Ce===null?null:($e&&(Ce=$e==="week"&&(isNumber(ke)||ke===!0)?_e.startOf(Ce,"isoWeek",ke):_e.startOf(Ce,$e)),+Ce)}function determineUnitForAutoTicks(Re,je,_e,Me){const $e=UNITS.length;for(let ke=UNITS.indexOf(Re);ke<$e-1;++ke){const Ce=INTERVALS[UNITS[ke]],Be=Ce.steps?Ce.steps:Number.MAX_SAFE_INTEGER;if(Ce.common&&Math.ceil((_e-je)/(Be*Ce.size))<=Me)return UNITS[ke]}return UNITS[$e-1]}function determineUnitForFormatting(Re,je,_e,Me,$e){for(let ke=UNITS.length-1;ke>=UNITS.indexOf(_e);ke--){const Ce=UNITS[ke];if(INTERVALS[Ce].common&&Re._adapter.diff($e,Me,Ce)>=je-1)return Ce}return UNITS[_e?UNITS.indexOf(_e):0]}function determineMajorUnit(Re){for(let je=UNITS.indexOf(Re)+1,_e=UNITS.length;je<_e;++je)if(INTERVALS[UNITS[je]].common)return UNITS[je]}function addTick(Re,je,_e){if(!_e)Re[je]=!0;else if(_e.length){const{lo:Me,hi:$e}=_lookup(_e,je),ke=_e[Me]>=je?_e[Me]:_e[$e];Re[ke]=!0}}function setMajorTicks(Re,je,_e,Me){const $e=Re._adapter,ke=+$e.startOf(je[0].value,Me),Ce=je[je.length-1].value;let Be,qe;for(Be=ke;Be<=Ce;Be=+$e.add(Be,1,Me))qe=_e[Be],qe>=0&&(je[qe].major=!0);return je}function ticksFromTimestamps(Re,je,_e){const Me=[],$e={},ke=je.length;let Ce,Be;for(Ce=0;Ce<ke;++Ce)Be=je[Ce],$e[Be]=Ce,Me.push({value:Be,major:!1});return ke===0||!_e?Me:setMajorTicks(Re,Me,$e,_e)}class TimeScale extends Scale{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(je){super(je),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(je,_e={}){const Me=je.time||(je.time={}),$e=this._adapter=new adapters._date(je.adapters.date);$e.init(_e),mergeIf(Me.displayFormats,$e.formats()),this._parseOpts={parser:Me.parser,round:Me.round,isoWeekday:Me.isoWeekday},super.init(je),this._normalized=_e.normalized}parse(je,_e){return je===void 0?null:parse(this,je)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const je=this.options,_e=this._adapter,Me=je.time.unit||"day";let{min:$e,max:ke,minDefined:Ce,maxDefined:Be}=this.getUserBounds();function qe(He){!Ce&&!isNaN(He.min)&&($e=Math.min($e,He.min)),!Be&&!isNaN(He.max)&&(ke=Math.max(ke,He.max))}(!Ce||!Be)&&(qe(this._getLabelBounds()),(je.bounds!=="ticks"||je.ticks.source!=="labels")&&qe(this.getMinMax(!1))),$e=isNumberFinite($e)&&!isNaN($e)?$e:+_e.startOf(Date.now(),Me),ke=isNumberFinite(ke)&&!isNaN(ke)?ke:+_e.endOf(Date.now(),Me)+1,this.min=Math.min($e,ke-1),this.max=Math.max($e+1,ke)}_getLabelBounds(){const je=this.getLabelTimestamps();let _e=Number.POSITIVE_INFINITY,Me=Number.NEGATIVE_INFINITY;return je.length&&(_e=je[0],Me=je[je.length-1]),{min:_e,max:Me}}buildTicks(){const je=this.options,_e=je.time,Me=je.ticks,$e=Me.source==="labels"?this.getLabelTimestamps():this._generate();je.bounds==="ticks"&&$e.length&&(this.min=this._userMin||$e[0],this.max=this._userMax||$e[$e.length-1]);const ke=this.min,Ce=this.max,Be=_filterBetween($e,ke,Ce);return this._unit=_e.unit||(Me.autoSkip?determineUnitForAutoTicks(_e.minUnit,this.min,this.max,this._getLabelCapacity(ke)):determineUnitForFormatting(this,Be.length,_e.minUnit,this.min,this.max)),this._majorUnit=!Me.major.enabled||this._unit==="year"?void 0:determineMajorUnit(this._unit),this.initOffsets($e),je.reverse&&Be.reverse(),ticksFromTimestamps(this,Be,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(je=>+je.value))}initOffsets(je=[]){let _e=0,Me=0,$e,ke;this.options.offset&&je.length&&($e=this.getDecimalForValue(je[0]),je.length===1?_e=1-$e:_e=(this.getDecimalForValue(je[1])-$e)/2,ke=this.getDecimalForValue(je[je.length-1]),je.length===1?Me=ke:Me=(ke-this.getDecimalForValue(je[je.length-2]))/2);const Ce=je.length<3?.5:.25;_e=_limitValue(_e,0,Ce),Me=_limitValue(Me,0,Ce),this._offsets={start:_e,end:Me,factor:1/(_e+1+Me)}}_generate(){const je=this._adapter,_e=this.min,Me=this.max,$e=this.options,ke=$e.time,Ce=ke.unit||determineUnitForAutoTicks(ke.minUnit,_e,Me,this._getLabelCapacity(_e)),Be=valueOrDefault($e.ticks.stepSize,1),qe=Ce==="week"?ke.isoWeekday:!1,He=isNumber(qe)||qe===!0,We={};let Ke=_e,Je,Qe;if(He&&(Ke=+je.startOf(Ke,"isoWeek",qe)),Ke=+je.startOf(Ke,He?"day":Ce),je.diff(Me,_e,Ce)>1e5*Be)throw new Error(_e+" and "+Me+" are too far apart with stepSize of "+Be+" "+Ce);const rr=$e.ticks.source==="data"&&this.getDataTimestamps();for(Je=Ke,Qe=0;Je<Me;Je=+je.add(Je,Be,Ce),Qe++)addTick(We,Je,rr);return(Je===Me||$e.bounds==="ticks"||Qe===1)&&addTick(We,Je,rr),Object.keys(We).sort(sorter).map(tr=>+tr)}getLabelForValue(je){const _e=this._adapter,Me=this.options.time;return Me.tooltipFormat?_e.format(je,Me.tooltipFormat):_e.format(je,Me.displayFormats.datetime)}format(je,_e){const $e=this.options.time.displayFormats,ke=this._unit,Ce=_e||$e[ke];return this._adapter.format(je,Ce)}_tickFormatFunction(je,_e,Me,$e){const ke=this.options,Ce=ke.ticks.callback;if(Ce)return callback(Ce,[je,_e,Me],this);const Be=ke.time.displayFormats,qe=this._unit,He=this._majorUnit,We=qe&&Be[qe],Ke=He&&Be[He],Je=Me[_e],Qe=He&&Ke&&Je&&Je.major;return this._adapter.format(je,$e||(Qe?Ke:We))}generateTickLabels(je){let _e,Me,$e;for(_e=0,Me=je.length;_e<Me;++_e)$e=je[_e],$e.label=this._tickFormatFunction($e.value,_e,je)}getDecimalForValue(je){return je===null?NaN:(je-this.min)/(this.max-this.min)}getPixelForValue(je){const _e=this._offsets,Me=this.getDecimalForValue(je);return this.getPixelForDecimal((_e.start+Me)*_e.factor)}getValueForPixel(je){const _e=this._offsets,Me=this.getDecimalForPixel(je)/_e.factor-_e.end;return this.min+Me*(this.max-this.min)}_getLabelSize(je){const _e=this.options.ticks,Me=this.ctx.measureText(je).width,$e=toRadians(this.isHorizontal()?_e.maxRotation:_e.minRotation),ke=Math.cos($e),Ce=Math.sin($e),Be=this._resolveTickFontOptions(0).size;return{w:Me*ke+Be*Ce,h:Me*Ce+Be*ke}}_getLabelCapacity(je){const _e=this.options.time,Me=_e.displayFormats,$e=Me[_e.unit]||Me.millisecond,ke=this._tickFormatFunction(je,0,ticksFromTimestamps(this,[je],this._majorUnit),$e),Ce=this._getLabelSize(ke),Be=Math.floor(this.isHorizontal()?this.width/Ce.w:this.height/Ce.h)-1;return Be>0?Be:1}getDataTimestamps(){let je=this._cache.data||[],_e,Me;if(je.length)return je;const $e=this.getMatchingVisibleMetas();if(this._normalized&&$e.length)return this._cache.data=$e[0].controller.getAllParsedValues(this);for(_e=0,Me=$e.length;_e<Me;++_e)je=je.concat($e[_e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(je)}getLabelTimestamps(){const je=this._cache.labels||[];let _e,Me;if(je.length)return je;const $e=this.getLabels();for(_e=0,Me=$e.length;_e<Me;++_e)je.push(parse(this,$e[_e]));return this._cache.labels=this._normalized?je:this.normalize(je)}normalize(je){return _arrayUnique(je.sort(sorter))}}function interpolate(Re,je,_e){let Me=0,$e=Re.length-1,ke,Ce,Be,qe;_e?(je>=Re[Me].pos&&je<=Re[$e].pos&&({lo:Me,hi:$e}=_lookupByKey(Re,"pos",je)),{pos:ke,time:Be}=Re[Me],{pos:Ce,time:qe}=Re[$e]):(je>=Re[Me].time&&je<=Re[$e].time&&({lo:Me,hi:$e}=_lookupByKey(Re,"time",je)),{time:ke,pos:Be}=Re[Me],{time:Ce,pos:qe}=Re[$e]);const He=Ce-ke;return He?Be+(qe-Be)*(je-ke)/He:Be}class TimeSeriesScale extends TimeScale{static id="timeseries";static defaults=TimeScale.defaults;constructor(je){super(je),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const je=this._getTimestampsForTable(),_e=this._table=this.buildLookupTable(je);this._minPos=interpolate(_e,this.min),this._tableRange=interpolate(_e,this.max)-this._minPos,super.initOffsets(je)}buildLookupTable(je){const{min:_e,max:Me}=this,$e=[],ke=[];let Ce,Be,qe,He,We;for(Ce=0,Be=je.length;Ce<Be;++Ce)He=je[Ce],He>=_e&&He<=Me&&$e.push(He);if($e.length<2)return[{time:_e,pos:0},{time:Me,pos:1}];for(Ce=0,Be=$e.length;Ce<Be;++Ce)We=$e[Ce+1],qe=$e[Ce-1],He=$e[Ce],Math.round((We+qe)/2)!==He&&ke.push({time:He,pos:Ce/(Be-1)});return ke}_generate(){const je=this.min,_e=this.max;let Me=super.getDataTimestamps();return(!Me.includes(je)||!Me.length)&&Me.splice(0,0,je),(!Me.includes(_e)||Me.length===1)&&Me.push(_e),Me.sort(($e,ke)=>$e-ke)}_getTimestampsForTable(){let je=this._cache.all||[];if(je.length)return je;const _e=this.getDataTimestamps(),Me=this.getLabelTimestamps();return _e.length&&Me.length?je=this.normalize(_e.concat(Me)):je=_e.length?_e:Me,je=this._cache.all=je,je}getDecimalForValue(je){return(interpolate(this._table,je)-this._minPos)/this._tableRange}getValueForPixel(je){const _e=this._offsets,Me=this.getDecimalForPixel(je)/_e.factor-_e.end;return interpolate(this._table,Me*this._tableRange+this._minPos,!0)}}const defaultDatasetIdKey="label";function reforwardRef(Re,je){typeof Re=="function"?Re(je):Re&&(Re.current=je)}function setOptions(Re,je){const _e=Re.options;_e&&je&&Object.assign(_e,je)}function setLabels(Re,je){Re.labels=je}function setDatasets(Re,je){let _e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:defaultDatasetIdKey;const Me=[];Re.datasets=je.map($e=>{const ke=Re.datasets.find(Ce=>Ce[_e]===$e[_e]);return!ke||!$e.data||Me.includes(ke)?{...$e}:(Me.push(ke),Object.assign(ke,$e),ke)})}function cloneData(Re){let je=arguments.length>1&&arguments[1]!==void 0?arguments[1]:defaultDatasetIdKey;const _e={labels:[],datasets:[]};return setLabels(_e,Re.labels),setDatasets(_e,Re.datasets,je),_e}function ChartComponent(Re,je){const{height:_e=150,width:Me=300,redraw:$e=!1,datasetIdKey:ke,type:Ce,data:Be,options:qe,plugins:He=[],fallbackContent:We,updateMode:Ke,...Je}=Re,Qe=reactExports.useRef(null),rr=reactExports.useRef(null),tr=()=>{Qe.current&&(rr.current=new Chart$1(Qe.current,{type:Ce,data:cloneData(Be,ke),options:qe&&{...qe},plugins:He}),reforwardRef(je,rr.current))},cr=()=>{reforwardRef(je,null),rr.current&&(rr.current.destroy(),rr.current=null)};return reactExports.useEffect(()=>{!$e&&rr.current&&qe&&setOptions(rr.current,qe)},[$e,qe]),reactExports.useEffect(()=>{!$e&&rr.current&&setLabels(rr.current.config.data,Be.labels)},[$e,Be.labels]),reactExports.useEffect(()=>{!$e&&rr.current&&Be.datasets&&setDatasets(rr.current.config.data,Be.datasets,ke)},[$e,Be.datasets]),reactExports.useEffect(()=>{rr.current&&($e?(cr(),setTimeout(tr)):rr.current.update(Ke))},[$e,qe,Be.labels,Be.datasets,Ke]),reactExports.useEffect(()=>{rr.current&&(cr(),setTimeout(tr))},[Ce]),reactExports.useEffect(()=>(tr(),()=>cr()),[]),React$2.createElement("canvas",{ref:Qe,role:"img",height:_e,width:Me,...Je},We)}const Chart=reactExports.forwardRef(ChartComponent);function createTypedChart(Re,je){return Chart$1.register(je),reactExports.forwardRef((_e,Me)=>React$2.createElement(Chart,{..._e,ref:Me,type:Re}))}const Line=createTypedChart("line",LineController),Bar=createTypedChart("bar",BarController),CallsWidgetsDashboard=({agentsCount:Re,calls:je,averageCallLenght:_e,totalCallGrowthThisMonth:Me,totalCallGrowthLastMonth:$e,totalCallsDuration:ke,totalCallsDurationGrowthThisMonth:Ce,totalCallsDurationGrowthLastMonth:Be})=>{const qe=Me-$e,He=qe>=0,We=Ce-Be,Ke=We>=0;return jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[jsxRuntimeExports.jsx(Link,{to:"/settings?tab=call-agent-setup",className:"card bg-dark-800 border border-dark-700 hover:bg-dark-700/50 transition-colors",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm",children:"Agents Amount"}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-white mt-1",children:Re})]}),jsxRuntimeExports.jsx("div",{className:"p-3 rounded-lg bg-orange-500/20 text-orange-500",children:jsxRuntimeExports.jsx(Headset,{size:24})})]})}),jsxRuntimeExports.jsxs(Link,{to:"/calls",className:"card bg-dark-800 border border-dark-700 hover:bg-dark-700/50 transition-colors",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm",children:"Total Calls"}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-white mt-1",children:je.length})]}),jsxRuntimeExports.jsx("div",{className:"p-3 rounded-lg bg-orange-500/20 text-orange-500",children:jsxRuntimeExports.jsx(Phone,{size:24})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center mt-2",children:[He?jsxRuntimeExports.jsx(ArrowUpRight,{size:16,className:"text-green-500"}):jsxRuntimeExports.jsx(ArrowDownRight,{size:16,className:"text-red-500"}),jsxRuntimeExports.jsxs("span",{className:`text-sm ml-1 ${He?"text-green-500":"text-red-500"}`,children:[qe," calls"]}),jsxRuntimeExports.jsx("span",{className:"text-gray-500 text-sm ml-1",children:"vs last month"})]})]}),jsxRuntimeExports.jsxs(Link,{to:"/calls",className:"card bg-dark-800 border border-dark-700 hover:bg-dark-700/50 transition-colors",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm",children:"Total Calls Duration"}),jsxRuntimeExports.jsxs("h3",{className:"text-2xl font-bold text-white mt-1",children:[ke.toFixed(2)," min"]})]}),jsxRuntimeExports.jsx("div",{className:"p-3 rounded-lg bg-orange-500/20 text-orange-500",children:jsxRuntimeExports.jsx(Timer,{size:24})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center mt-2",children:[Ke?jsxRuntimeExports.jsx(ArrowUpRight,{size:16,className:"text-green-500"}):jsxRuntimeExports.jsx(ArrowDownRight,{size:16,className:"text-red-500"}),jsxRuntimeExports.jsxs("span",{className:`text-sm ml-1 ${Ke?"text-green-500":"text-red-500"}`,children:[We.toFixed(2)," min"]}),jsxRuntimeExports.jsx("span",{className:"text-gray-500 text-sm ml-1",children:"vs last month"})]})]}),jsxRuntimeExports.jsx(Link,{to:"/settings?tab=call-agent-setup",className:"card bg-dark-800 border border-dark-700 hover:bg-dark-700/50 transition-colors",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm",children:"Avg Response Time"}),jsxRuntimeExports.jsxs("h3",{className:"text-2xl font-bold text-white mt-1",children:[_e," min"]})]}),jsxRuntimeExports.jsx("div",{className:"p-3 rounded-lg bg-orange-500/20 text-orange-500",children:jsxRuntimeExports.jsx(TimerReset,{size:24})})]})})]})};Chart$1.register(CategoryScale,LinearScale,BarElement,PointElement,LineElement,ArcElement,plugin_title,plugin_tooltip,plugin_legend);const CallsDashboardCharts=({calls:Re})=>{const[je,_e]=reactExports.useState(0),{agentsCount:Me,fetchCallAgents:$e}=useCallStore(),[ke,Ce]=reactExports.useState(0),[Be,qe]=reactExports.useState(0),[He,We]=reactExports.useState(0),[Ke,Je]=reactExports.useState(0);reactExports.useEffect(()=>{$e(),_e(Qe()),rr(),tr(),cr(Re),or(Re)},[Re]);function Qe(){return Re.reduce((Ue,Ge)=>{const Ze=new Date(Ge.start_time).getTime(),er=new Date(Ge.end_time).getTime();return Ue+(er-Ze)},0)/1e3/60}function rr(){const Pe={},Fe=new Date,ze=new Date(Fe.getFullYear(),Fe.getMonth(),1),Ue=new Date(Fe.getFullYear(),Fe.getMonth()-1,1),Ge=new Date(ze.getTime()-1);Re.forEach(Ze=>{if(Ze.start_time){const er=new Date(Ze.start_time);if(er>=Ue&&er<=Ge){const Ve=er.toISOString().split("T")[0];Pe[Ve]=(Pe[Ve]||0)+1}}}),Ce(Object.values(Pe).reduce((Ze,er)=>Ze+er,0))}function tr(){const Pe={},Fe=new Date,ze=Fe.getFullYear(),Ue=Fe.getMonth();Re.forEach(Ge=>{if(Ge.start_time){const Ze=new Date(Ge.start_time);if(Ze.getFullYear()===ze&&Ze.getMonth()===Ue){const er=Ze.toISOString().split("T")[0];Pe[er]=(Pe[er]||0)+1}}}),qe(Object.values(Pe).reduce((Ge,Ze)=>Ge+Ze,0))}function cr(Pe){const Fe=new Date,ze=Fe.getMonth(),Ue=Fe.getFullYear(),Ge=Pe.filter(Ze=>{const er=new Date(Ze.start_time);return er.getFullYear()===Ue&&er.getMonth()===ze});Je(ar(Ge))}function or(Pe){const Fe=new Date,ze=Fe.getMonth()===0?11:Fe.getMonth()-1,Ue=Fe.getMonth()===0?Fe.getFullYear()-1:Fe.getFullYear(),Ge=Pe.filter(Ze=>{const er=new Date(Ze.start_time);return er.getFullYear()===Ue&&er.getMonth()===ze});We(ar(Ge))}function ar(Pe){return Pe.reduce((ze,Ue)=>{const Ge=new Date(Ue.start_time).getTime(),Ze=new Date(Ue.end_time).getTime();return ze+(Ze-Ge)},0)/1e3/60}const pr=reactExports.useMemo(()=>{if(!Re||Re.length===0)return 0;const Pe=Re.filter(Ge=>Ge.start_time&&Ge.end_time);if(Pe.length===0)return 0;const Ue=(Pe.reduce((Ge,Ze)=>{const er=new Date(Ze.start_time).getTime(),Ie=(new Date(Ze.end_time).getTime()-er)/1e3;return Ge+Ie},0)/Pe.length/60).toFixed(2);return parseFloat(Ue)},[Re]);reactExports.useMemo(()=>({labels:["Average Call Length (minutes)"],datasets:[{label:"Average Duration",data:[pr],backgroundColor:"rgba(34, 197, 94, 0.6)",borderColor:"rgba(34, 197, 94, 1)",borderWidth:1}]}),[pr]);const ur=reactExports.useMemo(()=>{const Pe={};return Re&&Re.forEach(Fe=>{const ze=Fe.disconnection_reason.replace("_"," ");Pe[ze]=(Pe[ze]||0)+1}),Pe},[Re]),gr={};Re.forEach(Pe=>{if(Pe.start_time){const Fe=new Date(Pe.start_time).toISOString().split("T")[0];gr[Fe]=(gr[Fe]||0)+1}}),Object.keys(gr).sort().forEach(Pe=>{});const vr=reactExports.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{color:"#ffffff"}},title:{display:!0,color:"#ffffff"},tooltip:{callbacks:{label:function(Pe){let Fe=Pe.dataset.label||"";if(Fe&&(Fe+=": "),Pe.parsed.y!==null)if(Pe.chart.config.type==="pie"){const ze=Pe.dataset.data.reduce((Ge,Ze)=>Ge+Ze,0),Ue=(Pe.parsed/ze*100).toFixed(1)+"%";Fe+=`${Pe.parsed} (${Ue})`}else Fe+=Pe.parsed.y;return Fe}}}},scales:{y:{beginAtZero:!0,ticks:{color:"#cccccc"},grid:{color:"#333333"},display:!0},x:{ticks:{color:"#cccccc"},grid:{color:"#333333"},display:!0}}}),[]);reactExports.useMemo(()=>{const Pe=Object.keys(ur),Fe=Object.values(ur);return{labels:Pe,datasets:[{data:Fe,backgroundColor:["#FF6384","#36A2EB","#FFCE56","#4BC0C0","#9966CC","#FF9F40","#E7E9ED"].slice(0,Pe.length),borderColor:"#ffffff",borderWidth:2}]}},[ur]),reactExports.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{color:"#ffffff"}},title:{display:!0,color:"#ffffff"},tooltip:{callbacks:{label:function(Pe){let Fe=Pe.label||"";Fe&&(Fe+=": ");const ze=Pe.dataset.data.reduce((Ge,Ze)=>Ge+Ze,0),Ue=(Pe.raw/ze*100).toFixed(1)+"%";return Fe+=`${Pe.raw} (${Ue})`,Fe}}}}}),[]);const dr=reactExports.useMemo(()=>{if(!Re)return{};const Pe={};return Re.forEach(Fe=>{if(Fe.start_time){const ze=new Date(Fe.start_time),Ue=format(ze,"yyyy-MM");Pe[Ue]=(Pe[Ue]||0)+1}}),Pe},[Re]),xr=reactExports.useMemo(()=>{const Fe=Object.keys(dr).sort((Ue,Ge)=>{const[Ze,er]=Ue.split("-").map(Number),[Ve,Ie]=Ge.split("-").map(Number),Ye=new Date(Ze,er-1).getTime(),ir=new Date(Ve,Ie-1).getTime();return Ye-ir}),ze=Fe.map(Ue=>dr[Ue]);return{labels:Fe,datasets:[{label:"Number of Calls",data:ze,backgroundColor:"rgba(54, 162, 235, 0.6)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1}]}},[dr]),Rr=reactExports.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{color:"#ffffff"}},title:{display:!0,text:"Total Calls Over Time",color:"#ffffff"},tooltip:{callbacks:{label:function(Pe){let Fe=Pe.dataset.label||"";return Fe&&(Fe+=": "),Pe.parsed.y!==null&&(Fe+=Pe.parsed.y),Fe}}}},scales:{y:{beginAtZero:!0,ticks:{stepSize:1,color:"#cccccc"},grid:{color:"#333333"}},x:{ticks:{color:"#cccccc"},grid:{color:"#333333"}}}}),[]),Xe=reactExports.useMemo(()=>{if(!Re||Re.length===0)return{labels:[],datasets:[]};const Pe={};Re.forEach(Ze=>{if(Ze.start_time){const er=new Date(Ze.start_time).toISOString().split("T")[0];Pe[er]=(Pe[er]||0)+1}});const Fe=Object.keys(Pe).sort(),ze=[],Ue=[];let Ge=0;return Fe.forEach(Ze=>{ze.push(Ze),Ge+=Pe[Ze],Ue.push(Ge)}),{labels:ze,datasets:[{label:"Total Calls",data:Ue,backgroundColor:"rgba(79, 70, 229, 0.6)",borderColor:"rgba(79, 70, 229, 1)",borderWidth:1}]}},[Re]);return jsxRuntimeExports.jsxs("div",{className:"card border border-dark-700 mb-5",children:[jsxRuntimeExports.jsx(CallsWidgetsDashboard,{agentsCount:Me,calls:Re,averageCallLenght:pr,totalCallGrowthThisMonth:Be,totalCallGrowthLastMonth:ke,totalCallsDuration:je,totalCallsDurationGrowthThisMonth:Ke,totalCallsDurationGrowthLastMonth:He}),jsxRuntimeExports.jsx("div",{className:"bg-dark-800 rounded-lg border border-dark-700 p-6 h-80 mb-6",children:jsxRuntimeExports.jsx(Line,{data:Xe,options:Rr})}),jsxRuntimeExports.jsx("div",{className:"bg-dark-800 rounded-lg border border-dark-700 p-6 h-80 mb-6",children:jsxRuntimeExports.jsx(Bar,{data:xr,options:{...vr,plugins:{...vr.plugins,title:{...vr.plugins,text:"Calls by Month"}},scales:{...vr.scales,y:{...vr.scales.y,beginAtZero:!0,display:!0},x:{...vr.scales.x,display:!0}}}})}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6"})]})},useActivityStore=create((Re,je)=>({activities:[],loading:!1,getActivities:async()=>{Re({activities:[],loading:!0});let{data:_e,error:Me}=await supabase.from("recent_activities").select("*").order("created_at",{ascending:!1}).limit(50);if(Me)throw Me;_e||(_e=[]),Re({activities:_e,loading:!1})}})),Dashboard=()=>{const Re=useNavigate(),{user:je}=useAuthStore(),[_e,Me]=reactExports.useState([]),[$e,ke]=reactExports.useState(new Date),[Ce,Be]=reactExports.useState(!1),{customers:qe,fetchCustomers:He}=useCustomerStore(),{products:We,fetchProducts:Ke}=useProductStore(),{invoices:Je,fetchInvoices:Qe,loading:rr}=useInvoiceStore(),{events:tr,fetchEvents:cr}=useCalendarStore();useProductStore();const{suppliers:or,fetchSuppliers:ar}=useSupplierStore(),[pr,ur]=reactExports.useState(!0),[gr,jr]=reactExports.useState(0),{activities:vr,getActivities:dr}=useActivityStore(),[xr,Rr]=reactExports.useState([]),[Xe,Pe]=reactExports.useState(!1),[Fe,ze]=reactExports.useState({showTodayEvents:!0,showPipeline:!0}),[Ue,Ge]=reactExports.useState([]);return reactExports.useEffect(()=>{const Ze=setInterval(()=>{ke(new Date)},1e3);return()=>clearInterval(Ze)},[]),reactExports.useEffect(()=>{if(!je?.id){Re("/login");return}(async()=>{ur(!0);try{const{data:er,error:Ve}=await supabase.from("expenses").select("*").order("created_at",{ascending:!1}).limit(5);if(Ve)throw Ve;Rr(er||[]);const{data:Ie,error:Ye}=await supabase.rpc("get_pipeline_summary",{p_user_id:je?.id});if(Ye)throw Ye;Me(Ie||[]),await dr();const ir=Je.filter(br=>br.status==="Paid").reduce((br,_r)=>br+(_r.total||0),0);jr(ir),await Promise.all([He(),Ke(),Qe(),cr(),ar()]);const{data:lr}=await supabase.from("user_settings").select("dashboard_settings").eq("user_id",je?.id).single();lr?.dashboard_settings&&ze(lr.dashboard_settings)}catch(er){console.error("Error loading dashboard data:",er)}finally{ur(!1)}})()},[He,Ke,Qe,cr,je?.id]),reactExports.useEffect(()=>{(async()=>{try{const er=await callsService.fetchAccountCalls();Ge(er)}catch(er){console.error(er)}finally{ur(!1)}})()},[]),pr?jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center min-h-[60vh]",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"}),jsxRuntimeExports.jsx("span",{className:"ml-3 text-gray-400",children:"Loading dashboard data..."})]}):jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-white",children:"Dashboard"}),jsxRuntimeExports.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-white",id:"time",children:$e.toLocaleTimeString()}),jsxRuntimeExports.jsx("div",{className:"text-gray-400",id:"date",children:$e.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),jsxRuntimeExports.jsx("button",{onClick:()=>Pe(!0),className:"btn btn-secondary p-2",title:"Customize Dashboard",children:jsxRuntimeExports.jsx(Settings$2,{size:20})})]}),jsxRuntimeExports.jsxs("div",{className:"md:hidden relative",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>Be(!Ce),className:"btn btn-primary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Plus,{size:16}),jsxRuntimeExports.jsx("span",{children:"Select Option"})]}),Ce&&jsxRuntimeExports.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-dark-800 rounded-md shadow-lg py-1 z-50 border border-dark-700",children:[jsxRuntimeExports.jsx(Link,{to:"/invoices/create",className:"block px-4 py-2 text-sm text-gray-300 hover:bg-dark-700",onClick:()=>Be(!1),children:"New Invoice"}),jsxRuntimeExports.jsx(Link,{to:"/purchases/create",className:"block px-4 py-2 text-sm text-gray-300 hover:bg-dark-700",onClick:()=>Be(!1),children:"New Purchase"}),jsxRuntimeExports.jsx(Link,{to:"/expenses",className:"block px-4 py-2 text-sm text-gray-300 hover:bg-dark-700",onClick:()=>Be(!1),children:"New Expense"}),jsxRuntimeExports.jsx(Link,{to:"/quotes/create",className:"block px-4 py-2 text-sm text-gray-300 hover:bg-dark-700",onClick:()=>Be(!1),children:"New Quote"})]})]})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6"}),Fe.showPipeline&&jsxRuntimeExports.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-6",children:[jsxRuntimeExports.jsxs("h2",{className:"text-lg font-semibold text-white flex items-center",children:[jsxRuntimeExports.jsx("span",{children:"Pipeline Overview"}),jsxRuntimeExports.jsxs("div",{className:"ml-2 px-2 py-1 text-xs bg-primary-500/20 text-primary-400 rounded-full",children:[_e?.length||0," Stages"]})]}),jsxRuntimeExports.jsxs(Link,{to:"/pipeline",className:"btn btn-secondary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(FileText,{size:16}),jsxRuntimeExports.jsx("span",{children:"View Details"})]})]}),jsxRuntimeExports.jsx("div",{className:"space-y-4",children:[{stage:"lead",label:"Leads",color:"bg-gray-500"},{stage:"opportunity",label:"Opportunities",color:"bg-blue-500"},{stage:"closed_won",label:"Closed (Won)",color:"bg-green-500"}].map(Ze=>{const er=_e?.find(ir=>ir.pipeline_stage===Ze.stage)||{total_value:0,deal_count:0,completion_percentage:0},Ve=er?.total_value||0,Ie=er?.deal_count||0,Ye=er?.completion_percentage||0;return jsxRuntimeExports.jsxs(Link,{to:`/pipeline/${Ze.stage}`,className:"group relative block p-2 rounded-lg transition-all duration-300 hover:bg-dark-700/50 hover:shadow-lg hover:scale-[1.02] transform",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between mb-1",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-300",children:Ze.label}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-gray-400",children:[Ie," ",Ie===1?"deal":"deals","  $",Ve.toLocaleString()]})]}),jsxRuntimeExports.jsx("div",{className:"h-2 bg-dark-700 rounded-full overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:`h-full ${Ze.color} transition-all duration-500 group-hover:opacity-90 group-hover:shadow-md`,style:{width:`${Ye*100}%`}})}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 rounded-lg border-2 border-transparent transition-colors duration-300 group-hover:border-primary-500/30"})]},Ze.stage)})})]}),Fe.showTodayEvents&&jsxRuntimeExports.jsxs("div",{className:"card bg-dark-800 border border-dark-700 p-6",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-between items-center mb-4",children:jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white",children:"Today's Events"})}),tr.filter(Ze=>{const er=new Date,Ve=new Date(Ze.start);return Ve.getDate()===er.getDate()&&Ve.getMonth()===er.getMonth()&&Ve.getFullYear()===er.getFullYear()}).length>0?jsxRuntimeExports.jsx("div",{className:"space-y-4",children:tr.filter(Ze=>{const er=new Date,Ve=new Date(Ze.start);return Ve.getDate()===er.getDate()&&Ve.getMonth()===er.getMonth()&&Ve.getFullYear()===er.getFullYear()}).map((Ze,er)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4 p-3 rounded-lg bg-dark-700/50 hover:bg-dark-700 transition-colors",children:[jsxRuntimeExports.jsx("div",{className:`p-2 rounded-lg ${Ze.type==="invoice"?"bg-primary-500/20 text-primary-400":"bg-gray-500/20 text-gray-400"}`}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-white font-medium",children:Ze.title}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:new Date(Ze.start).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]},er))}):jsxRuntimeExports.jsxs("div",{className:"text-center py-6",children:[jsxRuntimeExports.jsx(Calendar$2,{size:48,className:"text-gray-600 mb-4 mx-auto"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"No events scheduled for today"})]})]}),jsxRuntimeExports.jsx(CallsDashboardCharts,{calls:Ue})," ",jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-1 gap-12"}),Xe&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 w-full max-w-md",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Dashboard Settings"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("label",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-300",children:"Show Pipeline"}),jsxRuntimeExports.jsx("input",{type:"checkbox",checked:Fe.showPipeline,onChange:Ze=>ze({...Fe,showPipeline:Ze.target.checked}),className:"form-checkbox h-5 w-5 text-primary-600 rounded border-gray-600"})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-300",children:"Show Today's Events"}),jsxRuntimeExports.jsx("input",{type:"checkbox",checked:Fe.showTodayEvents,onChange:Ze=>ze({...Fe,showTodayEvents:Ze.target.checked}),className:"form-checkbox h-5 w-5 text-primary-600 rounded border-gray-600"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Pe(!1),className:"btn btn-secondary",children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:()=>{Pe(!1)},className:"btn btn-primary",children:"Save Changes"})]})]})})]})},usePipelineStore=create((Re,je)=>({pipelines:[],leads:[],opportunities:[],probabilities:["Preapproval - 20%","Approved Preapproval - 40%","Live Deal - 60%","Approved Live Deal - 80%"],loading:!1,error:null,clearError:()=>Re({error:null}),fetchPipelineItems:async()=>{Re({loading:!0,error:null});try{const _e=await piplelineService.getPipelines(),Me=_e.filter(ke=>ke.stage==="lead"),$e=_e.filter(ke=>ke.stage==="opportunity");Re({pipelines:_e,leads:Me,opportunities:$e,loading:!1})}catch(_e){console.error("Error in fetchLeads:",_e),Re({error:_e.message||"Failed to fetch leads",loading:!1})}},createPipelineItem:async _e=>{Re({loading:!0,error:null});try{const Me=await piplelineService.createPipeline(_e);return await je().fetchPipelineItems(),Me}catch(Me){throw console.error("Error in createPipelineItem:",Me),Re({error:Me.message||"Failed to create pipline item",loading:!1}),Me}},updatePipelineItem:async _e=>{Re({loading:!0,error:null});try{const Me=await piplelineService.updatePipelineItem(_e);return await je().fetchPipelineItems(),Me}catch(Me){throw console.error("Error in updatePipelineItem:",Me),Re({error:Me.message||"Failed to update task pipline item",loading:!1}),Me}},deletePipelineItem:async _e=>{Re({loading:!0,error:null});try{await piplelineService.deletePipelineItems(_e),await je().fetchPipelineItems()}catch(Me){throw console.error("Error in deletePipelineItem:",Me),Re({error:Me.message||"Failed to delete pipeline",loading:!1}),Me}}})),AddLeadModal=({onClose:Re})=>{const{register:je,handleSubmit:_e,formState:{errors:Me}}=useForm(),{customers:$e,fetchCustomers:ke}=useCustomerStore(),{createPipelineItem:Ce}=usePipelineStore(),[Be,qe]=reactExports.useState(!1);reactExports.useEffect(()=>{ke()},[ke]);const He=async We=>{try{qe(!0),Ce({closing_date:null,closing_probability:"",created_at:"",customer_id:We.customer_id||"",dollar_value:"",id:"",stage:"lead",updated_at:"",customers:null}),c$1.success("Lead created successfully"),Re()}catch(Ke){console.error("Error creating calendar event:",Ke),c$1.error("Failed to create lead")}finally{qe(!1)}};return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 w-full max-w-md",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white",children:"Add New Lead"}),jsxRuntimeExports.jsx("button",{onClick:Re,className:"text-gray-400 hover:text-white",children:jsxRuntimeExports.jsx(X$1,{size:20})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:_e(He),className:"space-y-4",children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Choose customer:"}),jsxRuntimeExports.jsx("select",{className:"input w-full",...je("customer_id"),children:$e.map(We=>jsxRuntimeExports.jsx("option",{value:We.id,children:We.name},We.id))})]})}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:Re,disabled:Be,className:"btn btn-secondary",children:"Cancel"}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:Be,className:"btn btn-primary",children:Be?jsxRuntimeExports.jsxs("span",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("span",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white"}),jsxRuntimeExports.jsx("span",{children:"Adding..."})]}):"Add Lead"})]})]})]})})},AddTaskModal=({onClose:Re,onSubmit:je})=>{const{register:_e,handleSubmit:Me,formState:{errors:$e}}=useForm(),{addEvent:ke}=useCalendarStore(),Ce=async Be=>{try{console.log("call addEvent()");const qe=await ke({title:Be.title,description:Be.description||"",start:new Date(Be.dueDate),end:new Date(new Date(Be.dueDate).getTime()+60*6e4),type:"task"});je(Be,qe)}catch(qe){console.error("Error creating calendar event:",qe)}};return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 w-full max-w-md",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white",children:"Add New Task"}),jsxRuntimeExports.jsx("button",{onClick:Re,className:"text-gray-400 hover:text-white",children:jsxRuntimeExports.jsx(X$1,{size:20})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:Me(Ce),className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:["Title ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("input",{type:"text",className:"input w-full",..._e("title",{required:"Title is required"})}),$e.title&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:$e.title.message})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:["Due Date ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("input",{type:"datetime-local",className:"input w-full",..._e("dueDate",{required:"Due date is required"})}),$e.dueDate&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:$e.dueDate.message})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Priority"}),jsxRuntimeExports.jsxs("select",{className:"input w-full",..._e("priority"),children:[jsxRuntimeExports.jsx("option",{value:"low",children:"Low"}),jsxRuntimeExports.jsx("option",{value:"medium",children:"Medium"}),jsxRuntimeExports.jsx("option",{value:"high",children:"High"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Assigned To"}),jsxRuntimeExports.jsx("select",{className:"input w-full",..._e("assignedTo"),children:jsxRuntimeExports.jsx("option",{value:"self",children:"Myself"})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Description"}),jsxRuntimeExports.jsx("textarea",{className:"input w-full",rows:3,..._e("description")})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:Re,className:"btn btn-secondary",children:"Cancel"}),jsxRuntimeExports.jsx("button",{type:"submit",className:"btn btn-primary",children:"Add Task"})]})]})]})})},AddOpportunityModal=({onClose:Re,onSubmit:je})=>{const{register:_e,handleSubmit:Me,formState:{errors:$e}}=useForm({defaultValues:{stage:"opportunity",customer_id:"",dollar_value:"",closing_probability:"",closing_date:""}}),{customers:ke,fetchCustomers:Ce}=useCustomerStore(),{probabilities:Be}=usePipelineStore(),qe=async He=>{try{je(He)}catch(We){console.error("Error creating calendar event:",We)}};return reactExports.useEffect(()=>{Ce()},[Ce]),jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 w-full max-w-md",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white",children:"Add New Opportunity"}),jsxRuntimeExports.jsx("button",{onClick:Re,className:"text-gray-400 hover:text-white",children:jsxRuntimeExports.jsx(X$1,{size:20})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:Me(qe),className:"space-y-4",children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Choose customer:"}),jsxRuntimeExports.jsx("select",{className:"input w-full",..._e("customer_id"),children:ke.map(He=>jsxRuntimeExports.jsx("option",{value:He.id,children:He.name},He.id))})]})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:["Dollar Value ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:jsxRuntimeExports.jsx("span",{className:"text-gray-400",children:"$"})}),jsxRuntimeExports.jsx("input",{type:"number",className:"input w-full pl-8",step:"0.01",min:"0",..._e("dollar_value",{required:"Value is required",min:{value:0,message:"Value must be positive"}})})]}),$e.value&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:$e.value.message})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Probability"}),jsxRuntimeExports.jsx("select",{className:"input w-full",..._e("closing_probability"),children:Be.map(He=>jsxRuntimeExports.jsx("option",{value:He,children:He},He))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Expected Close Date"}),jsxRuntimeExports.jsx("input",{type:"date",className:"input w-full",..._e("closing_date")})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:Re,className:"btn btn-secondary",children:"Cancel"}),jsxRuntimeExports.jsx("button",{type:"submit",className:"btn btn-primary",children:"Add Opportunity"})]})]})]})})},ConfirmationModal=({isOpen:Re,onClose:je,onConfirm:_e,title:Me,message:$e,confirmButtonText:ke="Confirm",cancelButtonText:Ce="Cancel",isDanger:Be=!1})=>Re?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 w-full max-w-md",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white",children:Me}),jsxRuntimeExports.jsx("button",{onClick:je,className:"text-gray-400 hover:text-white",children:jsxRuntimeExports.jsx(X$1,{size:20})})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 mb-6",style:{whiteSpace:"pre-line"},children:$e}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-2",children:[jsxRuntimeExports.jsx("button",{onClick:je,className:"btn btn-secondary",children:Ce}),jsxRuntimeExports.jsx("button",{onClick:()=>{_e(),je()},className:`btn ${Be?"btn-danger":"btn-primary"}`,children:ke})]})]})}):null,tasksService={async getTask(Re){try{const{data:je,error:_e}=await supabase.from("tasks").select("*").eq("id",Re).single();if(_e)throw console.error("Error fetching task:",_e),_e;return je}catch(je){throw console.error("Task service error:",je),je}},async getTasks(){try{const{data:Re,error:je}=await supabase.from("tasks").select("*").order("status",{ascending:!1}).order("due_date",{ascending:!0});if(je)throw console.error("Error fetching tasks:",je),je;return Re||[]}catch(Re){throw console.error("Task service error:",Re),Re}},async createTask(Re,je){const{data:_e}=await supabase.auth.getUser();if(!_e?.user)throw new Error("User not authenticated");try{const{data:Me,error:$e}=await supabase.from("tasks").insert([{user_id:_e.user.id,title:Re.title,description:Re.description,due_date:Re.dueDate,status:"pending",priority:Re.priority,calendar_id:je}]).select().single();return $e&&console.log($e),Me}catch(Me){throw console.error("Task service error:",Me),Me}},async updateTaskStatus(Re,je){try{const _e=await this.getTask(Re);if(!_e)throw new Error(`Task with ID ${Re} not found`);let Me=null;if(je==="pending"){const{addEvent:Be}=useCalendarStore.getState(),qe=new Date(_e.due_date),He=new Date(qe.getTime()+30*60*1e3);Me=(await Be({id:crypto.randomUUID(),type:"task",title:_e.title,start:new Date(_e.due_date),end:He})).id}else je==="completed"&&await supabase.from("calendar_events").delete().eq("id",_e.calendar_id);const $e={status:je};Me!==null&&($e.calendar_id=Me),console.log($e);const{data:ke,error:Ce}=await supabase.from("tasks").update($e).eq("id",Re).select().single();if(Ce)throw console.error("Error updating task status:",Ce),Ce;return ke}catch(_e){throw console.error("Task service error:",_e),_e}},async deleteTask(Re){try{const je=await this.getTask(Re);await supabase.from("calendar_events").delete().eq("id",je.calendar_id);let{error:_e}=await supabase.from("tasks").delete().eq("id",Re);if(_e)throw console.error("Error deleting task:",_e),_e}catch(je){throw console.error("Task service error:",je),je}}},useTaskStore=create((Re,je)=>({tasks:[],loading:!1,error:null,clearError:()=>Re({error:null}),fetchTasks:async()=>{Re({loading:!0,error:null});try{const _e=await tasksService.getTasks();Re({tasks:_e,loading:!1})}catch(_e){console.error("Error in fetchTasks:",_e),Re({error:_e.message||"Failed to fetch tasks",loading:!1})}},createTask:async(_e,Me)=>{Re({loading:!0,error:null});try{const $e=await tasksService.createTask(_e,Me);return await je().fetchTasks(),$e}catch($e){throw console.error("Error in createTask:",$e),Re({error:$e.message||"Failed to create task",loading:!1}),$e}},updateTaskStatus:async(_e,Me)=>{Re({loading:!0,error:null});try{const $e=await tasksService.updateTaskStatus(_e,Me);return await je().fetchTasks(),$e}catch($e){throw console.error("Error in updateTaskStatus:",$e),Re({error:$e.message||"Failed to update task status",loading:!1}),$e}},deleteTask:async _e=>{Re({loading:!0,error:null});try{await tasksService.deleteTask(_e);const Me=je().tasks.filter($e=>$e.id!==_e);Re({tasks:Me,loading:!1})}catch(Me){throw console.error("Error in deleteTask:",Me),Re({error:Me.message||"Failed to delete task",loading:!1}),Me}}})),TooltipButton=({tooltip:Re,onClick:je,icon:_e})=>{const Me=()=>{je?.()};return jsxRuntimeExports.jsxs("div",{className:"relative group inline-block",children:[jsxRuntimeExports.jsx("button",{onClick:Me,className:`text-gray-400 hover:${_e?.type===Trash||_e?.type===Trash2?"text-red-500":"text-green-500"}`,children:_e}),jsxRuntimeExports.jsx("span",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 hidden group-hover:block bg-gray-800 text-white text-xs rounded px-2 py-1 whitespace-nowrap shadow-lg",children:Re})]})},EditOpportunityModal=({pipelineItem:Re,onClose:je})=>{const[_e,Me]=reactExports.useState(!1),{probabilities:$e,updatePipelineItem:ke}=usePipelineStore(),{register:Ce,handleSubmit:Be,formState:{errors:qe}}=useForm({defaultValues:{value:Re.dollar_value||"",closing_probability:Re.closing_probability||"",expected_close:Re.closing_date?format(new Date(Re.closing_date),"yyyy-MM-dd"):""}}),He=async We=>{try{Me(!0);const{data:{user:Ke}}=await supabase.auth.getUser();if(!Ke)throw new Error("User not authenticated");if(!We.value||We.value<=0)throw new Error("Please enter a valid opportunity value");if(!We.expected_close)throw new Error("Please enter an expected close date");Re.stage=We.pipeline_stage,Re.closing_date=We.expected_close,Re.closing_probability=We.closing_probability,Re.dollar_value=We.value,await ke(Re),c$1.success("Opportunity has been updated"),je()}catch{c$1.error("Failed to update opportunity")}finally{Me(!1)}};return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white",children:"Details:"}),jsxRuntimeExports.jsx("button",{onClick:je,className:"text-gray-400 hover:text-white",children:jsxRuntimeExports.jsx(X$1,{size:20})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:Be(He),className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-4 mt-4 p-4 bg-dark-700/50 rounded-lg border border-dark-600",children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-medium text-white",children:"Opportunity Details"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:["Value ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:jsxRuntimeExports.jsx(DollarSign,{size:16,className:"text-gray-400"})}),jsxRuntimeExports.jsx("input",{type:"number",step:"0.01",min:"0",className:"input pl-8",placeholder:"0.00",...Ce("value",{value:Re.dollar_value,min:{value:0,message:"Value must be positive"}})})]}),qe.value&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:qe.value.message})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Probability (%)"}),jsxRuntimeExports.jsx("select",{className:"input w-full",...Ce("closing_probability"),children:$e.map(We=>jsxRuntimeExports.jsx("option",{value:We,children:We},We))}),qe.value&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:qe.value.message})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:["Expected Close Date ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:jsxRuntimeExports.jsx(Calendar$2,{size:16,className:"text-gray-400"})}),jsxRuntimeExports.jsx("input",{type:"date",className:"input pl-8",...Ce("expected_close",{value:Re.closing_date})})]}),qe.expected_close&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:qe.expected_close.message})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:je,disabled:_e,className:"btn btn-secondary",children:"Cancel"}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:_e,className:"btn btn-primary flex items-center space-x-2 relative",children:_e?jsxRuntimeExports.jsxs("span",{className:"flex items-center justify-center space-x-2",children:[jsxRuntimeExports.jsx("span",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2",children:jsxRuntimeExports.jsx("span",{className:"block w-5 h-5",children:jsxRuntimeExports.jsx("span",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 block w-3 h-3 rounded-full border-2 border-white border-t-transparent animate-spin"})})}),jsxRuntimeExports.jsx("span",{children:"Saving..."})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Save,{size:16}),jsxRuntimeExports.jsx("span",{children:"Save Changes"})]})})]})]})]})})},CRMDashboard=()=>{const{tasks:Re,fetchTasks:je,createTask:_e,updateTaskStatus:Me,deleteTask:$e}=useTaskStore(),[ke,Ce]=reactExports.useState(null),{leads:Be,opportunities:qe,loading:He,error:We,createPipelineItem:Ke,fetchPipelineItems:Je,deletePipelineItem:Qe}=usePipelineStore();reactExports.useState("all");const[rr,tr]=reactExports.useState("leads"),[cr,or]=reactExports.useState(!1),[ar,pr]=reactExports.useState(null);reactExports.useState([]);const[ur,gr]=reactExports.useState(null),[jr,vr]=reactExports.useState(!1),[dr,xr]=reactExports.useState(!1),[Rr,Xe]=reactExports.useState(null),[Pe,Fe]=reactExports.useState(""),ze=useNavigate(),Ue=Be,Ge=qe;reactExports.useEffect(()=>{je(),Je()},[je,Je]);const Ze={leads:{total:Ue.length,new:0},tasks:{total:Re.length,completed:Re.filter(lr=>lr.status==="completed").length},opportunities:{total:qe.length,value:`$${qe.reduce((lr,br)=>lr+(Number(br.dollar_value)||0),0).toLocaleString()}`}},er=async lr=>{pr(lr)},Ve=async lr=>{Ce(lr)},Ie=async()=>{if(ke)try{$e(ke),Vt$1.success("Task deleted successfully"),Ce(null)}catch{Vt$1.error("Failed to delete task")}},Ye=async()=>{if(ar)try{Qe(ar),Vt$1.success("Lead deleted successfully"),pr(null)}catch{Vt$1.error("Failed to delete lead")}},ir=()=>{switch(rr){case"leads":return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex-1",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:jsxRuntimeExports.jsx(Search,{size:18,className:"text-gray-400"})}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search Leads...",className:"input pl-10",value:Pe,onChange:lr=>Fe(lr.target.value)})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-between items-center",children:jsxRuntimeExports.jsxs("button",{onClick:()=>or(!0),className:"btn btn-primary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Plus,{size:16}),jsxRuntimeExports.jsx("span",{children:"Add Lead"})]})})]}),We&&jsxRuntimeExports.jsx("div",{className:"bg-red-900/50 border border-red-800 text-red-300 px-4 py-3 rounded-md",children:We}),He&&jsxRuntimeExports.jsxs("div",{className:"text-center py-4",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-500 mx-auto"}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-gray-400",children:"Loading leads..."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-lg border border-dark-700 overflow-hidden",children:[!He&&Ue.length>0?jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"bg-dark-700",children:[jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Name"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Company"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Email"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Phone"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Created"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"divide-y divide-dark-700",children:Ue.map(lr=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-dark-700/50",children:[jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsx("button",{className:"text-gray-400 hover:text-red-500",children:jsxRuntimeExports.jsx("div",{className:"text-sm font-medium text-white",children:lr.customers?.name})})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-center align-middle",children:jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-300",children:lr.customers?.company||"-"})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-center align-middle",children:jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-300",children:lr.customers?.email||"-"})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-center align-middle",children:jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-300",children:lr.customers?.phone||"-"})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300 text-center align-middle",children:new Date(lr.created_at).toLocaleDateString()}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium text-center align-middle",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[jsxRuntimeExports.jsx(TooltipButton,{tooltip:"Go to Customer",icon:jsxRuntimeExports.jsx(User,{size:16}),onClick:()=>ze(`/customers/${lr.customer_id}`)}),jsxRuntimeExports.jsx(TooltipButton,{tooltip:"Change stage",icon:jsxRuntimeExports.jsx(FolderInput,{size:16}),onClick:()=>Xe(lr)}),jsxRuntimeExports.jsx(TooltipButton,{tooltip:"Delete Lead",icon:jsxRuntimeExports.jsx(Trash2,{size:16}),onClick:()=>er(lr.id)})]})})]},lr.id))})]})}):!He&&jsxRuntimeExports.jsx("div",{className:"text-center py-12",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center",children:[jsxRuntimeExports.jsx(FileText,{size:48,className:"text-gray-600 mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-lg mb-2",children:"No leads found"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Get started by creating your first lead"})]})}),Ue.length>0&&jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 px-4 py-3 flex items-center justify-between border-t border-dark-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[jsxRuntimeExports.jsx("button",{className:"btn btn-secondary",children:"Previous"}),jsxRuntimeExports.jsx("button",{className:"btn btn-secondary",children:"Next"})]}),jsxRuntimeExports.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-400",children:["Showing ",jsxRuntimeExports.jsx("span",{className:"font-medium",children:"1"})," to ",jsxRuntimeExports.jsx("span",{className:"font-medium",children:Ue.length})," of"," ",jsxRuntimeExports.jsx("span",{className:"font-medium",children:Ue.length})," results"]})}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[jsxRuntimeExports.jsxs("button",{className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-dark-600 bg-dark-700 text-sm font-medium text-gray-400 hover:bg-dark-600",children:[jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Previous"}),jsxRuntimeExports.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),jsxRuntimeExports.jsx("button",{className:"relative inline-flex items-center px-4 py-2 border border-dark-600 bg-dark-700 text-sm font-medium text-gray-400 hover:bg-dark-600",children:"1"}),jsxRuntimeExports.jsxs("button",{className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-dark-600 bg-dark-700 text-sm font-medium text-gray-400 hover:bg-dark-600",children:[jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Next"}),jsxRuntimeExports.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})})]})]})]}),jsxRuntimeExports.jsx(ConfirmationModal,{isOpen:!!ar,onClose:()=>pr(null),onConfirm:Ye,title:"Delete item?",message:"Are you sure?",confirmButtonText:"Delete",cancelButtonText:"Cancel",isDanger:!0})]});case"tasks":return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsx("div",{className:"p-3 rounded-lg bg-yellow-500/20 text-yellow-500",children:jsxRuntimeExports.jsx(CheckSquare,{size:24})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white",children:"Tasks"}),jsxRuntimeExports.jsx("div",{className:"flex items-center mt-1",children:jsxRuntimeExports.jsxs("span",{className:"text-2xl font-bold text-white",children:[Ze.tasks.completed,"/",Ze.tasks.total]})})]})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>vr(!0),className:"btn btn-primary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Plus,{size:16}),jsxRuntimeExports.jsx("span",{children:"Add Task"})]})]}),jsxRuntimeExports.jsx("div",{className:"bg-dark-800 rounded-lg border border-dark-700 p-6",children:jsxRuntimeExports.jsx("div",{className:"overflow-x-auto mb-6",children:jsxRuntimeExports.jsxs("table",{className:"w-full",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"bg-dark-700",children:[jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Title"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-xs font-medium text-gray-400 uppercase tracking-wider ",children:"Due Date"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Priority"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"divide-y divide-dark-700",children:Re.length===0?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("td",{colSpan:5,className:"text-center py-12",children:[jsxRuntimeExports.jsx(TrendingUp,{size:48,className:"text-gray-600 mb-4 mx-auto"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-lg mb-2",children:"No tasks found"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Add a new task"}),jsxRuntimeExports.jsxs("button",{onClick:()=>vr(!0),className:"btn btn-primary flex items-center space-x-2 mx-auto",children:[jsxRuntimeExports.jsx(Plus,{size:16}),jsxRuntimeExports.jsx("span",{children:"Add Task"})]})]})}):Re.map(lr=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-dark-700/50",children:[jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsx("div",{className:"text-sm font-medium text-white",children:lr.title})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-center align-middle",children:jsxRuntimeExports.jsxs("div",{className:"text-sm font-medium text-white",children:[" ",new Date(lr.due_date).toLocaleDateString()]})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-center align-middle",children:jsxRuntimeExports.jsx("div",{className:"text-sm font-medium text-white",children:lr.priority})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-center align-middle",children:jsxRuntimeExports.jsx("div",{className:"text-sm font-medium text-white",children:lr.status})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium text-center align-middle",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[jsxRuntimeExports.jsx(TooltipButton,{tooltip:lr.status==="completed"?"Mark as Pending":"Mark as Completed",icon:jsxRuntimeExports.jsx(ChevronDownSquare,{size:16}),onClick:()=>{const br=lr.status==="completed"?"pending":"completed";console.log(br),Me(lr.id,br)}}),jsxRuntimeExports.jsx(TooltipButton,{tooltip:"Delete Task",icon:jsxRuntimeExports.jsx(Trash2,{size:16}),onClick:()=>Ve(lr.id)})]})})]},lr.id))})]})})}),jsxRuntimeExports.jsx(ConfirmationModal,{isOpen:!!ke,onClose:()=>Ce(null),onConfirm:Ie,title:"Delete item?",message:"Are you sure?",confirmButtonText:"Delete",cancelButtonText:"Cancel",isDanger:!0})]});case"opportunities":return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsx("div",{className:"p-3 rounded-lg bg-green-500/20 text-green-500",children:jsxRuntimeExports.jsx(TrendingUp,{size:24})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white",children:"Opportunities"}),jsxRuntimeExports.jsx("div",{className:"flex items-center mt-1",children:jsxRuntimeExports.jsx("span",{className:"text-2xl font-bold text-white",children:Ze.opportunities.value})})]})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>xr(!0),className:"btn btn-primary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Plus,{size:16}),jsxRuntimeExports.jsx("span",{children:"Add Opportunity"})]})]}),jsxRuntimeExports.jsx("div",{className:"bg-dark-800 rounded-lg border border-dark-700 p-6",children:jsxRuntimeExports.jsx("div",{className:"overflow-x-auto mb-6",children:jsxRuntimeExports.jsxs("table",{className:"w-full",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"bg-dark-700",children:[jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Name"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-xs font-medium text-gray-400 uppercase tracking-wider text-center align-middle",children:"Stage"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-xs font-medium text-gray-400 uppercase tracking-wider text-center align-middle",children:"Value"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-xs font-medium text-gray-400 uppercase tracking-wider text-center align-middle",children:"Probability"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-xs font-medium text-gray-400 uppercase tracking-wider text-center align-middle",children:"Expected Close"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-xs font-medium text-gray-400 uppercase tracking-wider text-center align-middle",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"divide-y divide-dark-700",children:Ge.length===0?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("td",{colSpan:5,className:"text-center py-12",children:[jsxRuntimeExports.jsx(TrendingUp,{size:48,className:"text-gray-600 mb-4 mx-auto"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-lg mb-2",children:"No opportunities found"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Convert leads to opportunities or add a new opportunity"}),jsxRuntimeExports.jsxs("button",{onClick:()=>xr(!0),className:"btn btn-primary flex items-center space-x-2 mx-auto",children:[jsxRuntimeExports.jsx(Plus,{size:16}),jsxRuntimeExports.jsx("span",{children:"Add Opportunity"})]})]})}):Ge.map(lr=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-dark-700/50",children:[jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsx("div",{className:"text-sm font-medium text-white",children:lr.customers?.name})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-center align-middle",children:jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-300",children:lr.stage})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-center align-middle",children:jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-300",children:["$",lr.dollar_value||"0"]})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-center align-middle",children:jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-300",children:lr.closing_probability||0})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300 text-center align-middle",children:lr.closing_date?new Date(lr.closing_date).toISOString().split("T")[0]:"-"}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium text-center align-middle",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[jsxRuntimeExports.jsx(TooltipButton,{tooltip:"Go to Customer",icon:jsxRuntimeExports.jsx(User,{size:16}),onClick:()=>ze(`/customers/${lr.customer_id}`)}),jsxRuntimeExports.jsx(TooltipButton,{tooltip:"Edit",icon:jsxRuntimeExports.jsx(Pen,{size:16}),onClick:()=>{gr(lr),console.log(ur)}}),jsxRuntimeExports.jsx(TooltipButton,{tooltip:"Delete Opportunity",icon:jsxRuntimeExports.jsx(Trash2,{size:16}),onClick:()=>er(lr.id)})]})})]},lr.id))})]})})}),jsxRuntimeExports.jsx(ConfirmationModal,{isOpen:!!ar,onClose:()=>pr(null),onConfirm:Ye,title:"Delete item?",message:"Are you sure?",confirmButtonText:"Delete",cancelButtonText:"Cancel",isDanger:!0})]})}};return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-white",children:"CRM Dashboard"}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-2",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:jsxRuntimeExports.jsx(Search,{size:18,className:"text-gray-400"})}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search...",className:"input pl-10 w-64"})]}),jsxRuntimeExports.jsxs("button",{className:"btn btn-secondary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Filter,{size:16}),jsxRuntimeExports.jsx("span",{children:"Filter"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsx("div",{className:"card bg-dark-800 border border-dark-700",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm",children:"Total Leads"}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-white mt-1",children:Ze.leads.total})]}),jsxRuntimeExports.jsx("div",{className:"p-3 rounded-lg bg-primary-500/20 text-primary-500",children:jsxRuntimeExports.jsx(Users,{size:24})})]})}),jsxRuntimeExports.jsx("div",{className:"card bg-dark-800 border border-dark-700",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm",children:"Tasks"}),jsxRuntimeExports.jsxs("h3",{className:"text-2xl font-bold text-white mt-1",children:[Ze.tasks.completed,"/",Ze.tasks.total]})]}),jsxRuntimeExports.jsx("div",{className:"p-3 rounded-lg bg-yellow-500/20 text-yellow-500",children:jsxRuntimeExports.jsx(CheckSquare,{size:24})})]})}),jsxRuntimeExports.jsx("div",{className:"card bg-dark-800 border border-dark-700",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm",children:"Pipeline Value"}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-white mt-1",children:Ze.opportunities.value})]}),jsxRuntimeExports.jsx("div",{className:"p-3 rounded-lg bg-green-500/20 text-green-500",children:jsxRuntimeExports.jsx(TrendingUp,{size:24})})]})})]}),jsxRuntimeExports.jsx("div",{className:"border-b border-dark-700",children:jsxRuntimeExports.jsxs("nav",{className:"-mb-px flex space-x-8",children:[jsxRuntimeExports.jsx("button",{onClick:()=>tr("leads"),className:`py-4 px-1 border-b-2 font-medium text-sm ${rr==="leads"?"border-primary-500 text-primary-500":"border-transparent text-gray-400 hover:text-gray-300 hover:border-gray-300"}`,children:"Leads"}),jsxRuntimeExports.jsx("button",{onClick:()=>tr("tasks"),className:`py-4 px-1 border-b-2 font-medium text-sm ${rr==="tasks"?"border-primary-500 text-primary-500":"border-transparent text-gray-400 hover:text-gray-300 hover:border-gray-300"}`,children:"Tasks"}),jsxRuntimeExports.jsx("button",{onClick:()=>tr("opportunities"),className:`py-4 px-1 border-b-2 font-medium text-sm ${rr==="opportunities"?"border-primary-500 text-primary-500":"border-transparent text-gray-400 hover:text-gray-300 hover:border-gray-300"}`,children:"Opportunities"})]})}),ir(),Rr&&jsxRuntimeExports.jsx(EditOpportunityModal,{pipelineItem:Rr,onClose:()=>{Xe(null),Je()}}),ur&&jsxRuntimeExports.jsx(EditOpportunityModal,{pipelineItem:ur,onClose:()=>{gr(null),Je()}}),cr&&jsxRuntimeExports.jsx(AddLeadModal,{onClose:()=>{or(!1),Je()}}),jr&&jsxRuntimeExports.jsx(AddTaskModal,{onClose:()=>vr(!1),onSubmit:(lr,br)=>{_e(lr,br.id),vr(!1)}}),dr&&jsxRuntimeExports.jsx(AddOpportunityModal,{onClose:()=>xr(!1),onSubmit:lr=>{Ke(lr),xr(!1)}})]})},Customers=()=>{const{customers:Re,loading:je,error:_e,fetchCustomers:Me,deleteCustomer:$e}=useCustomerStore(),[ke,Ce]=reactExports.useState(""),[Be,qe]=reactExports.useState(null),[He,We]=reactExports.useState([]);reactExports.useEffect(()=>{Me().catch(tr=>{c$1.error("Failed to load customers")})},[Me]);const Ke=Re.filter(tr=>tr?.name?.toLowerCase().includes(ke.toLowerCase())||tr?.email?.toLowerCase().includes(ke.toLowerCase())||tr?.phone?.includes(ke)),Je=()=>{He.length===Ke.length?We([]):We(Ke.map(tr=>tr.id))},Qe=tr=>{He.includes(tr)?We(He.filter(cr=>cr!==tr)):We([...He,tr])},rr=async()=>{try{await $e(Be),c$1.success("Customer deleted successfully")}catch{c$1.error("Failed to delete customer")}};return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-white",children:"Customers"}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-2",children:[jsxRuntimeExports.jsxs(Link,{to:"/settings?tab=integrations",className:"hidden md:flex btn btn-secondary items-center space-x-2",children:[jsxRuntimeExports.jsx(Upload,{size:16}),jsxRuntimeExports.jsx("span",{children:"Import CSV"})]}),jsxRuntimeExports.jsxs(Link,{to:"/customers/new",className:"btn btn-primary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(UserPlus,{size:16}),jsxRuntimeExports.jsx("span",{children:"Add Customer"})]})]})]}),jsxRuntimeExports.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:jsxRuntimeExports.jsxs("div",{className:"relative flex-1",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:jsxRuntimeExports.jsx(Search,{size:18,className:"text-gray-400"})}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search customers...",className:"input pl-10",value:ke,onChange:tr=>Ce(tr.target.value)})]})}),_e&&jsxRuntimeExports.jsx("div",{className:"bg-red-900/50 border border-red-800 text-red-300 px-4 py-3 rounded-md",children:_e}),je&&jsxRuntimeExports.jsxs("div",{className:"text-center py-4",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-500 mx-auto"}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-gray-400",children:"Loading customers..."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-lg border border-dark-700 overflow-hidden",children:[!je&&Ke.length>0?jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"bg-dark-700",children:[jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left",children:jsxRuntimeExports.jsx("div",{className:"flex items-center",children:jsxRuntimeExports.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-600 bg-dark-800 text-primary-600 focus:ring-primary-500",checked:He.length===Ke.length&&Ke.length>0,onChange:Je})})}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Customer"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Contact"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Type"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Total Spent"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Last Purchase"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"divide-y divide-dark-700",children:Ke.map(tr=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-dark-700/50",children:[jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-600 bg-dark-800 text-primary-600 focus:ring-primary-500",checked:He.includes(tr.id),onChange:()=>Qe(tr.id)})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsx(Link,{to:`/customers/${tr.id}`,className:"text-white font-medium hover:text-primary-400",children:tr.name})}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-300",children:tr.email||"No email"}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-400",children:tr.phone||"No phone"})]}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-300",children:tr.type||"Individual"})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${tr.status==="Active"?"bg-green-900/30 text-green-400":"bg-gray-700/30 text-gray-400"}`,children:tr.status||"Active"})}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:["$",tr.total_spent?.toLocaleString()||"0.00"]}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:tr.last_purchase?new Date(tr.last_purchase).toLocaleDateString():"Never"}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-right text-sm font-medium",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[jsxRuntimeExports.jsx(Link,{to:`/customers/${tr.id}`,className:"text-gray-400 hover:text-white",children:jsxRuntimeExports.jsx(Eye,{size:16})}),jsxRuntimeExports.jsx(Link,{to:`/customers/${tr.id}/edit`,className:"text-gray-400 hover:text-white",children:jsxRuntimeExports.jsx(SquarePen,{size:16})}),jsxRuntimeExports.jsx("button",{className:"text-gray-400 hover:text-red-500",onClick:()=>qe(tr.id),children:jsxRuntimeExports.jsx(Trash2,{size:16})})]})})]},tr.id))})]})}):!je&&jsxRuntimeExports.jsx("div",{className:"text-center py-12",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center",children:[jsxRuntimeExports.jsx(UserPlus,{size:48,className:"text-gray-600 mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-lg mb-2",children:"No customers found"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Get started by adding your first customer"}),jsxRuntimeExports.jsxs(Link,{to:"/customers/new",className:"btn btn-primary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(UserPlus,{size:16}),jsxRuntimeExports.jsx("span",{children:"Add Customer"})]})]})}),Ke.length>0&&jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 px-4 py-3 flex items-center justify-between border-t border-dark-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[jsxRuntimeExports.jsx("button",{className:"btn btn-secondary",children:"Previous"}),jsxRuntimeExports.jsx("button",{className:"btn btn-secondary",children:"Next"})]}),jsxRuntimeExports.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-400",children:["Showing ",jsxRuntimeExports.jsx("span",{className:"font-medium",children:"1"})," to ",jsxRuntimeExports.jsx("span",{className:"font-medium",children:Ke.length})," of"," ",jsxRuntimeExports.jsx("span",{className:"font-medium",children:Ke.length})," results"]})}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[jsxRuntimeExports.jsxs("button",{className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-dark-600 bg-dark-700 text-sm font-medium text-gray-400 hover:bg-dark-600",children:[jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Previous"}),jsxRuntimeExports.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),jsxRuntimeExports.jsx("button",{className:"relative inline-flex items-center px-4 py-2 border border-dark-600 bg-dark-700 text-sm font-medium text-gray-400 hover:bg-dark-600",children:"1"}),jsxRuntimeExports.jsxs("button",{className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-dark-600 bg-dark-700 text-sm font-medium text-gray-400 hover:bg-dark-600",children:[jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Next"}),jsxRuntimeExports.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})})]})]})]}),jsxRuntimeExports.jsx(ConfirmationModal,{isOpen:!!Be,onClose:()=>qe(null),onConfirm:rr,title:"Delete Customer?",message:`Deleting Customer will delete all associated data (leads, tasks, opportunities and etc..)

Are you sure? `,confirmButtonText:"Delete",cancelButtonText:"Cancel",isDanger:!0})]})},formatPhoneNumber=Re=>{if(!Re)return"";const _e=Re.replace(/\D/g,"").match(/^(\d{3})(\d{3})(\d{4})$/);return _e?`(${_e[1]}) ${_e[2]}-${_e[3]}`:Re},formatService={formatPhoneNumber(Re){const je=Re.replace(/\D/g,"");if(je.length===11&&je.startsWith("1")){const _e=je.slice(0,1),Me=je.slice(1,4),$e=je.slice(4,7),ke=je.slice(7,11);return`+${_e} (${Me}) ${$e}-${ke}`}return Re},formatPhoneNumberAsInDB(Re){const je=Re.replace(/\D/g,"");return je.length===11&&je.startsWith("1")?je.slice(1,11):Re},formatDate(Re){const je=new Date(Re),_e={month:"long",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",second:"2-digit",hour12:!1};return new Intl.DateTimeFormat("en-US",_e).format(je)}},RecentCallsTable=({currentCalls:Re,formatPhoneNumber:je,formatDate:_e})=>{const Me=useNavigate(),[$e,ke]=reactExports.useState(""),[Ce,Be]=reactExports.useState(1),[qe]=reactExports.useState(10),[He,We]=reactExports.useState(null),[Ke,Je]=reactExports.useState(!1),[Qe,rr]=reactExports.useState({}),tr=Ce*qe,cr=tr-qe,or=Re.slice(cr,tr);Math.ceil(Re.length/qe),reactExports.useEffect(()=>{if(!or.length)return;(async()=>{const jr={};await Promise.all(or.map(async vr=>{if(!Qe[vr.id])try{const dr=await formatService.formatPhoneNumberAsInDB(vr.from_number);jr[vr.id]=await ur(dr)}catch{jr[vr.id]=je(vr.from_number)||"Unknown"}})),Object.keys(jr).length>0&&rr(vr=>({...vr,...jr}))})()},[or]),reactExports.useEffect(()=>{(async()=>{if(He?.from_number){const jr=await ur(He.from_number);ke(jr)}})()},[He?.from_number]);const ar=gr=>{We(gr),Je(!0)},pr=()=>{Je(!1),We(null)},ur=async gr=>{const jr=await formatService.formatPhoneNumberAsInDB(gr);return(await customerService.getCustomerByPhone(jr))?.name??je(jr)};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-lg border border-dark-700 p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Recent Calls"}),Re.length===0?jsxRuntimeExports.jsx("p",{className:"text-white",children:"No calls found."}):jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full divide-y divide-dark-700",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-dark-300 uppercase tracking-wider",children:"From"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-dark-300 uppercase tracking-wider",children:"To"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-dark-300 uppercase tracking-wider",children:"Start Time"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-dark-300 uppercase tracking-wider",children:"End Time"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-dark-300 uppercase tracking-wider",children:"Duration (s)"})]})}),jsxRuntimeExports.jsx("tbody",{className:"divide-y divide-dark-700",children:or.map(gr=>jsxRuntimeExports.jsxs("tr",{className:"text-white cursor-pointer hover:bg-dark-700",onClick:()=>ar(gr),children:[jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:Qe[gr.id]?Qe[gr.id]:jsxRuntimeExports.jsx(Loader2,{className:"w-4 h-4 animate-spin text-gray-400"})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:je(gr.to_number)}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:gr.start_time?_e(new Date(gr.start_time).toLocaleString()):"N/A"}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:gr.end_time?_e(new Date(gr.end_time).toLocaleString()):"N/A"}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:gr.start_time&&gr.end_time?Math.round((new Date(gr.end_time).getTime()-new Date(gr.start_time).getTime())/1e3):"N/A"})]},gr.id))})]})})]}),Ke&&He&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 p-6 rounded-lg text-white max-w-4xl w-full",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold mb-4",children:"Call Details"}),jsxRuntimeExports.jsxs("p",{children:["From:",jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium 'bg-green-900/30 text-green-400",children:[$e," [",He.from_number,"]"]})]}),jsxRuntimeExports.jsxs("p",{children:["To:",jsxRuntimeExports.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium 'bg-green-900/30 text-green-400",children:je(He.to_number)})]}),jsxRuntimeExports.jsxs("p",{children:["Start Time:",jsxRuntimeExports.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium 'bg-green-900/30 text-gray-400",children:He.start_time?_e(new Date(He.start_time).toLocaleString()):"N/A"})]}),jsxRuntimeExports.jsxs("p",{children:["End Time:",jsxRuntimeExports.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium 'bg-green-900/30 text-gray-400",children:He.end_time?_e(new Date(He.end_time).toLocaleString()):"N/A"})]}),jsxRuntimeExports.jsxs("p",{children:["Duration:",jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium 'bg-green-900/30 text-gray-400",children:[He.start_time&&He.end_time?Math.round((new Date(He.end_time).getTime()-new Date(He.start_time).getTime())/1e3):"N/A"," s"]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4 block mb-2",children:["Recording:",He.recording_url?jsxRuntimeExports.jsx("audio",{controls:!0,src:He.recording_url,className:"mt-2 w-full",children:"Download audio"}):jsxRuntimeExports.jsx("button",{onClick:async()=>{const gr=await callsService.getCallRecording(He.provider_call_id);gr?.recording_url&&We({...He,recording_url:gr.recording_url})},className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Load Recording"})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4",children:["Transcript:",jsxRuntimeExports.jsx("p",{children:jsxRuntimeExports.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-large  text-gray-400",children:He.transcript})})]}),jsxRuntimeExports.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[He.user_id&&jsxRuntimeExports.jsx("button",{onClick:async()=>{const gr=await formatService.formatPhoneNumberAsInDB(He.from_number),jr=await customerService.getCustomerByPhone(gr);jr&&Me(`/customers/${jr.id}`)},className:"mt-6 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"View User Details"}),jsxRuntimeExports.jsx("button",{onClick:pr,className:"mt-6 px-4 py-2 bg-dark-700 text-white rounded hover:bg-dark-600",children:"Close"})]})]})})]})},CustomerDetail=()=>{const{id:Re}=useParams(),je=useNavigate(),{customers:_e,getCustomerById:Me,updateCustomer:$e,deleteCustomer:ke,loading:Ce,error:Be}=useCustomerStore(),{calls:qe,fetchCustomerCalls:He}=useCallStore(),[We,Ke]=reactExports.useState(null),[Je,Qe]=reactExports.useState(null),[rr,tr]=reactExports.useState("");reactExports.useEffect(()=>{(async()=>{Re&&Me(Re).then(async gr=>{gr?(Ke(gr),await He(Re)):(c$1.error("Customer not found"),je("/customers"))}).catch(gr=>{c$1.error("Failed to load customer details")})})()},[Re,_e]);const cr=async()=>{if(Re&&window.confirm("Are you sure you want to delete this customer?"))try{await ke(Re),c$1.success("Customer deleted successfully"),je("/customers")}catch{c$1.error("Failed to delete customer")}},or=(ur,gr)=>{Qe(ur),tr(gr)},ar=async ur=>{if(!(!Re||!We))try{const gr=await $e(Re,{[ur]:rr});Ke(gr),Qe(null),tr(""),c$1.success("Updated successfully")}catch{c$1.error("Failed to update")}},pr=(ur,gr)=>{ur.key==="Enter"?ar(gr):ur.key==="Escape"&&(Qe(null),tr(""))};return Ce?jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500 mx-auto"}),jsxRuntimeExports.jsx("p",{className:"mt-4 text-gray-400",children:"Loading customer details..."})]}):Be?jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx("p",{className:"text-red-400 text-lg",children:Be}),jsxRuntimeExports.jsx(Link,{to:"/customers",className:"btn btn-primary mt-4",children:"Back to Customers"})]}):We?jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsx(Link,{to:"/customers",className:"btn btn-secondary p-2",children:jsxRuntimeExports.jsx(ArrowLeft,{size:20})}),jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-white",children:We.name})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2",children:[jsxRuntimeExports.jsxs(Link,{to:`/customers/${Re}/edit`,className:"btn btn-primary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(SquarePen,{size:16}),jsxRuntimeExports.jsx("span",{children:"Edit Customer"})]}),jsxRuntimeExports.jsxs(Link,{to:`/crm?customer=${Re}&action=create-lead`,className:"btn btn-secondary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(UserPlus,{size:16}),jsxRuntimeExports.jsx("span",{children:"Create Lead"})]}),jsxRuntimeExports.jsxs(Link,{to:`/invoices/create?customer=${Re}`,className:"btn btn-secondary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(FileText,{size:16}),jsxRuntimeExports.jsx("span",{children:"Create Invoice"})]}),jsxRuntimeExports.jsxs("button",{className:"btn btn-danger flex items-center space-x-2",onClick:cr,children:[jsxRuntimeExports.jsx(Trash2,{size:16}),jsxRuntimeExports.jsx("span",{children:"Delete"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Customer Information"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"text-gray-400",children:We.type==="Business"?jsxRuntimeExports.jsx(Building,{size:18}):jsxRuntimeExports.jsx(User,{size:18})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Type"}),jsxRuntimeExports.jsx("div",{className:"cursor-pointer",onClick:()=>or("name",We.name),children:Je==="name"?jsxRuntimeExports.jsx("input",{type:"text",className:"input py-1 px-2",value:rr,onChange:ur=>tr(ur.target.value),onBlur:()=>ar("name"),onKeyDown:ur=>pr(ur,"name"),autoFocus:!0}):jsxRuntimeExports.jsx("p",{className:"text-white font-medium hover:text-primary-400",children:We.name})})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"text-gray-400",children:jsxRuntimeExports.jsx(Building,{size:18})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Company"}),jsxRuntimeExports.jsx("div",{className:"cursor-pointer",onClick:()=>or("company",We.company||""),children:Je==="company"?jsxRuntimeExports.jsx("input",{type:"text",className:"input py-1 px-2",value:rr,onChange:ur=>tr(ur.target.value),onBlur:()=>ar("company"),onKeyDown:ur=>pr(ur,"company"),autoFocus:!0}):jsxRuntimeExports.jsx("p",{className:"text-white hover:text-primary-400",children:We.company||"No company"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"text-gray-400",children:jsxRuntimeExports.jsx(Briefcase,{size:18})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Title"}),jsxRuntimeExports.jsx("div",{className:"cursor-pointer",onClick:()=>or("title",We.title||""),children:Je==="title"?jsxRuntimeExports.jsx("input",{type:"text",className:"input py-1 px-2",value:rr,onChange:ur=>tr(ur.target.value),onBlur:()=>ar("title"),onKeyDown:ur=>pr(ur,"title"),autoFocus:!0}):jsxRuntimeExports.jsx("p",{className:"text-white hover:text-primary-400",children:We.title||"No title"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"text-gray-400",children:jsxRuntimeExports.jsx(Mail,{size:18})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Email"}),jsxRuntimeExports.jsx("div",{className:"cursor-pointer",onClick:()=>or("email",We.email||""),children:Je==="email"?jsxRuntimeExports.jsx("input",{type:"email",className:"input py-1 px-2",value:rr,onChange:ur=>tr(ur.target.value),onBlur:()=>ar("email"),onKeyDown:ur=>pr(ur,"email"),autoFocus:!0}):jsxRuntimeExports.jsx("p",{className:"text-white hover:text-primary-400",children:We.email||"No email provided"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"text-gray-400",children:jsxRuntimeExports.jsx(Phone,{size:18})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Phone"}),jsxRuntimeExports.jsx("div",{className:"cursor-pointer",onClick:()=>or("phone",We.phone||""),children:Je==="phone"?jsxRuntimeExports.jsx("input",{type:"tel",className:"input py-1 px-2",value:rr,onChange:ur=>tr(ur.target.value),onBlur:()=>ar("phone"),onKeyDown:ur=>pr(ur,"phone"),autoFocus:!0}):jsxRuntimeExports.jsx("p",{className:"text-white hover:text-primary-400",children:formatPhoneNumber(We.phone)||"No phone provided"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"text-gray-400",children:jsxRuntimeExports.jsx(CircleUser,{size:18})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Customer Type"}),jsxRuntimeExports.jsx("div",{className:"cursor-pointer",onClick:()=>or("type",We.type),children:Je==="type"?jsxRuntimeExports.jsxs("select",{className:"input py-1 px-2",value:rr,onChange:ur=>tr(ur.target.value),onBlur:()=>ar("type"),autoFocus:!0,children:[jsxRuntimeExports.jsx("option",{value:"Individual",children:"Individual"}),jsxRuntimeExports.jsx("option",{value:"Business",children:"Business"}),jsxRuntimeExports.jsx("option",{value:"Government",children:"Government"}),jsxRuntimeExports.jsx("option",{value:"Non-Profit",children:"Non-Profit"})]}):jsxRuntimeExports.jsx("p",{className:"text-white hover:text-primary-400",children:We.type})})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"text-gray-400",children:jsxRuntimeExports.jsx(Star,{size:18})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Priority"}),jsxRuntimeExports.jsx("div",{className:"cursor-pointer",onClick:()=>or("priority",We.priority||"Low"),children:Je==="priority"?jsxRuntimeExports.jsxs("select",{className:"input py-1 px-2",value:rr,onChange:ur=>tr(ur.target.value),onBlur:()=>ar("priority"),autoFocus:!0,children:[jsxRuntimeExports.jsx("option",{value:"Low",children:"Low"}),jsxRuntimeExports.jsx("option",{value:"Medium",children:"Medium"}),jsxRuntimeExports.jsx("option",{value:"High",children:"High"})]}):jsxRuntimeExports.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${We.priority==="High"?"bg-red-900/30 text-red-400":We.priority==="Medium"?"bg-yellow-900/30 text-yellow-400":"bg-blue-900/30 text-blue-400"}`,children:We.priority||"Low"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"text-gray-400",children:jsxRuntimeExports.jsx(Calendar$2,{size:18})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Customer Since"}),jsxRuntimeExports.jsx("p",{className:"text-white",children:We.created_at?new Date(We.created_at).toLocaleDateString():"N/A"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"text-gray-400",children:jsxRuntimeExports.jsx(Clock,{size:18})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Status"}),jsxRuntimeExports.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${We.status==="Active"?"bg-green-900/30 text-green-400":"bg-gray-700/30 text-gray-400"}`,children:We.status||"Active"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-md font-medium text-white mb-2",children:"Notes"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 text-sm",children:We.notes||"No notes available"})]})]}),jsxRuntimeExports.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Recent Activity"}),jsxRuntimeExports.jsx("div",{className:"text-center py-6",children:jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"No recent activity"})})]})]}),jsxRuntimeExports.jsx("div",{className:"card bg-dark-800 border border-dark-700",children:jsxRuntimeExports.jsx("div",{className:"text-left py-6",children:jsxRuntimeExports.jsx(RecentCallsTable,{currentCalls:qe,formatPhoneNumber:formatService.formatPhoneNumber,formatDate:formatService.formatDate})})})]}):jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-lg",children:"Customer not found"}),jsxRuntimeExports.jsx(Link,{to:"/customers",className:"btn btn-primary mt-4",children:"Back to Customers"})]})},COUNTRIES$1=[{code:"CA",name:"Canada",states:["Alberta","British Columbia","Manitoba","New Brunswick","Newfoundland and Labrador","Nova Scotia","Ontario","Prince Edward Island","Quebec","Saskatchewan","Northwest Territories","Nunavut","Yukon"]},{code:"US",name:"United States",states:["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"]},{code:"UK",name:"United Kingdom"},{code:"AU",name:"Australia"},{code:"NZ",name:"New Zealand"}],NewCustomer=()=>{const{id:Re}=useParams(),je=useNavigate(),{createCustomer:_e,updateCustomer:Me,getCustomerById:$e,loading:ke,error:Ce,clearError:Be}=useCustomerStore(),[qe,He]=reactExports.useState("CA"),[We,Ke]=reactExports.useState("Individual"),[Je,Qe]=reactExports.useState(!1),[rr,tr]=reactExports.useState(""),[cr,or]=reactExports.useState(!1),[ar,pr]=reactExports.useState(null),{register:ur,handleSubmit:gr,formState:{errors:jr},reset:vr}=useForm({defaultValues:{type:"Individual",priority:"Low",name:"",email:"",phone:"",company:"",title:"",notes:""}});reactExports.useEffect(()=>{(async()=>{if(Re){const Rr=await $e(Re);if(Rr){const Xe=Rr.name.split(" "),Pe=Xe[0],Fe=Xe.slice(1).join(" ");vr({first_name:Pe,last_name:Fe,email:Rr.email||"",phone:Rr.phone||"",company:Rr.company||"",title:Rr.title||"",type:Rr.type,priority:Rr.priority||"Low",notes:Rr.notes||"",street:Rr.street||"",city:Rr.city||"",state:Rr.state||"",country:Rr.country||"CA",postal_code:Rr.postal_code||""}),Ke(Rr.type),tr(Rr.phone||"")}}})()},[Re,$e,vr]);const dr=async xr=>{Qe(!0),Be();try{const Rr={...xr,name:`${xr.first_name} ${xr.last_name}`.trim(),first_name:void 0,last_name:void 0};let Xe;if(Re)Xe=await Me(Re,Rr),c$1.success("Customer updated successfully!");else{Xe=await _e(Rr),c$1.success("Customer created successfully!"),pr(Xe.id),or(!0);return}je(`/customers/${Xe.id}`)}catch(Rr){console.error("Error creating customer:",Rr),c$1.error("Failed to create customer. Please try again.")}};return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsx(Link,{to:"/customers",className:"btn btn-secondary p-2",children:jsxRuntimeExports.jsx(ArrowLeft,{size:20})}),jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-white",children:Re?"Edit Customer":"Add New Customer"})]}),Ce&&jsxRuntimeExports.jsx("div",{className:"bg-red-900/50 border border-red-800 text-red-300 px-4 py-3 rounded-md",children:Ce}),jsxRuntimeExports.jsxs("form",{onSubmit:gr(dr),className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Basic Information"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{htmlFor:"first_name",className:"block text-sm font-medium text-gray-300 mb-1",children:["First Name ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("input",{id:"first_name",type:"text",className:"input",placeholder:"First name",...ur("first_name",{required:"First name is required"})}),jr.first_name&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:jr.first_name.message})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{htmlFor:"last_name",className:"block text-sm font-medium text-gray-300 mb-1",children:["Last Name ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("input",{id:"last_name",type:"text",className:"input",placeholder:"Last name",...ur("last_name",{required:"Last name is required"})}),jr.last_name&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:jr.last_name.message})]})]})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"company",className:"block text-sm font-medium text-gray-300 mb-1",children:"Company"}),jsxRuntimeExports.jsx("input",{id:"company",type:"text",className:"input",placeholder:"Company name",...ur("company")})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-300 mb-1",children:"Title"}),jsxRuntimeExports.jsx("input",{id:"title",type:"text",className:"input",placeholder:"Job title",...ur("title")})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-300 mb-1",children:"Customer Type"}),jsxRuntimeExports.jsxs("select",{id:"type",className:"input",...ur("type"),value:We,onChange:xr=>Ke(xr.target.value),children:[jsxRuntimeExports.jsx("option",{value:"Individual",children:"Individual"}),jsxRuntimeExports.jsx("option",{value:"Business",children:"Business"}),jsxRuntimeExports.jsx("option",{value:"Government",children:"Government"}),jsxRuntimeExports.jsx("option",{value:"Non-Profit",children:"Non-Profit"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-1",children:"Email"}),jsxRuntimeExports.jsx("input",{id:"email",type:"email",className:"input",placeholder:"customer@example.com",...ur("email",{pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})}),jr.email&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:jr.email.message})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-300 mb-1",children:"Phone Number"}),jsxRuntimeExports.jsx("input",{id:"phone",type:"tel",className:"input",value:rr,onChange:xr=>{const Xe=xr.target.value.replace(/\D/g,"").slice(0,10),Pe=Xe.replace(/(\d{3})(\d{3})(\d{4})/,"($1) $2-$3");tr(Pe),ur("phone").onChange({target:{value:Xe,name:"phone"}})},placeholder:"(555) 555-5555"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Address Information"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-300 mb-1",children:["Country ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("select",{id:"country",className:"input",value:qe,onChange:xr=>He(xr.target.value),...ur("country",{required:"Country is required"}),children:COUNTRIES$1.map(xr=>jsxRuntimeExports.jsx("option",{value:xr.code,children:xr.name},xr.code))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"street",className:"block text-sm font-medium text-gray-300 mb-1",children:"Street Address"}),jsxRuntimeExports.jsx("input",{id:"street",type:"text",className:"input",placeholder:"123 Main St",...ur("street")})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-300 mb-1",children:"City"}),jsxRuntimeExports.jsx("input",{id:"city",type:"text",className:"input",placeholder:"City",...ur("city")})]}),qe==="CA"&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"province",className:"block text-sm font-medium text-gray-300 mb-1",children:"Province"}),jsxRuntimeExports.jsxs("select",{id:"province",className:"input",...ur("state"),children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Province"}),COUNTRIES$1.find(xr=>xr.code==="CA")?.states.map(xr=>jsxRuntimeExports.jsx("option",{value:xr,children:xr},xr))]})]}),qe==="US"&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-300 mb-1",children:"State"}),jsxRuntimeExports.jsxs("select",{id:"state",className:"input",...ur("state"),children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select State"}),COUNTRIES$1.find(xr=>xr.code==="US")?.states.map(xr=>jsxRuntimeExports.jsx("option",{value:xr,children:xr},xr))]})]}),["UK","AU","NZ"].includes(qe)&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-300 mb-1",children:qe==="UK"?"County":qe==="AU"?"State/Territory":"Region"}),jsxRuntimeExports.jsx("input",{id:"state",type:"text",className:"input",placeholder:qe==="UK"?"County":qe==="AU"?"State/Territory":"Region",...ur("state")})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"postal_code",className:"block text-sm font-medium text-gray-300 mb-1",children:qe==="US"?"ZIP Code":qe==="UK"?"Post Code":"Postal Code"}),jsxRuntimeExports.jsx("input",{id:"postal_code",type:"text",className:"input",placeholder:qe==="US"?"12345":qe==="CA"?"A1A 1A1":qe==="UK"?"SW1A 1AA":"Postal Code",...ur("postal_code",{pattern:qe==="CA"?{value:/^[A-Za-z]\d[A-Za-z][ -]?\d[A-Za-z]\d$/,message:"Please enter a valid Canadian postal code"}:qe==="US"?{value:/^\d{5}(-\d{4})?$/,message:"Please enter a valid US ZIP code"}:qe==="UK"?{value:/^[A-Z]{1,2}\d[A-Z\d]? ?\d[A-Z]{2}$/i,message:"Please enter a valid UK post code"}:void 0})}),jr.postal_code&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:jr.postal_code.message})]})]})]})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-end",children:jsxRuntimeExports.jsx("button",{type:"submit",className:"btn btn-primary flex items-center space-x-2",disabled:ke,children:ke?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white"}),jsxRuntimeExports.jsx("span",{children:"Saving..."})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Save,{size:16}),jsxRuntimeExports.jsx("span",{children:"Save Customer"})]})})})]}),cr&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 w-full max-w-md",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white",children:"Create Lead"}),jsxRuntimeExports.jsx("button",{onClick:()=>{or(!1),je(`/customers/${ar}`)},className:"text-gray-400 hover:text-white",children:jsxRuntimeExports.jsx(X$1,{size:20})})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 mb-6",children:"Would you like to create a lead for this customer? This will add them to your sales pipeline."}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-3",children:[jsxRuntimeExports.jsx("button",{onClick:()=>{or(!1),je(`/customers/${ar}`)},className:"btn btn-secondary",children:"Skip"}),jsxRuntimeExports.jsxs(Link,{to:`/crm?customer=${ar}&action=create-lead`,className:"btn btn-primary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Plus,{size:16}),jsxRuntimeExports.jsx("span",{children:"Create Lead"})]})]})]})})]})};var papaparse_min={exports:{}};/* @license
Papa Parse
v5.5.2
https://github.com/mholt/PapaParse
License: MIT
*/(function(Re,je){((_e,Me)=>{Re.exports=Me()})(commonjsGlobal,function _e(){var Me=typeof self<"u"?self:typeof window<"u"?window:Me!==void 0?Me:{},$e,ke=!Me.document&&!!Me.postMessage,Ce=Me.IS_PAPA_WORKER||!1,Be={},qe=0,He={};function We(dr){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(xr){var Rr=gr(xr);Rr.chunkSize=parseInt(Rr.chunkSize),xr.step||xr.chunk||(Rr.chunkSize=null),this._handle=new tr(Rr),(this._handle.streamer=this)._config=Rr}.call(this,dr),this.parseChunk=function(xr,Rr){var Xe=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<Xe){let Fe=this._config.newline;Fe||(Pe=this._config.quoteChar||'"',Fe=this._handle.guessLineEndings(xr,Pe)),xr=[...xr.split(Fe).slice(Xe)].join(Fe)}this.isFirstChunk&&vr(this._config.beforeFirstChunk)&&(Pe=this._config.beforeFirstChunk(xr))!==void 0&&(xr=Pe),this.isFirstChunk=!1,this._halted=!1;var Xe=this._partialLine+xr,Pe=(this._partialLine="",this._handle.parse(Xe,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(xr=Pe.meta.cursor,Xe=(this._finished||(this._partialLine=Xe.substring(xr-this._baseIndex),this._baseIndex=xr),Pe&&Pe.data&&(this._rowCount+=Pe.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),Ce)Me.postMessage({results:Pe,workerId:He.WORKER_ID,finished:Xe});else if(vr(this._config.chunk)&&!Rr){if(this._config.chunk(Pe,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=Pe=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(Pe.data),this._completeResults.errors=this._completeResults.errors.concat(Pe.errors),this._completeResults.meta=Pe.meta),this._completed||!Xe||!vr(this._config.complete)||Pe&&Pe.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),Xe||Pe&&Pe.meta.paused||this._nextChunk(),Pe}this._halted=!0},this._sendError=function(xr){vr(this._config.error)?this._config.error(xr):Ce&&this._config.error&&Me.postMessage({workerId:He.WORKER_ID,error:xr,finished:!1})}}function Ke(dr){var xr;(dr=dr||{}).chunkSize||(dr.chunkSize=He.RemoteChunkSize),We.call(this,dr),this._nextChunk=ke?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(Rr){this._input=Rr,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(xr=new XMLHttpRequest,this._config.withCredentials&&(xr.withCredentials=this._config.withCredentials),ke||(xr.onload=jr(this._chunkLoaded,this),xr.onerror=jr(this._chunkError,this)),xr.open(this._config.downloadRequestBody?"POST":"GET",this._input,!ke),this._config.downloadRequestHeaders){var Rr,Xe=this._config.downloadRequestHeaders;for(Rr in Xe)xr.setRequestHeader(Rr,Xe[Rr])}var Pe;this._config.chunkSize&&(Pe=this._start+this._config.chunkSize-1,xr.setRequestHeader("Range","bytes="+this._start+"-"+Pe));try{xr.send(this._config.downloadRequestBody)}catch(Fe){this._chunkError(Fe.message)}ke&&xr.status===0&&this._chunkError()}},this._chunkLoaded=function(){xr.readyState===4&&(xr.status<200||400<=xr.status?this._chunkError():(this._start+=this._config.chunkSize||xr.responseText.length,this._finished=!this._config.chunkSize||this._start>=(Rr=>(Rr=Rr.getResponseHeader("Content-Range"))!==null?parseInt(Rr.substring(Rr.lastIndexOf("/")+1)):-1)(xr),this.parseChunk(xr.responseText)))},this._chunkError=function(Rr){Rr=xr.statusText||Rr,this._sendError(new Error(Rr))}}function Je(dr){(dr=dr||{}).chunkSize||(dr.chunkSize=He.LocalChunkSize),We.call(this,dr);var xr,Rr,Xe=typeof FileReader<"u";this.stream=function(Pe){this._input=Pe,Rr=Pe.slice||Pe.webkitSlice||Pe.mozSlice,Xe?((xr=new FileReader).onload=jr(this._chunkLoaded,this),xr.onerror=jr(this._chunkError,this)):xr=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var Pe=this._input,Fe=(this._config.chunkSize&&(Fe=Math.min(this._start+this._config.chunkSize,this._input.size),Pe=Rr.call(Pe,this._start,Fe)),xr.readAsText(Pe,this._config.encoding));Xe||this._chunkLoaded({target:{result:Fe}})},this._chunkLoaded=function(Pe){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(Pe.target.result)},this._chunkError=function(){this._sendError(xr.error)}}function Qe(dr){var xr;We.call(this,dr=dr||{}),this.stream=function(Rr){return xr=Rr,this._nextChunk()},this._nextChunk=function(){var Rr,Xe;if(!this._finished)return Rr=this._config.chunkSize,xr=Rr?(Xe=xr.substring(0,Rr),xr.substring(Rr)):(Xe=xr,""),this._finished=!xr,this.parseChunk(Xe)}}function rr(dr){We.call(this,dr=dr||{});var xr=[],Rr=!0,Xe=!1;this.pause=function(){We.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){We.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(Pe){this._input=Pe,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){Xe&&xr.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),xr.length?this.parseChunk(xr.shift()):Rr=!0},this._streamData=jr(function(Pe){try{xr.push(typeof Pe=="string"?Pe:Pe.toString(this._config.encoding)),Rr&&(Rr=!1,this._checkIsFinished(),this.parseChunk(xr.shift()))}catch(Fe){this._streamError(Fe)}},this),this._streamError=jr(function(Pe){this._streamCleanUp(),this._sendError(Pe)},this),this._streamEnd=jr(function(){this._streamCleanUp(),Xe=!0,this._streamData("")},this),this._streamCleanUp=jr(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function tr(dr){var xr,Rr,Xe,Pe,Fe=Math.pow(2,53),ze=-Fe,Ue=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,Ge=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,Ze=this,er=0,Ve=0,Ie=!1,Ye=!1,ir=[],lr={data:[],errors:[],meta:{}};function br(Nr){return dr.skipEmptyLines==="greedy"?Nr.join("").trim()==="":Nr.length===1&&Nr[0].length===0}function _r(){if(lr&&Xe&&(wr("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+He.DefaultDelimiter+"'"),Xe=!1),dr.skipEmptyLines&&(lr.data=lr.data.filter(function(Xr){return!br(Xr)})),Sr()){let Xr=function(Ur,Gr){vr(dr.transformHeader)&&(Ur=dr.transformHeader(Ur,Gr)),ir.push(Ur)};if(lr)if(Array.isArray(lr.data[0])){for(var Nr=0;Sr()&&Nr<lr.data.length;Nr++)lr.data[Nr].forEach(Xr);lr.data.splice(0,1)}else lr.data.forEach(Xr)}function kr(Xr,Ur){for(var Gr=dr.header?{}:[],Ts=0;Ts<Xr.length;Ts++){var Br=Ts,Cr=Xr[Ts],Cr=((qs,$r)=>(Tr=>(dr.dynamicTypingFunction&&dr.dynamicTyping[Tr]===void 0&&(dr.dynamicTyping[Tr]=dr.dynamicTypingFunction(Tr)),(dr.dynamicTyping[Tr]||dr.dynamicTyping)===!0))(qs)?$r==="true"||$r==="TRUE"||$r!=="false"&&$r!=="FALSE"&&((Tr=>{if(Ue.test(Tr)&&(Tr=parseFloat(Tr),ze<Tr&&Tr<Fe))return 1})($r)?parseFloat($r):Ge.test($r)?new Date($r):$r===""?null:$r):$r)(Br=dr.header?Ts>=ir.length?"__parsed_extra":ir[Ts]:Br,Cr=dr.transform?dr.transform(Cr,Br):Cr);Br==="__parsed_extra"?(Gr[Br]=Gr[Br]||[],Gr[Br].push(Cr)):Gr[Br]=Cr}return dr.header&&(Ts>ir.length?wr("FieldMismatch","TooManyFields","Too many fields: expected "+ir.length+" fields but parsed "+Ts,Ve+Ur):Ts<ir.length&&wr("FieldMismatch","TooFewFields","Too few fields: expected "+ir.length+" fields but parsed "+Ts,Ve+Ur)),Gr}var Lr;lr&&(dr.header||dr.dynamicTyping||dr.transform)&&(Lr=1,!lr.data.length||Array.isArray(lr.data[0])?(lr.data=lr.data.map(kr),Lr=lr.data.length):lr.data=kr(lr.data,0),dr.header&&lr.meta&&(lr.meta.fields=ir),Ve+=Lr)}function Sr(){return dr.header&&ir.length===0}function wr(Nr,kr,Lr,Xr){Nr={type:Nr,code:kr,message:Lr},Xr!==void 0&&(Nr.row=Xr),lr.errors.push(Nr)}vr(dr.step)&&(Pe=dr.step,dr.step=function(Nr){lr=Nr,Sr()?_r():(_r(),lr.data.length!==0&&(er+=Nr.data.length,dr.preview&&er>dr.preview?Rr.abort():(lr.data=lr.data[0],Pe(lr,Ze))))}),this.parse=function(Nr,kr,Lr){var Xr=dr.quoteChar||'"',Xr=(dr.newline||(dr.newline=this.guessLineEndings(Nr,Xr)),Xe=!1,dr.delimiter?vr(dr.delimiter)&&(dr.delimiter=dr.delimiter(Nr),lr.meta.delimiter=dr.delimiter):((Xr=((Ur,Gr,Ts,Br,Cr)=>{var qs,$r,Tr,Kr;Cr=Cr||[",","	","|",";",He.RECORD_SEP,He.UNIT_SEP];for(var qr=0;qr<Cr.length;qr++){for(var Hr,ss=Cr[qr],Vr=0,Zr=0,Is=0,Jr=(Tr=void 0,new or({comments:Br,delimiter:ss,newline:Gr,preview:10}).parse(Ur)),cs=0;cs<Jr.data.length;cs++)Ts&&br(Jr.data[cs])?Is++:(Hr=Jr.data[cs].length,Zr+=Hr,Tr===void 0?Tr=Hr:0<Hr&&(Vr+=Math.abs(Hr-Tr),Tr=Hr));0<Jr.data.length&&(Zr/=Jr.data.length-Is),($r===void 0||Vr<=$r)&&(Kr===void 0||Kr<Zr)&&1.99<Zr&&($r=Vr,qs=ss,Kr=Zr)}return{successful:!!(dr.delimiter=qs),bestDelimiter:qs}})(Nr,dr.newline,dr.skipEmptyLines,dr.comments,dr.delimitersToGuess)).successful?dr.delimiter=Xr.bestDelimiter:(Xe=!0,dr.delimiter=He.DefaultDelimiter),lr.meta.delimiter=dr.delimiter),gr(dr));return dr.preview&&dr.header&&Xr.preview++,xr=Nr,Rr=new or(Xr),lr=Rr.parse(xr,kr,Lr),_r(),Ie?{meta:{paused:!0}}:lr||{meta:{paused:!1}}},this.paused=function(){return Ie},this.pause=function(){Ie=!0,Rr.abort(),xr=vr(dr.chunk)?"":xr.substring(Rr.getCharIndex())},this.resume=function(){Ze.streamer._halted?(Ie=!1,Ze.streamer.parseChunk(xr,!0)):setTimeout(Ze.resume,3)},this.aborted=function(){return Ye},this.abort=function(){Ye=!0,Rr.abort(),lr.meta.aborted=!0,vr(dr.complete)&&dr.complete(lr),xr=""},this.guessLineEndings=function(Ur,Xr){Ur=Ur.substring(0,1048576);var Xr=new RegExp(cr(Xr)+"([^]*?)"+cr(Xr),"gm"),Lr=(Ur=Ur.replace(Xr,"")).split("\r"),Xr=Ur.split(`
`),Ur=1<Xr.length&&Xr[0].length<Lr[0].length;if(Lr.length===1||Ur)return`
`;for(var Gr=0,Ts=0;Ts<Lr.length;Ts++)Lr[Ts][0]===`
`&&Gr++;return Gr>=Lr.length/2?`\r
`:"\r"}}function cr(dr){return dr.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function or(dr){var xr=(dr=dr||{}).delimiter,Rr=dr.newline,Xe=dr.comments,Pe=dr.step,Fe=dr.preview,ze=dr.fastMode,Ue=null,Ge=!1,Ze=dr.quoteChar==null?'"':dr.quoteChar,er=Ze;if(dr.escapeChar!==void 0&&(er=dr.escapeChar),(typeof xr!="string"||-1<He.BAD_DELIMITERS.indexOf(xr))&&(xr=","),Xe===xr)throw new Error("Comment character same as delimiter");Xe===!0?Xe="#":(typeof Xe!="string"||-1<He.BAD_DELIMITERS.indexOf(Xe))&&(Xe=!1),Rr!==`
`&&Rr!=="\r"&&Rr!==`\r
`&&(Rr=`
`);var Ve=0,Ie=!1;this.parse=function(Ye,ir,lr){if(typeof Ye!="string")throw new Error("Input must be a string");var br=Ye.length,_r=xr.length,Sr=Rr.length,wr=Xe.length,Nr=vr(Pe),kr=[],Lr=[],Xr=[],Ur=Ve=0;if(!Ye)return Vr();if(ze||ze!==!1&&Ye.indexOf(Ze)===-1){for(var Gr=Ye.split(Rr),Ts=0;Ts<Gr.length;Ts++){if(Xr=Gr[Ts],Ve+=Xr.length,Ts!==Gr.length-1)Ve+=Rr.length;else if(lr)return Vr();if(!Xe||Xr.substring(0,wr)!==Xe){if(Nr){if(kr=[],Kr(Xr.split(xr)),Zr(),Ie)return Vr()}else Kr(Xr.split(xr));if(Fe&&Fe<=Ts)return kr=kr.slice(0,Fe),Vr(!0)}}return Vr()}for(var Br=Ye.indexOf(xr,Ve),Cr=Ye.indexOf(Rr,Ve),qs=new RegExp(cr(er)+cr(Ze),"g"),$r=Ye.indexOf(Ze,Ve);;)if(Ye[Ve]===Ze)for($r=Ve,Ve++;;){if(($r=Ye.indexOf(Ze,$r+1))===-1)return lr||Lr.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:kr.length,index:Ve}),Hr();if($r===br-1)return Hr(Ye.substring(Ve,$r).replace(qs,Ze));if(Ze===er&&Ye[$r+1]===er)$r++;else if(Ze===er||$r===0||Ye[$r-1]!==er){Br!==-1&&Br<$r+1&&(Br=Ye.indexOf(xr,$r+1));var Tr=qr((Cr=Cr!==-1&&Cr<$r+1?Ye.indexOf(Rr,$r+1):Cr)===-1?Br:Math.min(Br,Cr));if(Ye.substr($r+1+Tr,_r)===xr){Xr.push(Ye.substring(Ve,$r).replace(qs,Ze)),Ye[Ve=$r+1+Tr+_r]!==Ze&&($r=Ye.indexOf(Ze,Ve)),Br=Ye.indexOf(xr,Ve),Cr=Ye.indexOf(Rr,Ve);break}if(Tr=qr(Cr),Ye.substring($r+1+Tr,$r+1+Tr+Sr)===Rr){if(Xr.push(Ye.substring(Ve,$r).replace(qs,Ze)),ss($r+1+Tr+Sr),Br=Ye.indexOf(xr,Ve),$r=Ye.indexOf(Ze,Ve),Nr&&(Zr(),Ie))return Vr();if(Fe&&kr.length>=Fe)return Vr(!0);break}Lr.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:kr.length,index:Ve}),$r++}}else if(Xe&&Xr.length===0&&Ye.substring(Ve,Ve+wr)===Xe){if(Cr===-1)return Vr();Ve=Cr+Sr,Cr=Ye.indexOf(Rr,Ve),Br=Ye.indexOf(xr,Ve)}else if(Br!==-1&&(Br<Cr||Cr===-1))Xr.push(Ye.substring(Ve,Br)),Ve=Br+_r,Br=Ye.indexOf(xr,Ve);else{if(Cr===-1)break;if(Xr.push(Ye.substring(Ve,Cr)),ss(Cr+Sr),Nr&&(Zr(),Ie))return Vr();if(Fe&&kr.length>=Fe)return Vr(!0)}return Hr();function Kr(Is){kr.push(Is),Ur=Ve}function qr(Is){var Jr=0;return Jr=Is!==-1&&(Is=Ye.substring($r+1,Is))&&Is.trim()===""?Is.length:Jr}function Hr(Is){return lr||(Is===void 0&&(Is=Ye.substring(Ve)),Xr.push(Is),Ve=br,Kr(Xr),Nr&&Zr()),Vr()}function ss(Is){Ve=Is,Kr(Xr),Xr=[],Cr=Ye.indexOf(Rr,Ve)}function Vr(Is){if(dr.header&&!ir&&kr.length&&!Ge){var Jr=kr[0],cs={},zs=new Set(Jr);let ns=!1;for(let Qr=0;Qr<Jr.length;Qr++){let Zs=Jr[Qr];if(cs[Zs=vr(dr.transformHeader)?dr.transformHeader(Zs,Qr):Zs]){let os,_s=cs[Zs];for(;os=Zs+"_"+_s,_s++,zs.has(os););zs.add(os),Jr[Qr]=os,cs[Zs]++,ns=!0,(Ue=Ue===null?{}:Ue)[os]=Zs}else cs[Zs]=1,Jr[Qr]=Zs;zs.add(Zs)}ns&&console.warn("Duplicate headers found and renamed."),Ge=!0}return{data:kr,errors:Lr,meta:{delimiter:xr,linebreak:Rr,aborted:Ie,truncated:!!Is,cursor:Ur+(ir||0),renamedHeaders:Ue}}}function Zr(){Pe(Vr()),kr=[],Lr=[]}},this.abort=function(){Ie=!0},this.getCharIndex=function(){return Ve}}function ar(dr){var xr=dr.data,Rr=Be[xr.workerId],Xe=!1;if(xr.error)Rr.userError(xr.error,xr.file);else if(xr.results&&xr.results.data){var Pe={abort:function(){Xe=!0,pr(xr.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:ur,resume:ur};if(vr(Rr.userStep)){for(var Fe=0;Fe<xr.results.data.length&&(Rr.userStep({data:xr.results.data[Fe],errors:xr.results.errors,meta:xr.results.meta},Pe),!Xe);Fe++);delete xr.results}else vr(Rr.userChunk)&&(Rr.userChunk(xr.results,Pe,xr.file),delete xr.results)}xr.finished&&!Xe&&pr(xr.workerId,xr.results)}function pr(dr,xr){var Rr=Be[dr];vr(Rr.userComplete)&&Rr.userComplete(xr),Rr.terminate(),delete Be[dr]}function ur(){throw new Error("Not implemented.")}function gr(dr){if(typeof dr!="object"||dr===null)return dr;var xr,Rr=Array.isArray(dr)?[]:{};for(xr in dr)Rr[xr]=gr(dr[xr]);return Rr}function jr(dr,xr){return function(){dr.apply(xr,arguments)}}function vr(dr){return typeof dr=="function"}return He.parse=function(dr,xr){var Rr=(xr=xr||{}).dynamicTyping||!1;if(vr(Rr)&&(xr.dynamicTypingFunction=Rr,Rr={}),xr.dynamicTyping=Rr,xr.transform=!!vr(xr.transform)&&xr.transform,!xr.worker||!He.WORKERS_SUPPORTED)return Rr=null,He.NODE_STREAM_INPUT,typeof dr=="string"?(dr=(Xe=>Xe.charCodeAt(0)!==65279?Xe:Xe.slice(1))(dr),Rr=new(xr.download?Ke:Qe)(xr)):dr.readable===!0&&vr(dr.read)&&vr(dr.on)?Rr=new rr(xr):(Me.File&&dr instanceof File||dr instanceof Object)&&(Rr=new Je(xr)),Rr.stream(dr);(Rr=(()=>{var Xe;return!!He.WORKERS_SUPPORTED&&(Xe=(()=>{var Pe=Me.URL||Me.webkitURL||null,Fe=_e.toString();return He.BLOB_URL||(He.BLOB_URL=Pe.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",Fe,")();"],{type:"text/javascript"})))})(),(Xe=new Me.Worker(Xe)).onmessage=ar,Xe.id=qe++,Be[Xe.id]=Xe)})()).userStep=xr.step,Rr.userChunk=xr.chunk,Rr.userComplete=xr.complete,Rr.userError=xr.error,xr.step=vr(xr.step),xr.chunk=vr(xr.chunk),xr.complete=vr(xr.complete),xr.error=vr(xr.error),delete xr.worker,Rr.postMessage({input:dr,config:xr,workerId:Rr.id})},He.unparse=function(dr,xr){var Rr=!1,Xe=!0,Pe=",",Fe=`\r
`,ze='"',Ue=ze+ze,Ge=!1,Ze=null,er=!1,Ve=((()=>{if(typeof xr=="object"){if(typeof xr.delimiter!="string"||He.BAD_DELIMITERS.filter(function(ir){return xr.delimiter.indexOf(ir)!==-1}).length||(Pe=xr.delimiter),typeof xr.quotes!="boolean"&&typeof xr.quotes!="function"&&!Array.isArray(xr.quotes)||(Rr=xr.quotes),typeof xr.skipEmptyLines!="boolean"&&typeof xr.skipEmptyLines!="string"||(Ge=xr.skipEmptyLines),typeof xr.newline=="string"&&(Fe=xr.newline),typeof xr.quoteChar=="string"&&(ze=xr.quoteChar),typeof xr.header=="boolean"&&(Xe=xr.header),Array.isArray(xr.columns)){if(xr.columns.length===0)throw new Error("Option columns is empty");Ze=xr.columns}xr.escapeChar!==void 0&&(Ue=xr.escapeChar+ze),xr.escapeFormulae instanceof RegExp?er=xr.escapeFormulae:typeof xr.escapeFormulae=="boolean"&&xr.escapeFormulae&&(er=/^[=+\-@\t\r].*$/)}})(),new RegExp(cr(ze),"g"));if(typeof dr=="string"&&(dr=JSON.parse(dr)),Array.isArray(dr)){if(!dr.length||Array.isArray(dr[0]))return Ie(null,dr,Ge);if(typeof dr[0]=="object")return Ie(Ze||Object.keys(dr[0]),dr,Ge)}else if(typeof dr=="object")return typeof dr.data=="string"&&(dr.data=JSON.parse(dr.data)),Array.isArray(dr.data)&&(dr.fields||(dr.fields=dr.meta&&dr.meta.fields||Ze),dr.fields||(dr.fields=Array.isArray(dr.data[0])?dr.fields:typeof dr.data[0]=="object"?Object.keys(dr.data[0]):[]),Array.isArray(dr.data[0])||typeof dr.data[0]=="object"||(dr.data=[dr.data])),Ie(dr.fields||[],dr.data||[],Ge);throw new Error("Unable to serialize unrecognized input");function Ie(ir,lr,br){var _r="",Sr=(typeof ir=="string"&&(ir=JSON.parse(ir)),typeof lr=="string"&&(lr=JSON.parse(lr)),Array.isArray(ir)&&0<ir.length),wr=!Array.isArray(lr[0]);if(Sr&&Xe){for(var Nr=0;Nr<ir.length;Nr++)0<Nr&&(_r+=Pe),_r+=Ye(ir[Nr],Nr);0<lr.length&&(_r+=Fe)}for(var kr=0;kr<lr.length;kr++){var Lr=(Sr?ir:lr[kr]).length,Xr=!1,Ur=Sr?Object.keys(lr[kr]).length===0:lr[kr].length===0;if(br&&!Sr&&(Xr=br==="greedy"?lr[kr].join("").trim()==="":lr[kr].length===1&&lr[kr][0].length===0),br==="greedy"&&Sr){for(var Gr=[],Ts=0;Ts<Lr;Ts++){var Br=wr?ir[Ts]:Ts;Gr.push(lr[kr][Br])}Xr=Gr.join("").trim()===""}if(!Xr){for(var Cr=0;Cr<Lr;Cr++){0<Cr&&!Ur&&(_r+=Pe);var qs=Sr&&wr?ir[Cr]:Cr;_r+=Ye(lr[kr][qs],Cr)}kr<lr.length-1&&(!br||0<Lr&&!Ur)&&(_r+=Fe)}}return _r}function Ye(ir,lr){var br,_r;return ir==null?"":ir.constructor===Date?JSON.stringify(ir).slice(1,25):(_r=!1,er&&typeof ir=="string"&&er.test(ir)&&(ir="'"+ir,_r=!0),br=ir.toString().replace(Ve,Ue),(_r=_r||Rr===!0||typeof Rr=="function"&&Rr(ir,lr)||Array.isArray(Rr)&&Rr[lr]||((Sr,wr)=>{for(var Nr=0;Nr<wr.length;Nr++)if(-1<Sr.indexOf(wr[Nr]))return!0;return!1})(br,He.BAD_DELIMITERS)||-1<br.indexOf(Pe)||br.charAt(0)===" "||br.charAt(br.length-1)===" ")?ze+br+ze:br)}},He.RECORD_SEP="",He.UNIT_SEP="",He.BYTE_ORDER_MARK="\uFEFF",He.BAD_DELIMITERS=["\r",`
`,'"',He.BYTE_ORDER_MARK],He.WORKERS_SUPPORTED=!ke&&!!Me.Worker,He.NODE_STREAM_INPUT=1,He.LocalChunkSize=10485760,He.RemoteChunkSize=5242880,He.DefaultDelimiter=",",He.Parser=or,He.ParserHandle=tr,He.NetworkStreamer=Ke,He.FileStreamer=Je,He.StringStreamer=Qe,He.ReadableStreamStreamer=rr,Me.jQuery&&(($e=Me.jQuery).fn.parse=function(dr){var xr=dr.config||{},Rr=[];return this.each(function(Fe){if(!($e(this).prop("tagName").toUpperCase()==="INPUT"&&$e(this).attr("type").toLowerCase()==="file"&&Me.FileReader)||!this.files||this.files.length===0)return!0;for(var ze=0;ze<this.files.length;ze++)Rr.push({file:this.files[ze],inputElem:this,instanceConfig:$e.extend({},xr)})}),Xe(),this;function Xe(){if(Rr.length===0)vr(dr.complete)&&dr.complete();else{var Fe,ze,Ue,Ge,Ze=Rr[0];if(vr(dr.before)){var er=dr.before(Ze.file,Ze.inputElem);if(typeof er=="object"){if(er.action==="abort")return Fe="AbortError",ze=Ze.file,Ue=Ze.inputElem,Ge=er.reason,void(vr(dr.error)&&dr.error({name:Fe},ze,Ue,Ge));if(er.action==="skip")return void Pe();typeof er.config=="object"&&(Ze.instanceConfig=$e.extend(Ze.instanceConfig,er.config))}else if(er==="skip")return void Pe()}var Ve=Ze.instanceConfig.complete;Ze.instanceConfig.complete=function(Ie){vr(Ve)&&Ve(Ie,Ze.file,Ze.inputElem),Pe()},He.parse(Ze.file,Ze.instanceConfig)}}function Pe(){Rr.splice(0,1),Xe()}}),Ce&&(Me.onmessage=function(dr){dr=dr.data,He.WORKER_ID===void 0&&dr&&(He.WORKER_ID=dr.workerId),typeof dr.input=="string"?Me.postMessage({workerId:He.WORKER_ID,results:He.parse(dr.input,dr.config),finished:!0}):(Me.File&&dr.input instanceof File||dr.input instanceof Object)&&(dr=He.parse(dr.input,dr.config))&&Me.postMessage({workerId:He.WORKER_ID,results:dr,finished:!0})}),(Ke.prototype=Object.create(We.prototype)).constructor=Ke,(Je.prototype=Object.create(We.prototype)).constructor=Je,(Qe.prototype=Object.create(Qe.prototype)).constructor=Qe,(rr.prototype=Object.create(We.prototype)).constructor=rr,He})})(papaparse_min);var papaparse_minExports=papaparse_min.exports;const Papa=getDefaultExportFromCjs(papaparse_minExports),Products=()=>{const{products:Re,loading:je,error:_e,fetchProducts:Me,deleteProduct:$e}=useProductStore(),[ke,Ce]=reactExports.useState(""),[Be,qe]=reactExports.useState([]),[He,We]=reactExports.useState("all"),[Ke,Je]=reactExports.useState("all"),[Qe,rr]=reactExports.useState(null);useProductStore(),reactExports.useEffect(()=>{Me().catch(dr=>{c$1.error("Failed to load products")})},[Me]);const[tr,cr]=reactExports.useState(!1),or=["all",...new Set(Re.map(dr=>dr.category||"Uncategorized").filter(Boolean))],ar=Re.filter(dr=>{const xr=dr.name?.toLowerCase().includes(ke.toLowerCase())||dr.sku?.toLowerCase().includes(ke.toLowerCase())||dr.description?.toLowerCase().includes(ke.toLowerCase())||dr.category?.toLowerCase().includes(ke.toLowerCase()),Rr=He==="all"||dr.category===He||He==="Uncategorized"&&!dr.category,Xe=Ke==="all"||dr.status===Ke;return xr&&Rr&&Xe}),pr=()=>{Be.length===ar.length?qe([]):qe(ar.map(dr=>dr.id))},ur=dr=>{Be.includes(dr)?qe(Be.filter(xr=>xr!==dr)):qe([...Be,dr])},gr=async dr=>{rr(dr)},jr=async()=>{if(Qe)try{await $e(Qe),c$1.success("Product deleted successfully")}catch{c$1.error("Failed to delete product")}},vr=async dr=>{const xr=dr.target.files?.[0];if(xr){cr(!0);try{const Rr=await xr.text();Papa.parse(Rr,{header:!0,skipEmptyLines:!0,complete:async Xe=>{const{data:Pe,errors:Fe}=Xe;if(Fe.length>0){c$1.error("Error parsing CSV file"),console.error("CSV parsing errors:",Fe);return}let ze=0,Ue=0;for(const Ge of Pe)try{const Ze={name:Ge.name||Ge.product_name,sku:Ge.sku||Ge.product_sku,description:Ge.description,price:parseFloat(Ge.price)||0,cost:parseFloat(Ge.cost)||0,stock:parseInt(Ge.stock)||0,category:Ge.category};if(!Ze.name||!Ze.sku)throw new Error("Name and SKU are required");await createProduct(Ze),ze++}catch(Ze){console.error("Error importing product:",Ze),Ue++}c$1.success(`Imported ${ze} products successfully${Ue>0?` (${Ue} failed)`:""}`),Me()},error:Xe=>{console.error("CSV parsing error:",Xe),c$1.error("Failed to parse CSV file")}})}catch(Rr){console.error("File upload error:",Rr),c$1.error("Failed to upload file")}finally{cr(!1),dr.target.value=""}}};return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-white",children:"Products"}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-2",children:[jsxRuntimeExports.jsxs("div",{className:"relative hidden md:block",children:[jsxRuntimeExports.jsx("input",{type:"file",accept:".csv",onChange:vr,className:"hidden",id:"csv-upload",disabled:tr}),jsxRuntimeExports.jsxs("label",{htmlFor:"csv-upload",className:"btn btn-secondary flex items-center space-x-2 cursor-pointer",children:[jsxRuntimeExports.jsx(Upload,{size:16,className:tr?"animate-bounce":""}),jsxRuntimeExports.jsx("span",{children:tr?"Importing...":"Import CSV"})]})]}),jsxRuntimeExports.jsxs(Link,{to:"/products/new",className:"btn btn-primary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Package,{size:16}),jsxRuntimeExports.jsx("span",{children:"Add Product"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex-1",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:jsxRuntimeExports.jsx(Search,{size:18,className:"text-gray-400"})}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search products...",className:"input pl-10",value:ke,onChange:dr=>Ce(dr.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs("select",{className:"bg-dark-800 border border-dark-700 text-white rounded-md px-3 py-2",value:He,onChange:dr=>We(dr.target.value),children:[jsxRuntimeExports.jsx("option",{value:"all",children:"All Categories"}),or.filter(dr=>dr!=="all").map(dr=>jsxRuntimeExports.jsx("option",{value:dr,children:dr},dr))]}),jsxRuntimeExports.jsxs("select",{className:"bg-dark-800 border border-dark-700 text-white rounded-md px-3 py-2",value:Ke,onChange:dr=>Je(dr.target.value),children:[jsxRuntimeExports.jsx("option",{value:"all",children:"All Statuses"}),jsxRuntimeExports.jsx("option",{value:"In Stock",children:"In Stock"}),jsxRuntimeExports.jsx("option",{value:"Low Stock",children:"Low Stock"}),jsxRuntimeExports.jsx("option",{value:"Out of Stock",children:"Out of Stock"})]}),jsxRuntimeExports.jsxs("button",{className:"btn btn-secondary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Download,{size:16}),jsxRuntimeExports.jsx("span",{children:"Export"})]})]})]}),_e&&jsxRuntimeExports.jsx("div",{className:"bg-red-900/50 border border-red-800 text-red-300 px-4 py-3 rounded-md",children:_e}),je&&jsxRuntimeExports.jsxs("div",{className:"text-center py-4",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-500 mx-auto"}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-gray-400",children:"Loading products..."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-lg border border-dark-700 overflow-hidden",children:[!je&&ar.length>0?jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"bg-dark-700",children:[jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left",children:jsxRuntimeExports.jsx("div",{className:"flex items-center",children:jsxRuntimeExports.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-600 bg-dark-800 text-primary-600 focus:ring-primary-500",checked:Be.length===ar.length&&ar.length>0,onChange:pr})})}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Product"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Category"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Price"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Cost"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Stock"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"divide-y divide-dark-700",children:ar.map(dr=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-dark-700/50",children:[jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-600 bg-dark-800 text-primary-600 focus:ring-primary-500",checked:Be.includes(dr.id),onChange:()=>ur(dr.id)})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsx("div",{className:"flex items-center",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm font-medium text-white",children:jsxRuntimeExports.jsx(Link,{to:`/products/${dr.id}`,className:"hover:text-primary-400",children:dr.name})}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-400",children:["SKU: ",dr.sku]})]})})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-300",children:dr.category||"Uncategorized"})}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:["$",dr.price?.toFixed(2)||"0.00"]}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:["$",dr.cost?.toFixed(2)||"0.00"]}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:dr.stock||"0"}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${dr.status==="In Stock"?"bg-green-900/30 text-green-400":dr.status==="Low Stock"?"bg-yellow-900/30 text-yellow-400":"bg-red-900/30 text-red-400"}`,children:dr.status})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-right text-sm font-medium",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[jsxRuntimeExports.jsx(Link,{to:`/products/${dr.id}`,className:"text-gray-400 hover:text-white",children:jsxRuntimeExports.jsx(Eye,{size:16})}),jsxRuntimeExports.jsx(Link,{to:`/products/${dr.id}/edit`,className:"text-gray-400 hover:text-white",children:jsxRuntimeExports.jsx(SquarePen,{size:16})}),jsxRuntimeExports.jsx("button",{className:"text-gray-400 hover:text-red-500",onClick:()=>gr(dr.id),children:jsxRuntimeExports.jsx(Trash2,{size:16})})]})})]},dr.id))})]})}):!je&&jsxRuntimeExports.jsx("div",{className:"text-center py-12",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center",children:[jsxRuntimeExports.jsx(Package,{size:48,className:"text-gray-600 mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-lg mb-2",children:"No products found"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Get started by adding your first product"}),jsxRuntimeExports.jsxs(Link,{to:"/products/new",className:"btn btn-primary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Package,{size:16}),jsxRuntimeExports.jsx("span",{children:"Add Product"})]})]})}),ar.length>0&&jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 px-4 py-3 flex items-center justify-between border-t border-dark-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[jsxRuntimeExports.jsx("button",{className:"btn btn-secondary",children:"Previous"}),jsxRuntimeExports.jsx("button",{className:"btn btn-secondary",children:"Next"})]}),jsxRuntimeExports.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-400",children:["Showing ",jsxRuntimeExports.jsx("span",{className:"font-medium",children:"1"})," to ",jsxRuntimeExports.jsx("span",{className:"font-medium",children:ar.length})," of"," ",jsxRuntimeExports.jsx("span",{className:"font-medium",children:ar.length})," results"]})}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[jsxRuntimeExports.jsxs("button",{className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-dark-600 bg-dark-700 text-sm font-medium text-gray-400 hover:bg-dark-600",children:[jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Previous"}),jsxRuntimeExports.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),jsxRuntimeExports.jsx("button",{className:"relative inline-flex items-center px-4 py-2 border border-dark-600 bg-dark-700 text-sm font-medium text-gray-400 hover:bg-dark-600",children:"1"}),jsxRuntimeExports.jsxs("button",{className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-dark-600 bg-dark-700 text-sm font-medium text-gray-400 hover:bg-dark-600",children:[jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Next"}),jsxRuntimeExports.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})})]})]})]}),jsxRuntimeExports.jsx(ConfirmationModal,{isOpen:!!Qe,onClose:()=>rr(null),onConfirm:jr,title:"Delete item?",message:"Are you sure?",confirmButtonText:"Delete",cancelButtonText:"Cancel",isDanger:!0})]})},NewProduct=()=>{const Re=useNavigate(),{createProduct:je,loading:_e,error:Me,clearError:$e}=useProductStore(),{register:ke,handleSubmit:Ce,formState:{errors:Be}}=useForm({defaultValues:{name:"",sku:"SKU-",description:"",price:0,cost:0,stock:0,category:""}}),qe=async He=>{$e();try{const We=await je(He);c$1.success("Product created successfully!"),Re("/products")}catch(We){console.error("Error creating product:",We),c$1.error("Failed to create product. Please try again.")}};return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsx(Link,{to:"/products",className:"btn btn-secondary p-2",children:jsxRuntimeExports.jsx(ArrowLeft,{size:20})}),jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-white",children:"Add New Product"})]}),Me&&jsxRuntimeExports.jsx("div",{className:"bg-red-900/50 border border-red-800 text-red-300 px-4 py-3 rounded-md",children:Me}),jsxRuntimeExports.jsxs("form",{onSubmit:Ce(qe),className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Basic Information"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-300 mb-1",children:["Product Name ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("input",{id:"name",type:"text",className:"input",placeholder:"Product name",...ke("name",{required:"Product name is required"})}),Be.name&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:Be.name.message})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{htmlFor:"sku",className:"block text-sm font-medium text-gray-300 mb-1",children:["SKU ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("input",{id:"sku",type:"text",className:"input",...ke("sku",{required:"SKU is required",maxLength:{value:20,message:"SKU cannot exceed 20 characters"},validate:{hasPrefix:He=>He.startsWith("SKU-")||'SKU must start with "SKU-"',validLength:He=>He.length-4<=16||"SKU number cannot exceed 16 characters"},onChange:He=>{He.target.value.startsWith("SKU-")||(He.target.value="SKU-"+He.target.value.replace("SKU-","")),He.target.value==="SKU"&&(He.target.value="SKU-")}}),onKeyDown:He=>{(He.key==="Backspace"||He.key==="Delete")&&He.target.value.length<=4&&He.preventDefault()}}),Be.sku&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:Be.sku.message})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-300 mb-1",children:"Category"}),jsxRuntimeExports.jsx("input",{id:"category",type:"text",className:"input",placeholder:"Category",...ke("category")})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-300 mb-1",children:"Description"}),jsxRuntimeExports.jsx("textarea",{id:"description",rows:4,className:"input",placeholder:"Product description",...ke("description")})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Pricing & Inventory"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-300 mb-1",children:["Selling Price ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:jsxRuntimeExports.jsx("span",{className:"text-gray-400",children:"$"})}),jsxRuntimeExports.jsx("input",{id:"price",type:"number",step:"0.01",min:"0",className:"input pl-8",placeholder:"0.00",...ke("price",{required:"Price is required",min:{value:0,message:"Price cannot be negative"},valueAsNumber:!0})})]}),Be.price&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:Be.price.message})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"cost",className:"block text-sm font-medium text-gray-300 mb-1",children:"Cost Price"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:jsxRuntimeExports.jsx("span",{className:"text-gray-400",children:"$"})}),jsxRuntimeExports.jsx("input",{id:"cost",type:"number",step:"0.01",min:"0",className:"input pl-8",placeholder:"0.00",...ke("cost",{min:{value:0,message:"Cost cannot be negative"},valueAsNumber:!0})})]}),Be.cost&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:Be.cost.message})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"stock",className:"block text-sm font-medium text-gray-300 mb-1",children:"Initial Stock"}),jsxRuntimeExports.jsx("input",{id:"stock",type:"number",min:"0",step:"1",className:"input",placeholder:"0",...ke("stock",{min:{value:0,message:"Stock cannot be negative"},valueAsNumber:!0})}),Be.stock&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:Be.stock.message})]}),jsxRuntimeExports.jsxs("div",{className:"pt-4",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Stock Status"}),jsxRuntimeExports.jsx("div",{className:"flex items-center space-x-2",children:jsxRuntimeExports.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-900/30 text-green-400",children:"Will be set automatically based on stock level"})})]})]})]})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-end",children:jsxRuntimeExports.jsx("button",{type:"submit",className:"btn btn-primary flex items-center space-x-2",disabled:_e,children:_e?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white"}),jsxRuntimeExports.jsx("span",{children:"Saving..."})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Save,{size:16}),jsxRuntimeExports.jsx("span",{children:"Save Product"})]})})})]})]})},ProductDetail=()=>{const{id:Re}=useParams(),je=useNavigate(),{getProductById:_e,deleteProduct:Me,updateStock:$e,loading:ke,error:Ce}=useProductStore(),[Be,qe]=reactExports.useState(null),[He,We]=reactExports.useState(0),[Ke,Je]=reactExports.useState(!1),[Qe,rr]=reactExports.useState(!1);reactExports.useEffect(()=>{Re&&_e(Re).then(ar=>{ar?qe(ar):(c$1.error("Product not found"),je("/products"))}).catch(ar=>{c$1.error("Failed to load product details")})},[Re,_e,je]);const tr=async()=>{rr(!0)},cr=async()=>{if(Re)try{await Me(Re),c$1.success("Product deleted successfully"),je("/products")}catch{c$1.error("Failed to delete product")}},or=async()=>{if(!(!Re||!He))try{const ar=await $e(Re,He);qe(ar),c$1.success(`Stock ${He>0?"increased":"decreased"} successfully`),We(0),Je(!1)}catch{c$1.error("Failed to adjust stock")}};return ke?jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500 mx-auto"}),jsxRuntimeExports.jsx("p",{className:"mt-4 text-gray-400",children:"Loading product details..."})]}):Ce?jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx("p",{className:"text-red-400 text-lg",children:Ce}),jsxRuntimeExports.jsx(Link,{to:"/products",className:"btn btn-primary mt-4",children:"Back to Products"})]}):Be?jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsx(Link,{to:"/products",className:"btn btn-secondary p-2",children:jsxRuntimeExports.jsx(ArrowLeft,{size:20})}),jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-white",children:Be.name})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2",children:[jsxRuntimeExports.jsxs(Link,{to:`/products/${Re}/edit`,className:"btn btn-primary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(SquarePen,{size:16}),jsxRuntimeExports.jsx("span",{children:"Edit Product"})]}),jsxRuntimeExports.jsxs("button",{className:"btn btn-secondary flex items-center space-x-2",onClick:()=>Je(!Ke),children:[jsxRuntimeExports.jsx(Layers,{size:16}),jsxRuntimeExports.jsx("span",{children:"Adjust Stock"})]}),jsxRuntimeExports.jsxs("button",{className:"btn btn-danger flex items-center space-x-2",onClick:tr,children:[jsxRuntimeExports.jsx(Trash2,{size:16}),jsxRuntimeExports.jsx("span",{children:"Delete"})]})]}),Ke&&jsxRuntimeExports.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Adjust Stock"}),jsxRuntimeExports.jsx("div",{className:"space-y-4",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"adjustQuantity",className:"block text-sm font-medium text-gray-300 mb-1",children:"Quantity Change"}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-2",children:[jsxRuntimeExports.jsx("input",{id:"adjustQuantity",type:"number",className:"input",value:He,onChange:ar=>We(parseInt(ar.target.value)),placeholder:"Enter quantity (positive to add, negative to remove)"}),jsxRuntimeExports.jsx("button",{className:"btn btn-primary",onClick:or,disabled:!He,children:"Apply"})]}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-gray-400",children:"Use positive numbers to add stock, negative to remove."})]})})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Product Information"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"text-gray-400",children:jsxRuntimeExports.jsx(Package,{size:18})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Name"}),jsxRuntimeExports.jsx("p",{className:"text-white",children:Be.name})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"text-gray-400",children:jsxRuntimeExports.jsx(Tag,{size:18})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"SKU"}),jsxRuntimeExports.jsx("p",{className:"text-white",children:Be.sku})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"text-gray-400",children:jsxRuntimeExports.jsx(Layers,{size:18})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Category"}),jsxRuntimeExports.jsx("p",{className:"text-white",children:Be.category||"Uncategorized"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"text-gray-400",children:jsxRuntimeExports.jsx(AlertCircle,{size:18})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Status"}),jsxRuntimeExports.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Be.status==="In Stock"?"bg-green-900/30 text-green-400":Be.status==="Low Stock"?"bg-yellow-900/30 text-yellow-400":"bg-red-900/30 text-red-400"}`,children:Be.status})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-md font-medium text-white mb-2",children:"Description"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 text-sm",children:Be.description||"No description available"})]})]}),jsxRuntimeExports.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Pricing & Inventory"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"bg-dark-700 rounded-md p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-md bg-green-500/20 text-green-500",children:jsxRuntimeExports.jsx(DollarSign,{size:20})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Selling Price"}),jsxRuntimeExports.jsxs("p",{className:"text-xl font-semibold text-white",children:["$",Be.price?.toFixed(2)||"0.00"]})]})]})}),jsxRuntimeExports.jsx("div",{className:"bg-dark-700 rounded-md p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-md bg-blue-500/20 text-blue-500",children:jsxRuntimeExports.jsx(DollarSign,{size:20})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Cost Price"}),jsxRuntimeExports.jsxs("p",{className:"text-xl font-semibold text-white",children:["$",Be.cost?.toFixed(2)||"0.00"]})]})]})}),jsxRuntimeExports.jsx("div",{className:"bg-dark-700 rounded-md p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-md bg-purple-500/20 text-purple-500",children:jsxRuntimeExports.jsx(Layers,{size:20})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Current Stock"}),jsxRuntimeExports.jsxs("p",{className:"text-xl font-semibold text-white",children:[Be.stock||0," units"]})]})]})}),jsxRuntimeExports.jsx("div",{className:"bg-dark-700 rounded-md p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-md bg-yellow-500/20 text-yellow-500",children:jsxRuntimeExports.jsx(ShoppingCart,{size:20})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Stock Value"}),jsxRuntimeExports.jsxs("p",{className:"text-xl font-semibold text-white",children:["$",((Be.stock||0)*(Be.cost||0)).toFixed(2)]})]})]})})]})]})]}),jsxRuntimeExports.jsx(ConfirmationModal,{isOpen:Qe,onClose:()=>rr(!1),onConfirm:cr,title:"Delete item?",message:"Are you sure?",confirmButtonText:"Delete",cancelButtonText:"Cancel",isDanger:!0}),jsxRuntimeExports.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Stock Movement History"}),jsxRuntimeExports.jsx("div",{className:"text-center py-6",children:jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"No stock movement history available yet"})})]})]}):jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-lg",children:"Product not found"}),jsxRuntimeExports.jsx(Link,{to:"/products",className:"btn btn-primary mt-4",children:"Back to Products"})]})},EditProduct=()=>{const{id:Re}=useParams(),je=useNavigate(),{getProductById:_e,updateProduct:Me,loading:$e,error:ke,clearError:Ce}=useProductStore(),[Be,qe]=reactExports.useState(null),{register:He,handleSubmit:We,formState:{errors:Ke},reset:Je}=useForm();reactExports.useEffect(()=>{Re&&_e(Re).then(rr=>{rr?(qe(rr),Je(rr)):(c$1.error("Product not found"),je("/products"))}).catch(rr=>{c$1.error("Failed to load product details")})},[Re,_e,je,Je]);const Qe=async rr=>{if(Re){Ce();try{await Me(Re,rr),c$1.success("Product updated successfully!"),je(`/products/${Re}`)}catch(tr){console.error("Error updating product:",tr),c$1.error("Failed to update product. Please try again.")}}};return $e&&!Be?jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500 mx-auto"}),jsxRuntimeExports.jsx("p",{className:"mt-4 text-gray-400",children:"Loading product details..."})]}):jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsx(Link,{to:`/products/${Re}`,className:"btn btn-secondary p-2",children:jsxRuntimeExports.jsx(ArrowLeft,{size:20})}),jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-white",children:"Edit Product"})]}),ke&&jsxRuntimeExports.jsx("div",{className:"bg-red-900/50 border border-red-800 text-red-300 px-4 py-3 rounded-md",children:ke}),Be&&jsxRuntimeExports.jsxs("form",{onSubmit:We(Qe),className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Basic Information"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-300 mb-1",children:["Product Name ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("input",{id:"name",type:"text",className:"input",placeholder:"Product name",...He("name",{required:"Product name is required"})}),Ke.name&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:Ke.name.message})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{htmlFor:"sku",className:"block text-sm font-medium text-gray-300 mb-1",children:["SKU ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("input",{id:"sku",type:"text",className:"input",placeholder:"SKU-12345",...He("sku",{required:"SKU is required"})}),Ke.sku&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:Ke.sku.message})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-300 mb-1",children:"Category"}),jsxRuntimeExports.jsx("input",{id:"category",type:"text",className:"input",placeholder:"Category",...He("category")})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-300 mb-1",children:"Description"}),jsxRuntimeExports.jsx("textarea",{id:"description",rows:4,className:"input",placeholder:"Product description",...He("description")})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Pricing & Inventory"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-300 mb-1",children:["Selling Price ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:jsxRuntimeExports.jsx("span",{className:"text-gray-400",children:"$"})}),jsxRuntimeExports.jsx("input",{id:"price",type:"number",step:"0.01",min:"0",className:"input pl-8",placeholder:"0.00",...He("price",{required:"Price is required",min:{value:0,message:"Price cannot be negative"},valueAsNumber:!0})})]}),Ke.price&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:Ke.price.message})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"cost",className:"block text-sm font-medium text-gray-300 mb-1",children:"Cost Price"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:jsxRuntimeExports.jsx("span",{className:"text-gray-400",children:"$"})}),jsxRuntimeExports.jsx("input",{id:"cost",type:"number",step:"0.01",min:"0",className:"input pl-8",placeholder:"0.00",...He("cost",{min:{value:0,message:"Cost cannot be negative"},valueAsNumber:!0})})]}),Ke.cost&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:Ke.cost.message})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"stock",className:"block text-sm font-medium text-gray-300 mb-1",children:"Current Stock"}),jsxRuntimeExports.jsx("input",{id:"stock",type:"number",min:"0",step:"1",className:"input",placeholder:"0",...He("stock",{min:{value:0,message:"Stock cannot be negative"},valueAsNumber:!0})}),Ke.stock&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:Ke.stock.message})]}),jsxRuntimeExports.jsxs("div",{className:"pt-4",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Stock Status"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Be.status==="In Stock"?"bg-green-900/30 text-green-400":Be.status==="Low Stock"?"bg-yellow-900/30 text-yellow-400":"bg-red-900/30 text-red-400"}`,children:Be.status}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-400",children:"(Will update automatically based on stock level)"})]})]})]})]})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-end",children:jsxRuntimeExports.jsx("button",{type:"submit",className:"btn btn-primary flex items-center space-x-2",disabled:$e,children:$e?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white"}),jsxRuntimeExports.jsx("span",{children:"Saving..."})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Save,{size:16}),jsxRuntimeExports.jsx("span",{children:"Update Product"})]})})})]})]})},Inventory=()=>{const{products:Re,loading:je,error:_e,fetchProducts:Me,deleteProduct:$e,updateProduct:ke}=useProductStore(),[Ce,Be]=reactExports.useState("");reactExports.useState([]);const[qe,He]=reactExports.useState(null),[We,Ke]=reactExports.useState(""),{totalProducts:Je}=useProductStore(),[Qe,rr]=reactExports.useState(!1);reactExports.useEffect(()=>{Me().catch(gr=>{c$1.error("Failed to load products")})},[Me]);const tr=Re.filter(gr=>gr?.name?.toLowerCase().includes(Ce.toLowerCase())||gr?.sku?.toLowerCase().includes(Ce.toLowerCase())||gr?.category?.toLowerCase().includes(Ce.toLowerCase())),cr=async gr=>{const jr=gr.target.files?.[0];if(jr){rr(!0);try{const vr=await jr.text();Papa.parse(vr,{header:!0,skipEmptyLines:!0,complete:async dr=>{const{data:xr,errors:Rr}=dr;if(Rr.length>0){c$1.error("Error parsing CSV file"),console.error("CSV parsing errors:",Rr);return}let Xe=0,Pe=0;for(const Fe of xr)try{const ze={product_id:Fe.product_id,quantity:parseInt(Fe.quantity)||0,location:Fe.location,notes:Fe.notes};Xe++}catch(ze){console.error("Error importing inventory:",ze),Pe++}c$1.success(`Imported ${Xe} items successfully${Pe>0?` (${Pe} failed)`:""}`)}})}catch(vr){console.error("File upload error:",vr),c$1.error("Failed to upload file")}finally{rr(!1),gr.target.value=""}}},or=(gr,jr,vr)=>{He({id:gr,field:jr}),Ke(vr.toString())},ar=async(gr,jr)=>{try{const vr=jr==="stock"?parseInt(We):We;await ke(gr,{[jr]:vr,updated_at:new Date().toISOString()}),He(null),Ke(""),c$1.success("Updated successfully")}catch(vr){console.error("Error updating product:",vr),c$1.error("Failed to update")}},pr=(gr,jr,vr)=>{gr.key==="Enter"?ar(jr,vr):gr.key==="Escape"&&(He(null),Ke(""))},ur=async(gr,jr)=>{const vr=Re.find(xr=>xr.id===gr);if(!vr)return;const dr=Math.max(0,(vr.stock||0)+jr);try{await ke(gr,{stock:dr,updated_at:new Date().toISOString()}),c$1.success(`Stock ${jr>0?"increased":"decreased"} successfully`)}catch(xr){console.error("Error adjusting stock:",xr),c$1.error("Failed to adjust stock")}};return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-white",children:"Inventory Management"}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-2",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:"file",accept:".csv",onChange:cr,className:"hidden",id:"csv-upload",disabled:Qe}),jsxRuntimeExports.jsxs("label",{htmlFor:"csv-upload",className:"btn btn-secondary flex items-center space-x-2 cursor-pointer",children:[jsxRuntimeExports.jsx(Upload,{size:16,className:Qe?"animate-bounce":""}),jsxRuntimeExports.jsx("span",{children:Qe?"Importing...":"Import CSV"})]})]}),jsxRuntimeExports.jsxs("button",{className:"btn btn-secondary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Package,{size:16}),jsxRuntimeExports.jsx("span",{children:"Adjust Stock"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsx("div",{className:"card bg-dark-800 border border-dark-700",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm",children:"Total Products"}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-white mt-1",children:Je})]}),jsxRuntimeExports.jsx("div",{className:"p-3 rounded-lg bg-blue-500/20 text-blue-500",children:jsxRuntimeExports.jsx(Package,{size:24})})]})}),jsxRuntimeExports.jsx("div",{className:"card bg-dark-800 border border-dark-700",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm",children:"Low Stock Items"}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-white mt-1",children:"0"})]}),jsxRuntimeExports.jsx("div",{className:"p-3 rounded-lg bg-yellow-500/20 text-yellow-500",children:jsxRuntimeExports.jsx(ArrowDown,{size:24})})]})}),jsxRuntimeExports.jsx("div",{className:"card bg-dark-800 border border-dark-700",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm",children:"Out of Stock Items"}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-white mt-1",children:"0"})]}),jsxRuntimeExports.jsx("div",{className:"p-3 rounded-lg bg-red-500/20 text-red-500",children:jsxRuntimeExports.jsx(ArrowDown,{size:24})})]})})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex-1",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:jsxRuntimeExports.jsx(Search,{size:18,className:"text-gray-400"})}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search inventory...",className:"input pl-10",value:Ce,onChange:gr=>Be(gr.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs("button",{className:"btn btn-secondary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Filter,{size:16}),jsxRuntimeExports.jsx("span",{children:"Filter"})]}),jsxRuntimeExports.jsxs("button",{className:"btn btn-secondary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Download,{size:16}),jsxRuntimeExports.jsx("span",{children:"Export"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-lg border border-dark-700 overflow-hidden",children:[tr.length>0?jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"bg-dark-700",children:[jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Product"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Category"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Current Stock"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Min Stock"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Reorder Point"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Last Updated"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"divide-y divide-dark-700",children:tr.map(gr=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-dark-700/50",children:[jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsx("div",{className:"flex items-center",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm font-medium text-white cursor-pointer hover:text-primary-400",onClick:()=>or(gr.id,"name",gr.name),children:qe?.id===gr.id&&qe.field==="name"?jsxRuntimeExports.jsx("input",{type:"text",className:"input py-1 px-2",value:We,onChange:jr=>Ke(jr.target.value),onBlur:()=>ar(gr.id,"name"),onKeyDown:jr=>pr(jr,gr.id,"name"),autoFocus:!0}):gr.name}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-400",children:["SKU: ",gr.sku]})]})})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-300 cursor-pointer hover:text-primary-400",onClick:()=>or(gr.id,"category",gr.category||""),children:qe?.id===gr.id&&qe.field==="category"?jsxRuntimeExports.jsx("input",{type:"text",className:"input py-1 px-2",value:We,onChange:jr=>Ke(jr.target.value),onBlur:()=>ar(gr.id,"category"),onKeyDown:jr=>pr(jr,gr.id,"category"),autoFocus:!0}):gr.category||"Uncategorized"})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:jsxRuntimeExports.jsx("div",{className:"cursor-pointer hover:text-primary-400",onClick:()=>or(gr.id,"stock",gr.stock||0),children:qe?.id===gr.id&&qe.field==="stock"?jsxRuntimeExports.jsx("input",{type:"number",min:"0",className:"input py-1 px-2 w-24 text-right",value:We,onChange:jr=>Ke(jr.target.value),onBlur:()=>ar(gr.id,"stock"),onKeyDown:jr=>pr(jr,gr.id,"stock"),autoFocus:!0}):gr.stock||0})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:jsxRuntimeExports.jsx("div",{className:"cursor-pointer hover:text-primary-400",onClick:()=>or(gr.id,"minStock",gr.minStock||0),children:qe?.id===gr.id&&qe.field==="minStock"?jsxRuntimeExports.jsx("input",{type:"number",min:"0",className:"input py-1 px-2 w-24 text-right",value:We,onChange:jr=>Ke(jr.target.value),onBlur:()=>ar(gr.id,"minStock"),onKeyDown:jr=>pr(jr,gr.id,"minStock"),autoFocus:!0}):gr.minStock||0})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:jsxRuntimeExports.jsx("div",{className:"cursor-pointer hover:text-primary-400",onClick:()=>or(gr.id,"reorderPoint",gr.reorderPoint||0),children:qe?.id===gr.id&&qe.field==="reorderPoint"?jsxRuntimeExports.jsx("input",{type:"number",min:"0",className:"input py-1 px-2 w-24 text-right",value:We,onChange:jr=>Ke(jr.target.value),onBlur:()=>ar(gr.id,"reorderPoint"),onKeyDown:jr=>pr(jr,gr.id,"reorderPoint"),autoFocus:!0}):gr.reorderPoint||0})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:gr.updated_at?new Date(gr.updated_at).toLocaleDateString():"-"}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${gr.status==="In Stock"?"bg-green-900/30 text-green-400":gr.status==="Low Stock"?"bg-yellow-900/30 text-yellow-400":"bg-red-900/30 text-red-400"}`,children:gr.status})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-right text-sm font-medium",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[jsxRuntimeExports.jsx("button",{className:"text-gray-400 hover:text-green-500",onClick:()=>ur(gr.id,1),title:"Increase stock",children:jsxRuntimeExports.jsx(ArrowUp,{size:16})}),jsxRuntimeExports.jsx("button",{className:"text-gray-400 hover:text-red-500",onClick:()=>ur(gr.id,-1),title:"Decrease stock",children:jsxRuntimeExports.jsx(ArrowDown,{size:16})}),jsxRuntimeExports.jsx("button",{className:"text-gray-400 hover:text-white",children:jsxRuntimeExports.jsx(SquarePen,{size:16})})]})})]},gr.id))})]})}):jsxRuntimeExports.jsx("div",{className:"text-center py-12",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center",children:[jsxRuntimeExports.jsx(Package,{size:48,className:"text-gray-600 mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-lg mb-2",children:"No inventory items found"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Add products to your inventory to get started"}),jsxRuntimeExports.jsxs(Link,{to:"/products/new",className:"btn btn-primary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Package,{size:16}),jsxRuntimeExports.jsx("span",{children:"Add Product"})]})]})}),tr.length>0&&jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 px-4 py-3 flex items-center justify-between border-t border-dark-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[jsxRuntimeExports.jsx("button",{className:"btn btn-secondary",children:"Previous"}),jsxRuntimeExports.jsx("button",{className:"btn btn-secondary",children:"Next"})]}),jsxRuntimeExports.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-400",children:["Showing ",jsxRuntimeExports.jsx("span",{className:"font-medium",children:"1"})," to ",jsxRuntimeExports.jsx("span",{className:"font-medium",children:tr.length})," of"," ",jsxRuntimeExports.jsx("span",{className:"font-medium",children:tr.length})," results"]})}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[jsxRuntimeExports.jsxs("button",{className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-dark-600 bg-dark-700 text-sm font-medium text-gray-400 hover:bg-dark-600",children:[jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Previous"}),jsxRuntimeExports.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),jsxRuntimeExports.jsx("button",{className:"relative inline-flex items-center px-4 py-2 border border-dark-600 bg-dark-700 text-sm font-medium text-gray-400 hover:bg-dark-600",children:"1"}),jsxRuntimeExports.jsxs("button",{className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-dark-600 bg-dark-700 text-sm font-medium text-gray-400 hover:bg-dark-600",children:[jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Next"}),jsxRuntimeExports.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})})]})]})]})]})},InvoiceStatusBadge=({status:Re})=>{let je="",_e="";switch(Re){case"Draft":je="bg-gray-700/30",_e="text-gray-400";break;case"Issued":je="bg-blue-900/30",_e="text-blue-400";break;case"Paid":je="bg-green-900/30",_e="text-green-400";break;case"Part paid":je="bg-yellow-900/30",_e="text-yellow-400";break;case"Cancelled":je="bg-red-900/30",_e="text-red-400";break;case"Disputed":je="bg-purple-900/30",_e="text-purple-400";break;case"On hold":je="bg-orange-900/30",_e="text-orange-400";break;default:je="bg-gray-700/30",_e="text-gray-400"}return jsxRuntimeExports.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${je} ${_e}`,children:Re})},Invoices=()=>{const{invoices:Re,loading:je,error:_e,fetchInvoices:Me,deleteInvoice:$e}=useInvoiceStore(),[ke,Ce]=reactExports.useState(""),[Be,qe]=reactExports.useState([]),[He,We]=reactExports.useState("all"),[Ke,Je]=reactExports.useState(!1),[Qe,rr]=reactExports.useState(null);reactExports.useEffect(()=>{Me().catch(jr=>{c$1.error("Failed to load invoices")})},[Me]);const tr=Re.filter(jr=>{const vr=jr.invoice_number?.toLowerCase().includes(ke.toLowerCase())||jr.customer_name?.toLowerCase().includes(ke.toLowerCase()),dr=He==="all"||jr.status===He;return vr&&dr}),cr=()=>{Be.length===tr.length?qe([]):qe(tr.map(jr=>jr.id))},or=jr=>{Be.includes(jr)?qe(Be.filter(vr=>vr!==jr)):qe([...Be,jr])},ar=async jr=>{rr(jr)},pr=async()=>{if(Qe)try{await $e(Qe),c$1.success("Invoice deleted successfully"),rr(null)}catch{c$1.error("Failed to delete invoice")}},ur=async()=>{if(Be.length!==0&&window.confirm(`Are you sure you want to delete ${Be.length} invoice${Be.length>1?"s":""}?`))try{await Promise.all(Be.map(jr=>$e(jr))),c$1.success(`Successfully deleted ${Be.length} invoice${Be.length>1?"s":""}`),qe([])}catch(jr){console.error("Error deleting invoices:",jr),c$1.error("Failed to delete some invoices")}},gr=async jr=>{const vr=jr.target.files?.[0];if(vr){Je(!0);try{const dr=await vr.text();Papa.parse(dr,{header:!0,skipEmptyLines:!0,complete:async xr=>{const{data:Rr,errors:Xe}=xr;if(Xe.length>0){c$1.error("Error parsing CSV file"),console.error("CSV parsing errors:",Xe);return}let Pe=0,Fe=0;for(const ze of Rr)try{const Ue={customer_name:ze.customer_name,customer_email:ze.customer_email,date:ze.date,due_date:ze.due_date,items:JSON.parse(ze.items||"[]"),tax_rate:parseFloat(ze.tax_rate)||0,notes:ze.notes};Pe++}catch(Ue){console.error("Error importing invoice:",Ue),Fe++}c$1.success(`Imported ${Pe} invoices successfully${Fe>0?` (${Fe} failed)`:""}`)}})}catch(dr){console.error("File upload error:",dr),c$1.error("Failed to upload file")}finally{Je(!1),jr.target.value=""}}};return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-white",children:"Invoices"}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-2",children:[Be.length>0&&jsxRuntimeExports.jsxs("button",{onClick:ur,className:"btn btn-danger flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Trash2,{size:16}),jsxRuntimeExports.jsxs("span",{children:["Delete Selected (",Be.length,")"]})]}),jsxRuntimeExports.jsxs("div",{className:"relative hidden md:block",children:[jsxRuntimeExports.jsx("input",{type:"file",accept:".csv",onChange:gr,className:"hidden",id:"csv-upload",disabled:Ke}),jsxRuntimeExports.jsxs("label",{htmlFor:"csv-upload",className:"btn btn-secondary flex items-center space-x-2 cursor-pointer",children:[jsxRuntimeExports.jsx(Upload,{size:16,className:Ke?"animate-bounce":""}),jsxRuntimeExports.jsx("span",{children:Ke?"Importing...":"Import CSV"})]})]}),jsxRuntimeExports.jsxs(Link,{to:"/invoices/create",className:"btn btn-primary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Plus,{size:16}),jsxRuntimeExports.jsx("span",{children:"Create Invoice"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex-1",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:jsxRuntimeExports.jsx(Search,{size:18,className:"text-gray-400"})}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search invoices...",className:"input pl-10",value:ke,onChange:jr=>Ce(jr.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs("select",{className:"bg-dark-800 border border-dark-700 text-white rounded-md px-3 py-2",value:He,onChange:jr=>We(jr.target.value),children:[jsxRuntimeExports.jsx("option",{value:"all",children:"All Statuses"}),jsxRuntimeExports.jsx("option",{value:"Draft",children:"Draft"}),jsxRuntimeExports.jsx("option",{value:"Issued",children:"Issued"}),jsxRuntimeExports.jsx("option",{value:"Paid",children:"Paid"}),jsxRuntimeExports.jsx("option",{value:"Part paid",children:"Part paid"}),jsxRuntimeExports.jsx("option",{value:"Cancelled",children:"Cancelled"}),jsxRuntimeExports.jsx("option",{value:"Disputed",children:"Disputed"}),jsxRuntimeExports.jsx("option",{value:"On hold",children:"On hold"})]}),jsxRuntimeExports.jsxs("button",{className:"btn btn-secondary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Download,{size:16}),jsxRuntimeExports.jsx("span",{children:"Export"})]})]})]}),_e&&jsxRuntimeExports.jsx("div",{className:"bg-red-900/50 border border-red-800 text-red-300 px-4 py-3 rounded-md",children:_e}),je&&jsxRuntimeExports.jsxs("div",{className:"text-center py-4",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-500 mx-auto"}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-gray-400",children:"Loading invoices..."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-lg border border-dark-700 overflow-hidden",children:[!je&&tr.length>0?jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"bg-dark-700",children:[jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left",children:jsxRuntimeExports.jsx("div",{className:"flex items-center",children:jsxRuntimeExports.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-600 bg-dark-800 text-primary-600 focus:ring-primary-500",checked:Be.length===tr.length&&tr.length>0,onChange:cr})})}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Invoice #"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Customer"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Date"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Due Date"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Amount"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"divide-y divide-dark-700",children:tr.map(jr=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-dark-700/50",children:[jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-600 bg-dark-800 text-primary-600 focus:ring-primary-500",checked:Be.includes(jr.id),onChange:()=>or(jr.id)})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsx(Link,{to:`/invoices/${jr.id}`,className:"text-white font-medium hover:text-primary-400",children:jr.invoice_number})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-300",children:jr.customer_name})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:jr.date?new Date(jr.date).toLocaleDateString():"-"}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:jr.due_date?new Date(jr.due_date).toLocaleDateString():"-"}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:["$",jr.total.toLocaleString()]}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsx(InvoiceStatusBadge,{status:jr.status})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-right text-sm font-medium",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[jsxRuntimeExports.jsx(Link,{to:`/invoices/${jr.id}`,className:"text-gray-400 hover:text-white",children:jsxRuntimeExports.jsx(Eye,{size:16})}),jsxRuntimeExports.jsx(Link,{to:`/invoices/${jr.id}/edit`,className:"text-gray-400 hover:text-white",children:jsxRuntimeExports.jsx(SquarePen,{size:16})}),jsxRuntimeExports.jsx("button",{className:"text-gray-400 hover:text-red-500",onClick:()=>ar(jr.id),children:jsxRuntimeExports.jsx(Trash2,{size:16})})]})})]},jr.id))})]})}):!je&&jsxRuntimeExports.jsx("div",{className:"text-center py-12",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center",children:[jsxRuntimeExports.jsx(FileText,{size:48,className:"text-gray-600 mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-lg mb-2",children:"No invoices found"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Get started by creating your first invoice"}),jsxRuntimeExports.jsxs(Link,{to:"/invoices/create",className:"btn btn-primary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Plus,{size:16}),jsxRuntimeExports.jsx("span",{children:"Create Invoice"})]})]})}),tr.length>0&&jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 px-4 py-3 flex items-center justify-between border-t border-dark-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[jsxRuntimeExports.jsx("button",{className:"btn btn-secondary",children:"Previous"}),jsxRuntimeExports.jsx("button",{className:"btn btn-secondary",children:"Next"})]}),jsxRuntimeExports.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-400",children:["Showing ",jsxRuntimeExports.jsx("span",{className:"font-medium",children:"1"})," to ",jsxRuntimeExports.jsx("span",{className:"font-medium",children:tr.length})," of"," ",jsxRuntimeExports.jsx("span",{className:"font-medium",children:tr.length})," results"]})}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[jsxRuntimeExports.jsxs("button",{className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-dark-600 bg-dark-700 text-sm font-medium text-gray-400 hover:bg-dark-600",children:[jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Previous"}),jsxRuntimeExports.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),jsxRuntimeExports.jsx("button",{className:"relative inline-flex items-center px-4 py-2 border border-dark-600 bg-dark-700 text-sm font-medium text-gray-400 hover:bg-dark-600",children:"1"}),jsxRuntimeExports.jsxs("button",{className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-dark-600 bg-dark-700 text-sm font-medium text-gray-400 hover:bg-dark-600",children:[jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Next"}),jsxRuntimeExports.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})})]})]})]}),jsxRuntimeExports.jsx(ConfirmationModal,{isOpen:!!Qe,onClose:()=>rr(null),onConfirm:pr,title:"Delete item?",message:"Are you sure?",confirmButtonText:"Delete",cancelButtonText:"Cancel",isDanger:!0})]})},Suppliers=()=>{const{suppliers:Re,loading:je,error:_e,fetchSuppliers:Me,deleteSupplier:$e}=useSupplierStore(),[ke,Ce]=reactExports.useState(""),[Be,qe]=reactExports.useState([]);reactExports.useEffect(()=>{Me().catch(Qe=>{c$1.error("Failed to load suppliers")})},[Me]);const He=Re.filter(Qe=>Qe?.name?.toLowerCase().includes(ke.toLowerCase())||Qe?.email?.toLowerCase().includes(ke.toLowerCase())||Qe?.phone?.includes(ke)),We=()=>{Be.length===He.length?qe([]):qe(He.map(Qe=>Qe.id))},Ke=Qe=>{Be.includes(Qe)?qe(Be.filter(rr=>rr!==Qe)):qe([...Be,Qe])},Je=async Qe=>{if(window.confirm("Are you sure you want to delete this supplier?"))try{await $e(Qe),c$1.success("Supplier deleted successfully")}catch{c$1.error("Failed to delete supplier")}};return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-white",children:"Suppliers"}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-2",children:[jsxRuntimeExports.jsxs(Link,{to:"/settings?tab=integrations",className:"hidden md:flex btn btn-secondary items-center space-x-2",children:[jsxRuntimeExports.jsx(Upload,{size:16}),jsxRuntimeExports.jsx("span",{children:"Import CSV"})]}),jsxRuntimeExports.jsxs(Link,{to:"/suppliers/new",className:"btn btn-primary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(UserPlus,{size:16}),jsxRuntimeExports.jsx("span",{children:"Add Supplier"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex-1",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:jsxRuntimeExports.jsx(Search,{size:18,className:"text-gray-400"})}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search suppliers...",className:"input pl-10",value:ke,onChange:Qe=>Ce(Qe.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs("button",{className:"btn btn-secondary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Filter,{size:16}),jsxRuntimeExports.jsx("span",{children:"Filter"})]}),jsxRuntimeExports.jsxs("button",{className:"btn btn-secondary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Download,{size:16}),jsxRuntimeExports.jsx("span",{children:"Export"})]})]})]}),_e&&jsxRuntimeExports.jsx("div",{className:"bg-red-900/50 border border-red-800 text-red-300 px-4 py-3 rounded-md",children:_e}),je&&jsxRuntimeExports.jsxs("div",{className:"text-center py-4",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-500 mx-auto"}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-gray-400",children:"Loading suppliers..."})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:jsxRuntimeExports.jsx(Link,{to:"/suppliers",className:"card bg-dark-800 border border-dark-700 hover:bg-dark-700/50 transition-colors",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm",children:"Suppliers"}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-white mt-1",children:Re.length})]}),jsxRuntimeExports.jsx("div",{className:"p-3 rounded-lg bg-orange-500/20 text-orange-500",children:jsxRuntimeExports.jsx(Truck,{size:24})})]})})}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-lg border border-dark-700 overflow-hidden",children:[!je&&He.length>0?jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"bg-dark-700",children:[jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left",children:jsxRuntimeExports.jsx("div",{className:"flex items-center",children:jsxRuntimeExports.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-600 bg-dark-800 text-primary-600 focus:ring-primary-500",checked:Be.length===He.length&&He.length>0,onChange:We})})}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Supplier Name"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Contact"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"divide-y divide-dark-700",children:He.map(Qe=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-dark-700/50",children:[jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-600 bg-dark-800 text-primary-600 focus:ring-primary-500",checked:Be.includes(Qe.id),onChange:()=>Ke(Qe.id)})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsx(Link,{to:`/suppliers/${Qe.id}`,className:"text-white font-medium hover:text-primary-400",children:Qe.company})}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-300",children:Qe.email||"No email"}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-400",children:Qe.phone||"No phone"})]}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-right text-sm font-medium",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[jsxRuntimeExports.jsx(Link,{to:`/suppliers/${Qe.id}`,className:"text-gray-400 hover:text-white",children:jsxRuntimeExports.jsx(Eye,{size:16})}),jsxRuntimeExports.jsx(Link,{to:`/suppliers/${Qe.id}/edit`,className:"text-gray-400 hover:text-white",children:jsxRuntimeExports.jsx(SquarePen,{size:16})}),jsxRuntimeExports.jsx("button",{className:"text-gray-400 hover:text-red-500",onClick:()=>Je(Qe.id),children:jsxRuntimeExports.jsx(Trash2,{size:16})})]})})]},Qe.id))})]})}):!je&&jsxRuntimeExports.jsx("div",{className:"text-center py-12",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center",children:[jsxRuntimeExports.jsx(UserPlus,{size:48,className:"text-gray-600 mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-lg mb-2",children:"No suppliers found"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Get started by adding your first supplier"}),jsxRuntimeExports.jsxs(Link,{to:"/suppliers/new",className:"btn btn-primary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(UserPlus,{size:16}),jsxRuntimeExports.jsx("span",{children:"Add Supplier"})]})]})}),He.length>0&&jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 px-4 py-3 flex items-center justify-between border-t border-dark-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[jsxRuntimeExports.jsx("button",{className:"btn btn-secondary",children:"Previous"}),jsxRuntimeExports.jsx("button",{className:"btn btn-secondary",children:"Next"})]}),jsxRuntimeExports.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-400",children:["Showing ",jsxRuntimeExports.jsx("span",{className:"font-medium",children:"1"})," to ",jsxRuntimeExports.jsx("span",{className:"font-medium",children:He.length})," of"," ",jsxRuntimeExports.jsx("span",{className:"font-medium",children:He.length})," results"]})}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[jsxRuntimeExports.jsxs("button",{className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-dark-600 bg-dark-700 text-sm font-medium text-gray-400 hover:bg-dark-600",children:[jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Previous"}),jsxRuntimeExports.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),jsxRuntimeExports.jsx("button",{className:"relative inline-flex items-center px-4 py-2 border border-dark-600 bg-dark-700 text-sm font-medium text-gray-400 hover:bg-dark-600",children:"1"}),jsxRuntimeExports.jsxs("button",{className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-dark-600 bg-dark-700 text-sm font-medium text-gray-400 hover:bg-dark-600",children:[jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Next"}),jsxRuntimeExports.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})})]})]})]})]})},MarkAsDropdown=({currentStatus:Re,onStatusChange:je,disabled:_e=!1})=>{const[Me,$e]=reactExports.useState(!1),ke=reactExports.useRef(null),Ce=["Draft","Issued","Paid","Part paid","Cancelled","Disputed","On hold"];reactExports.useEffect(()=>{const He=We=>{ke.current&&!ke.current.contains(We.target)&&$e(!1)};return document.addEventListener("mousedown",He),()=>{document.removeEventListener("mousedown",He)}},[]);const Be=He=>{switch(He){case"Draft":return"bg-gray-400";case"Issued":return"bg-blue-400";case"Paid":return"bg-green-400";case"Part paid":return"bg-yellow-400";case"Cancelled":return"bg-red-400";case"Disputed":return"bg-purple-400";case"On hold":return"bg-orange-400";default:return"bg-gray-400"}},qe=He=>{je(He),$e(!1)};return jsxRuntimeExports.jsxs("div",{className:"relative",ref:ke,children:[jsxRuntimeExports.jsxs("button",{type:"button",className:"btn btn-secondary flex items-center space-x-2",onClick:()=>!_e&&$e(!Me),disabled:_e,children:[jsxRuntimeExports.jsx("span",{children:"Mark as..."}),jsxRuntimeExports.jsx(ChevronDown,{className:"h-4 w-4","aria-hidden":"true"})]}),Me&&jsxRuntimeExports.jsx("div",{className:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-dark-800 ring-1 ring-black ring-opacity-5 z-10 border border-dark-700",children:jsxRuntimeExports.jsx("div",{className:"py-1",role:"menu","aria-orientation":"vertical","aria-labelledby":"options-menu",children:Ce.map(He=>jsxRuntimeExports.jsx("button",{onClick:()=>qe(He),className:`block w-full text-left px-4 py-2 text-sm hover:bg-dark-700 ${He===Re?"bg-dark-700":""}`,role:"menuitem",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("span",{className:`h-2 w-2 rounded-full ${Be(He)} mr-2`}),jsxRuntimeExports.jsx("span",{className:"text-white",children:He})]})},He))})})]})};function _typeof$1(Re){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(je){return typeof je}:function(je){return je&&typeof Symbol=="function"&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":typeof je},_typeof$1(Re)}var u8=Uint8Array,u16=Uint16Array,i32=Int32Array,fleb=new u8([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),fdeb=new u8([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),clim=new u8([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),freb=function(Re,je){for(var _e=new u16(31),Me=0;Me<31;++Me)_e[Me]=je+=1<<Re[Me-1];for(var $e=new i32(_e[30]),Me=1;Me<30;++Me)for(var ke=_e[Me];ke<_e[Me+1];++ke)$e[ke]=ke-_e[Me]<<5|Me;return{b:_e,r:$e}},_a$1=freb(fleb,2),fl=_a$1.b,revfl=_a$1.r;fl[28]=258,revfl[258]=28;var _b=freb(fdeb,0),fd=_b.b,revfd=_b.r,rev=new u16(32768);for(var i$4=0;i$4<32768;++i$4){var x$2=(i$4&43690)>>1|(i$4&21845)<<1;x$2=(x$2&52428)>>2|(x$2&13107)<<2,x$2=(x$2&61680)>>4|(x$2&3855)<<4,rev[i$4]=((x$2&65280)>>8|(x$2&255)<<8)>>1}var hMap=function(Re,je,_e){for(var Me=Re.length,$e=0,ke=new u16(je);$e<Me;++$e)Re[$e]&&++ke[Re[$e]-1];var Ce=new u16(je);for($e=1;$e<je;++$e)Ce[$e]=Ce[$e-1]+ke[$e-1]<<1;var Be;if(_e){Be=new u16(1<<je);var qe=15-je;for($e=0;$e<Me;++$e)if(Re[$e])for(var He=$e<<4|Re[$e],We=je-Re[$e],Ke=Ce[Re[$e]-1]++<<We,Je=Ke|(1<<We)-1;Ke<=Je;++Ke)Be[rev[Ke]>>qe]=He}else for(Be=new u16(Me),$e=0;$e<Me;++$e)Re[$e]&&(Be[$e]=rev[Ce[Re[$e]-1]++]>>15-Re[$e]);return Be},flt=new u8(288);for(var i$4=0;i$4<144;++i$4)flt[i$4]=8;for(var i$4=144;i$4<256;++i$4)flt[i$4]=9;for(var i$4=256;i$4<280;++i$4)flt[i$4]=7;for(var i$4=280;i$4<288;++i$4)flt[i$4]=8;var fdt=new u8(32);for(var i$4=0;i$4<32;++i$4)fdt[i$4]=5;var flm=hMap(flt,9,0),flrm=hMap(flt,9,1),fdm=hMap(fdt,5,0),fdrm=hMap(fdt,5,1),max$2=function(Re){for(var je=Re[0],_e=1;_e<Re.length;++_e)Re[_e]>je&&(je=Re[_e]);return je},bits=function(Re,je,_e){var Me=je/8|0;return(Re[Me]|Re[Me+1]<<8)>>(je&7)&_e},bits16=function(Re,je){var _e=je/8|0;return(Re[_e]|Re[_e+1]<<8|Re[_e+2]<<16)>>(je&7)},shft=function(Re){return(Re+7)/8|0},slc=function(Re,je,_e){return(_e==null||_e>Re.length)&&(_e=Re.length),new u8(Re.subarray(je,_e))},ec=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],err=function(Re,je,_e){var Me=new Error(je||ec[Re]);if(Me.code=Re,Error.captureStackTrace&&Error.captureStackTrace(Me,err),!_e)throw Me;return Me},inflt=function(Re,je,_e,Me){var $e=Re.length,ke=0;if(!$e||je.f&&!je.l)return _e||new u8(0);var Ce=!_e,Be=Ce||je.i!=2,qe=je.i;Ce&&(_e=new u8($e*3));var He=function(Xr){var Ur=_e.length;if(Xr>Ur){var Gr=new u8(Math.max(Ur*2,Xr));Gr.set(_e),_e=Gr}},We=je.f||0,Ke=je.p||0,Je=je.b||0,Qe=je.l,rr=je.d,tr=je.m,cr=je.n,or=$e*8;do{if(!Qe){We=bits(Re,Ke,1);var ar=bits(Re,Ke+1,3);if(Ke+=3,ar)if(ar==1)Qe=flrm,rr=fdrm,tr=9,cr=5;else if(ar==2){var jr=bits(Re,Ke,31)+257,vr=bits(Re,Ke+10,15)+4,dr=jr+bits(Re,Ke+5,31)+1;Ke+=14;for(var xr=new u8(dr),Rr=new u8(19),Xe=0;Xe<vr;++Xe)Rr[clim[Xe]]=bits(Re,Ke+Xe*3,7);Ke+=vr*3;for(var Pe=max$2(Rr),Fe=(1<<Pe)-1,ze=hMap(Rr,Pe,1),Xe=0;Xe<dr;){var Ue=ze[bits(Re,Ke,Fe)];Ke+=Ue&15;var pr=Ue>>4;if(pr<16)xr[Xe++]=pr;else{var Ge=0,Ze=0;for(pr==16?(Ze=3+bits(Re,Ke,3),Ke+=2,Ge=xr[Xe-1]):pr==17?(Ze=3+bits(Re,Ke,7),Ke+=3):pr==18&&(Ze=11+bits(Re,Ke,127),Ke+=7);Ze--;)xr[Xe++]=Ge}}var er=xr.subarray(0,jr),Ve=xr.subarray(jr);tr=max$2(er),cr=max$2(Ve),Qe=hMap(er,tr,1),rr=hMap(Ve,cr,1)}else err(1);else{var pr=shft(Ke)+4,ur=Re[pr-4]|Re[pr-3]<<8,gr=pr+ur;if(gr>$e){qe&&err(0);break}Be&&He(Je+ur),_e.set(Re.subarray(pr,gr),Je),je.b=Je+=ur,je.p=Ke=gr*8,je.f=We;continue}if(Ke>or){qe&&err(0);break}}Be&&He(Je+131072);for(var Ie=(1<<tr)-1,Ye=(1<<cr)-1,ir=Ke;;ir=Ke){var Ge=Qe[bits16(Re,Ke)&Ie],lr=Ge>>4;if(Ke+=Ge&15,Ke>or){qe&&err(0);break}if(Ge||err(2),lr<256)_e[Je++]=lr;else if(lr==256){ir=Ke,Qe=null;break}else{var br=lr-254;if(lr>264){var Xe=lr-257,_r=fleb[Xe];br=bits(Re,Ke,(1<<_r)-1)+fl[Xe],Ke+=_r}var Sr=rr[bits16(Re,Ke)&Ye],wr=Sr>>4;Sr||err(3),Ke+=Sr&15;var Ve=fd[wr];if(wr>3){var _r=fdeb[wr];Ve+=bits16(Re,Ke)&(1<<_r)-1,Ke+=_r}if(Ke>or){qe&&err(0);break}Be&&He(Je+131072);var Nr=Je+br;if(Je<Ve){var kr=ke-Ve,Lr=Math.min(Ve,Nr);for(kr+Je<0&&err(3);Je<Lr;++Je)_e[Je]=Me[kr+Je]}for(;Je<Nr;++Je)_e[Je]=_e[Je-Ve]}}je.l=Qe,je.p=ir,je.b=Je,je.f=We,Qe&&(We=1,je.m=tr,je.d=rr,je.n=cr)}while(!We);return Je!=_e.length&&Ce?slc(_e,0,Je):_e.subarray(0,Je)},wbits=function(Re,je,_e){_e<<=je&7;var Me=je/8|0;Re[Me]|=_e,Re[Me+1]|=_e>>8},wbits16=function(Re,je,_e){_e<<=je&7;var Me=je/8|0;Re[Me]|=_e,Re[Me+1]|=_e>>8,Re[Me+2]|=_e>>16},hTree=function(Re,je){for(var _e=[],Me=0;Me<Re.length;++Me)Re[Me]&&_e.push({s:Me,f:Re[Me]});var $e=_e.length,ke=_e.slice();if(!$e)return{t:et$1,l:0};if($e==1){var Ce=new u8(_e[0].s+1);return Ce[_e[0].s]=1,{t:Ce,l:1}}_e.sort(function(gr,jr){return gr.f-jr.f}),_e.push({s:-1,f:25001});var Be=_e[0],qe=_e[1],He=0,We=1,Ke=2;for(_e[0]={s:-1,f:Be.f+qe.f,l:Be,r:qe};We!=$e-1;)Be=_e[_e[He].f<_e[Ke].f?He++:Ke++],qe=_e[He!=We&&_e[He].f<_e[Ke].f?He++:Ke++],_e[We++]={s:-1,f:Be.f+qe.f,l:Be,r:qe};for(var Je=ke[0].s,Me=1;Me<$e;++Me)ke[Me].s>Je&&(Je=ke[Me].s);var Qe=new u16(Je+1),rr=ln(_e[We-1],Qe,0);if(rr>je){var Me=0,tr=0,cr=rr-je,or=1<<cr;for(ke.sort(function(jr,vr){return Qe[vr.s]-Qe[jr.s]||jr.f-vr.f});Me<$e;++Me){var ar=ke[Me].s;if(Qe[ar]>je)tr+=or-(1<<rr-Qe[ar]),Qe[ar]=je;else break}for(tr>>=cr;tr>0;){var pr=ke[Me].s;Qe[pr]<je?tr-=1<<je-Qe[pr]++-1:++Me}for(;Me>=0&&tr;--Me){var ur=ke[Me].s;Qe[ur]==je&&(--Qe[ur],++tr)}rr=je}return{t:new u8(Qe),l:rr}},ln=function(Re,je,_e){return Re.s==-1?Math.max(ln(Re.l,je,_e+1),ln(Re.r,je,_e+1)):je[Re.s]=_e},lc=function(Re){for(var je=Re.length;je&&!Re[--je];);for(var _e=new u16(++je),Me=0,$e=Re[0],ke=1,Ce=function(qe){_e[Me++]=qe},Be=1;Be<=je;++Be)if(Re[Be]==$e&&Be!=je)++ke;else{if(!$e&&ke>2){for(;ke>138;ke-=138)Ce(32754);ke>2&&(Ce(ke>10?ke-11<<5|28690:ke-3<<5|12305),ke=0)}else if(ke>3){for(Ce($e),--ke;ke>6;ke-=6)Ce(8304);ke>2&&(Ce(ke-3<<5|8208),ke=0)}for(;ke--;)Ce($e);ke=1,$e=Re[Be]}return{c:_e.subarray(0,Me),n:je}},clen=function(Re,je){for(var _e=0,Me=0;Me<je.length;++Me)_e+=Re[Me]*je[Me];return _e},wfblk=function(Re,je,_e){var Me=_e.length,$e=shft(je+2);Re[$e]=Me&255,Re[$e+1]=Me>>8,Re[$e+2]=Re[$e]^255,Re[$e+3]=Re[$e+1]^255;for(var ke=0;ke<Me;++ke)Re[$e+ke+4]=_e[ke];return($e+4+Me)*8},wblk=function(Re,je,_e,Me,$e,ke,Ce,Be,qe,He,We){wbits(je,We++,_e),++$e[256];for(var Ke=hTree($e,15),Je=Ke.t,Qe=Ke.l,rr=hTree(ke,15),tr=rr.t,cr=rr.l,or=lc(Je),ar=or.c,pr=or.n,ur=lc(tr),gr=ur.c,jr=ur.n,vr=new u16(19),dr=0;dr<ar.length;++dr)++vr[ar[dr]&31];for(var dr=0;dr<gr.length;++dr)++vr[gr[dr]&31];for(var xr=hTree(vr,7),Rr=xr.t,Xe=xr.l,Pe=19;Pe>4&&!Rr[clim[Pe-1]];--Pe);var Fe=He+5<<3,ze=clen($e,flt)+clen(ke,fdt)+Ce,Ue=clen($e,Je)+clen(ke,tr)+Ce+14+3*Pe+clen(vr,Rr)+2*vr[16]+3*vr[17]+7*vr[18];if(qe>=0&&Fe<=ze&&Fe<=Ue)return wfblk(je,We,Re.subarray(qe,qe+He));var Ge,Ze,er,Ve;if(wbits(je,We,1+(Ue<ze)),We+=2,Ue<ze){Ge=hMap(Je,Qe,0),Ze=Je,er=hMap(tr,cr,0),Ve=tr;var Ie=hMap(Rr,Xe,0);wbits(je,We,pr-257),wbits(je,We+5,jr-1),wbits(je,We+10,Pe-4),We+=14;for(var dr=0;dr<Pe;++dr)wbits(je,We+3*dr,Rr[clim[dr]]);We+=3*Pe;for(var Ye=[ar,gr],ir=0;ir<2;++ir)for(var lr=Ye[ir],dr=0;dr<lr.length;++dr){var br=lr[dr]&31;wbits(je,We,Ie[br]),We+=Rr[br],br>15&&(wbits(je,We,lr[dr]>>5&127),We+=lr[dr]>>12)}}else Ge=flm,Ze=flt,er=fdm,Ve=fdt;for(var dr=0;dr<Be;++dr){var _r=Me[dr];if(_r>255){var br=_r>>18&31;wbits16(je,We,Ge[br+257]),We+=Ze[br+257],br>7&&(wbits(je,We,_r>>23&31),We+=fleb[br]);var Sr=_r&31;wbits16(je,We,er[Sr]),We+=Ve[Sr],Sr>3&&(wbits16(je,We,_r>>5&8191),We+=fdeb[Sr])}else wbits16(je,We,Ge[_r]),We+=Ze[_r]}return wbits16(je,We,Ge[256]),We+Ze[256]},deo=new i32([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),et$1=new u8(0),dflt=function(Re,je,_e,Me,$e,ke){var Ce=ke.z||Re.length,Be=new u8(Me+Ce+5*(1+Math.ceil(Ce/7e3))+$e),qe=Be.subarray(Me,Be.length-$e),He=ke.l,We=(ke.r||0)&7;if(je){We&&(qe[0]=ke.r>>3);for(var Ke=deo[je-1],Je=Ke>>13,Qe=Ke&8191,rr=(1<<_e)-1,tr=ke.p||new u16(32768),cr=ke.h||new u16(rr+1),or=Math.ceil(_e/3),ar=2*or,pr=function(Ts){return(Re[Ts]^Re[Ts+1]<<or^Re[Ts+2]<<ar)&rr},ur=new i32(25e3),gr=new u16(288),jr=new u16(32),vr=0,dr=0,xr=ke.i||0,Rr=0,Xe=ke.w||0,Pe=0;xr+2<Ce;++xr){var Fe=pr(xr),ze=xr&32767,Ue=cr[Fe];if(tr[ze]=Ue,cr[Fe]=ze,Xe<=xr){var Ge=Ce-xr;if((vr>7e3||Rr>24576)&&(Ge>423||!He)){We=wblk(Re,qe,0,ur,gr,jr,dr,Rr,Pe,xr-Pe,We),Rr=vr=dr=0,Pe=xr;for(var Ze=0;Ze<286;++Ze)gr[Ze]=0;for(var Ze=0;Ze<30;++Ze)jr[Ze]=0}var er=2,Ve=0,Ie=Qe,Ye=ze-Ue&32767;if(Ge>2&&Fe==pr(xr-Ye))for(var ir=Math.min(Je,Ge)-1,lr=Math.min(32767,xr),br=Math.min(258,Ge);Ye<=lr&&--Ie&&ze!=Ue;){if(Re[xr+er]==Re[xr+er-Ye]){for(var _r=0;_r<br&&Re[xr+_r]==Re[xr+_r-Ye];++_r);if(_r>er){if(er=_r,Ve=Ye,_r>ir)break;for(var Sr=Math.min(Ye,_r-2),wr=0,Ze=0;Ze<Sr;++Ze){var Nr=xr-Ye+Ze&32767,kr=tr[Nr],Lr=Nr-kr&32767;Lr>wr&&(wr=Lr,Ue=Nr)}}}ze=Ue,Ue=tr[ze],Ye+=ze-Ue&32767}if(Ve){ur[Rr++]=268435456|revfl[er]<<18|revfd[Ve];var Xr=revfl[er]&31,Ur=revfd[Ve]&31;dr+=fleb[Xr]+fdeb[Ur],++gr[257+Xr],++jr[Ur],Xe=xr+er,++vr}else ur[Rr++]=Re[xr],++gr[Re[xr]]}}for(xr=Math.max(xr,Xe);xr<Ce;++xr)ur[Rr++]=Re[xr],++gr[Re[xr]];We=wblk(Re,qe,He,ur,gr,jr,dr,Rr,Pe,xr-Pe,We),He||(ke.r=We&7|qe[We/8|0]<<3,We-=7,ke.h=cr,ke.p=tr,ke.i=xr,ke.w=Xe)}else{for(var xr=ke.w||0;xr<Ce+He;xr+=65535){var Gr=xr+65535;Gr>=Ce&&(qe[We/8|0]=He,Gr=Ce),We=wfblk(qe,We+1,Re.subarray(xr,Gr))}ke.i=Ce}return slc(Be,0,Me+shft(We)+$e)},adler=function(){var Re=1,je=0;return{p:function(_e){for(var Me=Re,$e=je,ke=_e.length|0,Ce=0;Ce!=ke;){for(var Be=Math.min(Ce+2655,ke);Ce<Be;++Ce)$e+=Me+=_e[Ce];Me=(Me&65535)+15*(Me>>16),$e=($e&65535)+15*($e>>16)}Re=Me,je=$e},d:function(){return Re%=65521,je%=65521,(Re&255)<<24|(Re&65280)<<8|(je&255)<<8|je>>8}}},dopt=function(Re,je,_e,Me,$e){if(!$e&&($e={l:1},je.dictionary)){var ke=je.dictionary.subarray(-32768),Ce=new u8(ke.length+Re.length);Ce.set(ke),Ce.set(Re,ke.length),Re=Ce,$e.w=ke.length}return dflt(Re,je.level==null?6:je.level,je.mem==null?$e.l?Math.ceil(Math.max(8,Math.min(13,Math.log(Re.length)))*1.5):20:12+je.mem,_e,Me,$e)},wbytes=function(Re,je,_e){for(;_e;++je)Re[je]=_e,_e>>>=8},zlh=function(Re,je){var _e=je.level,Me=_e==0?0:_e<6?1:_e==9?3:2;if(Re[0]=120,Re[1]=Me<<6|(je.dictionary&&32),Re[1]|=31-(Re[0]<<8|Re[1])%31,je.dictionary){var $e=adler();$e.p(je.dictionary),wbytes(Re,2,$e.d())}},zls=function(Re,je){return((Re[0]&15)!=8||Re[0]>>4>7||(Re[0]<<8|Re[1])%31)&&err(6,"invalid zlib data"),(Re[1]>>5&1)==+!je&&err(6,"invalid zlib data: "+(Re[1]&32?"need":"unexpected")+" dictionary"),(Re[1]>>3&4)+2};function zlibSync(Re,je){je||(je={});var _e=adler();_e.p(Re);var Me=dopt(Re,je,je.dictionary?6:2,4);return zlh(Me,je),wbytes(Me,Me.length-4,_e.d()),Me}function unzlibSync(Re,je){return inflt(Re.subarray(zls(Re,je),-4),{i:2},je,je)}var td=typeof TextDecoder<"u"&&new TextDecoder,tds=0;try{td.decode(et$1,{stream:!0}),tds=1}catch(Re){}var n$1=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function i$3(){n$1.console&&typeof n$1.console.log=="function"&&n$1.console.log.apply(n$1.console,arguments)}var a$1={log:i$3,warn:function(Re){n$1.console&&(typeof n$1.console.warn=="function"?n$1.console.warn.apply(n$1.console,arguments):i$3.call(null,arguments))},error:function(Re){n$1.console&&(typeof n$1.console.error=="function"?n$1.console.error.apply(n$1.console,arguments):i$3(Re))}};function o$5(Re,je,_e){var Me=new XMLHttpRequest;Me.open("GET",Re),Me.responseType="blob",Me.onload=function(){l$2(Me.response,je,_e)},Me.onerror=function(){a$1.error("could not download file")},Me.send()}function s$4(Re){var je=new XMLHttpRequest;je.open("HEAD",Re,!1);try{je.send()}catch{}return je.status>=200&&je.status<=299}function c(Re){try{Re.dispatchEvent(new MouseEvent("click"))}catch{var je=document.createEvent("MouseEvents");je.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),Re.dispatchEvent(je)}}var u$3,h,l$2=n$1.saveAs||((typeof window>"u"?"undefined":_typeof$1(window))!=="object"||window!==n$1?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(Re,je,_e){var Me=n$1.URL||n$1.webkitURL,$e=document.createElement("a");je=je||Re.name||"download",$e.download=je,$e.rel="noopener",typeof Re=="string"?($e.href=Re,$e.origin!==location.origin?s$4($e.href)?o$5(Re,je,_e):c($e,$e.target="_blank"):c($e)):($e.href=Me.createObjectURL(Re),setTimeout(function(){Me.revokeObjectURL($e.href)},4e4),setTimeout(function(){c($e)},0))}:"msSaveOrOpenBlob"in navigator?function(Re,je,_e){if(je=je||Re.name||"download",typeof Re=="string")if(s$4(Re))o$5(Re,je,_e);else{var Me=document.createElement("a");Me.href=Re,Me.target="_blank",setTimeout(function(){c(Me)})}else navigator.msSaveOrOpenBlob(function($e,ke){return ke===void 0?ke={autoBom:!1}:_typeof$1(ke)!=="object"&&(a$1.warn("Deprecated: Expected third argument to be a object"),ke={autoBom:!ke}),ke.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test($e.type)?new Blob(["\uFEFF",$e],{type:$e.type}):$e}(Re,_e),je)}:function(Re,je,_e,Me){if((Me=Me||open("","_blank"))&&(Me.document.title=Me.document.body.innerText="downloading..."),typeof Re=="string")return o$5(Re,je,_e);var $e=Re.type==="application/octet-stream",ke=/constructor/i.test(n$1.HTMLElement)||n$1.safari,Ce=/CriOS\/[\d]+/.test(navigator.userAgent);if((Ce||$e&&ke)&&(typeof FileReader>"u"?"undefined":_typeof$1(FileReader))==="object"){var Be=new FileReader;Be.onloadend=function(){var We=Be.result;We=Ce?We:We.replace(/^data:[^;]*;/,"data:attachment/file;"),Me?Me.location.href=We:location=We,Me=null},Be.readAsDataURL(Re)}else{var qe=n$1.URL||n$1.webkitURL,He=qe.createObjectURL(Re);Me?Me.location=He:location.href=He,Me=null,setTimeout(function(){qe.revokeObjectURL(He)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function f(Re){var je;Re=Re||"",this.ok=!1,Re.charAt(0)=="#"&&(Re=Re.substr(1,6)),Re={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[Re=(Re=Re.replace(/ /g,"")).toLowerCase()]||Re;for(var _e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(Be){return[parseInt(Be[1]),parseInt(Be[2]),parseInt(Be[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(Be){return[parseInt(Be[1],16),parseInt(Be[2],16),parseInt(Be[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(Be){return[parseInt(Be[1]+Be[1],16),parseInt(Be[2]+Be[2],16),parseInt(Be[3]+Be[3],16)]}}],Me=0;Me<_e.length;Me++){var $e=_e[Me].re,ke=_e[Me].process,Ce=$e.exec(Re);Ce&&(je=ke(Ce),this.r=je[0],this.g=je[1],this.b=je[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var Be=this.r.toString(16),qe=this.g.toString(16),He=this.b.toString(16);return Be.length==1&&(Be="0"+Be),qe.length==1&&(qe="0"+qe),He.length==1&&(He="0"+He),"#"+Be+qe+He}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function d$2(Re,je){var _e=Re[0],Me=Re[1],$e=Re[2],ke=Re[3];_e=g(_e,Me,$e,ke,je[0],7,-680876936),ke=g(ke,_e,Me,$e,je[1],12,-389564586),$e=g($e,ke,_e,Me,je[2],17,606105819),Me=g(Me,$e,ke,_e,je[3],22,-1044525330),_e=g(_e,Me,$e,ke,je[4],7,-176418897),ke=g(ke,_e,Me,$e,je[5],12,1200080426),$e=g($e,ke,_e,Me,je[6],17,-1473231341),Me=g(Me,$e,ke,_e,je[7],22,-45705983),_e=g(_e,Me,$e,ke,je[8],7,1770035416),ke=g(ke,_e,Me,$e,je[9],12,-1958414417),$e=g($e,ke,_e,Me,je[10],17,-42063),Me=g(Me,$e,ke,_e,je[11],22,-1990404162),_e=g(_e,Me,$e,ke,je[12],7,1804603682),ke=g(ke,_e,Me,$e,je[13],12,-40341101),$e=g($e,ke,_e,Me,je[14],17,-1502002290),_e=m$1(_e,Me=g(Me,$e,ke,_e,je[15],22,1236535329),$e,ke,je[1],5,-165796510),ke=m$1(ke,_e,Me,$e,je[6],9,-1069501632),$e=m$1($e,ke,_e,Me,je[11],14,643717713),Me=m$1(Me,$e,ke,_e,je[0],20,-373897302),_e=m$1(_e,Me,$e,ke,je[5],5,-701558691),ke=m$1(ke,_e,Me,$e,je[10],9,38016083),$e=m$1($e,ke,_e,Me,je[15],14,-660478335),Me=m$1(Me,$e,ke,_e,je[4],20,-405537848),_e=m$1(_e,Me,$e,ke,je[9],5,568446438),ke=m$1(ke,_e,Me,$e,je[14],9,-1019803690),$e=m$1($e,ke,_e,Me,je[3],14,-187363961),Me=m$1(Me,$e,ke,_e,je[8],20,1163531501),_e=m$1(_e,Me,$e,ke,je[13],5,-1444681467),ke=m$1(ke,_e,Me,$e,je[2],9,-51403784),$e=m$1($e,ke,_e,Me,je[7],14,1735328473),_e=v$2(_e,Me=m$1(Me,$e,ke,_e,je[12],20,-1926607734),$e,ke,je[5],4,-378558),ke=v$2(ke,_e,Me,$e,je[8],11,-2022574463),$e=v$2($e,ke,_e,Me,je[11],16,1839030562),Me=v$2(Me,$e,ke,_e,je[14],23,-35309556),_e=v$2(_e,Me,$e,ke,je[1],4,-1530992060),ke=v$2(ke,_e,Me,$e,je[4],11,1272893353),$e=v$2($e,ke,_e,Me,je[7],16,-155497632),Me=v$2(Me,$e,ke,_e,je[10],23,-1094730640),_e=v$2(_e,Me,$e,ke,je[13],4,681279174),ke=v$2(ke,_e,Me,$e,je[0],11,-358537222),$e=v$2($e,ke,_e,Me,je[3],16,-722521979),Me=v$2(Me,$e,ke,_e,je[6],23,76029189),_e=v$2(_e,Me,$e,ke,je[9],4,-640364487),ke=v$2(ke,_e,Me,$e,je[12],11,-421815835),$e=v$2($e,ke,_e,Me,je[15],16,530742520),_e=b(_e,Me=v$2(Me,$e,ke,_e,je[2],23,-995338651),$e,ke,je[0],6,-198630844),ke=b(ke,_e,Me,$e,je[7],10,1126891415),$e=b($e,ke,_e,Me,je[14],15,-1416354905),Me=b(Me,$e,ke,_e,je[5],21,-57434055),_e=b(_e,Me,$e,ke,je[12],6,1700485571),ke=b(ke,_e,Me,$e,je[3],10,-1894986606),$e=b($e,ke,_e,Me,je[10],15,-1051523),Me=b(Me,$e,ke,_e,je[1],21,-2054922799),_e=b(_e,Me,$e,ke,je[8],6,1873313359),ke=b(ke,_e,Me,$e,je[15],10,-30611744),$e=b($e,ke,_e,Me,je[6],15,-1560198380),Me=b(Me,$e,ke,_e,je[13],21,1309151649),_e=b(_e,Me,$e,ke,je[4],6,-145523070),ke=b(ke,_e,Me,$e,je[11],10,-1120210379),$e=b($e,ke,_e,Me,je[2],15,718787259),Me=b(Me,$e,ke,_e,je[9],21,-343485551),Re[0]=_$1(_e,Re[0]),Re[1]=_$1(Me,Re[1]),Re[2]=_$1($e,Re[2]),Re[3]=_$1(ke,Re[3])}function p(Re,je,_e,Me,$e,ke){return je=_$1(_$1(je,Re),_$1(Me,ke)),_$1(je<<$e|je>>>32-$e,_e)}function g(Re,je,_e,Me,$e,ke,Ce){return p(je&_e|~je&Me,Re,je,$e,ke,Ce)}function m$1(Re,je,_e,Me,$e,ke,Ce){return p(je&Me|_e&~Me,Re,je,$e,ke,Ce)}function v$2(Re,je,_e,Me,$e,ke,Ce){return p(je^_e^Me,Re,je,$e,ke,Ce)}function b(Re,je,_e,Me,$e,ke,Ce){return p(_e^(je|~Me),Re,je,$e,ke,Ce)}function y$1(Re){var je,_e=Re.length,Me=[1732584193,-271733879,-1732584194,271733878];for(je=64;je<=Re.length;je+=64)d$2(Me,w(Re.substring(je-64,je)));Re=Re.substring(je-64);var $e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(je=0;je<Re.length;je++)$e[je>>2]|=Re.charCodeAt(je)<<(je%4<<3);if($e[je>>2]|=128<<(je%4<<3),je>55)for(d$2(Me,$e),je=0;je<16;je++)$e[je]=0;return $e[14]=8*_e,d$2(Me,$e),Me}function w(Re){var je,_e=[];for(je=0;je<64;je+=4)_e[je>>2]=Re.charCodeAt(je)+(Re.charCodeAt(je+1)<<8)+(Re.charCodeAt(je+2)<<16)+(Re.charCodeAt(je+3)<<24);return _e}u$3=n$1.atob.bind(n$1),h=n$1.btoa.bind(n$1);var N="0123456789abcdef".split("");function L(Re){for(var je="",_e=0;_e<4;_e++)je+=N[Re>>8*_e+4&15]+N[Re>>8*_e&15];return je}function A(Re){return String.fromCharCode((255&Re)>>0,(65280&Re)>>8,(16711680&Re)>>16,(4278190080&Re)>>24)}function x$1(Re){return y$1(Re).map(A).join("")}var S=function(Re){for(var je=0;je<Re.length;je++)Re[je]=L(Re[je]);return Re.join("")}(y$1("hello"))!="5d41402abc4b2a76b9719d911017c592";function _$1(Re,je){if(S){var _e=(65535&Re)+(65535&je);return(Re>>16)+(je>>16)+(_e>>16)<<16|65535&_e}return Re+je&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function P(Re,je){var _e,Me,$e,ke;if(Re!==_e){for(var Ce=($e=Re,ke=1+(256/Re.length>>0),new Array(ke+1).join($e)),Be=[],qe=0;qe<256;qe++)Be[qe]=qe;var He=0;for(qe=0;qe<256;qe++){var We=Be[qe];He=(He+We+Ce.charCodeAt(qe))%256,Be[qe]=Be[He],Be[He]=We}_e=Re,Me=Be}else Be=Me;var Ke=je.length,Je=0,Qe=0,rr="";for(qe=0;qe<Ke;qe++)Qe=(Qe+(We=Be[Je=(Je+1)%256]))%256,Be[Je]=Be[Qe],Be[Qe]=We,Ce=Be[(Be[Je]+Be[Qe])%256],rr+=String.fromCharCode(je.charCodeAt(qe)^Ce);return rr}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var k$1={print:4,modify:8,copy:16,"annot-forms":32};function I$2(Re,je,_e,Me){this.v=1,this.r=2;var $e=192;Re.forEach(function(Be){if(k$1.perm!==void 0)throw new Error("Invalid permission: "+Be);$e+=k$1[Be]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var ke=(je+this.padding).substr(0,32),Ce=(_e+this.padding).substr(0,32);this.O=this.processOwnerPassword(ke,Ce),this.P=-(1+(255^$e)),this.encryptionKey=x$1(ke+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(Me)).substr(0,5),this.U=P(this.encryptionKey,this.padding)}function F$2(Re){if(/[^\u0000-\u00ff]/.test(Re))throw new Error("Invalid PDF Name Object: "+Re+", Only accept ASCII characters.");for(var je="",_e=Re.length,Me=0;Me<_e;Me++){var $e=Re.charCodeAt(Me);$e<33||$e===35||$e===37||$e===40||$e===41||$e===47||$e===60||$e===62||$e===91||$e===93||$e===123||$e===125||$e>126?je+="#"+("0"+$e.toString(16)).slice(-2):je+=Re[Me]}return je}function C$1(Re){if(_typeof$1(Re)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var je={};this.subscribe=function(_e,Me,$e){if($e=$e||!1,typeof _e!="string"||typeof Me!="function"||typeof $e!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");je.hasOwnProperty(_e)||(je[_e]={});var ke=Math.random().toString(35);return je[_e][ke]=[Me,!!$e],ke},this.unsubscribe=function(_e){for(var Me in je)if(je[Me][_e])return delete je[Me][_e],Object.keys(je[Me]).length===0&&delete je[Me],!0;return!1},this.publish=function(_e){if(je.hasOwnProperty(_e)){var Me=Array.prototype.slice.call(arguments,1),$e=[];for(var ke in je[_e]){var Ce=je[_e][ke];try{Ce[0].apply(Re,Me)}catch(Be){n$1.console&&a$1.error("jsPDF PubSub Error",Be.message,Be)}Ce[1]&&$e.push(ke)}$e.length&&$e.forEach(this.unsubscribe)}},this.getTopics=function(){return je}}function j(Re){if(!(this instanceof j))return new j(Re);var je="opacity,stroke-opacity".split(",");for(var _e in Re)Re.hasOwnProperty(_e)&&je.indexOf(_e)>=0&&(this[_e]=Re[_e]);this.id="",this.objectNumber=-1}function O$1(Re,je){this.gState=Re,this.matrix=je,this.id="",this.objectNumber=-1}function B(Re,je,_e,Me,$e){if(!(this instanceof B))return new B(Re,je,_e,Me,$e);this.type=Re==="axial"?2:3,this.coords=je,this.colors=_e,O$1.call(this,Me,$e)}function M$1(Re,je,_e,Me,$e){if(!(this instanceof M$1))return new M$1(Re,je,_e,Me,$e);this.boundingBox=Re,this.xStep=je,this.yStep=_e,this.stream="",this.cloneIndex=0,O$1.call(this,Me,$e)}function E(Re){var je,_e=typeof arguments[0]=="string"?arguments[0]:"p",Me=arguments[1],$e=arguments[2],ke=arguments[3],Ce=[],Be=1,qe=16,He="S",We=null;_typeof$1(Re=Re||{})==="object"&&(_e=Re.orientation,Me=Re.unit||Me,$e=Re.format||$e,ke=Re.compress||Re.compressPdf||ke,(We=Re.encryption||null)!==null&&(We.userPassword=We.userPassword||"",We.ownerPassword=We.ownerPassword||"",We.userPermissions=We.userPermissions||[]),Be=typeof Re.userUnit=="number"?Math.abs(Re.userUnit):1,Re.precision!==void 0&&(je=Re.precision),Re.floatPrecision!==void 0&&(qe=Re.floatPrecision),He=Re.defaultPathOperation||"S"),Ce=Re.filters||(ke===!0?["FlateEncode"]:Ce),Me=Me||"mm",_e=(""+(_e||"P")).toLowerCase();var Ke=Re.putOnlyUsedFonts||!1,Je={},Qe={internal:{},__private__:{}};Qe.__private__.PubSub=C$1;var rr="1.3",tr=Qe.__private__.getPdfVersion=function(){return rr};Qe.__private__.setPdfVersion=function(yr){rr=yr};var cr={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};Qe.__private__.getPageFormats=function(){return cr};var or=Qe.__private__.getPageFormat=function(yr){return cr[yr]};$e=$e||"a4";var ar={COMPAT:"compat",ADVANCED:"advanced"},pr=ar.COMPAT;function ur(){this.saveGraphicsState(),Cr(new Us(Qr,0,0,-Qr,0,Un()*Qr).toString()+" cm"),this.setFontSize(this.getFontSize()/Qr),He="n",pr=ar.ADVANCED}function gr(){this.restoreGraphicsState(),He="S",pr=ar.COMPAT}var jr=Qe.__private__.combineFontStyleAndFontWeight=function(yr,Pr){if(yr=="bold"&&Pr=="normal"||yr=="bold"&&Pr==400||yr=="normal"&&Pr=="italic"||yr=="bold"&&Pr=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Pr&&(yr=Pr==400||Pr==="normal"?yr==="italic"?"italic":"normal":Pr!=700&&Pr!=="bold"||yr!=="normal"?(Pr==700?"bold":Pr)+""+yr:"bold"),yr};Qe.advancedAPI=function(yr){var Pr=pr===ar.COMPAT;return Pr&&ur.call(this),typeof yr!="function"||(yr(this),Pr&&gr.call(this)),this},Qe.compatAPI=function(yr){var Pr=pr===ar.ADVANCED;return Pr&&gr.call(this),typeof yr!="function"||(yr(this),Pr&&ur.call(this)),this},Qe.isAdvancedAPI=function(){return pr===ar.ADVANCED};var vr,dr=function(yr){if(pr!==ar.ADVANCED)throw new Error(yr+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},xr=Qe.roundToPrecision=Qe.__private__.roundToPrecision=function(yr,Pr){var Yr=je||Pr;if(isNaN(yr)||isNaN(Yr))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return yr.toFixed(Yr).replace(/0+$/,"")};vr=Qe.hpf=Qe.__private__.hpf=typeof qe=="number"?function(yr){if(isNaN(yr))throw new Error("Invalid argument passed to jsPDF.hpf");return xr(yr,qe)}:qe==="smart"?function(yr){if(isNaN(yr))throw new Error("Invalid argument passed to jsPDF.hpf");return xr(yr,yr>-1&&yr<1?16:5)}:function(yr){if(isNaN(yr))throw new Error("Invalid argument passed to jsPDF.hpf");return xr(yr,16)};var Rr=Qe.f2=Qe.__private__.f2=function(yr){if(isNaN(yr))throw new Error("Invalid argument passed to jsPDF.f2");return xr(yr,2)},Xe=Qe.__private__.f3=function(yr){if(isNaN(yr))throw new Error("Invalid argument passed to jsPDF.f3");return xr(yr,3)},Pe=Qe.scale=Qe.__private__.scale=function(yr){if(isNaN(yr))throw new Error("Invalid argument passed to jsPDF.scale");return pr===ar.COMPAT?yr*Qr:pr===ar.ADVANCED?yr:void 0},Fe=function(yr){return pr===ar.COMPAT?Un()-yr:pr===ar.ADVANCED?yr:void 0},ze=function(yr){return Pe(Fe(yr))};Qe.__private__.setPrecision=Qe.setPrecision=function(yr){typeof parseInt(yr,10)=="number"&&(je=parseInt(yr,10))};var Ue,Ge="00000000000000000000000000000000",Ze=Qe.__private__.getFileId=function(){return Ge},er=Qe.__private__.setFileId=function(yr){return Ge=yr!==void 0&&/^[a-fA-F0-9]{32}$/.test(yr)?yr.toUpperCase():Ge.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),We!==null&&(Qi=new I$2(We.userPermissions,We.userPassword,We.ownerPassword,Ge)),Ge};Qe.setFileId=function(yr){return er(yr),this},Qe.getFileId=function(){return Ze()};var Ve=Qe.__private__.convertDateToPDFDate=function(yr){var Pr=yr.getTimezoneOffset(),Yr=Pr<0?"+":"-",es=Math.floor(Math.abs(Pr/60)),hs=Math.abs(Pr%60),Cs=[Yr,br(es),"'",br(hs),"'"].join("");return["D:",yr.getFullYear(),br(yr.getMonth()+1),br(yr.getDate()),br(yr.getHours()),br(yr.getMinutes()),br(yr.getSeconds()),Cs].join("")},Ie=Qe.__private__.convertPDFDateToDate=function(yr){var Pr=parseInt(yr.substr(2,4),10),Yr=parseInt(yr.substr(6,2),10)-1,es=parseInt(yr.substr(8,2),10),hs=parseInt(yr.substr(10,2),10),Cs=parseInt(yr.substr(12,2),10),Bs=parseInt(yr.substr(14,2),10);return new Date(Pr,Yr,es,hs,Cs,Bs,0)},Ye=Qe.__private__.setCreationDate=function(yr){var Pr;if(yr===void 0&&(yr=new Date),yr instanceof Date)Pr=Ve(yr);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(yr))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Pr=yr}return Ue=Pr},ir=Qe.__private__.getCreationDate=function(yr){var Pr=Ue;return yr==="jsDate"&&(Pr=Ie(Ue)),Pr};Qe.setCreationDate=function(yr){return Ye(yr),this},Qe.getCreationDate=function(yr){return ir(yr)};var lr,br=Qe.__private__.padd2=function(yr){return("0"+parseInt(yr)).slice(-2)},_r=Qe.__private__.padd2Hex=function(yr){return("00"+(yr=yr.toString())).substr(yr.length)},Sr=0,wr=[],Nr=[],kr=0,Lr=[],Xr=[],Ur=!1,Gr=Nr,Ts=function(){Sr=0,kr=0,Nr=[],wr=[],Lr=[],$s=Rs(),ai=Rs()};Qe.__private__.setCustomOutputDestination=function(yr){Ur=!0,Gr=yr};var Br=function(yr){Ur||(Gr=yr)};Qe.__private__.resetCustomOutputDestination=function(){Ur=!1,Gr=Nr};var Cr=Qe.__private__.out=function(yr){return yr=yr.toString(),kr+=yr.length+1,Gr.push(yr),Gr},qs=Qe.__private__.write=function(yr){return Cr(arguments.length===1?yr.toString():Array.prototype.join.call(arguments," "))},$r=Qe.__private__.getArrayBuffer=function(yr){for(var Pr=yr.length,Yr=new ArrayBuffer(Pr),es=new Uint8Array(Yr);Pr--;)es[Pr]=yr.charCodeAt(Pr);return Yr},Tr=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];Qe.__private__.getStandardFonts=function(){return Tr};var Kr=Re.fontSize||16;Qe.__private__.setFontSize=Qe.setFontSize=function(yr){return Kr=pr===ar.ADVANCED?yr/Qr:yr,this};var qr,Hr=Qe.__private__.getFontSize=Qe.getFontSize=function(){return pr===ar.COMPAT?Kr:Kr*Qr},ss=Re.R2L||!1;Qe.__private__.setR2L=Qe.setR2L=function(yr){return ss=yr,this},Qe.__private__.getR2L=Qe.getR2L=function(){return ss};var Vr,Zr=Qe.__private__.setZoomMode=function(yr){var Pr=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(yr))qr=yr;else if(isNaN(yr)){if(Pr.indexOf(yr)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+yr+'" is not recognized.');qr=yr}else qr=parseInt(yr,10)};Qe.__private__.getZoomMode=function(){return qr};var Is,Jr=Qe.__private__.setPageMode=function(yr){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(yr)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+yr+'" is not recognized.');Vr=yr};Qe.__private__.getPageMode=function(){return Vr};var cs=Qe.__private__.setLayoutMode=function(yr){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(yr)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+yr+'" is not recognized.');Is=yr};Qe.__private__.getLayoutMode=function(){return Is},Qe.__private__.setDisplayMode=Qe.setDisplayMode=function(yr,Pr,Yr){return Zr(yr),cs(Pr),Jr(Yr),this};var zs={title:"",subject:"",author:"",keywords:"",creator:""};Qe.__private__.getDocumentProperty=function(yr){if(Object.keys(zs).indexOf(yr)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return zs[yr]},Qe.__private__.getDocumentProperties=function(){return zs},Qe.__private__.setDocumentProperties=Qe.setProperties=Qe.setDocumentProperties=function(yr){for(var Pr in zs)zs.hasOwnProperty(Pr)&&yr[Pr]&&(zs[Pr]=yr[Pr]);return this},Qe.__private__.setDocumentProperty=function(yr,Pr){if(Object.keys(zs).indexOf(yr)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return zs[yr]=Pr};var ns,Qr,Zs,os,_s,Ys={},ds={},Ns=[],Xs={},ys={},ws={},ni={},bs=null,Es=0,Hs=[],us=new C$1(Qe),As=Re.hotfixes||[],Qs={},vs={},Ms=[],Us=function yr(Pr,Yr,es,hs,Cs,Bs){if(!(this instanceof yr))return new yr(Pr,Yr,es,hs,Cs,Bs);isNaN(Pr)&&(Pr=1),isNaN(Yr)&&(Yr=0),isNaN(es)&&(es=0),isNaN(hs)&&(hs=1),isNaN(Cs)&&(Cs=0),isNaN(Bs)&&(Bs=0),this._matrix=[Pr,Yr,es,hs,Cs,Bs]};Object.defineProperty(Us.prototype,"sx",{get:function(){return this._matrix[0]},set:function(yr){this._matrix[0]=yr}}),Object.defineProperty(Us.prototype,"shy",{get:function(){return this._matrix[1]},set:function(yr){this._matrix[1]=yr}}),Object.defineProperty(Us.prototype,"shx",{get:function(){return this._matrix[2]},set:function(yr){this._matrix[2]=yr}}),Object.defineProperty(Us.prototype,"sy",{get:function(){return this._matrix[3]},set:function(yr){this._matrix[3]=yr}}),Object.defineProperty(Us.prototype,"tx",{get:function(){return this._matrix[4]},set:function(yr){this._matrix[4]=yr}}),Object.defineProperty(Us.prototype,"ty",{get:function(){return this._matrix[5]},set:function(yr){this._matrix[5]=yr}}),Object.defineProperty(Us.prototype,"a",{get:function(){return this._matrix[0]},set:function(yr){this._matrix[0]=yr}}),Object.defineProperty(Us.prototype,"b",{get:function(){return this._matrix[1]},set:function(yr){this._matrix[1]=yr}}),Object.defineProperty(Us.prototype,"c",{get:function(){return this._matrix[2]},set:function(yr){this._matrix[2]=yr}}),Object.defineProperty(Us.prototype,"d",{get:function(){return this._matrix[3]},set:function(yr){this._matrix[3]=yr}}),Object.defineProperty(Us.prototype,"e",{get:function(){return this._matrix[4]},set:function(yr){this._matrix[4]=yr}}),Object.defineProperty(Us.prototype,"f",{get:function(){return this._matrix[5]},set:function(yr){this._matrix[5]=yr}}),Object.defineProperty(Us.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Us.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Us.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Us.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Us.prototype.join=function(yr){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(vr).join(yr)},Us.prototype.multiply=function(yr){var Pr=yr.sx*this.sx+yr.shy*this.shx,Yr=yr.sx*this.shy+yr.shy*this.sy,es=yr.shx*this.sx+yr.sy*this.shx,hs=yr.shx*this.shy+yr.sy*this.sy,Cs=yr.tx*this.sx+yr.ty*this.shx+this.tx,Bs=yr.tx*this.shy+yr.ty*this.sy+this.ty;return new Us(Pr,Yr,es,hs,Cs,Bs)},Us.prototype.decompose=function(){var yr=this.sx,Pr=this.shy,Yr=this.shx,es=this.sy,hs=this.tx,Cs=this.ty,Bs=Math.sqrt(yr*yr+Pr*Pr),Gs=(yr/=Bs)*Yr+(Pr/=Bs)*es;Yr-=yr*Gs,es-=Pr*Gs;var ti=Math.sqrt(Yr*Yr+es*es);return Gs/=ti,yr*(es/=ti)<Pr*(Yr/=ti)&&(yr=-yr,Pr=-Pr,Gs=-Gs,Bs=-Bs),{scale:new Us(Bs,0,0,ti,0,0),translate:new Us(1,0,0,1,hs,Cs),rotate:new Us(yr,Pr,-Pr,yr,0,0),skew:new Us(1,0,Gs,1,0,0)}},Us.prototype.toString=function(yr){return this.join(" ")},Us.prototype.inversed=function(){var yr=this.sx,Pr=this.shy,Yr=this.shx,es=this.sy,hs=this.tx,Cs=this.ty,Bs=1/(yr*es-Pr*Yr),Gs=es*Bs,ti=-Pr*Bs,ci=-Yr*Bs,li=yr*Bs;return new Us(Gs,ti,ci,li,-Gs*hs-ci*Cs,-ti*hs-li*Cs)},Us.prototype.applyToPoint=function(yr){var Pr=yr.x*this.sx+yr.y*this.shx+this.tx,Yr=yr.x*this.shy+yr.y*this.sy+this.ty;return new va(Pr,Yr)},Us.prototype.applyToRectangle=function(yr){var Pr=this.applyToPoint(yr),Yr=this.applyToPoint(new va(yr.x+yr.w,yr.y+yr.h));return new Ha(Pr.x,Pr.y,Yr.x-Pr.x,Yr.y-Pr.y)},Us.prototype.clone=function(){var yr=this.sx,Pr=this.shy,Yr=this.shx,es=this.sy,hs=this.tx,Cs=this.ty;return new Us(yr,Pr,Yr,es,hs,Cs)},Qe.Matrix=Us;var xs=Qe.matrixMult=function(yr,Pr){return Pr.multiply(yr)},ks=new Us(1,0,0,1,0,0);Qe.unitMatrix=Qe.identityMatrix=ks;var ri=function(yr,Pr){if(!ys[yr]){var Yr=(Pr instanceof B?"Sh":"P")+(Object.keys(Xs).length+1).toString(10);Pr.id=Yr,ys[yr]=Yr,Xs[Yr]=Pr,us.publish("addPattern",Pr)}};Qe.ShadingPattern=B,Qe.TilingPattern=M$1,Qe.addShadingPattern=function(yr,Pr){return dr("addShadingPattern()"),ri(yr,Pr),this},Qe.beginTilingPattern=function(yr){dr("beginTilingPattern()"),No(yr.boundingBox[0],yr.boundingBox[1],yr.boundingBox[2]-yr.boundingBox[0],yr.boundingBox[3]-yr.boundingBox[1],yr.matrix)},Qe.endTilingPattern=function(yr,Pr){dr("endTilingPattern()"),Pr.stream=Xr[lr].join(`
`),ri(yr,Pr),us.publish("endTilingPattern",Pr),Ms.pop().restore()};var fs=Qe.__private__.newObject=function(){var yr=Rs();return si(yr,!0),yr},Rs=Qe.__private__.newObjectDeferred=function(){return Sr++,wr[Sr]=function(){return kr},Sr},si=function(yr,Pr){return Pr=typeof Pr=="boolean"&&Pr,wr[yr]=kr,Pr&&Cr(yr+" 0 obj"),yr},js=Qe.__private__.newAdditionalObject=function(){var yr={objId:Rs(),content:""};return Lr.push(yr),yr},$s=Rs(),ai=Rs(),gs=Qe.__private__.decodeColorString=function(yr){var Pr=yr.split(" ");if(Pr.length!==2||Pr[1]!=="g"&&Pr[1]!=="G")Pr.length===5&&(Pr[4]==="k"||Pr[4]==="K")&&(Pr=[(1-Pr[0])*(1-Pr[3]),(1-Pr[1])*(1-Pr[3]),(1-Pr[2])*(1-Pr[3]),"r"]);else{var Yr=parseFloat(Pr[0]);Pr=[Yr,Yr,Yr,"r"]}for(var es="#",hs=0;hs<3;hs++)es+=("0"+Math.floor(255*parseFloat(Pr[hs])).toString(16)).slice(-2);return es},Ss=Qe.__private__.encodeColorString=function(yr){var Pr;typeof yr=="string"&&(yr={ch1:yr});var Yr=yr.ch1,es=yr.ch2,hs=yr.ch3,Cs=yr.ch4,Bs=yr.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Yr=="string"&&Yr.charAt(0)!=="#"){var Gs=new f(Yr);if(Gs.ok)Yr=Gs.toHex();else if(!/^\d*\.?\d*$/.test(Yr))throw new Error('Invalid color "'+Yr+'" passed to jsPDF.encodeColorString.')}if(typeof Yr=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Yr)&&(Yr="#"+Yr[1]+Yr[1]+Yr[2]+Yr[2]+Yr[3]+Yr[3]),typeof Yr=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Yr)){var ti=parseInt(Yr.substr(1),16);Yr=ti>>16&255,es=ti>>8&255,hs=255&ti}if(es===void 0||Cs===void 0&&Yr===es&&es===hs)if(typeof Yr=="string")Pr=Yr+" "+Bs[0];else switch(yr.precision){case 2:Pr=Rr(Yr/255)+" "+Bs[0];break;case 3:default:Pr=Xe(Yr/255)+" "+Bs[0]}else if(Cs===void 0||_typeof$1(Cs)==="object"){if(Cs&&!isNaN(Cs.a)&&Cs.a===0)return Pr=["1.","1.","1.",Bs[1]].join(" ");if(typeof Yr=="string")Pr=[Yr,es,hs,Bs[1]].join(" ");else switch(yr.precision){case 2:Pr=[Rr(Yr/255),Rr(es/255),Rr(hs/255),Bs[1]].join(" ");break;default:case 3:Pr=[Xe(Yr/255),Xe(es/255),Xe(hs/255),Bs[1]].join(" ")}}else if(typeof Yr=="string")Pr=[Yr,es,hs,Cs,Bs[2]].join(" ");else switch(yr.precision){case 2:Pr=[Rr(Yr),Rr(es),Rr(hs),Rr(Cs),Bs[2]].join(" ");break;case 3:default:Pr=[Xe(Yr),Xe(es),Xe(hs),Xe(Cs),Bs[2]].join(" ")}return Pr},ei=Qe.__private__.getFilters=function(){return Ce},Js=Qe.__private__.putStream=function(yr){var Pr=(yr=yr||{}).data||"",Yr=yr.filters||ei(),es=yr.alreadyAppliedFilters||[],hs=yr.addLength1||!1,Cs=Pr.length,Bs=yr.objectId,Gs=function(en){return en};if(We!==null&&Bs===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");We!==null&&(Gs=Qi.encryptor(Bs,0));var ti={};Yr===!0&&(Yr=["FlateEncode"]);var ci=yr.additionalKeyValues||[],li=(ti=E.API.processDataByFilters!==void 0?E.API.processDataByFilters(Pr,Yr):{data:Pr,reverseChain:[]}).reverseChain+(Array.isArray(es)?es.join(" "):es.toString());if(ti.data.length!==0&&(ci.push({key:"Length",value:ti.data.length}),hs===!0&&ci.push({key:"Length1",value:Cs})),li.length!=0)if(li.split("/").length-1==1)ci.push({key:"Filter",value:li});else{ci.push({key:"Filter",value:"["+li+"]"});for(var yi=0;yi<ci.length;yi+=1)if(ci[yi].key==="DecodeParms"){for(var Fi=[],Bi=0;Bi<ti.reverseChain.split("/").length-1;Bi+=1)Fi.push("null");Fi.push(ci[yi].value),ci[yi].value="["+Fi.join(" ")+"]"}}Cr("<<");for(var Hi=0;Hi<ci.length;Hi++)Cr("/"+ci[Hi].key+" "+ci[Hi].value);Cr(">>"),ti.data.length!==0&&(Cr("stream"),Cr(Gs(ti.data)),Cr("endstream"))},di=Qe.__private__.putPage=function(yr){var Pr=yr.number,Yr=yr.data,es=yr.objId,hs=yr.contentsObjId;si(es,!0),Cr("<</Type /Page"),Cr("/Parent "+yr.rootDictionaryObjId+" 0 R"),Cr("/Resources "+yr.resourceDictionaryObjId+" 0 R"),Cr("/MediaBox ["+parseFloat(vr(yr.mediaBox.bottomLeftX))+" "+parseFloat(vr(yr.mediaBox.bottomLeftY))+" "+vr(yr.mediaBox.topRightX)+" "+vr(yr.mediaBox.topRightY)+"]"),yr.cropBox!==null&&Cr("/CropBox ["+vr(yr.cropBox.bottomLeftX)+" "+vr(yr.cropBox.bottomLeftY)+" "+vr(yr.cropBox.topRightX)+" "+vr(yr.cropBox.topRightY)+"]"),yr.bleedBox!==null&&Cr("/BleedBox ["+vr(yr.bleedBox.bottomLeftX)+" "+vr(yr.bleedBox.bottomLeftY)+" "+vr(yr.bleedBox.topRightX)+" "+vr(yr.bleedBox.topRightY)+"]"),yr.trimBox!==null&&Cr("/TrimBox ["+vr(yr.trimBox.bottomLeftX)+" "+vr(yr.trimBox.bottomLeftY)+" "+vr(yr.trimBox.topRightX)+" "+vr(yr.trimBox.topRightY)+"]"),yr.artBox!==null&&Cr("/ArtBox ["+vr(yr.artBox.bottomLeftX)+" "+vr(yr.artBox.bottomLeftY)+" "+vr(yr.artBox.topRightX)+" "+vr(yr.artBox.topRightY)+"]"),typeof yr.userUnit=="number"&&yr.userUnit!==1&&Cr("/UserUnit "+yr.userUnit),us.publish("putPage",{objId:es,pageContext:Hs[Pr],pageNumber:Pr,page:Yr}),Cr("/Contents "+hs+" 0 R"),Cr(">>"),Cr("endobj");var Cs=Yr.join(`
`);return pr===ar.ADVANCED&&(Cs+=`
Q`),si(hs,!0),Js({data:Cs,filters:ei(),objectId:hs}),Cr("endobj"),es},fi=Qe.__private__.putPages=function(){var yr,Pr,Yr=[];for(yr=1;yr<=Es;yr++)Hs[yr].objId=Rs(),Hs[yr].contentsObjId=Rs();for(yr=1;yr<=Es;yr++)Yr.push(di({number:yr,data:Xr[yr],objId:Hs[yr].objId,contentsObjId:Hs[yr].contentsObjId,mediaBox:Hs[yr].mediaBox,cropBox:Hs[yr].cropBox,bleedBox:Hs[yr].bleedBox,trimBox:Hs[yr].trimBox,artBox:Hs[yr].artBox,userUnit:Hs[yr].userUnit,rootDictionaryObjId:$s,resourceDictionaryObjId:ai}));si($s,!0),Cr("<</Type /Pages");var es="/Kids [";for(Pr=0;Pr<Es;Pr++)es+=Yr[Pr]+" 0 R ";Cr(es+"]"),Cr("/Count "+Es),Cr(">>"),Cr("endobj"),us.publish("postPutPages")},mi=function(yr){us.publish("putFont",{font:yr,out:Cr,newObject:fs,putStream:Js}),yr.isAlreadyPutted!==!0&&(yr.objectNumber=fs(),Cr("<<"),Cr("/Type /Font"),Cr("/BaseFont /"+F$2(yr.postScriptName)),Cr("/Subtype /Type1"),typeof yr.encoding=="string"&&Cr("/Encoding /"+yr.encoding),Cr("/FirstChar 32"),Cr("/LastChar 255"),Cr(">>"),Cr("endobj"))},pi=function(){for(var yr in Ys)Ys.hasOwnProperty(yr)&&(Ke===!1||Ke===!0&&Je.hasOwnProperty(yr))&&mi(Ys[yr])},xi=function(yr){yr.objectNumber=fs();var Pr=[];Pr.push({key:"Type",value:"/XObject"}),Pr.push({key:"Subtype",value:"/Form"}),Pr.push({key:"BBox",value:"["+[vr(yr.x),vr(yr.y),vr(yr.x+yr.width),vr(yr.y+yr.height)].join(" ")+"]"}),Pr.push({key:"Matrix",value:"["+yr.matrix.toString()+"]"});var Yr=yr.pages[1].join(`
`);Js({data:Yr,additionalKeyValues:Pr,objectId:yr.objectNumber}),Cr("endobj")},gi=function(){for(var yr in Qs)Qs.hasOwnProperty(yr)&&xi(Qs[yr])},Ei=function(yr,Pr){var Yr,es=[],hs=1/(Pr-1);for(Yr=0;Yr<1;Yr+=hs)es.push(Yr);if(es.push(1),yr[0].offset!=0){var Cs={offset:0,color:yr[0].color};yr.unshift(Cs)}if(yr[yr.length-1].offset!=1){var Bs={offset:1,color:yr[yr.length-1].color};yr.push(Bs)}for(var Gs="",ti=0,ci=0;ci<es.length;ci++){for(Yr=es[ci];Yr>yr[ti+1].offset;)ti++;var li=yr[ti].offset,yi=(Yr-li)/(yr[ti+1].offset-li),Fi=yr[ti].color,Bi=yr[ti+1].color;Gs+=_r(Math.round((1-yi)*Fi[0]+yi*Bi[0]).toString(16))+_r(Math.round((1-yi)*Fi[1]+yi*Bi[1]).toString(16))+_r(Math.round((1-yi)*Fi[2]+yi*Bi[2]).toString(16))}return Gs.trim()},Si=function(yr,Pr){Pr||(Pr=21);var Yr=fs(),es=Ei(yr.colors,Pr),hs=[];hs.push({key:"FunctionType",value:"0"}),hs.push({key:"Domain",value:"[0.0 1.0]"}),hs.push({key:"Size",value:"["+Pr+"]"}),hs.push({key:"BitsPerSample",value:"8"}),hs.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),hs.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Js({data:es,additionalKeyValues:hs,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Yr}),Cr("endobj"),yr.objectNumber=fs(),Cr("<< /ShadingType "+yr.type),Cr("/ColorSpace /DeviceRGB");var Cs="/Coords ["+vr(parseFloat(yr.coords[0]))+" "+vr(parseFloat(yr.coords[1]))+" ";yr.type===2?Cs+=vr(parseFloat(yr.coords[2]))+" "+vr(parseFloat(yr.coords[3])):Cs+=vr(parseFloat(yr.coords[2]))+" "+vr(parseFloat(yr.coords[3]))+" "+vr(parseFloat(yr.coords[4]))+" "+vr(parseFloat(yr.coords[5])),Cr(Cs+="]"),yr.matrix&&Cr("/Matrix ["+yr.matrix.toString()+"]"),Cr("/Function "+Yr+" 0 R"),Cr("/Extend [true true]"),Cr(">>"),Cr("endobj")},Ni=function(yr,Pr){var Yr=Rs(),es=fs();Pr.push({resourcesOid:Yr,objectOid:es}),yr.objectNumber=es;var hs=[];hs.push({key:"Type",value:"/Pattern"}),hs.push({key:"PatternType",value:"1"}),hs.push({key:"PaintType",value:"1"}),hs.push({key:"TilingType",value:"1"}),hs.push({key:"BBox",value:"["+yr.boundingBox.map(vr).join(" ")+"]"}),hs.push({key:"XStep",value:vr(yr.xStep)}),hs.push({key:"YStep",value:vr(yr.yStep)}),hs.push({key:"Resources",value:Yr+" 0 R"}),yr.matrix&&hs.push({key:"Matrix",value:"["+yr.matrix.toString()+"]"}),Js({data:yr.stream,additionalKeyValues:hs,objectId:yr.objectNumber}),Cr("endobj")},vi=function(yr){var Pr;for(Pr in Xs)Xs.hasOwnProperty(Pr)&&(Xs[Pr]instanceof B?Si(Xs[Pr]):Xs[Pr]instanceof M$1&&Ni(Xs[Pr],yr))},Ri=function(yr){for(var Pr in yr.objectNumber=fs(),Cr("<<"),yr)switch(Pr){case"opacity":Cr("/ca "+Rr(yr[Pr]));break;case"stroke-opacity":Cr("/CA "+Rr(yr[Pr]))}Cr(">>"),Cr("endobj")},Mi=function(){var yr;for(yr in ws)ws.hasOwnProperty(yr)&&Ri(ws[yr])},ji=function(){for(var yr in Cr("/XObject <<"),Qs)Qs.hasOwnProperty(yr)&&Qs[yr].objectNumber>=0&&Cr("/"+yr+" "+Qs[yr].objectNumber+" 0 R");us.publish("putXobjectDict"),Cr(">>")},ki=function(){Qi.oid=fs(),Cr("<<"),Cr("/Filter /Standard"),Cr("/V "+Qi.v),Cr("/R "+Qi.r),Cr("/U <"+Qi.toHexString(Qi.U)+">"),Cr("/O <"+Qi.toHexString(Qi.O)+">"),Cr("/P "+Qi.P),Cr(">>"),Cr("endobj")},_i=function(){for(var yr in Cr("/Font <<"),Ys)Ys.hasOwnProperty(yr)&&(Ke===!1||Ke===!0&&Je.hasOwnProperty(yr))&&Cr("/"+yr+" "+Ys[yr].objectNumber+" 0 R");Cr(">>")},$i=function(){if(Object.keys(Xs).length>0){for(var yr in Cr("/Shading <<"),Xs)Xs.hasOwnProperty(yr)&&Xs[yr]instanceof B&&Xs[yr].objectNumber>=0&&Cr("/"+yr+" "+Xs[yr].objectNumber+" 0 R");us.publish("putShadingPatternDict"),Cr(">>")}},bi=function(yr){if(Object.keys(Xs).length>0){for(var Pr in Cr("/Pattern <<"),Xs)Xs.hasOwnProperty(Pr)&&Xs[Pr]instanceof Qe.TilingPattern&&Xs[Pr].objectNumber>=0&&Xs[Pr].objectNumber<yr&&Cr("/"+Pr+" "+Xs[Pr].objectNumber+" 0 R");us.publish("putTilingPatternDict"),Cr(">>")}},ta=function(){if(Object.keys(ws).length>0){var yr;for(yr in Cr("/ExtGState <<"),ws)ws.hasOwnProperty(yr)&&ws[yr].objectNumber>=0&&Cr("/"+yr+" "+ws[yr].objectNumber+" 0 R");us.publish("putGStateDict"),Cr(">>")}},Oi=function(yr){si(yr.resourcesOid,!0),Cr("<<"),Cr("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),_i(),$i(),bi(yr.objectOid),ta(),ji(),Cr(">>"),Cr("endobj")},ho=function(){var yr=[];pi(),Mi(),gi(),vi(yr),us.publish("putResources"),yr.forEach(Oi),Oi({resourcesOid:ai,objectOid:Number.MAX_SAFE_INTEGER}),us.publish("postPutResources")},fo=function(){us.publish("putAdditionalObjects");for(var yr=0;yr<Lr.length;yr++){var Pr=Lr[yr];si(Pr.objId,!0),Cr(Pr.content),Cr("endobj")}us.publish("postPutAdditionalObjects")},mo=function(yr){ds[yr.fontName]=ds[yr.fontName]||{},ds[yr.fontName][yr.fontStyle]=yr.id},Ia=function(yr,Pr,Yr,es,hs){var Cs={id:"F"+(Object.keys(Ys).length+1).toString(10),postScriptName:yr,fontName:Pr,fontStyle:Yr,encoding:es,isStandardFont:hs||!1,metadata:{}};return us.publish("addFont",{font:Cs,instance:this}),Ys[Cs.id]=Cs,mo(Cs),Cs.id},Qo=function(yr){for(var Pr=0,Yr=Tr.length;Pr<Yr;Pr++){var es=Ia.call(this,yr[Pr][0],yr[Pr][1],yr[Pr][2],Tr[Pr][3],!0);Ke===!1&&(Je[es]=!0);var hs=yr[Pr][0].split("-");mo({id:es,fontName:hs[0],fontStyle:hs[1]||""})}us.publish("addFonts",{fonts:Ys,dictionary:ds})},En=function(yr){return yr.foo=function(){try{return yr.apply(this,arguments)}catch(es){var Pr=es.stack||"";~Pr.indexOf(" at ")&&(Pr=Pr.split(" at ")[1]);var Yr="Error in function "+Pr.split(`
`)[0].split("<")[0]+": "+es.message;if(!n$1.console)throw new Error(Yr);n$1.console.error(Yr,es),n$1.alert&&alert(Yr)}},yr.foo.bar=yr,yr.foo},ha=function(yr,Pr){var Yr,es,hs,Cs,Bs,Gs,ti,ci,li;if(hs=(Pr=Pr||{}).sourceEncoding||"Unicode",Bs=Pr.outputEncoding,(Pr.autoencode||Bs)&&Ys[ns].metadata&&Ys[ns].metadata[hs]&&Ys[ns].metadata[hs].encoding&&(Cs=Ys[ns].metadata[hs].encoding,!Bs&&Ys[ns].encoding&&(Bs=Ys[ns].encoding),!Bs&&Cs.codePages&&(Bs=Cs.codePages[0]),typeof Bs=="string"&&(Bs=Cs[Bs]),Bs)){for(ti=!1,Gs=[],Yr=0,es=yr.length;Yr<es;Yr++)(ci=Bs[yr.charCodeAt(Yr)])?Gs.push(String.fromCharCode(ci)):Gs.push(yr[Yr]),Gs[Yr].charCodeAt(0)>>8&&(ti=!0);yr=Gs.join("")}for(Yr=yr.length;ti===void 0&&Yr!==0;)yr.charCodeAt(Yr-1)>>8&&(ti=!0),Yr--;if(!ti)return yr;for(Gs=Pr.noBOM?[]:[254,255],Yr=0,es=yr.length;Yr<es;Yr++){if((li=(ci=yr.charCodeAt(Yr))>>8)>>8)throw new Error("Character at position "+Yr+" of string '"+yr+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Gs.push(li),Gs.push(ci-(li<<8))}return String.fromCharCode.apply(void 0,Gs)},nn=Qe.__private__.pdfEscape=Qe.pdfEscape=function(yr,Pr){return ha(yr,Pr).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Da=Qe.__private__.beginPage=function(yr){Xr[++Es]=[],Hs[Es]={objId:0,contentsObjId:0,userUnit:Number(Be),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(yr[0]),topRightY:Number(yr[1])}},xo(Es),Br(Xr[lr])},po=function(yr,Pr){var Yr,es,hs;switch(_e=Pr||_e,typeof yr=="string"&&(Yr=or(yr.toLowerCase()),Array.isArray(Yr)&&(es=Yr[0],hs=Yr[1])),Array.isArray(yr)&&(es=yr[0]*Qr,hs=yr[1]*Qr),isNaN(es)&&(es=$e[0],hs=$e[1]),(es>14400||hs>14400)&&(a$1.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),es=Math.min(14400,es),hs=Math.min(14400,hs)),$e=[es,hs],_e.substr(0,1)){case"l":hs>es&&($e=[hs,es]);break;case"p":es>hs&&($e=[hs,es])}Da($e),wo(Ba),Cr(Rn),za!==0&&Cr(za+" J"),Ua!==0&&Cr(Ua+" j"),us.publish("addPage",{pageNumber:Es})},el=function(yr){yr>0&&yr<=Es&&(Xr.splice(yr,1),Hs.splice(yr,1),Es--,lr>Es&&(lr=Es),this.setPage(lr))},xo=function(yr){yr>0&&yr<=Es&&(lr=yr)},tl=Qe.__private__.getNumberOfPages=Qe.getNumberOfPages=function(){return Xr.length-1},go=function(yr,Pr,Yr){var es,hs=void 0;return Yr=Yr||{},yr=yr!==void 0?yr:Ys[ns].fontName,Pr=Pr!==void 0?Pr:Ys[ns].fontStyle,es=yr.toLowerCase(),ds[es]!==void 0&&ds[es][Pr]!==void 0?hs=ds[es][Pr]:ds[yr]!==void 0&&ds[yr][Pr]!==void 0?hs=ds[yr][Pr]:Yr.disableWarning===!1&&a$1.warn("Unable to look up font label for font '"+yr+"', '"+Pr+"'. Refer to getFontList() for available fonts."),hs||Yr.noFallback||(hs=ds.times[Pr])==null&&(hs=ds.times.normal),hs},rl=Qe.__private__.putInfo=function(){var yr=fs(),Pr=function(es){return es};for(var Yr in We!==null&&(Pr=Qi.encryptor(yr,0)),Cr("<<"),Cr("/Producer ("+nn(Pr("jsPDF "+E.version))+")"),zs)zs.hasOwnProperty(Yr)&&zs[Yr]&&Cr("/"+Yr.substr(0,1).toUpperCase()+Yr.substr(1)+" ("+nn(Pr(zs[Yr]))+")");Cr("/CreationDate ("+nn(Pr(Ue))+")"),Cr(">>"),Cr("endobj")},La=Qe.__private__.putCatalog=function(yr){var Pr=(yr=yr||{}).rootDictionaryObjId||$s;switch(fs(),Cr("<<"),Cr("/Type /Catalog"),Cr("/Pages "+Pr+" 0 R"),qr||(qr="fullwidth"),qr){case"fullwidth":Cr("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Cr("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Cr("/OpenAction [3 0 R /Fit]");break;case"original":Cr("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Yr=""+qr;Yr.substr(Yr.length-1)==="%"&&(qr=parseInt(qr)/100),typeof qr=="number"&&Cr("/OpenAction [3 0 R /XYZ null null "+Rr(qr)+"]")}switch(Is||(Is="continuous"),Is){case"continuous":Cr("/PageLayout /OneColumn");break;case"single":Cr("/PageLayout /SinglePage");break;case"two":case"twoleft":Cr("/PageLayout /TwoColumnLeft");break;case"tworight":Cr("/PageLayout /TwoColumnRight")}Vr&&Cr("/PageMode /"+Vr),us.publish("putCatalog"),Cr(">>"),Cr("endobj")},il=Qe.__private__.putTrailer=function(){Cr("trailer"),Cr("<<"),Cr("/Size "+(Sr+1)),Cr("/Root "+Sr+" 0 R"),Cr("/Info "+(Sr-1)+" 0 R"),We!==null&&Cr("/Encrypt "+Qi.oid+" 0 R"),Cr("/ID [ <"+Ge+"> <"+Ge+"> ]"),Cr(">>")},nl=Qe.__private__.putHeader=function(){Cr("%PDF-"+rr),Cr("%")},al=Qe.__private__.putXRef=function(){var yr="0000000000";Cr("xref"),Cr("0 "+(Sr+1)),Cr("0000000000 65535 f ");for(var Pr=1;Pr<=Sr;Pr++)typeof wr[Pr]=="function"?Cr((yr+wr[Pr]()).slice(-10)+" 00000 n "):wr[Pr]!==void 0?Cr((yr+wr[Pr]).slice(-10)+" 00000 n "):Cr("0000000000 00000 n ")},Pn=Qe.__private__.buildDocument=function(){Ts(),Br(Nr),us.publish("buildDocument"),nl(),fi(),fo(),ho(),We!==null&&ki(),rl(),La();var yr=kr;return al(),il(),Cr("startxref"),Cr(""+yr),Cr("%%EOF"),Br(Xr[lr]),Nr.join(`
`)},fa=Qe.__private__.getBlob=function(yr){return new Blob([$r(yr)],{type:"application/pdf"})},ma=Qe.output=Qe.__private__.output=En(function(yr,Pr){switch(typeof(Pr=Pr||{})=="string"?Pr={filename:Pr}:Pr.filename=Pr.filename||"generated.pdf",yr){case void 0:return Pn();case"save":Qe.save(Pr.filename);break;case"arraybuffer":return $r(Pn());case"blob":return fa(Pn());case"bloburi":case"bloburl":if(n$1.URL!==void 0&&typeof n$1.URL.createObjectURL=="function")return n$1.URL&&n$1.URL.createObjectURL(fa(Pn()))||void 0;a$1.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Yr="",es=Pn();try{Yr=h(es)}catch{Yr=h(unescape(encodeURIComponent(es)))}return"data:application/pdf;filename="+Pr.filename+";base64,"+Yr;case"pdfobjectnewwindow":if(Object.prototype.toString.call(n$1)==="[object Window]"){var hs="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Cs=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Pr.pdfObjectUrl&&(hs=Pr.pdfObjectUrl,Cs="");var Bs='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+hs+'"'+Cs+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Pr)+");<\/script></body></html>",Gs=n$1.open();return Gs!==null&&Gs.document.write(Bs),Gs}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(n$1)==="[object Window]"){var ti='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Pr.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Pr.filename+'" width="500px" height="400px" /></body></html>',ci=n$1.open();if(ci!==null){ci.document.write(ti);var li=this;ci.document.documentElement.querySelector("#pdfViewer").onload=function(){ci.document.title=Pr.filename,ci.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(li.output("bloburl"))}}return ci}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(n$1)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var yi='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Pr)+'"></iframe></body></html>',Fi=n$1.open();if(Fi!==null&&(Fi.document.write(yi),Fi.document.title=Pr.filename),Fi||typeof safari>"u")return Fi;break;case"datauri":case"dataurl":return n$1.document.location.href=this.output("datauristring",Pr);default:return null}}),vo=function(yr){return Array.isArray(As)===!0&&As.indexOf(yr)>-1};switch(Me){case"pt":Qr=1;break;case"mm":Qr=72/25.4;break;case"cm":Qr=72/2.54;break;case"in":Qr=72;break;case"px":Qr=vo("px_scaling")==1?.75:96/72;break;case"pc":case"em":Qr=12;break;case"ex":Qr=6;break;default:if(typeof Me!="number")throw new Error("Invalid unit: "+Me);Qr=Me}var Qi=null;Ye(),er();var ol=function(yr){return We!==null?Qi.encryptor(yr,0):function(Pr){return Pr}},bo=Qe.__private__.getPageInfo=Qe.getPageInfo=function(yr){if(isNaN(yr)||yr%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Hs[yr].objId,pageNumber:yr,pageContext:Hs[yr]}},oi=Qe.__private__.getPageInfoByObjId=function(yr){if(isNaN(yr)||yr%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Pr in Hs)if(Hs[Pr].objId===yr)break;return bo(Pr)},ll=Qe.__private__.getCurrentPageInfo=Qe.getCurrentPageInfo=function(){return{objId:Hs[lr].objId,pageNumber:lr,pageContext:Hs[lr]}};Qe.addPage=function(){return po.apply(this,arguments),this},Qe.setPage=function(){return xo.apply(this,arguments),Br.call(this,Xr[lr]),this},Qe.insertPage=function(yr){return this.addPage(),this.movePage(lr,yr),this},Qe.movePage=function(yr,Pr){var Yr,es;if(yr>Pr){Yr=Xr[yr],es=Hs[yr];for(var hs=yr;hs>Pr;hs--)Xr[hs]=Xr[hs-1],Hs[hs]=Hs[hs-1];Xr[Pr]=Yr,Hs[Pr]=es,this.setPage(Pr)}else if(yr<Pr){Yr=Xr[yr],es=Hs[yr];for(var Cs=yr;Cs<Pr;Cs++)Xr[Cs]=Xr[Cs+1],Hs[Cs]=Hs[Cs+1];Xr[Pr]=Yr,Hs[Pr]=es,this.setPage(Pr)}return this},Qe.deletePage=function(){return el.apply(this,arguments),this},Qe.__private__.text=Qe.text=function(yr,Pr,Yr,es,hs){var Cs,Bs,Gs,ti,ci,li,yi,Fi,Bi,Hi=(es=es||{}).scope||this;if(typeof yr=="number"&&typeof Pr=="number"&&(typeof Yr=="string"||Array.isArray(Yr))){var en=Yr;Yr=Pr,Pr=yr,yr=en}if(arguments[3]instanceof Us?(dr("The transform parameter of text() with a Matrix value"),Bi=hs):(Gs=arguments[4],ti=arguments[5],_typeof$1(yi=arguments[3])==="object"&&yi!==null||(typeof Gs=="string"&&(ti=Gs,Gs=null),typeof yi=="string"&&(ti=yi,yi=null),typeof yi=="number"&&(Gs=yi,yi=null),es={flags:yi,angle:Gs,align:ti})),isNaN(Pr)||isNaN(Yr)||yr==null)throw new Error("Invalid arguments passed to jsPDF.text");if(yr.length===0)return Hi;var Ki="",_n=!1,dn=typeof es.lineHeightFactor=="number"?es.lineHeightFactor:sa,$n=Hi.internal.scaleFactor;function Mo(Di){return Di=Di.split("	").join(Array(es.TabLen||9).join(" ")),nn(Di,yi)}function Ka(Di){for(var Li,Ui=Di.concat(),Gi=[],Ln=Ui.length;Ln--;)typeof(Li=Ui.shift())=="string"?Gi.push(Li):Array.isArray(Di)&&(Li.length===1||Li[1]===void 0&&Li[2]===void 0)?Gi.push(Li[0]):Gi.push([Li[0],Li[1],Li[2]]);return Gi}function Ya(Di,Li){var Ui;if(typeof Di=="string")Ui=Li(Di)[0];else if(Array.isArray(Di)){for(var Gi,Ln,io=Di.concat(),$a=[],Co=io.length;Co--;)typeof(Gi=io.shift())=="string"?$a.push(Li(Gi)[0]):Array.isArray(Gi)&&typeof Gi[0]=="string"&&(Ln=Li(Gi[0],Gi[1],Gi[2]),$a.push([Ln[0],Ln[1],Ln[2]]));Ui=$a}return Ui}var ya=!1,Xa=!0;if(typeof yr=="string")ya=!0;else if(Array.isArray(yr)){var Za=yr.concat();Bs=[];for(var ja,Zi=Za.length;Zi--;)(typeof(ja=Za.shift())!="string"||Array.isArray(ja)&&typeof ja[0]!="string")&&(Xa=!1);ya=Xa}if(ya===!1)throw new Error('Type of text must be string or Array. "'+yr+'" is not recognized.');typeof yr=="string"&&(yr=yr.match(/[\r?\n]/)?yr.split(/\r\n|\r|\n/g):[yr]);var wa=Kr/Hi.internal.scaleFactor,Ea=wa*(dn-1);switch(es.baseline){case"bottom":Yr-=Ea;break;case"top":Yr+=wa-Ea;break;case"hanging":Yr+=wa-2*Ea;break;case"middle":Yr+=wa/2-Ea}if((li=es.maxWidth||0)>0&&(typeof yr=="string"?yr=Hi.splitTextToSize(yr,li):Object.prototype.toString.call(yr)==="[object Array]"&&(yr=yr.reduce(function(Di,Li){return Di.concat(Hi.splitTextToSize(Li,li))},[]))),Cs={text:yr,x:Pr,y:Yr,options:es,mutex:{pdfEscape:nn,activeFontKey:ns,fonts:Ys,activeFontSize:Kr}},us.publish("preProcessText",Cs),yr=Cs.text,Gs=(es=Cs.options).angle,!(Bi instanceof Us)&&Gs&&typeof Gs=="number"){Gs*=Math.PI/180,es.rotationDirection===0&&(Gs=-Gs),pr===ar.ADVANCED&&(Gs=-Gs);var Ra=Math.cos(Gs),Ja=Math.sin(Gs);Bi=new Us(Ra,Ja,-Ja,Ra,0,0)}else Gs&&Gs instanceof Us&&(Bi=Gs);pr!==ar.ADVANCED||Bi||(Bi=ks),(ci=es.charSpace||ga)!==void 0&&(Ki+=vr(Pe(ci))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Fi=es.horizontalScale)!==void 0&&(Ki+=vr(100*Fi)+` Tz
`),es.lang;var an=-1,yl=es.renderingMode!==void 0?es.renderingMode:es.stroke,Qa=Hi.internal.getCurrentPageInfo().pageContext;switch(yl){case 0:case!1:case"fill":an=0;break;case 1:case!0:case"stroke":an=1;break;case 2:case"fillThenStroke":an=2;break;case 3:case"invisible":an=3;break;case 4:case"fillAndAddForClipping":an=4;break;case 5:case"strokeAndAddPathForClipping":an=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":an=6;break;case 7:case"addToPathForClipping":an=7}var ko=Qa.usedRenderingMode!==void 0?Qa.usedRenderingMode:-1;an!==-1?Ki+=an+` Tr
`:ko!==-1&&(Ki+=`0 Tr
`),an!==-1&&(Qa.usedRenderingMode=an),ti=es.align||"left";var pn,Sa=Kr*dn,$o=Hi.internal.pageSize.getWidth(),Ao=Ys[ns];ci=es.charSpace||ga,li=es.maxWidth||0,yi=Object.assign({autoencode:!0,noBOM:!0},es.flags);var Hn=[],aa=function(Di){return Hi.getStringUnitWidth(Di,{font:Ao,charSpace:ci,fontSize:Kr,doKerning:!1})*Kr/$n};if(Object.prototype.toString.call(yr)==="[object Array]"){var on;Bs=Ka(yr),ti!=="left"&&(pn=Bs.map(aa));var tn,Wn=0;if(ti==="right"){Pr-=pn[0],yr=[],Zi=Bs.length;for(var Tn=0;Tn<Zi;Tn++)Tn===0?(tn=kn(Pr),on=Cn(Yr)):(tn=Pe(Wn-pn[Tn]),on=-Sa),yr.push([Bs[Tn],tn,on]),Wn=pn[Tn]}else if(ti==="center"){Pr-=pn[0]/2,yr=[],Zi=Bs.length;for(var In=0;In<Zi;In++)In===0?(tn=kn(Pr),on=Cn(Yr)):(tn=Pe((Wn-pn[In])/2),on=-Sa),yr.push([Bs[In],tn,on]),Wn=pn[In]}else if(ti==="left"){yr=[],Zi=Bs.length;for(var Na=0;Na<Zi;Na++)yr.push(Bs[Na])}else if(ti==="justify"&&Ao.encoding==="Identity-H"){yr=[],Zi=Bs.length,li=li!==0?li:$o;for(var Dn=0,zi=0;zi<Zi;zi++)if(on=zi===0?Cn(Yr):-Sa,tn=zi===0?kn(Pr):Dn,zi<Zi-1){var eo=Pe((li-pn[zi])/(Bs[zi].split(" ").length-1)),rn=Bs[zi].split(" ");yr.push([rn[0]+" ",tn,on]),Dn=0;for(var xn=1;xn<rn.length;xn++){var Ma=(aa(rn[xn-1]+" "+rn[xn])-aa(rn[xn]))*$n+eo;xn==rn.length-1?yr.push([rn[xn],Ma,0]):yr.push([rn[xn]+" ",Ma,0]),Dn-=Ma}}else yr.push([Bs[zi],tn,on]);yr.push(["",Dn,0])}else{if(ti!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(yr=[],Zi=Bs.length,li=li!==0?li:$o,zi=0;zi<Zi;zi++)on=zi===0?Cn(Yr):-Sa,tn=zi===0?kn(Pr):0,zi<Zi-1?Hn.push(vr(Pe((li-pn[zi])/(Bs[zi].split(" ").length-1)))):Hn.push(0),yr.push([Bs[zi],tn,on])}}var Po=typeof es.R2L=="boolean"?es.R2L:ss;Po===!0&&(yr=Ya(yr,function(Di,Li,Ui){return[Di.split("").reverse().join(""),Li,Ui]})),Cs={text:yr,x:Pr,y:Yr,options:es,mutex:{pdfEscape:nn,activeFontKey:ns,fonts:Ys,activeFontSize:Kr}},us.publish("postProcessText",Cs),yr=Cs.text,_n=Cs.mutex.isHex||!1;var ro=Ys[ns].encoding;ro!=="WinAnsiEncoding"&&ro!=="StandardEncoding"||(yr=Ya(yr,function(Di,Li,Ui){return[Mo(Di),Li,Ui]})),Bs=Ka(yr),yr=[];for(var oa,la,Vn,ca=0,ka=1,ua=Array.isArray(Bs[0])?ka:ca,Gn="",so=function(Di,Li,Ui){var Gi="";return Ui instanceof Us?(Ui=typeof es.angle=="number"?xs(Ui,new Us(1,0,0,1,Di,Li)):xs(new Us(1,0,0,1,Di,Li),Ui),pr===ar.ADVANCED&&(Ui=xs(new Us(1,0,0,-1,0,0),Ui)),Gi=Ui.join(" ")+` Tm
`):Gi=vr(Di)+" "+vr(Li)+` Td
`,Gi},gn=0;gn<Bs.length;gn++){switch(Gn="",ua){case ka:Vn=(_n?"<":"(")+Bs[gn][0]+(_n?">":")"),oa=parseFloat(Bs[gn][1]),la=parseFloat(Bs[gn][2]);break;case ca:Vn=(_n?"<":"(")+Bs[gn]+(_n?">":")"),oa=kn(Pr),la=Cn(Yr)}Hn!==void 0&&Hn[gn]!==void 0&&(Gn=Hn[gn]+` Tw
`),gn===0?yr.push(Gn+so(oa,la,Bi)+Vn):ua===ca?yr.push(Gn+Vn):ua===ka&&yr.push(Gn+so(oa,la,Bi)+Vn)}yr=ua===ca?yr.join(` Tj
T* `):yr.join(` Tj
`),yr+=` Tj
`;var vn=`BT
/`;return vn+=ns+" "+Kr+` Tf
`,vn+=vr(Kr*dn)+` TL
`,vn+=ia+`
`,vn+=Ki,vn+=yr,Cr(vn+="ET"),Je[ns]=!0,Hi};var cl=Qe.__private__.clip=Qe.clip=function(yr){return Cr(yr==="evenodd"?"W*":"W"),this};Qe.clipEvenOdd=function(){return cl("evenodd")},Qe.__private__.discardPath=Qe.discardPath=function(){return Cr("n"),this};var Mn=Qe.__private__.isValidStyle=function(yr){var Pr=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(yr)!==-1&&(Pr=!0),Pr};Qe.__private__.setDefaultPathOperation=Qe.setDefaultPathOperation=function(yr){return Mn(yr)&&(He=yr),this};var yo=Qe.__private__.getStyle=Qe.getStyle=function(yr){var Pr=He;switch(yr){case"D":case"S":Pr="S";break;case"F":Pr="f";break;case"FD":case"DF":Pr="B";break;case"f":case"f*":case"B":case"B*":Pr=yr}return Pr},jo=Qe.close=function(){return Cr("h"),this};Qe.stroke=function(){return Cr("S"),this},Qe.fill=function(yr){return pa("f",yr),this},Qe.fillEvenOdd=function(yr){return pa("f*",yr),this},Qe.fillStroke=function(yr){return pa("B",yr),this},Qe.fillStrokeEvenOdd=function(yr){return pa("B*",yr),this};var pa=function(yr,Pr){_typeof$1(Pr)==="object"?dl(Pr,yr):Cr(yr)},Oa=function(yr){yr===null||pr===ar.ADVANCED&&yr===void 0||(yr=yo(yr),Cr(yr))};function ul(yr,Pr,Yr,es,hs){var Cs=new M$1(Pr||this.boundingBox,Yr||this.xStep,es||this.yStep,this.gState,hs||this.matrix);Cs.stream=this.stream;var Bs=yr+"$$"+this.cloneIndex+++"$$";return ri(Bs,Cs),Cs}var dl=function(yr,Pr){var Yr=ys[yr.key],es=Xs[Yr];if(es instanceof B)Cr("q"),Cr(ml(Pr)),es.gState&&Qe.setGState(es.gState),Cr(yr.matrix.toString()+" cm"),Cr("/"+Yr+" sh"),Cr("Q");else if(es instanceof M$1){var hs=new Us(1,0,0,-1,0,Un());yr.matrix&&(hs=hs.multiply(yr.matrix||ks),Yr=ul.call(es,yr.key,yr.boundingBox,yr.xStep,yr.yStep,hs).id),Cr("q"),Cr("/Pattern cs"),Cr("/"+Yr+" scn"),es.gState&&Qe.setGState(es.gState),Cr(Pr),Cr("Q")}},ml=function(yr){switch(yr){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Fa=Qe.moveTo=function(yr,Pr){return Cr(vr(Pe(yr))+" "+vr(ze(Pr))+" m"),this},ra=Qe.lineTo=function(yr,Pr){return Cr(vr(Pe(yr))+" "+vr(ze(Pr))+" l"),this},qn=Qe.curveTo=function(yr,Pr,Yr,es,hs,Cs){return Cr([vr(Pe(yr)),vr(ze(Pr)),vr(Pe(Yr)),vr(ze(es)),vr(Pe(hs)),vr(ze(Cs)),"c"].join(" ")),this};Qe.__private__.line=Qe.line=function(yr,Pr,Yr,es,hs){if(isNaN(yr)||isNaN(Pr)||isNaN(Yr)||isNaN(es)||!Mn(hs))throw new Error("Invalid arguments passed to jsPDF.line");return pr===ar.COMPAT?this.lines([[Yr-yr,es-Pr]],yr,Pr,[1,1],hs||"S"):this.lines([[Yr-yr,es-Pr]],yr,Pr,[1,1]).stroke()},Qe.__private__.lines=Qe.lines=function(yr,Pr,Yr,es,hs,Cs){var Bs,Gs,ti,ci,li,yi,Fi,Bi,Hi,en,Ki,_n;if(typeof yr=="number"&&(_n=Yr,Yr=Pr,Pr=yr,yr=_n),es=es||[1,1],Cs=Cs||!1,isNaN(Pr)||isNaN(Yr)||!Array.isArray(yr)||!Array.isArray(es)||!Mn(hs)||typeof Cs!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Fa(Pr,Yr),Bs=es[0],Gs=es[1],ci=yr.length,en=Pr,Ki=Yr,ti=0;ti<ci;ti++)(li=yr[ti]).length===2?(en=li[0]*Bs+en,Ki=li[1]*Gs+Ki,ra(en,Ki)):(yi=li[0]*Bs+en,Fi=li[1]*Gs+Ki,Bi=li[2]*Bs+en,Hi=li[3]*Gs+Ki,en=li[4]*Bs+en,Ki=li[5]*Gs+Ki,qn(yi,Fi,Bi,Hi,en,Ki));return Cs&&jo(),Oa(hs),this},Qe.path=function(yr){for(var Pr=0;Pr<yr.length;Pr++){var Yr=yr[Pr],es=Yr.c;switch(Yr.op){case"m":Fa(es[0],es[1]);break;case"l":ra(es[0],es[1]);break;case"c":qn.apply(this,es);break;case"h":jo()}}return this},Qe.__private__.rect=Qe.rect=function(yr,Pr,Yr,es,hs){if(isNaN(yr)||isNaN(Pr)||isNaN(Yr)||isNaN(es)||!Mn(hs))throw new Error("Invalid arguments passed to jsPDF.rect");return pr===ar.COMPAT&&(es=-es),Cr([vr(Pe(yr)),vr(ze(Pr)),vr(Pe(Yr)),vr(Pe(es)),"re"].join(" ")),Oa(hs),this},Qe.__private__.triangle=Qe.triangle=function(yr,Pr,Yr,es,hs,Cs,Bs){if(isNaN(yr)||isNaN(Pr)||isNaN(Yr)||isNaN(es)||isNaN(hs)||isNaN(Cs)||!Mn(Bs))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Yr-yr,es-Pr],[hs-Yr,Cs-es],[yr-hs,Pr-Cs]],yr,Pr,[1,1],Bs,!0),this},Qe.__private__.roundedRect=Qe.roundedRect=function(yr,Pr,Yr,es,hs,Cs,Bs){if(isNaN(yr)||isNaN(Pr)||isNaN(Yr)||isNaN(es)||isNaN(hs)||isNaN(Cs)||!Mn(Bs))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Gs=4/3*(Math.SQRT2-1);return hs=Math.min(hs,.5*Yr),Cs=Math.min(Cs,.5*es),this.lines([[Yr-2*hs,0],[hs*Gs,0,hs,Cs-Cs*Gs,hs,Cs],[0,es-2*Cs],[0,Cs*Gs,-hs*Gs,Cs,-hs,Cs],[2*hs-Yr,0],[-hs*Gs,0,-hs,-Cs*Gs,-hs,-Cs],[0,2*Cs-es],[0,-Cs*Gs,hs*Gs,-Cs,hs,-Cs]],yr+hs,Pr,[1,1],Bs,!0),this},Qe.__private__.ellipse=Qe.ellipse=function(yr,Pr,Yr,es,hs){if(isNaN(yr)||isNaN(Pr)||isNaN(Yr)||isNaN(es)||!Mn(hs))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Cs=4/3*(Math.SQRT2-1)*Yr,Bs=4/3*(Math.SQRT2-1)*es;return Fa(yr+Yr,Pr),qn(yr+Yr,Pr-Bs,yr+Cs,Pr-es,yr,Pr-es),qn(yr-Cs,Pr-es,yr-Yr,Pr-Bs,yr-Yr,Pr),qn(yr-Yr,Pr+Bs,yr-Cs,Pr+es,yr,Pr+es),qn(yr+Cs,Pr+es,yr+Yr,Pr+Bs,yr+Yr,Pr),Oa(hs),this},Qe.__private__.circle=Qe.circle=function(yr,Pr,Yr,es){if(isNaN(yr)||isNaN(Pr)||isNaN(Yr)||!Mn(es))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(yr,Pr,Yr,Yr,es)},Qe.setFont=function(yr,Pr,Yr){return Yr&&(Pr=jr(Pr,Yr)),ns=go(yr,Pr,{disableWarning:!1}),this};var pl=Qe.__private__.getFont=Qe.getFont=function(){return Ys[go.apply(Qe,arguments)]};Qe.__private__.getFontList=Qe.getFontList=function(){var yr,Pr,Yr={};for(yr in ds)if(ds.hasOwnProperty(yr))for(Pr in Yr[yr]=[],ds[yr])ds[yr].hasOwnProperty(Pr)&&Yr[yr].push(Pr);return Yr},Qe.addFont=function(yr,Pr,Yr,es,hs){var Cs=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Cs.indexOf(arguments[3])!==-1?hs=arguments[3]:arguments[3]&&Cs.indexOf(arguments[3])==-1&&(Yr=jr(Yr,es)),hs=hs||"Identity-H",Ia.call(this,yr,Pr,Yr,hs)};var sa,Ba=Re.lineWidth||.200025,xa=Qe.__private__.getLineWidth=Qe.getLineWidth=function(){return Ba},wo=Qe.__private__.setLineWidth=Qe.setLineWidth=function(yr){return Ba=yr,Cr(vr(Pe(yr))+" w"),this};Qe.__private__.setLineDash=E.API.setLineDash=E.API.setLineDashPattern=function(yr,Pr){if(yr=yr||[],Pr=Pr||0,isNaN(Pr)||!Array.isArray(yr))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return yr=yr.map(function(Yr){return vr(Pe(Yr))}).join(" "),Pr=vr(Pe(Pr)),Cr("["+yr+"] "+Pr+" d"),this};var Eo=Qe.__private__.getLineHeight=Qe.getLineHeight=function(){return Kr*sa};Qe.__private__.getLineHeight=Qe.getLineHeight=function(){return Kr*sa};var Ro=Qe.__private__.setLineHeightFactor=Qe.setLineHeightFactor=function(yr){return typeof(yr=yr||1.15)=="number"&&(sa=yr),this},_o=Qe.__private__.getLineHeightFactor=Qe.getLineHeightFactor=function(){return sa};Ro(Re.lineHeight);var kn=Qe.__private__.getHorizontalCoordinate=function(yr){return Pe(yr)},Cn=Qe.__private__.getVerticalCoordinate=function(yr){return pr===ar.ADVANCED?yr:Hs[lr].mediaBox.topRightY-Hs[lr].mediaBox.bottomLeftY-Pe(yr)},xl=Qe.__private__.getHorizontalCoordinateString=Qe.getHorizontalCoordinateString=function(yr){return vr(kn(yr))},zn=Qe.__private__.getVerticalCoordinateString=Qe.getVerticalCoordinateString=function(yr){return vr(Cn(yr))},Rn=Re.strokeColor||"0 G";Qe.__private__.getStrokeColor=Qe.getDrawColor=function(){return gs(Rn)},Qe.__private__.setStrokeColor=Qe.setDrawColor=function(yr,Pr,Yr,es){return Rn=Ss({ch1:yr,ch2:Pr,ch3:Yr,ch4:es,pdfColorType:"draw",precision:2}),Cr(Rn),this};var qa=Re.fillColor||"0 g";Qe.__private__.getFillColor=Qe.getFillColor=function(){return gs(qa)},Qe.__private__.setFillColor=Qe.setFillColor=function(yr,Pr,Yr,es){return qa=Ss({ch1:yr,ch2:Pr,ch3:Yr,ch4:es,pdfColorType:"fill",precision:2}),Cr(qa),this};var ia=Re.textColor||"0 g",gl=Qe.__private__.getTextColor=Qe.getTextColor=function(){return gs(ia)};Qe.__private__.setTextColor=Qe.setTextColor=function(yr,Pr,Yr,es){return ia=Ss({ch1:yr,ch2:Pr,ch3:Yr,ch4:es,pdfColorType:"text",precision:3}),this};var ga=Re.charSpace,vl=Qe.__private__.getCharSpace=Qe.getCharSpace=function(){return parseFloat(ga||0)};Qe.__private__.setCharSpace=Qe.setCharSpace=function(yr){if(isNaN(yr))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ga=yr,this};var za=0;Qe.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},Qe.__private__.setLineCap=Qe.setLineCap=function(yr){var Pr=Qe.CapJoinStyles[yr];if(Pr===void 0)throw new Error("Line cap style of '"+yr+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return za=Pr,Cr(Pr+" J"),this};var Ua=0;Qe.__private__.setLineJoin=Qe.setLineJoin=function(yr){var Pr=Qe.CapJoinStyles[yr];if(Pr===void 0)throw new Error("Line join style of '"+yr+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ua=Pr,Cr(Pr+" j"),this},Qe.__private__.setLineMiterLimit=Qe.__private__.setMiterLimit=Qe.setLineMiterLimit=Qe.setMiterLimit=function(yr){if(yr=yr||0,isNaN(yr))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Cr(vr(Pe(yr))+" M"),this},Qe.GState=j,Qe.setGState=function(yr){(yr=typeof yr=="string"?ws[ni[yr]]:So(null,yr)).equals(bs)||(Cr("/"+yr.id+" gs"),bs=yr)};var So=function(yr,Pr){if(!yr||!ni[yr]){var Yr=!1;for(var es in ws)if(ws.hasOwnProperty(es)&&ws[es].equals(Pr)){Yr=!0;break}if(Yr)Pr=ws[es];else{var hs="GS"+(Object.keys(ws).length+1).toString(10);ws[hs]=Pr,Pr.id=hs}return yr&&(ni[yr]=Pr.id),us.publish("addGState",Pr),Pr}};Qe.addGState=function(yr,Pr){return So(yr,Pr),this},Qe.saveGraphicsState=function(){return Cr("q"),Ns.push({key:ns,size:Kr,color:ia}),this},Qe.restoreGraphicsState=function(){Cr("Q");var yr=Ns.pop();return ns=yr.key,Kr=yr.size,ia=yr.color,bs=null,this},Qe.setCurrentTransformationMatrix=function(yr){return Cr(yr.toString()+" cm"),this},Qe.comment=function(yr){return Cr("#"+yr),this};var va=function(yr,Pr){var Yr=yr||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Yr},set:function(Cs){isNaN(Cs)||(Yr=parseFloat(Cs))}});var es=Pr||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return es},set:function(Cs){isNaN(Cs)||(es=parseFloat(Cs))}});var hs="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return hs},set:function(Cs){hs=Cs.toString()}}),this},Ha=function(yr,Pr,Yr,es){va.call(this,yr,Pr),this.type="rect";var hs=Yr||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return hs},set:function(Bs){isNaN(Bs)||(hs=parseFloat(Bs))}});var Cs=es||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Cs},set:function(Bs){isNaN(Bs)||(Cs=parseFloat(Bs))}}),this},Wa=function(){this.page=Es,this.currentPage=lr,this.pages=Xr.slice(0),this.pagesContext=Hs.slice(0),this.x=Zs,this.y=os,this.matrix=_s,this.width=na(lr),this.height=Un(lr),this.outputDestination=Gr,this.id="",this.objectNumber=-1};Wa.prototype.restore=function(){Es=this.page,lr=this.currentPage,Hs=this.pagesContext,Xr=this.pages,Zs=this.x,os=this.y,_s=this.matrix,Va(lr,this.width),Ga(lr,this.height),Gr=this.outputDestination};var No=function(yr,Pr,Yr,es,hs){Ms.push(new Wa),Es=lr=0,Xr=[],Zs=yr,os=Pr,_s=hs,Da([Yr,es])},bl=function(yr){if(vs[yr])Ms.pop().restore();else{var Pr=new Wa,Yr="Xo"+(Object.keys(Qs).length+1).toString(10);Pr.id=Yr,vs[yr]=Yr,Qs[Yr]=Pr,us.publish("addFormObject",Pr),Ms.pop().restore()}};for(var ba in Qe.beginFormObject=function(yr,Pr,Yr,es,hs){return No(yr,Pr,Yr,es,hs),this},Qe.endFormObject=function(yr){return bl(yr),this},Qe.doFormObject=function(yr,Pr){var Yr=Qs[vs[yr]];return Cr("q"),Cr(Pr.toString()+" cm"),Cr("/"+Yr.id+" Do"),Cr("Q"),this},Qe.getFormObject=function(yr){var Pr=Qs[vs[yr]];return{x:Pr.x,y:Pr.y,width:Pr.width,height:Pr.height,matrix:Pr.matrix}},Qe.save=function(yr,Pr){return yr=yr||"generated.pdf",(Pr=Pr||{}).returnPromise=Pr.returnPromise||!1,Pr.returnPromise===!1?(l$2(fa(Pn()),yr),typeof l$2.unload=="function"&&n$1.setTimeout&&setTimeout(l$2.unload,911),this):new Promise(function(Yr,es){try{var hs=l$2(fa(Pn()),yr);typeof l$2.unload=="function"&&n$1.setTimeout&&setTimeout(l$2.unload,911),Yr(hs)}catch(Cs){es(Cs.message)}})},E.API)E.API.hasOwnProperty(ba)&&(ba==="events"&&E.API.events.length?function(yr,Pr){var Yr,es,hs;for(hs=Pr.length-1;hs!==-1;hs--)Yr=Pr[hs][0],es=Pr[hs][1],yr.subscribe.apply(yr,[Yr].concat(typeof es=="function"?[es]:es))}(us,E.API.events):Qe[ba]=E.API[ba]);var na=Qe.getPageWidth=function(yr){return(Hs[yr=yr||lr].mediaBox.topRightX-Hs[yr].mediaBox.bottomLeftX)/Qr},Va=Qe.setPageWidth=function(yr,Pr){Hs[yr].mediaBox.topRightX=Pr*Qr+Hs[yr].mediaBox.bottomLeftX},Un=Qe.getPageHeight=function(yr){return(Hs[yr=yr||lr].mediaBox.topRightY-Hs[yr].mediaBox.bottomLeftY)/Qr},Ga=Qe.setPageHeight=function(yr,Pr){Hs[yr].mediaBox.topRightY=Pr*Qr+Hs[yr].mediaBox.bottomLeftY};return Qe.internal={pdfEscape:nn,getStyle:yo,getFont:pl,getFontSize:Hr,getCharSpace:vl,getTextColor:gl,getLineHeight:Eo,getLineHeightFactor:_o,getLineWidth:xa,write:qs,getHorizontalCoordinate:kn,getVerticalCoordinate:Cn,getCoordinateString:xl,getVerticalCoordinateString:zn,collections:{},newObject:fs,newAdditionalObject:js,newObjectDeferred:Rs,newObjectDeferredBegin:si,getFilters:ei,putStream:Js,events:us,scaleFactor:Qr,pageSize:{getWidth:function(){return na(lr)},setWidth:function(yr){Va(lr,yr)},getHeight:function(){return Un(lr)},setHeight:function(yr){Ga(lr,yr)}},encryptionOptions:We,encryption:Qi,getEncryptor:ol,output:ma,getNumberOfPages:tl,pages:Xr,out:Cr,f2:Rr,f3:Xe,getPageInfo:bo,getPageInfoByObjId:oi,getCurrentPageInfo:ll,getPDFVersion:tr,Point:va,Rectangle:Ha,Matrix:Us,hasHotfix:vo},Object.defineProperty(Qe.internal.pageSize,"width",{get:function(){return na(lr)},set:function(yr){Va(lr,yr)},enumerable:!0,configurable:!0}),Object.defineProperty(Qe.internal.pageSize,"height",{get:function(){return Un(lr)},set:function(yr){Ga(lr,yr)},enumerable:!0,configurable:!0}),Qo.call(Qe,Tr),ns="F1",po($e,_e),us.publish("initialized"),Qe}I$2.prototype.lsbFirstWord=function(Re){return String.fromCharCode(Re>>0&255,Re>>8&255,Re>>16&255,Re>>24&255)},I$2.prototype.toHexString=function(Re){return Re.split("").map(function(je){return("0"+(255&je.charCodeAt(0)).toString(16)).slice(-2)}).join("")},I$2.prototype.hexToBytes=function(Re){for(var je=[],_e=0;_e<Re.length;_e+=2)je.push(String.fromCharCode(parseInt(Re.substr(_e,2),16)));return je.join("")},I$2.prototype.processOwnerPassword=function(Re,je){return P(x$1(je).substr(0,5),Re)},I$2.prototype.encryptor=function(Re,je){var _e=x$1(this.encryptionKey+String.fromCharCode(255&Re,Re>>8&255,Re>>16&255,255&je,je>>8&255)).substr(0,10);return function(Me){return P(_e,Me)}},j.prototype.equals=function(Re){var je,_e="id,objectNumber,equals";if(!Re||_typeof$1(Re)!==_typeof$1(this))return!1;var Me=0;for(je in this)if(!(_e.indexOf(je)>=0)){if(this.hasOwnProperty(je)&&!Re.hasOwnProperty(je)||this[je]!==Re[je])return!1;Me++}for(je in Re)Re.hasOwnProperty(je)&&_e.indexOf(je)<0&&Me--;return Me===0},E.API={events:[]},E.version="2.5.2";var q=E.API,D=1,R$1=function(Re){return Re.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},T$2=function(Re){return Re.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},U$1=function(Re){return Re.toFixed(2)},z=function(Re){return Re.toFixed(5)};q.__acroform__={};var H=function(Re,je){Re.prototype=Object.create(je.prototype),Re.prototype.constructor=Re},W=function(Re){return Re*D},V$1=function(Re){var je=new ut,_e=At.internal.getHeight(Re)||0,Me=At.internal.getWidth(Re)||0;return je.BBox=[0,0,Number(U$1(Me)),Number(U$1(_e))],je},G=q.__acroform__.setBit=function(Re,je){if(Re=Re||0,je=je||0,isNaN(Re)||isNaN(je))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return Re|=1<<je},Y$1=q.__acroform__.clearBit=function(Re,je){if(Re=Re||0,je=je||0,isNaN(Re)||isNaN(je))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return Re&=~(1<<je)},J=q.__acroform__.getBit=function(Re,je){if(isNaN(Re)||isNaN(je))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return Re&1<<je?1:0},X=q.__acroform__.getBitForPdf=function(Re,je){if(isNaN(Re)||isNaN(je))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return J(Re,je-1)},K$1=q.__acroform__.setBitForPdf=function(Re,je){if(isNaN(Re)||isNaN(je))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return G(Re,je-1)},Z$1=q.__acroform__.clearBitForPdf=function(Re,je){if(isNaN(Re)||isNaN(je))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Y$1(Re,je-1)},$=q.__acroform__.calculateCoordinates=function(Re,je){var _e=je.internal.getHorizontalCoordinate,Me=je.internal.getVerticalCoordinate,$e=Re[0],ke=Re[1],Ce=Re[2],Be=Re[3],qe={};return qe.lowerLeft_X=_e($e)||0,qe.lowerLeft_Y=Me(ke+Be)||0,qe.upperRight_X=_e($e+Ce)||0,qe.upperRight_Y=Me(ke)||0,[Number(U$1(qe.lowerLeft_X)),Number(U$1(qe.lowerLeft_Y)),Number(U$1(qe.upperRight_X)),Number(U$1(qe.upperRight_Y))]},Q$1=function(Re){if(Re.appearanceStreamContent)return Re.appearanceStreamContent;if(Re.V||Re.DV){var je=[],_e=Re._V||Re.DV,Me=tt(Re,_e),$e=Re.scope.internal.getFont(Re.fontName,Re.fontStyle).id;je.push("/Tx BMC"),je.push("q"),je.push("BT"),je.push(Re.scope.__private__.encodeColorString(Re.color)),je.push("/"+$e+" "+U$1(Me.fontSize)+" Tf"),je.push("1 0 0 1 0 0 Tm"),je.push(Me.text),je.push("ET"),je.push("Q"),je.push("EMC");var ke=V$1(Re);return ke.scope=Re.scope,ke.stream=je.join(`
`),ke}},tt=function(Re,je){var _e=Re.fontSize===0?Re.maxFontSize:Re.fontSize,Me={text:"",fontSize:""},$e=(je=(je=je.substr(0,1)=="("?je.substr(1):je).substr(je.length-1)==")"?je.substr(0,je.length-1):je).split(" ");$e=Re.multiline?$e.map(function(Xe){return Xe.split(`
`)}):$e.map(function(Xe){return[Xe]});var ke=_e,Ce=At.internal.getHeight(Re)||0;Ce=Ce<0?-Ce:Ce;var Be=At.internal.getWidth(Re)||0;Be=Be<0?-Be:Be;var qe=function(Xe,Pe,Fe){if(Xe+1<$e.length){var ze=Pe+" "+$e[Xe+1][0];return et(ze,Re,Fe).width<=Be-4}return!1};ke++;e:for(;ke>0;){je="",ke--;var He,We,Ke=et("3",Re,ke).height,Je=Re.multiline?Ce-ke:(Ce-Ke)/2,Qe=Je+=2,rr=0,tr=0,cr=0;if(ke<=0){je=`(...) Tj
`,je+="% Width of Text: "+et(je,Re,ke=12).width+", FieldWidth:"+Be+`
`;break}for(var or="",ar=0,pr=0;pr<$e.length;pr++)if($e.hasOwnProperty(pr)){var ur=!1;if($e[pr].length!==1&&cr!==$e[pr].length-1){if((Ke+2)*(ar+2)+2>Ce)continue e;or+=$e[pr][cr],ur=!0,tr=pr,pr--}else{or=(or+=$e[pr][cr]+" ").substr(or.length-1)==" "?or.substr(0,or.length-1):or;var gr=parseInt(pr),jr=qe(gr,or,ke),vr=pr>=$e.length-1;if(jr&&!vr){or+=" ",cr=0;continue}if(jr||vr){if(vr)tr=gr;else if(Re.multiline&&(Ke+2)*(ar+2)+2>Ce)continue e}else{if(!Re.multiline||(Ke+2)*(ar+2)+2>Ce)continue e;tr=gr}}for(var dr="",xr=rr;xr<=tr;xr++){var Rr=$e[xr];if(Re.multiline){if(xr===tr){dr+=Rr[cr]+" ",cr=(cr+1)%Rr.length;continue}if(xr===rr){dr+=Rr[Rr.length-1]+" ";continue}}dr+=Rr[0]+" "}switch(dr=dr.substr(dr.length-1)==" "?dr.substr(0,dr.length-1):dr,We=et(dr,Re,ke).width,Re.textAlign){case"right":He=Be-We-2;break;case"center":He=(Be-We)/2;break;case"left":default:He=2}je+=U$1(He)+" "+U$1(Qe)+` Td
`,je+="("+R$1(dr)+`) Tj
`,je+=-U$1(He)+` 0 Td
`,Qe=-(ke+2),We=0,rr=ur?tr:tr+1,ar++,or=""}break}return Me.text=je,Me.fontSize=ke,Me},et=function(Re,je,_e){var Me=je.scope.internal.getFont(je.fontName,je.fontStyle),$e=je.scope.getStringUnitWidth(Re,{font:Me,fontSize:parseFloat(_e),charSpace:0})*parseFloat(_e);return{height:je.scope.getStringUnitWidth("3",{font:Me,fontSize:parseFloat(_e),charSpace:0})*parseFloat(_e)*1.5,width:$e}},rt={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},nt=function(Re,je){var _e={type:"reference",object:Re};je.internal.getPageInfo(Re.page).pageContext.annotations.find(function(Me){return Me.type===_e.type&&Me.object===_e.object})===void 0&&je.internal.getPageInfo(Re.page).pageContext.annotations.push(_e)},it=function(Re,je){for(var _e in Re)if(Re.hasOwnProperty(_e)){var Me=_e,$e=Re[_e];je.internal.newObjectDeferredBegin($e.objId,!0),_typeof$1($e)==="object"&&typeof $e.putStream=="function"&&$e.putStream(),delete Re[Me]}},at=function(Re,je){if(je.scope=Re,Re.internal!==void 0&&(Re.internal.acroformPlugin===void 0||Re.internal.acroformPlugin.isInitialized===!1)){if(lt$1.FieldNum=0,Re.internal.acroformPlugin=JSON.parse(JSON.stringify(rt)),Re.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");D=Re.internal.scaleFactor,Re.internal.acroformPlugin.acroFormDictionaryRoot=new ht,Re.internal.acroformPlugin.acroFormDictionaryRoot.scope=Re,Re.internal.acroformPlugin.acroFormDictionaryRoot._eventID=Re.internal.events.subscribe("postPutResources",function(){(function(_e){_e.internal.events.unsubscribe(_e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete _e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,_e.internal.acroformPlugin.printedOut=!0})(Re)}),Re.internal.events.subscribe("buildDocument",function(){(function(_e){_e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var Me=_e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var $e in Me)if(Me.hasOwnProperty($e)){var ke=Me[$e];ke.objId=void 0,ke.hasAnnotation&&nt(ke,_e)}})(Re)}),Re.internal.events.subscribe("putCatalog",function(){(function(_e){if(_e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");_e.internal.write("/AcroForm "+_e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(Re)}),Re.internal.events.subscribe("postPutPages",function(_e){(function(Me,$e){var ke=!Me;for(var Ce in Me||($e.internal.newObjectDeferredBegin($e.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),$e.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),Me=Me||$e.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(Me.hasOwnProperty(Ce)){var Be=Me[Ce],qe=[],He=Be.Rect;if(Be.Rect&&(Be.Rect=$(Be.Rect,$e)),$e.internal.newObjectDeferredBegin(Be.objId,!0),Be.DA=At.createDefaultAppearanceStream(Be),_typeof$1(Be)==="object"&&typeof Be.getKeyValueListForStream=="function"&&(qe=Be.getKeyValueListForStream()),Be.Rect=He,Be.hasAppearanceStream&&!Be.appearanceStreamContent){var We=Q$1(Be);qe.push({key:"AP",value:"<</N "+We+">>"}),$e.internal.acroformPlugin.xForms.push(We)}if(Be.appearanceStreamContent){var Ke="";for(var Je in Be.appearanceStreamContent)if(Be.appearanceStreamContent.hasOwnProperty(Je)){var Qe=Be.appearanceStreamContent[Je];if(Ke+="/"+Je+" ",Ke+="<<",Object.keys(Qe).length>=1||Array.isArray(Qe)){for(var Ce in Qe)if(Qe.hasOwnProperty(Ce)){var rr=Qe[Ce];typeof rr=="function"&&(rr=rr.call($e,Be)),Ke+="/"+Ce+" "+rr+" ",$e.internal.acroformPlugin.xForms.indexOf(rr)>=0||$e.internal.acroformPlugin.xForms.push(rr)}}else typeof(rr=Qe)=="function"&&(rr=rr.call($e,Be)),Ke+="/"+Ce+" "+rr,$e.internal.acroformPlugin.xForms.indexOf(rr)>=0||$e.internal.acroformPlugin.xForms.push(rr);Ke+=">>"}qe.push({key:"AP",value:`<<
`+Ke+">>"})}$e.internal.putStream({additionalKeyValues:qe,objectId:Be.objId}),$e.internal.out("endobj")}ke&&it($e.internal.acroformPlugin.xForms,$e)})(_e,Re)}),Re.internal.acroformPlugin.isInitialized=!0}},ot=q.__acroform__.arrayToPdfArray=function(Re,je,_e){var Me=function(Ce){return Ce};if(Array.isArray(Re)){for(var $e="[",ke=0;ke<Re.length;ke++)switch(ke!==0&&($e+=" "),_typeof$1(Re[ke])){case"boolean":case"number":case"object":$e+=Re[ke].toString();break;case"string":Re[ke].substr(0,1)!=="/"?(je!==void 0&&_e&&(Me=_e.internal.getEncryptor(je)),$e+="("+R$1(Me(Re[ke].toString()))+")"):$e+=Re[ke].toString()}return $e+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},st=function(Re,je,_e){var Me=function($e){return $e};return je!==void 0&&_e&&(Me=_e.internal.getEncryptor(je)),(Re=Re||"").toString(),Re="("+R$1(Me(Re))+")"},ct=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(Re){this._objId=Re}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ct.prototype.toString=function(){return this.objId+" 0 R"},ct.prototype.putStream=function(){var Re=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:Re,objectId:this.objId}),this.scope.internal.out("endobj")},ct.prototype.getKeyValueListForStream=function(){var Re=[],je=Object.getOwnPropertyNames(this).filter(function(ke){return ke!="content"&&ke!="appearanceStreamContent"&&ke!="scope"&&ke!="objId"&&ke.substring(0,1)!="_"});for(var _e in je)if(Object.getOwnPropertyDescriptor(this,je[_e]).configurable===!1){var Me=je[_e],$e=this[Me];$e&&(Array.isArray($e)?Re.push({key:Me,value:ot($e,this.objId,this.scope)}):$e instanceof ct?($e.scope=this.scope,Re.push({key:Me,value:$e.objId+" 0 R"})):typeof $e!="function"&&Re.push({key:Me,value:$e}))}return Re};var ut=function(){ct.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var Re,je=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return je},set:function(_e){je=_e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(_e){Re=_e.trim()},get:function(){return Re||null}})};H(ut,ct);var ht=function(){ct.call(this);var Re,je=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return je.length>0?je:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return je}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(Re){var _e=function(Me){return Me};return this.scope&&(_e=this.scope.internal.getEncryptor(this.objId)),"("+R$1(_e(Re))+")"}},set:function(_e){Re=_e}})};H(ht,ct);var lt$1=function Re(){ct.call(this);var je=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return je},set:function(or){if(isNaN(or))throw new Error('Invalid value "'+or+'" for attribute F supplied.');je=or}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!X(je,3)},set:function(or){or?this.F=K$1(je,3):this.F=Z$1(je,3)}});var _e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return _e},set:function(or){if(isNaN(or))throw new Error('Invalid value "'+or+'" for attribute Ff supplied.');_e=or}});var Me=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(Me.length!==0)return Me},set:function(or){Me=or!==void 0?or:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!Me||isNaN(Me[0])?0:Me[0]},set:function(or){Me[0]=or}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!Me||isNaN(Me[1])?0:Me[1]},set:function(or){Me[1]=or}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!Me||isNaN(Me[2])?0:Me[2]},set:function(or){Me[2]=or}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!Me||isNaN(Me[3])?0:Me[3]},set:function(or){Me[3]=or}});var $e="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return $e},set:function(or){switch(or){case"/Btn":case"/Tx":case"/Ch":case"/Sig":$e=or;break;default:throw new Error('Invalid value "'+or+'" for attribute FT supplied.')}}});var ke=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!ke||ke.length<1){if(this instanceof yt)return;ke="FieldObject"+Re.FieldNum++}var or=function(ar){return ar};return this.scope&&(or=this.scope.internal.getEncryptor(this.objId)),"("+R$1(or(ke))+")"},set:function(or){ke=or.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return ke},set:function(or){ke=or}});var Ce="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return Ce},set:function(or){Ce=or}});var Be="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return Be},set:function(or){Be=or}});var qe=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return qe},set:function(or){qe=or}});var He=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return He===void 0?50/D:He},set:function(or){He=or}});var We="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return We},set:function(or){We=or}});var Ke="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!Ke||this instanceof yt||this instanceof Nt))return st(Ke,this.objId,this.scope)},set:function(or){or=or.toString(),Ke=or}});var Je=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(Je)return this instanceof mt?Je:st(Je,this.objId,this.scope)},set:function(or){or=or.toString(),Je=this instanceof mt?or:or.substr(0,1)==="("?T$2(or.substr(1,or.length-2)):T$2(or)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof mt?T$2(Je.substr(1,Je.length-1)):Je},set:function(or){or=or.toString(),Je=this instanceof mt?"/"+or:or}});var Qe=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(Qe)return Qe},set:function(or){this.V=or}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(Qe)return this instanceof mt?Qe:st(Qe,this.objId,this.scope)},set:function(or){or=or.toString(),Qe=this instanceof mt?or:or.substr(0,1)==="("?T$2(or.substr(1,or.length-2)):T$2(or)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof mt?T$2(Qe.substr(1,Qe.length-1)):Qe},set:function(or){or=or.toString(),Qe=this instanceof mt?"/"+or:or}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var rr,tr=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return tr},set:function(or){or=!!or,tr=or}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(rr)return rr},set:function(or){rr=or}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,1)},set:function(or){or?this.Ff=K$1(this.Ff,1):this.Ff=Z$1(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,2)},set:function(or){or?this.Ff=K$1(this.Ff,2):this.Ff=Z$1(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,3)},set:function(or){or?this.Ff=K$1(this.Ff,3):this.Ff=Z$1(this.Ff,3)}});var cr=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(cr!==null)return cr},set:function(or){if([0,1,2].indexOf(or)===-1)throw new Error('Invalid value "'+or+'" for attribute Q supplied.');cr=or}}),Object.defineProperty(this,"textAlign",{get:function(){var or;switch(cr){case 0:default:or="left";break;case 1:or="center";break;case 2:or="right"}return or},configurable:!0,enumerable:!0,set:function(or){switch(or){case"right":case 2:cr=2;break;case"center":case 1:cr=1;break;case"left":case 0:default:cr=0}}})};H(lt$1,ct);var ft=function(){lt$1.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var Re=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return Re},set:function(_e){Re=_e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return Re},set:function(_e){Re=_e}});var je=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return ot(je,this.objId,this.scope)},set:function(_e){var Me,$e;$e=[],typeof(Me=_e)=="string"&&($e=function(ke,Ce,Be){Be||(Be=1);for(var qe,He=[];qe=Ce.exec(ke);)He.push(qe[Be]);return He}(Me,/\((.*?)\)/g)),je=$e}}),this.getOptions=function(){return je},this.setOptions=function(_e){je=_e,this.sort&&je.sort()},this.addOption=function(_e){_e=(_e=_e||"").toString(),je.push(_e),this.sort&&je.sort()},this.removeOption=function(_e,Me){for(Me=Me||!1,_e=(_e=_e||"").toString();je.indexOf(_e)!==-1&&(je.splice(je.indexOf(_e),1),Me!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,18)},set:function(_e){_e?this.Ff=K$1(this.Ff,18):this.Ff=Z$1(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,19)},set:function(_e){this.combo===!0&&(_e?this.Ff=K$1(this.Ff,19):this.Ff=Z$1(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,20)},set:function(_e){_e?(this.Ff=K$1(this.Ff,20),je.sort()):this.Ff=Z$1(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,22)},set:function(_e){_e?this.Ff=K$1(this.Ff,22):this.Ff=Z$1(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,23)},set:function(_e){_e?this.Ff=K$1(this.Ff,23):this.Ff=Z$1(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,27)},set:function(_e){_e?this.Ff=K$1(this.Ff,27):this.Ff=Z$1(this.Ff,27)}}),this.hasAppearanceStream=!1};H(ft,lt$1);var dt=function(){ft.call(this),this.fontName="helvetica",this.combo=!1};H(dt,ft);var pt=function(){dt.call(this),this.combo=!0};H(pt,dt);var gt$1=function(){pt.call(this),this.edit=!0};H(gt$1,pt);var mt=function(){lt$1.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,15)},set:function(_e){_e?this.Ff=K$1(this.Ff,15):this.Ff=Z$1(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,16)},set:function(_e){_e?this.Ff=K$1(this.Ff,16):this.Ff=Z$1(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,17)},set:function(_e){_e?this.Ff=K$1(this.Ff,17):this.Ff=Z$1(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,26)},set:function(_e){_e?this.Ff=K$1(this.Ff,26):this.Ff=Z$1(this.Ff,26)}});var Re,je={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var _e=function(ke){return ke};if(this.scope&&(_e=this.scope.internal.getEncryptor(this.objId)),Object.keys(je).length!==0){var Me,$e=[];for(Me in $e.push("<<"),je)$e.push("/"+Me+" ("+R$1(_e(je[Me]))+")");return $e.push(">>"),$e.join(`
`)}},set:function(_e){_typeof$1(_e)==="object"&&(je=_e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return je.CA||""},set:function(_e){typeof _e=="string"&&(je.CA=_e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return Re},set:function(_e){Re=_e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return Re.substr(1,Re.length-1)},set:function(_e){Re="/"+_e}})};H(mt,lt$1);var vt=function(){mt.call(this),this.pushButton=!0};H(vt,mt);var bt=function(){mt.call(this),this.radio=!0,this.pushButton=!1;var Re=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return Re},set:function(je){Re=je!==void 0?je:[]}})};H(bt,mt);var yt=function(){var Re,je;lt$1.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return Re},set:function($e){Re=$e}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return je},set:function($e){je=$e}});var _e,Me={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var $e=function(Be){return Be};this.scope&&($e=this.scope.internal.getEncryptor(this.objId));var ke,Ce=[];for(ke in Ce.push("<<"),Me)Ce.push("/"+ke+" ("+R$1($e(Me[ke]))+")");return Ce.push(">>"),Ce.join(`
`)},set:function($e){_typeof$1($e)==="object"&&(Me=$e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return Me.CA||""},set:function($e){typeof $e=="string"&&(Me.CA=$e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return _e},set:function($e){_e=$e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return _e.substr(1,_e.length-1)},set:function($e){_e="/"+$e}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=At.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};H(yt,lt$1),bt.prototype.setAppearance=function(Re){if(!("createAppearanceStream"in Re)||!("getCA"in Re))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var je in this.Kids)if(this.Kids.hasOwnProperty(je)){var _e=this.Kids[je];_e.appearanceStreamContent=Re.createAppearanceStream(_e.optionName),_e.caption=Re.getCA()}},bt.prototype.createOption=function(Re){var je=new yt;return je.Parent=this,je.optionName=Re,this.Kids.push(je),xt.call(this.scope,je),je};var wt=function(){mt.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=At.CheckBox.createAppearanceStream()};H(wt,mt);var Nt=function(){lt$1.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,13)},set:function(je){je?this.Ff=K$1(this.Ff,13):this.Ff=Z$1(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,21)},set:function(je){je?this.Ff=K$1(this.Ff,21):this.Ff=Z$1(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,23)},set:function(je){je?this.Ff=K$1(this.Ff,23):this.Ff=Z$1(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,24)},set:function(je){je?this.Ff=K$1(this.Ff,24):this.Ff=Z$1(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,25)},set:function(je){je?this.Ff=K$1(this.Ff,25):this.Ff=Z$1(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,26)},set:function(je){je?this.Ff=K$1(this.Ff,26):this.Ff=Z$1(this.Ff,26)}});var Re=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return Re},set:function(je){Re=je}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return Re},set:function(je){Number.isInteger(je)&&(Re=je)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};H(Nt,lt$1);var Lt=function(){Nt.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!X(this.Ff,14)},set:function(Re){Re?this.Ff=K$1(this.Ff,14):this.Ff=Z$1(this.Ff,14)}}),this.password=!0};H(Lt,Nt);var At={CheckBox:{createAppearanceStream:function(){return{N:{On:At.CheckBox.YesNormal},D:{On:At.CheckBox.YesPushDown,Off:At.CheckBox.OffPushDown}}},YesPushDown:function(Re){var je=V$1(Re);je.scope=Re.scope;var _e=[],Me=Re.scope.internal.getFont(Re.fontName,Re.fontStyle).id,$e=Re.scope.__private__.encodeColorString(Re.color),ke=tt(Re,Re.caption);return _e.push("0.749023 g"),_e.push("0 0 "+U$1(At.internal.getWidth(Re))+" "+U$1(At.internal.getHeight(Re))+" re"),_e.push("f"),_e.push("BMC"),_e.push("q"),_e.push("0 0 1 rg"),_e.push("/"+Me+" "+U$1(ke.fontSize)+" Tf "+$e),_e.push("BT"),_e.push(ke.text),_e.push("ET"),_e.push("Q"),_e.push("EMC"),je.stream=_e.join(`
`),je},YesNormal:function(Re){var je=V$1(Re);je.scope=Re.scope;var _e=Re.scope.internal.getFont(Re.fontName,Re.fontStyle).id,Me=Re.scope.__private__.encodeColorString(Re.color),$e=[],ke=At.internal.getHeight(Re),Ce=At.internal.getWidth(Re),Be=tt(Re,Re.caption);return $e.push("1 g"),$e.push("0 0 "+U$1(Ce)+" "+U$1(ke)+" re"),$e.push("f"),$e.push("q"),$e.push("0 0 1 rg"),$e.push("0 0 "+U$1(Ce-1)+" "+U$1(ke-1)+" re"),$e.push("W"),$e.push("n"),$e.push("0 g"),$e.push("BT"),$e.push("/"+_e+" "+U$1(Be.fontSize)+" Tf "+Me),$e.push(Be.text),$e.push("ET"),$e.push("Q"),je.stream=$e.join(`
`),je},OffPushDown:function(Re){var je=V$1(Re);je.scope=Re.scope;var _e=[];return _e.push("0.749023 g"),_e.push("0 0 "+U$1(At.internal.getWidth(Re))+" "+U$1(At.internal.getHeight(Re))+" re"),_e.push("f"),je.stream=_e.join(`
`),je}},RadioButton:{Circle:{createAppearanceStream:function(Re){var je={D:{Off:At.RadioButton.Circle.OffPushDown},N:{}};return je.N[Re]=At.RadioButton.Circle.YesNormal,je.D[Re]=At.RadioButton.Circle.YesPushDown,je},getCA:function(){return"l"},YesNormal:function(Re){var je=V$1(Re);je.scope=Re.scope;var _e=[],Me=At.internal.getWidth(Re)<=At.internal.getHeight(Re)?At.internal.getWidth(Re)/4:At.internal.getHeight(Re)/4;Me=Number((.9*Me).toFixed(5));var $e=At.internal.Bezier_C,ke=Number((Me*$e).toFixed(5));return _e.push("q"),_e.push("1 0 0 1 "+z(At.internal.getWidth(Re)/2)+" "+z(At.internal.getHeight(Re)/2)+" cm"),_e.push(Me+" 0 m"),_e.push(Me+" "+ke+" "+ke+" "+Me+" 0 "+Me+" c"),_e.push("-"+ke+" "+Me+" -"+Me+" "+ke+" -"+Me+" 0 c"),_e.push("-"+Me+" -"+ke+" -"+ke+" -"+Me+" 0 -"+Me+" c"),_e.push(ke+" -"+Me+" "+Me+" -"+ke+" "+Me+" 0 c"),_e.push("f"),_e.push("Q"),je.stream=_e.join(`
`),je},YesPushDown:function(Re){var je=V$1(Re);je.scope=Re.scope;var _e=[],Me=At.internal.getWidth(Re)<=At.internal.getHeight(Re)?At.internal.getWidth(Re)/4:At.internal.getHeight(Re)/4;Me=Number((.9*Me).toFixed(5));var $e=Number((2*Me).toFixed(5)),ke=Number(($e*At.internal.Bezier_C).toFixed(5)),Ce=Number((Me*At.internal.Bezier_C).toFixed(5));return _e.push("0.749023 g"),_e.push("q"),_e.push("1 0 0 1 "+z(At.internal.getWidth(Re)/2)+" "+z(At.internal.getHeight(Re)/2)+" cm"),_e.push($e+" 0 m"),_e.push($e+" "+ke+" "+ke+" "+$e+" 0 "+$e+" c"),_e.push("-"+ke+" "+$e+" -"+$e+" "+ke+" -"+$e+" 0 c"),_e.push("-"+$e+" -"+ke+" -"+ke+" -"+$e+" 0 -"+$e+" c"),_e.push(ke+" -"+$e+" "+$e+" -"+ke+" "+$e+" 0 c"),_e.push("f"),_e.push("Q"),_e.push("0 g"),_e.push("q"),_e.push("1 0 0 1 "+z(At.internal.getWidth(Re)/2)+" "+z(At.internal.getHeight(Re)/2)+" cm"),_e.push(Me+" 0 m"),_e.push(Me+" "+Ce+" "+Ce+" "+Me+" 0 "+Me+" c"),_e.push("-"+Ce+" "+Me+" -"+Me+" "+Ce+" -"+Me+" 0 c"),_e.push("-"+Me+" -"+Ce+" -"+Ce+" -"+Me+" 0 -"+Me+" c"),_e.push(Ce+" -"+Me+" "+Me+" -"+Ce+" "+Me+" 0 c"),_e.push("f"),_e.push("Q"),je.stream=_e.join(`
`),je},OffPushDown:function(Re){var je=V$1(Re);je.scope=Re.scope;var _e=[],Me=At.internal.getWidth(Re)<=At.internal.getHeight(Re)?At.internal.getWidth(Re)/4:At.internal.getHeight(Re)/4;Me=Number((.9*Me).toFixed(5));var $e=Number((2*Me).toFixed(5)),ke=Number(($e*At.internal.Bezier_C).toFixed(5));return _e.push("0.749023 g"),_e.push("q"),_e.push("1 0 0 1 "+z(At.internal.getWidth(Re)/2)+" "+z(At.internal.getHeight(Re)/2)+" cm"),_e.push($e+" 0 m"),_e.push($e+" "+ke+" "+ke+" "+$e+" 0 "+$e+" c"),_e.push("-"+ke+" "+$e+" -"+$e+" "+ke+" -"+$e+" 0 c"),_e.push("-"+$e+" -"+ke+" -"+ke+" -"+$e+" 0 -"+$e+" c"),_e.push(ke+" -"+$e+" "+$e+" -"+ke+" "+$e+" 0 c"),_e.push("f"),_e.push("Q"),je.stream=_e.join(`
`),je}},Cross:{createAppearanceStream:function(Re){var je={D:{Off:At.RadioButton.Cross.OffPushDown},N:{}};return je.N[Re]=At.RadioButton.Cross.YesNormal,je.D[Re]=At.RadioButton.Cross.YesPushDown,je},getCA:function(){return"8"},YesNormal:function(Re){var je=V$1(Re);je.scope=Re.scope;var _e=[],Me=At.internal.calculateCross(Re);return _e.push("q"),_e.push("1 1 "+U$1(At.internal.getWidth(Re)-2)+" "+U$1(At.internal.getHeight(Re)-2)+" re"),_e.push("W"),_e.push("n"),_e.push(U$1(Me.x1.x)+" "+U$1(Me.x1.y)+" m"),_e.push(U$1(Me.x2.x)+" "+U$1(Me.x2.y)+" l"),_e.push(U$1(Me.x4.x)+" "+U$1(Me.x4.y)+" m"),_e.push(U$1(Me.x3.x)+" "+U$1(Me.x3.y)+" l"),_e.push("s"),_e.push("Q"),je.stream=_e.join(`
`),je},YesPushDown:function(Re){var je=V$1(Re);je.scope=Re.scope;var _e=At.internal.calculateCross(Re),Me=[];return Me.push("0.749023 g"),Me.push("0 0 "+U$1(At.internal.getWidth(Re))+" "+U$1(At.internal.getHeight(Re))+" re"),Me.push("f"),Me.push("q"),Me.push("1 1 "+U$1(At.internal.getWidth(Re)-2)+" "+U$1(At.internal.getHeight(Re)-2)+" re"),Me.push("W"),Me.push("n"),Me.push(U$1(_e.x1.x)+" "+U$1(_e.x1.y)+" m"),Me.push(U$1(_e.x2.x)+" "+U$1(_e.x2.y)+" l"),Me.push(U$1(_e.x4.x)+" "+U$1(_e.x4.y)+" m"),Me.push(U$1(_e.x3.x)+" "+U$1(_e.x3.y)+" l"),Me.push("s"),Me.push("Q"),je.stream=Me.join(`
`),je},OffPushDown:function(Re){var je=V$1(Re);je.scope=Re.scope;var _e=[];return _e.push("0.749023 g"),_e.push("0 0 "+U$1(At.internal.getWidth(Re))+" "+U$1(At.internal.getHeight(Re))+" re"),_e.push("f"),je.stream=_e.join(`
`),je}}},createDefaultAppearanceStream:function(Re){var je=Re.scope.internal.getFont(Re.fontName,Re.fontStyle).id,_e=Re.scope.__private__.encodeColorString(Re.color);return"/"+je+" "+Re.fontSize+" Tf "+_e}};At.internal={Bezier_C:.551915024494,calculateCross:function(Re){var je=At.internal.getWidth(Re),_e=At.internal.getHeight(Re),Me=Math.min(je,_e);return{x1:{x:(je-Me)/2,y:(_e-Me)/2+Me},x2:{x:(je-Me)/2+Me,y:(_e-Me)/2},x3:{x:(je-Me)/2,y:(_e-Me)/2},x4:{x:(je-Me)/2+Me,y:(_e-Me)/2+Me}}}},At.internal.getWidth=function(Re){var je=0;return _typeof$1(Re)==="object"&&(je=W(Re.Rect[2])),je},At.internal.getHeight=function(Re){var je=0;return _typeof$1(Re)==="object"&&(je=W(Re.Rect[3])),je};var xt=q.addField=function(Re){if(at(this,Re),!(Re instanceof lt$1))throw new Error("Invalid argument passed to jsPDF.addField.");var je;return(je=Re).scope.internal.acroformPlugin.printedOut&&(je.scope.internal.acroformPlugin.printedOut=!1,je.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),je.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(je),Re.page=Re.scope.internal.getCurrentPageInfo().pageNumber,this};q.AcroFormChoiceField=ft,q.AcroFormListBox=dt,q.AcroFormComboBox=pt,q.AcroFormEditBox=gt$1,q.AcroFormButton=mt,q.AcroFormPushButton=vt,q.AcroFormRadioButton=bt,q.AcroFormCheckBox=wt,q.AcroFormTextField=Nt,q.AcroFormPasswordField=Lt,q.AcroFormAppearance=At,q.AcroForm={ChoiceField:ft,ListBox:dt,ComboBox:pt,EditBox:gt$1,Button:mt,PushButton:vt,RadioButton:bt,CheckBox:wt,TextField:Nt,PasswordField:Lt,Appearance:At},E.AcroForm={ChoiceField:ft,ListBox:dt,ComboBox:pt,EditBox:gt$1,Button:mt,PushButton:vt,RadioButton:bt,CheckBox:wt,TextField:Nt,PasswordField:Lt,Appearance:At};var St=E.AcroForm;function _t(Re){return Re.reduce(function(je,_e,Me){return je[_e]=Me,je},{})}(function(Re){Re.__addimage__={};var je="UNKNOWN",_e={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},Me=Re.__addimage__.getImageFileTypeByImageData=function(Xe,Pe){var Fe,ze,Ue,Ge,Ze,er=je;if((Pe=Pe||je)==="RGBA"||Xe.data!==void 0&&Xe.data instanceof Uint8ClampedArray&&"height"in Xe&&"width"in Xe)return"RGBA";if(jr(Xe))for(Ze in _e)for(Ue=_e[Ze],Fe=0;Fe<Ue.length;Fe+=1){for(Ge=!0,ze=0;ze<Ue[Fe].length;ze+=1)if(Ue[Fe][ze]!==void 0&&Ue[Fe][ze]!==Xe[ze]){Ge=!1;break}if(Ge===!0){er=Ze;break}}else for(Ze in _e)for(Ue=_e[Ze],Fe=0;Fe<Ue.length;Fe+=1){for(Ge=!0,ze=0;ze<Ue[Fe].length;ze+=1)if(Ue[Fe][ze]!==void 0&&Ue[Fe][ze]!==Xe.charCodeAt(ze)){Ge=!1;break}if(Ge===!0){er=Ze;break}}return er===je&&Pe!==je&&(er=Pe),er},$e=function Xe(Pe){for(var Fe=this.internal.write,ze=this.internal.putStream,Ue=(0,this.internal.getFilters)();Ue.indexOf("FlateEncode")!==-1;)Ue.splice(Ue.indexOf("FlateEncode"),1);Pe.objectId=this.internal.newObject();var Ge=[];if(Ge.push({key:"Type",value:"/XObject"}),Ge.push({key:"Subtype",value:"/Image"}),Ge.push({key:"Width",value:Pe.width}),Ge.push({key:"Height",value:Pe.height}),Pe.colorSpace===cr.INDEXED?Ge.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(Pe.palette.length/3-1)+" "+("sMask"in Pe&&Pe.sMask!==void 0?Pe.objectId+2:Pe.objectId+1)+" 0 R]"}):(Ge.push({key:"ColorSpace",value:"/"+Pe.colorSpace}),Pe.colorSpace===cr.DEVICE_CMYK&&Ge.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Ge.push({key:"BitsPerComponent",value:Pe.bitsPerComponent}),"decodeParameters"in Pe&&Pe.decodeParameters!==void 0&&Ge.push({key:"DecodeParms",value:"<<"+Pe.decodeParameters+">>"}),"transparency"in Pe&&Array.isArray(Pe.transparency)){for(var Ze="",er=0,Ve=Pe.transparency.length;er<Ve;er++)Ze+=Pe.transparency[er]+" "+Pe.transparency[er]+" ";Ge.push({key:"Mask",value:"["+Ze+"]"})}Pe.sMask!==void 0&&Ge.push({key:"SMask",value:Pe.objectId+1+" 0 R"});var Ie=Pe.filter!==void 0?["/"+Pe.filter]:void 0;if(ze({data:Pe.data,additionalKeyValues:Ge,alreadyAppliedFilters:Ie,objectId:Pe.objectId}),Fe("endobj"),"sMask"in Pe&&Pe.sMask!==void 0){var Ye="/Predictor "+Pe.predictor+" /Colors 1 /BitsPerComponent "+Pe.bitsPerComponent+" /Columns "+Pe.width,ir={width:Pe.width,height:Pe.height,colorSpace:"DeviceGray",bitsPerComponent:Pe.bitsPerComponent,decodeParameters:Ye,data:Pe.sMask};"filter"in Pe&&(ir.filter=Pe.filter),Xe.call(this,ir)}if(Pe.colorSpace===cr.INDEXED){var lr=this.internal.newObject();ze({data:dr(new Uint8Array(Pe.palette)),objectId:lr}),Fe("endobj")}},ke=function(){var Xe=this.internal.collections.addImage_images;for(var Pe in Xe)$e.call(this,Xe[Pe])},Ce=function(){var Xe,Pe=this.internal.collections.addImage_images,Fe=this.internal.write;for(var ze in Pe)Fe("/I"+(Xe=Pe[ze]).index,Xe.objectId,"0","R")},Be=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",ke),this.internal.events.subscribe("putXobjectDict",Ce))},qe=function(){var Xe=this.internal.collections.addImage_images;return Be.call(this),Xe},He=function(){return Object.keys(this.internal.collections.addImage_images).length},We=function(Xe){return typeof Re["process"+Xe.toUpperCase()]=="function"},Ke=function(Xe){return _typeof$1(Xe)==="object"&&Xe.nodeType===1},Je=function(Xe,Pe){if(Xe.nodeName==="IMG"&&Xe.hasAttribute("src")){var Fe=""+Xe.getAttribute("src");if(Fe.indexOf("data:image/")===0)return u$3(unescape(Fe).split("base64,").pop());var ze=Re.loadFile(Fe,!0);if(ze!==void 0)return ze}if(Xe.nodeName==="CANVAS"){if(Xe.width===0||Xe.height===0)throw new Error("Given canvas must have data. Canvas width: "+Xe.width+", height: "+Xe.height);var Ue;switch(Pe){case"PNG":Ue="image/png";break;case"WEBP":Ue="image/webp";break;case"JPEG":case"JPG":default:Ue="image/jpeg"}return u$3(Xe.toDataURL(Ue,1).split("base64,").pop())}},Qe=function(Xe){var Pe=this.internal.collections.addImage_images;if(Pe){for(var Fe in Pe)if(Xe===Pe[Fe].alias)return Pe[Fe]}},rr=function(Xe,Pe,Fe){return Xe||Pe||(Xe=-96,Pe=-96),Xe<0&&(Xe=-1*Fe.width*72/Xe/this.internal.scaleFactor),Pe<0&&(Pe=-1*Fe.height*72/Pe/this.internal.scaleFactor),Xe===0&&(Xe=Pe*Fe.width/Fe.height),Pe===0&&(Pe=Xe*Fe.height/Fe.width),[Xe,Pe]},tr=function(Xe,Pe,Fe,ze,Ue,Ge){var Ze=rr.call(this,Fe,ze,Ue),er=this.internal.getCoordinateString,Ve=this.internal.getVerticalCoordinateString,Ie=qe.call(this);if(Fe=Ze[0],ze=Ze[1],Ie[Ue.index]=Ue,Ge){Ge*=Math.PI/180;var Ye=Math.cos(Ge),ir=Math.sin(Ge),lr=function(_r){return _r.toFixed(4)},br=[lr(Ye),lr(ir),lr(-1*ir),lr(Ye),0,0,"cm"]}this.internal.write("q"),Ge?(this.internal.write([1,"0","0",1,er(Xe),Ve(Pe+ze),"cm"].join(" ")),this.internal.write(br.join(" ")),this.internal.write([er(Fe),"0","0",er(ze),"0","0","cm"].join(" "))):this.internal.write([er(Fe),"0","0",er(ze),er(Xe),Ve(Pe+ze),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Ue.index+" Do"),this.internal.write("Q")},cr=Re.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};Re.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var or=Re.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},ar=Re.__addimage__.sHashCode=function(Xe){var Pe,Fe,ze=0;if(typeof Xe=="string")for(Fe=Xe.length,Pe=0;Pe<Fe;Pe++)ze=(ze<<5)-ze+Xe.charCodeAt(Pe),ze|=0;else if(jr(Xe))for(Fe=Xe.byteLength/2,Pe=0;Pe<Fe;Pe++)ze=(ze<<5)-ze+Xe[Pe],ze|=0;return ze},pr=Re.__addimage__.validateStringAsBase64=function(Xe){(Xe=Xe||"").toString().trim();var Pe=!0;return Xe.length===0&&(Pe=!1),Xe.length%4!=0&&(Pe=!1),/^[A-Za-z0-9+/]+$/.test(Xe.substr(0,Xe.length-2))===!1&&(Pe=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(Xe.substr(-2))===!1&&(Pe=!1),Pe},ur=Re.__addimage__.extractImageFromDataUrl=function(Xe){var Pe=(Xe=Xe||"").split("base64,"),Fe=null;if(Pe.length===2){var ze=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(Pe[0]);Array.isArray(ze)&&(Fe={mimeType:ze[1],charset:ze[2],data:Pe[1]})}return Fe},gr=Re.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};Re.__addimage__.isArrayBuffer=function(Xe){return gr()&&Xe instanceof ArrayBuffer};var jr=Re.__addimage__.isArrayBufferView=function(Xe){return gr()&&typeof Uint32Array<"u"&&(Xe instanceof Int8Array||Xe instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&Xe instanceof Uint8ClampedArray||Xe instanceof Int16Array||Xe instanceof Uint16Array||Xe instanceof Int32Array||Xe instanceof Uint32Array||Xe instanceof Float32Array||Xe instanceof Float64Array)},vr=Re.__addimage__.binaryStringToUint8Array=function(Xe){for(var Pe=Xe.length,Fe=new Uint8Array(Pe),ze=0;ze<Pe;ze++)Fe[ze]=Xe.charCodeAt(ze);return Fe},dr=Re.__addimage__.arrayBufferToBinaryString=function(Xe){for(var Pe="",Fe=jr(Xe)?Xe:new Uint8Array(Xe),ze=0;ze<Fe.length;ze+=8192)Pe+=String.fromCharCode.apply(null,Fe.subarray(ze,ze+8192));return Pe};Re.addImage=function(){var Xe,Pe,Fe,ze,Ue,Ge,Ze,er,Ve;if(typeof arguments[1]=="number"?(Pe=je,Fe=arguments[1],ze=arguments[2],Ue=arguments[3],Ge=arguments[4],Ze=arguments[5],er=arguments[6],Ve=arguments[7]):(Pe=arguments[1],Fe=arguments[2],ze=arguments[3],Ue=arguments[4],Ge=arguments[5],Ze=arguments[6],er=arguments[7],Ve=arguments[8]),_typeof$1(Xe=arguments[0])==="object"&&!Ke(Xe)&&"imageData"in Xe){var Ie=Xe;Xe=Ie.imageData,Pe=Ie.format||Pe||je,Fe=Ie.x||Fe||0,ze=Ie.y||ze||0,Ue=Ie.w||Ie.width||Ue,Ge=Ie.h||Ie.height||Ge,Ze=Ie.alias||Ze,er=Ie.compression||er,Ve=Ie.rotation||Ie.angle||Ve}var Ye=this.internal.getFilters();if(er===void 0&&Ye.indexOf("FlateEncode")!==-1&&(er="SLOW"),isNaN(Fe)||isNaN(ze))throw new Error("Invalid coordinates passed to jsPDF.addImage");Be.call(this);var ir=xr.call(this,Xe,Pe,Ze,er);return tr.call(this,Fe,ze,Ue,Ge,ir,Ve),this};var xr=function(Xe,Pe,Fe,ze){var Ue,Ge,Ze;if(typeof Xe=="string"&&Me(Xe)===je){Xe=unescape(Xe);var er=Rr(Xe,!1);(er!==""||(er=Re.loadFile(Xe,!0))!==void 0)&&(Xe=er)}if(Ke(Xe)&&(Xe=Je(Xe,Pe)),Pe=Me(Xe,Pe),!We(Pe))throw new Error("addImage does not support files of type '"+Pe+"', please ensure that a plugin for '"+Pe+"' support is added.");if(((Ze=Fe)==null||Ze.length===0)&&(Fe=function(Ve){return typeof Ve=="string"||jr(Ve)?ar(Ve):jr(Ve.data)?ar(Ve.data):null}(Xe)),(Ue=Qe.call(this,Fe))||(gr()&&(Xe instanceof Uint8Array||Pe==="RGBA"||(Ge=Xe,Xe=vr(Xe))),Ue=this["process"+Pe.toUpperCase()](Xe,He.call(this),Fe,function(Ve){return Ve&&typeof Ve=="string"&&(Ve=Ve.toUpperCase()),Ve in Re.image_compression?Ve:or.NONE}(ze),Ge)),!Ue)throw new Error("An unknown error occurred whilst processing the image.");return Ue},Rr=Re.__addimage__.convertBase64ToBinaryString=function(Xe,Pe){var Fe;Pe=typeof Pe!="boolean"||Pe;var ze,Ue="";if(typeof Xe=="string"){ze=(Fe=ur(Xe))!==null?Fe.data:Xe;try{Ue=u$3(ze)}catch(Ge){if(Pe)throw pr(ze)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Ge.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Ue};Re.getImageProperties=function(Xe){var Pe,Fe,ze="";if(Ke(Xe)&&(Xe=Je(Xe)),typeof Xe=="string"&&Me(Xe)===je&&((ze=Rr(Xe,!1))===""&&(ze=Re.loadFile(Xe)||""),Xe=ze),Fe=Me(Xe),!We(Fe))throw new Error("addImage does not support files of type '"+Fe+"', please ensure that a plugin for '"+Fe+"' support is added.");if(!gr()||Xe instanceof Uint8Array||(Xe=vr(Xe)),!(Pe=this["process"+Fe.toUpperCase()](Xe)))throw new Error("An unknown error occurred whilst processing the image");return Pe.fileType=Fe,Pe}})(E.API),function(Re){var je=function(_e){if(_e!==void 0&&_e!="")return!0};E.API.events.push(["addPage",function(_e){this.internal.getPageInfo(_e.pageNumber).pageContext.annotations=[]}]),Re.events.push(["putPage",function(_e){for(var Me,$e,ke,Ce=this.internal.getCoordinateString,Be=this.internal.getVerticalCoordinateString,qe=this.internal.getPageInfoByObjId(_e.objId),He=_e.pageContext.annotations,We=!1,Ke=0;Ke<He.length&&!We;Ke++)switch((Me=He[Ke]).type){case"link":(je(Me.options.url)||je(Me.options.pageNumber))&&(We=!0);break;case"reference":case"text":case"freetext":We=!0}if(We!=0){this.internal.write("/Annots [");for(var Je=0;Je<He.length;Je++){Me=He[Je];var Qe=this.internal.pdfEscape,rr=this.internal.getEncryptor(_e.objId);switch(Me.type){case"reference":this.internal.write(" "+Me.object.objId+" 0 R ");break;case"text":var tr=this.internal.newAdditionalObject(),cr=this.internal.newAdditionalObject(),or=this.internal.getEncryptor(tr.objId),ar=Me.title||"Note";ke="<</Type /Annot /Subtype /Text "+($e="/Rect ["+Ce(Me.bounds.x)+" "+Be(Me.bounds.y+Me.bounds.h)+" "+Ce(Me.bounds.x+Me.bounds.w)+" "+Be(Me.bounds.y)+"] ")+"/Contents ("+Qe(or(Me.contents))+")",ke+=" /Popup "+cr.objId+" 0 R",ke+=" /P "+qe.objId+" 0 R",ke+=" /T ("+Qe(or(ar))+") >>",tr.content=ke;var pr=tr.objId+" 0 R";ke="<</Type /Annot /Subtype /Popup "+($e="/Rect ["+Ce(Me.bounds.x+30)+" "+Be(Me.bounds.y+Me.bounds.h)+" "+Ce(Me.bounds.x+Me.bounds.w+30)+" "+Be(Me.bounds.y)+"] ")+" /Parent "+pr,Me.open&&(ke+=" /Open true"),ke+=" >>",cr.content=ke,this.internal.write(tr.objId,"0 R",cr.objId,"0 R");break;case"freetext":$e="/Rect ["+Ce(Me.bounds.x)+" "+Be(Me.bounds.y)+" "+Ce(Me.bounds.x+Me.bounds.w)+" "+Be(Me.bounds.y+Me.bounds.h)+"] ";var ur=Me.color||"#000000";ke="<</Type /Annot /Subtype /FreeText "+$e+"/Contents ("+Qe(rr(Me.contents))+")",ke+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+ur+")",ke+=" /Border [0 0 0]",ke+=" >>",this.internal.write(ke);break;case"link":if(Me.options.name){var gr=this.annotations._nameMap[Me.options.name];Me.options.pageNumber=gr.page,Me.options.top=gr.y}else Me.options.top||(Me.options.top=0);if($e="/Rect ["+Me.finalBounds.x+" "+Me.finalBounds.y+" "+Me.finalBounds.w+" "+Me.finalBounds.h+"] ",ke="",Me.options.url)ke="<</Type /Annot /Subtype /Link "+$e+"/Border [0 0 0] /A <</S /URI /URI ("+Qe(rr(Me.options.url))+") >>";else if(Me.options.pageNumber)switch(ke="<</Type /Annot /Subtype /Link "+$e+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(Me.options.pageNumber).objId+" 0 R",Me.options.magFactor=Me.options.magFactor||"XYZ",Me.options.magFactor){case"Fit":ke+=" /Fit]";break;case"FitH":ke+=" /FitH "+Me.options.top+"]";break;case"FitV":Me.options.left=Me.options.left||0,ke+=" /FitV "+Me.options.left+"]";break;case"XYZ":default:var jr=Be(Me.options.top);Me.options.left=Me.options.left||0,Me.options.zoom===void 0&&(Me.options.zoom=0),ke+=" /XYZ "+Me.options.left+" "+jr+" "+Me.options.zoom+"]"}ke!=""&&(ke+=" >>",this.internal.write(ke))}}this.internal.write("]")}}]),Re.createAnnotation=function(_e){var Me=this.internal.getCurrentPageInfo();switch(_e.type){case"link":this.link(_e.bounds.x,_e.bounds.y,_e.bounds.w,_e.bounds.h,_e);break;case"text":case"freetext":Me.pageContext.annotations.push(_e)}},Re.link=function(_e,Me,$e,ke,Ce){var Be=this.internal.getCurrentPageInfo(),qe=this.internal.getCoordinateString,He=this.internal.getVerticalCoordinateString;Be.pageContext.annotations.push({finalBounds:{x:qe(_e),y:He(Me),w:qe(_e+$e),h:He(Me+ke)},options:Ce,type:"link"})},Re.textWithLink=function(_e,Me,$e,ke){var Ce,Be,qe=this.getTextWidth(_e),He=this.internal.getLineHeight()/this.internal.scaleFactor;if(ke.maxWidth!==void 0){Be=ke.maxWidth;var We=this.splitTextToSize(_e,Be).length;Ce=Math.ceil(He*We)}else Be=qe,Ce=He;return this.text(_e,Me,$e,ke),$e+=.2*He,ke.align==="center"&&(Me-=qe/2),ke.align==="right"&&(Me-=qe),this.link(Me,$e-He,Be,Ce,ke),qe},Re.getTextWidth=function(_e){var Me=this.internal.getFontSize();return this.getStringUnitWidth(_e)*Me/this.internal.scaleFactor}}(E.API),function(Re){var je={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},_e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},Me={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},$e=[1570,1571,1573,1575];Re.__arabicParser__={};var ke=Re.__arabicParser__.isInArabicSubstitutionA=function(tr){return je[tr.charCodeAt(0)]!==void 0},Ce=Re.__arabicParser__.isArabicLetter=function(tr){return typeof tr=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(tr)},Be=Re.__arabicParser__.isArabicEndLetter=function(tr){return Ce(tr)&&ke(tr)&&je[tr.charCodeAt(0)].length<=2},qe=Re.__arabicParser__.isArabicAlfLetter=function(tr){return Ce(tr)&&$e.indexOf(tr.charCodeAt(0))>=0};Re.__arabicParser__.arabicLetterHasIsolatedForm=function(tr){return Ce(tr)&&ke(tr)&&je[tr.charCodeAt(0)].length>=1};var He=Re.__arabicParser__.arabicLetterHasFinalForm=function(tr){return Ce(tr)&&ke(tr)&&je[tr.charCodeAt(0)].length>=2};Re.__arabicParser__.arabicLetterHasInitialForm=function(tr){return Ce(tr)&&ke(tr)&&je[tr.charCodeAt(0)].length>=3};var We=Re.__arabicParser__.arabicLetterHasMedialForm=function(tr){return Ce(tr)&&ke(tr)&&je[tr.charCodeAt(0)].length==4},Ke=Re.__arabicParser__.resolveLigatures=function(tr){var cr=0,or=_e,ar="",pr=0;for(cr=0;cr<tr.length;cr+=1)or[tr.charCodeAt(cr)]!==void 0?(pr++,typeof(or=or[tr.charCodeAt(cr)])=="number"&&(ar+=String.fromCharCode(or),or=_e,pr=0),cr===tr.length-1&&(or=_e,ar+=tr.charAt(cr-(pr-1)),cr-=pr-1,pr=0)):(or=_e,ar+=tr.charAt(cr-pr),cr-=pr,pr=0);return ar};Re.__arabicParser__.isArabicDiacritic=function(tr){return tr!==void 0&&Me[tr.charCodeAt(0)]!==void 0};var Je=Re.__arabicParser__.getCorrectForm=function(tr,cr,or){return Ce(tr)?ke(tr)===!1?-1:!He(tr)||!Ce(cr)&&!Ce(or)||!Ce(or)&&Be(cr)||Be(tr)&&!Ce(cr)||Be(tr)&&qe(cr)||Be(tr)&&Be(cr)?0:We(tr)&&Ce(cr)&&!Be(cr)&&Ce(or)&&He(or)?3:Be(tr)||!Ce(or)?1:2:-1},Qe=function(tr){var cr=0,or=0,ar=0,pr="",ur="",gr="",jr=(tr=tr||"").split("\\s+"),vr=[];for(cr=0;cr<jr.length;cr+=1){for(vr.push(""),or=0;or<jr[cr].length;or+=1)pr=jr[cr][or],ur=jr[cr][or-1],gr=jr[cr][or+1],Ce(pr)?(ar=Je(pr,ur,gr),vr[cr]+=ar!==-1?String.fromCharCode(je[pr.charCodeAt(0)][ar]):pr):vr[cr]+=pr;vr[cr]=Ke(vr[cr])}return vr.join(" ")},rr=Re.__arabicParser__.processArabic=Re.processArabic=function(){var tr,cr=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,or=[];if(Array.isArray(cr)){var ar=0;for(or=[],ar=0;ar<cr.length;ar+=1)Array.isArray(cr[ar])?or.push([Qe(cr[ar][0]),cr[ar][1],cr[ar][2]]):or.push([Qe(cr[ar])]);tr=or}else tr=Qe(cr);return typeof arguments[0]=="string"?tr:(arguments[0].text=tr,arguments[0])};Re.events.push(["preProcessText",rr])}(E.API),E.API.autoPrint=function(Re){var je;switch((Re=Re||{}).variant=Re.variant||"non-conform",Re.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){je=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+je+" 0 R")})}return this},function(Re){var je=function(){var _e=void 0;Object.defineProperty(this,"pdf",{get:function(){return _e},set:function(Be){_e=Be}});var Me=150;Object.defineProperty(this,"width",{get:function(){return Me},set:function(Be){Me=isNaN(Be)||Number.isInteger(Be)===!1||Be<0?150:Be,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=Me+1)}});var $e=300;Object.defineProperty(this,"height",{get:function(){return $e},set:function(Be){$e=isNaN(Be)||Number.isInteger(Be)===!1||Be<0?300:Be,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=$e+1)}});var ke=[];Object.defineProperty(this,"childNodes",{get:function(){return ke},set:function(Be){ke=Be}});var Ce={};Object.defineProperty(this,"style",{get:function(){return Ce},set:function(Be){Ce=Be}}),Object.defineProperty(this,"parentNode",{})};je.prototype.getContext=function(_e,Me){var $e;if((_e=_e||"2d")!=="2d")return null;for($e in Me)this.pdf.context2d.hasOwnProperty($e)&&(this.pdf.context2d[$e]=Me[$e]);return this.pdf.context2d._canvas=this,this.pdf.context2d},je.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},Re.events.push(["initialized",function(){this.canvas=new je,this.canvas.pdf=this}])}(E.API),function(Re){var je={left:0,top:0,bottom:0,right:0},_e=!1,Me=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},je),this.internal.__cell__.margins.width=this.getPageWidth(),$e.call(this))},$e=function(){this.internal.__cell__.lastCell=new ke,this.internal.__cell__.pages=1},ke=function(){var qe=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return qe},set:function(tr){qe=tr}});var He=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return He},set:function(tr){He=tr}});var We=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return We},set:function(tr){We=tr}});var Ke=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return Ke},set:function(tr){Ke=tr}});var Je=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return Je},set:function(tr){Je=tr}});var Qe=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return Qe},set:function(tr){Qe=tr}});var rr=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return rr},set:function(tr){rr=tr}}),this};ke.prototype.clone=function(){return new ke(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},ke.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},Re.setHeaderFunction=function(qe){return Me.call(this),this.internal.__cell__.headerFunction=typeof qe=="function"?qe:void 0,this},Re.getTextDimensions=function(qe,He){Me.call(this);var We=(He=He||{}).fontSize||this.getFontSize(),Ke=He.font||this.getFont(),Je=He.scaleFactor||this.internal.scaleFactor,Qe=0,rr=0,tr=0,cr=this;if(!Array.isArray(qe)&&typeof qe!="string"){if(typeof qe!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");qe=String(qe)}var or=He.maxWidth;or>0?typeof qe=="string"?qe=this.splitTextToSize(qe,or):Object.prototype.toString.call(qe)==="[object Array]"&&(qe=qe.reduce(function(pr,ur){return pr.concat(cr.splitTextToSize(ur,or))},[])):qe=Array.isArray(qe)?qe:[qe];for(var ar=0;ar<qe.length;ar++)Qe<(tr=this.getStringUnitWidth(qe[ar],{font:Ke})*We)&&(Qe=tr);return Qe!==0&&(rr=qe.length),{w:Qe/=Je,h:Math.max((rr*We*this.getLineHeightFactor()-We*(this.getLineHeightFactor()-1))/Je,0)}},Re.cellAddPage=function(){Me.call(this),this.addPage();var qe=this.internal.__cell__.margins||je;return this.internal.__cell__.lastCell=new ke(qe.left,qe.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var Ce=Re.cell=function(){var qe;qe=arguments[0]instanceof ke?arguments[0]:new ke(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),Me.call(this);var He=this.internal.__cell__.lastCell,We=this.internal.__cell__.padding,Ke=this.internal.__cell__.margins||je,Je=this.internal.__cell__.tableHeaderRow,Qe=this.internal.__cell__.printHeaders;return He.lineNumber!==void 0&&(He.lineNumber===qe.lineNumber?(qe.x=(He.x||0)+(He.width||0),qe.y=He.y||0):He.y+He.height+qe.height+Ke.bottom>this.getPageHeight()?(this.cellAddPage(),qe.y=Ke.top,Qe&&Je&&(this.printHeaderRow(qe.lineNumber,!0),qe.y+=Je[0].height)):qe.y=He.y+He.height||qe.y),qe.text[0]!==void 0&&(this.rect(qe.x,qe.y,qe.width,qe.height,_e===!0?"FD":void 0),qe.align==="right"?this.text(qe.text,qe.x+qe.width-We,qe.y+We,{align:"right",baseline:"top"}):qe.align==="center"?this.text(qe.text,qe.x+qe.width/2,qe.y+We,{align:"center",baseline:"top",maxWidth:qe.width-We-We}):this.text(qe.text,qe.x+We,qe.y+We,{align:"left",baseline:"top",maxWidth:qe.width-We-We})),this.internal.__cell__.lastCell=qe,this};Re.table=function(qe,He,We,Ke,Je){if(Me.call(this),!We)throw new Error("No data for PDF table.");var Qe,rr,tr,cr,or=[],ar=[],pr=[],ur={},gr={},jr=[],vr=[],dr=(Je=Je||{}).autoSize||!1,xr=Je.printHeaders!==!1,Rr=Je.css&&Je.css["font-size"]!==void 0?16*Je.css["font-size"]:Je.fontSize||12,Xe=Je.margins||Object.assign({width:this.getPageWidth()},je),Pe=typeof Je.padding=="number"?Je.padding:3,Fe=Je.headerBackgroundColor||"#c8c8c8",ze=Je.headerTextColor||"#000";if($e.call(this),this.internal.__cell__.printHeaders=xr,this.internal.__cell__.margins=Xe,this.internal.__cell__.table_font_size=Rr,this.internal.__cell__.padding=Pe,this.internal.__cell__.headerBackgroundColor=Fe,this.internal.__cell__.headerTextColor=ze,this.setFontSize(Rr),Ke==null)ar=or=Object.keys(We[0]),pr=or.map(function(){return"left"});else if(Array.isArray(Ke)&&_typeof$1(Ke[0])==="object")for(or=Ke.map(function(Ie){return Ie.name}),ar=Ke.map(function(Ie){return Ie.prompt||Ie.name||""}),pr=Ke.map(function(Ie){return Ie.align||"left"}),Qe=0;Qe<Ke.length;Qe+=1)gr[Ke[Qe].name]=Ke[Qe].width*(19.049976/25.4);else Array.isArray(Ke)&&typeof Ke[0]=="string"&&(ar=or=Ke,pr=or.map(function(){return"left"}));if(dr||Array.isArray(Ke)&&typeof Ke[0]=="string")for(Qe=0;Qe<or.length;Qe+=1){for(ur[cr=or[Qe]]=We.map(function(Ie){return Ie[cr]}),this.setFont(void 0,"bold"),jr.push(this.getTextDimensions(ar[Qe],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),rr=ur[cr],this.setFont(void 0,"normal"),tr=0;tr<rr.length;tr+=1)jr.push(this.getTextDimensions(rr[tr],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);gr[cr]=Math.max.apply(null,jr)+Pe+Pe,jr=[]}if(xr){var Ue={};for(Qe=0;Qe<or.length;Qe+=1)Ue[or[Qe]]={},Ue[or[Qe]].text=ar[Qe],Ue[or[Qe]].align=pr[Qe];var Ge=Be.call(this,Ue,gr);vr=or.map(function(Ie){return new ke(qe,He,gr[Ie],Ge,Ue[Ie].text,void 0,Ue[Ie].align)}),this.setTableHeaderRow(vr),this.printHeaderRow(1,!1)}var Ze=Ke.reduce(function(Ie,Ye){return Ie[Ye.name]=Ye.align,Ie},{});for(Qe=0;Qe<We.length;Qe+=1){"rowStart"in Je&&Je.rowStart instanceof Function&&Je.rowStart({row:Qe,data:We[Qe]},this);var er=Be.call(this,We[Qe],gr);for(tr=0;tr<or.length;tr+=1){var Ve=We[Qe][or[tr]];"cellStart"in Je&&Je.cellStart instanceof Function&&Je.cellStart({row:Qe,col:tr,data:Ve},this),Ce.call(this,new ke(qe,He,gr[or[tr]],er,Ve,Qe+2,Ze[or[tr]]))}}return this.internal.__cell__.table_x=qe,this.internal.__cell__.table_y=He,this};var Be=function(qe,He){var We=this.internal.__cell__.padding,Ke=this.internal.__cell__.table_font_size,Je=this.internal.scaleFactor;return Object.keys(qe).map(function(Qe){var rr=qe[Qe];return this.splitTextToSize(rr.hasOwnProperty("text")?rr.text:rr,He[Qe]-We-We)},this).map(function(Qe){return this.getLineHeightFactor()*Qe.length*Ke/Je+We+We},this).reduce(function(Qe,rr){return Math.max(Qe,rr)},0)};Re.setTableHeaderRow=function(qe){Me.call(this),this.internal.__cell__.tableHeaderRow=qe},Re.printHeaderRow=function(qe,He){if(Me.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var We;if(_e=!0,typeof this.internal.__cell__.headerFunction=="function"){var Ke=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new ke(Ke[0],Ke[1],Ke[2],Ke[3],void 0,-1)}this.setFont(void 0,"bold");for(var Je=[],Qe=0;Qe<this.internal.__cell__.tableHeaderRow.length;Qe+=1){We=this.internal.__cell__.tableHeaderRow[Qe].clone(),He&&(We.y=this.internal.__cell__.margins.top||0,Je.push(We)),We.lineNumber=qe;var rr=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),Ce.call(this,We),this.setTextColor(rr)}Je.length>0&&this.setTableHeaderRow(Je),this.setFont(void 0,"normal"),_e=!1}}(E.API);var Pt={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},kt=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],It=_t(kt),Ft=[100,200,300,400,500,600,700,800,900],Ct=_t(Ft);function jt(Re){var je=Re.family.replace(/"|'/g,"").toLowerCase(),_e=function(ke){return Pt[ke=ke||"normal"]?ke:"normal"}(Re.style),Me=function(ke){if(!ke)return 400;if(typeof ke=="number")return ke>=100&&ke<=900&&ke%100==0?ke:400;if(/^\d00$/.test(ke))return parseInt(ke);switch(ke){case"bold":return 700;case"normal":default:return 400}}(Re.weight),$e=function(ke){return typeof It[ke=ke||"normal"]=="number"?ke:"normal"}(Re.stretch);return{family:je,style:_e,weight:Me,stretch:$e,src:Re.src||[],ref:Re.ref||{name:je,style:[$e,_e,Me].join(" ")}}}function Ot(Re,je,_e,Me){var $e;for($e=_e;$e>=0&&$e<je.length;$e+=Me)if(Re[je[$e]])return Re[je[$e]];for($e=_e;$e>=0&&$e<je.length;$e-=Me)if(Re[je[$e]])return Re[je[$e]]}var Bt={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Mt={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Et(Re){return[Re.stretch,Re.style,Re.weight,Re.family].join(" ")}function qt(Re,je,_e){for(var Me=(_e=_e||{}).defaultFontFamily||"times",$e=Object.assign({},Bt,_e.genericFontFamilies||{}),ke=null,Ce=null,Be=0;Be<je.length;++Be)if($e[(ke=jt(je[Be])).family]&&(ke.family=$e[ke.family]),Re.hasOwnProperty(ke.family)){Ce=Re[ke.family];break}if(!(Ce=Ce||Re[Me]))throw new Error("Could not find a font-family for the rule '"+Et(ke)+"' and default family '"+Me+"'.");if(Ce=function(qe,He){if(He[qe])return He[qe];var We=It[qe],Ke=We<=It.normal?-1:1,Je=Ot(He,kt,We,Ke);if(!Je)throw new Error("Could not find a matching font-stretch value for "+qe);return Je}(ke.stretch,Ce),Ce=function(qe,He){if(He[qe])return He[qe];for(var We=Pt[qe],Ke=0;Ke<We.length;++Ke)if(He[We[Ke]])return He[We[Ke]];throw new Error("Could not find a matching font-style for "+qe)}(ke.style,Ce),!(Ce=function(qe,He){if(He[qe])return He[qe];if(qe===400&&He[500])return He[500];if(qe===500&&He[400])return He[400];var We=Ct[qe],Ke=Ot(He,Ft,We,qe<400?-1:1);if(!Ke)throw new Error("Could not find a matching font-weight for value "+qe);return Ke}(ke.weight,Ce)))throw new Error("Failed to resolve a font for the rule '"+Et(ke)+"'.");return Ce}function Dt(Re){return Re.trimLeft()}function Rt(Re,je){for(var _e=0;_e<Re.length;){if(Re.charAt(_e)===je)return[Re.substring(0,_e),Re.substring(_e+1)];_e+=1}return null}function Tt(Re){var je=Re.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return je===null?null:[je[0],Re.substring(je[0].length)]}var Ut,zt,Ht,Wt=["times"];(function(Re){var je,_e,Me,$e,ke,Ce,Be,qe,He,We=function(ir){return ir=ir||{},this.isStrokeTransparent=ir.isStrokeTransparent||!1,this.strokeOpacity=ir.strokeOpacity||1,this.strokeStyle=ir.strokeStyle||"#000000",this.fillStyle=ir.fillStyle||"#000000",this.isFillTransparent=ir.isFillTransparent||!1,this.fillOpacity=ir.fillOpacity||1,this.font=ir.font||"10px sans-serif",this.textBaseline=ir.textBaseline||"alphabetic",this.textAlign=ir.textAlign||"left",this.lineWidth=ir.lineWidth||1,this.lineJoin=ir.lineJoin||"miter",this.lineCap=ir.lineCap||"butt",this.path=ir.path||[],this.transform=ir.transform!==void 0?ir.transform.clone():new qe,this.globalCompositeOperation=ir.globalCompositeOperation||"normal",this.globalAlpha=ir.globalAlpha||1,this.clip_path=ir.clip_path||[],this.currentPoint=ir.currentPoint||new Ce,this.miterLimit=ir.miterLimit||10,this.lastPoint=ir.lastPoint||new Ce,this.lineDashOffset=ir.lineDashOffset||0,this.lineDash=ir.lineDash||[],this.margin=ir.margin||[0,0,0,0],this.prevPageLastElemOffset=ir.prevPageLastElemOffset||0,this.ignoreClearRect=typeof ir.ignoreClearRect!="boolean"||ir.ignoreClearRect,this};Re.events.push(["initialized",function(){this.context2d=new Ke(this),je=this.internal.f2,_e=this.internal.getCoordinateString,Me=this.internal.getVerticalCoordinateString,$e=this.internal.getHorizontalCoordinate,ke=this.internal.getVerticalCoordinate,Ce=this.internal.Point,Be=this.internal.Rectangle,qe=this.internal.Matrix,He=new We}]);var Ke=function(ir){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var lr=ir;Object.defineProperty(this,"pdf",{get:function(){return lr}});var br=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return br},set:function(Br){br=!!Br}});var _r=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return _r},set:function(Br){_r=!!Br}});var Sr=0;Object.defineProperty(this,"posX",{get:function(){return Sr},set:function(Br){isNaN(Br)||(Sr=Br)}});var wr=0;Object.defineProperty(this,"posY",{get:function(){return wr},set:function(Br){isNaN(Br)||(wr=Br)}}),Object.defineProperty(this,"margin",{get:function(){return He.margin},set:function(Br){var Cr;typeof Br=="number"?Cr=[Br,Br,Br,Br]:((Cr=new Array(4))[0]=Br[0],Cr[1]=Br.length>=2?Br[1]:Cr[0],Cr[2]=Br.length>=3?Br[2]:Cr[0],Cr[3]=Br.length>=4?Br[3]:Cr[1]),He.margin=Cr}});var Nr=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Nr},set:function(Br){Nr=Br}});var kr=0;Object.defineProperty(this,"lastBreak",{get:function(){return kr},set:function(Br){kr=Br}});var Lr=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Lr},set:function(Br){Lr=Br}}),Object.defineProperty(this,"ctx",{get:function(){return He},set:function(Br){Br instanceof We&&(He=Br)}}),Object.defineProperty(this,"path",{get:function(){return He.path},set:function(Br){He.path=Br}});var Xr=[];Object.defineProperty(this,"ctxStack",{get:function(){return Xr},set:function(Br){Xr=Br}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Br){var Cr;Cr=Je(Br),this.ctx.fillStyle=Cr.style,this.ctx.isFillTransparent=Cr.a===0,this.ctx.fillOpacity=Cr.a,this.pdf.setFillColor(Cr.r,Cr.g,Cr.b,{a:Cr.a}),this.pdf.setTextColor(Cr.r,Cr.g,Cr.b,{a:Cr.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Br){var Cr=Je(Br);this.ctx.strokeStyle=Cr.style,this.ctx.isStrokeTransparent=Cr.a===0,this.ctx.strokeOpacity=Cr.a,Cr.a===0?this.pdf.setDrawColor(255,255,255):(Cr.a,this.pdf.setDrawColor(Cr.r,Cr.g,Cr.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Br){["butt","round","square"].indexOf(Br)!==-1&&(this.ctx.lineCap=Br,this.pdf.setLineCap(Br))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Br){isNaN(Br)||(this.ctx.lineWidth=Br,this.pdf.setLineWidth(Br))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Br){["bevel","round","miter"].indexOf(Br)!==-1&&(this.ctx.lineJoin=Br,this.pdf.setLineJoin(Br))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Br){isNaN(Br)||(this.ctx.miterLimit=Br,this.pdf.setMiterLimit(Br))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Br){this.ctx.textBaseline=Br}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Br){["right","end","center","left","start"].indexOf(Br)!==-1&&(this.ctx.textAlign=Br)}});var Ur=null;function Gr(Br,Cr){if(Ur===null){var qs=function($r){var Tr=[];return Object.keys($r).forEach(function(Kr){$r[Kr].forEach(function(qr){var Hr=null;switch(qr){case"bold":Hr={family:Kr,weight:"bold"};break;case"italic":Hr={family:Kr,style:"italic"};break;case"bolditalic":Hr={family:Kr,weight:"bold",style:"italic"};break;case"":case"normal":Hr={family:Kr}}Hr!==null&&(Hr.ref={name:Kr,style:qr},Tr.push(Hr))})}),Tr}(Br.getFontList());Ur=function($r){for(var Tr={},Kr=0;Kr<$r.length;++Kr){var qr=jt($r[Kr]),Hr=qr.family,ss=qr.stretch,Vr=qr.style,Zr=qr.weight;Tr[Hr]=Tr[Hr]||{},Tr[Hr][ss]=Tr[Hr][ss]||{},Tr[Hr][ss][Vr]=Tr[Hr][ss][Vr]||{},Tr[Hr][ss][Vr][Zr]=qr}return Tr}(qs.concat(Cr))}return Ur}var Ts=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ts},set:function(Br){Ur=null,Ts=Br}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Br){var Cr;if(this.ctx.font=Br,(Cr=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Br))!==null){var qs=Cr[1],$r=(Cr[2],Cr[3]),Tr=Cr[4],Kr=(Cr[5],Cr[6]),qr=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Tr)[2];Tr=Math.floor(qr==="px"?parseFloat(Tr)*this.pdf.internal.scaleFactor:qr==="em"?parseFloat(Tr)*this.pdf.getFontSize():parseFloat(Tr)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Tr);var Hr=function(zs){var ns,Qr,Zs=[],os=zs.trim();if(os==="")return Wt;if(os in Mt)return[Mt[os]];for(;os!=="";){switch(Qr=null,ns=(os=Dt(os)).charAt(0)){case'"':case"'":Qr=Rt(os.substring(1),ns);break;default:Qr=Tt(os)}if(Qr===null||(Zs.push(Qr[0]),(os=Dt(Qr[1]))!==""&&os.charAt(0)!==","))return Wt;os=os.replace(/^,/,"")}return Zs}(Kr);if(this.fontFaces){var ss=qt(Gr(this.pdf,this.fontFaces),Hr.map(function(zs){return{family:zs,stretch:"normal",weight:$r,style:qs}}));this.pdf.setFont(ss.ref.name,ss.ref.style)}else{var Vr="";($r==="bold"||parseInt($r,10)>=700||qs==="bold")&&(Vr="bold"),qs==="italic"&&(Vr+="italic"),Vr.length===0&&(Vr="normal");for(var Zr="",Is={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Jr=0;Jr<Hr.length;Jr++){if(this.pdf.internal.getFont(Hr[Jr],Vr,{noFallback:!0,disableWarning:!0})!==void 0){Zr=Hr[Jr];break}if(Vr==="bolditalic"&&this.pdf.internal.getFont(Hr[Jr],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Zr=Hr[Jr],Vr="bold";else if(this.pdf.internal.getFont(Hr[Jr],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Zr=Hr[Jr],Vr="normal";break}}if(Zr===""){for(var cs=0;cs<Hr.length;cs++)if(Is[Hr[cs]]){Zr=Is[Hr[cs]];break}}Zr=Zr===""?"Times":Zr,this.pdf.setFont(Zr,Vr)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Br){this.ctx.globalCompositeOperation=Br}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Br){this.ctx.globalAlpha=Br}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Br){this.ctx.lineDashOffset=Br,Ye.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Br){this.ctx.lineDash=Br,Ye.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Br){this.ctx.ignoreClearRect=!!Br}})};Ke.prototype.setLineDash=function(ir){this.lineDash=ir},Ke.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},Ke.prototype.fill=function(){ur.call(this,"fill",!1)},Ke.prototype.stroke=function(){ur.call(this,"stroke",!1)},Ke.prototype.beginPath=function(){this.path=[{type:"begin"}]},Ke.prototype.moveTo=function(ir,lr){if(isNaN(ir)||isNaN(lr))throw a$1.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var br=this.ctx.transform.applyToPoint(new Ce(ir,lr));this.path.push({type:"mt",x:br.x,y:br.y}),this.ctx.lastPoint=new Ce(ir,lr)},Ke.prototype.closePath=function(){var ir=new Ce(0,0),lr=0;for(lr=this.path.length-1;lr!==-1;lr--)if(this.path[lr].type==="begin"&&_typeof$1(this.path[lr+1])==="object"&&typeof this.path[lr+1].x=="number"){ir=new Ce(this.path[lr+1].x,this.path[lr+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new Ce(ir.x,ir.y)},Ke.prototype.lineTo=function(ir,lr){if(isNaN(ir)||isNaN(lr))throw a$1.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var br=this.ctx.transform.applyToPoint(new Ce(ir,lr));this.path.push({type:"lt",x:br.x,y:br.y}),this.ctx.lastPoint=new Ce(br.x,br.y)},Ke.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),ur.call(this,null,!0)},Ke.prototype.quadraticCurveTo=function(ir,lr,br,_r){if(isNaN(br)||isNaN(_r)||isNaN(ir)||isNaN(lr))throw a$1.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Sr=this.ctx.transform.applyToPoint(new Ce(br,_r)),wr=this.ctx.transform.applyToPoint(new Ce(ir,lr));this.path.push({type:"qct",x1:wr.x,y1:wr.y,x:Sr.x,y:Sr.y}),this.ctx.lastPoint=new Ce(Sr.x,Sr.y)},Ke.prototype.bezierCurveTo=function(ir,lr,br,_r,Sr,wr){if(isNaN(Sr)||isNaN(wr)||isNaN(ir)||isNaN(lr)||isNaN(br)||isNaN(_r))throw a$1.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Nr=this.ctx.transform.applyToPoint(new Ce(Sr,wr)),kr=this.ctx.transform.applyToPoint(new Ce(ir,lr)),Lr=this.ctx.transform.applyToPoint(new Ce(br,_r));this.path.push({type:"bct",x1:kr.x,y1:kr.y,x2:Lr.x,y2:Lr.y,x:Nr.x,y:Nr.y}),this.ctx.lastPoint=new Ce(Nr.x,Nr.y)},Ke.prototype.arc=function(ir,lr,br,_r,Sr,wr){if(isNaN(ir)||isNaN(lr)||isNaN(br)||isNaN(_r)||isNaN(Sr))throw a$1.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(wr=!!wr,!this.ctx.transform.isIdentity){var Nr=this.ctx.transform.applyToPoint(new Ce(ir,lr));ir=Nr.x,lr=Nr.y;var kr=this.ctx.transform.applyToPoint(new Ce(0,br)),Lr=this.ctx.transform.applyToPoint(new Ce(0,0));br=Math.sqrt(Math.pow(kr.x-Lr.x,2)+Math.pow(kr.y-Lr.y,2))}Math.abs(Sr-_r)>=2*Math.PI&&(_r=0,Sr=2*Math.PI),this.path.push({type:"arc",x:ir,y:lr,radius:br,startAngle:_r,endAngle:Sr,counterclockwise:wr})},Ke.prototype.arcTo=function(ir,lr,br,_r,Sr){throw new Error("arcTo not implemented.")},Ke.prototype.rect=function(ir,lr,br,_r){if(isNaN(ir)||isNaN(lr)||isNaN(br)||isNaN(_r))throw a$1.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(ir,lr),this.lineTo(ir+br,lr),this.lineTo(ir+br,lr+_r),this.lineTo(ir,lr+_r),this.lineTo(ir,lr),this.lineTo(ir+br,lr),this.lineTo(ir,lr)},Ke.prototype.fillRect=function(ir,lr,br,_r){if(isNaN(ir)||isNaN(lr)||isNaN(br)||isNaN(_r))throw a$1.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!Qe.call(this)){var Sr={};this.lineCap!=="butt"&&(Sr.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Sr.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(ir,lr,br,_r),this.fill(),Sr.hasOwnProperty("lineCap")&&(this.lineCap=Sr.lineCap),Sr.hasOwnProperty("lineJoin")&&(this.lineJoin=Sr.lineJoin)}},Ke.prototype.strokeRect=function(ir,lr,br,_r){if(isNaN(ir)||isNaN(lr)||isNaN(br)||isNaN(_r))throw a$1.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");rr.call(this)||(this.beginPath(),this.rect(ir,lr,br,_r),this.stroke())},Ke.prototype.clearRect=function(ir,lr,br,_r){if(isNaN(ir)||isNaN(lr)||isNaN(br)||isNaN(_r))throw a$1.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(ir,lr,br,_r))},Ke.prototype.save=function(ir){ir=typeof ir!="boolean"||ir;for(var lr=this.pdf.internal.getCurrentPageInfo().pageNumber,br=0;br<this.pdf.internal.getNumberOfPages();br++)this.pdf.setPage(br+1),this.pdf.internal.out("q");if(this.pdf.setPage(lr),ir){this.ctx.fontSize=this.pdf.internal.getFontSize();var _r=new We(this.ctx);this.ctxStack.push(this.ctx),this.ctx=_r}},Ke.prototype.restore=function(ir){ir=typeof ir!="boolean"||ir;for(var lr=this.pdf.internal.getCurrentPageInfo().pageNumber,br=0;br<this.pdf.internal.getNumberOfPages();br++)this.pdf.setPage(br+1),this.pdf.internal.out("Q");this.pdf.setPage(lr),ir&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},Ke.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var Je=function(ir){var lr,br,_r,Sr;if(ir.isCanvasGradient===!0&&(ir=ir.getColor()),!ir)return{r:0,g:0,b:0,a:0,style:ir};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(ir))lr=0,br=0,_r=0,Sr=0;else{var wr=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(ir);if(wr!==null)lr=parseInt(wr[1]),br=parseInt(wr[2]),_r=parseInt(wr[3]),Sr=1;else if((wr=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(ir))!==null)lr=parseInt(wr[1]),br=parseInt(wr[2]),_r=parseInt(wr[3]),Sr=parseFloat(wr[4]);else{if(Sr=1,typeof ir=="string"&&ir.charAt(0)!=="#"){var Nr=new f(ir);ir=Nr.ok?Nr.toHex():"#000000"}ir.length===4?(lr=ir.substring(1,2),lr+=lr,br=ir.substring(2,3),br+=br,_r=ir.substring(3,4),_r+=_r):(lr=ir.substring(1,3),br=ir.substring(3,5),_r=ir.substring(5,7)),lr=parseInt(lr,16),br=parseInt(br,16),_r=parseInt(_r,16)}}return{r:lr,g:br,b:_r,a:Sr,style:ir}},Qe=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},rr=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};Ke.prototype.fillText=function(ir,lr,br,_r){if(isNaN(lr)||isNaN(br)||typeof ir!="string")throw a$1.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(_r=isNaN(_r)?void 0:_r,!Qe.call(this)){var Sr=er(this.ctx.transform.rotation),wr=this.ctx.transform.scaleX;Pe.call(this,{text:ir,x:lr,y:br,scale:wr,angle:Sr,align:this.textAlign,maxWidth:_r})}},Ke.prototype.strokeText=function(ir,lr,br,_r){if(isNaN(lr)||isNaN(br)||typeof ir!="string")throw a$1.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!rr.call(this)){_r=isNaN(_r)?void 0:_r;var Sr=er(this.ctx.transform.rotation),wr=this.ctx.transform.scaleX;Pe.call(this,{text:ir,x:lr,y:br,scale:wr,renderingMode:"stroke",angle:Sr,align:this.textAlign,maxWidth:_r})}},Ke.prototype.measureText=function(ir){if(typeof ir!="string")throw a$1.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var lr=this.pdf,br=this.pdf.internal.scaleFactor,_r=lr.internal.getFontSize(),Sr=lr.getStringUnitWidth(ir)*_r/lr.internal.scaleFactor,wr=function(Nr){var kr=(Nr=Nr||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return kr}}),this};return new wr({width:Sr*=Math.round(96*br/72*1e4)/1e4})},Ke.prototype.scale=function(ir,lr){if(isNaN(ir)||isNaN(lr))throw a$1.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var br=new qe(ir,0,0,lr,0,0);this.ctx.transform=this.ctx.transform.multiply(br)},Ke.prototype.rotate=function(ir){if(isNaN(ir))throw a$1.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var lr=new qe(Math.cos(ir),Math.sin(ir),-Math.sin(ir),Math.cos(ir),0,0);this.ctx.transform=this.ctx.transform.multiply(lr)},Ke.prototype.translate=function(ir,lr){if(isNaN(ir)||isNaN(lr))throw a$1.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var br=new qe(1,0,0,1,ir,lr);this.ctx.transform=this.ctx.transform.multiply(br)},Ke.prototype.transform=function(ir,lr,br,_r,Sr,wr){if(isNaN(ir)||isNaN(lr)||isNaN(br)||isNaN(_r)||isNaN(Sr)||isNaN(wr))throw a$1.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Nr=new qe(ir,lr,br,_r,Sr,wr);this.ctx.transform=this.ctx.transform.multiply(Nr)},Ke.prototype.setTransform=function(ir,lr,br,_r,Sr,wr){ir=isNaN(ir)?1:ir,lr=isNaN(lr)?0:lr,br=isNaN(br)?0:br,_r=isNaN(_r)?1:_r,Sr=isNaN(Sr)?0:Sr,wr=isNaN(wr)?0:wr,this.ctx.transform=new qe(ir,lr,br,_r,Sr,wr)};var tr=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};Ke.prototype.drawImage=function(ir,lr,br,_r,Sr,wr,Nr,kr,Lr){var Xr=this.pdf.getImageProperties(ir),Ur=1,Gr=1,Ts=1,Br=1;_r!==void 0&&kr!==void 0&&(Ts=kr/_r,Br=Lr/Sr,Ur=Xr.width/_r*kr/_r,Gr=Xr.height/Sr*Lr/Sr),wr===void 0&&(wr=lr,Nr=br,lr=0,br=0),_r!==void 0&&kr===void 0&&(kr=_r,Lr=Sr),_r===void 0&&kr===void 0&&(kr=Xr.width,Lr=Xr.height);for(var Cr,qs=this.ctx.transform.decompose(),$r=er(qs.rotate.shx),Tr=new qe,Kr=(Tr=(Tr=(Tr=Tr.multiply(qs.translate)).multiply(qs.skew)).multiply(qs.scale)).applyToRectangle(new Be(wr-lr*Ts,Nr-br*Br,_r*Ur,Sr*Gr)),qr=cr.call(this,Kr),Hr=[],ss=0;ss<qr.length;ss+=1)Hr.indexOf(qr[ss])===-1&&Hr.push(qr[ss]);if(pr(Hr),this.autoPaging)for(var Vr=Hr[0],Zr=Hr[Hr.length-1],Is=Vr;Is<Zr+1;Is++){this.pdf.setPage(Is);var Jr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],cs=Is===1?this.posY+this.margin[0]:this.margin[0],zs=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ns=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Qr=Is===1?0:zs+(Is-2)*ns;if(this.ctx.clip_path.length!==0){var Zs=this.path;Cr=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=ar(Cr,this.posX+this.margin[3],-Qr+cs+this.ctx.prevPageLastElemOffset),gr.call(this,"fill",!0),this.path=Zs}var os=JSON.parse(JSON.stringify(Kr));os=ar([os],this.posX+this.margin[3],-Qr+cs+this.ctx.prevPageLastElemOffset)[0];var _s=(Is>Vr||Is<Zr)&&tr.call(this);_s&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Jr,ns,null).clip().discardPath()),this.pdf.addImage(ir,"JPEG",os.x,os.y,os.w,os.h,null,null,$r),_s&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(ir,"JPEG",Kr.x,Kr.y,Kr.w,Kr.h,null,null,$r)};var cr=function(ir,lr,br){var _r=[];lr=lr||this.pdf.internal.pageSize.width,br=br||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Sr=this.posY+this.ctx.prevPageLastElemOffset;switch(ir.type){default:case"mt":case"lt":_r.push(Math.floor((ir.y+Sr)/br)+1);break;case"arc":_r.push(Math.floor((ir.y+Sr-ir.radius)/br)+1),_r.push(Math.floor((ir.y+Sr+ir.radius)/br)+1);break;case"qct":var wr=Ve(this.ctx.lastPoint.x,this.ctx.lastPoint.y,ir.x1,ir.y1,ir.x,ir.y);_r.push(Math.floor((wr.y+Sr)/br)+1),_r.push(Math.floor((wr.y+wr.h+Sr)/br)+1);break;case"bct":var Nr=Ie(this.ctx.lastPoint.x,this.ctx.lastPoint.y,ir.x1,ir.y1,ir.x2,ir.y2,ir.x,ir.y);_r.push(Math.floor((Nr.y+Sr)/br)+1),_r.push(Math.floor((Nr.y+Nr.h+Sr)/br)+1);break;case"rect":_r.push(Math.floor((ir.y+Sr)/br)+1),_r.push(Math.floor((ir.y+ir.h+Sr)/br)+1)}for(var kr=0;kr<_r.length;kr+=1)for(;this.pdf.internal.getNumberOfPages()<_r[kr];)or.call(this);return _r},or=function(){var ir=this.fillStyle,lr=this.strokeStyle,br=this.font,_r=this.lineCap,Sr=this.lineWidth,wr=this.lineJoin;this.pdf.addPage(),this.fillStyle=ir,this.strokeStyle=lr,this.font=br,this.lineCap=_r,this.lineWidth=Sr,this.lineJoin=wr},ar=function(ir,lr,br){for(var _r=0;_r<ir.length;_r++)switch(ir[_r].type){case"bct":ir[_r].x2+=lr,ir[_r].y2+=br;case"qct":ir[_r].x1+=lr,ir[_r].y1+=br;case"mt":case"lt":case"arc":default:ir[_r].x+=lr,ir[_r].y+=br}return ir},pr=function(ir){return ir.sort(function(lr,br){return lr-br})},ur=function(ir,lr){for(var br,_r,Sr=this.fillStyle,wr=this.strokeStyle,Nr=this.lineCap,kr=this.lineWidth,Lr=Math.abs(kr*this.ctx.transform.scaleX),Xr=this.lineJoin,Ur=JSON.parse(JSON.stringify(this.path)),Gr=JSON.parse(JSON.stringify(this.path)),Ts=[],Br=0;Br<Gr.length;Br++)if(Gr[Br].x!==void 0)for(var Cr=cr.call(this,Gr[Br]),qs=0;qs<Cr.length;qs+=1)Ts.indexOf(Cr[qs])===-1&&Ts.push(Cr[qs]);for(var $r=0;$r<Ts.length;$r++)for(;this.pdf.internal.getNumberOfPages()<Ts[$r];)or.call(this);if(pr(Ts),this.autoPaging)for(var Tr=Ts[0],Kr=Ts[Ts.length-1],qr=Tr;qr<Kr+1;qr++){this.pdf.setPage(qr),this.fillStyle=Sr,this.strokeStyle=wr,this.lineCap=Nr,this.lineWidth=Lr,this.lineJoin=Xr;var Hr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ss=qr===1?this.posY+this.margin[0]:this.margin[0],Vr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Zr=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Is=qr===1?0:Vr+(qr-2)*Zr;if(this.ctx.clip_path.length!==0){var Jr=this.path;br=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=ar(br,this.posX+this.margin[3],-Is+ss+this.ctx.prevPageLastElemOffset),gr.call(this,ir,!0),this.path=Jr}if(_r=JSON.parse(JSON.stringify(Ur)),this.path=ar(_r,this.posX+this.margin[3],-Is+ss+this.ctx.prevPageLastElemOffset),lr===!1||qr===0){var cs=(qr>Tr||qr<Kr)&&tr.call(this);cs&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Hr,Zr,null).clip().discardPath()),gr.call(this,ir,lr),cs&&this.pdf.restoreGraphicsState()}this.lineWidth=kr}else this.lineWidth=Lr,gr.call(this,ir,lr),this.lineWidth=kr;this.path=Ur},gr=function(ir,lr){if((ir!=="stroke"||lr||!rr.call(this))&&(ir==="stroke"||lr||!Qe.call(this))){for(var br,_r,Sr=[],wr=this.path,Nr=0;Nr<wr.length;Nr++){var kr=wr[Nr];switch(kr.type){case"begin":Sr.push({begin:!0});break;case"close":Sr.push({close:!0});break;case"mt":Sr.push({start:kr,deltas:[],abs:[]});break;case"lt":var Lr=Sr.length;if(wr[Nr-1]&&!isNaN(wr[Nr-1].x)&&(br=[kr.x-wr[Nr-1].x,kr.y-wr[Nr-1].y],Lr>0)){for(;Lr>=0;Lr--)if(Sr[Lr-1].close!==!0&&Sr[Lr-1].begin!==!0){Sr[Lr-1].deltas.push(br),Sr[Lr-1].abs.push(kr);break}}break;case"bct":br=[kr.x1-wr[Nr-1].x,kr.y1-wr[Nr-1].y,kr.x2-wr[Nr-1].x,kr.y2-wr[Nr-1].y,kr.x-wr[Nr-1].x,kr.y-wr[Nr-1].y],Sr[Sr.length-1].deltas.push(br);break;case"qct":var Xr=wr[Nr-1].x+2/3*(kr.x1-wr[Nr-1].x),Ur=wr[Nr-1].y+2/3*(kr.y1-wr[Nr-1].y),Gr=kr.x+2/3*(kr.x1-kr.x),Ts=kr.y+2/3*(kr.y1-kr.y),Br=kr.x,Cr=kr.y;br=[Xr-wr[Nr-1].x,Ur-wr[Nr-1].y,Gr-wr[Nr-1].x,Ts-wr[Nr-1].y,Br-wr[Nr-1].x,Cr-wr[Nr-1].y],Sr[Sr.length-1].deltas.push(br);break;case"arc":Sr.push({deltas:[],abs:[],arc:!0}),Array.isArray(Sr[Sr.length-1].abs)&&Sr[Sr.length-1].abs.push(kr)}}_r=lr?null:ir==="stroke"?"stroke":"fill";for(var qs=!1,$r=0;$r<Sr.length;$r++)if(Sr[$r].arc)for(var Tr=Sr[$r].abs,Kr=0;Kr<Tr.length;Kr++){var qr=Tr[Kr];qr.type==="arc"?dr.call(this,qr.x,qr.y,qr.radius,qr.startAngle,qr.endAngle,qr.counterclockwise,void 0,lr,!qs):Fe.call(this,qr.x,qr.y),qs=!0}else if(Sr[$r].close===!0)this.pdf.internal.out("h"),qs=!1;else if(Sr[$r].begin!==!0){var Hr=Sr[$r].start.x,ss=Sr[$r].start.y;ze.call(this,Sr[$r].deltas,Hr,ss),qs=!0}_r&&xr.call(this,_r),lr&&Rr.call(this)}},jr=function(ir){var lr=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,br=lr*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return ir-br;case"top":return ir+lr-br;case"hanging":return ir+lr-2*br;case"middle":return ir+lr/2-br;case"ideographic":return ir;case"alphabetic":default:return ir}},vr=function(ir){return ir+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};Ke.prototype.createLinearGradient=function(){var ir=function(){};return ir.colorStops=[],ir.addColorStop=function(lr,br){this.colorStops.push([lr,br])},ir.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},ir.isCanvasGradient=!0,ir},Ke.prototype.createPattern=function(){return this.createLinearGradient()},Ke.prototype.createRadialGradient=function(){return this.createLinearGradient()};var dr=function(ir,lr,br,_r,Sr,wr,Nr,kr,Lr){for(var Xr=Ge.call(this,br,_r,Sr,wr),Ur=0;Ur<Xr.length;Ur++){var Gr=Xr[Ur];Ur===0&&(Lr?Xe.call(this,Gr.x1+ir,Gr.y1+lr):Fe.call(this,Gr.x1+ir,Gr.y1+lr)),Ue.call(this,ir,lr,Gr.x2,Gr.y2,Gr.x3,Gr.y3,Gr.x4,Gr.y4)}kr?Rr.call(this):xr.call(this,Nr)},xr=function(ir){switch(ir){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Rr=function(){this.pdf.clip(),this.pdf.discardPath()},Xe=function(ir,lr){this.pdf.internal.out(_e(ir)+" "+Me(lr)+" m")},Pe=function(ir){var lr;switch(ir.align){case"right":case"end":lr="right";break;case"center":lr="center";break;case"left":case"start":default:lr="left"}var br=this.pdf.getTextDimensions(ir.text),_r=jr.call(this,ir.y),Sr=vr.call(this,_r)-br.h,wr=this.ctx.transform.applyToPoint(new Ce(ir.x,_r)),Nr=this.ctx.transform.decompose(),kr=new qe;kr=(kr=(kr=kr.multiply(Nr.translate)).multiply(Nr.skew)).multiply(Nr.scale);for(var Lr,Xr,Ur,Gr=this.ctx.transform.applyToRectangle(new Be(ir.x,_r,br.w,br.h)),Ts=kr.applyToRectangle(new Be(ir.x,Sr,br.w,br.h)),Br=cr.call(this,Ts),Cr=[],qs=0;qs<Br.length;qs+=1)Cr.indexOf(Br[qs])===-1&&Cr.push(Br[qs]);if(pr(Cr),this.autoPaging)for(var $r=Cr[0],Tr=Cr[Cr.length-1],Kr=$r;Kr<Tr+1;Kr++){this.pdf.setPage(Kr);var qr=Kr===1?this.posY+this.margin[0]:this.margin[0],Hr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ss=this.pdf.internal.pageSize.height-this.margin[2],Vr=ss-this.margin[0],Zr=this.pdf.internal.pageSize.width-this.margin[1],Is=Zr-this.margin[3],Jr=Kr===1?0:Hr+(Kr-2)*Vr;if(this.ctx.clip_path.length!==0){var cs=this.path;Lr=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=ar(Lr,this.posX+this.margin[3],-1*Jr+qr),gr.call(this,"fill",!0),this.path=cs}var zs=ar([JSON.parse(JSON.stringify(Ts))],this.posX+this.margin[3],-Jr+qr+this.ctx.prevPageLastElemOffset)[0];ir.scale>=.01&&(Xr=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Xr*ir.scale),Ur=this.lineWidth,this.lineWidth=Ur*ir.scale);var ns=this.autoPaging!=="text";if(ns||zs.y+zs.h<=ss){if(ns||zs.y>=qr&&zs.x<=Zr){var Qr=ns?ir.text:this.pdf.splitTextToSize(ir.text,ir.maxWidth||Zr-zs.x)[0],Zs=ar([JSON.parse(JSON.stringify(Gr))],this.posX+this.margin[3],-Jr+qr+this.ctx.prevPageLastElemOffset)[0],os=ns&&(Kr>$r||Kr<Tr)&&tr.call(this);os&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Is,Vr,null).clip().discardPath()),this.pdf.text(Qr,Zs.x,Zs.y,{angle:ir.angle,align:lr,renderingMode:ir.renderingMode}),os&&this.pdf.restoreGraphicsState()}}else zs.y<ss&&(this.ctx.prevPageLastElemOffset+=ss-zs.y);ir.scale>=.01&&(this.pdf.setFontSize(Xr),this.lineWidth=Ur)}else ir.scale>=.01&&(Xr=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Xr*ir.scale),Ur=this.lineWidth,this.lineWidth=Ur*ir.scale),this.pdf.text(ir.text,wr.x+this.posX,wr.y+this.posY,{angle:ir.angle,align:lr,renderingMode:ir.renderingMode,maxWidth:ir.maxWidth}),ir.scale>=.01&&(this.pdf.setFontSize(Xr),this.lineWidth=Ur)},Fe=function(ir,lr,br,_r){br=br||0,_r=_r||0,this.pdf.internal.out(_e(ir+br)+" "+Me(lr+_r)+" l")},ze=function(ir,lr,br){return this.pdf.lines(ir,lr,br,null,null)},Ue=function(ir,lr,br,_r,Sr,wr,Nr,kr){this.pdf.internal.out([je($e(br+ir)),je(ke(_r+lr)),je($e(Sr+ir)),je(ke(wr+lr)),je($e(Nr+ir)),je(ke(kr+lr)),"c"].join(" "))},Ge=function(ir,lr,br,_r){for(var Sr=2*Math.PI,wr=Math.PI/2;lr>br;)lr-=Sr;var Nr=Math.abs(br-lr);Nr<Sr&&_r&&(Nr=Sr-Nr);for(var kr=[],Lr=_r?-1:1,Xr=lr;Nr>1e-5;){var Ur=Xr+Lr*Math.min(Nr,wr);kr.push(Ze.call(this,ir,Xr,Ur)),Nr-=Math.abs(Ur-Xr),Xr=Ur}return kr},Ze=function(ir,lr,br){var _r=(br-lr)/2,Sr=ir*Math.cos(_r),wr=ir*Math.sin(_r),Nr=Sr,kr=-wr,Lr=Nr*Nr+kr*kr,Xr=Lr+Nr*Sr+kr*wr,Ur=4/3*(Math.sqrt(2*Lr*Xr)-Xr)/(Nr*wr-kr*Sr),Gr=Nr-Ur*kr,Ts=kr+Ur*Nr,Br=Gr,Cr=-Ts,qs=_r+lr,$r=Math.cos(qs),Tr=Math.sin(qs);return{x1:ir*Math.cos(lr),y1:ir*Math.sin(lr),x2:Gr*$r-Ts*Tr,y2:Gr*Tr+Ts*$r,x3:Br*$r-Cr*Tr,y3:Br*Tr+Cr*$r,x4:ir*Math.cos(br),y4:ir*Math.sin(br)}},er=function(ir){return 180*ir/Math.PI},Ve=function(ir,lr,br,_r,Sr,wr){var Nr=ir+.5*(br-ir),kr=lr+.5*(_r-lr),Lr=Sr+.5*(br-Sr),Xr=wr+.5*(_r-wr),Ur=Math.min(ir,Sr,Nr,Lr),Gr=Math.max(ir,Sr,Nr,Lr),Ts=Math.min(lr,wr,kr,Xr),Br=Math.max(lr,wr,kr,Xr);return new Be(Ur,Ts,Gr-Ur,Br-Ts)},Ie=function(ir,lr,br,_r,Sr,wr,Nr,kr){var Lr,Xr,Ur,Gr,Ts,Br,Cr,qs,$r,Tr,Kr,qr,Hr,ss,Vr=br-ir,Zr=_r-lr,Is=Sr-br,Jr=wr-_r,cs=Nr-Sr,zs=kr-wr;for(Xr=0;Xr<41;Xr++)$r=(Cr=(Ur=ir+(Lr=Xr/40)*Vr)+Lr*((Ts=br+Lr*Is)-Ur))+Lr*(Ts+Lr*(Sr+Lr*cs-Ts)-Cr),Tr=(qs=(Gr=lr+Lr*Zr)+Lr*((Br=_r+Lr*Jr)-Gr))+Lr*(Br+Lr*(wr+Lr*zs-Br)-qs),Xr==0?(Kr=$r,qr=Tr,Hr=$r,ss=Tr):(Kr=Math.min(Kr,$r),qr=Math.min(qr,Tr),Hr=Math.max(Hr,$r),ss=Math.max(ss,Tr));return new Be(Math.round(Kr),Math.round(qr),Math.round(Hr-Kr),Math.round(ss-qr))},Ye=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var ir,lr,br=(ir=this.ctx.lineDash,lr=this.ctx.lineDashOffset,JSON.stringify({lineDash:ir,lineDashOffset:lr}));this.prevLineDash!==br&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=br)}}})(E.API),function(Re){var je=function(ke){var Ce,Be,qe,He,We,Ke,Je,Qe,rr,tr;for(Be=[],qe=0,He=(ke+=Ce="\0\0\0\0".slice(ke.length%4||4)).length;He>qe;qe+=4)(We=(ke.charCodeAt(qe)<<24)+(ke.charCodeAt(qe+1)<<16)+(ke.charCodeAt(qe+2)<<8)+ke.charCodeAt(qe+3))!==0?(Ke=(We=((We=((We=((We=(We-(tr=We%85))/85)-(rr=We%85))/85)-(Qe=We%85))/85)-(Je=We%85))/85)%85,Be.push(Ke+33,Je+33,Qe+33,rr+33,tr+33)):Be.push(122);return function(cr,or){for(var ar=or;ar>0;ar--)cr.pop()}(Be,Ce.length),String.fromCharCode.apply(String,Be)+"~>"},_e=function(ke){var Ce,Be,qe,He,We,Ke=String,Je="length",Qe=255,rr="charCodeAt",tr="slice",cr="replace";for(ke[tr](-2),ke=ke[tr](0,-2)[cr](/\s/g,"")[cr]("z","!!!!!"),qe=[],He=0,We=(ke+=Ce="uuuuu"[tr](ke[Je]%5||5))[Je];We>He;He+=5)Be=52200625*(ke[rr](He)-33)+614125*(ke[rr](He+1)-33)+7225*(ke[rr](He+2)-33)+85*(ke[rr](He+3)-33)+(ke[rr](He+4)-33),qe.push(Qe&Be>>24,Qe&Be>>16,Qe&Be>>8,Qe&Be);return function(or,ar){for(var pr=ar;pr>0;pr--)or.pop()}(qe,Ce[Je]),Ke.fromCharCode.apply(Ke,qe)},Me=function(ke){var Ce=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((ke=ke.replace(/\s/g,"")).indexOf(">")!==-1&&(ke=ke.substr(0,ke.indexOf(">"))),ke.length%2&&(ke+="0"),Ce.test(ke)===!1)return"";for(var Be="",qe=0;qe<ke.length;qe+=2)Be+=String.fromCharCode("0x"+(ke[qe]+ke[qe+1]));return Be},$e=function(ke){for(var Ce=new Uint8Array(ke.length),Be=ke.length;Be--;)Ce[Be]=ke.charCodeAt(Be);return ke=(Ce=zlibSync(Ce)).reduce(function(qe,He){return qe+String.fromCharCode(He)},"")};Re.processDataByFilters=function(ke,Ce){var Be=0,qe=ke||"",He=[];for(typeof(Ce=Ce||[])=="string"&&(Ce=[Ce]),Be=0;Be<Ce.length;Be+=1)switch(Ce[Be]){case"ASCII85Decode":case"/ASCII85Decode":qe=_e(qe),He.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":qe=je(qe),He.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":qe=Me(qe),He.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":qe=qe.split("").map(function(We){return("0"+We.charCodeAt().toString(16)).slice(-2)}).join("")+">",He.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":qe=$e(qe),He.push("/FlateDecode");break;default:throw new Error('The filter: "'+Ce[Be]+'" is not implemented')}return{data:qe,reverseChain:He.reverse().join(" ")}}}(E.API),function(Re){Re.loadFile=function(je,_e,Me){return function($e,ke,Ce){ke=ke!==!1,Ce=typeof Ce=="function"?Ce:function(){};var Be=void 0;try{Be=function(qe,He,We){var Ke=new XMLHttpRequest,Je=0,Qe=function(rr){var tr=rr.length,cr=[],or=String.fromCharCode;for(Je=0;Je<tr;Je+=1)cr.push(or(255&rr.charCodeAt(Je)));return cr.join("")};if(Ke.open("GET",qe,!He),Ke.overrideMimeType("text/plain; charset=x-user-defined"),He===!1&&(Ke.onload=function(){Ke.status===200?We(Qe(this.responseText)):We(void 0)}),Ke.send(null),He&&Ke.status===200)return Qe(Ke.responseText)}($e,ke,Ce)}catch{}return Be}(je,_e,Me)},Re.loadImageFile=Re.loadFile}(E.API),function(Re){function je(){return(n$1.html2canvas?Promise.resolve(n$1.html2canvas):__vitePreload(()=>import("./html2canvas.esm-BfxBtG_O.js"),[])).catch(function(Ce){return Promise.reject(new Error("Could not load html2canvas: "+Ce))}).then(function(Ce){return Ce.default?Ce.default:Ce})}function _e(){return(n$1.DOMPurify?Promise.resolve(n$1.DOMPurify):__vitePreload(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(Ce){return Promise.reject(new Error("Could not load dompurify: "+Ce))}).then(function(Ce){return Ce.default?Ce.default:Ce})}var Me=function(Ce){var Be=_typeof$1(Ce);return Be==="undefined"?"undefined":Be==="string"||Ce instanceof String?"string":Be==="number"||Ce instanceof Number?"number":Be==="function"||Ce instanceof Function?"function":Ce&&Ce.constructor===Array?"array":Ce&&Ce.nodeType===1?"element":Be==="object"?"object":"unknown"},$e=function(Ce,Be){var qe=document.createElement(Ce);for(var He in Be.className&&(qe.className=Be.className),Be.innerHTML&&Be.dompurify&&(qe.innerHTML=Be.dompurify.sanitize(Be.innerHTML)),Be.style)qe.style[He]=Be.style[He];return qe},ke=function Ce(Be){var qe=Object.assign(Ce.convert(Promise.resolve()),JSON.parse(JSON.stringify(Ce.template))),He=Ce.convert(Promise.resolve(),qe);return He=(He=He.setProgress(1,Ce,1,[Ce])).set(Be)};(ke.prototype=Object.create(Promise.prototype)).constructor=ke,ke.convert=function(Ce,Be){return Ce.__proto__=Be||ke.prototype,Ce},ke.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},ke.prototype.from=function(Ce,Be){return this.then(function(){switch(Be=Be||function(qe){switch(Me(qe)){case"string":return"string";case"element":return qe.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(Ce)){case"string":return this.then(_e).then(function(qe){return this.set({src:$e("div",{innerHTML:Ce,dompurify:qe})})});case"element":return this.set({src:Ce});case"canvas":return this.set({canvas:Ce});case"img":return this.set({img:Ce});default:return this.error("Unknown source type.")}})},ke.prototype.to=function(Ce){switch(Ce){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},ke.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var Ce={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},Be=function qe(He,We){for(var Ke=He.nodeType===3?document.createTextNode(He.nodeValue):He.cloneNode(!1),Je=He.firstChild;Je;Je=Je.nextSibling)We!==!0&&Je.nodeType===1&&Je.nodeName==="SCRIPT"||Ke.appendChild(qe(Je,We));return He.nodeType===1&&(He.nodeName==="CANVAS"?(Ke.width=He.width,Ke.height=He.height,Ke.getContext("2d").drawImage(He,0,0)):He.nodeName!=="TEXTAREA"&&He.nodeName!=="SELECT"||(Ke.value=He.value),Ke.addEventListener("load",function(){Ke.scrollTop=He.scrollTop,Ke.scrollLeft=He.scrollLeft},!0)),Ke}(this.prop.src,this.opt.html2canvas.javascriptEnabled);Be.tagName==="BODY"&&(Ce.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=$e("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=$e("div",{className:"html2pdf__container",style:Ce}),this.prop.container.appendChild(Be),this.prop.container.firstChild.appendChild($e("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},ke.prototype.toCanvas=function(){var Ce=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(Ce).then(je).then(function(Be){var qe=Object.assign({},this.opt.html2canvas);return delete qe.onrendered,Be(this.prop.container,qe)}).then(function(Be){(this.opt.html2canvas.onrendered||function(){})(Be),this.prop.canvas=Be,document.body.removeChild(this.prop.overlay)})},ke.prototype.toContext2d=function(){var Ce=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(Ce).then(je).then(function(Be){var qe=this.opt.jsPDF,He=this.opt.fontFaces,We=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,Ke=Object.assign({async:!0,allowTaint:!0,scale:We,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete Ke.onrendered,qe.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,qe.context2d.posX=this.opt.x,qe.context2d.posY=this.opt.y,qe.context2d.margin=this.opt.margin,qe.context2d.fontFaces=He,He)for(var Je=0;Je<He.length;++Je){var Qe=He[Je],rr=Qe.src.find(function(tr){return tr.format==="truetype"});rr&&qe.addFont(rr.url,Qe.ref.name,Qe.ref.style)}return Ke.windowHeight=Ke.windowHeight||0,Ke.windowHeight=Ke.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):Ke.windowHeight,qe.context2d.save(!0),Be(this.prop.container,Ke)}).then(function(Be){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(Be),this.prop.canvas=Be,document.body.removeChild(this.prop.overlay)})},ke.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var Ce=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=Ce})},ke.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},ke.prototype.output=function(Ce,Be,qe){return(qe=qe||"pdf").toLowerCase()==="img"||qe.toLowerCase()==="image"?this.outputImg(Ce,Be):this.outputPdf(Ce,Be)},ke.prototype.outputPdf=function(Ce,Be){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(Ce,Be)})},ke.prototype.outputImg=function(Ce){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(Ce){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+Ce+'" is not supported.'}})},ke.prototype.save=function(Ce){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(Ce?{filename:Ce}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},ke.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},ke.prototype.set=function(Ce){if(Me(Ce)!=="object")return this;var Be=Object.keys(Ce||{}).map(function(qe){if(qe in ke.template.prop)return function(){this.prop[qe]=Ce[qe]};switch(qe){case"margin":return this.setMargin.bind(this,Ce.margin);case"jsPDF":return function(){return this.opt.jsPDF=Ce.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,Ce.pageSize);default:return function(){this.opt[qe]=Ce[qe]}}},this);return this.then(function(){return this.thenList(Be)})},ke.prototype.get=function(Ce,Be){return this.then(function(){var qe=Ce in ke.template.prop?this.prop[Ce]:this.opt[Ce];return Be?Be(qe):qe})},ke.prototype.setMargin=function(Ce){return this.then(function(){switch(Me(Ce)){case"number":Ce=[Ce,Ce,Ce,Ce];case"array":if(Ce.length===2&&(Ce=[Ce[0],Ce[1],Ce[0],Ce[1]]),Ce.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=Ce}).then(this.setPageSize)},ke.prototype.setPageSize=function(Ce){function Be(qe,He){return Math.floor(qe*He/72*96)}return this.then(function(){(Ce=Ce||E.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(Ce.inner={width:Ce.width-this.opt.margin[1]-this.opt.margin[3],height:Ce.height-this.opt.margin[0]-this.opt.margin[2]},Ce.inner.px={width:Be(Ce.inner.width,Ce.k),height:Be(Ce.inner.height,Ce.k)},Ce.inner.ratio=Ce.inner.height/Ce.inner.width),this.prop.pageSize=Ce})},ke.prototype.setProgress=function(Ce,Be,qe,He){return Ce!=null&&(this.progress.val=Ce),Be!=null&&(this.progress.state=Be),qe!=null&&(this.progress.n=qe),He!=null&&(this.progress.stack=He),this.progress.ratio=this.progress.val/this.progress.state,this},ke.prototype.updateProgress=function(Ce,Be,qe,He){return this.setProgress(Ce?this.progress.val+Ce:null,Be||null,qe?this.progress.n+qe:null,He?this.progress.stack.concat(He):null)},ke.prototype.then=function(Ce,Be){var qe=this;return this.thenCore(Ce,Be,function(He,We){return qe.updateProgress(null,null,1,[He]),Promise.prototype.then.call(this,function(Ke){return qe.updateProgress(null,He),Ke}).then(He,We).then(function(Ke){return qe.updateProgress(1),Ke})})},ke.prototype.thenCore=function(Ce,Be,qe){qe=qe||Promise.prototype.then,Ce&&(Ce=Ce.bind(this)),Be&&(Be=Be.bind(this));var He=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:ke.convert(Object.assign({},this),Promise.prototype),We=qe.call(He,Ce,Be);return ke.convert(We,this.__proto__)},ke.prototype.thenExternal=function(Ce,Be){return Promise.prototype.then.call(this,Ce,Be)},ke.prototype.thenList=function(Ce){var Be=this;return Ce.forEach(function(qe){Be=Be.thenCore(qe)}),Be},ke.prototype.catch=function(Ce){Ce&&(Ce=Ce.bind(this));var Be=Promise.prototype.catch.call(this,Ce);return ke.convert(Be,this)},ke.prototype.catchExternal=function(Ce){return Promise.prototype.catch.call(this,Ce)},ke.prototype.error=function(Ce){return this.then(function(){throw new Error(Ce)})},ke.prototype.using=ke.prototype.set,ke.prototype.saveAs=ke.prototype.save,ke.prototype.export=ke.prototype.output,ke.prototype.run=ke.prototype.then,E.getPageSize=function(Ce,Be,qe){if(_typeof$1(Ce)==="object"){var He=Ce;Ce=He.orientation,Be=He.unit||Be,qe=He.format||qe}Be=Be||"mm",qe=qe||"a4",Ce=(""+(Ce||"P")).toLowerCase();var We,Ke=(""+qe).toLowerCase(),Je={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(Be){case"pt":We=1;break;case"mm":We=72/25.4;break;case"cm":We=72/2.54;break;case"in":We=72;break;case"px":We=.75;break;case"pc":case"em":We=12;break;case"ex":We=6;break;default:throw"Invalid unit: "+Be}var Qe,rr=0,tr=0;if(Je.hasOwnProperty(Ke))rr=Je[Ke][1]/We,tr=Je[Ke][0]/We;else try{rr=qe[1],tr=qe[0]}catch{throw new Error("Invalid format: "+qe)}if(Ce==="p"||Ce==="portrait")Ce="p",tr>rr&&(Qe=tr,tr=rr,rr=Qe);else{if(Ce!=="l"&&Ce!=="landscape")throw"Invalid orientation: "+Ce;Ce="l",rr>tr&&(Qe=tr,tr=rr,rr=Qe)}return{width:tr,height:rr,unit:Be,k:We,orientation:Ce}},Re.html=function(Ce,Be){(Be=Be||{}).callback=Be.callback||function(){},Be.html2canvas=Be.html2canvas||{},Be.html2canvas.canvas=Be.html2canvas.canvas||this.canvas,Be.jsPDF=Be.jsPDF||this,Be.fontFaces=Be.fontFaces?Be.fontFaces.map(jt):null;var qe=new ke(Be);return Be.worker?qe:qe.from(Ce).doCallback()}}(E.API),E.API.addJS=function(Re){return Ht=Re,this.internal.events.subscribe("postPutResources",function(){Ut=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ut+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),zt=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Ht+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ut!==void 0&&zt!==void 0&&this.internal.out("/Names <</JavaScript "+Ut+" 0 R>>")}),this},function(Re){var je;Re.events.push(["postPutResources",function(){var _e=this,Me=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var $e=_e.outline.render().split(/\r\n/),ke=0;ke<$e.length;ke++){var Ce=$e[ke],Be=Me.exec(Ce);if(Be!=null){var qe=Be[1];_e.internal.newObjectDeferredBegin(qe,!1)}_e.internal.write(Ce)}if(this.outline.createNamedDestinations){var He=this.internal.pages.length,We=[];for(ke=0;ke<He;ke++){var Ke=_e.internal.newObject();We.push(Ke);var Je=_e.internal.getPageInfo(ke+1);_e.internal.write("<< /D["+Je.objId+" 0 R /XYZ null null null]>> endobj")}var Qe=_e.internal.newObject();for(_e.internal.write("<< /Names [ "),ke=0;ke<We.length;ke++)_e.internal.write("(page_"+(ke+1)+")"+We[ke]+" 0 R");_e.internal.write(" ] >>","endobj"),je=_e.internal.newObject(),_e.internal.write("<< /Dests "+Qe+" 0 R"),_e.internal.write(">>","endobj")}}]),Re.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+je+" 0 R"))}]),Re.events.push(["initialized",function(){var _e=this;_e.outline={createNamedDestinations:!1,root:{children:[]}},_e.outline.add=function(Me,$e,ke){var Ce={title:$e,options:ke,children:[]};return Me==null&&(Me=this.root),Me.children.push(Ce),Ce},_e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=_e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},_e.outline.genIds_r=function(Me){Me.id=_e.internal.newObjectDeferred();for(var $e=0;$e<Me.children.length;$e++)this.genIds_r(Me.children[$e])},_e.outline.renderRoot=function(Me){this.objStart(Me),this.line("/Type /Outlines"),Me.children.length>0&&(this.line("/First "+this.makeRef(Me.children[0])),this.line("/Last "+this.makeRef(Me.children[Me.children.length-1]))),this.line("/Count "+this.count_r({count:0},Me)),this.objEnd()},_e.outline.renderItems=function(Me){for(var $e=this.ctx.pdf.internal.getVerticalCoordinateString,ke=0;ke<Me.children.length;ke++){var Ce=Me.children[ke];this.objStart(Ce),this.line("/Title "+this.makeString(Ce.title)),this.line("/Parent "+this.makeRef(Me)),ke>0&&this.line("/Prev "+this.makeRef(Me.children[ke-1])),ke<Me.children.length-1&&this.line("/Next "+this.makeRef(Me.children[ke+1])),Ce.children.length>0&&(this.line("/First "+this.makeRef(Ce.children[0])),this.line("/Last "+this.makeRef(Ce.children[Ce.children.length-1])));var Be=this.count=this.count_r({count:0},Ce);if(Be>0&&this.line("/Count "+Be),Ce.options&&Ce.options.pageNumber){var qe=_e.internal.getPageInfo(Ce.options.pageNumber);this.line("/Dest ["+qe.objId+" 0 R /XYZ 0 "+$e(0)+" 0]")}this.objEnd()}for(var He=0;He<Me.children.length;He++)this.renderItems(Me.children[He])},_e.outline.line=function(Me){this.ctx.val+=Me+`\r
`},_e.outline.makeRef=function(Me){return Me.id+" 0 R"},_e.outline.makeString=function(Me){return"("+_e.internal.pdfEscape(Me)+")"},_e.outline.objStart=function(Me){this.ctx.val+=`\r
`+Me.id+` 0 obj\r
<<\r
`},_e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},_e.outline.count_r=function(Me,$e){for(var ke=0;ke<$e.children.length;ke++)Me.count++,this.count_r(Me,$e.children[ke]);return Me.count}}])}(E.API),function(Re){var je=[192,193,194,195,196,197,198,199];Re.processJPEG=function(_e,Me,$e,ke,Ce,Be){var qe,He=this.decode.DCT_DECODE,We=null;if(typeof _e=="string"||this.__addimage__.isArrayBuffer(_e)||this.__addimage__.isArrayBufferView(_e)){switch(_e=Ce||_e,_e=this.__addimage__.isArrayBuffer(_e)?new Uint8Array(_e):_e,(qe=function(Ke){for(var Je,Qe=256*Ke.charCodeAt(4)+Ke.charCodeAt(5),rr=Ke.length,tr={width:0,height:0,numcomponents:1},cr=4;cr<rr;cr+=2){if(cr+=Qe,je.indexOf(Ke.charCodeAt(cr+1))!==-1){Je=256*Ke.charCodeAt(cr+5)+Ke.charCodeAt(cr+6),tr={width:256*Ke.charCodeAt(cr+7)+Ke.charCodeAt(cr+8),height:Je,numcomponents:Ke.charCodeAt(cr+9)};break}Qe=256*Ke.charCodeAt(cr+2)+Ke.charCodeAt(cr+3)}return tr}(_e=this.__addimage__.isArrayBufferView(_e)?this.__addimage__.arrayBufferToBinaryString(_e):_e)).numcomponents){case 1:Be=this.color_spaces.DEVICE_GRAY;break;case 4:Be=this.color_spaces.DEVICE_CMYK;break;case 3:Be=this.color_spaces.DEVICE_RGB}We={data:_e,width:qe.width,height:qe.height,colorSpace:Be,bitsPerComponent:8,filter:He,index:Me,alias:$e}}return We}}(E.API);var Vt,Gt,Yt,Jt,Xt,Kt=function(){var Re,je,_e;function Me(ke){var Ce,Be,qe,He,We,Ke,Je,Qe,rr,tr,cr,or,ar,pr;for(this.data=ke,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},Ke=null;;){switch(Ce=this.readUInt32(),rr=function(){var ur,gr;for(gr=[],ur=0;ur<4;++ur)gr.push(String.fromCharCode(this.data[this.pos++]));return gr}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(Ce);break;case"fcTL":Ke&&this.animation.frames.push(Ke),this.pos+=4,Ke={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},We=this.readUInt16(),He=this.readUInt16()||100,Ke.delay=1e3*We/He,Ke.disposeOp=this.data[this.pos++],Ke.blendOp=this.data[this.pos++],Ke.data=[];break;case"IDAT":case"fdAT":for(rr==="fdAT"&&(this.pos+=4,Ce-=4),ke=Ke?.data||this.imgData,or=0;0<=Ce?or<Ce:or>Ce;0<=Ce?++or:--or)ke.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(qe=this.palette.length/3,this.transparency.indexed=this.read(Ce),this.transparency.indexed.length>qe)throw new Error("More transparent colors than palette size");if((tr=qe-this.transparency.indexed.length)>0)for(ar=0;0<=tr?ar<tr:ar>tr;0<=tr?++ar:--ar)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(Ce)[0];break;case 2:this.transparency.rgb=this.read(Ce)}break;case"tEXt":Je=(cr=this.read(Ce)).indexOf(0),Qe=String.fromCharCode.apply(String,cr.slice(0,Je)),this.text[Qe]=String.fromCharCode.apply(String,cr.slice(Je+1));break;case"IEND":return Ke&&this.animation.frames.push(Ke),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=(pr=this.colorType)===4||pr===6,Be=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*Be,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=Ce}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}Me.prototype.read=function(ke){var Ce,Be;for(Be=[],Ce=0;0<=ke?Ce<ke:Ce>ke;0<=ke?++Ce:--Ce)Be.push(this.data[this.pos++]);return Be},Me.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},Me.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},Me.prototype.decodePixels=function(ke){var Ce=this.pixelBitlength/8,Be=new Uint8Array(this.width*this.height*Ce),qe=0,He=this;if(ke==null&&(ke=this.imgData),ke.length===0)return new Uint8Array(0);function We(Ke,Je,Qe,rr){var tr,cr,or,ar,pr,ur,gr,jr,vr,dr,xr,Rr,Xe,Pe,Fe,ze,Ue,Ge,Ze,er,Ve,Ie=Math.ceil((He.width-Ke)/Qe),Ye=Math.ceil((He.height-Je)/rr),ir=He.width==Ie&&He.height==Ye;for(Pe=Ce*Ie,Rr=ir?Be:new Uint8Array(Pe*Ye),ur=ke.length,Xe=0,cr=0;Xe<Ye&&qe<ur;){switch(ke[qe++]){case 0:for(ar=Ue=0;Ue<Pe;ar=Ue+=1)Rr[cr++]=ke[qe++];break;case 1:for(ar=Ge=0;Ge<Pe;ar=Ge+=1)tr=ke[qe++],pr=ar<Ce?0:Rr[cr-Ce],Rr[cr++]=(tr+pr)%256;break;case 2:for(ar=Ze=0;Ze<Pe;ar=Ze+=1)tr=ke[qe++],or=(ar-ar%Ce)/Ce,Fe=Xe&&Rr[(Xe-1)*Pe+or*Ce+ar%Ce],Rr[cr++]=(Fe+tr)%256;break;case 3:for(ar=er=0;er<Pe;ar=er+=1)tr=ke[qe++],or=(ar-ar%Ce)/Ce,pr=ar<Ce?0:Rr[cr-Ce],Fe=Xe&&Rr[(Xe-1)*Pe+or*Ce+ar%Ce],Rr[cr++]=(tr+Math.floor((pr+Fe)/2))%256;break;case 4:for(ar=Ve=0;Ve<Pe;ar=Ve+=1)tr=ke[qe++],or=(ar-ar%Ce)/Ce,pr=ar<Ce?0:Rr[cr-Ce],Xe===0?Fe=ze=0:(Fe=Rr[(Xe-1)*Pe+or*Ce+ar%Ce],ze=or&&Rr[(Xe-1)*Pe+(or-1)*Ce+ar%Ce]),gr=pr+Fe-ze,jr=Math.abs(gr-pr),dr=Math.abs(gr-Fe),xr=Math.abs(gr-ze),vr=jr<=dr&&jr<=xr?pr:dr<=xr?Fe:ze,Rr[cr++]=(tr+vr)%256;break;default:throw new Error("Invalid filter algorithm: "+ke[qe-1])}if(!ir){var lr=((Je+Xe*rr)*He.width+Ke)*Ce,br=Xe*Pe;for(ar=0;ar<Ie;ar+=1){for(var _r=0;_r<Ce;_r+=1)Be[lr++]=Rr[br++];lr+=(Qe-1)*Ce}}Xe++}}return ke=unzlibSync(ke),He.interlaceMethod==1?(We(0,0,8,8),We(4,0,8,8),We(0,4,4,8),We(2,0,4,4),We(0,2,2,4),We(1,0,2,2),We(0,1,1,2)):We(0,0,1,1),Be},Me.prototype.decodePalette=function(){var ke,Ce,Be,qe,He,We,Ke,Je,Qe;for(Be=this.palette,We=this.transparency.indexed||[],He=new Uint8Array((We.length||0)+Be.length),qe=0,ke=0,Ce=Ke=0,Je=Be.length;Ke<Je;Ce=Ke+=3)He[qe++]=Be[Ce],He[qe++]=Be[Ce+1],He[qe++]=Be[Ce+2],He[qe++]=(Qe=We[ke++])!=null?Qe:255;return He},Me.prototype.copyToImageData=function(ke,Ce){var Be,qe,He,We,Ke,Je,Qe,rr,tr,cr,or;if(qe=this.colors,tr=null,Be=this.hasAlphaChannel,this.palette.length&&(tr=(or=this._decodedPalette)!=null?or:this._decodedPalette=this.decodePalette(),qe=4,Be=!0),rr=(He=ke.data||ke).length,Ke=tr||Ce,We=Je=0,qe===1)for(;We<rr;)Qe=tr?4*Ce[We/4]:Je,cr=Ke[Qe++],He[We++]=cr,He[We++]=cr,He[We++]=cr,He[We++]=Be?Ke[Qe++]:255,Je=Qe;else for(;We<rr;)Qe=tr?4*Ce[We/4]:Je,He[We++]=Ke[Qe++],He[We++]=Ke[Qe++],He[We++]=Ke[Qe++],He[We++]=Be?Ke[Qe++]:255,Je=Qe},Me.prototype.decode=function(){var ke;return ke=new Uint8Array(this.width*this.height*4),this.copyToImageData(ke,this.decodePixels()),ke};var $e=function(){if(Object.prototype.toString.call(n$1)==="[object Window]"){try{je=n$1.document.createElement("canvas"),_e=je.getContext("2d")}catch{return!1}return!0}return!1};return $e(),Re=function(ke){var Ce;if($e()===!0)return _e.width=ke.width,_e.height=ke.height,_e.clearRect(0,0,ke.width,ke.height),_e.putImageData(ke,0,0),(Ce=new Image).src=je.toDataURL(),Ce;throw new Error("This method requires a Browser with Canvas-capability.")},Me.prototype.decodeFrames=function(ke){var Ce,Be,qe,He,We,Ke,Je,Qe;if(this.animation){for(Qe=[],Be=We=0,Ke=(Je=this.animation.frames).length;We<Ke;Be=++We)Ce=Je[Be],qe=ke.createImageData(Ce.width,Ce.height),He=this.decodePixels(new Uint8Array(Ce.data)),this.copyToImageData(qe,He),Ce.imageData=qe,Qe.push(Ce.image=Re(qe));return Qe}},Me.prototype.renderFrame=function(ke,Ce){var Be,qe,He;return Be=(qe=this.animation.frames)[Ce],He=qe[Ce-1],Ce===0&&ke.clearRect(0,0,this.width,this.height),He?.disposeOp===1?ke.clearRect(He.xOffset,He.yOffset,He.width,He.height):He?.disposeOp===2&&ke.putImageData(He.imageData,He.xOffset,He.yOffset),Be.blendOp===0&&ke.clearRect(Be.xOffset,Be.yOffset,Be.width,Be.height),ke.drawImage(Be.image,Be.xOffset,Be.yOffset)},Me.prototype.animate=function(ke){var Ce,Be,qe,He,We,Ke,Je=this;return Be=0,Ke=this.animation,He=Ke.numFrames,qe=Ke.frames,We=Ke.numPlays,(Ce=function(){var Qe,rr;if(Qe=Be++%He,rr=qe[Qe],Je.renderFrame(ke,Qe),He>1&&Be/He<We)return Je.animation._timeout=setTimeout(Ce,rr.delay)})()},Me.prototype.stopAnimation=function(){var ke;return clearTimeout((ke=this.animation)!=null?ke._timeout:void 0)},Me.prototype.render=function(ke){var Ce,Be;return ke._png&&ke._png.stopAnimation(),ke._png=this,ke.width=this.width,ke.height=this.height,Ce=ke.getContext("2d"),this.animation?(this.decodeFrames(Ce),this.animate(Ce)):(Be=Ce.createImageData(this.width,this.height),this.copyToImageData(Be,this.decodePixels()),Ce.putImageData(Be,0,0))},Me}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Zt(Re){var je=0;if(Re[je++]!==71||Re[je++]!==73||Re[je++]!==70||Re[je++]!==56||(Re[je++]+1&253)!=56||Re[je++]!==97)throw new Error("Invalid GIF 87a/89a header.");var _e=Re[je++]|Re[je++]<<8,Me=Re[je++]|Re[je++]<<8,$e=Re[je++],ke=$e>>7,Ce=1<<(7&$e)+1;Re[je++],Re[je++];var Be=null,qe=null;ke&&(Be=je,qe=Ce,je+=3*Ce);var He=!0,We=[],Ke=0,Je=null,Qe=0,rr=null;for(this.width=_e,this.height=Me;He&&je<Re.length;)switch(Re[je++]){case 33:switch(Re[je++]){case 255:if(Re[je]!==11||Re[je+1]==78&&Re[je+2]==69&&Re[je+3]==84&&Re[je+4]==83&&Re[je+5]==67&&Re[je+6]==65&&Re[je+7]==80&&Re[je+8]==69&&Re[je+9]==50&&Re[je+10]==46&&Re[je+11]==48&&Re[je+12]==3&&Re[je+13]==1&&Re[je+16]==0)je+=14,rr=Re[je++]|Re[je++]<<8,je++;else for(je+=12;;){if(!((Xe=Re[je++])>=0))throw Error("Invalid block size");if(Xe===0)break;je+=Xe}break;case 249:if(Re[je++]!==4||Re[je+4]!==0)throw new Error("Invalid graphics extension block.");var tr=Re[je++];Ke=Re[je++]|Re[je++]<<8,Je=Re[je++],!(1&tr)&&(Je=null),Qe=tr>>2&7,je++;break;case 254:for(;;){if(!((Xe=Re[je++])>=0))throw Error("Invalid block size");if(Xe===0)break;je+=Xe}break;default:throw new Error("Unknown graphic control label: 0x"+Re[je-1].toString(16))}break;case 44:var cr=Re[je++]|Re[je++]<<8,or=Re[je++]|Re[je++]<<8,ar=Re[je++]|Re[je++]<<8,pr=Re[je++]|Re[je++]<<8,ur=Re[je++],gr=ur>>6&1,jr=1<<(7&ur)+1,vr=Be,dr=qe,xr=!1;ur>>7&&(xr=!0,vr=je,dr=jr,je+=3*jr);var Rr=je;for(je++;;){var Xe;if(!((Xe=Re[je++])>=0))throw Error("Invalid block size");if(Xe===0)break;je+=Xe}We.push({x:cr,y:or,width:ar,height:pr,has_local_palette:xr,palette_offset:vr,palette_size:dr,data_offset:Rr,data_length:je-Rr,transparent_index:Je,interlaced:!!gr,delay:Ke,disposal:Qe});break;case 59:He=!1;break;default:throw new Error("Unknown gif block: 0x"+Re[je-1].toString(16))}this.numFrames=function(){return We.length},this.loopCount=function(){return rr},this.frameInfo=function(Pe){if(Pe<0||Pe>=We.length)throw new Error("Frame index out of range.");return We[Pe]},this.decodeAndBlitFrameBGRA=function(Pe,Fe){var ze=this.frameInfo(Pe),Ue=ze.width*ze.height,Ge=new Uint8Array(Ue);$t(Re,ze.data_offset,Ge,Ue);var Ze=ze.palette_offset,er=ze.transparent_index;er===null&&(er=256);var Ve=ze.width,Ie=_e-Ve,Ye=Ve,ir=4*(ze.y*_e+ze.x),lr=4*((ze.y+ze.height)*_e+ze.x),br=ir,_r=4*Ie;ze.interlaced===!0&&(_r+=4*_e*7);for(var Sr=8,wr=0,Nr=Ge.length;wr<Nr;++wr){var kr=Ge[wr];if(Ye===0&&(Ye=Ve,(br+=_r)>=lr&&(_r=4*Ie+4*_e*(Sr-1),br=ir+(Ve+Ie)*(Sr<<1),Sr>>=1)),kr===er)br+=4;else{var Lr=Re[Ze+3*kr],Xr=Re[Ze+3*kr+1],Ur=Re[Ze+3*kr+2];Fe[br++]=Ur,Fe[br++]=Xr,Fe[br++]=Lr,Fe[br++]=255}--Ye}},this.decodeAndBlitFrameRGBA=function(Pe,Fe){var ze=this.frameInfo(Pe),Ue=ze.width*ze.height,Ge=new Uint8Array(Ue);$t(Re,ze.data_offset,Ge,Ue);var Ze=ze.palette_offset,er=ze.transparent_index;er===null&&(er=256);var Ve=ze.width,Ie=_e-Ve,Ye=Ve,ir=4*(ze.y*_e+ze.x),lr=4*((ze.y+ze.height)*_e+ze.x),br=ir,_r=4*Ie;ze.interlaced===!0&&(_r+=4*_e*7);for(var Sr=8,wr=0,Nr=Ge.length;wr<Nr;++wr){var kr=Ge[wr];if(Ye===0&&(Ye=Ve,(br+=_r)>=lr&&(_r=4*Ie+4*_e*(Sr-1),br=ir+(Ve+Ie)*(Sr<<1),Sr>>=1)),kr===er)br+=4;else{var Lr=Re[Ze+3*kr],Xr=Re[Ze+3*kr+1],Ur=Re[Ze+3*kr+2];Fe[br++]=Lr,Fe[br++]=Xr,Fe[br++]=Ur,Fe[br++]=255}--Ye}}}function $t(Re,je,_e,Me){for(var $e=Re[je++],ke=1<<$e,Ce=ke+1,Be=Ce+1,qe=$e+1,He=(1<<qe)-1,We=0,Ke=0,Je=0,Qe=Re[je++],rr=new Int32Array(4096),tr=null;;){for(;We<16&&Qe!==0;)Ke|=Re[je++]<<We,We+=8,Qe===1?Qe=Re[je++]:--Qe;if(We<qe)break;var cr=Ke&He;if(Ke>>=qe,We-=qe,cr!==ke){if(cr===Ce)break;for(var or=cr<Be?cr:tr,ar=0,pr=or;pr>ke;)pr=rr[pr]>>8,++ar;var ur=pr;if(Je+ar+(or!==cr?1:0)>Me)return void a$1.log("Warning, gif stream longer than expected.");_e[Je++]=ur;var gr=Je+=ar;for(or!==cr&&(_e[Je++]=ur),pr=or;ar--;)pr=rr[pr],_e[--gr]=255&pr,pr>>=8;tr!==null&&Be<4096&&(rr[Be++]=tr<<8|ur,Be>=He+1&&qe<12&&(++qe,He=He<<1|1)),tr=cr}else Be=Ce+1,He=(1<<(qe=$e+1))-1,tr=null}return Je!==Me&&a$1.log("Warning, gif stream shorter than expected."),_e}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Qt(Re){var je,_e,Me,$e,ke,Ce=Math.floor,Be=new Array(64),qe=new Array(64),He=new Array(64),We=new Array(64),Ke=new Array(65535),Je=new Array(65535),Qe=new Array(64),rr=new Array(64),tr=[],cr=0,or=7,ar=new Array(64),pr=new Array(64),ur=new Array(64),gr=new Array(256),jr=new Array(2048),vr=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],dr=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],xr=[0,1,2,3,4,5,6,7,8,9,10,11],Rr=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],Xe=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],Pe=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Fe=[0,1,2,3,4,5,6,7,8,9,10,11],ze=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Ue=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Ge(ir,lr){for(var br=0,_r=0,Sr=new Array,wr=1;wr<=16;wr++){for(var Nr=1;Nr<=ir[wr];Nr++)Sr[lr[_r]]=[],Sr[lr[_r]][0]=br,Sr[lr[_r]][1]=wr,_r++,br++;br*=2}return Sr}function Ze(ir){for(var lr=ir[0],br=ir[1]-1;br>=0;)lr&1<<br&&(cr|=1<<or),br--,--or<0&&(cr==255?(er(255),er(0)):er(cr),or=7,cr=0)}function er(ir){tr.push(ir)}function Ve(ir){er(ir>>8&255),er(255&ir)}function Ie(ir,lr,br,_r,Sr){for(var wr,Nr=Sr[0],kr=Sr[240],Lr=function(Tr,Kr){var qr,Hr,ss,Vr,Zr,Is,Jr,cs,zs,ns,Qr=0;for(zs=0;zs<8;++zs){qr=Tr[Qr],Hr=Tr[Qr+1],ss=Tr[Qr+2],Vr=Tr[Qr+3],Zr=Tr[Qr+4],Is=Tr[Qr+5],Jr=Tr[Qr+6];var Zs=qr+(cs=Tr[Qr+7]),os=qr-cs,_s=Hr+Jr,Ys=Hr-Jr,ds=ss+Is,Ns=ss-Is,Xs=Vr+Zr,ys=Vr-Zr,ws=Zs+Xs,ni=Zs-Xs,bs=_s+ds,Es=_s-ds;Tr[Qr]=ws+bs,Tr[Qr+4]=ws-bs;var Hs=.707106781*(Es+ni);Tr[Qr+2]=ni+Hs,Tr[Qr+6]=ni-Hs;var us=.382683433*((ws=ys+Ns)-(Es=Ys+os)),As=.5411961*ws+us,Qs=1.306562965*Es+us,vs=.707106781*(bs=Ns+Ys),Ms=os+vs,Us=os-vs;Tr[Qr+5]=Us+As,Tr[Qr+3]=Us-As,Tr[Qr+1]=Ms+Qs,Tr[Qr+7]=Ms-Qs,Qr+=8}for(Qr=0,zs=0;zs<8;++zs){qr=Tr[Qr],Hr=Tr[Qr+8],ss=Tr[Qr+16],Vr=Tr[Qr+24],Zr=Tr[Qr+32],Is=Tr[Qr+40],Jr=Tr[Qr+48];var xs=qr+(cs=Tr[Qr+56]),ks=qr-cs,ri=Hr+Jr,fs=Hr-Jr,Rs=ss+Is,si=ss-Is,js=Vr+Zr,$s=Vr-Zr,ai=xs+js,gs=xs-js,Ss=ri+Rs,ei=ri-Rs;Tr[Qr]=ai+Ss,Tr[Qr+32]=ai-Ss;var Js=.707106781*(ei+gs);Tr[Qr+16]=gs+Js,Tr[Qr+48]=gs-Js;var di=.382683433*((ai=$s+si)-(ei=fs+ks)),fi=.5411961*ai+di,mi=1.306562965*ei+di,pi=.707106781*(Ss=si+fs),xi=ks+pi,gi=ks-pi;Tr[Qr+40]=gi+fi,Tr[Qr+24]=gi-fi,Tr[Qr+8]=xi+mi,Tr[Qr+56]=xi-mi,Qr++}for(zs=0;zs<64;++zs)ns=Tr[zs]*Kr[zs],Qe[zs]=ns>0?ns+.5|0:ns-.5|0;return Qe}(ir,lr),Xr=0;Xr<64;++Xr)rr[vr[Xr]]=Lr[Xr];var Ur=rr[0]-br;br=rr[0],Ur==0?Ze(_r[0]):(Ze(_r[Je[wr=32767+Ur]]),Ze(Ke[wr]));for(var Gr=63;Gr>0&&rr[Gr]==0;)Gr--;if(Gr==0)return Ze(Nr),br;for(var Ts,Br=1;Br<=Gr;){for(var Cr=Br;rr[Br]==0&&Br<=Gr;)++Br;var qs=Br-Cr;if(qs>=16){Ts=qs>>4;for(var $r=1;$r<=Ts;++$r)Ze(kr);qs&=15}wr=32767+rr[Br],Ze(Sr[(qs<<4)+Je[wr]]),Ze(Ke[wr]),Br++}return Gr!=63&&Ze(Nr),br}function Ye(ir){ir=Math.min(Math.max(ir,1),100),ke!=ir&&(function(lr){for(var br=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],_r=0;_r<64;_r++){var Sr=Ce((br[_r]*lr+50)/100);Sr=Math.min(Math.max(Sr,1),255),Be[vr[_r]]=Sr}for(var wr=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Nr=0;Nr<64;Nr++){var kr=Ce((wr[Nr]*lr+50)/100);kr=Math.min(Math.max(kr,1),255),qe[vr[Nr]]=kr}for(var Lr=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Xr=0,Ur=0;Ur<8;Ur++)for(var Gr=0;Gr<8;Gr++)He[Xr]=1/(Be[vr[Xr]]*Lr[Ur]*Lr[Gr]*8),We[Xr]=1/(qe[vr[Xr]]*Lr[Ur]*Lr[Gr]*8),Xr++}(ir<50?Math.floor(5e3/ir):Math.floor(200-2*ir)),ke=ir)}this.encode=function(ir,lr){lr&&Ye(lr),tr=new Array,cr=0,or=7,Ve(65496),Ve(65504),Ve(16),er(74),er(70),er(73),er(70),er(0),er(1),er(1),er(0),Ve(1),Ve(1),er(0),er(0),function(){Ve(65499),Ve(132),er(0);for(var Hr=0;Hr<64;Hr++)er(Be[Hr]);er(1);for(var ss=0;ss<64;ss++)er(qe[ss])}(),function(Hr,ss){Ve(65472),Ve(17),er(8),Ve(ss),Ve(Hr),er(3),er(1),er(17),er(0),er(2),er(17),er(1),er(3),er(17),er(1)}(ir.width,ir.height),function(){Ve(65476),Ve(418),er(0);for(var Hr=0;Hr<16;Hr++)er(dr[Hr+1]);for(var ss=0;ss<=11;ss++)er(xr[ss]);er(16);for(var Vr=0;Vr<16;Vr++)er(Rr[Vr+1]);for(var Zr=0;Zr<=161;Zr++)er(Xe[Zr]);er(1);for(var Is=0;Is<16;Is++)er(Pe[Is+1]);for(var Jr=0;Jr<=11;Jr++)er(Fe[Jr]);er(17);for(var cs=0;cs<16;cs++)er(ze[cs+1]);for(var zs=0;zs<=161;zs++)er(Ue[zs])}(),Ve(65498),Ve(12),er(3),er(1),er(0),er(2),er(17),er(3),er(17),er(0),er(63),er(0);var br=0,_r=0,Sr=0;cr=0,or=7,this.encode.displayName="_encode_";for(var wr,Nr,kr,Lr,Xr,Ur,Gr,Ts,Br,Cr=ir.data,qs=ir.width,$r=ir.height,Tr=4*qs,Kr=0;Kr<$r;){for(wr=0;wr<Tr;){for(Xr=Tr*Kr+wr,Gr=-1,Ts=0,Br=0;Br<64;Br++)Ur=Xr+(Ts=Br>>3)*Tr+(Gr=4*(7&Br)),Kr+Ts>=$r&&(Ur-=Tr*(Kr+1+Ts-$r)),wr+Gr>=Tr&&(Ur-=wr+Gr-Tr+4),Nr=Cr[Ur++],kr=Cr[Ur++],Lr=Cr[Ur++],ar[Br]=(jr[Nr]+jr[kr+256>>0]+jr[Lr+512>>0]>>16)-128,pr[Br]=(jr[Nr+768>>0]+jr[kr+1024>>0]+jr[Lr+1280>>0]>>16)-128,ur[Br]=(jr[Nr+1280>>0]+jr[kr+1536>>0]+jr[Lr+1792>>0]>>16)-128;br=Ie(ar,He,br,je,Me),_r=Ie(pr,We,_r,_e,$e),Sr=Ie(ur,We,Sr,_e,$e),wr+=32}Kr+=8}if(or>=0){var qr=[];qr[1]=or+1,qr[0]=(1<<or+1)-1,Ze(qr)}return Ve(65497),new Uint8Array(tr)},Re=Re||50,function(){for(var ir=String.fromCharCode,lr=0;lr<256;lr++)gr[lr]=ir(lr)}(),je=Ge(dr,xr),_e=Ge(Pe,Fe),Me=Ge(Rr,Xe),$e=Ge(ze,Ue),function(){for(var ir=1,lr=2,br=1;br<=15;br++){for(var _r=ir;_r<lr;_r++)Je[32767+_r]=br,Ke[32767+_r]=[],Ke[32767+_r][1]=br,Ke[32767+_r][0]=_r;for(var Sr=-(lr-1);Sr<=-ir;Sr++)Je[32767+Sr]=br,Ke[32767+Sr]=[],Ke[32767+Sr][1]=br,Ke[32767+Sr][0]=lr-1+Sr;ir<<=1,lr<<=1}}(),function(){for(var ir=0;ir<256;ir++)jr[ir]=19595*ir,jr[ir+256>>0]=38470*ir,jr[ir+512>>0]=7471*ir+32768,jr[ir+768>>0]=-11059*ir,jr[ir+1024>>0]=-21709*ir,jr[ir+1280>>0]=32768*ir+8421375,jr[ir+1536>>0]=-27439*ir,jr[ir+1792>>0]=-5329*ir}(),Ye(Re)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function te$1(Re,je){if(this.pos=0,this.buffer=Re,this.datav=new DataView(Re.buffer),this.is_with_alpha=!!je,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function ee$1(Re){function je(dr){if(!dr)throw Error("assert :P")}function _e(dr,xr,Rr){for(var Xe=0;4>Xe;Xe++)if(dr[xr+Xe]!=Rr.charCodeAt(Xe))return!0;return!1}function Me(dr,xr,Rr,Xe,Pe){for(var Fe=0;Fe<Pe;Fe++)dr[xr+Fe]=Rr[Xe+Fe]}function $e(dr,xr,Rr,Xe){for(var Pe=0;Pe<Xe;Pe++)dr[xr+Pe]=Rr}function ke(dr){return new Int32Array(dr)}function Ce(dr,xr){for(var Rr=[],Xe=0;Xe<dr;Xe++)Rr.push(new xr);return Rr}function Be(dr,xr){var Rr=[];return function Xe(Pe,Fe,ze){for(var Ue=ze[Fe],Ge=0;Ge<Ue&&(Pe.push(ze.length>Fe+1?[]:new xr),!(ze.length<Fe+1));Ge++)Xe(Pe[Ge],Fe+1,ze)}(Rr,0,dr),Rr}var qe=function(){var dr=this;function xr(nr,fr){for(var Er=1<<fr-1>>>0;nr&Er;)Er>>>=1;return Er?(nr&Er-1)+Er:nr}function Rr(nr,fr,Er,Mr,Ar){je(!(Mr%Er));do nr[fr+(Mr-=Er)]=Ar;while(0<Mr)}function Xe(nr,fr,Er,Mr,Ar){if(je(2328>=Ar),512>=Ar)var Ir=ke(512);else if((Ir=ke(Ar))==null)return 0;return function(Dr,Or,Fr,Wr,ts,ms){var ps,ls,Os=Or,Ps=1<<Fr,rs=ke(16),as=ke(16);for(je(ts!=0),je(Wr!=null),je(Dr!=null),je(0<Fr),ls=0;ls<ts;++ls){if(15<Wr[ls])return 0;++rs[Wr[ls]]}if(rs[0]==ts)return 0;for(as[1]=0,ps=1;15>ps;++ps){if(rs[ps]>1<<ps)return 0;as[ps+1]=as[ps]+rs[ps]}for(ls=0;ls<ts;++ls)ps=Wr[ls],0<Wr[ls]&&(ms[as[ps]++]=ls);if(as[15]==1)return(Wr=new Pe).g=0,Wr.value=ms[0],Rr(Dr,Os,1,Ps,Wr),Ps;var Ds,Fs=-1,Ls=Ps-1,Ks=0,Ws=1,ii=1,Vs=1<<Fr;for(ls=0,ps=1,ts=2;ps<=Fr;++ps,ts<<=1){if(Ws+=ii<<=1,0>(ii-=rs[ps]))return 0;for(;0<rs[ps];--rs[ps])(Wr=new Pe).g=ps,Wr.value=ms[ls++],Rr(Dr,Os+Ks,ts,Vs,Wr),Ks=xr(Ks,ps)}for(ps=Fr+1,ts=2;15>=ps;++ps,ts<<=1){if(Ws+=ii<<=1,0>(ii-=rs[ps]))return 0;for(;0<rs[ps];--rs[ps]){if(Wr=new Pe,(Ks&Ls)!=Fs){for(Os+=Vs,Ds=1<<(Fs=ps)-Fr;15>Fs&&!(0>=(Ds-=rs[Fs]));)++Fs,Ds<<=1;Ps+=Vs=1<<(Ds=Fs-Fr),Dr[Or+(Fs=Ks&Ls)].g=Ds+Fr,Dr[Or+Fs].value=Os-Or-Fs}Wr.g=ps-Fr,Wr.value=ms[ls++],Rr(Dr,Os+(Ks>>Fr),ts,Vs,Wr),Ks=xr(Ks,ps)}}return Ws!=2*as[15]-1?0:Ps}(nr,fr,Er,Mr,Ar,Ir)}function Pe(){this.value=this.g=0}function Fe(){this.value=this.g=0}function ze(){this.G=Ce(5,Pe),this.H=ke(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=Ce(Zi,Fe)}function Ue(nr,fr,Er,Mr){je(nr!=null),je(fr!=null),je(2147483648>Mr),nr.Ca=254,nr.I=0,nr.b=-8,nr.Ka=0,nr.oa=fr,nr.pa=Er,nr.Jd=fr,nr.Yc=Er+Mr,nr.Zc=4<=Mr?Er+Mr-4+1:Er,wr(nr)}function Ge(nr,fr){for(var Er=0;0<fr--;)Er|=kr(nr,128)<<fr;return Er}function Ze(nr,fr){var Er=Ge(nr,fr);return Nr(nr)?-Er:Er}function er(nr,fr,Er,Mr){var Ar,Ir=0;for(je(nr!=null),je(fr!=null),je(4294967288>Mr),nr.Sb=Mr,nr.Ra=0,nr.u=0,nr.h=0,4<Mr&&(Mr=4),Ar=0;Ar<Mr;++Ar)Ir+=fr[Er+Ar]<<8*Ar;nr.Ra=Ir,nr.bb=Mr,nr.oa=fr,nr.pa=Er}function Ve(nr){for(;8<=nr.u&&nr.bb<nr.Sb;)nr.Ra>>>=8,nr.Ra+=nr.oa[nr.pa+nr.bb]<<Ra-8>>>0,++nr.bb,nr.u-=8;br(nr)&&(nr.h=1,nr.u=0)}function Ie(nr,fr){if(je(0<=fr),!nr.h&&fr<=Ea){var Er=lr(nr)&wa[fr];return nr.u+=fr,Ve(nr),Er}return nr.h=1,nr.u=0}function Ye(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function ir(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function lr(nr){return nr.Ra>>>(nr.u&Ra-1)>>>0}function br(nr){return je(nr.bb<=nr.Sb),nr.h||nr.bb==nr.Sb&&nr.u>Ra}function _r(nr,fr){nr.u=fr,nr.h=br(nr)}function Sr(nr){nr.u>=Ja&&(je(nr.u>=Ja),Ve(nr))}function wr(nr){je(nr!=null&&nr.oa!=null),nr.pa<nr.Zc?(nr.I=(nr.oa[nr.pa++]|nr.I<<8)>>>0,nr.b+=8):(je(nr!=null&&nr.oa!=null),nr.pa<nr.Yc?(nr.b+=8,nr.I=nr.oa[nr.pa++]|nr.I<<8):nr.Ka?nr.b=0:(nr.I<<=8,nr.b+=8,nr.Ka=1))}function Nr(nr){return Ge(nr,1)}function kr(nr,fr){var Er=nr.Ca;0>nr.b&&wr(nr);var Mr=nr.b,Ar=Er*fr>>>8,Ir=(nr.I>>>Mr>Ar)+0;for(Ir?(Er-=Ar,nr.I-=Ar+1<<Mr>>>0):Er=Ar+1,Mr=Er,Ar=0;256<=Mr;)Ar+=8,Mr>>=8;return Mr=7^Ar+an[Mr],nr.b-=Mr,nr.Ca=(Er<<Mr)-1,Ir}function Lr(nr,fr,Er){nr[fr+0]=Er>>24&255,nr[fr+1]=Er>>16&255,nr[fr+2]=Er>>8&255,nr[fr+3]=Er>>0&255}function Xr(nr,fr){return nr[fr+0]<<0|nr[fr+1]<<8}function Ur(nr,fr){return Xr(nr,fr)|nr[fr+2]<<16}function Gr(nr,fr){return Xr(nr,fr)|Xr(nr,fr+2)<<16}function Ts(nr,fr){var Er=1<<fr;return je(nr!=null),je(0<fr),nr.X=ke(Er),nr.X==null?0:(nr.Mb=32-fr,nr.Xa=fr,1)}function Br(nr,fr){je(nr!=null),je(fr!=null),je(nr.Xa==fr.Xa),Me(fr.X,0,nr.X,0,1<<fr.Xa)}function Cr(){this.X=[],this.Xa=this.Mb=0}function qs(nr,fr,Er,Mr){je(Er!=null),je(Mr!=null);var Ar=Er[0],Ir=Mr[0];return Ar==0&&(Ar=(nr*Ir+fr/2)/fr),Ir==0&&(Ir=(fr*Ar+nr/2)/nr),0>=Ar||0>=Ir?0:(Er[0]=Ar,Mr[0]=Ir,1)}function $r(nr,fr){return nr+(1<<fr)-1>>>fr}function Tr(nr,fr){return((4278255360&nr)+(4278255360&fr)>>>0&4278255360)+((16711935&nr)+(16711935&fr)>>>0&16711935)>>>0}function Kr(nr,fr){dr[fr]=function(Er,Mr,Ar,Ir,Dr,Or,Fr){var Wr;for(Wr=0;Wr<Dr;++Wr){var ts=dr[nr](Or[Fr+Wr-1],Ar,Ir+Wr);Or[Fr+Wr]=Tr(Er[Mr+Wr],ts)}}}function qr(){this.ud=this.hd=this.jd=0}function Hr(nr,fr){return((4278124286&(nr^fr))>>>1)+(nr&fr)>>>0}function ss(nr){return 0<=nr&&256>nr?nr:0>nr?0:255<nr?255:void 0}function Vr(nr,fr){return ss(nr+(nr-fr+.5>>1))}function Zr(nr,fr,Er){return Math.abs(fr-Er)-Math.abs(nr-Er)}function Is(nr,fr,Er,Mr,Ar,Ir,Dr){for(Mr=Ir[Dr-1],Er=0;Er<Ar;++Er)Ir[Dr+Er]=Mr=Tr(nr[fr+Er],Mr)}function Jr(nr,fr,Er,Mr,Ar){var Ir;for(Ir=0;Ir<Er;++Ir){var Dr=nr[fr+Ir],Or=Dr>>8&255,Fr=16711935&(Fr=(Fr=16711935&Dr)+((Or<<16)+Or));Mr[Ar+Ir]=(4278255360&Dr)+Fr>>>0}}function cs(nr,fr){fr.jd=nr>>0&255,fr.hd=nr>>8&255,fr.ud=nr>>16&255}function zs(nr,fr,Er,Mr,Ar,Ir){var Dr;for(Dr=0;Dr<Mr;++Dr){var Or=fr[Er+Dr],Fr=Or>>>8,Wr=Or,ts=255&(ts=(ts=Or>>>16)+((nr.jd<<24>>24)*(Fr<<24>>24)>>>5));Wr=255&(Wr=(Wr=Wr+((nr.hd<<24>>24)*(Fr<<24>>24)>>>5))+((nr.ud<<24>>24)*(ts<<24>>24)>>>5)),Ar[Ir+Dr]=(4278255360&Or)+(ts<<16)+Wr}}function ns(nr,fr,Er,Mr,Ar){dr[fr]=function(Ir,Dr,Or,Fr,Wr,ts,ms,ps,ls){for(Fr=ms;Fr<ps;++Fr)for(ms=0;ms<ls;++ms)Wr[ts++]=Ar(Or[Mr(Ir[Dr++])])},dr[nr]=function(Ir,Dr,Or,Fr,Wr,ts,ms){var ps=8>>Ir.b,ls=Ir.Ea,Os=Ir.K[0],Ps=Ir.w;if(8>ps)for(Ir=(1<<Ir.b)-1,Ps=(1<<ps)-1;Dr<Or;++Dr){var rs,as=0;for(rs=0;rs<ls;++rs)rs&Ir||(as=Mr(Fr[Wr++])),ts[ms++]=Ar(Os[as&Ps]),as>>=ps}else dr["VP8LMapColor"+Er](Fr,Wr,Os,Ps,ts,ms,Dr,Or,ls)}}function Qr(nr,fr,Er,Mr,Ar){for(Er=fr+Er;fr<Er;){var Ir=nr[fr++];Mr[Ar++]=Ir>>16&255,Mr[Ar++]=Ir>>8&255,Mr[Ar++]=Ir>>0&255}}function Zs(nr,fr,Er,Mr,Ar){for(Er=fr+Er;fr<Er;){var Ir=nr[fr++];Mr[Ar++]=Ir>>16&255,Mr[Ar++]=Ir>>8&255,Mr[Ar++]=Ir>>0&255,Mr[Ar++]=Ir>>24&255}}function os(nr,fr,Er,Mr,Ar){for(Er=fr+Er;fr<Er;){var Ir=(Dr=nr[fr++])>>16&240|Dr>>12&15,Dr=Dr>>0&240|Dr>>28&15;Mr[Ar++]=Ir,Mr[Ar++]=Dr}}function _s(nr,fr,Er,Mr,Ar){for(Er=fr+Er;fr<Er;){var Ir=(Dr=nr[fr++])>>16&248|Dr>>13&7,Dr=Dr>>5&224|Dr>>3&31;Mr[Ar++]=Ir,Mr[Ar++]=Dr}}function Ys(nr,fr,Er,Mr,Ar){for(Er=fr+Er;fr<Er;){var Ir=nr[fr++];Mr[Ar++]=Ir>>0&255,Mr[Ar++]=Ir>>8&255,Mr[Ar++]=Ir>>16&255}}function ds(nr,fr,Er,Mr,Ar,Ir){if(Ir==0)for(Er=fr+Er;fr<Er;)Lr(Mr,((Ir=nr[fr++])[0]>>24|Ir[1]>>8&65280|Ir[2]<<8&16711680|Ir[3]<<24)>>>0),Ar+=32;else Me(Mr,Ar,nr,fr,Er)}function Ns(nr,fr){dr[fr][0]=dr[nr+"0"],dr[fr][1]=dr[nr+"1"],dr[fr][2]=dr[nr+"2"],dr[fr][3]=dr[nr+"3"],dr[fr][4]=dr[nr+"4"],dr[fr][5]=dr[nr+"5"],dr[fr][6]=dr[nr+"6"],dr[fr][7]=dr[nr+"7"],dr[fr][8]=dr[nr+"8"],dr[fr][9]=dr[nr+"9"],dr[fr][10]=dr[nr+"10"],dr[fr][11]=dr[nr+"11"],dr[fr][12]=dr[nr+"12"],dr[fr][13]=dr[nr+"13"],dr[fr][14]=dr[nr+"0"],dr[fr][15]=dr[nr+"0"]}function Xs(nr){return nr==El||nr==Rl||nr==Fo||nr==_l}function ys(){this.eb=[],this.size=this.A=this.fb=0}function ws(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ni(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ys,this.f.kb=new ws,this.sd=null}function bs(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Es(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Hs(nr){return alert("todo:WebPSamplerProcessPlane"),nr.T}function us(nr,fr){var Er=nr.T,Mr=fr.ba.f.RGBA,Ar=Mr.eb,Ir=Mr.fb+nr.ka*Mr.A,Dr=jn[fr.ba.S],Or=nr.y,Fr=nr.O,Wr=nr.f,ts=nr.N,ms=nr.ea,ps=nr.W,ls=fr.cc,Os=fr.dc,Ps=fr.Mc,rs=fr.Nc,as=nr.ka,Ds=nr.ka+nr.T,Fs=nr.U,Ls=Fs+1>>1;for(as==0?Dr(Or,Fr,null,null,Wr,ts,ms,ps,Wr,ts,ms,ps,Ar,Ir,null,null,Fs):(Dr(fr.ec,fr.fc,Or,Fr,ls,Os,Ps,rs,Wr,ts,ms,ps,Ar,Ir-Mr.A,Ar,Ir,Fs),++Er);as+2<Ds;as+=2)ls=Wr,Os=ts,Ps=ms,rs=ps,ts+=nr.Rc,ps+=nr.Rc,Ir+=2*Mr.A,Dr(Or,(Fr+=2*nr.fa)-nr.fa,Or,Fr,ls,Os,Ps,rs,Wr,ts,ms,ps,Ar,Ir-Mr.A,Ar,Ir,Fs);return Fr+=nr.fa,nr.j+Ds<nr.o?(Me(fr.ec,fr.fc,Or,Fr,Fs),Me(fr.cc,fr.dc,Wr,ts,Ls),Me(fr.Mc,fr.Nc,ms,ps,Ls),Er--):1&Ds||Dr(Or,Fr,null,null,Wr,ts,ms,ps,Wr,ts,ms,ps,Ar,Ir+Mr.A,null,null,Fs),Er}function As(nr,fr,Er){var Mr=nr.F,Ar=[nr.J];if(Mr!=null){var Ir=nr.U,Dr=fr.ba.S,Or=Dr==Oo||Dr==Fo;fr=fr.ba.f.RGBA;var Fr=[0],Wr=nr.ka;Fr[0]=nr.T,nr.Kb&&(Wr==0?--Fr[0]:(--Wr,Ar[0]-=nr.width),nr.j+nr.ka+nr.T==nr.o&&(Fr[0]=nr.o-nr.j-Wr));var ts=fr.eb;Wr=fr.fb+Wr*fr.A,nr=Li(Mr,Ar[0],nr.width,Ir,Fr,ts,Wr+(Or?0:3),fr.A),je(Er==Fr),nr&&Xs(Dr)&&vn(ts,Wr,Or,Ir,Fr,fr.A)}return 0}function Qs(nr){var fr=nr.ma,Er=fr.ba.S,Mr=11>Er,Ar=Er==Do||Er==Lo||Er==Oo||Er==wl||Er==12||Xs(Er);if(fr.memory=null,fr.Ib=null,fr.Jb=null,fr.Nd=null,!Xa(fr.Oa,nr,Ar?11:12))return 0;if(Ar&&Xs(Er)&&Bs(),nr.da)alert("todo:use_scaling");else{if(Mr){if(fr.Ib=Hs,nr.Kb){if(Er=nr.U+1>>1,fr.memory=ke(nr.U+2*Er),fr.memory==null)return 0;fr.ec=fr.memory,fr.fc=0,fr.cc=fr.ec,fr.dc=fr.fc+nr.U,fr.Mc=fr.cc,fr.Nc=fr.dc+Er,fr.Ib=us,Bs()}}else alert("todo:EmitYUV");Ar&&(fr.Jb=As,Mr&&hs())}if(Mr&&!Xl){for(nr=0;256>nr;++nr)Ic[nr]=89858*(nr-128)+qo>>Bo,Oc[nr]=-22014*(nr-128)+qo,Lc[nr]=-45773*(nr-128),Dc[nr]=113618*(nr-128)+qo>>Bo;for(nr=ao;nr<Ml;++nr)fr=76283*(nr-16)+qo>>Bo,Fc[nr-ao]=dn(fr,255),Bc[nr-ao]=dn(fr+8>>4,15);Xl=1}return 1}function vs(nr){var fr=nr.ma,Er=nr.U,Mr=nr.T;return je(!(1&nr.ka)),0>=Er||0>=Mr?0:(Er=fr.Ib(nr,fr),fr.Jb!=null&&fr.Jb(nr,fr,Er),fr.Dc+=Er,1)}function Ms(nr){nr.ma.memory=null}function Us(nr,fr,Er,Mr){return Ie(nr,8)!=47?0:(fr[0]=Ie(nr,14)+1,Er[0]=Ie(nr,14)+1,Mr[0]=Ie(nr,1),Ie(nr,3)!=0?0:!nr.h)}function xs(nr,fr){if(4>nr)return nr+1;var Er=nr-2>>1;return(2+(1&nr)<<Er)+Ie(fr,Er)+1}function ks(nr,fr){return 120<fr?fr-120:1<=(Er=((Er=jc[fr-1])>>4)*nr+(8-(15&Er)))?Er:1;var Er}function ri(nr,fr,Er){var Mr=lr(Er),Ar=nr[fr+=255&Mr].g-8;return 0<Ar&&(_r(Er,Er.u+8),Mr=lr(Er),fr+=nr[fr].value,fr+=Mr&(1<<Ar)-1),_r(Er,Er.u+nr[fr].g),nr[fr].value}function fs(nr,fr,Er){return Er.g+=nr.g,Er.value+=nr.value<<fr>>>0,je(8>=Er.g),nr.g}function Rs(nr,fr,Er){var Mr=nr.xc;return je((fr=Mr==0?0:nr.vc[nr.md*(Er>>Mr)+(fr>>Mr)])<nr.Wb),nr.Ya[fr]}function si(nr,fr,Er,Mr){var Ar=nr.ab,Ir=nr.c*fr,Dr=nr.C;fr=Dr+fr;var Or=Er,Fr=Mr;for(Mr=nr.Ta,Er=nr.Ua;0<Ar--;){var Wr=nr.gc[Ar],ts=Dr,ms=fr,ps=Or,ls=Fr,Os=(Fr=Mr,Or=Er,Wr.Ea);switch(je(ts<ms),je(ms<=Wr.nc),Wr.hc){case 2:ko(ps,ls,(ms-ts)*Os,Fr,Or);break;case 0:var Ps=ts,rs=ms,as=Fr,Ds=Or,Fs=(Vs=Wr).Ea;Ps==0&&(yl(ps,ls,null,null,1,as,Ds),Is(ps,ls+1,0,0,Fs-1,as,Ds+1),ls+=Fs,Ds+=Fs,++Ps);for(var Ls=1<<Vs.b,Ks=Ls-1,Ws=$r(Fs,Vs.b),ii=Vs.K,Vs=Vs.w+(Ps>>Vs.b)*Ws;Ps<rs;){var Ai=ii,Pi=Vs,wi=1;for(Qa(ps,ls,as,Ds-Fs,1,as,Ds);wi<Fs;){var hi=(wi&~Ks)+Ls;hi>Fs&&(hi=Fs),(0,Hn[Ai[Pi++]>>8&15])(ps,ls+ +wi,as,Ds+wi-Fs,hi-wi,as,Ds+wi),wi=hi}ls+=Fs,Ds+=Fs,++Ps&Ks||(Vs+=Ws)}ms!=Wr.nc&&Me(Fr,Or-Os,Fr,Or+(ms-ts-1)*Os,Os);break;case 1:for(Os=ps,rs=ls,Fs=(ps=Wr.Ea)-(Ds=ps&~(as=(ls=1<<Wr.b)-1)),Ps=$r(ps,Wr.b),Ls=Wr.K,Wr=Wr.w+(ts>>Wr.b)*Ps;ts<ms;){for(Ks=Ls,Ws=Wr,ii=new qr,Vs=rs+Ds,Ai=rs+ps;rs<Vs;)cs(Ks[Ws++],ii),aa(ii,Os,rs,ls,Fr,Or),rs+=ls,Or+=ls;rs<Ai&&(cs(Ks[Ws++],ii),aa(ii,Os,rs,Fs,Fr,Or),rs+=Fs,Or+=Fs),++ts&as||(Wr+=Ps)}break;case 3:if(ps==Fr&&ls==Or&&0<Wr.b){for(rs=Fr,ps=Os=Or+(ms-ts)*Os-(Ds=(ms-ts)*$r(Wr.Ea,Wr.b)),ls=Fr,as=Or,Ps=[],Ds=(Fs=Ds)-1;0<=Ds;--Ds)Ps[Ds]=ls[as+Ds];for(Ds=Fs-1;0<=Ds;--Ds)rs[ps+Ds]=Ps[Ds];pn(Wr,ts,ms,Fr,Os,Fr,Or)}else pn(Wr,ts,ms,ps,ls,Fr,Or)}Or=Mr,Fr=Er}Fr!=Er&&Me(Mr,Er,Or,Fr,Ir)}function js(nr,fr){var Er=nr.V,Mr=nr.Ba+nr.c*nr.C,Ar=fr-nr.C;if(je(fr<=nr.l.o),je(16>=Ar),0<Ar){var Ir=nr.l,Dr=nr.Ta,Or=nr.Ua,Fr=Ir.width;if(si(nr,Ar,Er,Mr),Ar=Or=[Or],je((Er=nr.C)<(Mr=fr)),je(Ir.v<Ir.va),Mr>Ir.o&&(Mr=Ir.o),Er<Ir.j){var Wr=Ir.j-Er;Er=Ir.j,Ar[0]+=Wr*Fr}if(Er>=Mr?Er=0:(Ar[0]+=4*Ir.v,Ir.ka=Er-Ir.j,Ir.U=Ir.va-Ir.v,Ir.T=Mr-Er,Er=1),Er){if(Or=Or[0],11>(Er=nr.ca).S){var ts=Er.f.RGBA,ms=(Mr=Er.S,Ar=Ir.U,Ir=Ir.T,Wr=ts.eb,ts.A),ps=Ir;for(ts=ts.fb+nr.Ma*ts.A;0<ps--;){var ls=Dr,Os=Or,Ps=Ar,rs=Wr,as=ts;switch(Mr){case Io:on(ls,Os,Ps,rs,as);break;case Do:tn(ls,Os,Ps,rs,as);break;case El:tn(ls,Os,Ps,rs,as),vn(rs,as,0,Ps,1,0);break;case Fl:In(ls,Os,Ps,rs,as);break;case Lo:ds(ls,Os,Ps,rs,as,1);break;case Rl:ds(ls,Os,Ps,rs,as,1),vn(rs,as,0,Ps,1,0);break;case Oo:ds(ls,Os,Ps,rs,as,0);break;case Fo:ds(ls,Os,Ps,rs,as,0),vn(rs,as,1,Ps,1,0);break;case wl:Wn(ls,Os,Ps,rs,as);break;case _l:Wn(ls,Os,Ps,rs,as),Di(rs,as,Ps,1,0);break;case Bl:Tn(ls,Os,Ps,rs,as);break;default:je(0)}Or+=Fr,ts+=ms}nr.Ma+=Ir}else alert("todo:EmitRescaledRowsYUVA");je(nr.Ma<=Er.height)}}nr.C=fr,je(nr.C<=nr.i)}function $s(nr){var fr;if(0<nr.ua)return 0;for(fr=0;fr<nr.Wb;++fr){var Er=nr.Ya[fr].G,Mr=nr.Ya[fr].H;if(0<Er[1][Mr[1]+0].g||0<Er[2][Mr[2]+0].g||0<Er[3][Mr[3]+0].g)return 0}return 1}function ai(nr,fr,Er,Mr,Ar,Ir){if(nr.Z!=0){var Dr=nr.qd,Or=nr.rd;for(je(Yn[nr.Z]!=null);fr<Er;++fr)Yn[nr.Z](Dr,Or,Mr,Ar,Mr,Ar,Ir),Dr=Mr,Or=Ar,Ar+=Ir;nr.qd=Dr,nr.rd=Or}}function gs(nr,fr){var Er=nr.l.ma,Mr=Er.Z==0||Er.Z==1?nr.l.j:nr.C;if(Mr=nr.C<Mr?Mr:nr.C,je(fr<=nr.l.o),fr>Mr){var Ar=nr.l.width,Ir=Er.ca,Dr=Er.tb+Ar*Mr,Or=nr.V,Fr=nr.Ba+nr.c*Mr,Wr=nr.gc;je(nr.ab==1),je(Wr[0].hc==3),$o(Wr[0],Mr,fr,Or,Fr,Ir,Dr),ai(Er,Mr,fr,Ir,Dr,Ar)}nr.C=nr.Ma=fr}function Ss(nr,fr,Er,Mr,Ar,Ir,Dr){var Or=nr.$/Mr,Fr=nr.$%Mr,Wr=nr.m,ts=nr.s,ms=Er+nr.$,ps=ms;Ar=Er+Mr*Ar;var ls=Er+Mr*Ir,Os=280+ts.ua,Ps=nr.Pb?Or:16777216,rs=0<ts.ua?ts.Wa:null,as=ts.wc,Ds=ms<ls?Rs(ts,Fr,Or):null;je(nr.C<Ir),je(ls<=Ar);var Fs=!1;e:for(;;){for(;Fs||ms<ls;){var Ls=0;if(Or>=Ps){var Ks=ms-Er;je((Ps=nr).Pb),Ps.wd=Ps.m,Ps.xd=Ks,0<Ps.s.ua&&Br(Ps.s.Wa,Ps.s.vb),Ps=Or+Ec}if(Fr&as||(Ds=Rs(ts,Fr,Or)),je(Ds!=null),Ds.Qb&&(fr[ms]=Ds.qb,Fs=!0),!Fs)if(Sr(Wr),Ds.jc){Ls=Wr,Ks=fr;var Ws=ms,ii=Ds.pd[lr(Ls)&Zi-1];je(Ds.jc),256>ii.g?(_r(Ls,Ls.u+ii.g),Ks[Ws]=ii.value,Ls=0):(_r(Ls,Ls.u+ii.g-256),je(256<=ii.value),Ls=ii.value),Ls==0&&(Fs=!0)}else Ls=ri(Ds.G[0],Ds.H[0],Wr);if(Wr.h)break;if(Fs||256>Ls){if(!Fs)if(Ds.nd)fr[ms]=(Ds.qb|Ls<<8)>>>0;else{if(Sr(Wr),Fs=ri(Ds.G[1],Ds.H[1],Wr),Sr(Wr),Ks=ri(Ds.G[2],Ds.H[2],Wr),Ws=ri(Ds.G[3],Ds.H[3],Wr),Wr.h)break;fr[ms]=(Ws<<24|Fs<<16|Ls<<8|Ks)>>>0}if(Fs=!1,++ms,++Fr>=Mr&&(Fr=0,++Or,Dr!=null&&Or<=Ir&&!(Or%16)&&Dr(nr,Or),rs!=null))for(;ps<ms;)Ls=fr[ps++],rs.X[(506832829*Ls&4294967295)>>>rs.Mb]=Ls}else if(280>Ls){if(Ls=xs(Ls-256,Wr),Ks=ri(Ds.G[4],Ds.H[4],Wr),Sr(Wr),Ks=ks(Mr,Ks=xs(Ks,Wr)),Wr.h)break;if(ms-Er<Ks||Ar-ms<Ls)break e;for(Ws=0;Ws<Ls;++Ws)fr[ms+Ws]=fr[ms+Ws-Ks];for(ms+=Ls,Fr+=Ls;Fr>=Mr;)Fr-=Mr,++Or,Dr!=null&&Or<=Ir&&!(Or%16)&&Dr(nr,Or);if(je(ms<=Ar),Fr&as&&(Ds=Rs(ts,Fr,Or)),rs!=null)for(;ps<ms;)Ls=fr[ps++],rs.X[(506832829*Ls&4294967295)>>>rs.Mb]=Ls}else{if(!(Ls<Os))break e;for(Fs=Ls-280,je(rs!=null);ps<ms;)Ls=fr[ps++],rs.X[(506832829*Ls&4294967295)>>>rs.Mb]=Ls;Ls=ms,je(!(Fs>>>(Ks=rs).Xa)),fr[Ls]=Ks.X[Fs],Fs=!0}Fs||je(Wr.h==br(Wr))}if(nr.Pb&&Wr.h&&ms<Ar)je(nr.m.h),nr.a=5,nr.m=nr.wd,nr.$=nr.xd,0<nr.s.ua&&Br(nr.s.vb,nr.s.Wa);else{if(Wr.h)break e;Dr?.(nr,Or>Ir?Ir:Or),nr.a=0,nr.$=ms-Er}return 1}return nr.a=3,0}function ei(nr){je(nr!=null),nr.vc=null,nr.yc=null,nr.Ya=null;var fr=nr.Wa;fr!=null&&(fr.X=null),nr.vb=null,je(nr!=null)}function Js(){var nr=new bl;return nr==null?null:(nr.a=0,nr.xb=Hl,Ns("Predictor","VP8LPredictors"),Ns("Predictor","VP8LPredictors_C"),Ns("PredictorAdd","VP8LPredictorsAdd"),Ns("PredictorAdd","VP8LPredictorsAdd_C"),ko=Jr,aa=zs,on=Qr,tn=Zs,Wn=os,Tn=_s,In=Ys,dr.VP8LMapColor32b=Sa,dr.VP8LMapColor8b=Ao,nr)}function di(nr,fr,Er,Mr,Ar){var Ir=1,Dr=[nr],Or=[fr],Fr=Mr.m,Wr=Mr.s,ts=null,ms=0;e:for(;;){if(Er)for(;Ir&&Ie(Fr,1);){var ps=Dr,ls=Or,Os=Mr,Ps=1,rs=Os.m,as=Os.gc[Os.ab],Ds=Ie(rs,2);if(Os.Oc&1<<Ds)Ir=0;else{switch(Os.Oc|=1<<Ds,as.hc=Ds,as.Ea=ps[0],as.nc=ls[0],as.K=[null],++Os.ab,je(4>=Os.ab),Ds){case 0:case 1:as.b=Ie(rs,3)+2,Ps=di($r(as.Ea,as.b),$r(as.nc,as.b),0,Os,as.K),as.K=as.K[0];break;case 3:var Fs,Ls=Ie(rs,8)+1,Ks=16<Ls?0:4<Ls?1:2<Ls?2:3;if(ps[0]=$r(as.Ea,Ks),as.b=Ks,Fs=Ps=di(Ls,1,0,Os,as.K)){var Ws,ii=Ls,Vs=as,Ai=1<<(8>>Vs.b),Pi=ke(Ai);if(Pi==null)Fs=0;else{var wi=Vs.K[0],hi=Vs.w;for(Pi[0]=Vs.K[0][0],Ws=1;Ws<1*ii;++Ws)Pi[Ws]=Tr(wi[hi+Ws],Pi[Ws-1]);for(;Ws<4*Ai;++Ws)Pi[Ws]=0;Vs.K[0]=null,Vs.K[0]=Pi,Fs=1}}Ps=Fs;break;case 2:break;default:je(0)}Ir=Ps}}if(Dr=Dr[0],Or=Or[0],Ir&&Ie(Fr,1)&&!(Ir=1<=(ms=Ie(Fr,4))&&11>=ms)){Mr.a=3;break e}var Ii;if(Ii=Ir)t:{var Ti,ui,Wi,cn=Mr,Vi=Dr,un=Or,Ci=ms,fn=Er,mn=cn.m,Yi=cn.s,Ji=[null],sn=1,wn=0,An=wc[Ci];r:for(;;){if(fn&&Ie(mn,1)){var Xi=Ie(mn,3)+2,Fn=$r(Vi,Xi),da=$r(un,Xi),Aa=Fn*da;if(!di(Fn,da,0,cn,Ji))break r;for(Ji=Ji[0],Yi.xc=Xi,Ti=0;Ti<Aa;++Ti){var Xn=Ji[Ti]>>8&65535;Ji[Ti]=Xn,Xn>=sn&&(sn=Xn+1)}}if(mn.h)break r;for(ui=0;5>ui;++ui){var qi=ql[ui];!ui&&0<Ci&&(qi+=1<<Ci),wn<qi&&(wn=qi)}var kl=Ce(sn*An,Pe),Ql=sn,tc=Ce(Ql,ze);if(tc==null)var Uo=null;else je(65536>=Ql),Uo=tc;var oo=ke(wn);if(Uo==null||oo==null||kl==null){cn.a=1;break r}var Ho=kl;for(Ti=Wi=0;Ti<sn;++Ti){var Nn=Uo[Ti],Pa=Nn.G,Ca=Nn.H,rc=0,Wo=1,sc=0;for(ui=0;5>ui;++ui){qi=ql[ui],Pa[ui]=Ho,Ca[ui]=Wi,!ui&&0<Ci&&(qi+=1<<Ci);i:{var Vo,$l=qi,Go=cn,lo=oo,Uc=Ho,Hc=Wi,Al=0,Zn=Go.m,Wc=Ie(Zn,1);if($e(lo,0,0,$l),Wc){var Vc=Ie(Zn,1)+1,Gc=Ie(Zn,1),ic=Ie(Zn,Gc==0?1:8);lo[ic]=1,Vc==2&&(lo[ic=Ie(Zn,8)]=1);var Ko=1}else{var nc=ke(19),ac=Ie(Zn,4)+4;if(19<ac){Go.a=3;var Yo=0;break i}for(Vo=0;Vo<ac;++Vo)nc[yc[Vo]]=Ie(Zn,3);var Pl=void 0,co=void 0,oc=Go,Kc=nc,Xo=$l,cc=lo,Cl=0,Jn=oc.m,uc=8,dc=Ce(128,Pe);s:for(;Xe(dc,0,7,Kc,19);){if(Ie(Jn,1)){var Yc=2+2*Ie(Jn,3);if((Pl=2+Ie(Jn,Yc))>Xo)break s}else Pl=Xo;for(co=0;co<Xo&&Pl--;){Sr(Jn);var hc=dc[0+(127&lr(Jn))];_r(Jn,Jn.u+hc.g);var Ta=hc.value;if(16>Ta)cc[co++]=Ta,Ta!=0&&(uc=Ta);else{var Xc=Ta==16,fc=Ta-16,Zc=vc[fc],mc=Ie(Jn,gc[fc])+Zc;if(co+mc>Xo)break s;for(var Jc=Xc?uc:0;0<mc--;)cc[co++]=Jc}}Cl=1;break s}Cl||(oc.a=3),Ko=Cl}(Ko=Ko&&!Zn.h)&&(Al=Xe(Uc,Hc,8,lo,$l)),Ko&&Al!=0?Yo=Al:(Go.a=3,Yo=0)}if(Yo==0)break r;if(Wo&&bc[ui]==1&&(Wo=Ho[Wi].g==0),rc+=Ho[Wi].g,Wi+=Yo,3>=ui){var uo,Tl=oo[0];for(uo=1;uo<qi;++uo)oo[uo]>Tl&&(Tl=oo[uo]);sc+=Tl}}if(Nn.nd=Wo,Nn.Qb=0,Wo&&(Nn.qb=(Pa[3][Ca[3]+0].value<<24|Pa[1][Ca[1]+0].value<<16|Pa[2][Ca[2]+0].value)>>>0,rc==0&&256>Pa[0][Ca[0]+0].value&&(Nn.Qb=1,Nn.qb+=Pa[0][Ca[0]+0].value<<8)),Nn.jc=!Nn.Qb&&6>sc,Nn.jc){var Zo,Bn=Nn;for(Zo=0;Zo<Zi;++Zo){var Qn=Zo,ea=Bn.pd[Qn],Jo=Bn.G[0][Bn.H[0]+Qn];256<=Jo.value?(ea.g=Jo.g+256,ea.value=Jo.value):(ea.g=0,ea.value=0,Qn>>=fs(Jo,8,ea),Qn>>=fs(Bn.G[1][Bn.H[1]+Qn],16,ea),Qn>>=fs(Bn.G[2][Bn.H[2]+Qn],0,ea),fs(Bn.G[3][Bn.H[3]+Qn],24,ea))}}}Yi.vc=Ji,Yi.Wb=sn,Yi.Ya=Uo,Yi.yc=kl,Ii=1;break t}Ii=0}if(!(Ir=Ii)){Mr.a=3;break e}if(0<ms){if(Wr.ua=1<<ms,!Ts(Wr.Wa,ms)){Mr.a=1,Ir=0;break e}}else Wr.ua=0;var Il=Mr,pc=Dr,Qc=Or,Dl=Il.s,Ll=Dl.xc;if(Il.c=pc,Il.i=Qc,Dl.md=$r(pc,Ll),Dl.wc=Ll==0?-1:(1<<Ll)-1,Er){Mr.xb=$c;break e}if((ts=ke(Dr*Or))==null){Mr.a=1,Ir=0;break e}Ir=(Ir=Ss(Mr,ts,0,Dr,Or,Or,null))&&!Fr.h;break e}return Ir?(Ar!=null?Ar[0]=ts:(je(ts==null),je(Er)),Mr.$=0,Er||ei(Wr)):ei(Wr),Ir}function fi(nr,fr){var Er=nr.c*nr.i,Mr=Er+fr+16*fr;return je(nr.c<=fr),nr.V=ke(Mr),nr.V==null?(nr.Ta=null,nr.Ua=0,nr.a=1,0):(nr.Ta=nr.V,nr.Ua=nr.Ba+Er+fr,1)}function mi(nr,fr){var Er=nr.C,Mr=fr-Er,Ar=nr.V,Ir=nr.Ba+nr.c*Er;for(je(fr<=nr.l.o);0<Mr;){var Dr=16<Mr?16:Mr,Or=nr.l.ma,Fr=nr.l.width,Wr=Fr*Dr,ts=Or.ca,ms=Or.tb+Fr*Er,ps=nr.Ta,ls=nr.Ua;si(nr,Dr,Ar,Ir),Ui(ps,ls,ts,ms,Wr),ai(Or,Er,Er+Dr,ts,ms,Fr),Mr-=Dr,Ar+=Dr*nr.c,Er+=Dr}je(Er==fr),nr.C=nr.Ma=fr}function pi(){this.ub=this.yd=this.td=this.Rb=0}function xi(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function gi(){this.Fb=this.Bb=this.Cb=0,this.Zb=ke(4),this.Lb=ke(4)}function Ei(){this.Yb=function(){var nr=[];return function fr(Er,Mr,Ar){for(var Ir=Ar[Mr],Dr=0;Dr<Ir&&(Er.push(Ar.length>Mr+1?[]:0),!(Ar.length<Mr+1));Dr++)fr(Er[Dr],Mr+1,Ar)}(nr,0,[3,11]),nr}()}function Si(){this.jb=ke(3),this.Wc=Be([4,8],Ei),this.Xc=Be([4,17],Ei)}function Ni(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new ke(4),this.od=new ke(4)}function vi(){this.ld=this.La=this.dd=this.tc=0}function Ri(){this.Na=this.la=0}function Mi(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ji(){this.ad=ke(384),this.Za=0,this.Ob=ke(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ki(){this.uc=this.M=this.Nb=0,this.wa=Array(new vi),this.Y=0,this.ya=Array(new ji),this.aa=0,this.l=new bi}function _i(){this.y=ke(16),this.f=ke(8),this.ea=ke(8)}function $i(){this.cb=this.a=0,this.sc="",this.m=new Ye,this.Od=new pi,this.Kc=new xi,this.ed=new Ni,this.Qa=new gi,this.Ic=this.$c=this.Aa=0,this.D=new ki,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=Ce(8,Ye),this.ia=0,this.pb=Ce(4,Mi),this.Pa=new Si,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new _i),this.Hd=0,this.rb=Array(new Ri),this.sb=0,this.wa=Array(new vi),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ji),this.L=this.aa=0,this.gd=Be([4,2],vi),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function bi(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ta(){var nr=new $i;return nr!=null&&(nr.a=0,nr.sc="OK",nr.cb=0,nr.Xb=0,no||(no=mo)),nr}function Oi(nr,fr,Er){return nr.a==0&&(nr.a=fr,nr.sc=Er,nr.cb=0),0}function ho(nr,fr,Er){return 3<=Er&&nr[fr+0]==157&&nr[fr+1]==1&&nr[fr+2]==42}function fo(nr,fr){if(nr==null)return 0;if(nr.a=0,nr.sc="OK",fr==null)return Oi(nr,2,"null VP8Io passed to VP8GetHeaders()");var Er=fr.data,Mr=fr.w,Ar=fr.ha;if(4>Ar)return Oi(nr,7,"Truncated header.");var Ir=Er[Mr+0]|Er[Mr+1]<<8|Er[Mr+2]<<16,Dr=nr.Od;if(Dr.Rb=!(1&Ir),Dr.td=Ir>>1&7,Dr.yd=Ir>>4&1,Dr.ub=Ir>>5,3<Dr.td)return Oi(nr,3,"Incorrect keyframe parameters.");if(!Dr.yd)return Oi(nr,4,"Frame not displayable.");Mr+=3,Ar-=3;var Or=nr.Kc;if(Dr.Rb){if(7>Ar)return Oi(nr,7,"cannot parse picture header");if(!ho(Er,Mr,Ar))return Oi(nr,3,"Bad code word");Or.c=16383&(Er[Mr+4]<<8|Er[Mr+3]),Or.Td=Er[Mr+4]>>6,Or.i=16383&(Er[Mr+6]<<8|Er[Mr+5]),Or.Ud=Er[Mr+6]>>6,Mr+=7,Ar-=7,nr.za=Or.c+15>>4,nr.Ub=Or.i+15>>4,fr.width=Or.c,fr.height=Or.i,fr.Da=0,fr.j=0,fr.v=0,fr.va=fr.width,fr.o=fr.height,fr.da=0,fr.ib=fr.width,fr.hb=fr.height,fr.U=fr.width,fr.T=fr.height,$e((Ir=nr.Pa).jb,0,255,Ir.jb.length),je((Ir=nr.Qa)!=null),Ir.Cb=0,Ir.Bb=0,Ir.Fb=1,$e(Ir.Zb,0,0,Ir.Zb.length),$e(Ir.Lb,0,0,Ir.Lb)}if(Dr.ub>Ar)return Oi(nr,7,"bad partition length");Ue(Ir=nr.m,Er,Mr,Dr.ub),Mr+=Dr.ub,Ar-=Dr.ub,Dr.Rb&&(Or.Ld=Nr(Ir),Or.Kd=Nr(Ir)),Or=nr.Qa;var Fr,Wr=nr.Pa;if(je(Ir!=null),je(Or!=null),Or.Cb=Nr(Ir),Or.Cb){if(Or.Bb=Nr(Ir),Nr(Ir)){for(Or.Fb=Nr(Ir),Fr=0;4>Fr;++Fr)Or.Zb[Fr]=Nr(Ir)?Ze(Ir,7):0;for(Fr=0;4>Fr;++Fr)Or.Lb[Fr]=Nr(Ir)?Ze(Ir,6):0}if(Or.Bb)for(Fr=0;3>Fr;++Fr)Wr.jb[Fr]=Nr(Ir)?Ge(Ir,8):255}else Or.Bb=0;if(Ir.Ka)return Oi(nr,3,"cannot parse segment header");if((Or=nr.ed).zd=Nr(Ir),Or.Tb=Ge(Ir,6),Or.wb=Ge(Ir,3),Or.Pc=Nr(Ir),Or.Pc&&Nr(Ir)){for(Wr=0;4>Wr;++Wr)Nr(Ir)&&(Or.vd[Wr]=Ze(Ir,6));for(Wr=0;4>Wr;++Wr)Nr(Ir)&&(Or.od[Wr]=Ze(Ir,6))}if(nr.L=Or.Tb==0?0:Or.zd?1:2,Ir.Ka)return Oi(nr,3,"cannot parse filter header");var ts=Ar;if(Ar=Fr=Mr,Mr=Fr+ts,Or=ts,nr.Xb=(1<<Ge(nr.m,2))-1,ts<3*(Wr=nr.Xb))Er=7;else{for(Fr+=3*Wr,Or-=3*Wr,ts=0;ts<Wr;++ts){var ms=Er[Ar+0]|Er[Ar+1]<<8|Er[Ar+2]<<16;ms>Or&&(ms=Or),Ue(nr.Jc[+ts],Er,Fr,ms),Fr+=ms,Or-=ms,Ar+=3}Ue(nr.Jc[+Wr],Er,Fr,Or),Er=Fr<Mr?0:5}if(Er!=0)return Oi(nr,Er,"cannot parse partitions");for(Er=Ge(Fr=nr.m,7),Ar=Nr(Fr)?Ze(Fr,4):0,Mr=Nr(Fr)?Ze(Fr,4):0,Or=Nr(Fr)?Ze(Fr,4):0,Wr=Nr(Fr)?Ze(Fr,4):0,Fr=Nr(Fr)?Ze(Fr,4):0,ts=nr.Qa,ms=0;4>ms;++ms){if(ts.Cb){var ps=ts.Zb[ms];ts.Fb||(ps+=Er)}else{if(0<ms){nr.pb[ms]=nr.pb[0];continue}ps=Er}var ls=nr.pb[ms];ls.Sc[0]=Sl[dn(ps+Ar,127)],ls.Sc[1]=Nl[dn(ps+0,127)],ls.Eb[0]=2*Sl[dn(ps+Mr,127)],ls.Eb[1]=101581*Nl[dn(ps+Or,127)]>>16,8>ls.Eb[1]&&(ls.Eb[1]=8),ls.Qc[0]=Sl[dn(ps+Wr,117)],ls.Qc[1]=Nl[dn(ps+Fr,127)],ls.lc=ps+Fr}if(!Dr.Rb)return Oi(nr,4,"Not a key frame.");for(Nr(Ir),Dr=nr.Pa,Er=0;4>Er;++Er){for(Ar=0;8>Ar;++Ar)for(Mr=0;3>Mr;++Mr)for(Or=0;11>Or;++Or)Wr=kr(Ir,Mc[Er][Ar][Mr][Or])?Ge(Ir,8):Sc[Er][Ar][Mr][Or],Dr.Wc[Er][Ar].Yb[Mr][Or]=Wr;for(Ar=0;17>Ar;++Ar)Dr.Xc[Er][Ar]=Dr.Wc[Er][kc[Ar]]}return nr.kc=Nr(Ir),nr.kc&&(nr.Bd=Ge(Ir,8)),nr.cb=1}function mo(nr,fr,Er,Mr,Ar,Ir,Dr){var Or=fr[Ar].Yb[Er];for(Er=0;16>Ar;++Ar){if(!kr(nr,Or[Er+0]))return Ar;for(;!kr(nr,Or[Er+1]);)if(Or=fr[++Ar].Yb[0],Er=0,Ar==16)return 16;var Fr=fr[Ar+1].Yb;if(kr(nr,Or[Er+2])){var Wr=nr,ts=0;if(kr(Wr,(ps=Or)[(ms=Er)+3]))if(kr(Wr,ps[ms+6])){for(Or=0,ms=2*(ts=kr(Wr,ps[ms+8]))+(ps=kr(Wr,ps[ms+9+ts])),ts=0,ps=Rc[ms];ps[Or];++Or)ts+=ts+kr(Wr,ps[Or]);ts+=3+(8<<ms)}else kr(Wr,ps[ms+7])?(ts=7+2*kr(Wr,165),ts+=kr(Wr,145)):ts=5+kr(Wr,159);else ts=kr(Wr,ps[ms+4])?3+kr(Wr,ps[ms+5]):2;Or=Fr[2]}else ts=1,Or=Fr[1];Fr=Dr+_c[Ar],0>(Wr=nr).b&&wr(Wr);var ms,ps=Wr.b,ls=(ms=Wr.Ca>>1)-(Wr.I>>ps)>>31;--Wr.b,Wr.Ca+=ls,Wr.Ca|=1,Wr.I-=(ms+1&ls)<<ps,Ir[Fr]=((ts^ls)-ls)*Mr[(0<Ar)+0]}return 16}function Ia(nr){var fr=nr.rb[nr.sb-1];fr.la=0,fr.Na=0,$e(nr.zc,0,0,nr.zc.length),nr.ja=0}function Qo(nr,fr){if(nr==null)return 0;if(fr==null)return Oi(nr,2,"NULL VP8Io parameter in VP8Decode().");if(!nr.cb&&!fo(nr,fr))return 0;if(je(nr.cb),fr.ac==null||fr.ac(fr)){fr.ob&&(nr.L=0);var Er=zo[nr.L];if(nr.L==2?(nr.yb=0,nr.zb=0):(nr.yb=fr.v-Er>>4,nr.zb=fr.j-Er>>4,0>nr.yb&&(nr.yb=0),0>nr.zb&&(nr.zb=0)),nr.Va=fr.o+15+Er>>4,nr.Hb=fr.va+15+Er>>4,nr.Hb>nr.za&&(nr.Hb=nr.za),nr.Va>nr.Ub&&(nr.Va=nr.Ub),0<nr.L){var Mr=nr.ed;for(Er=0;4>Er;++Er){var Ar;if(nr.Qa.Cb){var Ir=nr.Qa.Lb[Er];nr.Qa.Fb||(Ir+=Mr.Tb)}else Ir=Mr.Tb;for(Ar=0;1>=Ar;++Ar){var Dr=nr.gd[Er][Ar],Or=Ir;if(Mr.Pc&&(Or+=Mr.vd[0],Ar&&(Or+=Mr.od[0])),0<(Or=0>Or?0:63<Or?63:Or)){var Fr=Or;0<Mr.wb&&(Fr=4<Mr.wb?Fr>>2:Fr>>1)>9-Mr.wb&&(Fr=9-Mr.wb),1>Fr&&(Fr=1),Dr.dd=Fr,Dr.tc=2*Or+Fr,Dr.ld=40<=Or?2:15<=Or?1:0}else Dr.tc=0;Dr.La=Ar}}}Er=0}else Oi(nr,6,"Frame setup failed"),Er=nr.a;if(Er=Er==0){if(Er){nr.$c=0,0<nr.Aa||(nr.Ic=zc);e:{Er=nr.Ic,Mr=4*(Fr=nr.za);var Wr=32*Fr,ts=Fr+1,ms=0<nr.L?Fr*(0<nr.Aa?2:1):0,ps=(nr.Aa==2?2:1)*Fr;if((Dr=Mr+832+(Ar=3*(16*Er+zo[nr.L])/2*Wr)+(Ir=nr.Fa!=null&&0<nr.Fa.length?nr.Kc.c*nr.Kc.i:0))!=Dr)Er=0;else{if(Dr>nr.Vb){if(nr.Vb=0,nr.Ec=ke(Dr),nr.Fc=0,nr.Ec==null){Er=Oi(nr,1,"no memory during frame initialization.");break e}nr.Vb=Dr}Dr=nr.Ec,Or=nr.Fc,nr.Ac=Dr,nr.Bc=Or,Or+=Mr,nr.Gd=Ce(Wr,_i),nr.Hd=0,nr.rb=Ce(ts+1,Ri),nr.sb=1,nr.wa=ms?Ce(ms,vi):null,nr.Y=0,nr.D.Nb=0,nr.D.wa=nr.wa,nr.D.Y=nr.Y,0<nr.Aa&&(nr.D.Y+=Fr),je(!0),nr.oc=Dr,nr.pc=Or,Or+=832,nr.ya=Ce(ps,ji),nr.aa=0,nr.D.ya=nr.ya,nr.D.aa=nr.aa,nr.Aa==2&&(nr.D.aa+=Fr),nr.R=16*Fr,nr.B=8*Fr,Fr=(Wr=zo[nr.L])*nr.R,Wr=Wr/2*nr.B,nr.sa=Dr,nr.ta=Or+Fr,nr.qa=nr.sa,nr.ra=nr.ta+16*Er*nr.R+Wr,nr.Ha=nr.qa,nr.Ia=nr.ra+8*Er*nr.B+Wr,nr.$c=0,Or+=Ar,nr.mb=Ir?Dr:null,nr.nb=Ir?Or:null,je(Or+Ir<=nr.Fc+nr.Vb),Ia(nr),$e(nr.Ac,nr.Bc,0,Mr),Er=1}}if(Er){if(fr.ka=0,fr.y=nr.sa,fr.O=nr.ta,fr.f=nr.qa,fr.N=nr.ra,fr.ea=nr.Ha,fr.Vd=nr.Ia,fr.fa=nr.R,fr.Rc=nr.B,fr.F=null,fr.J=0,!Co){for(Er=-255;255>=Er;++Er)Gi[255+Er]=0>Er?-Er:Er;for(Er=-1020;1020>=Er;++Er)Ln[1020+Er]=-128>Er?-128:127<Er?127:Er;for(Er=-112;112>=Er;++Er)io[112+Er]=-16>Er?-16:15<Er?15:Er;for(Er=-255;510>=Er;++Er)$a[255+Er]=0>Er?0:255<Er?255:Er;Co=1}Na=rl,Dn=el,eo=xo,rn=tl,xn=go,zi=po,Ma=qa,Po=ia,ro=vl,oa=za,la=gl,Vn=ga,ca=Ua,ka=So,ua=_o,Gn=kn,so=Cn,gn=xl,Sn[0]=Mn,Sn[1]=il,Sn[2]=ll,Sn[3]=cl,Sn[4]=yo,Sn[5]=pa,Sn[6]=jo,Sn[7]=Oa,Sn[8]=dl,Sn[9]=ul,Kn[0]=vo,Kn[1]=al,Kn[2]=Pn,Kn[3]=fa,Kn[4]=Qi,Kn[5]=ol,Kn[6]=bo,On[0]=qn,On[1]=nl,On[2]=ml,On[3]=Fa,On[4]=sa,On[5]=pl,On[6]=Ba,Er=1}else Er=0}Er&&(Er=function(ls,Os){for(ls.M=0;ls.M<ls.Va;++ls.M){var Ps,rs=ls.Jc[ls.M&ls.Xb],as=ls.m,Ds=ls;for(Ps=0;Ps<Ds.za;++Ps){var Fs=as,Ls=Ds,Ks=Ls.Ac,Ws=Ls.Bc+4*Ps,ii=Ls.zc,Vs=Ls.ya[Ls.aa+Ps];if(Ls.Qa.Bb?Vs.$b=kr(Fs,Ls.Pa.jb[0])?2+kr(Fs,Ls.Pa.jb[2]):kr(Fs,Ls.Pa.jb[1]):Vs.$b=0,Ls.kc&&(Vs.Ad=kr(Fs,Ls.Bd)),Vs.Za=!kr(Fs,145)+0,Vs.Za){var Ai=Vs.Ob,Pi=0;for(Ls=0;4>Ls;++Ls){var wi,hi=ii[0+Ls];for(wi=0;4>wi;++wi){hi=Nc[Ks[Ws+wi]][hi];for(var Ii=Ul[kr(Fs,hi[0])];0<Ii;)Ii=Ul[2*Ii+kr(Fs,hi[Ii])];hi=-Ii,Ks[Ws+wi]=hi}Me(Ai,Pi,Ks,Ws,4),Pi+=4,ii[0+Ls]=hi}}else hi=kr(Fs,156)?kr(Fs,128)?1:3:kr(Fs,163)?2:0,Vs.Ob[0]=hi,$e(Ks,Ws,hi,4),$e(ii,0,hi,4);Vs.Dd=kr(Fs,142)?kr(Fs,114)?kr(Fs,183)?1:3:2:0}if(Ds.m.Ka)return Oi(ls,7,"Premature end-of-partition0 encountered.");for(;ls.ja<ls.za;++ls.ja){if(Ds=rs,Fs=(as=ls).rb[as.sb-1],Ks=as.rb[as.sb+as.ja],Ps=as.ya[as.aa+as.ja],Ws=as.kc?Ps.Ad:0)Fs.la=Ks.la=0,Ps.Za||(Fs.Na=Ks.Na=0),Ps.Hc=0,Ps.Gc=0,Ps.ia=0;else{var Ti,ui;if(Fs=Ks,Ks=Ds,Ws=as.Pa.Xc,ii=as.ya[as.aa+as.ja],Vs=as.pb[ii.$b],Ls=ii.ad,Ai=0,Pi=as.rb[as.sb-1],hi=wi=0,$e(Ls,Ai,0,384),ii.Za)var Wi=0,cn=Ws[3];else{Ii=ke(16);var Vi=Fs.Na+Pi.Na;if(Vi=no(Ks,Ws[1],Vi,Vs.Eb,0,Ii,0),Fs.Na=Pi.Na=(0<Vi)+0,1<Vi)Na(Ii,0,Ls,Ai);else{var un=Ii[0]+3>>3;for(Ii=0;256>Ii;Ii+=16)Ls[Ai+Ii]=un}Wi=1,cn=Ws[0]}var Ci=15&Fs.la,fn=15&Pi.la;for(Ii=0;4>Ii;++Ii){var mn=1&fn;for(un=ui=0;4>un;++un)Ci=Ci>>1|(mn=(Vi=no(Ks,cn,Vi=mn+(1&Ci),Vs.Sc,Wi,Ls,Ai))>Wi)<<7,ui=ui<<2|(3<Vi?3:1<Vi?2:Ls[Ai+0]!=0),Ai+=16;Ci>>=4,fn=fn>>1|mn<<7,wi=(wi<<8|ui)>>>0}for(cn=Ci,Wi=fn>>4,Ti=0;4>Ti;Ti+=2){for(ui=0,Ci=Fs.la>>4+Ti,fn=Pi.la>>4+Ti,Ii=0;2>Ii;++Ii){for(mn=1&fn,un=0;2>un;++un)Vi=mn+(1&Ci),Ci=Ci>>1|(mn=0<(Vi=no(Ks,Ws[2],Vi,Vs.Qc,0,Ls,Ai)))<<3,ui=ui<<2|(3<Vi?3:1<Vi?2:Ls[Ai+0]!=0),Ai+=16;Ci>>=2,fn=fn>>1|mn<<5}hi|=ui<<4*Ti,cn|=Ci<<4<<Ti,Wi|=(240&fn)<<Ti}Fs.la=cn,Pi.la=Wi,ii.Hc=wi,ii.Gc=hi,ii.ia=43690&hi?0:Vs.ia,Ws=!(wi|hi)}if(0<as.L&&(as.wa[as.Y+as.ja]=as.gd[Ps.$b][Ps.Za],as.wa[as.Y+as.ja].La|=!Ws),Ds.Ka)return Oi(ls,7,"Premature end-of-file encountered.")}if(Ia(ls),as=Os,Ds=1,Ps=(rs=ls).D,Fs=0<rs.L&&rs.M>=rs.zb&&rs.M<=rs.Va,rs.Aa==0)e:{if(Ps.M=rs.M,Ps.uc=Fs,Ya(rs,Ps),Ds=1,Ps=(ui=rs.D).Nb,Fs=(hi=zo[rs.L])*rs.R,Ks=hi/2*rs.B,Ii=16*Ps*rs.R,un=8*Ps*rs.B,Ws=rs.sa,ii=rs.ta-Fs+Ii,Vs=rs.qa,Ls=rs.ra-Ks+un,Ai=rs.Ha,Pi=rs.Ia-Ks+un,fn=(Ci=ui.M)==0,wi=Ci>=rs.Va-1,rs.Aa==2&&Ya(rs,ui),ui.uc)for(mn=(Vi=rs).D.M,je(Vi.D.uc),ui=Vi.yb;ui<Vi.Hb;++ui){Wi=ui,cn=mn;var Yi=(Ji=(qi=Vi).D).Nb;Ti=qi.R;var Ji=Ji.wa[Ji.Y+Wi],sn=qi.sa,wn=qi.ta+16*Yi*Ti+16*Wi,An=Ji.dd,Xi=Ji.tc;if(Xi!=0)if(je(3<=Xi),qi.L==1)0<Wi&&Gn(sn,wn,Ti,Xi+4),Ji.La&&gn(sn,wn,Ti,Xi),0<cn&&ua(sn,wn,Ti,Xi+4),Ji.La&&so(sn,wn,Ti,Xi);else{var Fn=qi.B,da=qi.qa,Aa=qi.ra+8*Yi*Fn+8*Wi,Xn=qi.Ha,qi=qi.Ia+8*Yi*Fn+8*Wi;Yi=Ji.ld,0<Wi&&(Po(sn,wn,Ti,Xi+4,An,Yi),oa(da,Aa,Xn,qi,Fn,Xi+4,An,Yi)),Ji.La&&(Vn(sn,wn,Ti,Xi,An,Yi),ka(da,Aa,Xn,qi,Fn,Xi,An,Yi)),0<cn&&(Ma(sn,wn,Ti,Xi+4,An,Yi),ro(da,Aa,Xn,qi,Fn,Xi+4,An,Yi)),Ji.La&&(la(sn,wn,Ti,Xi,An,Yi),ca(da,Aa,Xn,qi,Fn,Xi,An,Yi))}}if(rs.ia&&alert("todo:DitherRow"),as.put!=null){if(ui=16*Ci,Ci=16*(Ci+1),fn?(as.y=rs.sa,as.O=rs.ta+Ii,as.f=rs.qa,as.N=rs.ra+un,as.ea=rs.Ha,as.W=rs.Ia+un):(ui-=hi,as.y=Ws,as.O=ii,as.f=Vs,as.N=Ls,as.ea=Ai,as.W=Pi),wi||(Ci-=hi),Ci>as.o&&(Ci=as.o),as.F=null,as.J=null,rs.Fa!=null&&0<rs.Fa.length&&ui<Ci&&(as.J=Ga(rs,as,ui,Ci-ui),as.F=rs.mb,as.F==null&&as.F.length==0)){Ds=Oi(rs,3,"Could not decode alpha data.");break e}ui<as.j&&(hi=as.j-ui,ui=as.j,je(!(1&hi)),as.O+=rs.R*hi,as.N+=rs.B*(hi>>1),as.W+=rs.B*(hi>>1),as.F!=null&&(as.J+=as.width*hi)),ui<Ci&&(as.O+=as.v,as.N+=as.v>>1,as.W+=as.v>>1,as.F!=null&&(as.J+=as.v),as.ka=ui-as.j,as.U=as.va-as.v,as.T=Ci-ui,Ds=as.put(as))}Ps+1!=rs.Ic||wi||(Me(rs.sa,rs.ta-Fs,Ws,ii+16*rs.R,Fs),Me(rs.qa,rs.ra-Ks,Vs,Ls+8*rs.B,Ks),Me(rs.Ha,rs.Ia-Ks,Ai,Pi+8*rs.B,Ks))}if(!Ds)return Oi(ls,6,"Output aborted.")}return 1}(nr,fr)),fr.bc!=null&&fr.bc(fr),Er&=1}return Er?(nr.cb=0,Er):0}function En(nr,fr,Er,Mr,Ar){Ar=nr[fr+Er+32*Mr]+(Ar>>3),nr[fr+Er+32*Mr]=-256&Ar?0>Ar?0:255:Ar}function ha(nr,fr,Er,Mr,Ar,Ir){En(nr,fr,0,Er,Mr+Ar),En(nr,fr,1,Er,Mr+Ir),En(nr,fr,2,Er,Mr-Ir),En(nr,fr,3,Er,Mr-Ar)}function nn(nr){return(20091*nr>>16)+nr}function Da(nr,fr,Er,Mr){var Ar,Ir=0,Dr=ke(16);for(Ar=0;4>Ar;++Ar){var Or=nr[fr+0]+nr[fr+8],Fr=nr[fr+0]-nr[fr+8],Wr=(35468*nr[fr+4]>>16)-nn(nr[fr+12]),ts=nn(nr[fr+4])+(35468*nr[fr+12]>>16);Dr[Ir+0]=Or+ts,Dr[Ir+1]=Fr+Wr,Dr[Ir+2]=Fr-Wr,Dr[Ir+3]=Or-ts,Ir+=4,fr++}for(Ar=Ir=0;4>Ar;++Ar)Or=(nr=Dr[Ir+0]+4)+Dr[Ir+8],Fr=nr-Dr[Ir+8],Wr=(35468*Dr[Ir+4]>>16)-nn(Dr[Ir+12]),En(Er,Mr,0,0,Or+(ts=nn(Dr[Ir+4])+(35468*Dr[Ir+12]>>16))),En(Er,Mr,1,0,Fr+Wr),En(Er,Mr,2,0,Fr-Wr),En(Er,Mr,3,0,Or-ts),Ir++,Mr+=32}function po(nr,fr,Er,Mr){var Ar=nr[fr+0]+4,Ir=35468*nr[fr+4]>>16,Dr=nn(nr[fr+4]),Or=35468*nr[fr+1]>>16;ha(Er,Mr,0,Ar+Dr,nr=nn(nr[fr+1]),Or),ha(Er,Mr,1,Ar+Ir,nr,Or),ha(Er,Mr,2,Ar-Ir,nr,Or),ha(Er,Mr,3,Ar-Dr,nr,Or)}function el(nr,fr,Er,Mr,Ar){Da(nr,fr,Er,Mr),Ar&&Da(nr,fr+16,Er,Mr+4)}function xo(nr,fr,Er,Mr){Dn(nr,fr+0,Er,Mr,1),Dn(nr,fr+32,Er,Mr+128,1)}function tl(nr,fr,Er,Mr){var Ar;for(nr=nr[fr+0]+4,Ar=0;4>Ar;++Ar)for(fr=0;4>fr;++fr)En(Er,Mr,fr,Ar,nr)}function go(nr,fr,Er,Mr){nr[fr+0]&&rn(nr,fr+0,Er,Mr),nr[fr+16]&&rn(nr,fr+16,Er,Mr+4),nr[fr+32]&&rn(nr,fr+32,Er,Mr+128),nr[fr+48]&&rn(nr,fr+48,Er,Mr+128+4)}function rl(nr,fr,Er,Mr){var Ar,Ir=ke(16);for(Ar=0;4>Ar;++Ar){var Dr=nr[fr+0+Ar]+nr[fr+12+Ar],Or=nr[fr+4+Ar]+nr[fr+8+Ar],Fr=nr[fr+4+Ar]-nr[fr+8+Ar],Wr=nr[fr+0+Ar]-nr[fr+12+Ar];Ir[0+Ar]=Dr+Or,Ir[8+Ar]=Dr-Or,Ir[4+Ar]=Wr+Fr,Ir[12+Ar]=Wr-Fr}for(Ar=0;4>Ar;++Ar)Dr=(nr=Ir[0+4*Ar]+3)+Ir[3+4*Ar],Or=Ir[1+4*Ar]+Ir[2+4*Ar],Fr=Ir[1+4*Ar]-Ir[2+4*Ar],Wr=nr-Ir[3+4*Ar],Er[Mr+0]=Dr+Or>>3,Er[Mr+16]=Wr+Fr>>3,Er[Mr+32]=Dr-Or>>3,Er[Mr+48]=Wr-Fr>>3,Mr+=64}function La(nr,fr,Er){var Mr,Ar=fr-32,Ir=hn,Dr=255-nr[Ar-1];for(Mr=0;Mr<Er;++Mr){var Or,Fr=Ir,Wr=Dr+nr[fr-1];for(Or=0;Or<Er;++Or)nr[fr+Or]=Fr[Wr+nr[Ar+Or]];fr+=32}}function il(nr,fr){La(nr,fr,4)}function nl(nr,fr){La(nr,fr,8)}function al(nr,fr){La(nr,fr,16)}function Pn(nr,fr){var Er;for(Er=0;16>Er;++Er)Me(nr,fr+32*Er,nr,fr-32,16)}function fa(nr,fr){var Er;for(Er=16;0<Er;--Er)$e(nr,fr,nr[fr-1],16),fr+=32}function ma(nr,fr,Er){var Mr;for(Mr=0;16>Mr;++Mr)$e(fr,Er+32*Mr,nr,16)}function vo(nr,fr){var Er,Mr=16;for(Er=0;16>Er;++Er)Mr+=nr[fr-1+32*Er]+nr[fr+Er-32];ma(Mr>>5,nr,fr)}function Qi(nr,fr){var Er,Mr=8;for(Er=0;16>Er;++Er)Mr+=nr[fr-1+32*Er];ma(Mr>>4,nr,fr)}function ol(nr,fr){var Er,Mr=8;for(Er=0;16>Er;++Er)Mr+=nr[fr+Er-32];ma(Mr>>4,nr,fr)}function bo(nr,fr){ma(128,nr,fr)}function oi(nr,fr,Er){return nr+2*fr+Er+2>>2}function ll(nr,fr){var Er,Mr=fr-32;for(Mr=new Uint8Array([oi(nr[Mr-1],nr[Mr+0],nr[Mr+1]),oi(nr[Mr+0],nr[Mr+1],nr[Mr+2]),oi(nr[Mr+1],nr[Mr+2],nr[Mr+3]),oi(nr[Mr+2],nr[Mr+3],nr[Mr+4])]),Er=0;4>Er;++Er)Me(nr,fr+32*Er,Mr,0,Mr.length)}function cl(nr,fr){var Er=nr[fr-1],Mr=nr[fr-1+32],Ar=nr[fr-1+64],Ir=nr[fr-1+96];Lr(nr,fr+0,16843009*oi(nr[fr-1-32],Er,Mr)),Lr(nr,fr+32,16843009*oi(Er,Mr,Ar)),Lr(nr,fr+64,16843009*oi(Mr,Ar,Ir)),Lr(nr,fr+96,16843009*oi(Ar,Ir,Ir))}function Mn(nr,fr){var Er,Mr=4;for(Er=0;4>Er;++Er)Mr+=nr[fr+Er-32]+nr[fr-1+32*Er];for(Mr>>=3,Er=0;4>Er;++Er)$e(nr,fr+32*Er,Mr,4)}function yo(nr,fr){var Er=nr[fr-1+0],Mr=nr[fr-1+32],Ar=nr[fr-1+64],Ir=nr[fr-1-32],Dr=nr[fr+0-32],Or=nr[fr+1-32],Fr=nr[fr+2-32],Wr=nr[fr+3-32];nr[fr+0+96]=oi(Mr,Ar,nr[fr-1+96]),nr[fr+1+96]=nr[fr+0+64]=oi(Er,Mr,Ar),nr[fr+2+96]=nr[fr+1+64]=nr[fr+0+32]=oi(Ir,Er,Mr),nr[fr+3+96]=nr[fr+2+64]=nr[fr+1+32]=nr[fr+0+0]=oi(Dr,Ir,Er),nr[fr+3+64]=nr[fr+2+32]=nr[fr+1+0]=oi(Or,Dr,Ir),nr[fr+3+32]=nr[fr+2+0]=oi(Fr,Or,Dr),nr[fr+3+0]=oi(Wr,Fr,Or)}function jo(nr,fr){var Er=nr[fr+1-32],Mr=nr[fr+2-32],Ar=nr[fr+3-32],Ir=nr[fr+4-32],Dr=nr[fr+5-32],Or=nr[fr+6-32],Fr=nr[fr+7-32];nr[fr+0+0]=oi(nr[fr+0-32],Er,Mr),nr[fr+1+0]=nr[fr+0+32]=oi(Er,Mr,Ar),nr[fr+2+0]=nr[fr+1+32]=nr[fr+0+64]=oi(Mr,Ar,Ir),nr[fr+3+0]=nr[fr+2+32]=nr[fr+1+64]=nr[fr+0+96]=oi(Ar,Ir,Dr),nr[fr+3+32]=nr[fr+2+64]=nr[fr+1+96]=oi(Ir,Dr,Or),nr[fr+3+64]=nr[fr+2+96]=oi(Dr,Or,Fr),nr[fr+3+96]=oi(Or,Fr,Fr)}function pa(nr,fr){var Er=nr[fr-1+0],Mr=nr[fr-1+32],Ar=nr[fr-1+64],Ir=nr[fr-1-32],Dr=nr[fr+0-32],Or=nr[fr+1-32],Fr=nr[fr+2-32],Wr=nr[fr+3-32];nr[fr+0+0]=nr[fr+1+64]=Ir+Dr+1>>1,nr[fr+1+0]=nr[fr+2+64]=Dr+Or+1>>1,nr[fr+2+0]=nr[fr+3+64]=Or+Fr+1>>1,nr[fr+3+0]=Fr+Wr+1>>1,nr[fr+0+96]=oi(Ar,Mr,Er),nr[fr+0+64]=oi(Mr,Er,Ir),nr[fr+0+32]=nr[fr+1+96]=oi(Er,Ir,Dr),nr[fr+1+32]=nr[fr+2+96]=oi(Ir,Dr,Or),nr[fr+2+32]=nr[fr+3+96]=oi(Dr,Or,Fr),nr[fr+3+32]=oi(Or,Fr,Wr)}function Oa(nr,fr){var Er=nr[fr+0-32],Mr=nr[fr+1-32],Ar=nr[fr+2-32],Ir=nr[fr+3-32],Dr=nr[fr+4-32],Or=nr[fr+5-32],Fr=nr[fr+6-32],Wr=nr[fr+7-32];nr[fr+0+0]=Er+Mr+1>>1,nr[fr+1+0]=nr[fr+0+64]=Mr+Ar+1>>1,nr[fr+2+0]=nr[fr+1+64]=Ar+Ir+1>>1,nr[fr+3+0]=nr[fr+2+64]=Ir+Dr+1>>1,nr[fr+0+32]=oi(Er,Mr,Ar),nr[fr+1+32]=nr[fr+0+96]=oi(Mr,Ar,Ir),nr[fr+2+32]=nr[fr+1+96]=oi(Ar,Ir,Dr),nr[fr+3+32]=nr[fr+2+96]=oi(Ir,Dr,Or),nr[fr+3+64]=oi(Dr,Or,Fr),nr[fr+3+96]=oi(Or,Fr,Wr)}function ul(nr,fr){var Er=nr[fr-1+0],Mr=nr[fr-1+32],Ar=nr[fr-1+64],Ir=nr[fr-1+96];nr[fr+0+0]=Er+Mr+1>>1,nr[fr+2+0]=nr[fr+0+32]=Mr+Ar+1>>1,nr[fr+2+32]=nr[fr+0+64]=Ar+Ir+1>>1,nr[fr+1+0]=oi(Er,Mr,Ar),nr[fr+3+0]=nr[fr+1+32]=oi(Mr,Ar,Ir),nr[fr+3+32]=nr[fr+1+64]=oi(Ar,Ir,Ir),nr[fr+3+64]=nr[fr+2+64]=nr[fr+0+96]=nr[fr+1+96]=nr[fr+2+96]=nr[fr+3+96]=Ir}function dl(nr,fr){var Er=nr[fr-1+0],Mr=nr[fr-1+32],Ar=nr[fr-1+64],Ir=nr[fr-1+96],Dr=nr[fr-1-32],Or=nr[fr+0-32],Fr=nr[fr+1-32],Wr=nr[fr+2-32];nr[fr+0+0]=nr[fr+2+32]=Er+Dr+1>>1,nr[fr+0+32]=nr[fr+2+64]=Mr+Er+1>>1,nr[fr+0+64]=nr[fr+2+96]=Ar+Mr+1>>1,nr[fr+0+96]=Ir+Ar+1>>1,nr[fr+3+0]=oi(Or,Fr,Wr),nr[fr+2+0]=oi(Dr,Or,Fr),nr[fr+1+0]=nr[fr+3+32]=oi(Er,Dr,Or),nr[fr+1+32]=nr[fr+3+64]=oi(Mr,Er,Dr),nr[fr+1+64]=nr[fr+3+96]=oi(Ar,Mr,Er),nr[fr+1+96]=oi(Ir,Ar,Mr)}function ml(nr,fr){var Er;for(Er=0;8>Er;++Er)Me(nr,fr+32*Er,nr,fr-32,8)}function Fa(nr,fr){var Er;for(Er=0;8>Er;++Er)$e(nr,fr,nr[fr-1],8),fr+=32}function ra(nr,fr,Er){var Mr;for(Mr=0;8>Mr;++Mr)$e(fr,Er+32*Mr,nr,8)}function qn(nr,fr){var Er,Mr=8;for(Er=0;8>Er;++Er)Mr+=nr[fr+Er-32]+nr[fr-1+32*Er];ra(Mr>>4,nr,fr)}function pl(nr,fr){var Er,Mr=4;for(Er=0;8>Er;++Er)Mr+=nr[fr+Er-32];ra(Mr>>3,nr,fr)}function sa(nr,fr){var Er,Mr=4;for(Er=0;8>Er;++Er)Mr+=nr[fr-1+32*Er];ra(Mr>>3,nr,fr)}function Ba(nr,fr){ra(128,nr,fr)}function xa(nr,fr,Er){var Mr=nr[fr-Er],Ar=nr[fr+0],Ir=3*(Ar-Mr)+jl[1020+nr[fr-2*Er]-nr[fr+Er]],Dr=To[112+(Ir+4>>3)];nr[fr-Er]=hn[255+Mr+To[112+(Ir+3>>3)]],nr[fr+0]=hn[255+Ar-Dr]}function wo(nr,fr,Er,Mr){var Ar=nr[fr+0],Ir=nr[fr+Er];return yn[255+nr[fr-2*Er]-nr[fr-Er]]>Mr||yn[255+Ir-Ar]>Mr}function Eo(nr,fr,Er,Mr){return 4*yn[255+nr[fr-Er]-nr[fr+0]]+yn[255+nr[fr-2*Er]-nr[fr+Er]]<=Mr}function Ro(nr,fr,Er,Mr,Ar){var Ir=nr[fr-3*Er],Dr=nr[fr-2*Er],Or=nr[fr-Er],Fr=nr[fr+0],Wr=nr[fr+Er],ts=nr[fr+2*Er],ms=nr[fr+3*Er];return 4*yn[255+Or-Fr]+yn[255+Dr-Wr]>Mr?0:yn[255+nr[fr-4*Er]-Ir]<=Ar&&yn[255+Ir-Dr]<=Ar&&yn[255+Dr-Or]<=Ar&&yn[255+ms-ts]<=Ar&&yn[255+ts-Wr]<=Ar&&yn[255+Wr-Fr]<=Ar}function _o(nr,fr,Er,Mr){var Ar=2*Mr+1;for(Mr=0;16>Mr;++Mr)Eo(nr,fr+Mr,Er,Ar)&&xa(nr,fr+Mr,Er)}function kn(nr,fr,Er,Mr){var Ar=2*Mr+1;for(Mr=0;16>Mr;++Mr)Eo(nr,fr+Mr*Er,1,Ar)&&xa(nr,fr+Mr*Er,1)}function Cn(nr,fr,Er,Mr){var Ar;for(Ar=3;0<Ar;--Ar)_o(nr,fr+=4*Er,Er,Mr)}function xl(nr,fr,Er,Mr){var Ar;for(Ar=3;0<Ar;--Ar)kn(nr,fr+=4,Er,Mr)}function zn(nr,fr,Er,Mr,Ar,Ir,Dr,Or){for(Ir=2*Ir+1;0<Ar--;){if(Ro(nr,fr,Er,Ir,Dr))if(wo(nr,fr,Er,Or))xa(nr,fr,Er);else{var Fr=nr,Wr=fr,ts=Er,ms=Fr[Wr-2*ts],ps=Fr[Wr-ts],ls=Fr[Wr+0],Os=Fr[Wr+ts],Ps=Fr[Wr+2*ts],rs=27*(Ds=jl[1020+3*(ls-ps)+jl[1020+ms-Os]])+63>>7,as=18*Ds+63>>7,Ds=9*Ds+63>>7;Fr[Wr-3*ts]=hn[255+Fr[Wr-3*ts]+Ds],Fr[Wr-2*ts]=hn[255+ms+as],Fr[Wr-ts]=hn[255+ps+rs],Fr[Wr+0]=hn[255+ls-rs],Fr[Wr+ts]=hn[255+Os-as],Fr[Wr+2*ts]=hn[255+Ps-Ds]}fr+=Mr}}function Rn(nr,fr,Er,Mr,Ar,Ir,Dr,Or){for(Ir=2*Ir+1;0<Ar--;){if(Ro(nr,fr,Er,Ir,Dr))if(wo(nr,fr,Er,Or))xa(nr,fr,Er);else{var Fr=nr,Wr=fr,ts=Er,ms=Fr[Wr-ts],ps=Fr[Wr+0],ls=Fr[Wr+ts],Os=To[112+((Ps=3*(ps-ms))+4>>3)],Ps=To[112+(Ps+3>>3)],rs=Os+1>>1;Fr[Wr-2*ts]=hn[255+Fr[Wr-2*ts]+rs],Fr[Wr-ts]=hn[255+ms+Ps],Fr[Wr+0]=hn[255+ps-Os],Fr[Wr+ts]=hn[255+ls-rs]}fr+=Mr}}function qa(nr,fr,Er,Mr,Ar,Ir){zn(nr,fr,Er,1,16,Mr,Ar,Ir)}function ia(nr,fr,Er,Mr,Ar,Ir){zn(nr,fr,1,Er,16,Mr,Ar,Ir)}function gl(nr,fr,Er,Mr,Ar,Ir){var Dr;for(Dr=3;0<Dr;--Dr)Rn(nr,fr+=4*Er,Er,1,16,Mr,Ar,Ir)}function ga(nr,fr,Er,Mr,Ar,Ir){var Dr;for(Dr=3;0<Dr;--Dr)Rn(nr,fr+=4,1,Er,16,Mr,Ar,Ir)}function vl(nr,fr,Er,Mr,Ar,Ir,Dr,Or){zn(nr,fr,Ar,1,8,Ir,Dr,Or),zn(Er,Mr,Ar,1,8,Ir,Dr,Or)}function za(nr,fr,Er,Mr,Ar,Ir,Dr,Or){zn(nr,fr,1,Ar,8,Ir,Dr,Or),zn(Er,Mr,1,Ar,8,Ir,Dr,Or)}function Ua(nr,fr,Er,Mr,Ar,Ir,Dr,Or){Rn(nr,fr+4*Ar,Ar,1,8,Ir,Dr,Or),Rn(Er,Mr+4*Ar,Ar,1,8,Ir,Dr,Or)}function So(nr,fr,Er,Mr,Ar,Ir,Dr,Or){Rn(nr,fr+4,1,Ar,8,Ir,Dr,Or),Rn(Er,Mr+4,1,Ar,8,Ir,Dr,Or)}function va(){this.ba=new ni,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Es,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ha(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Wa(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function No(){this.ua=0,this.Wa=new Cr,this.vb=new Cr,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ze,this.yc=new Pe}function bl(){this.xb=this.a=0,this.l=new bi,this.ca=new ni,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new ir,this.Pb=0,this.wd=new ir,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new No,this.ab=0,this.gc=Ce(4,Wa),this.Oc=0}function ba(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new bi,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function na(nr,fr,Er,Mr,Ar,Ir,Dr){for(nr=nr==null?0:nr[fr+0],fr=0;fr<Dr;++fr)Ar[Ir+fr]=nr+Er[Mr+fr]&255,nr=Ar[Ir+fr]}function Va(nr,fr,Er,Mr,Ar,Ir,Dr){var Or;if(nr==null)na(null,null,Er,Mr,Ar,Ir,Dr);else for(Or=0;Or<Dr;++Or)Ar[Ir+Or]=nr[fr+Or]+Er[Mr+Or]&255}function Un(nr,fr,Er,Mr,Ar,Ir,Dr){if(nr==null)na(null,null,Er,Mr,Ar,Ir,Dr);else{var Or,Fr=nr[fr+0],Wr=Fr,ts=Fr;for(Or=0;Or<Dr;++Or)Wr=ts+(Fr=nr[fr+Or])-Wr,ts=Er[Mr+Or]+(-256&Wr?0>Wr?0:255:Wr)&255,Wr=Fr,Ar[Ir+Or]=ts}}function Ga(nr,fr,Er,Mr){var Ar=fr.width,Ir=fr.o;if(je(nr!=null&&fr!=null),0>Er||0>=Mr||Er+Mr>Ir)return null;if(!nr.Cc){if(nr.ga==null){var Dr;if(nr.ga=new ba,(Dr=nr.ga==null)||(Dr=fr.width*fr.o,je(nr.Gb.length==0),nr.Gb=ke(Dr),nr.Uc=0,nr.Gb==null?Dr=0:(nr.mb=nr.Gb,nr.nb=nr.Uc,nr.rc=null,Dr=1),Dr=!Dr),!Dr){Dr=nr.ga;var Or=nr.Fa,Fr=nr.P,Wr=nr.qc,ts=nr.mb,ms=nr.nb,ps=Fr+1,ls=Wr-1,Os=Dr.l;if(je(Or!=null&&ts!=null&&fr!=null),Yn[0]=null,Yn[1]=na,Yn[2]=Va,Yn[3]=Un,Dr.ca=ts,Dr.tb=ms,Dr.c=fr.width,Dr.i=fr.height,je(0<Dr.c&&0<Dr.i),1>=Wr)fr=0;else if(Dr.$a=Or[Fr+0]>>0&3,Dr.Z=Or[Fr+0]>>2&3,Dr.Lc=Or[Fr+0]>>4&3,Fr=Or[Fr+0]>>6&3,0>Dr.$a||1<Dr.$a||4<=Dr.Z||1<Dr.Lc||Fr)fr=0;else if(Os.put=vs,Os.ac=Qs,Os.bc=Ms,Os.ma=Dr,Os.width=fr.width,Os.height=fr.height,Os.Da=fr.Da,Os.v=fr.v,Os.va=fr.va,Os.j=fr.j,Os.o=fr.o,Dr.$a)e:{je(Dr.$a==1),fr=Js();t:for(;;){if(fr==null){fr=0;break e}if(je(Dr!=null),Dr.mc=fr,fr.c=Dr.c,fr.i=Dr.i,fr.l=Dr.l,fr.l.ma=Dr,fr.l.width=Dr.c,fr.l.height=Dr.i,fr.a=0,er(fr.m,Or,ps,ls),!di(Dr.c,Dr.i,1,fr,null)||(fr.ab==1&&fr.gc[0].hc==3&&$s(fr.s)?(Dr.ic=1,Or=fr.c*fr.i,fr.Ta=null,fr.Ua=0,fr.V=ke(Or),fr.Ba=0,fr.V==null?(fr.a=1,fr=0):fr=1):(Dr.ic=0,fr=fi(fr,Dr.c)),!fr))break t;fr=1;break e}Dr.mc=null,fr=0}else fr=ls>=Dr.c*Dr.i;Dr=!fr}if(Dr)return null;nr.ga.Lc!=1?nr.Ga=0:Mr=Ir-Er}je(nr.ga!=null),je(Er+Mr<=Ir);e:{if(fr=(Or=nr.ga).c,Ir=Or.l.o,Or.$a==0){if(ps=nr.rc,ls=nr.Vc,Os=nr.Fa,Fr=nr.P+1+Er*fr,Wr=nr.mb,ts=nr.nb+Er*fr,je(Fr<=nr.P+nr.qc),Or.Z!=0)for(je(Yn[Or.Z]!=null),Dr=0;Dr<Mr;++Dr)Yn[Or.Z](ps,ls,Os,Fr,Wr,ts,fr),ps=Wr,ls=ts,ts+=fr,Fr+=fr;else for(Dr=0;Dr<Mr;++Dr)Me(Wr,ts,Os,Fr,fr),ps=Wr,ls=ts,ts+=fr,Fr+=fr;nr.rc=ps,nr.Vc=ls}else{if(je(Or.mc!=null),fr=Er+Mr,je((Dr=Or.mc)!=null),je(fr<=Dr.i),Dr.C>=fr)fr=1;else if(Or.ic||hs(),Or.ic){Or=Dr.V,ps=Dr.Ba,ls=Dr.c;var Ps=Dr.i,rs=(Os=1,Fr=Dr.$/ls,Wr=Dr.$%ls,ts=Dr.m,ms=Dr.s,Dr.$),as=ls*Ps,Ds=ls*fr,Fs=ms.wc,Ls=rs<Ds?Rs(ms,Wr,Fr):null;je(rs<=as),je(fr<=Ps),je($s(ms));t:for(;;){for(;!ts.h&&rs<Ds;){if(Wr&Fs||(Ls=Rs(ms,Wr,Fr)),je(Ls!=null),Sr(ts),256>(Ps=ri(Ls.G[0],Ls.H[0],ts)))Or[ps+rs]=Ps,++rs,++Wr>=ls&&(Wr=0,++Fr<=fr&&!(Fr%16)&&gs(Dr,Fr));else{if(!(280>Ps)){Os=0;break t}Ps=xs(Ps-256,ts);var Ks,Ws=ri(Ls.G[4],Ls.H[4],ts);if(Sr(ts),!(rs>=(Ws=ks(ls,Ws=xs(Ws,ts)))&&as-rs>=Ps)){Os=0;break t}for(Ks=0;Ks<Ps;++Ks)Or[ps+rs+Ks]=Or[ps+rs+Ks-Ws];for(rs+=Ps,Wr+=Ps;Wr>=ls;)Wr-=ls,++Fr<=fr&&!(Fr%16)&&gs(Dr,Fr);rs<Ds&&Wr&Fs&&(Ls=Rs(ms,Wr,Fr))}je(ts.h==br(ts))}gs(Dr,Fr>fr?fr:Fr);break t}!Os||ts.h&&rs<as?(Os=0,Dr.a=ts.h?5:3):Dr.$=rs,fr=Os}else fr=Ss(Dr,Dr.V,Dr.Ba,Dr.c,Dr.i,fr,mi);if(!fr){Mr=0;break e}}Er+Mr>=Ir&&(nr.Cc=1),Mr=1}if(!Mr)return null;if(nr.Cc&&((Mr=nr.ga)!=null&&(Mr.mc=null),nr.ga=null,0<nr.Ga))return alert("todo:WebPDequantizeLevels"),null}return nr.nb+Er*Ar}function yr(nr,fr,Er,Mr,Ar,Ir){for(;0<Ar--;){var Dr,Or=nr,Fr=fr+(Er?1:0),Wr=nr,ts=fr+(Er?0:3);for(Dr=0;Dr<Mr;++Dr){var ms=Wr[ts+4*Dr];ms!=255&&(ms*=32897,Or[Fr+4*Dr+0]=Or[Fr+4*Dr+0]*ms>>23,Or[Fr+4*Dr+1]=Or[Fr+4*Dr+1]*ms>>23,Or[Fr+4*Dr+2]=Or[Fr+4*Dr+2]*ms>>23)}fr+=Ir}}function Pr(nr,fr,Er,Mr,Ar){for(;0<Mr--;){var Ir;for(Ir=0;Ir<Er;++Ir){var Dr=nr[fr+2*Ir+0],Or=15&(Wr=nr[fr+2*Ir+1]),Fr=4369*Or,Wr=(240&Wr|Wr>>4)*Fr>>16;nr[fr+2*Ir+0]=(240&Dr|Dr>>4)*Fr>>16&240|(15&Dr|Dr<<4)*Fr>>16>>4&15,nr[fr+2*Ir+1]=240&Wr|Or}fr+=Ar}}function Yr(nr,fr,Er,Mr,Ar,Ir,Dr,Or){var Fr,Wr,ts=255;for(Wr=0;Wr<Ar;++Wr){for(Fr=0;Fr<Mr;++Fr){var ms=nr[fr+Fr];Ir[Dr+4*Fr]=ms,ts&=ms}fr+=Er,Dr+=Or}return ts!=255}function es(nr,fr,Er,Mr,Ar){var Ir;for(Ir=0;Ir<Ar;++Ir)Er[Mr+Ir]=nr[fr+Ir]>>8}function hs(){vn=yr,Di=Pr,Li=Yr,Ui=es}function Cs(nr,fr,Er){dr[nr]=function(Mr,Ar,Ir,Dr,Or,Fr,Wr,ts,ms,ps,ls,Os,Ps,rs,as,Ds,Fs){var Ls,Ks=Fs-1>>1,Ws=Or[Fr+0]|Wr[ts+0]<<16,ii=ms[ps+0]|ls[Os+0]<<16;je(Mr!=null);var Vs=3*Ws+ii+131074>>2;for(fr(Mr[Ar+0],255&Vs,Vs>>16,Ps,rs),Ir!=null&&(Vs=3*ii+Ws+131074>>2,fr(Ir[Dr+0],255&Vs,Vs>>16,as,Ds)),Ls=1;Ls<=Ks;++Ls){var Ai=Or[Fr+Ls]|Wr[ts+Ls]<<16,Pi=ms[ps+Ls]|ls[Os+Ls]<<16,wi=Ws+Ai+ii+Pi+524296,hi=wi+2*(Ai+ii)>>3;Vs=hi+Ws>>1,Ws=(wi=wi+2*(Ws+Pi)>>3)+Ai>>1,fr(Mr[Ar+2*Ls-1],255&Vs,Vs>>16,Ps,rs+(2*Ls-1)*Er),fr(Mr[Ar+2*Ls-0],255&Ws,Ws>>16,Ps,rs+(2*Ls-0)*Er),Ir!=null&&(Vs=wi+ii>>1,Ws=hi+Pi>>1,fr(Ir[Dr+2*Ls-1],255&Vs,Vs>>16,as,Ds+(2*Ls-1)*Er),fr(Ir[Dr+2*Ls+0],255&Ws,Ws>>16,as,Ds+(2*Ls+0)*Er)),Ws=Ai,ii=Pi}1&Fs||(Vs=3*Ws+ii+131074>>2,fr(Mr[Ar+Fs-1],255&Vs,Vs>>16,Ps,rs+(Fs-1)*Er),Ir!=null&&(Vs=3*ii+Ws+131074>>2,fr(Ir[Dr+Fs-1],255&Vs,Vs>>16,as,Ds+(Fs-1)*Er)))}}function Bs(){jn[Io]=Ac,jn[Do]=Wl,jn[Fl]=Pc,jn[Lo]=Vl,jn[Oo]=Gl,jn[wl]=Kl,jn[Bl]=Cc,jn[El]=Wl,jn[Rl]=Vl,jn[Fo]=Gl,jn[_l]=Kl}function Gs(nr){return nr&~Tc?0>nr?0:255:nr>>Yl}function ti(nr,fr){return Gs((19077*nr>>8)+(26149*fr>>8)-14234)}function ci(nr,fr,Er){return Gs((19077*nr>>8)-(6419*fr>>8)-(13320*Er>>8)+8708)}function li(nr,fr){return Gs((19077*nr>>8)+(33050*fr>>8)-17685)}function yi(nr,fr,Er,Mr,Ar){Mr[Ar+0]=ti(nr,Er),Mr[Ar+1]=ci(nr,fr,Er),Mr[Ar+2]=li(nr,fr)}function Fi(nr,fr,Er,Mr,Ar){Mr[Ar+0]=li(nr,fr),Mr[Ar+1]=ci(nr,fr,Er),Mr[Ar+2]=ti(nr,Er)}function Bi(nr,fr,Er,Mr,Ar){var Ir=ci(nr,fr,Er);fr=Ir<<3&224|li(nr,fr)>>3,Mr[Ar+0]=248&ti(nr,Er)|Ir>>5,Mr[Ar+1]=fr}function Hi(nr,fr,Er,Mr,Ar){var Ir=240&li(nr,fr)|15;Mr[Ar+0]=240&ti(nr,Er)|ci(nr,fr,Er)>>4,Mr[Ar+1]=Ir}function en(nr,fr,Er,Mr,Ar){Mr[Ar+0]=255,yi(nr,fr,Er,Mr,Ar+1)}function Ki(nr,fr,Er,Mr,Ar){Fi(nr,fr,Er,Mr,Ar),Mr[Ar+3]=255}function _n(nr,fr,Er,Mr,Ar){yi(nr,fr,Er,Mr,Ar),Mr[Ar+3]=255}function dn(nr,fr){return 0>nr?0:nr>fr?fr:nr}function $n(nr,fr,Er){dr[nr]=function(Mr,Ar,Ir,Dr,Or,Fr,Wr,ts,ms){for(var ps=ts+(-2&ms)*Er;ts!=ps;)fr(Mr[Ar+0],Ir[Dr+0],Or[Fr+0],Wr,ts),fr(Mr[Ar+1],Ir[Dr+0],Or[Fr+0],Wr,ts+Er),Ar+=2,++Dr,++Fr,ts+=2*Er;1&ms&&fr(Mr[Ar+0],Ir[Dr+0],Or[Fr+0],Wr,ts)}}function Mo(nr,fr,Er){return Er==0?nr==0?fr==0?6:5:fr==0?4:0:Er}function Ka(nr,fr,Er,Mr,Ar){switch(nr>>>30){case 3:Dn(fr,Er,Mr,Ar,0);break;case 2:zi(fr,Er,Mr,Ar);break;case 1:rn(fr,Er,Mr,Ar)}}function Ya(nr,fr){var Er,Mr,Ar=fr.M,Ir=fr.Nb,Dr=nr.oc,Or=nr.pc+40,Fr=nr.oc,Wr=nr.pc+584,ts=nr.oc,ms=nr.pc+600;for(Er=0;16>Er;++Er)Dr[Or+32*Er-1]=129;for(Er=0;8>Er;++Er)Fr[Wr+32*Er-1]=129,ts[ms+32*Er-1]=129;for(0<Ar?Dr[Or-1-32]=Fr[Wr-1-32]=ts[ms-1-32]=129:($e(Dr,Or-32-1,127,21),$e(Fr,Wr-32-1,127,9),$e(ts,ms-32-1,127,9)),Mr=0;Mr<nr.za;++Mr){var ps=fr.ya[fr.aa+Mr];if(0<Mr){for(Er=-1;16>Er;++Er)Me(Dr,Or+32*Er-4,Dr,Or+32*Er+12,4);for(Er=-1;8>Er;++Er)Me(Fr,Wr+32*Er-4,Fr,Wr+32*Er+4,4),Me(ts,ms+32*Er-4,ts,ms+32*Er+4,4)}var ls=nr.Gd,Os=nr.Hd+Mr,Ps=ps.ad,rs=ps.Hc;if(0<Ar&&(Me(Dr,Or-32,ls[Os].y,0,16),Me(Fr,Wr-32,ls[Os].f,0,8),Me(ts,ms-32,ls[Os].ea,0,8)),ps.Za){var as=Dr,Ds=Or-32+16;for(0<Ar&&(Mr>=nr.za-1?$e(as,Ds,ls[Os].y[15],4):Me(as,Ds,ls[Os+1].y,0,4)),Er=0;4>Er;Er++)as[Ds+128+Er]=as[Ds+256+Er]=as[Ds+384+Er]=as[Ds+0+Er];for(Er=0;16>Er;++Er,rs<<=2)as=Dr,Ds=Or+Zl[Er],Sn[ps.Ob[Er]](as,Ds),Ka(rs,Ps,16*+Er,as,Ds)}else if(as=Mo(Mr,Ar,ps.Ob[0]),Kn[as](Dr,Or),rs!=0)for(Er=0;16>Er;++Er,rs<<=2)Ka(rs,Ps,16*+Er,Dr,Or+Zl[Er]);for(Er=ps.Gc,as=Mo(Mr,Ar,ps.Dd),On[as](Fr,Wr),On[as](ts,ms),rs=Ps,as=Fr,Ds=Wr,255&(ps=Er>>0)&&(170&ps?eo(rs,256,as,Ds):xn(rs,256,as,Ds)),ps=ts,rs=ms,255&(Er>>=8)&&(170&Er?eo(Ps,320,ps,rs):xn(Ps,320,ps,rs)),Ar<nr.Ub-1&&(Me(ls[Os].y,0,Dr,Or+480,16),Me(ls[Os].f,0,Fr,Wr+224,8),Me(ls[Os].ea,0,ts,ms+224,8)),Er=8*Ir*nr.B,ls=nr.sa,Os=nr.ta+16*Mr+16*Ir*nr.R,Ps=nr.qa,ps=nr.ra+8*Mr+Er,rs=nr.Ha,as=nr.Ia+8*Mr+Er,Er=0;16>Er;++Er)Me(ls,Os+Er*nr.R,Dr,Or+32*Er,16);for(Er=0;8>Er;++Er)Me(Ps,ps+Er*nr.B,Fr,Wr+32*Er,8),Me(rs,as+Er*nr.B,ts,ms+32*Er,8)}}function ya(nr,fr,Er,Mr,Ar,Ir,Dr,Or,Fr){var Wr=[0],ts=[0],ms=0,ps=Fr!=null?Fr.kd:0,ls=Fr??new Ha;if(nr==null||12>Er)return 7;ls.data=nr,ls.w=fr,ls.ha=Er,fr=[fr],Er=[Er],ls.gb=[ls.gb];e:{var Os=fr,Ps=Er,rs=ls.gb;if(je(nr!=null),je(Ps!=null),je(rs!=null),rs[0]=0,12<=Ps[0]&&!_e(nr,Os[0],"RIFF")){if(_e(nr,Os[0]+8,"WEBP")){rs=3;break e}var as=Gr(nr,Os[0]+4);if(12>as||4294967286<as){rs=3;break e}if(ps&&as>Ps[0]-8){rs=7;break e}rs[0]=as,Os[0]+=12,Ps[0]-=12}rs=0}if(rs!=0)return rs;for(as=0<ls.gb[0],Er=Er[0];;){e:{var Ds=nr;Ps=fr,rs=Er;var Fs=Wr,Ls=ts,Ks=Os=[0];if((Vs=ms=[ms])[0]=0,8>rs[0])rs=7;else{if(!_e(Ds,Ps[0],"VP8X")){if(Gr(Ds,Ps[0]+4)!=10){rs=3;break e}if(18>rs[0]){rs=7;break e}var Ws=Gr(Ds,Ps[0]+8),ii=1+Ur(Ds,Ps[0]+12);if(2147483648<=ii*(Ds=1+Ur(Ds,Ps[0]+15))){rs=3;break e}Ks!=null&&(Ks[0]=Ws),Fs!=null&&(Fs[0]=ii),Ls!=null&&(Ls[0]=Ds),Ps[0]+=18,rs[0]-=18,Vs[0]=1}rs=0}}if(ms=ms[0],Os=Os[0],rs!=0)return rs;if(Ps=!!(2&Os),!as&&ms)return 3;if(Ir!=null&&(Ir[0]=!!(16&Os)),Dr!=null&&(Dr[0]=Ps),Or!=null&&(Or[0]=0),Dr=Wr[0],Os=ts[0],ms&&Ps&&Fr==null){rs=0;break}if(4>Er){rs=7;break}if(as&&ms||!as&&!ms&&!_e(nr,fr[0],"ALPH")){Er=[Er],ls.na=[ls.na],ls.P=[ls.P],ls.Sa=[ls.Sa];e:{Ws=nr,rs=fr,as=Er;var Vs=ls.gb;Fs=ls.na,Ls=ls.P,Ks=ls.Sa,ii=22,je(Ws!=null),je(as!=null),Ds=rs[0];var Ai=as[0];for(je(Fs!=null),je(Ks!=null),Fs[0]=null,Ls[0]=null,Ks[0]=0;;){if(rs[0]=Ds,as[0]=Ai,8>Ai){rs=7;break e}var Pi=Gr(Ws,Ds+4);if(4294967286<Pi){rs=3;break e}var wi=8+Pi+1&-2;if(ii+=wi,0<Vs&&ii>Vs){rs=3;break e}if(!_e(Ws,Ds,"VP8 ")||!_e(Ws,Ds,"VP8L")){rs=0;break e}if(Ai[0]<wi){rs=7;break e}_e(Ws,Ds,"ALPH")||(Fs[0]=Ws,Ls[0]=Ds+8,Ks[0]=Pi),Ds+=wi,Ai-=wi}}if(Er=Er[0],ls.na=ls.na[0],ls.P=ls.P[0],ls.Sa=ls.Sa[0],rs!=0)break}Er=[Er],ls.Ja=[ls.Ja],ls.xa=[ls.xa];e:if(Vs=nr,rs=fr,as=Er,Fs=ls.gb[0],Ls=ls.Ja,Ks=ls.xa,Ws=rs[0],Ds=!_e(Vs,Ws,"VP8 "),ii=!_e(Vs,Ws,"VP8L"),je(Vs!=null),je(as!=null),je(Ls!=null),je(Ks!=null),8>as[0])rs=7;else{if(Ds||ii){if(Vs=Gr(Vs,Ws+4),12<=Fs&&Vs>Fs-12){rs=3;break e}if(ps&&Vs>as[0]-8){rs=7;break e}Ls[0]=Vs,rs[0]+=8,as[0]-=8,Ks[0]=ii}else Ks[0]=5<=as[0]&&Vs[Ws+0]==47&&!(Vs[Ws+4]>>5),Ls[0]=as[0];rs=0}if(Er=Er[0],ls.Ja=ls.Ja[0],ls.xa=ls.xa[0],fr=fr[0],rs!=0)break;if(4294967286<ls.Ja)return 3;if(Or==null||Ps||(Or[0]=ls.xa?2:1),Dr=[Dr],Os=[Os],ls.xa){if(5>Er){rs=7;break}Or=Dr,ps=Os,Ps=Ir,nr==null||5>Er?nr=0:5<=Er&&nr[fr+0]==47&&!(nr[fr+4]>>5)?(as=[0],Vs=[0],Fs=[0],er(Ls=new ir,nr,fr,Er),Us(Ls,as,Vs,Fs)?(Or!=null&&(Or[0]=as[0]),ps!=null&&(ps[0]=Vs[0]),Ps!=null&&(Ps[0]=Fs[0]),nr=1):nr=0):nr=0}else{if(10>Er){rs=7;break}Or=Os,nr==null||10>Er||!ho(nr,fr+3,Er-3)?nr=0:(ps=nr[fr+0]|nr[fr+1]<<8|nr[fr+2]<<16,Ps=16383&(nr[fr+7]<<8|nr[fr+6]),nr=16383&(nr[fr+9]<<8|nr[fr+8]),1&ps||3<(ps>>1&7)||!(ps>>4&1)||ps>>5>=ls.Ja||!Ps||!nr?nr=0:(Dr&&(Dr[0]=Ps),Or&&(Or[0]=nr),nr=1))}if(!nr||(Dr=Dr[0],Os=Os[0],ms&&(Wr[0]!=Dr||ts[0]!=Os)))return 3;Fr!=null&&(Fr[0]=ls,Fr.offset=fr-Fr.w,je(4294967286>fr-Fr.w),je(Fr.offset==Fr.ha-Er));break}return rs==0||rs==7&&ms&&Fr==null?(Ir!=null&&(Ir[0]|=ls.na!=null&&0<ls.na.length),Mr!=null&&(Mr[0]=Dr),Ar!=null&&(Ar[0]=Os),0):rs}function Xa(nr,fr,Er){var Mr=fr.width,Ar=fr.height,Ir=0,Dr=0,Or=Mr,Fr=Ar;if(fr.Da=nr!=null&&0<nr.Da,fr.Da&&(Or=nr.cd,Fr=nr.bd,Ir=nr.v,Dr=nr.j,11>Er||(Ir&=-2,Dr&=-2),0>Ir||0>Dr||0>=Or||0>=Fr||Ir+Or>Mr||Dr+Fr>Ar))return 0;if(fr.v=Ir,fr.j=Dr,fr.va=Ir+Or,fr.o=Dr+Fr,fr.U=Or,fr.T=Fr,fr.da=nr!=null&&0<nr.da,fr.da){if(!qs(Or,Fr,Er=[nr.ib],Ir=[nr.hb]))return 0;fr.ib=Er[0],fr.hb=Ir[0]}return fr.ob=nr!=null&&nr.ob,fr.Kb=nr==null||!nr.Sd,fr.da&&(fr.ob=fr.ib<3*Mr/4&&fr.hb<3*Ar/4,fr.Kb=0),1}function Za(nr){if(nr==null)return 2;if(11>nr.S){var fr=nr.f.RGBA;fr.fb+=(nr.height-1)*fr.A,fr.A=-fr.A}else fr=nr.f.kb,nr=nr.height,fr.O+=(nr-1)*fr.fa,fr.fa=-fr.fa,fr.N+=(nr-1>>1)*fr.Ab,fr.Ab=-fr.Ab,fr.W+=(nr-1>>1)*fr.Db,fr.Db=-fr.Db,fr.F!=null&&(fr.J+=(nr-1)*fr.lb,fr.lb=-fr.lb);return 0}function ja(nr,fr,Er,Mr){if(Mr==null||0>=nr||0>=fr)return 2;if(Er!=null){if(Er.Da){var Ar=Er.cd,Ir=Er.bd,Dr=-2&Er.v,Or=-2&Er.j;if(0>Dr||0>Or||0>=Ar||0>=Ir||Dr+Ar>nr||Or+Ir>fr)return 2;nr=Ar,fr=Ir}if(Er.da){if(!qs(nr,fr,Ar=[Er.ib],Ir=[Er.hb]))return 2;nr=Ar[0],fr=Ir[0]}}Mr.width=nr,Mr.height=fr;e:{var Fr=Mr.width,Wr=Mr.height;if(nr=Mr.S,0>=Fr||0>=Wr||!(nr>=Io&&13>nr))nr=2;else{if(0>=Mr.Rd&&Mr.sd==null){Dr=Ir=Ar=fr=0;var ts=(Or=Fr*Jl[nr])*Wr;if(11>nr||(Ir=(Wr+1)/2*(fr=(Fr+1)/2),nr==12&&(Dr=(Ar=Fr)*Wr)),(Wr=ke(ts+2*Ir+Dr))==null){nr=1;break e}Mr.sd=Wr,11>nr?((Fr=Mr.f.RGBA).eb=Wr,Fr.fb=0,Fr.A=Or,Fr.size=ts):((Fr=Mr.f.kb).y=Wr,Fr.O=0,Fr.fa=Or,Fr.Fd=ts,Fr.f=Wr,Fr.N=0+ts,Fr.Ab=fr,Fr.Cd=Ir,Fr.ea=Wr,Fr.W=0+ts+Ir,Fr.Db=fr,Fr.Ed=Ir,nr==12&&(Fr.F=Wr,Fr.J=0+ts+2*Ir),Fr.Tc=Dr,Fr.lb=Ar)}if(fr=1,Ar=Mr.S,Ir=Mr.width,Dr=Mr.height,Ar>=Io&&13>Ar)if(11>Ar)nr=Mr.f.RGBA,fr&=(Or=Math.abs(nr.A))*(Dr-1)+Ir<=nr.size,fr&=Or>=Ir*Jl[Ar],fr&=nr.eb!=null;else{nr=Mr.f.kb,Or=(Ir+1)/2,ts=(Dr+1)/2,Fr=Math.abs(nr.fa),Wr=Math.abs(nr.Ab);var ms=Math.abs(nr.Db),ps=Math.abs(nr.lb),ls=ps*(Dr-1)+Ir;fr&=Fr*(Dr-1)+Ir<=nr.Fd,fr&=Wr*(ts-1)+Or<=nr.Cd,fr=(fr&=ms*(ts-1)+Or<=nr.Ed)&Fr>=Ir&Wr>=Or&ms>=Or,fr&=nr.y!=null,fr&=nr.f!=null,fr&=nr.ea!=null,Ar==12&&(fr&=ps>=Ir,fr&=ls<=nr.Tc,fr&=nr.F!=null)}else fr=0;nr=fr?0:2}}return nr!=0||Er!=null&&Er.fd&&(nr=Za(Mr)),nr}var Zi=64,wa=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ea=24,Ra=32,Ja=8,an=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Kr("Predictor0","PredictorAdd0"),dr.Predictor0=function(){return 4278190080},dr.Predictor1=function(nr){return nr},dr.Predictor2=function(nr,fr,Er){return fr[Er+0]},dr.Predictor3=function(nr,fr,Er){return fr[Er+1]},dr.Predictor4=function(nr,fr,Er){return fr[Er-1]},dr.Predictor5=function(nr,fr,Er){return Hr(Hr(nr,fr[Er+1]),fr[Er+0])},dr.Predictor6=function(nr,fr,Er){return Hr(nr,fr[Er-1])},dr.Predictor7=function(nr,fr,Er){return Hr(nr,fr[Er+0])},dr.Predictor8=function(nr,fr,Er){return Hr(fr[Er-1],fr[Er+0])},dr.Predictor9=function(nr,fr,Er){return Hr(fr[Er+0],fr[Er+1])},dr.Predictor10=function(nr,fr,Er){return Hr(Hr(nr,fr[Er-1]),Hr(fr[Er+0],fr[Er+1]))},dr.Predictor11=function(nr,fr,Er){var Mr=fr[Er+0];return 0>=Zr(Mr>>24&255,nr>>24&255,(fr=fr[Er-1])>>24&255)+Zr(Mr>>16&255,nr>>16&255,fr>>16&255)+Zr(Mr>>8&255,nr>>8&255,fr>>8&255)+Zr(255&Mr,255&nr,255&fr)?Mr:nr},dr.Predictor12=function(nr,fr,Er){var Mr=fr[Er+0];return(ss((nr>>24&255)+(Mr>>24&255)-((fr=fr[Er-1])>>24&255))<<24|ss((nr>>16&255)+(Mr>>16&255)-(fr>>16&255))<<16|ss((nr>>8&255)+(Mr>>8&255)-(fr>>8&255))<<8|ss((255&nr)+(255&Mr)-(255&fr)))>>>0},dr.Predictor13=function(nr,fr,Er){var Mr=fr[Er-1];return(Vr((nr=Hr(nr,fr[Er+0]))>>24&255,Mr>>24&255)<<24|Vr(nr>>16&255,Mr>>16&255)<<16|Vr(nr>>8&255,Mr>>8&255)<<8|Vr(nr>>0&255,Mr>>0&255))>>>0};var yl=dr.PredictorAdd0;dr.PredictorAdd1=Is,Kr("Predictor2","PredictorAdd2"),Kr("Predictor3","PredictorAdd3"),Kr("Predictor4","PredictorAdd4"),Kr("Predictor5","PredictorAdd5"),Kr("Predictor6","PredictorAdd6"),Kr("Predictor7","PredictorAdd7"),Kr("Predictor8","PredictorAdd8"),Kr("Predictor9","PredictorAdd9"),Kr("Predictor10","PredictorAdd10"),Kr("Predictor11","PredictorAdd11"),Kr("Predictor12","PredictorAdd12"),Kr("Predictor13","PredictorAdd13");var Qa=dr.PredictorAdd2;ns("ColorIndexInverseTransform","MapARGB","32b",function(nr){return nr>>8&255},function(nr){return nr}),ns("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(nr){return nr},function(nr){return nr>>8&255});var ko,pn=dr.ColorIndexInverseTransform,Sa=dr.MapARGB,$o=dr.VP8LColorIndexInverseTransformAlpha,Ao=dr.MapAlpha,Hn=dr.VP8LPredictorsAdd=[];Hn.length=16,(dr.VP8LPredictors=[]).length=16,(dr.VP8LPredictorsAdd_C=[]).length=16,(dr.VP8LPredictors_C=[]).length=16;var aa,on,tn,Wn,Tn,In,Na,Dn,zi,eo,rn,xn,Ma,Po,ro,oa,la,Vn,ca,ka,ua,Gn,so,gn,vn,Di,Li,Ui,Gi=ke(511),Ln=ke(2041),io=ke(225),$a=ke(767),Co=0,jl=Ln,To=io,hn=$a,yn=Gi,Io=0,Do=1,Fl=2,Lo=3,Oo=4,wl=5,Bl=6,El=7,Rl=8,Fo=9,_l=10,gc=[2,3,7],vc=[3,3,11],ql=[280,256,256,256,40],bc=[0,1,1,1,0],yc=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],jc=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],wc=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Ec=8,Sl=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Nl=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],no=null,Rc=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],_c=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Ul=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Sc=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Nc=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Mc=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],kc=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Kn=[],Sn=[],On=[],$c=1,Hl=2,Yn=[],jn=[];Cs("UpsampleRgbLinePair",yi,3),Cs("UpsampleBgrLinePair",Fi,3),Cs("UpsampleRgbaLinePair",_n,4),Cs("UpsampleBgraLinePair",Ki,4),Cs("UpsampleArgbLinePair",en,4),Cs("UpsampleRgba4444LinePair",Hi,2),Cs("UpsampleRgb565LinePair",Bi,2);var Ac=dr.UpsampleRgbLinePair,Pc=dr.UpsampleBgrLinePair,Wl=dr.UpsampleRgbaLinePair,Vl=dr.UpsampleBgraLinePair,Gl=dr.UpsampleArgbLinePair,Kl=dr.UpsampleRgba4444LinePair,Cc=dr.UpsampleRgb565LinePair,Bo=16,qo=1<<Bo-1,ao=-227,Ml=482,Yl=6,Tc=(256<<Yl)-1,Xl=0,Ic=ke(256),Dc=ke(256),Lc=ke(256),Oc=ke(256),Fc=ke(Ml-ao),Bc=ke(Ml-ao);$n("YuvToRgbRow",yi,3),$n("YuvToBgrRow",Fi,3),$n("YuvToRgbaRow",_n,4),$n("YuvToBgraRow",Ki,4),$n("YuvToArgbRow",en,4),$n("YuvToRgba4444Row",Hi,2),$n("YuvToRgb565Row",Bi,2);var Zl=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],zo=[0,2,8],qc=[8,7,6,4,4,2,2,2,1,1,1,1],zc=1;this.WebPDecodeRGBA=function(nr,fr,Er,Mr,Ar){var Ir=Do,Dr=new va,Or=new ni;Dr.ba=Or,Or.S=Ir,Or.width=[Or.width],Or.height=[Or.height];var Fr=Or.width,Wr=Or.height,ts=new bs;if(ts==null||nr==null)var ms=2;else je(ts!=null),ms=ya(nr,fr,Er,ts.width,ts.height,ts.Pd,ts.Qd,ts.format,null);if(ms!=0?Fr=0:(Fr!=null&&(Fr[0]=ts.width[0]),Wr!=null&&(Wr[0]=ts.height[0]),Fr=1),Fr){Or.width=Or.width[0],Or.height=Or.height[0],Mr!=null&&(Mr[0]=Or.width),Ar!=null&&(Ar[0]=Or.height);e:{if(Mr=new bi,(Ar=new Ha).data=nr,Ar.w=fr,Ar.ha=Er,Ar.kd=1,fr=[0],je(Ar!=null),((nr=ya(Ar.data,Ar.w,Ar.ha,null,null,null,fr,null,Ar))==0||nr==7)&&fr[0]&&(nr=4),(fr=nr)==0){if(je(Dr!=null),Mr.data=Ar.data,Mr.w=Ar.w+Ar.offset,Mr.ha=Ar.ha-Ar.offset,Mr.put=vs,Mr.ac=Qs,Mr.bc=Ms,Mr.ma=Dr,Ar.xa){if((nr=Js())==null){Dr=1;break e}if(function(ps,ls){var Os=[0],Ps=[0],rs=[0];t:for(;;){if(ps==null)return 0;if(ls==null)return ps.a=2,0;if(ps.l=ls,ps.a=0,er(ps.m,ls.data,ls.w,ls.ha),!Us(ps.m,Os,Ps,rs)){ps.a=3;break t}if(ps.xb=Hl,ls.width=Os[0],ls.height=Ps[0],!di(Os[0],Ps[0],1,ps,null))break t;return 1}return je(ps.a!=0),0}(nr,Mr)){if(Mr=(fr=ja(Mr.width,Mr.height,Dr.Oa,Dr.ba))==0){t:{Mr=nr;r:for(;;){if(Mr==null){Mr=0;break t}if(je(Mr.s.yc!=null),je(Mr.s.Ya!=null),je(0<Mr.s.Wb),je((Er=Mr.l)!=null),je((Ar=Er.ma)!=null),Mr.xb!=0){if(Mr.ca=Ar.ba,Mr.tb=Ar.tb,je(Mr.ca!=null),!Xa(Ar.Oa,Er,Lo)){Mr.a=2;break r}if(!fi(Mr,Er.width)||Er.da)break r;if((Er.da||Xs(Mr.ca.S))&&hs(),11>Mr.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),Mr.ca.f.kb.F!=null&&hs()),Mr.Pb&&0<Mr.s.ua&&Mr.s.vb.X==null&&!Ts(Mr.s.vb,Mr.s.Wa.Xa)){Mr.a=1;break r}Mr.xb=0}if(!Ss(Mr,Mr.V,Mr.Ba,Mr.c,Mr.i,Er.o,js))break r;Ar.Dc=Mr.Ma,Mr=1;break t}je(Mr.a!=0),Mr=0}Mr=!Mr}Mr&&(fr=nr.a)}else fr=nr.a}else{if((nr=new ta)==null){Dr=1;break e}if(nr.Fa=Ar.na,nr.P=Ar.P,nr.qc=Ar.Sa,fo(nr,Mr)){if((fr=ja(Mr.width,Mr.height,Dr.Oa,Dr.ba))==0){if(nr.Aa=0,Er=Dr.Oa,je((Ar=nr)!=null),Er!=null){if(0<(Fr=0>(Fr=Er.Md)?0:100<Fr?255:255*Fr/100)){for(Wr=ts=0;4>Wr;++Wr)12>(ms=Ar.pb[Wr]).lc&&(ms.ia=Fr*qc[0>ms.lc?0:ms.lc]>>3),ts|=ms.ia;ts&&(alert("todo:VP8InitRandom"),Ar.ia=1)}Ar.Ga=Er.Id,100<Ar.Ga?Ar.Ga=100:0>Ar.Ga&&(Ar.Ga=0)}Qo(nr,Mr)||(fr=nr.a)}}else fr=nr.a}fr==0&&Dr.Oa!=null&&Dr.Oa.fd&&(fr=Za(Dr.ba))}Dr=fr}Ir=Dr!=0?null:11>Ir?Or.f.RGBA.eb:Or.f.kb.y}else Ir=null;return Ir};var Jl=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function He(dr,xr){for(var Rr="",Xe=0;Xe<4;Xe++)Rr+=String.fromCharCode(dr[xr++]);return Rr}function We(dr,xr){return(dr[xr+0]<<0|dr[xr+1]<<8|dr[xr+2]<<16)>>>0}function Ke(dr,xr){return(dr[xr+0]<<0|dr[xr+1]<<8|dr[xr+2]<<16|dr[xr+3]<<24)>>>0}new qe;var Je=[0],Qe=[0],rr=[],tr=new qe,cr=Re,or=function(dr,xr){var Rr={},Xe=0,Pe=!1,Fe=0,ze=0;if(Rr.frames=[],!function(lr,br,_r,Sr){for(var wr=0;wr<Sr;wr++)if(lr[br+wr]!=_r.charCodeAt(wr))return!0;return!1}(dr,xr,"RIFF",4)){var Ue,Ge;for(Ke(dr,xr+=4),xr+=8;xr<dr.length;){var Ze=He(dr,xr),er=Ke(dr,xr+=4);xr+=4;var Ve=er+(1&er);switch(Ze){case"VP8 ":case"VP8L":Rr.frames[Xe]===void 0&&(Rr.frames[Xe]={}),(ir=Rr.frames[Xe]).src_off=Pe?ze:xr-8,ir.src_size=Fe+er+8,Xe++,Pe&&(Pe=!1,Fe=0,ze=0);break;case"VP8X":(ir=Rr.header={}).feature_flags=dr[xr];var Ie=xr+4;ir.canvas_width=1+We(dr,Ie),Ie+=3,ir.canvas_height=1+We(dr,Ie),Ie+=3;break;case"ALPH":Pe=!0,Fe=Ve+8,ze=xr-8;break;case"ANIM":(ir=Rr.header).bgcolor=Ke(dr,xr),Ie=xr+4,ir.loop_count=(Ue=dr)[(Ge=Ie)+0]<<0|Ue[Ge+1]<<8,Ie+=2;break;case"ANMF":var Ye,ir;(ir=Rr.frames[Xe]={}).offset_x=2*We(dr,xr),xr+=3,ir.offset_y=2*We(dr,xr),xr+=3,ir.width=1+We(dr,xr),xr+=3,ir.height=1+We(dr,xr),xr+=3,ir.duration=We(dr,xr),xr+=3,Ye=dr[xr++],ir.dispose=1&Ye,ir.blend=Ye>>1&1}Ze!="ANMF"&&(xr+=Ve)}return Rr}}(cr,0);or.response=cr,or.rgbaoutput=!0,or.dataurl=!1;var ar=or.header?or.header:null,pr=or.frames?or.frames:null;if(ar){ar.loop_counter=ar.loop_count,Je=[ar.canvas_height],Qe=[ar.canvas_width];for(var ur=0;ur<pr.length&&pr[ur].blend!=0;ur++);}var gr=pr[0],jr=tr.WebPDecodeRGBA(cr,gr.src_off,gr.src_size,Qe,Je);gr.rgba=jr,gr.imgwidth=Qe[0],gr.imgheight=Je[0];for(var vr=0;vr<Qe[0]*Je[0]*4;vr++)rr[vr]=jr[vr];return this.width=Qe,this.height=Je,this.data=rr,this}(function(Re){var je=function(){return typeof zlibSync=="function"},_e=function(Je,Qe,rr,tr){var cr=4,or=Ce;switch(tr){case Re.image_compression.FAST:cr=1,or=ke;break;case Re.image_compression.MEDIUM:cr=6,or=Be;break;case Re.image_compression.SLOW:cr=9,or=qe}Je=Me(Je,Qe,rr,or);var ar=zlibSync(Je,{level:cr});return Re.__addimage__.arrayBufferToBinaryString(ar)},Me=function(Je,Qe,rr,tr){for(var cr,or,ar,pr=Je.length/Qe,ur=new Uint8Array(Je.length+pr),gr=We(),jr=0;jr<pr;jr+=1){if(ar=jr*Qe,cr=Je.subarray(ar,ar+Qe),tr)ur.set(tr(cr,rr,or),ar+jr);else{for(var vr,dr=gr.length,xr=[];vr<dr;vr+=1)xr[vr]=gr[vr](cr,rr,or);var Rr=Ke(xr.concat());ur.set(xr[Rr],ar+jr)}or=cr}return ur},$e=function(Je){var Qe=Array.apply([],Je);return Qe.unshift(0),Qe},ke=function(Je,Qe){var rr,tr=[],cr=Je.length;tr[0]=1;for(var or=0;or<cr;or+=1)rr=Je[or-Qe]||0,tr[or+1]=Je[or]-rr+256&255;return tr},Ce=function(Je,Qe,rr){var tr,cr=[],or=Je.length;cr[0]=2;for(var ar=0;ar<or;ar+=1)tr=rr&&rr[ar]||0,cr[ar+1]=Je[ar]-tr+256&255;return cr},Be=function(Je,Qe,rr){var tr,cr,or=[],ar=Je.length;or[0]=3;for(var pr=0;pr<ar;pr+=1)tr=Je[pr-Qe]||0,cr=rr&&rr[pr]||0,or[pr+1]=Je[pr]+256-(tr+cr>>>1)&255;return or},qe=function(Je,Qe,rr){var tr,cr,or,ar,pr=[],ur=Je.length;pr[0]=4;for(var gr=0;gr<ur;gr+=1)tr=Je[gr-Qe]||0,cr=rr&&rr[gr]||0,or=rr&&rr[gr-Qe]||0,ar=He(tr,cr,or),pr[gr+1]=Je[gr]-ar+256&255;return pr},He=function(Je,Qe,rr){if(Je===Qe&&Qe===rr)return Je;var tr=Math.abs(Qe-rr),cr=Math.abs(Je-rr),or=Math.abs(Je+Qe-rr-rr);return tr<=cr&&tr<=or?Je:cr<=or?Qe:rr},We=function(){return[$e,ke,Ce,Be,qe]},Ke=function(Je){var Qe=Je.map(function(rr){return rr.reduce(function(tr,cr){return tr+Math.abs(cr)},0)});return Qe.indexOf(Math.min.apply(null,Qe))};Re.processPNG=function(Je,Qe,rr,tr){var cr,or,ar,pr,ur,gr,jr,vr,dr,xr,Rr,Xe,Pe,Fe,ze,Ue=this.decode.FLATE_DECODE,Ge="";if(this.__addimage__.isArrayBuffer(Je)&&(Je=new Uint8Array(Je)),this.__addimage__.isArrayBufferView(Je)){if(Je=(ar=new Kt(Je)).imgData,or=ar.bits,cr=ar.colorSpace,ur=ar.colors,[4,6].indexOf(ar.colorType)!==-1){if(ar.bits===8){dr=(vr=ar.pixelBitlength==32?new Uint32Array(ar.decodePixels().buffer):ar.pixelBitlength==16?new Uint16Array(ar.decodePixels().buffer):new Uint8Array(ar.decodePixels().buffer)).length,Rr=new Uint8Array(dr*ar.colors),xr=new Uint8Array(dr);var Ze,er=ar.pixelBitlength-ar.bits;for(Fe=0,ze=0;Fe<dr;Fe++){for(Pe=vr[Fe],Ze=0;Ze<er;)Rr[ze++]=Pe>>>Ze&255,Ze+=ar.bits;xr[Fe]=Pe>>>Ze&255}}if(ar.bits===16){dr=(vr=new Uint32Array(ar.decodePixels().buffer)).length,Rr=new Uint8Array(dr*(32/ar.pixelBitlength)*ar.colors),xr=new Uint8Array(dr*(32/ar.pixelBitlength)),Xe=ar.colors>1,Fe=0,ze=0;for(var Ve=0;Fe<dr;)Pe=vr[Fe++],Rr[ze++]=Pe>>>0&255,Xe&&(Rr[ze++]=Pe>>>16&255,Pe=vr[Fe++],Rr[ze++]=Pe>>>0&255),xr[Ve++]=Pe>>>16&255;or=8}tr!==Re.image_compression.NONE&&je()?(Je=_e(Rr,ar.width*ar.colors,ar.colors,tr),jr=_e(xr,ar.width,1,tr)):(Je=Rr,jr=xr,Ue=void 0)}if(ar.colorType===3&&(cr=this.color_spaces.INDEXED,gr=ar.palette,ar.transparency.indexed)){var Ie=ar.transparency.indexed,Ye=0;for(Fe=0,dr=Ie.length;Fe<dr;++Fe)Ye+=Ie[Fe];if((Ye/=255)===dr-1&&Ie.indexOf(0)!==-1)pr=[Ie.indexOf(0)];else if(Ye!==dr){for(vr=ar.decodePixels(),xr=new Uint8Array(vr.length),Fe=0,dr=vr.length;Fe<dr;Fe++)xr[Fe]=Ie[vr[Fe]];jr=_e(xr,ar.width,1)}}var ir=function(lr){var br;switch(lr){case Re.image_compression.FAST:br=11;break;case Re.image_compression.MEDIUM:br=13;break;case Re.image_compression.SLOW:br=14;break;default:br=12}return br}(tr);return Ue===this.decode.FLATE_DECODE&&(Ge="/Predictor "+ir+" "),Ge+="/Colors "+ur+" /BitsPerComponent "+or+" /Columns "+ar.width,(this.__addimage__.isArrayBuffer(Je)||this.__addimage__.isArrayBufferView(Je))&&(Je=this.__addimage__.arrayBufferToBinaryString(Je)),(jr&&this.__addimage__.isArrayBuffer(jr)||this.__addimage__.isArrayBufferView(jr))&&(jr=this.__addimage__.arrayBufferToBinaryString(jr)),{alias:rr,data:Je,index:Qe,filter:Ue,decodeParameters:Ge,transparency:pr,palette:gr,sMask:jr,predictor:ir,width:ar.width,height:ar.height,bitsPerComponent:or,colorSpace:cr}}}})(E.API),function(Re){Re.processGIF89A=function(je,_e,Me,$e){var ke=new Zt(je),Ce=ke.width,Be=ke.height,qe=[];ke.decodeAndBlitFrameRGBA(0,qe);var He={data:qe,width:Ce,height:Be},We=new Qt(100).encode(He,100);return Re.processJPEG.call(this,We,_e,Me,$e)},Re.processGIF87A=Re.processGIF89A}(E.API),te$1.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var Re=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(Re);for(var je=0;je<Re;je++){var _e=this.datav.getUint8(this.pos++,!0),Me=this.datav.getUint8(this.pos++,!0),$e=this.datav.getUint8(this.pos++,!0),ke=this.datav.getUint8(this.pos++,!0);this.palette[je]={red:$e,green:Me,blue:_e,quad:ke}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},te$1.prototype.parseBGR=function(){this.pos=this.offset;try{var Re="bit"+this.bitPP,je=this.width*this.height*4;this.data=new Uint8Array(je),this[Re]()}catch(_e){a$1.log("bit decode error:"+_e)}},te$1.prototype.bit1=function(){var Re,je=Math.ceil(this.width/8),_e=je%4;for(Re=this.height-1;Re>=0;Re--){for(var Me=this.bottom_up?Re:this.height-1-Re,$e=0;$e<je;$e++)for(var ke=this.datav.getUint8(this.pos++,!0),Ce=Me*this.width*4+8*$e*4,Be=0;Be<8&&8*$e+Be<this.width;Be++){var qe=this.palette[ke>>7-Be&1];this.data[Ce+4*Be]=qe.blue,this.data[Ce+4*Be+1]=qe.green,this.data[Ce+4*Be+2]=qe.red,this.data[Ce+4*Be+3]=255}_e!==0&&(this.pos+=4-_e)}},te$1.prototype.bit4=function(){for(var Re=Math.ceil(this.width/2),je=Re%4,_e=this.height-1;_e>=0;_e--){for(var Me=this.bottom_up?_e:this.height-1-_e,$e=0;$e<Re;$e++){var ke=this.datav.getUint8(this.pos++,!0),Ce=Me*this.width*4+2*$e*4,Be=ke>>4,qe=15&ke,He=this.palette[Be];if(this.data[Ce]=He.blue,this.data[Ce+1]=He.green,this.data[Ce+2]=He.red,this.data[Ce+3]=255,2*$e+1>=this.width)break;He=this.palette[qe],this.data[Ce+4]=He.blue,this.data[Ce+4+1]=He.green,this.data[Ce+4+2]=He.red,this.data[Ce+4+3]=255}je!==0&&(this.pos+=4-je)}},te$1.prototype.bit8=function(){for(var Re=this.width%4,je=this.height-1;je>=0;je--){for(var _e=this.bottom_up?je:this.height-1-je,Me=0;Me<this.width;Me++){var $e=this.datav.getUint8(this.pos++,!0),ke=_e*this.width*4+4*Me;if($e<this.palette.length){var Ce=this.palette[$e];this.data[ke]=Ce.red,this.data[ke+1]=Ce.green,this.data[ke+2]=Ce.blue,this.data[ke+3]=255}else this.data[ke]=255,this.data[ke+1]=255,this.data[ke+2]=255,this.data[ke+3]=255}Re!==0&&(this.pos+=4-Re)}},te$1.prototype.bit15=function(){for(var Re=this.width%3,je=parseInt("11111",2),_e=this.height-1;_e>=0;_e--){for(var Me=this.bottom_up?_e:this.height-1-_e,$e=0;$e<this.width;$e++){var ke=this.datav.getUint16(this.pos,!0);this.pos+=2;var Ce=(ke&je)/je*255|0,Be=(ke>>5&je)/je*255|0,qe=(ke>>10&je)/je*255|0,He=ke>>15?255:0,We=Me*this.width*4+4*$e;this.data[We]=qe,this.data[We+1]=Be,this.data[We+2]=Ce,this.data[We+3]=He}this.pos+=Re}},te$1.prototype.bit16=function(){for(var Re=this.width%3,je=parseInt("11111",2),_e=parseInt("111111",2),Me=this.height-1;Me>=0;Me--){for(var $e=this.bottom_up?Me:this.height-1-Me,ke=0;ke<this.width;ke++){var Ce=this.datav.getUint16(this.pos,!0);this.pos+=2;var Be=(Ce&je)/je*255|0,qe=(Ce>>5&_e)/_e*255|0,He=(Ce>>11)/je*255|0,We=$e*this.width*4+4*ke;this.data[We]=He,this.data[We+1]=qe,this.data[We+2]=Be,this.data[We+3]=255}this.pos+=Re}},te$1.prototype.bit24=function(){for(var Re=this.height-1;Re>=0;Re--){for(var je=this.bottom_up?Re:this.height-1-Re,_e=0;_e<this.width;_e++){var Me=this.datav.getUint8(this.pos++,!0),$e=this.datav.getUint8(this.pos++,!0),ke=this.datav.getUint8(this.pos++,!0),Ce=je*this.width*4+4*_e;this.data[Ce]=ke,this.data[Ce+1]=$e,this.data[Ce+2]=Me,this.data[Ce+3]=255}this.pos+=this.width%4}},te$1.prototype.bit32=function(){for(var Re=this.height-1;Re>=0;Re--)for(var je=this.bottom_up?Re:this.height-1-Re,_e=0;_e<this.width;_e++){var Me=this.datav.getUint8(this.pos++,!0),$e=this.datav.getUint8(this.pos++,!0),ke=this.datav.getUint8(this.pos++,!0),Ce=this.datav.getUint8(this.pos++,!0),Be=je*this.width*4+4*_e;this.data[Be]=ke,this.data[Be+1]=$e,this.data[Be+2]=Me,this.data[Be+3]=Ce}},te$1.prototype.getData=function(){return this.data},function(Re){Re.processBMP=function(je,_e,Me,$e){var ke=new te$1(je,!1),Ce=ke.width,Be=ke.height,qe={data:ke.getData(),width:Ce,height:Be},He=new Qt(100).encode(qe,100);return Re.processJPEG.call(this,He,_e,Me,$e)}}(E.API),ee$1.prototype.getData=function(){return this.data},function(Re){Re.processWEBP=function(je,_e,Me,$e){var ke=new ee$1(je),Ce=ke.width,Be=ke.height,qe={data:ke.getData(),width:Ce,height:Be},He=new Qt(100).encode(qe,100);return Re.processJPEG.call(this,He,_e,Me,$e)}}(E.API),E.API.processRGBA=function(Re,je,_e){for(var Me=Re.data,$e=Me.length,ke=new Uint8Array($e/4*3),Ce=new Uint8Array($e/4),Be=0,qe=0,He=0;He<$e;He+=4){var We=Me[He],Ke=Me[He+1],Je=Me[He+2],Qe=Me[He+3];ke[Be++]=We,ke[Be++]=Ke,ke[Be++]=Je,Ce[qe++]=Qe}var rr=this.__addimage__.arrayBufferToBinaryString(ke);return{alpha:this.__addimage__.arrayBufferToBinaryString(Ce),data:rr,index:je,alias:_e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:Re.width,height:Re.height}},E.API.setLanguage=function(Re){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[Re]!==void 0&&(this.internal.languageSettings.languageCode=Re,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Vt=E.API,Gt=Vt.getCharWidthsArray=function(Re,je){var _e,Me,$e=(je=je||{}).font||this.internal.getFont(),ke=je.fontSize||this.internal.getFontSize(),Ce=je.charSpace||this.internal.getCharSpace(),Be=je.widths?je.widths:$e.metadata.Unicode.widths,qe=Be.fof?Be.fof:1,He=je.kerning?je.kerning:$e.metadata.Unicode.kerning,We=He.fof?He.fof:1,Ke=je.doKerning!==!1,Je=0,Qe=Re.length,rr=0,tr=Be[0]||qe,cr=[];for(_e=0;_e<Qe;_e++)Me=Re.charCodeAt(_e),typeof $e.metadata.widthOfString=="function"?cr.push(($e.metadata.widthOfGlyph($e.metadata.characterToGlyph(Me))+Ce*(1e3/ke)||0)/1e3):(Je=Ke&&_typeof$1(He[Me])==="object"&&!isNaN(parseInt(He[Me][rr],10))?He[Me][rr]/We:0,cr.push((Be[Me]||tr)/qe+Je)),rr=Me;return cr},Yt=Vt.getStringUnitWidth=function(Re,je){var _e=(je=je||{}).fontSize||this.internal.getFontSize(),Me=je.font||this.internal.getFont(),$e=je.charSpace||this.internal.getCharSpace();return Vt.processArabic&&(Re=Vt.processArabic(Re)),typeof Me.metadata.widthOfString=="function"?Me.metadata.widthOfString(Re,_e,$e)/_e:Gt.apply(this,arguments).reduce(function(ke,Ce){return ke+Ce},0)},Jt=function(Re,je,_e,Me){for(var $e=[],ke=0,Ce=Re.length,Be=0;ke!==Ce&&Be+je[ke]<_e;)Be+=je[ke],ke++;$e.push(Re.slice(0,ke));var qe=ke;for(Be=0;ke!==Ce;)Be+je[ke]>Me&&($e.push(Re.slice(qe,ke)),Be=0,qe=ke),Be+=je[ke],ke++;return qe!==ke&&$e.push(Re.slice(qe,ke)),$e},Xt=function(Re,je,_e){_e||(_e={});var Me,$e,ke,Ce,Be,qe,He,We=[],Ke=[We],Je=_e.textIndent||0,Qe=0,rr=0,tr=Re.split(" "),cr=Gt.apply(this,[" ",_e])[0];if(qe=_e.lineIndent===-1?tr[0].length+2:_e.lineIndent||0){var or=Array(qe).join(" "),ar=[];tr.map(function(ur){(ur=ur.split(/\s*\n/)).length>1?ar=ar.concat(ur.map(function(gr,jr){return(jr&&gr.length?`
`:"")+gr})):ar.push(ur[0])}),tr=ar,qe=Yt.apply(this,[or,_e])}for(ke=0,Ce=tr.length;ke<Ce;ke++){var pr=0;if(Me=tr[ke],qe&&Me[0]==`
`&&(Me=Me.substr(1),pr=1),Je+Qe+(rr=($e=Gt.apply(this,[Me,_e])).reduce(function(ur,gr){return ur+gr},0))>je||pr){if(rr>je){for(Be=Jt.apply(this,[Me,$e,je-(Je+Qe),je]),We.push(Be.shift()),We=[Be.pop()];Be.length;)Ke.push([Be.shift()]);rr=$e.slice(Me.length-(We[0]?We[0].length:0)).reduce(function(ur,gr){return ur+gr},0)}else We=[Me];Ke.push(We),Je=rr+qe,Qe=cr}else We.push(Me),Je+=Qe+rr,Qe=cr}return He=qe?function(ur,gr){return(gr?or:"")+ur.join(" ")}:function(ur){return ur.join(" ")},Ke.map(He)},Vt.splitTextToSize=function(Re,je,_e){var Me,$e=(_e=_e||{}).fontSize||this.internal.getFontSize(),ke=function(We){if(We.widths&&We.kerning)return{widths:We.widths,kerning:We.kerning};var Ke=this.internal.getFont(We.fontName,We.fontStyle);return Ke.metadata.Unicode?{widths:Ke.metadata.Unicode.widths||{0:1},kerning:Ke.metadata.Unicode.kerning||{}}:{font:Ke.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,_e);Me=Array.isArray(Re)?Re:String(Re).split(/\r?\n/);var Ce=1*this.internal.scaleFactor*je/$e;ke.textIndent=_e.textIndent?1*_e.textIndent*this.internal.scaleFactor/$e:0,ke.lineIndent=_e.lineIndent;var Be,qe,He=[];for(Be=0,qe=Me.length;Be<qe;Be++)He=He.concat(Xt.apply(this,[Me[Be],Ce,ke]));return He},function(Re){Re.__fontmetrics__=Re.__fontmetrics__||{};for(var je="klmnopqrstuvwxyz",_e={},Me={},$e=0;$e<je.length;$e++)_e[je[$e]]="0123456789abcdef"[$e],Me["0123456789abcdef"[$e]]=je[$e];var ke=function(Ke){return"0x"+parseInt(Ke,10).toString(16)},Ce=Re.__fontmetrics__.compress=function(Ke){var Je,Qe,rr,tr,cr=["{"];for(var or in Ke){if(Je=Ke[or],isNaN(parseInt(or,10))?Qe="'"+or+"'":(or=parseInt(or,10),Qe=(Qe=ke(or).slice(2)).slice(0,-1)+Me[Qe.slice(-1)]),typeof Je=="number")Je<0?(rr=ke(Je).slice(3),tr="-"):(rr=ke(Je).slice(2),tr=""),rr=tr+rr.slice(0,-1)+Me[rr.slice(-1)];else{if(_typeof$1(Je)!=="object")throw new Error("Don't know what to do with value type "+_typeof$1(Je)+".");rr=Ce(Je)}cr.push(Qe+rr)}return cr.push("}"),cr.join("")},Be=Re.__fontmetrics__.uncompress=function(Ke){if(typeof Ke!="string")throw new Error("Invalid argument passed to uncompress.");for(var Je,Qe,rr,tr,cr={},or=1,ar=cr,pr=[],ur="",gr="",jr=Ke.length-1,vr=1;vr<jr;vr+=1)(tr=Ke[vr])=="'"?Je?(rr=Je.join(""),Je=void 0):Je=[]:Je?Je.push(tr):tr=="{"?(pr.push([ar,rr]),ar={},rr=void 0):tr=="}"?((Qe=pr.pop())[0][Qe[1]]=ar,rr=void 0,ar=Qe[0]):tr=="-"?or=-1:rr===void 0?_e.hasOwnProperty(tr)?(ur+=_e[tr],rr=parseInt(ur,16)*or,or=1,ur=""):ur+=tr:_e.hasOwnProperty(tr)?(gr+=_e[tr],ar[rr]=parseInt(gr,16)*or,or=1,rr=void 0,gr=""):gr+=tr;return cr},qe={codePages:["WinAnsiEncoding"],WinAnsiEncoding:Be("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},He={Unicode:{Courier:qe,"Courier-Bold":qe,"Courier-BoldOblique":qe,"Courier-Oblique":qe,Helvetica:qe,"Helvetica-Bold":qe,"Helvetica-BoldOblique":qe,"Helvetica-Oblique":qe,"Times-Roman":qe,"Times-Bold":qe,"Times-BoldItalic":qe,"Times-Italic":qe}},We={Unicode:{"Courier-Oblique":Be("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":Be("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":Be("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:Be("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":Be("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":Be("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:Be("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:Be("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":Be("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:Be("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":Be("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":Be("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":Be("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":Be("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};Re.events.push(["addFont",function(Ke){var Je=Ke.font,Qe=We.Unicode[Je.postScriptName];Qe&&(Je.metadata.Unicode={},Je.metadata.Unicode.widths=Qe.widths,Je.metadata.Unicode.kerning=Qe.kerning);var rr=He.Unicode[Je.postScriptName];rr&&(Je.metadata.Unicode.encoding=rr,Je.encoding=rr.codePages[0])}])}(E.API),function(Re){var je=function(_e){for(var Me=_e.length,$e=new Uint8Array(Me),ke=0;ke<Me;ke++)$e[ke]=_e.charCodeAt(ke);return $e};Re.API.events.push(["addFont",function(_e){var Me=void 0,$e=_e.font,ke=_e.instance;if(!$e.isStandardFont){if(ke===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+$e.postScriptName+"').");if(typeof(Me=ke.existsFileInVFS($e.postScriptName)===!1?ke.loadFile($e.postScriptName):ke.getFileFromVFS($e.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+$e.postScriptName+"').");(function(Ce,Be){Be=/^\x00\x01\x00\x00/.test(Be)?je(Be):je(u$3(Be)),Ce.metadata=Re.API.TTFFont.open(Be),Ce.metadata.Unicode=Ce.metadata.Unicode||{encoding:{},kerning:{},widths:[]},Ce.metadata.glyIdsUsed=[0]})($e,Me)}}])}(E),function(Re){function je(){return(n$1.canvg?Promise.resolve(n$1.canvg):__vitePreload(()=>import("./index.es-vusUI_6d.js"),__vite__mapDeps([0,1,2,3]))).catch(function(_e){return Promise.reject(new Error("Could not load canvg: "+_e))}).then(function(_e){return _e.default?_e.default:_e})}E.API.addSvgAsImage=function(_e,Me,$e,ke,Ce,Be,qe,He){if(isNaN(Me)||isNaN($e))throw a$1.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(ke)||isNaN(Ce))throw a$1.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var We=document.createElement("canvas");We.width=ke,We.height=Ce;var Ke=We.getContext("2d");Ke.fillStyle="#fff",Ke.fillRect(0,0,We.width,We.height);var Je={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},Qe=this;return je().then(function(rr){return rr.fromString(Ke,_e,Je)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(rr){return rr.render(Je)}).then(function(){Qe.addImage(We.toDataURL("image/jpeg",1),Me,$e,ke,Ce,qe,He)})}}(),E.API.putTotalPages=function(Re){var je,_e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(je=new RegExp(Re,"g"),_e=this.internal.getNumberOfPages()):(je=new RegExp(this.pdfEscape16(Re,this.internal.getFont()),"g"),_e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var Me=1;Me<=this.internal.getNumberOfPages();Me++)for(var $e=0;$e<this.internal.pages[Me].length;$e++)this.internal.pages[Me][$e]=this.internal.pages[Me][$e].replace(je,_e);return this},E.API.viewerPreferences=function(Re,je){var _e;Re=Re||{},je=je||!1;var Me,$e,ke,Ce={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},Be=Object.keys(Ce),qe=[],He=0,We=0,Ke=0;function Je(rr,tr){var cr,or=!1;for(cr=0;cr<rr.length;cr+=1)rr[cr]===tr&&(or=!0);return or}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(Ce)),this.internal.viewerpreferences.isSubscribed=!1),_e=this.internal.viewerpreferences.configuration,Re==="reset"||je===!0){var Qe=Be.length;for(Ke=0;Ke<Qe;Ke+=1)_e[Be[Ke]].value=_e[Be[Ke]].defaultValue,_e[Be[Ke]].explicitSet=!1}if(_typeof$1(Re)==="object"){for($e in Re)if(ke=Re[$e],Je(Be,$e)&&ke!==void 0){if(_e[$e].type==="boolean"&&typeof ke=="boolean")_e[$e].value=ke;else if(_e[$e].type==="name"&&Je(_e[$e].valueSet,ke))_e[$e].value=ke;else if(_e[$e].type==="integer"&&Number.isInteger(ke))_e[$e].value=ke;else if(_e[$e].type==="array"){for(He=0;He<ke.length;He+=1)if(Me=!0,ke[He].length===1&&typeof ke[He][0]=="number")qe.push(String(ke[He]-1));else if(ke[He].length>1){for(We=0;We<ke[He].length;We+=1)typeof ke[He][We]!="number"&&(Me=!1);Me===!0&&qe.push([ke[He][0]-1,ke[He][1]-1].join(" "))}_e[$e].value="["+qe.join(" ")+"]"}else _e[$e].value=_e[$e].defaultValue;_e[$e].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var rr,tr=[];for(rr in _e)_e[rr].explicitSet===!0&&(_e[rr].type==="name"?tr.push("/"+rr+" /"+_e[rr].value):tr.push("/"+rr+" "+_e[rr].value));tr.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+tr.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=_e,this},function(Re){var je=function(){var Me='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',$e=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),ke=unescape(encodeURIComponent(Me)),Ce=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),Be=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),qe=unescape(encodeURIComponent("</x:xmpmeta>")),He=ke.length+Ce.length+Be.length+$e.length+qe.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+He+" >>"),this.internal.write("stream"),this.internal.write($e+ke+Ce+Be+qe),this.internal.write("endstream"),this.internal.write("endobj")},_e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};Re.addMetadata=function(Me,$e){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:Me,namespaceuri:$e||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",_e),this.internal.events.subscribe("postPutResources",je)),this}}(E.API),function(Re){var je=Re.API,_e=je.pdfEscape16=function(ke,Ce){for(var Be,qe=Ce.metadata.Unicode.widths,He=["","0","00","000","0000"],We=[""],Ke=0,Je=ke.length;Ke<Je;++Ke){if(Be=Ce.metadata.characterToGlyph(ke.charCodeAt(Ke)),Ce.metadata.glyIdsUsed.push(Be),Ce.metadata.toUnicode[Be]=ke.charCodeAt(Ke),qe.indexOf(Be)==-1&&(qe.push(Be),qe.push([parseInt(Ce.metadata.widthOfGlyph(Be),10)])),Be=="0")return We.join("");Be=Be.toString(16),We.push(He[4-Be.length],Be)}return We.join("")},Me=function(ke){var Ce,Be,qe,He,We,Ke,Je;for(We=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,qe=[],Ke=0,Je=(Be=Object.keys(ke).sort(function(Qe,rr){return Qe-rr})).length;Ke<Je;Ke++)Ce=Be[Ke],qe.length>=100&&(We+=`
`+qe.length+` beginbfchar
`+qe.join(`
`)+`
endbfchar`,qe=[]),ke[Ce]!==void 0&&ke[Ce]!==null&&typeof ke[Ce].toString=="function"&&(He=("0000"+ke[Ce].toString(16)).slice(-4),Ce=("0000"+(+Ce).toString(16)).slice(-4),qe.push("<"+Ce+"><"+He+">"));return qe.length&&(We+=`
`+qe.length+` beginbfchar
`+qe.join(`
`)+`
endbfchar
`),We+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};je.events.push(["putFont",function(ke){(function(Ce){var Be=Ce.font,qe=Ce.out,He=Ce.newObject,We=Ce.putStream;if(Be.metadata instanceof Re.API.TTFFont&&Be.encoding==="Identity-H"){for(var Ke=Be.metadata.Unicode.widths,Je=Be.metadata.subset.encode(Be.metadata.glyIdsUsed,1),Qe="",rr=0;rr<Je.length;rr++)Qe+=String.fromCharCode(Je[rr]);var tr=He();We({data:Qe,addLength1:!0,objectId:tr}),qe("endobj");var cr=He();We({data:Me(Be.metadata.toUnicode),addLength1:!0,objectId:cr}),qe("endobj");var or=He();qe("<<"),qe("/Type /FontDescriptor"),qe("/FontName /"+F$2(Be.fontName)),qe("/FontFile2 "+tr+" 0 R"),qe("/FontBBox "+Re.API.PDFObject.convert(Be.metadata.bbox)),qe("/Flags "+Be.metadata.flags),qe("/StemV "+Be.metadata.stemV),qe("/ItalicAngle "+Be.metadata.italicAngle),qe("/Ascent "+Be.metadata.ascender),qe("/Descent "+Be.metadata.decender),qe("/CapHeight "+Be.metadata.capHeight),qe(">>"),qe("endobj");var ar=He();qe("<<"),qe("/Type /Font"),qe("/BaseFont /"+F$2(Be.fontName)),qe("/FontDescriptor "+or+" 0 R"),qe("/W "+Re.API.PDFObject.convert(Ke)),qe("/CIDToGIDMap /Identity"),qe("/DW 1000"),qe("/Subtype /CIDFontType2"),qe("/CIDSystemInfo"),qe("<<"),qe("/Supplement 0"),qe("/Registry (Adobe)"),qe("/Ordering ("+Be.encoding+")"),qe(">>"),qe(">>"),qe("endobj"),Be.objectNumber=He(),qe("<<"),qe("/Type /Font"),qe("/Subtype /Type0"),qe("/ToUnicode "+cr+" 0 R"),qe("/BaseFont /"+F$2(Be.fontName)),qe("/Encoding /"+Be.encoding),qe("/DescendantFonts ["+ar+" 0 R]"),qe(">>"),qe("endobj"),Be.isAlreadyPutted=!0}})(ke)}]),je.events.push(["putFont",function(ke){(function(Ce){var Be=Ce.font,qe=Ce.out,He=Ce.newObject,We=Ce.putStream;if(Be.metadata instanceof Re.API.TTFFont&&Be.encoding==="WinAnsiEncoding"){for(var Ke=Be.metadata.rawData,Je="",Qe=0;Qe<Ke.length;Qe++)Je+=String.fromCharCode(Ke[Qe]);var rr=He();We({data:Je,addLength1:!0,objectId:rr}),qe("endobj");var tr=He();We({data:Me(Be.metadata.toUnicode),addLength1:!0,objectId:tr}),qe("endobj");var cr=He();qe("<<"),qe("/Descent "+Be.metadata.decender),qe("/CapHeight "+Be.metadata.capHeight),qe("/StemV "+Be.metadata.stemV),qe("/Type /FontDescriptor"),qe("/FontFile2 "+rr+" 0 R"),qe("/Flags 96"),qe("/FontBBox "+Re.API.PDFObject.convert(Be.metadata.bbox)),qe("/FontName /"+F$2(Be.fontName)),qe("/ItalicAngle "+Be.metadata.italicAngle),qe("/Ascent "+Be.metadata.ascender),qe(">>"),qe("endobj"),Be.objectNumber=He();for(var or=0;or<Be.metadata.hmtx.widths.length;or++)Be.metadata.hmtx.widths[or]=parseInt(Be.metadata.hmtx.widths[or]*(1e3/Be.metadata.head.unitsPerEm));qe("<</Subtype/TrueType/Type/Font/ToUnicode "+tr+" 0 R/BaseFont/"+F$2(Be.fontName)+"/FontDescriptor "+cr+" 0 R/Encoding/"+Be.encoding+" /FirstChar 29 /LastChar 255 /Widths "+Re.API.PDFObject.convert(Be.metadata.hmtx.widths)+">>"),qe("endobj"),Be.isAlreadyPutted=!0}})(ke)}]);var $e=function(ke){var Ce,Be=ke.text||"",qe=ke.x,He=ke.y,We=ke.options||{},Ke=ke.mutex||{},Je=Ke.pdfEscape,Qe=Ke.activeFontKey,rr=Ke.fonts,tr=Qe,cr="",or=0,ar="",pr=rr[tr].encoding;if(rr[tr].encoding!=="Identity-H")return{text:Be,x:qe,y:He,options:We,mutex:Ke};for(ar=Be,tr=Qe,Array.isArray(Be)&&(ar=Be[0]),or=0;or<ar.length;or+=1)rr[tr].metadata.hasOwnProperty("cmap")&&(Ce=rr[tr].metadata.cmap.unicode.codeMap[ar[or].charCodeAt(0)]),Ce||ar[or].charCodeAt(0)<256&&rr[tr].metadata.hasOwnProperty("Unicode")?cr+=ar[or]:cr+="";var ur="";return parseInt(tr.slice(1))<14||pr==="WinAnsiEncoding"?ur=Je(cr,tr).split("").map(function(gr){return gr.charCodeAt(0).toString(16)}).join(""):pr==="Identity-H"&&(ur=_e(cr,rr[tr])),Ke.isHex=!0,{text:ur,x:qe,y:He,options:We,mutex:Ke}};je.events.push(["postProcessText",function(ke){var Ce=ke.text||"",Be=[],qe={text:Ce,x:ke.x,y:ke.y,options:ke.options,mutex:ke.mutex};if(Array.isArray(Ce)){var He=0;for(He=0;He<Ce.length;He+=1)Array.isArray(Ce[He])&&Ce[He].length===3?Be.push([$e(Object.assign({},qe,{text:Ce[He][0]})).text,Ce[He][1],Ce[He][2]]):Be.push($e(Object.assign({},qe,{text:Ce[He]})).text);ke.text=Be}else ke.text=$e(Object.assign({},qe,{text:Ce})).text}])}(E),function(Re){var je=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};Re.existsFileInVFS=function(_e){return je.call(this),this.internal.vFS[_e]!==void 0},Re.addFileToVFS=function(_e,Me){return je.call(this),this.internal.vFS[_e]=Me,this},Re.getFileFromVFS=function(_e){return je.call(this),this.internal.vFS[_e]!==void 0?this.internal.vFS[_e]:null}}(E.API),function(Re){Re.__bidiEngine__=Re.prototype.__bidiEngine__=function(Me){var $e,ke,Ce,Be,qe,He,We,Ke=je,Je=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],Qe=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],rr={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},tr={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},cr=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],or=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),ar=!1,pr=0;this.__bidiEngine__={};var ur=function(Xe){var Pe=Xe.charCodeAt(),Fe=Pe>>8,ze=tr[Fe];return ze!==void 0?Ke[256*ze+(255&Pe)]:Fe===252||Fe===253?"AL":or.test(Fe)?"L":Fe===8?"R":"N"},gr=function(Xe){for(var Pe,Fe=0;Fe<Xe.length;Fe++){if((Pe=ur(Xe.charAt(Fe)))==="L")return!1;if(Pe==="R")return!0}return!1},jr=function(Xe,Pe,Fe,ze){var Ue,Ge,Ze,er,Ve=Pe[ze];switch(Ve){case"L":case"R":ar=!1;break;case"N":case"AN":break;case"EN":ar&&(Ve="AN");break;case"AL":ar=!0,Ve="R";break;case"WS":Ve="N";break;case"CS":ze<1||ze+1>=Pe.length||(Ue=Fe[ze-1])!=="EN"&&Ue!=="AN"||(Ge=Pe[ze+1])!=="EN"&&Ge!=="AN"?Ve="N":ar&&(Ge="AN"),Ve=Ge===Ue?Ge:"N";break;case"ES":Ve=(Ue=ze>0?Fe[ze-1]:"B")==="EN"&&ze+1<Pe.length&&Pe[ze+1]==="EN"?"EN":"N";break;case"ET":if(ze>0&&Fe[ze-1]==="EN"){Ve="EN";break}if(ar){Ve="N";break}for(Ze=ze+1,er=Pe.length;Ze<er&&Pe[Ze]==="ET";)Ze++;Ve=Ze<er&&Pe[Ze]==="EN"?"EN":"N";break;case"NSM":if(Ce&&!Be){for(er=Pe.length,Ze=ze+1;Ze<er&&Pe[Ze]==="NSM";)Ze++;if(Ze<er){var Ie=Xe[ze],Ye=Ie>=1425&&Ie<=2303||Ie===64286;if(Ue=Pe[Ze],Ye&&(Ue==="R"||Ue==="AL")){Ve="R";break}}}Ve=ze<1||(Ue=Pe[ze-1])==="B"?"N":Fe[ze-1];break;case"B":ar=!1,$e=!0,Ve=pr;break;case"S":ke=!0,Ve="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":ar=!1;break;case"BN":Ve="N"}return Ve},vr=function(Xe,Pe,Fe){var ze=Xe.split("");return Fe&&dr(ze,Fe,{hiLevel:pr}),ze.reverse(),Pe&&Pe.reverse(),ze.join("")},dr=function(Xe,Pe,Fe){var ze,Ue,Ge,Ze,er,Ve=-1,Ie=Xe.length,Ye=0,ir=[],lr=pr?Qe:Je,br=[];for(ar=!1,$e=!1,ke=!1,Ue=0;Ue<Ie;Ue++)br[Ue]=ur(Xe[Ue]);for(Ge=0;Ge<Ie;Ge++){if(er=Ye,ir[Ge]=jr(Xe,br,ir,Ge),ze=240&(Ye=lr[er][rr[ir[Ge]]]),Ye&=15,Pe[Ge]=Ze=lr[Ye][5],ze>0)if(ze===16){for(Ue=Ve;Ue<Ge;Ue++)Pe[Ue]=1;Ve=-1}else Ve=-1;if(lr[Ye][6])Ve===-1&&(Ve=Ge);else if(Ve>-1){for(Ue=Ve;Ue<Ge;Ue++)Pe[Ue]=Ze;Ve=-1}br[Ge]==="B"&&(Pe[Ge]=0),Fe.hiLevel|=Ze}ke&&function(_r,Sr,wr){for(var Nr=0;Nr<wr;Nr++)if(_r[Nr]==="S"){Sr[Nr]=pr;for(var kr=Nr-1;kr>=0&&_r[kr]==="WS";kr--)Sr[kr]=pr}}(br,Pe,Ie)},xr=function(Xe,Pe,Fe,ze,Ue){if(!(Ue.hiLevel<Xe)){if(Xe===1&&pr===1&&!$e)return Pe.reverse(),void(Fe&&Fe.reverse());for(var Ge,Ze,er,Ve,Ie=Pe.length,Ye=0;Ye<Ie;){if(ze[Ye]>=Xe){for(er=Ye+1;er<Ie&&ze[er]>=Xe;)er++;for(Ve=Ye,Ze=er-1;Ve<Ze;Ve++,Ze--)Ge=Pe[Ve],Pe[Ve]=Pe[Ze],Pe[Ze]=Ge,Fe&&(Ge=Fe[Ve],Fe[Ve]=Fe[Ze],Fe[Ze]=Ge);Ye=er}Ye++}}},Rr=function(Xe,Pe,Fe){var ze=Xe.split(""),Ue={hiLevel:pr};return Fe||(Fe=[]),dr(ze,Fe,Ue),function(Ge,Ze,er){if(er.hiLevel!==0&&We)for(var Ve,Ie=0;Ie<Ge.length;Ie++)Ze[Ie]===1&&(Ve=cr.indexOf(Ge[Ie]))>=0&&(Ge[Ie]=cr[Ve+1])}(ze,Fe,Ue),xr(2,ze,Pe,Fe,Ue),xr(1,ze,Pe,Fe,Ue),ze.join("")};return this.__bidiEngine__.doBidiReorder=function(Xe,Pe,Fe){if(function(Ue,Ge){if(Ge)for(var Ze=0;Ze<Ue.length;Ze++)Ge[Ze]=Ze;Be===void 0&&(Be=gr(Ue)),He===void 0&&(He=gr(Ue))}(Xe,Pe),Ce||!qe||He)if(Ce&&qe&&Be^He)pr=Be?1:0,Xe=vr(Xe,Pe,Fe);else if(!Ce&&qe&&He)pr=Be?1:0,Xe=Rr(Xe,Pe,Fe),Xe=vr(Xe,Pe);else if(!Ce||Be||qe||He){if(Ce&&!qe&&Be^He)Xe=vr(Xe,Pe),Be?(pr=0,Xe=Rr(Xe,Pe,Fe)):(pr=1,Xe=Rr(Xe,Pe,Fe),Xe=vr(Xe,Pe));else if(Ce&&Be&&!qe&&He)pr=1,Xe=Rr(Xe,Pe,Fe),Xe=vr(Xe,Pe);else if(!Ce&&!qe&&Be^He){var ze=We;Be?(pr=1,Xe=Rr(Xe,Pe,Fe),pr=0,We=!1,Xe=Rr(Xe,Pe,Fe),We=ze):(pr=0,Xe=Rr(Xe,Pe,Fe),Xe=vr(Xe,Pe),pr=1,We=!1,Xe=Rr(Xe,Pe,Fe),We=ze,Xe=vr(Xe,Pe))}}else pr=0,Xe=Rr(Xe,Pe,Fe);else pr=Be?1:0,Xe=Rr(Xe,Pe,Fe);return Xe},this.__bidiEngine__.setOptions=function(Xe){Xe&&(Ce=Xe.isInputVisual,qe=Xe.isOutputVisual,Be=Xe.isInputRtl,He=Xe.isOutputRtl,We=Xe.isSymmetricSwapping)},this.__bidiEngine__.setOptions(Me),this.__bidiEngine__};var je=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],_e=new Re.__bidiEngine__({isInputVisual:!0});Re.API.events.push(["postProcessText",function(Me){var $e=Me.text,ke=(Me.x,Me.y,Me.options||{}),Ce=(Me.mutex,ke.lang,[]);if(ke.isInputVisual=typeof ke.isInputVisual!="boolean"||ke.isInputVisual,_e.setOptions(ke),Object.prototype.toString.call($e)==="[object Array]"){var Be=0;for(Ce=[],Be=0;Be<$e.length;Be+=1)Object.prototype.toString.call($e[Be])==="[object Array]"?Ce.push([_e.doBidiReorder($e[Be][0]),$e[Be][1],$e[Be][2]]):Ce.push([_e.doBidiReorder($e[Be])]);Me.text=Ce}else Me.text=_e.doBidiReorder($e);_e.setOptions({isInputVisual:!0})}])}(E),E.API.TTFFont=function(){function Re(je){var _e;if(this.rawData=je,_e=this.contents=new ne$1(je),this.contents.pos=4,_e.readString(4)==="ttcf")throw new Error("TTCF not supported.");_e.pos=0,this.parse(),this.subset=new Le(this),this.registerTTF()}return Re.open=function(je){return new Re(je)},Re.prototype.parse=function(){return this.directory=new ie$1(this.contents),this.head=new se$1(this),this.name=new pe$1(this),this.cmap=new ue$1(this),this.toUnicode={},this.hhea=new he(this),this.maxp=new ge(this),this.hmtx=new me(this),this.post=new fe(this),this.os2=new le$1(this),this.loca=new Ne(this),this.glyf=new be(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},Re.prototype.registerTTF=function(){var je,_e,Me,$e,ke;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var Ce,Be,qe,He;for(He=[],Ce=0,Be=(qe=this.bbox).length;Ce<Be;Ce++)je=qe[Ce],He.push(Math.round(je*this.scaleFactor));return He}.call(this),this.stemV=0,this.post.exists?(Me=255&($e=this.post.italic_angle),32768&(_e=$e>>16)&&(_e=-(1+(65535^_e))),this.italicAngle=+(_e+"."+Me)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(ke=this.familyClass)===1||ke===2||ke===3||ke===4||ke===5||ke===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},Re.prototype.characterToGlyph=function(je){var _e;return((_e=this.cmap.unicode)!=null?_e.codeMap[je]:void 0)||0},Re.prototype.widthOfGlyph=function(je){var _e;return _e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(je).advance*_e},Re.prototype.widthOfString=function(je,_e,Me){var $e,ke,Ce,Be;for(Ce=0,ke=0,Be=(je=""+je).length;0<=Be?ke<Be:ke>Be;ke=0<=Be?++ke:--ke)$e=je.charCodeAt(ke),Ce+=this.widthOfGlyph(this.characterToGlyph($e))+Me*(1e3/_e)||0;return Ce*(_e/1e3)},Re.prototype.lineHeight=function(je,_e){var Me;return _e==null&&(_e=!1),Me=_e?this.lineGap:0,(this.ascender+Me-this.decender)/1e3*je},Re}();var re$1,ne$1=function(){function Re(je){this.data=je??[],this.pos=0,this.length=this.data.length}return Re.prototype.readByte=function(){return this.data[this.pos++]},Re.prototype.writeByte=function(je){return this.data[this.pos++]=je},Re.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},Re.prototype.writeUInt32=function(je){return this.writeByte(je>>>24&255),this.writeByte(je>>16&255),this.writeByte(je>>8&255),this.writeByte(255&je)},Re.prototype.readInt32=function(){var je;return(je=this.readUInt32())>=2147483648?je-4294967296:je},Re.prototype.writeInt32=function(je){return je<0&&(je+=4294967296),this.writeUInt32(je)},Re.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},Re.prototype.writeUInt16=function(je){return this.writeByte(je>>8&255),this.writeByte(255&je)},Re.prototype.readInt16=function(){var je;return(je=this.readUInt16())>=32768?je-65536:je},Re.prototype.writeInt16=function(je){return je<0&&(je+=65536),this.writeUInt16(je)},Re.prototype.readString=function(je){var _e,Me;for(Me=[],_e=0;0<=je?_e<je:_e>je;_e=0<=je?++_e:--_e)Me[_e]=String.fromCharCode(this.readByte());return Me.join("")},Re.prototype.writeString=function(je){var _e,Me,$e;for($e=[],_e=0,Me=je.length;0<=Me?_e<Me:_e>Me;_e=0<=Me?++_e:--_e)$e.push(this.writeByte(je.charCodeAt(_e)));return $e},Re.prototype.readShort=function(){return this.readInt16()},Re.prototype.writeShort=function(je){return this.writeInt16(je)},Re.prototype.readLongLong=function(){var je,_e,Me,$e,ke,Ce,Be,qe;return je=this.readByte(),_e=this.readByte(),Me=this.readByte(),$e=this.readByte(),ke=this.readByte(),Ce=this.readByte(),Be=this.readByte(),qe=this.readByte(),128&je?-1*(72057594037927940*(255^je)+281474976710656*(255^_e)+1099511627776*(255^Me)+4294967296*(255^$e)+16777216*(255^ke)+65536*(255^Ce)+256*(255^Be)+(255^qe)+1):72057594037927940*je+281474976710656*_e+1099511627776*Me+4294967296*$e+16777216*ke+65536*Ce+256*Be+qe},Re.prototype.writeLongLong=function(je){var _e,Me;return _e=Math.floor(je/4294967296),Me=4294967295&je,this.writeByte(_e>>24&255),this.writeByte(_e>>16&255),this.writeByte(_e>>8&255),this.writeByte(255&_e),this.writeByte(Me>>24&255),this.writeByte(Me>>16&255),this.writeByte(Me>>8&255),this.writeByte(255&Me)},Re.prototype.readInt=function(){return this.readInt32()},Re.prototype.writeInt=function(je){return this.writeInt32(je)},Re.prototype.read=function(je){var _e,Me;for(_e=[],Me=0;0<=je?Me<je:Me>je;Me=0<=je?++Me:--Me)_e.push(this.readByte());return _e},Re.prototype.write=function(je){var _e,Me,$e,ke;for(ke=[],Me=0,$e=je.length;Me<$e;Me++)_e=je[Me],ke.push(this.writeByte(_e));return ke},Re}(),ie$1=function(){var Re;function je(_e){var Me,$e,ke;for(this.scalarType=_e.readInt(),this.tableCount=_e.readShort(),this.searchRange=_e.readShort(),this.entrySelector=_e.readShort(),this.rangeShift=_e.readShort(),this.tables={},$e=0,ke=this.tableCount;0<=ke?$e<ke:$e>ke;$e=0<=ke?++$e:--$e)Me={tag:_e.readString(4),checksum:_e.readInt(),offset:_e.readInt(),length:_e.readInt()},this.tables[Me.tag]=Me}return je.prototype.encode=function(_e){var Me,$e,ke,Ce,Be,qe,He,We,Ke,Je,Qe,rr,tr;for(tr in Qe=Object.keys(_e).length,qe=Math.log(2),Ke=16*Math.floor(Math.log(Qe)/qe),Ce=Math.floor(Ke/qe),We=16*Qe-Ke,($e=new ne$1).writeInt(this.scalarType),$e.writeShort(Qe),$e.writeShort(Ke),$e.writeShort(Ce),$e.writeShort(We),ke=16*Qe,He=$e.pos+ke,Be=null,rr=[],_e)for(Je=_e[tr],$e.writeString(tr),$e.writeInt(Re(Je)),$e.writeInt(He),$e.writeInt(Je.length),rr=rr.concat(Je),tr==="head"&&(Be=He),He+=Je.length;He%4;)rr.push(0),He++;return $e.write(rr),Me=2981146554-Re($e.data),$e.pos=Be+8,$e.writeUInt32(Me),$e.data},Re=function(_e){var Me,$e,ke,Ce;for(_e=ve.call(_e);_e.length%4;)_e.push(0);for(ke=new ne$1(_e),$e=0,Me=0,Ce=_e.length;Me<Ce;Me=Me+=4)$e+=ke.readUInt32();return 4294967295&$e},je}(),ae$1={}.hasOwnProperty,oe$1=function(Re,je){for(var _e in je)ae$1.call(je,_e)&&(Re[_e]=je[_e]);function Me(){this.constructor=Re}return Me.prototype=je.prototype,Re.prototype=new Me,Re.__super__=je.prototype,Re};re$1=function(){function Re(je){var _e;this.file=je,_e=this.file.directory.tables[this.tag],this.exists=!!_e,_e&&(this.offset=_e.offset,this.length=_e.length,this.parse(this.file.contents))}return Re.prototype.parse=function(){},Re.prototype.encode=function(){},Re.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},Re}();var se$1=function(Re){function je(){return je.__super__.constructor.apply(this,arguments)}return oe$1(je,re$1),je.prototype.tag="head",je.prototype.parse=function(_e){return _e.pos=this.offset,this.version=_e.readInt(),this.revision=_e.readInt(),this.checkSumAdjustment=_e.readInt(),this.magicNumber=_e.readInt(),this.flags=_e.readShort(),this.unitsPerEm=_e.readShort(),this.created=_e.readLongLong(),this.modified=_e.readLongLong(),this.xMin=_e.readShort(),this.yMin=_e.readShort(),this.xMax=_e.readShort(),this.yMax=_e.readShort(),this.macStyle=_e.readShort(),this.lowestRecPPEM=_e.readShort(),this.fontDirectionHint=_e.readShort(),this.indexToLocFormat=_e.readShort(),this.glyphDataFormat=_e.readShort()},je.prototype.encode=function(_e){var Me;return(Me=new ne$1).writeInt(this.version),Me.writeInt(this.revision),Me.writeInt(this.checkSumAdjustment),Me.writeInt(this.magicNumber),Me.writeShort(this.flags),Me.writeShort(this.unitsPerEm),Me.writeLongLong(this.created),Me.writeLongLong(this.modified),Me.writeShort(this.xMin),Me.writeShort(this.yMin),Me.writeShort(this.xMax),Me.writeShort(this.yMax),Me.writeShort(this.macStyle),Me.writeShort(this.lowestRecPPEM),Me.writeShort(this.fontDirectionHint),Me.writeShort(_e),Me.writeShort(this.glyphDataFormat),Me.data},je}(),ce=function(){function Re(je,_e){var Me,$e,ke,Ce,Be,qe,He,We,Ke,Je,Qe,rr,tr,cr,or,ar,pr;switch(this.platformID=je.readUInt16(),this.encodingID=je.readShort(),this.offset=_e+je.readInt(),Ke=je.pos,je.pos=this.offset,this.format=je.readUInt16(),this.length=je.readUInt16(),this.language=je.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(qe=0;qe<256;++qe)this.codeMap[qe]=je.readByte();break;case 4:for(Qe=je.readUInt16(),Je=Qe/2,je.pos+=6,ke=function(){var ur,gr;for(gr=[],qe=ur=0;0<=Je?ur<Je:ur>Je;qe=0<=Je?++ur:--ur)gr.push(je.readUInt16());return gr}(),je.pos+=2,tr=function(){var ur,gr;for(gr=[],qe=ur=0;0<=Je?ur<Je:ur>Je;qe=0<=Je?++ur:--ur)gr.push(je.readUInt16());return gr}(),He=function(){var ur,gr;for(gr=[],qe=ur=0;0<=Je?ur<Je:ur>Je;qe=0<=Je?++ur:--ur)gr.push(je.readUInt16());return gr}(),We=function(){var ur,gr;for(gr=[],qe=ur=0;0<=Je?ur<Je:ur>Je;qe=0<=Je?++ur:--ur)gr.push(je.readUInt16());return gr}(),$e=(this.length-je.pos+this.offset)/2,Be=function(){var ur,gr;for(gr=[],qe=ur=0;0<=$e?ur<$e:ur>$e;qe=0<=$e?++ur:--ur)gr.push(je.readUInt16());return gr}(),qe=or=0,pr=ke.length;or<pr;qe=++or)for(cr=ke[qe],Me=ar=rr=tr[qe];rr<=cr?ar<=cr:ar>=cr;Me=rr<=cr?++ar:--ar)We[qe]===0?Ce=Me+He[qe]:(Ce=Be[We[qe]/2+(Me-rr)-(Je-qe)]||0)!==0&&(Ce+=He[qe]),this.codeMap[Me]=65535&Ce}je.pos=Ke}return Re.encode=function(je,_e){var Me,$e,ke,Ce,Be,qe,He,We,Ke,Je,Qe,rr,tr,cr,or,ar,pr,ur,gr,jr,vr,dr,xr,Rr,Xe,Pe,Fe,ze,Ue,Ge,Ze,er,Ve,Ie,Ye,ir,lr,br,_r,Sr,wr,Nr,kr,Lr,Xr,Ur;switch(ze=new ne$1,Ce=Object.keys(je).sort(function(Gr,Ts){return Gr-Ts}),_e){case"macroman":for(tr=0,cr=function(){var Gr=[];for(rr=0;rr<256;++rr)Gr.push(0);return Gr}(),ar={0:0},ke={},Ue=0,Ve=Ce.length;Ue<Ve;Ue++)ar[kr=je[$e=Ce[Ue]]]==null&&(ar[kr]=++tr),ke[$e]={old:je[$e],new:ar[je[$e]]},cr[$e]=ar[je[$e]];return ze.writeUInt16(1),ze.writeUInt16(0),ze.writeUInt32(12),ze.writeUInt16(0),ze.writeUInt16(262),ze.writeUInt16(0),ze.write(cr),{charMap:ke,subtable:ze.data,maxGlyphID:tr+1};case"unicode":for(Pe=[],Ke=[],pr=0,ar={},Me={},or=He=null,Ge=0,Ie=Ce.length;Ge<Ie;Ge++)ar[gr=je[$e=Ce[Ge]]]==null&&(ar[gr]=++pr),Me[$e]={old:gr,new:ar[gr]},Be=ar[gr]-$e,or!=null&&Be===He||(or&&Ke.push(or),Pe.push($e),He=Be),or=$e;for(or&&Ke.push(or),Ke.push(65535),Pe.push(65535),Rr=2*(xr=Pe.length),dr=2*Math.pow(Math.log(xr)/Math.LN2,2),Je=Math.log(dr/2)/Math.LN2,vr=2*xr-dr,qe=[],jr=[],Qe=[],rr=Ze=0,Ye=Pe.length;Ze<Ye;rr=++Ze){if(Xe=Pe[rr],We=Ke[rr],Xe===65535){qe.push(0),jr.push(0);break}if(Xe-(Fe=Me[Xe].new)>=32768)for(qe.push(0),jr.push(2*(Qe.length+xr-rr)),$e=er=Xe;Xe<=We?er<=We:er>=We;$e=Xe<=We?++er:--er)Qe.push(Me[$e].new);else qe.push(Fe-Xe),jr.push(0)}for(ze.writeUInt16(3),ze.writeUInt16(1),ze.writeUInt32(12),ze.writeUInt16(4),ze.writeUInt16(16+8*xr+2*Qe.length),ze.writeUInt16(0),ze.writeUInt16(Rr),ze.writeUInt16(dr),ze.writeUInt16(Je),ze.writeUInt16(vr),wr=0,ir=Ke.length;wr<ir;wr++)$e=Ke[wr],ze.writeUInt16($e);for(ze.writeUInt16(0),Nr=0,lr=Pe.length;Nr<lr;Nr++)$e=Pe[Nr],ze.writeUInt16($e);for(Lr=0,br=qe.length;Lr<br;Lr++)Be=qe[Lr],ze.writeUInt16(Be);for(Xr=0,_r=jr.length;Xr<_r;Xr++)ur=jr[Xr],ze.writeUInt16(ur);for(Ur=0,Sr=Qe.length;Ur<Sr;Ur++)tr=Qe[Ur],ze.writeUInt16(tr);return{charMap:Me,subtable:ze.data,maxGlyphID:pr+1}}},Re}(),ue$1=function(Re){function je(){return je.__super__.constructor.apply(this,arguments)}return oe$1(je,re$1),je.prototype.tag="cmap",je.prototype.parse=function(_e){var Me,$e,ke;for(_e.pos=this.offset,this.version=_e.readUInt16(),ke=_e.readUInt16(),this.tables=[],this.unicode=null,$e=0;0<=ke?$e<ke:$e>ke;$e=0<=ke?++$e:--$e)Me=new ce(_e,this.offset),this.tables.push(Me),Me.isUnicode&&this.unicode==null&&(this.unicode=Me);return!0},je.encode=function(_e,Me){var $e,ke;return Me==null&&(Me="macroman"),$e=ce.encode(_e,Me),(ke=new ne$1).writeUInt16(0),ke.writeUInt16(1),$e.table=ke.data.concat($e.subtable),$e},je}(),he=function(Re){function je(){return je.__super__.constructor.apply(this,arguments)}return oe$1(je,re$1),je.prototype.tag="hhea",je.prototype.parse=function(_e){return _e.pos=this.offset,this.version=_e.readInt(),this.ascender=_e.readShort(),this.decender=_e.readShort(),this.lineGap=_e.readShort(),this.advanceWidthMax=_e.readShort(),this.minLeftSideBearing=_e.readShort(),this.minRightSideBearing=_e.readShort(),this.xMaxExtent=_e.readShort(),this.caretSlopeRise=_e.readShort(),this.caretSlopeRun=_e.readShort(),this.caretOffset=_e.readShort(),_e.pos+=8,this.metricDataFormat=_e.readShort(),this.numberOfMetrics=_e.readUInt16()},je}(),le$1=function(Re){function je(){return je.__super__.constructor.apply(this,arguments)}return oe$1(je,re$1),je.prototype.tag="OS/2",je.prototype.parse=function(_e){if(_e.pos=this.offset,this.version=_e.readUInt16(),this.averageCharWidth=_e.readShort(),this.weightClass=_e.readUInt16(),this.widthClass=_e.readUInt16(),this.type=_e.readShort(),this.ySubscriptXSize=_e.readShort(),this.ySubscriptYSize=_e.readShort(),this.ySubscriptXOffset=_e.readShort(),this.ySubscriptYOffset=_e.readShort(),this.ySuperscriptXSize=_e.readShort(),this.ySuperscriptYSize=_e.readShort(),this.ySuperscriptXOffset=_e.readShort(),this.ySuperscriptYOffset=_e.readShort(),this.yStrikeoutSize=_e.readShort(),this.yStrikeoutPosition=_e.readShort(),this.familyClass=_e.readShort(),this.panose=function(){var Me,$e;for($e=[],Me=0;Me<10;++Me)$e.push(_e.readByte());return $e}(),this.charRange=function(){var Me,$e;for($e=[],Me=0;Me<4;++Me)$e.push(_e.readInt());return $e}(),this.vendorID=_e.readString(4),this.selection=_e.readShort(),this.firstCharIndex=_e.readShort(),this.lastCharIndex=_e.readShort(),this.version>0&&(this.ascent=_e.readShort(),this.descent=_e.readShort(),this.lineGap=_e.readShort(),this.winAscent=_e.readShort(),this.winDescent=_e.readShort(),this.codePageRange=function(){var Me,$e;for($e=[],Me=0;Me<2;Me=++Me)$e.push(_e.readInt());return $e}(),this.version>1))return this.xHeight=_e.readShort(),this.capHeight=_e.readShort(),this.defaultChar=_e.readShort(),this.breakChar=_e.readShort(),this.maxContext=_e.readShort()},je}(),fe=function(Re){function je(){return je.__super__.constructor.apply(this,arguments)}return oe$1(je,re$1),je.prototype.tag="post",je.prototype.parse=function(_e){var Me,$e,ke;switch(_e.pos=this.offset,this.format=_e.readInt(),this.italicAngle=_e.readInt(),this.underlinePosition=_e.readShort(),this.underlineThickness=_e.readShort(),this.isFixedPitch=_e.readInt(),this.minMemType42=_e.readInt(),this.maxMemType42=_e.readInt(),this.minMemType1=_e.readInt(),this.maxMemType1=_e.readInt(),this.format){case 65536:break;case 131072:var Ce;for($e=_e.readUInt16(),this.glyphNameIndex=[],Ce=0;0<=$e?Ce<$e:Ce>$e;Ce=0<=$e?++Ce:--Ce)this.glyphNameIndex.push(_e.readUInt16());for(this.names=[],ke=[];_e.pos<this.offset+this.length;)Me=_e.readByte(),ke.push(this.names.push(_e.readString(Me)));return ke;case 151552:return $e=_e.readUInt16(),this.offsets=_e.read($e);case 196608:break;case 262144:return this.map=function(){var Be,qe,He;for(He=[],Ce=Be=0,qe=this.file.maxp.numGlyphs;0<=qe?Be<qe:Be>qe;Ce=0<=qe?++Be:--Be)He.push(_e.readUInt32());return He}.call(this)}},je}(),de=function(Re,je){this.raw=Re,this.length=Re.length,this.platformID=je.platformID,this.encodingID=je.encodingID,this.languageID=je.languageID},pe$1=function(Re){function je(){return je.__super__.constructor.apply(this,arguments)}return oe$1(je,re$1),je.prototype.tag="name",je.prototype.parse=function(_e){var Me,$e,ke,Ce,Be,qe,He,We,Ke,Je,Qe;for(_e.pos=this.offset,_e.readShort(),Me=_e.readShort(),qe=_e.readShort(),$e=[],Ce=0;0<=Me?Ce<Me:Ce>Me;Ce=0<=Me?++Ce:--Ce)$e.push({platformID:_e.readShort(),encodingID:_e.readShort(),languageID:_e.readShort(),nameID:_e.readShort(),length:_e.readShort(),offset:this.offset+qe+_e.readShort()});for(He={},Ce=Ke=0,Je=$e.length;Ke<Je;Ce=++Ke)ke=$e[Ce],_e.pos=ke.offset,We=_e.readString(ke.length),Be=new de(We,ke),He[Qe=ke.nameID]==null&&(He[Qe]=[]),He[ke.nameID].push(Be);this.strings=He,this.copyright=He[0],this.fontFamily=He[1],this.fontSubfamily=He[2],this.uniqueSubfamily=He[3],this.fontName=He[4],this.version=He[5];try{this.postscriptName=He[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=He[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=He[7],this.manufacturer=He[8],this.designer=He[9],this.description=He[10],this.vendorUrl=He[11],this.designerUrl=He[12],this.license=He[13],this.licenseUrl=He[14],this.preferredFamily=He[15],this.preferredSubfamily=He[17],this.compatibleFull=He[18],this.sampleText=He[19]},je}(),ge=function(Re){function je(){return je.__super__.constructor.apply(this,arguments)}return oe$1(je,re$1),je.prototype.tag="maxp",je.prototype.parse=function(_e){return _e.pos=this.offset,this.version=_e.readInt(),this.numGlyphs=_e.readUInt16(),this.maxPoints=_e.readUInt16(),this.maxContours=_e.readUInt16(),this.maxCompositePoints=_e.readUInt16(),this.maxComponentContours=_e.readUInt16(),this.maxZones=_e.readUInt16(),this.maxTwilightPoints=_e.readUInt16(),this.maxStorage=_e.readUInt16(),this.maxFunctionDefs=_e.readUInt16(),this.maxInstructionDefs=_e.readUInt16(),this.maxStackElements=_e.readUInt16(),this.maxSizeOfInstructions=_e.readUInt16(),this.maxComponentElements=_e.readUInt16(),this.maxComponentDepth=_e.readUInt16()},je}(),me=function(Re){function je(){return je.__super__.constructor.apply(this,arguments)}return oe$1(je,re$1),je.prototype.tag="hmtx",je.prototype.parse=function(_e){var Me,$e,ke,Ce,Be,qe,He;for(_e.pos=this.offset,this.metrics=[],Me=0,qe=this.file.hhea.numberOfMetrics;0<=qe?Me<qe:Me>qe;Me=0<=qe?++Me:--Me)this.metrics.push({advance:_e.readUInt16(),lsb:_e.readInt16()});for(ke=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var We,Ke;for(Ke=[],Me=We=0;0<=ke?We<ke:We>ke;Me=0<=ke?++We:--We)Ke.push(_e.readInt16());return Ke}(),this.widths=function(){var We,Ke,Je,Qe;for(Qe=[],We=0,Ke=(Je=this.metrics).length;We<Ke;We++)Ce=Je[We],Qe.push(Ce.advance);return Qe}.call(this),$e=this.widths[this.widths.length-1],He=[],Me=Be=0;0<=ke?Be<ke:Be>ke;Me=0<=ke?++Be:--Be)He.push(this.widths.push($e));return He},je.prototype.forGlyph=function(_e){return _e in this.metrics?this.metrics[_e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[_e-this.metrics.length]}},je}(),ve=[].slice,be=function(Re){function je(){return je.__super__.constructor.apply(this,arguments)}return oe$1(je,re$1),je.prototype.tag="glyf",je.prototype.parse=function(){return this.cache={}},je.prototype.glyphFor=function(_e){var Me,$e,ke,Ce,Be,qe,He,We,Ke,Je;return _e in this.cache?this.cache[_e]:(Ce=this.file.loca,Me=this.file.contents,$e=Ce.indexOf(_e),(ke=Ce.lengthOf(_e))===0?this.cache[_e]=null:(Me.pos=this.offset+$e,Be=(qe=new ne$1(Me.read(ke))).readShort(),We=qe.readShort(),Je=qe.readShort(),He=qe.readShort(),Ke=qe.readShort(),this.cache[_e]=Be===-1?new we(qe,We,Je,He,Ke):new ye(qe,Be,We,Je,He,Ke),this.cache[_e]))},je.prototype.encode=function(_e,Me,$e){var ke,Ce,Be,qe,He;for(Be=[],Ce=[],qe=0,He=Me.length;qe<He;qe++)ke=_e[Me[qe]],Ce.push(Be.length),ke&&(Be=Be.concat(ke.encode($e)));return Ce.push(Be.length),{table:Be,offsets:Ce}},je}(),ye=function(){function Re(je,_e,Me,$e,ke,Ce){this.raw=je,this.numberOfContours=_e,this.xMin=Me,this.yMin=$e,this.xMax=ke,this.yMax=Ce,this.compound=!1}return Re.prototype.encode=function(){return this.raw.data},Re}(),we=function(){function Re(je,_e,Me,$e,ke){var Ce,Be;for(this.raw=je,this.xMin=_e,this.yMin=Me,this.xMax=$e,this.yMax=ke,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],Ce=this.raw;Be=Ce.readShort(),this.glyphOffsets.push(Ce.pos),this.glyphIDs.push(Ce.readUInt16()),32&Be;)Ce.pos+=1&Be?4:2,128&Be?Ce.pos+=8:64&Be?Ce.pos+=4:8&Be&&(Ce.pos+=2)}return Re.prototype.encode=function(){var je,_e,Me;for(_e=new ne$1(ve.call(this.raw.data)),je=0,Me=this.glyphIDs.length;je<Me;++je)_e.pos=this.glyphOffsets[je];return _e.data},Re}(),Ne=function(Re){function je(){return je.__super__.constructor.apply(this,arguments)}return oe$1(je,re$1),je.prototype.tag="loca",je.prototype.parse=function(_e){var Me,$e;return _e.pos=this.offset,Me=this.file.head.indexToLocFormat,this.offsets=Me===0?function(){var ke,Ce;for(Ce=[],$e=0,ke=this.length;$e<ke;$e+=2)Ce.push(2*_e.readUInt16());return Ce}.call(this):function(){var ke,Ce;for(Ce=[],$e=0,ke=this.length;$e<ke;$e+=4)Ce.push(_e.readUInt32());return Ce}.call(this)},je.prototype.indexOf=function(_e){return this.offsets[_e]},je.prototype.lengthOf=function(_e){return this.offsets[_e+1]-this.offsets[_e]},je.prototype.encode=function(_e,Me){for(var $e=new Uint32Array(this.offsets.length),ke=0,Ce=0,Be=0;Be<$e.length;++Be)if($e[Be]=ke,Ce<Me.length&&Me[Ce]==Be){++Ce,$e[Be]=ke;var qe=this.offsets[Be],He=this.offsets[Be+1]-qe;He>0&&(ke+=He)}for(var We=new Array(4*$e.length),Ke=0;Ke<$e.length;++Ke)We[4*Ke+3]=255&$e[Ke],We[4*Ke+2]=(65280&$e[Ke])>>8,We[4*Ke+1]=(16711680&$e[Ke])>>16,We[4*Ke]=(4278190080&$e[Ke])>>24;return We},je}(),Le=function(){function Re(je){this.font=je,this.subset={},this.unicodes={},this.next=33}return Re.prototype.generateCmap=function(){var je,_e,Me,$e,ke;for(_e in $e=this.font.cmap.tables[0].codeMap,je={},ke=this.subset)Me=ke[_e],je[_e]=$e[Me];return je},Re.prototype.glyphsFor=function(je){var _e,Me,$e,ke,Ce,Be,qe;for($e={},Ce=0,Be=je.length;Ce<Be;Ce++)$e[ke=je[Ce]]=this.font.glyf.glyphFor(ke);for(ke in _e=[],$e)(Me=$e[ke])!=null&&Me.compound&&_e.push.apply(_e,Me.glyphIDs);if(_e.length>0)for(ke in qe=this.glyphsFor(_e))Me=qe[ke],$e[ke]=Me;return $e},Re.prototype.encode=function(je,_e){var Me,$e,ke,Ce,Be,qe,He,We,Ke,Je,Qe,rr,tr,cr,or;for($e in Me=ue$1.encode(this.generateCmap(),"unicode"),Ce=this.glyphsFor(je),Qe={0:0},or=Me.charMap)Qe[(qe=or[$e]).old]=qe.new;for(rr in Je=Me.maxGlyphID,Ce)rr in Qe||(Qe[rr]=Je++);return We=function(ar){var pr,ur;for(pr in ur={},ar)ur[ar[pr]]=pr;return ur}(Qe),Ke=Object.keys(We).sort(function(ar,pr){return ar-pr}),tr=function(){var ar,pr,ur;for(ur=[],ar=0,pr=Ke.length;ar<pr;ar++)Be=Ke[ar],ur.push(We[Be]);return ur}(),ke=this.font.glyf.encode(Ce,tr,Qe),He=this.font.loca.encode(ke.offsets,tr),cr={cmap:this.font.cmap.raw(),glyf:ke.table,loca:He,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(_e)},this.font.os2.exists&&(cr["OS/2"]=this.font.os2.raw()),this.font.directory.encode(cr)},Re}();E.API.PDFObject=function(){var Re;function je(){}return Re=function(_e,Me){return(Array(Me+1).join("0")+_e).slice(-Me)},je.convert=function(_e){var Me,$e,ke,Ce;if(Array.isArray(_e))return"["+function(){var Be,qe,He;for(He=[],Be=0,qe=_e.length;Be<qe;Be++)Me=_e[Be],He.push(je.convert(Me));return He}().join(" ")+"]";if(typeof _e=="string")return"/"+_e;if(_e?.isString)return"("+_e+")";if(_e instanceof Date)return"(D:"+Re(_e.getUTCFullYear(),4)+Re(_e.getUTCMonth(),2)+Re(_e.getUTCDate(),2)+Re(_e.getUTCHours(),2)+Re(_e.getUTCMinutes(),2)+Re(_e.getUTCSeconds(),2)+"Z)";if({}.toString.call(_e)==="[object Object]"){for($e in ke=["<<"],_e)Ce=_e[$e],ke.push("/"+$e+" "+je.convert(Ce));return ke.push(">>"),ke.join(`
`)}return""+_e},je}();const jspdf_es_min=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:St,AcroFormAppearance:At,AcroFormButton:mt,AcroFormCheckBox:wt,AcroFormChoiceField:ft,AcroFormComboBox:pt,AcroFormEditBox:gt$1,AcroFormListBox:dt,AcroFormPasswordField:Lt,AcroFormPushButton:vt,AcroFormRadioButton:bt,AcroFormTextField:Nt,GState:j,ShadingPattern:B,TilingPattern:M$1,default:E,jsPDF:E},Symbol.toStringTag,{value:"Module"}));var jspdf_plugin_autotable={exports:{}};const require$$0$1=getAugmentedNamespace(jspdf_es_min);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */(function(Re,je){(function(Me,$e){Re.exports=$e(function(){try{return require$$0$1}catch{}}())})(typeof globalThis<"u"?globalThis:typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:commonjsGlobal,function(_e){return function(){var Me={172:function(Be,qe){var He=this&&this.__extends||function(){var Je=function(Qe,rr){return Je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(tr,cr){tr.__proto__=cr}||function(tr,cr){for(var or in cr)Object.prototype.hasOwnProperty.call(cr,or)&&(tr[or]=cr[or])},Je(Qe,rr)};return function(Qe,rr){if(typeof rr!="function"&&rr!==null)throw new TypeError("Class extends value "+String(rr)+" is not a constructor or null");Je(Qe,rr);function tr(){this.constructor=Qe}Qe.prototype=rr===null?Object.create(rr):(tr.prototype=rr.prototype,new tr)}}();Object.defineProperty(qe,"__esModule",{value:!0}),qe.CellHookData=qe.HookData=void 0;var We=function(){function Je(Qe,rr,tr){this.table=rr,this.pageNumber=rr.pageNumber,this.pageCount=this.pageNumber,this.settings=rr.settings,this.cursor=tr,this.doc=Qe.getDocument()}return Je}();qe.HookData=We;var Ke=function(Je){He(Qe,Je);function Qe(rr,tr,cr,or,ar,pr){var ur=Je.call(this,rr,tr,pr)||this;return ur.cell=cr,ur.row=or,ur.column=ar,ur.section=or.section,ur}return Qe}(We);qe.CellHookData=Ke},340:function(Be,qe,He){Object.defineProperty(qe,"__esModule",{value:!0});var We=He(4),Ke=He(136),Je=He(744),Qe=He(776),rr=He(664),tr=He(972);function cr(or){or.API.autoTable=function(){for(var ar=[],pr=0;pr<arguments.length;pr++)ar[pr]=arguments[pr];var ur;ar.length===1?ur=ar[0]:(console.error("Use of deprecated autoTable initiation"),ur=ar[2]||{},ur.columns=ar[0],ur.body=ar[1]);var gr=(0,Qe.parseInput)(this,ur),jr=(0,tr.createTable)(this,gr);return(0,rr.drawTable)(this,jr),this},or.API.lastAutoTable=!1,or.API.previousAutoTable=!1,or.API.autoTable.previous=!1,or.API.autoTableText=function(ar,pr,ur,gr){(0,Ke.default)(ar,pr,ur,gr,this)},or.API.autoTableSetDefaults=function(ar){return Je.DocHandler.setDefaults(ar,this),this},or.autoTableSetDefaults=function(ar,pr){Je.DocHandler.setDefaults(ar,pr)},or.API.autoTableHtmlToJson=function(ar,pr){var ur;if(pr===void 0&&(pr=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var gr=new Je.DocHandler(this),jr=(0,We.parseHtml)(gr,ar,window,pr,!1),vr=jr.head,dr=jr.body,xr=((ur=vr[0])===null||ur===void 0?void 0:ur.map(function(Rr){return Rr.content}))||[];return{columns:xr,rows:dr,data:dr}},or.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var ar=this.lastAutoTable;return ar&&ar.finalY?ar.finalY:0},or.API.autoTableAddPageContent=function(ar){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),or.API.autoTable.globalDefaults||(or.API.autoTable.globalDefaults={}),or.API.autoTable.globalDefaults.addPageContent=ar,this},or.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}qe.default=cr},136:function(Be,qe){Object.defineProperty(qe,"__esModule",{value:!0});function He(We,Ke,Je,Qe,rr){Qe=Qe||{};var tr=1.15,cr=rr.internal.scaleFactor,or=rr.internal.getFontSize()/cr,ar=rr.getLineHeightFactor?rr.getLineHeightFactor():tr,pr=or*ar,ur=/\r\n|\r|\n/g,gr="",jr=1;if((Qe.valign==="middle"||Qe.valign==="bottom"||Qe.halign==="center"||Qe.halign==="right")&&(gr=typeof We=="string"?We.split(ur):We,jr=gr.length||1),Je+=or*(2-tr),Qe.valign==="middle"?Je-=jr/2*pr:Qe.valign==="bottom"&&(Je-=jr*pr),Qe.halign==="center"||Qe.halign==="right"){var vr=or;if(Qe.halign==="center"&&(vr*=.5),gr&&jr>=1){for(var dr=0;dr<gr.length;dr++)rr.text(gr[dr],Ke-rr.getStringUnitWidth(gr[dr])*vr,Je),Je+=pr;return rr}Ke-=rr.getStringUnitWidth(We)*vr}return Qe.halign==="justify"?rr.text(We,Ke,Je,{maxWidth:Qe.maxWidth||100,align:"justify"}):rr.text(We,Ke,Je),rr}qe.default=He},420:function(Be,qe){Object.defineProperty(qe,"__esModule",{value:!0}),qe.getPageAvailableWidth=qe.parseSpacing=qe.getFillStyle=qe.addTableBorder=qe.getStringWidth=void 0;function He(rr,tr,cr){cr.applyStyles(tr,!0);var or=Array.isArray(rr)?rr:[rr],ar=or.map(function(pr){return cr.getTextWidth(pr)}).reduce(function(pr,ur){return Math.max(pr,ur)},0);return ar}qe.getStringWidth=He;function We(rr,tr,cr,or){var ar=tr.settings.tableLineWidth,pr=tr.settings.tableLineColor;rr.applyStyles({lineWidth:ar,lineColor:pr});var ur=Ke(ar,!1);ur&&rr.rect(cr.x,cr.y,tr.getWidth(rr.pageSize().width),or.y-cr.y,ur)}qe.addTableBorder=We;function Ke(rr,tr){var cr=rr>0,or=tr||tr===0;return cr&&or?"DF":cr?"S":or?"F":null}qe.getFillStyle=Ke;function Je(rr,tr){var cr,or,ar,pr;if(rr=rr||tr,Array.isArray(rr)){if(rr.length>=4)return{top:rr[0],right:rr[1],bottom:rr[2],left:rr[3]};if(rr.length===3)return{top:rr[0],right:rr[1],bottom:rr[2],left:rr[1]};if(rr.length===2)return{top:rr[0],right:rr[1],bottom:rr[0],left:rr[1]};rr.length===1?rr=rr[0]:rr=tr}return typeof rr=="object"?(typeof rr.vertical=="number"&&(rr.top=rr.vertical,rr.bottom=rr.vertical),typeof rr.horizontal=="number"&&(rr.right=rr.horizontal,rr.left=rr.horizontal),{left:(cr=rr.left)!==null&&cr!==void 0?cr:tr,top:(or=rr.top)!==null&&or!==void 0?or:tr,right:(ar=rr.right)!==null&&ar!==void 0?ar:tr,bottom:(pr=rr.bottom)!==null&&pr!==void 0?pr:tr}):(typeof rr!="number"&&(rr=tr),{top:rr,right:rr,bottom:rr,left:rr})}qe.parseSpacing=Je;function Qe(rr,tr){var cr=Je(tr.settings.margin,0);return rr.pageSize().width-(cr.left+cr.right)}qe.getPageAvailableWidth=Qe},796:function(Be,qe){var He=this&&this.__extends||function(){var Qe=function(rr,tr){return Qe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(cr,or){cr.__proto__=or}||function(cr,or){for(var ar in or)Object.prototype.hasOwnProperty.call(or,ar)&&(cr[ar]=or[ar])},Qe(rr,tr)};return function(rr,tr){if(typeof tr!="function"&&tr!==null)throw new TypeError("Class extends value "+String(tr)+" is not a constructor or null");Qe(rr,tr);function cr(){this.constructor=rr}rr.prototype=tr===null?Object.create(tr):(cr.prototype=tr.prototype,new cr)}}();Object.defineProperty(qe,"__esModule",{value:!0}),qe.getTheme=qe.defaultStyles=qe.HtmlRowInput=void 0;var We=function(Qe){He(rr,Qe);function rr(tr){var cr=Qe.call(this)||this;return cr._element=tr,cr}return rr}(Array);qe.HtmlRowInput=We;function Ke(Qe){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/Qe,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}qe.defaultStyles=Ke;function Je(Qe){var rr={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return rr[Qe]}qe.getTheme=Je},903:function(Be,qe,He){Object.defineProperty(qe,"__esModule",{value:!0}),qe.parseCss=void 0;var We=He(420);function Ke(cr,or,ar,pr,ur){var gr={},jr=1.3333333333333333,vr=Qe(or,function(Ve){return ur.getComputedStyle(Ve).backgroundColor});vr!=null&&(gr.fillColor=vr);var dr=Qe(or,function(Ve){return ur.getComputedStyle(Ve).color});dr!=null&&(gr.textColor=dr);var xr=tr(pr,ar);xr&&(gr.cellPadding=xr);var Rr="borderTopColor",Xe=jr*ar,Pe=pr.borderTopWidth;if(pr.borderBottomWidth===Pe&&pr.borderRightWidth===Pe&&pr.borderLeftWidth===Pe){var Fe=(parseFloat(Pe)||0)/Xe;Fe&&(gr.lineWidth=Fe)}else gr.lineWidth={top:(parseFloat(pr.borderTopWidth)||0)/Xe,right:(parseFloat(pr.borderRightWidth)||0)/Xe,bottom:(parseFloat(pr.borderBottomWidth)||0)/Xe,left:(parseFloat(pr.borderLeftWidth)||0)/Xe},gr.lineWidth.top||(gr.lineWidth.right?Rr="borderRightColor":gr.lineWidth.bottom?Rr="borderBottomColor":gr.lineWidth.left&&(Rr="borderLeftColor"));var ze=Qe(or,function(Ve){return ur.getComputedStyle(Ve)[Rr]});ze!=null&&(gr.lineColor=ze);var Ue=["left","right","center","justify"];Ue.indexOf(pr.textAlign)!==-1&&(gr.halign=pr.textAlign),Ue=["middle","bottom","top"],Ue.indexOf(pr.verticalAlign)!==-1&&(gr.valign=pr.verticalAlign);var Ge=parseInt(pr.fontSize||"");isNaN(Ge)||(gr.fontSize=Ge/jr);var Ze=Je(pr);Ze&&(gr.fontStyle=Ze);var er=(pr.fontFamily||"").toLowerCase();return cr.indexOf(er)!==-1&&(gr.font=er),gr}qe.parseCss=Ke;function Je(cr){var or="";return(cr.fontWeight==="bold"||cr.fontWeight==="bolder"||parseInt(cr.fontWeight)>=700)&&(or="bold"),(cr.fontStyle==="italic"||cr.fontStyle==="oblique")&&(or+="italic"),or}function Qe(cr,or){var ar=rr(cr,or);if(!ar)return null;var pr=ar.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!pr||!Array.isArray(pr))return null;var ur=[parseInt(pr[1]),parseInt(pr[2]),parseInt(pr[3])],gr=parseInt(pr[4]);return gr===0||isNaN(ur[0])||isNaN(ur[1])||isNaN(ur[2])?null:ur}function rr(cr,or){var ar=or(cr);return ar==="rgba(0, 0, 0, 0)"||ar==="transparent"||ar==="initial"||ar==="inherit"?cr.parentElement==null?null:rr(cr.parentElement,or):ar}function tr(cr,or){var ar=[cr.paddingTop,cr.paddingRight,cr.paddingBottom,cr.paddingLeft],pr=96/(72/or),ur=(parseInt(cr.lineHeight)-parseInt(cr.fontSize))/or/2,gr=ar.map(function(vr){return parseInt(vr||"0")/pr}),jr=(0,We.parseSpacing)(gr,0);return ur>jr.top&&(jr.top=ur),ur>jr.bottom&&(jr.bottom=ur),jr}},744:function(Be,qe){Object.defineProperty(qe,"__esModule",{value:!0}),qe.DocHandler=void 0;var He={},We=function(){function Ke(Je){this.jsPDFDocument=Je,this.userStyles={textColor:Je.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:Je.internal.getFontSize(),fontStyle:Je.internal.getFont().fontStyle,font:Je.internal.getFont().fontName,lineWidth:Je.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:Je.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return Ke.setDefaults=function(Je,Qe){Qe===void 0&&(Qe=null),Qe?Qe.__autoTableDocumentDefaults=Je:He=Je},Ke.unifyColor=function(Je){return Array.isArray(Je)?Je:typeof Je=="number"?[Je,Je,Je]:typeof Je=="string"?[Je]:null},Ke.prototype.applyStyles=function(Je,Qe){var rr,tr,cr;Qe===void 0&&(Qe=!1),Je.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(Je.fontStyle);var or=this.jsPDFDocument.internal.getFont(),ar=or.fontStyle,pr=or.fontName;if(Je.font&&(pr=Je.font),Je.fontStyle){ar=Je.fontStyle;var ur=this.getFontList()[pr];ur&&ur.indexOf(ar)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(ur[0]),ar=ur[0])}if(this.jsPDFDocument.setFont(pr,ar),Je.fontSize&&this.jsPDFDocument.setFontSize(Je.fontSize),!Qe){var gr=Ke.unifyColor(Je.fillColor);gr&&(rr=this.jsPDFDocument).setFillColor.apply(rr,gr),gr=Ke.unifyColor(Je.textColor),gr&&(tr=this.jsPDFDocument).setTextColor.apply(tr,gr),gr=Ke.unifyColor(Je.lineColor),gr&&(cr=this.jsPDFDocument).setDrawColor.apply(cr,gr),typeof Je.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(Je.lineWidth)}},Ke.prototype.splitTextToSize=function(Je,Qe,rr){return this.jsPDFDocument.splitTextToSize(Je,Qe,rr)},Ke.prototype.rect=function(Je,Qe,rr,tr,cr){return this.jsPDFDocument.rect(Je,Qe,rr,tr,cr)},Ke.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},Ke.prototype.getTextWidth=function(Je){return this.jsPDFDocument.getTextWidth(Je)},Ke.prototype.getDocument=function(){return this.jsPDFDocument},Ke.prototype.setPage=function(Je){this.jsPDFDocument.setPage(Je)},Ke.prototype.addPage=function(){return this.jsPDFDocument.addPage()},Ke.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},Ke.prototype.getGlobalOptions=function(){return He||{}},Ke.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},Ke.prototype.pageSize=function(){var Je=this.jsPDFDocument.internal.pageSize;return Je.width==null&&(Je={width:Je.getWidth(),height:Je.getHeight()}),Je},Ke.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},Ke.prototype.getLineHeightFactor=function(){var Je=this.jsPDFDocument;return Je.getLineHeightFactor?Je.getLineHeightFactor():1.15},Ke.prototype.getLineHeight=function(Je){return Je/this.scaleFactor()*this.getLineHeightFactor()},Ke.prototype.pageNumber=function(){var Je=this.jsPDFDocument.internal.getCurrentPageInfo();return Je?Je.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},Ke}();qe.DocHandler=We},4:function(Be,qe,He){Object.defineProperty(qe,"__esModule",{value:!0}),qe.parseHtml=void 0;var We=He(903),Ke=He(796);function Je(tr,cr,or,ar,pr){var ur,gr;ar===void 0&&(ar=!1),pr===void 0&&(pr=!1);var jr;typeof cr=="string"?jr=or.document.querySelector(cr):jr=cr;var vr=Object.keys(tr.getFontList()),dr=tr.scaleFactor(),xr=[],Rr=[],Xe=[];if(!jr)return console.error("Html table could not be found with input: ",cr),{head:xr,body:Rr,foot:Xe};for(var Pe=0;Pe<jr.rows.length;Pe++){var Fe=jr.rows[Pe],ze=(gr=(ur=Fe?.parentElement)===null||ur===void 0?void 0:ur.tagName)===null||gr===void 0?void 0:gr.toLowerCase(),Ue=Qe(vr,dr,or,Fe,ar,pr);Ue&&(ze==="thead"?xr.push(Ue):ze==="tfoot"?Xe.push(Ue):Rr.push(Ue))}return{head:xr,body:Rr,foot:Xe}}qe.parseHtml=Je;function Qe(tr,cr,or,ar,pr,ur){for(var gr=new Ke.HtmlRowInput(ar),jr=0;jr<ar.cells.length;jr++){var vr=ar.cells[jr],dr=or.getComputedStyle(vr);if(pr||dr.display!=="none"){var xr=void 0;ur&&(xr=(0,We.parseCss)(tr,vr,cr,dr,or)),gr.push({rowSpan:vr.rowSpan,colSpan:vr.colSpan,styles:xr,_element:vr,content:rr(vr)})}}var Rr=or.getComputedStyle(ar);if(gr.length>0&&(pr||Rr.display!=="none"))return gr}function rr(tr){var cr=tr.cloneNode(!0);return cr.innerHTML=cr.innerHTML.replace(/\n/g,"").replace(/ +/g," "),cr.innerHTML=cr.innerHTML.split(/<br.*?>/).map(function(or){return or.trim()}).join(`
`),cr.innerText||cr.textContent||""}},776:function(Be,qe,He){Object.defineProperty(qe,"__esModule",{value:!0}),qe.parseInput=void 0;var We=He(4),Ke=He(356),Je=He(420),Qe=He(744),rr=He(792);function tr(jr,vr){var dr=new Qe.DocHandler(jr),xr=dr.getDocumentOptions(),Rr=dr.getGlobalOptions();(0,rr.default)(dr,Rr,xr,vr);var Xe=(0,Ke.assign)({},Rr,xr,vr),Pe;typeof window<"u"&&(Pe=window);var Fe=cr(Rr,xr,vr),ze=or(Rr,xr,vr),Ue=ar(dr,Xe),Ge=ur(dr,Xe,Pe);return{id:vr.tableId,content:Ge,hooks:ze,styles:Fe,settings:Ue}}qe.parseInput=tr;function cr(jr,vr,dr){for(var xr={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},Rr=function(ze){if(ze==="columnStyles"){var Ue=jr[ze],Ge=vr[ze],Ze=dr[ze];xr.columnStyles=(0,Ke.assign)({},Ue,Ge,Ze)}else{var er=[jr,vr,dr],Ve=er.map(function(Ie){return Ie[ze]||{}});xr[ze]=(0,Ke.assign)({},Ve[0],Ve[1],Ve[2])}},Xe=0,Pe=Object.keys(xr);Xe<Pe.length;Xe++){var Fe=Pe[Xe];Rr(Fe)}return xr}function or(jr,vr,dr){for(var xr=[jr,vr,dr],Rr={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},Xe=0,Pe=xr;Xe<Pe.length;Xe++){var Fe=Pe[Xe];Fe.didParseCell&&Rr.didParseCell.push(Fe.didParseCell),Fe.willDrawCell&&Rr.willDrawCell.push(Fe.willDrawCell),Fe.didDrawCell&&Rr.didDrawCell.push(Fe.didDrawCell),Fe.willDrawPage&&Rr.willDrawPage.push(Fe.willDrawPage),Fe.didDrawPage&&Rr.didDrawPage.push(Fe.didDrawPage)}return Rr}function ar(jr,vr){var dr,xr,Rr,Xe,Pe,Fe,ze,Ue,Ge,Ze,er,Ve,Ie=(0,Je.parseSpacing)(vr.margin,40/jr.scaleFactor()),Ye=(dr=pr(jr,vr.startY))!==null&&dr!==void 0?dr:Ie.top,ir;vr.showFoot===!0?ir="everyPage":vr.showFoot===!1?ir="never":ir=(xr=vr.showFoot)!==null&&xr!==void 0?xr:"everyPage";var lr;vr.showHead===!0?lr="everyPage":vr.showHead===!1?lr="never":lr=(Rr=vr.showHead)!==null&&Rr!==void 0?Rr:"everyPage";var br=(Xe=vr.useCss)!==null&&Xe!==void 0?Xe:!1,_r=vr.theme||(br?"plain":"striped"),Sr=!!vr.horizontalPageBreak,wr=(Pe=vr.horizontalPageBreakRepeat)!==null&&Pe!==void 0?Pe:null;return{includeHiddenHtml:(Fe=vr.includeHiddenHtml)!==null&&Fe!==void 0?Fe:!1,useCss:br,theme:_r,startY:Ye,margin:Ie,pageBreak:(ze=vr.pageBreak)!==null&&ze!==void 0?ze:"auto",rowPageBreak:(Ue=vr.rowPageBreak)!==null&&Ue!==void 0?Ue:"auto",tableWidth:(Ge=vr.tableWidth)!==null&&Ge!==void 0?Ge:"auto",showHead:lr,showFoot:ir,tableLineWidth:(Ze=vr.tableLineWidth)!==null&&Ze!==void 0?Ze:0,tableLineColor:(er=vr.tableLineColor)!==null&&er!==void 0?er:200,horizontalPageBreak:Sr,horizontalPageBreakRepeat:wr,horizontalPageBreakBehaviour:(Ve=vr.horizontalPageBreakBehaviour)!==null&&Ve!==void 0?Ve:"afterAllRows"}}function pr(jr,vr){var dr=jr.getLastAutoTable(),xr=jr.scaleFactor(),Rr=jr.pageNumber(),Xe=!1;if(dr&&dr.startPageNumber){var Pe=dr.startPageNumber+dr.pageNumber-1;Xe=Pe===Rr}return typeof vr=="number"?vr:(vr==null||vr===!1)&&Xe&&dr?.finalY!=null?dr.finalY+20/xr:null}function ur(jr,vr,dr){var xr=vr.head||[],Rr=vr.body||[],Xe=vr.foot||[];if(vr.html){var Pe=vr.includeHiddenHtml;if(dr){var Fe=(0,We.parseHtml)(jr,vr.html,dr,Pe,vr.useCss)||{};xr=Fe.head||xr,Rr=Fe.body||xr,Xe=Fe.foot||xr}else console.error("Cannot parse html in non browser environment")}var ze=vr.columns||gr(xr,Rr,Xe);return{columns:ze,head:xr,body:Rr,foot:Xe}}function gr(jr,vr,dr){var xr=jr[0]||vr[0]||dr[0]||[],Rr=[];return Object.keys(xr).filter(function(Xe){return Xe!=="_element"}).forEach(function(Xe){var Pe=1,Fe;Array.isArray(xr)?Fe=xr[parseInt(Xe)]:Fe=xr[Xe],typeof Fe=="object"&&!Array.isArray(Fe)&&(Pe=Fe?.colSpan||1);for(var ze=0;ze<Pe;ze++){var Ue=void 0;Array.isArray(xr)?Ue=Rr.length:Ue=Xe+(ze>0?"_".concat(ze):"");var Ge={dataKey:Ue};Rr.push(Ge)}}),Rr}},792:function(Be,qe){Object.defineProperty(qe,"__esModule",{value:!0});function He(Ke,Je,Qe,rr){for(var tr=function(pr){pr&&typeof pr!="object"&&console.error("The options parameter should be of type object, is: "+typeof pr),typeof pr.extendWidth<"u"&&(pr.tableWidth=pr.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof pr.margins<"u"&&(typeof pr.margin>"u"&&(pr.margin=pr.margins),console.error("Use of deprecated option: margins, use margin instead.")),pr.startY&&typeof pr.startY!="number"&&(console.error("Invalid value for startY option",pr.startY),delete pr.startY),!pr.didDrawPage&&(pr.afterPageContent||pr.beforePageContent||pr.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),pr.didDrawPage=function(Xe){Ke.applyStyles(Ke.userStyles),pr.beforePageContent&&pr.beforePageContent(Xe),Ke.applyStyles(Ke.userStyles),pr.afterPageContent&&pr.afterPageContent(Xe),Ke.applyStyles(Ke.userStyles),pr.afterPageAdd&&Xe.pageNumber>1&&Xe.afterPageAdd(Xe),Ke.applyStyles(Ke.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(Xe){pr[Xe]&&console.error('The "'.concat(Xe,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(Xe){var Pe=Xe[0],Fe=Xe[1];pr[Fe]&&(console.error("Use of deprecated option ".concat(Fe,". Use ").concat(Pe," instead")),pr[Pe]=pr[Fe])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(Xe){var Pe=typeof Xe=="string"?Xe:Xe[0],Fe=typeof Xe=="string"?Xe:Xe[1];typeof pr[Pe]<"u"&&(typeof pr.styles[Fe]>"u"&&(pr.styles[Fe]=pr[Pe]),console.error("Use of deprecated option: "+Pe+", use the style "+Fe+" instead."))});for(var ur=0,gr=["styles","bodyStyles","headStyles","footStyles"];ur<gr.length;ur++){var jr=gr[ur];We(pr[jr]||{})}for(var vr=pr.columnStyles||{},dr=0,xr=Object.keys(vr);dr<xr.length;dr++){var Rr=xr[dr];We(vr[Rr]||{})}},cr=0,or=[Je,Qe,rr];cr<or.length;cr++){var ar=or[cr];tr(ar)}}qe.default=He;function We(Ke){Ke.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),Ke.minCellHeight||(Ke.minCellHeight=Ke.rowHeight)):Ke.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),Ke.cellWidth||(Ke.cellWidth=Ke.columnWidth))}},260:function(Be,qe,He){Object.defineProperty(qe,"__esModule",{value:!0}),qe.Column=qe.Cell=qe.Row=qe.Table=void 0;var We=He(796),Ke=He(172),Je=He(420),Qe=function(){function or(ar,pr){this.pageNumber=1,this.pageCount=1,this.id=ar.id,this.settings=ar.settings,this.styles=ar.styles,this.hooks=ar.hooks,this.columns=pr.columns,this.head=pr.head,this.body=pr.body,this.foot=pr.foot}return or.prototype.getHeadHeight=function(ar){return this.head.reduce(function(pr,ur){return pr+ur.getMaxCellHeight(ar)},0)},or.prototype.getFootHeight=function(ar){return this.foot.reduce(function(pr,ur){return pr+ur.getMaxCellHeight(ar)},0)},or.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},or.prototype.callCellHooks=function(ar,pr,ur,gr,jr,vr){for(var dr=0,xr=pr;dr<xr.length;dr++){var Rr=xr[dr],Xe=new Ke.CellHookData(ar,this,ur,gr,jr,vr),Pe=Rr(Xe)===!1;if(ur.text=Array.isArray(ur.text)?ur.text:[ur.text],Pe)return!1}return!0},or.prototype.callEndPageHooks=function(ar,pr){ar.applyStyles(ar.userStyles);for(var ur=0,gr=this.hooks.didDrawPage;ur<gr.length;ur++){var jr=gr[ur];jr(new Ke.HookData(ar,this,pr))}},or.prototype.callWillDrawPageHooks=function(ar,pr){for(var ur=0,gr=this.hooks.willDrawPage;ur<gr.length;ur++){var jr=gr[ur];jr(new Ke.HookData(ar,this,pr))}},or.prototype.getWidth=function(ar){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var pr=this.columns.reduce(function(gr,jr){return gr+jr.wrappedWidth},0);return pr}else{var ur=this.settings.margin;return ar-ur.left-ur.right}},or}();qe.Table=Qe;var rr=function(){function or(ar,pr,ur,gr,jr){jr===void 0&&(jr=!1),this.height=0,this.raw=ar,ar instanceof We.HtmlRowInput&&(this.raw=ar._element,this.element=ar._element),this.index=pr,this.section=ur,this.cells=gr,this.spansMultiplePages=jr}return or.prototype.getMaxCellHeight=function(ar){var pr=this;return ar.reduce(function(ur,gr){var jr;return Math.max(ur,((jr=pr.cells[gr.index])===null||jr===void 0?void 0:jr.height)||0)},0)},or.prototype.hasRowSpan=function(ar){var pr=this;return ar.filter(function(ur){var gr=pr.cells[ur.index];return gr?gr.rowSpan>1:!1}).length>0},or.prototype.canEntireRowFit=function(ar,pr){return this.getMaxCellHeight(pr)<=ar},or.prototype.getMinimumRowHeight=function(ar,pr){var ur=this;return ar.reduce(function(gr,jr){var vr=ur.cells[jr.index];if(!vr)return 0;var dr=pr.getLineHeight(vr.styles.fontSize),xr=vr.padding("vertical"),Rr=xr+dr;return Rr>gr?Rr:gr},0)},or}();qe.Row=rr;var tr=function(){function or(ar,pr,ur){var gr,jr;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=pr,this.section=ur,this.raw=ar;var vr=ar;ar!=null&&typeof ar=="object"&&!Array.isArray(ar)?(this.rowSpan=ar.rowSpan||1,this.colSpan=ar.colSpan||1,vr=(jr=(gr=ar.content)!==null&&gr!==void 0?gr:ar.title)!==null&&jr!==void 0?jr:ar,ar._element&&(this.raw=ar._element)):(this.rowSpan=1,this.colSpan=1);var dr=vr!=null?""+vr:"",xr=/\r\n|\r|\n/g;this.text=dr.split(xr)}return or.prototype.getTextPos=function(){var ar;if(this.styles.valign==="top")ar=this.y+this.padding("top");else if(this.styles.valign==="bottom")ar=this.y+this.height-this.padding("bottom");else{var pr=this.height-this.padding("vertical");ar=this.y+pr/2+this.padding("top")}var ur;if(this.styles.halign==="right")ur=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var gr=this.width-this.padding("horizontal");ur=this.x+gr/2+this.padding("left")}else ur=this.x+this.padding("left");return{x:ur,y:ar}},or.prototype.getContentHeight=function(ar,pr){pr===void 0&&(pr=1.15);var ur=Array.isArray(this.text)?this.text.length:1,gr=this.styles.fontSize/ar*pr,jr=ur*gr+this.padding("vertical");return Math.max(jr,this.styles.minCellHeight)},or.prototype.padding=function(ar){var pr=(0,Je.parseSpacing)(this.styles.cellPadding,0);return ar==="vertical"?pr.top+pr.bottom:ar==="horizontal"?pr.left+pr.right:pr[ar]},or}();qe.Cell=tr;var cr=function(){function or(ar,pr,ur){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=ar,this.raw=pr,this.index=ur}return or.prototype.getMaxCustomCellWidth=function(ar){for(var pr=0,ur=0,gr=ar.allRows();ur<gr.length;ur++){var jr=gr[ur],vr=jr.cells[this.index];vr&&typeof vr.styles.cellWidth=="number"&&(pr=Math.max(pr,vr.styles.cellWidth))}return pr},or}();qe.Column=cr},356:function(Be,qe){Object.defineProperty(qe,"__esModule",{value:!0}),qe.assign=void 0;function He(We,Ke,Je,Qe,rr){if(We==null)throw new TypeError("Cannot convert undefined or null to object");for(var tr=Object(We),cr=1;cr<arguments.length;cr++){var or=arguments[cr];if(or!=null)for(var ar in or)Object.prototype.hasOwnProperty.call(or,ar)&&(tr[ar]=or[ar])}return tr}qe.assign=He},972:function(Be,qe,He){Object.defineProperty(qe,"__esModule",{value:!0}),qe.createTable=void 0;var We=He(744),Ke=He(260),Je=He(324),Qe=He(796),rr=He(356);function tr(jr,vr){var dr=new We.DocHandler(jr),xr=cr(vr,dr.scaleFactor()),Rr=new Ke.Table(vr,xr);return(0,Je.calculateWidths)(dr,Rr),dr.applyStyles(dr.userStyles),Rr}qe.createTable=tr;function cr(jr,vr){var dr=jr.content,xr=ur(dr.columns);if(dr.head.length===0){var Rr=ar(xr,"head");Rr&&dr.head.push(Rr)}if(dr.foot.length===0){var Rr=ar(xr,"foot");Rr&&dr.foot.push(Rr)}var Xe=jr.settings.theme,Pe=jr.styles;return{columns:xr,head:or("head",dr.head,xr,Pe,Xe,vr),body:or("body",dr.body,xr,Pe,Xe,vr),foot:or("foot",dr.foot,xr,Pe,Xe,vr)}}function or(jr,vr,dr,xr,Rr,Xe){var Pe={},Fe=vr.map(function(ze,Ue){for(var Ge=0,Ze={},er=0,Ve=0,Ie=0,Ye=dr;Ie<Ye.length;Ie++){var ir=Ye[Ie];if(Pe[ir.index]==null||Pe[ir.index].left===0)if(Ve===0){var lr=void 0;Array.isArray(ze)?lr=ze[ir.index-er-Ge]:lr=ze[ir.dataKey];var br={};typeof lr=="object"&&!Array.isArray(lr)&&(br=lr?.styles||{});var _r=gr(jr,ir,Ue,Rr,xr,Xe,br),Sr=new Ke.Cell(lr,_r,jr);Ze[ir.dataKey]=Sr,Ze[ir.index]=Sr,Ve=Sr.colSpan-1,Pe[ir.index]={left:Sr.rowSpan-1,times:Ve}}else Ve--,er++;else Pe[ir.index].left--,Ve=Pe[ir.index].times,Ge++}return new Ke.Row(ze,Ue,jr,Ze)});return Fe}function ar(jr,vr){var dr={};return jr.forEach(function(xr){if(xr.raw!=null){var Rr=pr(vr,xr.raw);Rr!=null&&(dr[xr.dataKey]=Rr)}}),Object.keys(dr).length>0?dr:null}function pr(jr,vr){if(jr==="head"){if(typeof vr=="object")return vr.header||vr.title||null;if(typeof vr=="string"||typeof vr=="number")return vr}else if(jr==="foot"&&typeof vr=="object")return vr.footer;return null}function ur(jr){return jr.map(function(vr,dr){var xr,Rr,Xe;return typeof vr=="object"?Xe=(Rr=(xr=vr.dataKey)!==null&&xr!==void 0?xr:vr.key)!==null&&Rr!==void 0?Rr:dr:Xe=dr,new Ke.Column(Xe,vr,dr)})}function gr(jr,vr,dr,xr,Rr,Xe,Pe){var Fe=(0,Qe.getTheme)(xr),ze;jr==="head"?ze=Rr.headStyles:jr==="body"?ze=Rr.bodyStyles:jr==="foot"&&(ze=Rr.footStyles);var Ue=(0,rr.assign)({},Fe.table,Fe[jr],Rr.styles,ze),Ge=Rr.columnStyles[vr.dataKey]||Rr.columnStyles[vr.index]||{},Ze=jr==="body"?Ge:{},er=jr==="body"&&dr%2===0?(0,rr.assign)({},Fe.alternateRow,Rr.alternateRowStyles):{},Ve=(0,Qe.defaultStyles)(Xe),Ie=(0,rr.assign)({},Ve,Ue,er,Ze);return(0,rr.assign)(Ie,Pe)}},664:function(Be,qe,He){Object.defineProperty(qe,"__esModule",{value:!0}),qe.addPage=qe.drawTable=void 0;var We=He(420),Ke=He(260),Je=He(744),Qe=He(356),rr=He(136),tr=He(224);function cr(Ge,Ze){var er=Ze.settings,Ve=er.startY,Ie=er.margin,Ye={x:Ie.left,y:Ve},ir=Ze.getHeadHeight(Ze.columns)+Ze.getFootHeight(Ze.columns),lr=Ve+Ie.bottom+ir;if(er.pageBreak==="avoid"){var br=Ze.body,_r=br.reduce(function(Nr,kr){return Nr+kr.height},0);lr+=_r}var Sr=new Je.DocHandler(Ge);(er.pageBreak==="always"||er.startY!=null&&lr>Sr.pageSize().height)&&(Ue(Sr),Ye.y=Ie.top),Ze.callWillDrawPageHooks(Sr,Ye);var wr=(0,Qe.assign)({},Ye);Ze.startPageNumber=Sr.pageNumber(),er.horizontalPageBreak?or(Sr,Ze,wr,Ye):(Sr.applyStyles(Sr.userStyles),(er.showHead==="firstPage"||er.showHead==="everyPage")&&Ze.head.forEach(function(Nr){return Rr(Sr,Ze,Nr,Ye,Ze.columns)}),Sr.applyStyles(Sr.userStyles),Ze.body.forEach(function(Nr,kr){var Lr=kr===Ze.body.length-1;xr(Sr,Ze,Nr,Lr,wr,Ye,Ze.columns)}),Sr.applyStyles(Sr.userStyles),(er.showFoot==="lastPage"||er.showFoot==="everyPage")&&Ze.foot.forEach(function(Nr){return Rr(Sr,Ze,Nr,Ye,Ze.columns)})),(0,We.addTableBorder)(Sr,Ze,wr,Ye),Ze.callEndPageHooks(Sr,Ye),Ze.finalY=Ye.y,Ge.lastAutoTable=Ze,Ge.previousAutoTable=Ze,Ge.autoTable&&(Ge.autoTable.previous=Ze),Sr.applyStyles(Sr.userStyles)}qe.drawTable=cr;function or(Ge,Ze,er,Ve){var Ie=(0,tr.calculateAllColumnsCanFitInPage)(Ge,Ze),Ye=Ze.settings;if(Ye.horizontalPageBreakBehaviour==="afterAllRows")Ie.forEach(function(_r,Sr){Ge.applyStyles(Ge.userStyles),Sr>0?ze(Ge,Ze,er,Ve,_r.columns,!0):ar(Ge,Ze,Ve,_r.columns),pr(Ge,Ze,er,Ve,_r.columns),gr(Ge,Ze,Ve,_r.columns)});else for(var ir=-1,lr=Ie[0],br=function(){var _r=ir;if(lr){Ge.applyStyles(Ge.userStyles);var Sr=lr.columns;ir>=0?ze(Ge,Ze,er,Ve,Sr,!0):ar(Ge,Ze,Ve,Sr),_r=ur(Ge,Ze,ir+1,Ve,Sr),gr(Ge,Ze,Ve,Sr)}var wr=_r-ir;Ie.slice(1).forEach(function(Nr){Ge.applyStyles(Ge.userStyles),ze(Ge,Ze,er,Ve,Nr.columns,!0),ur(Ge,Ze,ir+1,Ve,Nr.columns,wr),gr(Ge,Ze,Ve,Nr.columns)}),ir=_r};ir<Ze.body.length-1;)br()}function ar(Ge,Ze,er,Ve){var Ie=Ze.settings;Ge.applyStyles(Ge.userStyles),(Ie.showHead==="firstPage"||Ie.showHead==="everyPage")&&Ze.head.forEach(function(Ye){return Rr(Ge,Ze,Ye,er,Ve)})}function pr(Ge,Ze,er,Ve,Ie){Ge.applyStyles(Ge.userStyles),Ze.body.forEach(function(Ye,ir){var lr=ir===Ze.body.length-1;xr(Ge,Ze,Ye,lr,er,Ve,Ie)})}function ur(Ge,Ze,er,Ve,Ie,Ye){Ge.applyStyles(Ge.userStyles),Ye=Ye??Ze.body.length;var ir=Math.min(er+Ye,Ze.body.length),lr=-1;return Ze.body.slice(er,ir).forEach(function(br,_r){var Sr=er+_r===Ze.body.length-1,wr=Fe(Ge,Ze,Sr,Ve);br.canEntireRowFit(wr,Ie)&&(Rr(Ge,Ze,br,Ve,Ie),lr=er+_r)}),lr}function gr(Ge,Ze,er,Ve){var Ie=Ze.settings;Ge.applyStyles(Ge.userStyles),(Ie.showFoot==="lastPage"||Ie.showFoot==="everyPage")&&Ze.foot.forEach(function(Ye){return Rr(Ge,Ze,Ye,er,Ve)})}function jr(Ge,Ze,er){var Ve=er.getLineHeight(Ge.styles.fontSize),Ie=Ge.padding("vertical"),Ye=Math.floor((Ze-Ie)/Ve);return Math.max(0,Ye)}function vr(Ge,Ze,er,Ve){var Ie={};Ge.spansMultiplePages=!0,Ge.height=0;for(var Ye=0,ir=0,lr=er.columns;ir<lr.length;ir++){var br=lr[ir],_r=Ge.cells[br.index];if(_r){Array.isArray(_r.text)||(_r.text=[_r.text]);var Sr=new Ke.Cell(_r.raw,_r.styles,_r.section);Sr=(0,Qe.assign)(Sr,_r),Sr.text=[];var wr=jr(_r,Ze,Ve);_r.text.length>wr&&(Sr.text=_r.text.splice(wr,_r.text.length));var Nr=Ve.scaleFactor(),kr=Ve.getLineHeightFactor();_r.contentHeight=_r.getContentHeight(Nr,kr),_r.contentHeight>=Ze&&(_r.contentHeight=Ze,Sr.styles.minCellHeight-=Ze),_r.contentHeight>Ge.height&&(Ge.height=_r.contentHeight),Sr.contentHeight=Sr.getContentHeight(Nr,kr),Sr.contentHeight>Ye&&(Ye=Sr.contentHeight),Ie[br.index]=Sr}}var Lr=new Ke.Row(Ge.raw,-1,Ge.section,Ie,!0);Lr.height=Ye;for(var Xr=0,Ur=er.columns;Xr<Ur.length;Xr++){var br=Ur[Xr],Sr=Lr.cells[br.index];Sr&&(Sr.height=Lr.height);var _r=Ge.cells[br.index];_r&&(_r.height=Ge.height)}return Lr}function dr(Ge,Ze,er,Ve){var Ie=Ge.pageSize().height,Ye=Ve.settings.margin,ir=Ye.top+Ye.bottom,lr=Ie-ir;Ze.section==="body"&&(lr-=Ve.getHeadHeight(Ve.columns)+Ve.getFootHeight(Ve.columns));var br=Ze.getMinimumRowHeight(Ve.columns,Ge),_r=br<er;if(br>lr)return console.error("Will not be able to print row ".concat(Ze.index," correctly since it's minimum height is larger than page height")),!0;if(!_r)return!1;var Sr=Ze.hasRowSpan(Ve.columns),wr=Ze.getMaxCellHeight(Ve.columns)>lr;return wr?(Sr&&console.error("The content of row ".concat(Ze.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(Sr||Ve.settings.rowPageBreak==="avoid")}function xr(Ge,Ze,er,Ve,Ie,Ye,ir){var lr=Fe(Ge,Ze,Ve,Ye);if(er.canEntireRowFit(lr,ir))Rr(Ge,Ze,er,Ye,ir);else if(dr(Ge,er,lr,Ze)){var br=vr(er,lr,Ze,Ge);Rr(Ge,Ze,er,Ye,ir),ze(Ge,Ze,Ie,Ye,ir),xr(Ge,Ze,br,Ve,Ie,Ye,ir)}else ze(Ge,Ze,Ie,Ye,ir),xr(Ge,Ze,er,Ve,Ie,Ye,ir)}function Rr(Ge,Ze,er,Ve,Ie){Ve.x=Ze.settings.margin.left;for(var Ye=0,ir=Ie;Ye<ir.length;Ye++){var lr=ir[Ye],br=er.cells[lr.index];if(!br){Ve.x+=lr.width;continue}Ge.applyStyles(br.styles),br.x=Ve.x,br.y=Ve.y;var _r=Ze.callCellHooks(Ge,Ze.hooks.willDrawCell,br,er,lr,Ve);if(_r===!1){Ve.x+=lr.width;continue}Xe(Ge,br,Ve);var Sr=br.getTextPos();(0,rr.default)(br.text,Sr.x,Sr.y,{halign:br.styles.halign,valign:br.styles.valign,maxWidth:Math.ceil(br.width-br.padding("left")-br.padding("right"))},Ge.getDocument()),Ze.callCellHooks(Ge,Ze.hooks.didDrawCell,br,er,lr,Ve),Ve.x+=lr.width}Ve.y+=er.height}function Xe(Ge,Ze,er){var Ve=Ze.styles;if(Ge.getDocument().setFillColor(Ge.getDocument().getFillColor()),typeof Ve.lineWidth=="number"){var Ie=(0,We.getFillStyle)(Ve.lineWidth,Ve.fillColor);Ie&&Ge.rect(Ze.x,er.y,Ze.width,Ze.height,Ie)}else typeof Ve.lineWidth=="object"&&(Ve.fillColor&&Ge.rect(Ze.x,er.y,Ze.width,Ze.height,"F"),Pe(Ge,Ze,er,Ve.lineWidth))}function Pe(Ge,Ze,er,Ve){var Ie,Ye,ir,lr;Ve.top&&(Ie=er.x,Ye=er.y,ir=er.x+Ze.width,lr=er.y,Ve.right&&(ir+=.5*Ve.right),Ve.left&&(Ie-=.5*Ve.left),br(Ve.top,Ie,Ye,ir,lr)),Ve.bottom&&(Ie=er.x,Ye=er.y+Ze.height,ir=er.x+Ze.width,lr=er.y+Ze.height,Ve.right&&(ir+=.5*Ve.right),Ve.left&&(Ie-=.5*Ve.left),br(Ve.bottom,Ie,Ye,ir,lr)),Ve.left&&(Ie=er.x,Ye=er.y,ir=er.x,lr=er.y+Ze.height,Ve.top&&(Ye-=.5*Ve.top),Ve.bottom&&(lr+=.5*Ve.bottom),br(Ve.left,Ie,Ye,ir,lr)),Ve.right&&(Ie=er.x+Ze.width,Ye=er.y,ir=er.x+Ze.width,lr=er.y+Ze.height,Ve.top&&(Ye-=.5*Ve.top),Ve.bottom&&(lr+=.5*Ve.bottom),br(Ve.right,Ie,Ye,ir,lr));function br(_r,Sr,wr,Nr,kr){Ge.getDocument().setLineWidth(_r),Ge.getDocument().line(Sr,wr,Nr,kr,"S")}}function Fe(Ge,Ze,er,Ve){var Ie=Ze.settings.margin.bottom,Ye=Ze.settings.showFoot;return(Ye==="everyPage"||Ye==="lastPage"&&er)&&(Ie+=Ze.getFootHeight(Ze.columns)),Ge.pageSize().height-Ve.y-Ie}function ze(Ge,Ze,er,Ve,Ie,Ye){Ie===void 0&&(Ie=[]),Ye===void 0&&(Ye=!1),Ge.applyStyles(Ge.userStyles),Ze.settings.showFoot==="everyPage"&&!Ye&&Ze.foot.forEach(function(lr){return Rr(Ge,Ze,lr,Ve,Ie)}),Ze.callEndPageHooks(Ge,Ve);var ir=Ze.settings.margin;(0,We.addTableBorder)(Ge,Ze,er,Ve),Ue(Ge),Ze.pageNumber++,Ze.pageCount++,Ve.x=ir.left,Ve.y=ir.top,er.y=ir.top,Ze.callWillDrawPageHooks(Ge,Ve),Ze.settings.showHead==="everyPage"&&(Ze.head.forEach(function(lr){return Rr(Ge,Ze,lr,Ve,Ie)}),Ge.applyStyles(Ge.userStyles))}qe.addPage=ze;function Ue(Ge){var Ze=Ge.pageNumber();Ge.setPage(Ze+1);var er=Ge.pageNumber();return er===Ze?(Ge.addPage(),!0):!1}},224:function(Be,qe,He){Object.defineProperty(qe,"__esModule",{value:!0}),qe.calculateAllColumnsCanFitInPage=void 0;var We=He(420);function Ke(Qe,rr,tr){var cr;tr===void 0&&(tr={});var or=(0,We.getPageAvailableWidth)(Qe,rr),ar=new Map,pr=[],ur=[],gr=[];rr.settings.horizontalPageBreakRepeat,Array.isArray(rr.settings.horizontalPageBreakRepeat)?gr=rr.settings.horizontalPageBreakRepeat:(typeof rr.settings.horizontalPageBreakRepeat=="string"||typeof rr.settings.horizontalPageBreakRepeat=="number")&&(gr=[rr.settings.horizontalPageBreakRepeat]),gr.forEach(function(xr){var Rr=rr.columns.find(function(Xe){return Xe.dataKey===xr||Xe.index===xr});Rr&&!ar.has(Rr.index)&&(ar.set(Rr.index,!0),pr.push(Rr.index),ur.push(rr.columns[Rr.index]),or-=Rr.wrappedWidth)});for(var jr=!0,vr=(cr=tr?.start)!==null&&cr!==void 0?cr:0;vr<rr.columns.length;){if(ar.has(vr)){vr++;continue}var dr=rr.columns[vr].wrappedWidth;if(jr||or>=dr)jr=!1,pr.push(vr),ur.push(rr.columns[vr]),or-=dr;else break;vr++}return{colIndexes:pr,columns:ur,lastIndex:vr-1}}function Je(Qe,rr){for(var tr=[],cr=0;cr<rr.columns.length;cr++){var or=Ke(Qe,rr,{start:cr});or.columns.length&&(tr.push(or),cr=or.lastIndex)}return tr}qe.calculateAllColumnsCanFitInPage=Je},324:function(Be,qe,He){Object.defineProperty(qe,"__esModule",{value:!0}),qe.ellipsize=qe.resizeColumns=qe.calculateWidths=void 0;var We=He(420);function Ke(pr,ur){Je(pr,ur);var gr=[],jr=0;ur.columns.forEach(function(dr){var xr=dr.getMaxCustomCellWidth(ur);xr?dr.width=xr:(dr.width=dr.wrappedWidth,gr.push(dr)),jr+=dr.width});var vr=ur.getWidth(pr.pageSize().width)-jr;vr&&(vr=Qe(gr,vr,function(dr){return Math.max(dr.minReadableWidth,dr.minWidth)})),vr&&(vr=Qe(gr,vr,function(dr){return dr.minWidth})),vr=Math.abs(vr),!ur.settings.horizontalPageBreak&&vr>.1/pr.scaleFactor()&&(vr=vr<1?vr:Math.round(vr),console.warn("Of the table content, ".concat(vr," units width could not fit page"))),tr(ur),cr(ur,pr),rr(ur)}qe.calculateWidths=Ke;function Je(pr,ur){var gr=pr.scaleFactor(),jr=ur.settings.horizontalPageBreak,vr=(0,We.getPageAvailableWidth)(pr,ur);ur.allRows().forEach(function(dr){for(var xr=0,Rr=ur.columns;xr<Rr.length;xr++){var Xe=Rr[xr],Pe=dr.cells[Xe.index];if(Pe){var Fe=ur.hooks.didParseCell;ur.callCellHooks(pr,Fe,Pe,dr,Xe,null);var ze=Pe.padding("horizontal");Pe.contentWidth=(0,We.getStringWidth)(Pe.text,Pe.styles,pr)+ze;var Ue=(0,We.getStringWidth)(Pe.text.join(" ").split(/[^\S\u00A0]+/),Pe.styles,pr);if(Pe.minReadableWidth=Ue+Pe.padding("horizontal"),typeof Pe.styles.cellWidth=="number")Pe.minWidth=Pe.styles.cellWidth,Pe.wrappedWidth=Pe.styles.cellWidth;else if(Pe.styles.cellWidth==="wrap"||jr===!0)Pe.contentWidth>vr?(Pe.minWidth=vr,Pe.wrappedWidth=vr):(Pe.minWidth=Pe.contentWidth,Pe.wrappedWidth=Pe.contentWidth);else{var Ge=10/gr;Pe.minWidth=Pe.styles.minCellWidth||Ge,Pe.wrappedWidth=Pe.contentWidth,Pe.minWidth>Pe.wrappedWidth&&(Pe.wrappedWidth=Pe.minWidth)}}}}),ur.allRows().forEach(function(dr){for(var xr=0,Rr=ur.columns;xr<Rr.length;xr++){var Xe=Rr[xr],Pe=dr.cells[Xe.index];if(Pe&&Pe.colSpan===1)Xe.wrappedWidth=Math.max(Xe.wrappedWidth,Pe.wrappedWidth),Xe.minWidth=Math.max(Xe.minWidth,Pe.minWidth),Xe.minReadableWidth=Math.max(Xe.minReadableWidth,Pe.minReadableWidth);else{var Fe=ur.styles.columnStyles[Xe.dataKey]||ur.styles.columnStyles[Xe.index]||{},ze=Fe.cellWidth||Fe.minCellWidth;ze&&typeof ze=="number"&&(Xe.minWidth=ze,Xe.wrappedWidth=ze)}Pe&&(Pe.colSpan>1&&!Xe.minWidth&&(Xe.minWidth=Pe.minWidth),Pe.colSpan>1&&!Xe.wrappedWidth&&(Xe.wrappedWidth=Pe.minWidth))}})}function Qe(pr,ur,gr){for(var jr=ur,vr=pr.reduce(function(Ge,Ze){return Ge+Ze.wrappedWidth},0),dr=0;dr<pr.length;dr++){var xr=pr[dr],Rr=xr.wrappedWidth/vr,Xe=jr*Rr,Pe=xr.width+Xe,Fe=gr(xr),ze=Pe<Fe?Fe:Pe;ur-=ze-xr.width,xr.width=ze}if(ur=Math.round(ur*1e10)/1e10,ur){var Ue=pr.filter(function(Ge){return ur<0?Ge.width>gr(Ge):!0});Ue.length&&(ur=Qe(Ue,ur,gr))}return ur}qe.resizeColumns=Qe;function rr(pr){for(var ur={},gr=1,jr=pr.allRows(),vr=0;vr<jr.length;vr++)for(var dr=jr[vr],xr=0,Rr=pr.columns;xr<Rr.length;xr++){var Xe=Rr[xr],Pe=ur[Xe.index];if(gr>1)gr--,delete dr.cells[Xe.index];else if(Pe)Pe.cell.height+=dr.height,gr=Pe.cell.colSpan,delete dr.cells[Xe.index],Pe.left--,Pe.left<=1&&delete ur[Xe.index];else{var Fe=dr.cells[Xe.index];if(!Fe)continue;if(Fe.height=dr.height,Fe.rowSpan>1){var ze=jr.length-vr,Ue=Fe.rowSpan>ze?ze:Fe.rowSpan;ur[Xe.index]={cell:Fe,left:Ue,row:dr}}}}}function tr(pr){for(var ur=pr.allRows(),gr=0;gr<ur.length;gr++)for(var jr=ur[gr],vr=null,dr=0,xr=0,Rr=0;Rr<pr.columns.length;Rr++){var Xe=pr.columns[Rr];if(xr-=1,xr>1&&pr.columns[Rr+1])dr+=Xe.width,delete jr.cells[Xe.index];else if(vr){var Pe=vr;delete jr.cells[Xe.index],vr=null,Pe.width=Xe.width+dr}else{var Pe=jr.cells[Xe.index];if(!Pe)continue;if(xr=Pe.colSpan,dr=0,Pe.colSpan>1){vr=Pe,dr+=Xe.width;continue}Pe.width=Xe.width+dr}}}function cr(pr,ur){for(var gr={count:0,height:0},jr=0,vr=pr.allRows();jr<vr.length;jr++){for(var dr=vr[jr],xr=0,Rr=pr.columns;xr<Rr.length;xr++){var Xe=Rr[xr],Pe=dr.cells[Xe.index];if(Pe){ur.applyStyles(Pe.styles,!0);var Fe=Pe.width-Pe.padding("horizontal");if(Pe.styles.overflow==="linebreak")Pe.text=ur.splitTextToSize(Pe.text,Fe+1/ur.scaleFactor(),{fontSize:Pe.styles.fontSize});else if(Pe.styles.overflow==="ellipsize")Pe.text=or(Pe.text,Fe,Pe.styles,ur,"...");else if(Pe.styles.overflow==="hidden")Pe.text=or(Pe.text,Fe,Pe.styles,ur,"");else if(typeof Pe.styles.overflow=="function"){var ze=Pe.styles.overflow(Pe.text,Fe);typeof ze=="string"?Pe.text=[ze]:Pe.text=ze}Pe.contentHeight=Pe.getContentHeight(ur.scaleFactor(),ur.getLineHeightFactor());var Ue=Pe.contentHeight/Pe.rowSpan;Pe.rowSpan>1&&gr.count*gr.height<Ue*Pe.rowSpan?gr={height:Ue,count:Pe.rowSpan}:gr&&gr.count>0&&gr.height>Ue&&(Ue=gr.height),Ue>dr.height&&(dr.height=Ue)}}gr.count--}}function or(pr,ur,gr,jr,vr){return pr.map(function(dr){return ar(dr,ur,gr,jr,vr)})}qe.ellipsize=or;function ar(pr,ur,gr,jr,vr){var dr=1e4*jr.scaleFactor();if(ur=Math.ceil(ur*dr)/dr,ur>=(0,We.getStringWidth)(pr,gr,jr))return pr;for(;ur<(0,We.getStringWidth)(pr+vr,gr,jr)&&!(pr.length<=1);)pr=pr.substring(0,pr.length-1);return pr.trim()+vr}},964:function(Be){if(typeof _e>"u"){var qe=new Error("Cannot find module 'undefined'");throw qe.code="MODULE_NOT_FOUND",qe}Be.exports=_e}},$e={};function ke(Be){var qe=$e[Be];if(qe!==void 0)return qe.exports;var He=$e[Be]={exports:{}};return Me[Be].call(He.exports,He,He.exports,ke),He.exports}var Ce={};return function(){var Be=Ce;Object.defineProperty(Be,"__esModule",{value:!0}),Be.Cell=Be.Column=Be.Row=Be.Table=Be.CellHookData=Be.__drawTable=Be.__createTable=Be.applyPlugin=void 0;var qe=ke(340),He=ke(776),We=ke(664),Ke=ke(972),Je=ke(260);Object.defineProperty(Be,"Table",{enumerable:!0,get:function(){return Je.Table}});var Qe=ke(172);Object.defineProperty(Be,"CellHookData",{enumerable:!0,get:function(){return Qe.CellHookData}});var rr=ke(260);Object.defineProperty(Be,"Cell",{enumerable:!0,get:function(){return rr.Cell}}),Object.defineProperty(Be,"Column",{enumerable:!0,get:function(){return rr.Column}}),Object.defineProperty(Be,"Row",{enumerable:!0,get:function(){return rr.Row}});function tr(ur){(0,qe.default)(ur)}Be.applyPlugin=tr;function cr(ur,gr){var jr=(0,He.parseInput)(ur,gr),vr=(0,Ke.createTable)(ur,jr);(0,We.drawTable)(ur,vr)}function or(ur,gr){var jr=(0,He.parseInput)(ur,gr);return(0,Ke.createTable)(ur,jr)}Be.__createTable=or;function ar(ur,gr){(0,We.drawTable)(ur,gr)}Be.__drawTable=ar;try{var pr=ke(964);pr.jsPDF&&(pr=pr.jsPDF),tr(pr)}catch{}Be.default=cr}(),Ce}()})})(jspdf_plugin_autotable);const generateInvoicePDF=Re=>{const je=new E,_e=useProfileStore.getState().profile||{company:"CxTrack",phone:"",address:"",city:"",state:"",zipcode:"",country:""};je.setFontSize(20),je.setTextColor(66,70,229),je.text("CXTRACK",20,20),je.setFontSize(12),je.setTextColor(100,100,100),je.text("Invoice",20,30),je.setFontSize(10),je.setTextColor(60,60,60),je.text(`Invoice Number: ${Re.invoice_number}`,20,40),je.text(`Date: ${new Date(Re.date).toLocaleDateString()}`,20,45),je.text(`Due Date: ${new Date(Re.due_date).toLocaleDateString()}`,20,50),je.setFontSize(10);let Me;switch(Re.status){case"Paid":Me=[39,174,96];break;case"Issued":Me=[41,128,185];break;case"Draft":Me=[149,165,166];break;case"Cancelled":Me=[192,57,43];break;case"Disputed":Me=[142,68,173];break;case"Part paid":Me=[243,156,18];break;case"On hold":Me=[211,84,0];break;default:Me=[149,165,166]}je.setTextColor(Me[0],Me[1],Me[2]),je.text(`Status: ${Re.status}`,150,40),je.setTextColor(60,60,60),je.text("Bill To:",20,60),je.text(Re.customer_name,20,65),Re.customer_email&&je.text(Re.customer_email,20,70),Re.customer_address&&Re.customer_address.split(`
`).forEach((We,Ke)=>{je.text(We,20,75+Ke*5)}),je.text("From:",150,60),je.text(_e.company||"CxTrack",150,65),je.text(_e.phone||"company@example.com",150,70),je.text(_e.address||"123 Business Street",150,75),je.text(`${_e.city||"City"}, ${_e.state||"State"} ${_e.zipcode||"ZIP"}`,150,80),je.text(_e.country||"Country",150,85);const $e=["Item","Quantity","Unit Price","Total"],ke=Re.items.map(He=>[He.description,He.quantity.toString(),`$${He.unit_price.toFixed(2)}`,`$${He.total.toFixed(2)}`]);je.autoTable({startY:95,head:[$e],body:ke,theme:"grid",headStyles:{fillColor:[79,70,229],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[245,247,250]},margin:{top:95}});const Ce=je.lastAutoTable.finalY+10;je.text("Subtotal:",130,Ce),je.text(`$${Re.subtotal.toFixed(2)}`,170,Ce);const Be=(Re.tax_rate*100).toFixed(2);je.text(`Tax (${Be}%):`,130,Ce+5),je.text(`$${Re.tax.toFixed(2)}`,170,Ce+5),je.setFontSize(12),je.setFont("helvetica","bold"),je.text("Total:",130,Ce+15),je.text(`$${Re.total.toFixed(2)}`,170,Ce+15),Re.notes&&(je.setFontSize(10),je.setFont("helvetica","normal"),je.text("Notes:",20,Ce+30),je.text(Re.notes,20,Ce+35));const qe=je.getNumberOfPages();for(let He=1;He<=qe;He++)je.setPage(He),je.setFontSize(8),je.setTextColor(150,150,150),je.text("Thank you for your business!",je.internal.pageSize.getWidth()/2,je.internal.pageSize.getHeight()-10,{align:"center"});return je},generateQuotePDF=Re=>{const je=new E,_e=useProfileStore.getState().profile||{company:"CxTrack",phone:"",address:"",city:"",state:"",zipcode:"",country:""};je.setFontSize(20),je.setTextColor(66,70,229),je.text("CXTRACK",20,20),je.setFontSize(12),je.setTextColor(100,100,100),je.text("Quote",20,30),je.setFontSize(10),je.setTextColor(60,60,60),je.text(`Quote Number: ${Re.quote_number}`,20,40),je.text(`Date: ${new Date(Re.date).toLocaleDateString()}`,20,45),je.text(`Expiry Date: ${new Date(Re.expiry_date).toLocaleDateString()}`,20,50),je.setFontSize(10);let Me;switch(Re.status){case"Sent":Me=[41,128,185];break;case"Accepted":Me=[39,174,96];break;case"Declined":Me=[192,57,43];break;case"Expired":Me=[243,156,18];break;default:Me=[149,165,166]}je.setTextColor(Me[0],Me[1],Me[2]),je.text(`Status: ${Re.status}`,150,40),je.setTextColor(60,60,60),je.text("To:",20,60),je.text(Re.customer_name,20,65),Re.customer_email&&je.text(Re.customer_email,20,70),Re.customer_address&&Re.customer_address.split(`
`).forEach((We,Ke)=>{je.text(We,20,75+Ke*5)}),je.text("From:",150,60),je.text(_e.company||"CxTrack",150,65),je.text(_e.phone||"company@example.com",150,70),je.text(_e.address||"123 Business Street",150,75),je.text(`${_e.city||"City"}, ${_e.state||"State"} ${_e.zipcode||"ZIP"}`,150,80),je.text(_e.country||"Country",150,85);const $e=["Item","Quantity","Unit Price","Total"],ke=Re.items.map(He=>[He.description,He.quantity.toString(),`$${He.unit_price.toFixed(2)}`,`$${He.total.toFixed(2)}`]);je.autoTable({startY:95,head:[$e],body:ke,theme:"grid",headStyles:{fillColor:[79,70,229],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[245,247,250]},margin:{top:95}});const Ce=je.lastAutoTable.finalY+10;je.text("Subtotal:",130,Ce),je.text(`$${Re.subtotal.toFixed(2)}`,170,Ce);const Be=(Re.tax_rate*100).toFixed(2);je.text(`Tax (${Be}%):`,130,Ce+5),je.text(`$${Re.tax.toFixed(2)}`,170,Ce+5),je.setFontSize(12),je.setFont("helvetica","bold"),je.text("Total:",130,Ce+15),je.text(`$${Re.total.toFixed(2)}`,170,Ce+15),Re.message&&(je.setFontSize(10),je.setFont("helvetica","normal"),je.text("Message:",20,Ce+30),je.text(Re.message,20,Ce+35)),Re.notes&&(je.setFontSize(10),je.setFont("helvetica","normal"),je.text("Notes:",20,Ce+45),je.text(Re.notes,20,Ce+50));const qe=je.getNumberOfPages();for(let He=1;He<=qe;He++)je.setPage(He),je.setFontSize(8),je.setTextColor(150,150,150),je.text("Thank you for considering our services!",je.internal.pageSize.getWidth()/2,je.internal.pageSize.getHeight()-10,{align:"center"});return je},downloadInvoicePDF=Re=>{generateInvoicePDF(Re).save(`Invoice-${Re.invoice_number}.pdf`)},downloadQuotePDF=Re=>{generateQuotePDF(Re).save(`Quote-${Re.quote_number}.pdf`)},printInvoicePDF=Re=>{const je=generateInvoicePDF(Re);je.autoPrint(),window.open(je.output("bloburl"),"_blank")},printQuotePDF=Re=>{const je=generateQuotePDF(Re);je.autoPrint(),window.open(je.output("bloburl"),"_blank")},emailService={async getEmailSettings(Re){try{const{data:je,error:_e}=await supabase.from("email_settings").select("*").eq("user_id",Re).maybeSingle();return _e&&_e.code!=="PGRST116"?(console.error("Error fetching email settings:",_e),null):je}catch(je){return console.error("Email service error:",je),null}},async checkEmailConfiguration(Re){try{const{data:je,error:_e}=await supabase.from("email_settings").select("id").eq("user_id",Re).maybeSingle();return _e&&_e.code!=="PGRST116"?(console.error("Error checking email configuration:",_e),!1):!!je}catch(je){return console.error("Email service error:",je),!1}},async saveEmailSettings(Re,je){try{if(console.log("Saving email settings:",{...je,smtp_password:"***REDACTED***"}),!Re)throw new Error("User ID is required");if(!je.smtp_host||!je.smtp_port||!je.smtp_username||!je.smtp_password||!je.from_email||!je.from_name)throw new Error("Missing required email settings");if(!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(je.from_email))throw new Error("Invalid email format");const Me=typeof je.smtp_port=="string"?parseInt(je.smtp_port):je.smtp_port;if(isNaN(Me)||Me<1||Me>65535)throw new Error("SMTP port must be between 1 and 65535");const{error:$e}=await supabase.from("email_settings").upsert({user_id:Re,smtp_host:je.smtp_host,smtp_port:Me,smtp_username:je.smtp_username,smtp_password:je.smtp_password,from_email:je.from_email,from_name:je.from_name,updated_at:new Date().toISOString()},{onConflict:"user_id",ignoreDuplicates:!1});if($e)throw new Error(`Failed to save email settings: ${$e.message}`);return!0}catch(_e){throw console.error("Email service error:",_e),_e instanceof Error?_e:new Error("Failed to save email settings")}},async testEmailSettings(Re,je){try{if(console.log("Testing email settings:",{...je,smtp_password:"***REDACTED***"}),!je.smtp_host||!je.smtp_port||!je.smtp_username||!je.smtp_password||!je.from_email||!je.from_name)throw new Error("All email settings fields are required");if(!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(je.from_email))throw new Error("Invalid email format");if(je.smtp_port<1||je.smtp_port>65535)throw new Error("SMTP port must be between 1 and 65535");const Me={settings:{...je,smtp_port:typeof je.smtp_port=="number"?je.smtp_port.toString():je.smtp_port}};console.log("Sending request to test-email-settings:",JSON.stringify({...Me,settings:{...Me.settings,smtp_password:"***REDACTED***"}}));const{data:$e,error:ke}=await supabase.functions.invoke("test-email-settings",{body:Me,headers:{"Content-Type":"application/json"}});if(ke)throw console.error("Edge function error:",ke),new Error(ke instanceof Error?ke.message:"Failed to connect to email server. Please verify your settings.");if(!$e?.success)throw console.error("Edge function response:",$e),new Error($e?.error||"Failed to verify email settings. Please check your SMTP credentials.");return!0}catch(_e){throw console.error("Email service error:",_e),_e instanceof Error?_e:new Error("An unexpected error occurred while testing email settings")}},async sendEmail(Re,je,_e,Me,$e,ke){try{if(console.log("Sending email to:",Re,"subject:",je),$e||($e=await this.getEmailSettings(Me)),!$e)throw new Error("Please configure your email settings in your profile before sending emails");const Ce={to:Re,subject:je,html:_e,from:`${$e.from_name} <${$e.from_email}>`,reply_to:$e.from_email};ke&&ke.length>0&&(Ce.attachments=ke);const Be={to:Re,subject:je,body:_e,sender:Me,settings:{smtp_host:$e.smtp_host,smtp_port:typeof $e.smtp_port=="number"?$e.smtp_port.toString():$e.smtp_port,smtp_username:$e.smtp_username,smtp_password:$e.smtp_password,from_email:$e.from_email,from_name:$e.from_name}};try{const{data:qe,error:He}=await supabase.functions.invoke("send-email-resend",{body:Ce});if(He)throw console.error("Error sending email through edge function:",He),He;if(!qe?.id)throw new Error("Failed to send email through Resend");return!0}catch(qe){throw console.error("Error sending email:",qe),qe instanceof Error?qe:new Error("Failed to send email. Please try again or contact support.")}}catch(Ce){throw console.error("Email service error:",Ce),Ce instanceof Error?Ce:new Error("Failed to send email. Please try again or contact support.")}},getQuoteEmailTemplate(Re,je){return{subject:`Quote ${Re} from CxTrack`,body:`
Dear Customer,
<br>
Please find attached quote <b>${Re}</b> for <b>$${je.toFixed(2)}</b>.
<br>
You can view the quote using the following link:
[Quote Link]
<br>
If you have any questions or would like to discuss this quote further, please don't hesitate to contact us.
<br>
Thank you for considering our services!
<br>
<br>
Best regards,
CxTrack Team
      `.trim()}},getInvoiceEmailTemplate(Re,je){return{subject:`Invoice ${Re} from CxTrack`,body:`
Dear Customer,
<br>
Please find attached invoice <b>${Re}</b> for <b>$${je.toFixed(2)}</b>.
<br>
If you have any questions, please don't hesitate to contact us.
<br>
Thank you for your business!
<br>
<br>
Best regards,
CxTrack Team
      `.trim()}},getPaymentReminderTemplate(Re,je,_e){return{subject:`Payment Reminder: Invoice ${Re}`,body:`
Dear Customer,
<br>
This is a courteous reminder that invoice <b>${Re}</b> for <b>$${je.toFixed(2)}</b> is due on <b>${_e}</b>.
<br>
If you have already made the payment, please disregard this reminder.
<br>
Thank you for your business!
<br>
<br>
Best regards,
CxTrack Team
      `.trim()}}},sendInvoiceEmail=async(Re,je="",_e=!0)=>{try{if(!Re.customer_email)throw new Error("Customer email is not available");const Me=useAuthStore.getState().user;if(!Me)throw new Error("User not authenticated");if(!await emailService.checkEmailConfiguration(Me.id))throw new Error("Please configure your email settings in your profile before sending emails");const ke=emailService.getInvoiceEmailTemplate(Re.invoice_number,Re.total),Ce=`${ke.body}

${je}`;let Be=null;if(_e){const He=generateInvoicePDF(Re).output("datauristring").split(",")[1];Be={filename:`Invoice-${Re.invoice_number}.pdf`,content:He,encoding:"base64",type:"application/pdf"}}try{return await emailService.sendEmail(Re.customer_email,ke.subject,Ce,Me.id,void 0,Be?[Be]:void 0)}catch(qe){throw console.error("Error sending invoice email:",qe),qe instanceof Error?qe:new Error("Failed to send invoice email")}}catch(Me){throw console.error("Error sending invoice email:",Me),Me instanceof Error?Me:new Error("Failed to send invoice email")}},sendQuoteEmail=async(Re,je="",_e=!0)=>{try{if(!Re.customer_email)throw new Error("Customer email is not available");const Me=useAuthStore.getState().user;if(!Me)throw new Error("User not authenticated");if(!await emailService.checkEmailConfiguration(Me.id))throw new Error("Please configure your email settings in your profile before sending emails");const ke=emailService.getQuoteEmailTemplate(Re.quote_number,Re.total),Ce=`${ke.body}

${je}`;let Be=null;if(_e){const He=generateQuotePDF(Re).output("datauristring").split(",")[1];Be={filename:`Quote-${Re.quote_number}.pdf`,content:He,encoding:"base64",type:"application/pdf"}}try{return await emailService.sendEmail(Re.customer_email,ke.subject,Ce,Me.id,void 0,Be?[Be]:void 0)}catch(qe){throw console.error("Error sending quote email:",qe),qe instanceof Error?qe:new Error("Failed to send quote email")}}catch(Me){throw console.error("Error sending quote email:",Me),Me instanceof Error?Me:new Error("Failed to send quote email")}},sendPaymentReminder=async(Re,je,_e)=>{try{const{data:{user:Me}}=await supabase.auth.getUser();if(!Me)throw new Error("User not authenticated");const $e=await emailService.getEmailSettings(Me.id);if(!$e)throw new Error("Please configure your email settings in your profile before sending emails");const ke=emailService.getPaymentReminderTemplate(Re.invoice_number,Re.total,new Date(Re.due_date).toLocaleDateString());return await emailService.sendEmail(je,ke.subject,ke.body,Me.id,$e)}catch(Me){throw console.error("Error setting up payment reminder:",Me),Me instanceof Error?Me:new Error("Failed to send payment reminder")}},generatePaymentLink=async Re=>`https://example.com/pay/invoice/${Re}`,duplicateInvoice=async Re=>{const je=await useInvoiceStore.getState().getInvoiceById(Re);if(!je)throw new Error("Original invoice not found");const _e={...je,id:crypto.randomUUID(),invoice_number:`${je.invoice_number}-copy`,status:"Draft"};return console.log("Duplicated invoice:",_e),_e},InvoiceDetail=()=>{const{id:Re}=useParams(),je=useNavigate(),{getInvoiceById:_e,updateInvoiceStatus:Me,deleteInvoice:$e,loading:ke,error:Ce}=useInvoiceStore(),{currentSubscription:Be}=useSubscriptionStore(),[qe,He]=reactExports.useState(null),[We,Ke]=reactExports.useState(!1),[Je,Qe]=reactExports.useState(""),[rr,tr]=reactExports.useState(!1),[cr,or]=reactExports.useState(""),[ar,pr]=reactExports.useState(5),[ur,gr]=reactExports.useState(null),[jr,vr]=reactExports.useState(null),[dr,xr]=reactExports.useState(!1),[Rr,Xe]=reactExports.useState(!1),[Pe,Fe]=reactExports.useState(!1),{user:ze}=useAuthStore(),Ue=ze?.email==="maniksharmawork@gmail.com"||Be?.plan_id&&["business","enterprise"].includes(Be.plan_id),Ge=(wr,Nr)=>{const kr=document.createElement("div");kr.className="fixed inset-0 bg-dark-900/80 backdrop-blur-sm flex items-center justify-center z-50",kr.innerHTML=`
        <div class="bg-dark-800 rounded-lg p-8 max-w-md m-4 relative transform scale-100 transition-all duration-200">
          <div class="text-center">
            <div class="bg-gradient-to-r from-primary-600 to-primary-800 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
              <svg class="w-8 h-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"/>
              </svg>
            </div>
            <h3 class="text-2xl font-bold text-white mb-2">Premium Feature</h3>
            <p class="text-gray-300 text-lg mb-2">${wr} is available on ${Nr}</p>
            <p class="text-gray-400 mb-6">Upgrade to access AI-powered automation and advanced features</p>
            <a href="/settings?tab=billing" class="btn btn-primary bg-gradient-to-r from-primary-600 to-primary-500 hover:from-primary-500 hover:to-primary-400 px-8 py-3 text-lg font-medium inline-block">
              Upgrade Now
            </a>
          </div>
          <button class="absolute top-4 right-4 text-gray-400 hover:text-white">
            <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
          </button>
        </div>
      `,document.body.appendChild(kr),kr.addEventListener("click",Lr=>{(Lr.target===kr||Lr.target.closest("button"))&&kr.remove()})};reactExports.useEffect(()=>{Re&&_e(Re).then(wr=>{wr?(He(wr),wr.customer_email&&or(wr.customer_email)):(c$1.error("Invoice not found"),je("/invoices"))}).catch(wr=>{c$1.error("Failed to load invoice details")})},[Re,_e,je]);const Ze=async wr=>{if(!(!Re||!qe)){if(wr==="Paid"&&!Ue){Ge("Marking invoices as paid","Business or Enterprise");return}try{const Nr=await Me(Re,wr);He(Nr),c$1.success(`Invoice marked as ${wr}`)}catch{c$1.error("Failed to update invoice status")}}},er=async()=>{if(Re&&window.confirm("Are you sure you want to delete this invoice?"))try{await $e(Re),c$1.success("Invoice deleted successfully"),je("/invoices")}catch{c$1.error("Failed to delete invoice")}},Ve=async()=>{if(Re)try{const wr=await duplicateInvoice(Re);c$1.success("Invoice duplicated successfully"),je(`/invoices/${wr.id}`)}catch(wr){console.error("Duplication Error:",wr),c$1.error("Failed to duplicate invoice")}},Ie=()=>{qe&&(downloadInvoicePDF(qe),c$1.success("Invoice PDF downloaded"))},Ye=()=>{qe&&printInvoicePDF(qe)},ir=async()=>{if(!qe)return;if(!qe.customer_email){c$1.error("Customer email is not available");return}await sendInvoiceEmail(qe,Je,!0)?(c$1.success("Invoice sent successfully"),Ke(!1),Qe(""),qe.status==="Draft"&&Ze("Issued")):c$1.error("Failed to send invoice")},lr=async()=>{if(qe){if(!cr){c$1.error("Please enter an email address for the reminder");return}try{await sendPaymentReminder(qe,cr,ar)&&(c$1.success("Payment reminder scheduled"),tr(!1))}catch(wr){c$1.error(wr.message||"Failed to schedule payment reminder"),wr.message.includes("configure your email settings")&&window.confirm("Would you like to configure your email settings now?")&&je("/settings?tab=email")}}},br=async()=>{if(!Re||!Ue){Ge("Generating Payment Links","Business or Enterprise");return}try{const wr=await generatePaymentLink(Re);vr(wr),Xe(!0)}catch{c$1.error("Failed to generate payment link")}},_r=wr=>{navigator.clipboard.writeText(wr),c$1.success("Link copied to clipboard")},Sr=qe&&new Date(qe.due_date)<new Date&&qe.status!=="Paid";return ke?jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500 mx-auto"}),jsxRuntimeExports.jsx("p",{className:"mt-4 text-gray-400",children:"Loading invoice details..."})]}):Ce?jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx("p",{className:"text-red-400 text-lg",children:Ce}),jsxRuntimeExports.jsx(Link,{to:"/invoices",className:"btn btn-primary mt-4",children:"Back to Invoices"})]}):qe?jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsx(Link,{to:"/invoices",className:"btn btn-secondary p-2",children:jsxRuntimeExports.jsx(ArrowLeft,{size:20})}),jsxRuntimeExports.jsxs("h1",{className:"text-2xl font-bold text-white",children:["Invoice ",qe.invoice_number]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(MarkAsDropdown,{currentStatus:qe.status,onStatusChange:Ze}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Fe(!Pe),className:"btn btn-secondary p-2",children:jsxRuntimeExports.jsx(MoreHorizontal,{size:20})}),Pe&&jsxRuntimeExports.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-dark-800 rounded-md shadow-lg py-1 z-10 border border-dark-700",children:[jsxRuntimeExports.jsx("button",{onClick:()=>{Fe(!1),Ve()},className:"block w-full text-left px-4 py-2 text-sm text-gray-300 hover:bg-dark-700",children:"Duplicate Invoice"}),jsxRuntimeExports.jsx("button",{onClick:()=>{Fe(!1),er()},className:"block w-full text-left px-4 py-2 text-sm text-red-400 hover:bg-dark-700",children:"Delete Invoice"})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2",children:[jsxRuntimeExports.jsxs(Link,{to:`/invoices/${Re}/edit`,className:"btn btn-primary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(SquarePen,{size:16}),jsxRuntimeExports.jsx("span",{children:"Edit"})]}),jsxRuntimeExports.jsxs("button",{onClick:Ye,className:"btn btn-secondary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Printer,{size:16}),jsxRuntimeExports.jsx("span",{children:"Print"})]}),jsxRuntimeExports.jsxs("button",{onClick:Ie,className:"btn btn-secondary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Download,{size:16}),jsxRuntimeExports.jsx("span",{children:"PDF"})]}),jsxRuntimeExports.jsx("button",{onClick:()=>{Ue?Ke(!0):Ge("Email to Customer","Business or Enterprise")},className:"btn btn-secondary flex items-center space-x-2",disabled:!qe.customer_email&&!Ue,children:jsxRuntimeExports.jsxs("div",{className:"relative flex items-center",children:[jsxRuntimeExports.jsx(Send,{size:16,className:"mr-2"}),jsxRuntimeExports.jsx("span",{children:"Email to Customer"}),!Ue&&jsxRuntimeExports.jsx(Star,{className:"w-4 h-4 text-yellow-400 fill-yellow-400 absolute -top-2 -right-2"})]})}),jsxRuntimeExports.jsx("button",{onClick:br,className:"btn btn-secondary flex items-center space-x-2",children:jsxRuntimeExports.jsxs("div",{className:"relative flex items-center",children:[jsxRuntimeExports.jsx(CreditCard,{size:16,className:"mr-2"}),jsxRuntimeExports.jsx("span",{children:"Payment Link"}),!Ue&&jsxRuntimeExports.jsx(Star,{className:"w-4 h-4 text-yellow-400 fill-yellow-400 absolute -top-2 -right-2"})]})})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Invoice Status"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"text-gray-400",children:jsxRuntimeExports.jsx(FileText,{size:18})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Status"}),jsxRuntimeExports.jsx(InvoiceStatusBadge,{status:qe.status})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"text-gray-400",children:jsxRuntimeExports.jsx(Calendar$2,{size:18})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Invoice Date"}),jsxRuntimeExports.jsx("p",{className:"text-white",children:new Date(qe.date).toLocaleDateString()})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"text-gray-400",children:jsxRuntimeExports.jsx(Clock,{size:18})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Due Date"}),jsxRuntimeExports.jsx("p",{className:"text-white",children:new Date(qe.due_date).toLocaleDateString()})]})]}),qe.status==="Paid"&&qe.payment_date&&jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"text-gray-400",children:jsxRuntimeExports.jsx(CreditCard,{size:18})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Payment Date"}),jsxRuntimeExports.jsx("p",{className:"text-white",children:new Date(qe.payment_date).toLocaleDateString()})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"text-gray-400",children:jsxRuntimeExports.jsx(DollarSign,{size:18})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Total Amount"}),jsxRuntimeExports.jsxs("p",{className:"text-xl font-semibold text-white",children:["$",qe.total.toLocaleString()]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-6 pt-6 border-t border-dark-700",children:[jsxRuntimeExports.jsx("h3",{className:"text-md font-medium text-white mb-2",children:"Payment Reminder"}),Sr&&jsxRuntimeExports.jsx("div",{className:"bg-red-900/30 border border-red-800 text-red-400 px-3 py-2 rounded-md mb-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx(AlertCircle,{size:16,className:"mr-2"}),jsxRuntimeExports.jsx("span",{children:"This invoice is overdue"})]})}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400 mb-3",children:"Send an automatic reminder to the customer before the due date."}),jsxRuntimeExports.jsx("button",{onClick:()=>tr(!0),className:`btn w-full ${!qe?.customer_email||["Paid","Cancelled"].includes(qe?.status||"")?"btn-secondary opacity-50 cursor-not-allowed":"btn-primary"}`,disabled:!qe?.customer_email||["Paid","Cancelled"].includes(qe?.status||""),children:qe?.customer_email?qe?.status==="Paid"?"Invoice Paid":qe?.status==="Cancelled"?"Invoice Cancelled":"Schedule Reminder":"No Email Available"}),!qe?.customer_email&&jsxRuntimeExports.jsx("p",{className:"mt-2 text-sm text-red-400",children:"Customer email is required to schedule reminders"})]})]}),jsxRuntimeExports.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Customer Information"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"text-gray-400",children:jsxRuntimeExports.jsx(User,{size:18})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Customer"}),jsxRuntimeExports.jsx("p",{className:"text-white font-medium",children:qe?.customer_name})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"text-gray-400",children:jsxRuntimeExports.jsx(Mail,{size:18})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Email"}),jsxRuntimeExports.jsx("p",{className:"text-white",children:qe?.customer_email||"No email provided"})]})]}),qe?.customer_address&&jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"text-gray-400",children:jsxRuntimeExports.jsx(MapPin,{size:18})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Address"}),jsxRuntimeExports.jsx("p",{className:"text-white",children:qe?.customer_address})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Notes"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300",children:qe?.notes||"No notes provided"}),jsxRuntimeExports.jsxs("div",{className:"mt-6 pt-6 border-t border-dark-700",children:[jsxRuntimeExports.jsx("h3",{className:"text-md font-medium text-white mb-2",children:"Attachments"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"No attachments"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Invoice Items"}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"bg-dark-700",children:[jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Item"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Quantity"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Unit Price"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Total"})]})}),jsxRuntimeExports.jsx("tbody",{className:"divide-y divide-dark-700",children:qe?.items.map((wr,Nr)=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-dark-700/50",children:[jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-white",children:wr.description})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300 text-right",children:wr.quantity}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300 text-right",children:["$",wr.unit_price.toFixed(2)]}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300 text-right",children:["$",wr.total.toFixed(2)]})]},Nr))}),jsxRuntimeExports.jsxs("tfoot",{children:[jsxRuntimeExports.jsxs("tr",{className:"bg-dark-700/50",children:[jsxRuntimeExports.jsx("td",{colSpan:3,className:"px-4 py-3 text-right text-sm font-medium text-gray-300",children:"Subtotal"}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-3 text-right text-sm font-medium text-white",children:["$",qe?.subtotal.toFixed(2)]})]}),jsxRuntimeExports.jsxs("tr",{className:"bg-dark-700/50",children:[jsxRuntimeExports.jsxs("td",{colSpan:3,className:"px-4 py-3 text-right text-sm font-medium text-gray-300",children:["Tax (",((qe?.tax_rate||0)*100).toFixed(2),"%)"]}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-3 text-right text-sm font-medium text-white",children:["$",qe?.tax.toFixed(2)]})]}),jsxRuntimeExports.jsxs("tr",{className:"bg-dark-700",children:[jsxRuntimeExports.jsx("td",{colSpan:3,className:"px-4 py-3 text-right text-sm font-medium text-gray-300",children:"Total"}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-3 text-right text-base font-bold text-white",children:["$",qe?.total.toFixed(2)]})]})]})]})})]}),We&&qe&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 w-full max-w-md",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Send Invoice to Customer"}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"To"}),jsxRuntimeExports.jsx("input",{type:"text",className:"input",value:qe.customer_email||"",disabled:!0})]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Subject"}),jsxRuntimeExports.jsx("input",{type:"text",className:"input",value:`Invoice ${qe.invoice_number} from Your Company`,disabled:!0})]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Message (Optional)"}),jsxRuntimeExports.jsx("textarea",{className:"input",rows:4,value:Je,onChange:wr=>Qe(wr.target.value),placeholder:"Add a personal message to the customer..."})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Ke(!1),className:"btn btn-secondary",children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:ir,className:"btn btn-primary",children:"Send"})]})]})}),rr&&qe&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 w-full max-w-md",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Schedule Payment Reminder"}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Send reminder to"}),jsxRuntimeExports.jsx("input",{type:"email",className:"input",value:cr,onChange:wr=>or(wr.target.value),placeholder:"customer@example.com"})]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Days before due date"}),jsxRuntimeExports.jsx("input",{type:"number",className:"input",value:ar,onChange:wr=>pr(parseInt(wr.target.value)),min:1,max:30})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>tr(!1),className:"btn btn-secondary",children:"Cancel"}),jsxRuntimeExports.jsxs("button",{onClick:lr,className:"btn btn-primary flex items-center space-x-1",children:[jsxRuntimeExports.jsx("span",{className:"text-yellow-300",children:""}),jsxRuntimeExports.jsx("span",{children:"Schedule reminder"})]})]})]})}),dr&&ur&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 w-full max-w-md",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Public Invoice Link"}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 mb-2",children:"Share this link with anyone to view the invoice. No account required."}),jsxRuntimeExports.jsxs("div",{className:"flex",children:[jsxRuntimeExports.jsx("input",{type:"text",className:"input rounded-r-none",value:ur,readOnly:!0}),jsxRuntimeExports.jsx("button",{onClick:()=>_r(ur),className:"btn btn-primary rounded-l-none",children:jsxRuntimeExports.jsx(Copy,{size:16})})]})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-end",children:jsxRuntimeExports.jsx("button",{onClick:()=>xr(!1),className:"btn btn-secondary",children:"Close"})})]})}),Rr&&jr&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 w-full max-w-md",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Payment Link"}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 mb-2",children:"Share this link with your customer to allow them to pay the invoice online."}),jsxRuntimeExports.jsxs("div",{className:"flex",children:[jsxRuntimeExports.jsx("input",{type:"text",className:"input rounded-r-none",value:jr,readOnly:!0}),jsxRuntimeExports.jsx("button",{onClick:()=>_r(jr),className:"btn btn-primary rounded-l-none",children:jsxRuntimeExports.jsx(Copy,{size:16})})]})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-end",children:jsxRuntimeExports.jsx("button",{onClick:()=>Xe(!1),className:"btn btn-secondary",children:"Close"})})]})})]}):jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-lg",children:"Invoice not found"}),jsxRuntimeExports.jsx(Link,{to:"/invoices",className:"btn btn-primary mt-4",children:"Back to Invoices"})]})},CreateInvoice=()=>{const Re=useNavigate(),{createInvoice:je,loading:_e,error:Me,clearError:$e}=useInvoiceStore(),{customers:ke,fetchCustomers:Ce}=useCustomerStore(),{products:Be,fetchProducts:qe,createProduct:He}=useProductStore(),[We,Ke]=reactExports.useState(!1),[Je,Qe]=reactExports.useState(!1),[rr,tr]=reactExports.useState(""),[cr,or]=reactExports.useState(""),[ar,pr]=reactExports.useState(!1),[ur,gr]=reactExports.useState({name:"",sku:"SKU-",description:"",price:0,cost:0,stock:0,category:""});reactExports.useEffect(()=>{const Sr=()=>{pr(window.innerWidth<768)};return Sr(),window.addEventListener("resize",Sr),()=>window.removeEventListener("resize",Sr)},[]),reactExports.useEffect(()=>{(async()=>{try{await Promise.all([Ce(),qe()])}catch(wr){console.error("Error loading data:",wr),c$1.error("Failed to load required data")}})(),$e()},[Ce,qe,$e]);const{register:jr,control:vr,handleSubmit:dr,watch:xr,setValue:Rr,formState:{errors:Xe}}=useForm({defaultValues:{invoiceDate:new Date().toISOString().split("T")[0],dueDate:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],items:[{product:"",description:"",quantity:1,unitPrice:0}],taxRate:0,notes:"Thank you for your business!"}}),{fields:Pe,append:Fe,remove:ze}=useFieldArray({control:vr,name:"items"}),Ue=xr("items"),Ge=xr("taxRate"),Ze=Ue.reduce((Sr,wr)=>Sr+wr.quantity*wr.unitPrice,0),er=parseFloat(Ge.toString())/100,Ve=Ze*er,Ie=Ze+Ve,Ye=[...ke].sort((Sr,wr)=>Sr.name.localeCompare(wr.name)).filter(Sr=>Sr.name.toLowerCase().includes(rr.toLowerCase())||Sr.email&&Sr.email.toLowerCase().includes(rr.toLowerCase())||Sr.phone&&Sr.phone.includes(rr)),ir=[...Be].filter(Sr=>Sr.name.toLowerCase().includes(cr.toLowerCase())||Sr.sku.toLowerCase().includes(cr.toLowerCase())||Sr.category&&Sr.category.toLowerCase().includes(cr.toLowerCase())),lr=async(Sr,wr)=>{const Nr=Be.find(kr=>kr.id===wr);Nr&&(Rr(`items.${Sr}.description`,Nr.name),Rr(`items.${Sr}.unitPrice`,Nr.price))},br=async Sr=>{Sr.preventDefault();try{if(!ur.name||!ur.sku){c$1.error("Product name and SKU are required");return}const wr=await He(ur);c$1.success("Product created successfully"),Qe(!1),gr({name:"",sku:"SKU-",description:"",price:0,cost:0,stock:0,category:""});const Nr=Pe.length-1;Rr(`items.${Nr}.product`,wr.id),Rr(`items.${Nr}.description`,wr.name),Rr(`items.${Nr}.unitPrice`,wr.price)}catch(wr){console.error("Error creating product:",wr),c$1.error("Failed to create product")}},_r=async Sr=>{try{if(!Sr.customer&&!Sr.newCustomer?.name)throw new Error("Please select a customer or create a new one");if(!Sr.items?.length)throw new Error("Please add at least one item");Sr.items.forEach((Nr,kr)=>{if(!Nr.description)throw new Error(`Please enter a description for item ${kr+1}`);if(!Nr.quantity||Nr.quantity<=0)throw new Error(`Please enter a valid quantity for item ${kr+1}`);if(!Nr.unitPrice||Nr.unitPrice<=0)throw new Error(`Please enter a valid price for item ${kr+1}`)});const wr=await je(Sr);c$1.success("Invoice has been created"),Re("/invoices")}catch(wr){console.error("Error creating invoice:",wr),c$1.error(wr instanceof Error?wr.message:"Failed to create invoice")}};return jsxRuntimeExports.jsxs("div",{className:`space-y-6 ${ar?"mobile-form-screen":""}`,children:[jsxRuntimeExports.jsxs("div",{className:`flex items-center space-x-4 ${ar?"mobile-form-header":""}`,children:[jsxRuntimeExports.jsx(Link,{to:"/invoices",className:"btn btn-secondary p-2",children:jsxRuntimeExports.jsx(ArrowLeft,{size:20})}),jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-white",children:"Create New Invoice"})]}),Me&&jsxRuntimeExports.jsx("div",{className:"bg-red-900/50 border border-red-800 text-red-300 px-4 py-3 rounded-md",children:Me}),jsxRuntimeExports.jsxs("form",{onSubmit:dr(_r),className:`${ar?"mobile-form-content pb-24":"space-y-6"}`,children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"lg:col-span-2 card bg-dark-800 border border-dark-700",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Invoice Details"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Customer"}),We?jsxRuntimeExports.jsxs("div",{className:"space-y-4 border border-dark-600 rounded-md p-4 bg-dark-700/50",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("h3",{className:"text-md font-medium text-white",children:"New Customer Details"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>Ke(!1),className:"text-gray-400 hover:text-white text-sm",children:"Cancel"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{htmlFor:"customerName",className:"block text-sm font-medium text-gray-300 mb-1",children:["Name ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("input",{id:"customerName",type:"text",className:"input",placeholder:"Customer name",...jr("newCustomer.name",{required:"Customer name is required"})}),Xe.newCustomer?.name&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:Xe.newCustomer.name.message})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{htmlFor:"customerEmail",className:"block text-sm font-medium text-gray-300 mb-1",children:["Email ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("input",{id:"customerEmail",type:"email",className:"input",placeholder:"customer@example.com",...jr("newCustomer.email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})}),Xe.newCustomer?.email&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:Xe.newCustomer.email.message})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"customerPhone",className:"block text-sm font-medium text-gray-300 mb-1",children:"Phone"}),jsxRuntimeExports.jsx("input",{id:"customerPhone",type:"text",className:"input",placeholder:"(555) 123-4567",...jr("newCustomer.phone")})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{htmlFor:"customerType",className:"block text-sm font-medium text-gray-300 mb-1",children:["Type ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsxs("select",{id:"customerType",className:"input",...jr("newCustomer.type",{required:"Customer type is required"}),children:[jsxRuntimeExports.jsx("option",{value:"Individual",children:"Individual"}),jsxRuntimeExports.jsx("option",{value:"Business",children:"Business"}),jsxRuntimeExports.jsx("option",{value:"Government",children:"Government"}),jsxRuntimeExports.jsx("option",{value:"Non-Profit",children:"Non-Profit"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"customerCompany",className:"block text-sm font-medium text-gray-300 mb-1",children:"Company"}),jsxRuntimeExports.jsx("input",{id:"customerCompany",type:"text",className:"input",placeholder:"Company name",...jr("newCustomer.company")})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"customerTitle",className:"block text-sm font-medium text-gray-300 mb-1",children:"Title"}),jsxRuntimeExports.jsx("input",{id:"customerTitle",type:"text",className:"input",placeholder:"Job title",...jr("newCustomer.title")})]}),jsxRuntimeExports.jsxs("div",{className:"col-span-2",children:[jsxRuntimeExports.jsx("label",{htmlFor:"customerAddress",className:"block text-sm font-medium text-gray-300 mb-1",children:"Address"}),jsxRuntimeExports.jsx("input",{id:"customerAddress",type:"text",className:"input",placeholder:"123 Business St, City",...jr("newCustomer.address")})]})]})]}):jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex space-x-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:jsxRuntimeExports.jsx(Search,{size:16,className:"text-gray-400"})}),jsxRuntimeExports.jsx("input",{type:"text",className:"input pl-10",placeholder:"Search customers...",value:rr,onChange:Sr=>tr(Sr.target.value)})]}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>Ke(!0),className:"btn btn-secondary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(UserPlus,{size:16}),jsxRuntimeExports.jsx("span",{children:"New Customer"})]})]}),jsxRuntimeExports.jsx("div",{className:"relative",children:jsxRuntimeExports.jsxs("select",{className:"input",...jr("customer",{required:!We}),children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select a customer"}),Ye.map(Sr=>jsxRuntimeExports.jsxs("option",{value:Sr.id,children:[Sr.name," ",Sr.email?`(${Sr.email})`:""]},Sr.id))]})})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"invoiceDate",className:"block text-sm font-medium text-gray-300 mb-1",children:"Invoice Date"}),jsxRuntimeExports.jsx("input",{type:"date",id:"invoiceDate",className:"input",...jr("invoiceDate",{required:"Invoice date is required"})}),Xe.invoiceDate&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:Xe.invoiceDate.message})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"dueDate",className:"block text-sm font-medium text-gray-300 mb-1",children:"Due Date"}),jsxRuntimeExports.jsx("input",{type:"date",id:"dueDate",className:"input",...jr("dueDate",{required:"Due date is required"})}),Xe.dueDate&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:Xe.dueDate.message})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"taxRate",className:"block text-sm font-medium text-gray-300 mb-1",children:"Tax Rate (%)"}),jsxRuntimeExports.jsx("input",{type:"number",id:"taxRate",className:"input",min:"0",max:"100",step:"0.01",placeholder:"Enter tax rate percentage (e.g., 12 for 12%)",...jr("taxRate",{required:"Tax rate is required",min:{value:0,message:"Tax rate cannot be negative"},max:{value:100,message:"Tax rate cannot exceed 100%"},valueAsNumber:!0})}),Xe.taxRate&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:Xe.taxRate.message})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Notes"}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("textarea",{rows:5,className:"input",placeholder:"Add notes to the customer...",...jr("notes")})})]})]}),jsxRuntimeExports.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-white",children:"Invoice Items"}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-2",children:[jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>Qe(!0),className:"btn btn-secondary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Package,{size:16}),jsxRuntimeExports.jsx("span",{children:"New Product"})]}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>Fe({product:"",description:"",quantity:1,unitPrice:0}),className:"btn btn-secondary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Plus,{size:16}),jsxRuntimeExports.jsx("span",{children:"Add Item"})]})]})]}),Je&&jsxRuntimeExports.jsxs("div",{className:"mb-6 p-4 border border-dark-600 rounded-lg bg-dark-700/50",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-md font-medium text-white",children:"New Product"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>Qe(!1),className:"text-gray-400 hover:text-white text-sm",children:"Cancel"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:["Product Name ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("input",{type:"text",className:"input",value:ur.name,onChange:Sr=>gr({...ur,name:Sr.target.value}),placeholder:"Product name"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:["SKU ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("input",{type:"text",className:"input",value:ur.sku,onChange:Sr=>gr({...ur,sku:Sr.target.value}),placeholder:"SKU-12345"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:["Price ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("input",{type:"number",className:"input",value:ur.price,onChange:Sr=>gr({...ur,price:parseFloat(Sr.target.value)}),min:"0",step:"0.01"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Cost"}),jsxRuntimeExports.jsx("input",{type:"number",className:"input",value:ur.cost,onChange:Sr=>gr({...ur,cost:parseFloat(Sr.target.value)}),min:"0",step:"0.01"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Initial Stock"}),jsxRuntimeExports.jsx("input",{type:"number",className:"input",value:ur.stock,onChange:Sr=>gr({...ur,stock:parseInt(Sr.target.value)}),min:"0"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Category"}),jsxRuntimeExports.jsx("input",{type:"text",className:"input",value:ur.category,onChange:Sr=>gr({...ur,category:Sr.target.value}),placeholder:"Category"})]}),jsxRuntimeExports.jsxs("div",{className:"col-span-2",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Description"}),jsxRuntimeExports.jsx("textarea",{className:"input",value:ur.description,onChange:Sr=>gr({...ur,description:Sr.target.value}),placeholder:"Product description",rows:3})]})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-end",children:jsxRuntimeExports.jsx("button",{type:"button",onClick:br,className:"btn btn-primary",children:"Create Product"})})]}),jsxRuntimeExports.jsx("div",{className:"mb-4",children:jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:jsxRuntimeExports.jsx(Search,{size:16,className:"text-gray-400"})}),jsxRuntimeExports.jsx("input",{type:"text",className:"input pl-10",placeholder:"Search products...",value:cr,onChange:Sr=>or(Sr.target.value)})]})}),jsxRuntimeExports.jsx("div",{className:`overflow-x-auto ${ar?"mobile-table":""}`,children:jsxRuntimeExports.jsxs("table",{className:"w-full",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"bg-dark-700",children:[jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Product"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Description"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Quantity"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Unit Price"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Total"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"divide-y divide-dark-700",children:Pe.map((Sr,wr)=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-dark-700/50",children:[jsxRuntimeExports.jsx("td",{className:"px-4 py-4","data-label":"Product",children:jsxRuntimeExports.jsxs("select",{className:"input",...jr(`items.${wr}.product`),onChange:Nr=>lr(wr,Nr.target.value),children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select a product"}),ir.map(Nr=>jsxRuntimeExports.jsxs("option",{value:Nr.id,children:[Nr.name," (",Nr.sku,")"]},Nr.id))]})}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-4","data-label":"Description",children:[jsxRuntimeExports.jsx("input",{type:"text",className:"input",placeholder:"Description",...jr(`items.${wr}.description`,{required:"Description is required"})}),Xe.items?.[wr]?.description&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:Xe.items[wr]?.description?.message})]}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-4","data-label":"Quantity",children:[jsxRuntimeExports.jsx("input",{type:"number",min:"1",className:"input text-right",...jr(`items.${wr}.quantity`,{required:"Quantity is required",min:{value:1,message:"Minimum quantity is 1"},valueAsNumber:!0})}),Xe.items?.[wr]?.quantity&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:Xe.items[wr]?.quantity?.message})]}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-4","data-label":"Unit Price",children:[jsxRuntimeExports.jsx("input",{type:"number",min:"0",step:"0.01",className:"input text-right",...jr(`items.${wr}.unitPrice`,{required:"Unit price is required",min:{value:0,message:"Minimum price is 0"},valueAsNumber:!0})}),Xe.items?.[wr]?.unitPrice&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:Xe.items[wr]?.unitPrice?.message})]}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-right text-sm font-medium text-white","data-label":"Total",children:["$",(Ue[wr]?.quantity*Ue[wr]?.unitPrice||0).toFixed(2)]}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>ze(wr),disabled:Pe.length===1,className:`text-gray-400 hover:text-red-500 ${Pe.length===1?"opacity-50 cursor-not-allowed":""}`,children:jsxRuntimeExports.jsx(Trash2,{size:16})})})]},Sr.id))}),jsxRuntimeExports.jsxs("tfoot",{children:[jsxRuntimeExports.jsxs("tr",{className:"bg-dark-700/50",children:[jsxRuntimeExports.jsx("td",{colSpan:4,className:"px-4 py-3 text-right text-sm font-medium text-gray-300",children:"Subtotal"}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-3 text-right text-sm font-medium text-white",children:["$",Ze.toFixed(2)]}),jsxRuntimeExports.jsx("td",{})]}),jsxRuntimeExports.jsxs("tr",{className:"bg-dark-700/50",children:[jsxRuntimeExports.jsxs("td",{colSpan:4,className:"px-4 py-3 text-right text-sm font-medium text-gray-300",children:["Tax (",(er*100).toFixed(2),"%)"]}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-3 text-right text-sm font-medium text-white",children:["$",Ve.toFixed(2)]}),jsxRuntimeExports.jsx("td",{})]}),jsxRuntimeExports.jsxs("tr",{className:"bg-dark-700",children:[jsxRuntimeExports.jsx("td",{colSpan:4,className:"px-4 py-3 text-right text-sm font-medium text-gray-300",children:"Total"}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-3 text-right text-base font-bold text-white",children:["$",Ie.toFixed(2)]}),jsxRuntimeExports.jsx("td",{})]})]})]})})]}),jsxRuntimeExports.jsx("div",{className:`${ar?"mobile-form-footer":"flex justify-end"}`,children:jsxRuntimeExports.jsx("button",{type:"submit",className:`btn btn-primary flex items-center justify-center space-x-2 ${ar?"w-full":""}`,disabled:_e,children:_e?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white"}),jsxRuntimeExports.jsx("span",{children:"Creating..."})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Save,{size:16}),jsxRuntimeExports.jsx("span",{children:"Create Invoice"})]})})})]})]})},EditInvoice=()=>{const{id:Re}=useParams(),je=useNavigate(),{getInvoiceById:_e,updateInvoice:Me,loading:$e,error:ke,clearError:Ce}=useInvoiceStore(),{customers:Be,fetchCustomers:qe,updateCustomer:He}=useCustomerStore(),{products:We,fetchProducts:Ke}=useProductStore(),[Je,Qe]=reactExports.useState(!1),[rr,tr]=reactExports.useState(""),[cr,or]=reactExports.useState(""),[ar,pr]=reactExports.useState(null),{register:ur,control:gr,handleSubmit:jr,watch:vr,setValue:dr,reset:xr,formState:{errors:Rr}}=useForm();reactExports.useEffect(()=>{(async()=>{try{if(Re){const br=await _e(Re);br?(pr(br),xr({customer:br.customer_id,invoiceDate:br.date.split("T")[0],dueDate:br.due_date.split("T")[0],taxRate:br.tax_rate*100,notes:br.notes||"",items:br.items.map(_r=>({product:_r.product_id||"",description:_r.description,quantity:_r.quantity,unitPrice:_r.unit_price}))})):(c$1.error("Invoice not found"),je("/invoices"))}await Promise.all([qe(),Ke()])}catch{c$1.error("Failed to load data")}})()},[Re,_e,qe,Ke,je,xr]);const{fields:Xe,append:Pe,remove:Fe}=useFieldArray({control:gr,name:"items"}),ze=vr("items"),Ue=vr("taxRate"),Ge=ze?.reduce((lr,br)=>lr+br.quantity*br.unitPrice,0)||0,Ze=parseFloat(Ue?.toString()||"0")/100,er=Ge*Ze,Ve=Ge+er;[...Be].sort((lr,br)=>lr.name.localeCompare(br.name)).filter(lr=>lr.name.toLowerCase().includes(rr.toLowerCase())||lr.email&&lr.email.toLowerCase().includes(rr.toLowerCase())||lr.phone&&lr.phone.includes(rr));const Ie=[...We].filter(lr=>lr.name.toLowerCase().includes(cr.toLowerCase())||lr.sku.toLowerCase().includes(cr.toLowerCase())||lr.category&&lr.category.toLowerCase().includes(cr.toLowerCase())),Ye=(lr,br)=>{const _r=We.find(Sr=>Sr.id===br);_r&&(dr(`items.${lr}.description`,_r.name),dr(`items.${lr}.unitPrice`,_r.price))},ir=async lr=>{if(!(!Re||!ar)){Ce();try{let br=!1;if(lr.newCustomer){const Xr=ar.customer_id;if(Xr){const Ur={name:lr.newCustomer.name,email:lr.newCustomer.email,phone:lr.newCustomer.phone,address:lr.newCustomer.address};await He(Xr,Ur),br=!0}}const _r=lr.items.map(Xr=>({product_id:Xr.product||null,description:Xr.description,quantity:Xr.quantity,unit_price:Xr.unitPrice,total:Xr.quantity*Xr.unitPrice})),Sr=_r.reduce((Xr,Ur)=>Xr+Ur.total,0),wr=parseFloat(lr.taxRate.toString())/100,Nr=Sr*wr,kr=Sr+Nr,Lr=await Me(Re,{date:lr.invoiceDate,due_date:lr.dueDate,items:_r,subtotal:Sr,tax_rate:wr,tax:Nr,total:kr,notes:lr.notes,customer_email:lr.newCustomer?.email,customer_address:lr.newCustomer?.address});br?c$1.success("Invoice and customer information updated successfully!"):c$1.success("Invoice updated successfully!"),je(`/invoices/${Re}`)}catch(br){console.error("Error updating invoice:",br),c$1.error("Failed to update invoice. Please try again.")}}};return $e||!ar?jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500 mx-auto"}),jsxRuntimeExports.jsx("p",{className:"mt-4 text-gray-400",children:"Loading invoice details..."})]}):jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsx(Link,{to:`/invoices/${Re}`,className:"btn btn-secondary p-2",children:jsxRuntimeExports.jsx(ArrowLeft,{size:20})}),jsxRuntimeExports.jsxs("h1",{className:"text-2xl font-bold text-white",children:["Edit Invoice ",ar.invoice_number]})]}),ke&&jsxRuntimeExports.jsx("div",{className:"bg-red-900/50 border border-red-800 text-red-300 px-4 py-3 rounded-md",children:ke}),jsxRuntimeExports.jsxs("form",{onSubmit:jr(ir),className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"lg:col-span-2 card bg-dark-800 border border-dark-700",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Invoice Details"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Customer"}),Je?jsxRuntimeExports.jsxs("div",{className:"space-y-4 border border-dark-600 rounded-md p-4 bg-dark-700/50",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("h3",{className:"text-md font-medium text-white",children:"Edit Customer Details"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>Qe(!1),className:"text-gray-400 hover:text-white text-sm",children:"Cancel"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"customerName",className:"block text-sm font-medium text-gray-300 mb-1",children:"Name"}),jsxRuntimeExports.jsx("input",{id:"customerName",type:"text",className:"input",placeholder:"Customer name",defaultValue:ar.customer_name,...ur("newCustomer.name")})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"customerEmail",className:"block text-sm font-medium text-gray-300 mb-1",children:"Email"}),jsxRuntimeExports.jsx("input",{id:"customerEmail",type:"email",className:"input",placeholder:"customer@example.com",defaultValue:ar.customer_email||"",...ur("newCustomer.email",{pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})}),Rr.newCustomer?.email&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:Rr.newCustomer.email.message})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"customerPhone",className:"block text-sm font-medium text-gray-300 mb-1",children:"Phone"}),jsxRuntimeExports.jsx("input",{id:"customerPhone",type:"text",className:"input",placeholder:"(555) 123-4567",...ur("newCustomer.phone")})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"customerAddress",className:"block text-sm font-medium text-gray-300 mb-1",children:"Address"}),jsxRuntimeExports.jsx("input",{id:"customerAddress",type:"text",className:"input",placeholder:"123 Business St, City",defaultValue:ar.customer_address||"",...ur("newCustomer.address")})]})]})]}):jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex space-x-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:jsxRuntimeExports.jsx(Search,{size:16,className:"text-gray-400"})}),jsxRuntimeExports.jsx("input",{type:"text",className:"input pl-10",placeholder:"Search customers...",value:rr,onChange:lr=>tr(lr.target.value)})]}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>Qe(!0),className:"btn btn-secondary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(UserPlus,{size:16}),jsxRuntimeExports.jsx("span",{children:"Edit Customer"})]})]}),jsxRuntimeExports.jsx("div",{className:"relative",children:jsxRuntimeExports.jsx("select",{className:"input",...ur("customer"),disabled:!0,children:jsxRuntimeExports.jsx("option",{value:ar.customer_id,children:ar.customer_name})})})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"invoiceDate",className:"block text-sm font-medium text-gray-300 mb-1",children:"Invoice Date"}),jsxRuntimeExports.jsx("input",{type:"date",id:"invoiceDate",className:"input",...ur("invoiceDate",{required:"Invoice date is required"})}),Rr.invoiceDate&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:Rr.invoiceDate.message})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"dueDate",className:"block text-sm font-medium text-gray-300 mb-1",children:"Due Date"}),jsxRuntimeExports.jsx("input",{type:"date",id:"dueDate",className:"input",...ur("dueDate",{required:"Due date is required"})}),Rr.dueDate&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:Rr.dueDate.message})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"taxRate",className:"block text-sm font-medium text-gray-300 mb-1",children:"Tax Rate (%)"}),jsxRuntimeExports.jsx("input",{type:"number",id:"taxRate",className:"input",min:"0",max:"100",step:"0.01",placeholder:"Enter tax rate percentage (e.g., 12 for 12%)",...ur("taxRate",{required:"Tax rate is required",min:{value:0,message:"Tax rate cannot be negative"},max:{value:100,message:"Tax rate cannot exceed 100%"},valueAsNumber:!0})}),Rr.taxRate&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:Rr.taxRate.message})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Notes"}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("textarea",{rows:5,className:"input",placeholder:"Add notes to the customer...",...ur("notes")})})]})]}),jsxRuntimeExports.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-white",children:"Invoice Items"}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>Pe({product:"",description:"",quantity:1,unitPrice:0}),className:"btn btn-secondary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Plus,{size:16}),jsxRuntimeExports.jsx("span",{children:"Add Item"})]})]}),jsxRuntimeExports.jsx("div",{className:"mb-4",children:jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:jsxRuntimeExports.jsx(Search,{size:16,className:"text-gray-400"})}),jsxRuntimeExports.jsx("input",{type:"text",className:"input pl-10",placeholder:"Search products...",value:cr,onChange:lr=>or(lr.target.value)})]})}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"bg-dark-700",children:[jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Product"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Description"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Quantity"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Unit Price"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Total"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"divide-y divide-dark-700",children:Xe.map((lr,br)=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-dark-700/50",children:[jsxRuntimeExports.jsx("td",{className:"px-4 py-4",children:jsxRuntimeExports.jsxs("select",{className:"input",...ur(`items.${br}.product`),onChange:_r=>Ye(br,_r.target.value),children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select a product"}),Ie.map(_r=>jsxRuntimeExports.jsxs("option",{value:_r.id,children:[_r.name," (",_r.sku,")"]},_r.id))]})}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-4",children:[jsxRuntimeExports.jsx("input",{type:"text",className:"input",placeholder:"Description",...ur(`items.${br}.description`,{required:"Description is required"})}),Rr.items?.[br]?.description&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:Rr.items[br]?.description?.message})]}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-4",children:[jsxRuntimeExports.jsx("input",{type:"number",min:"1",className:"input text-right",...ur(`items.${br}.quantity`,{required:"Quantity is required",min:{value:1,message:"Minimum quantity is 1"},valueAsNumber:!0})}),Rr.items?.[br]?.quantity&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:Rr.items[br]?.quantity?.message})]}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-4",children:[jsxRuntimeExports.jsx("input",{type:"number",min:"0",step:"0.01",className:"input text-right",...ur(`items.${br}.unitPrice`,{required:"Unit price is required",min:{value:0,message:"Minimum price is 0"},valueAsNumber:!0})}),Rr.items?.[br]?.unitPrice&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:Rr.items[br]?.unitPrice?.message})]}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-right text-sm font-medium text-white",children:["$",(ze[br]?.quantity*ze[br]?.unitPrice||0).toFixed(2)]}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>Fe(br),disabled:Xe.length===1,className:`text-gray-400 hover:text-red-500 ${Xe.length===1?"opacity-50 cursor-not-allowed":""}`,children:jsxRuntimeExports.jsx(Trash2,{size:16})})})]},lr.id))}),jsxRuntimeExports.jsxs("tfoot",{children:[jsxRuntimeExports.jsxs("tr",{className:"bg-dark-700/50",children:[jsxRuntimeExports.jsx("td",{colSpan:4,className:"px-4 py-3 text-right text-sm font-medium text-gray-300",children:"Subtotal"}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-3 text-right text-sm font-medium text-white",children:["$",Ge.toFixed(2)]}),jsxRuntimeExports.jsx("td",{})]}),jsxRuntimeExports.jsxs("tr",{className:"bg-dark-700/50",children:[jsxRuntimeExports.jsxs("td",{colSpan:4,className:"px-4 py-3 text-right text-sm font-medium text-gray-300",children:["Tax (",parseFloat(Ue?.toString()||"0").toFixed(2),"%)"]}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-3 text-right text-sm font-medium text-white",children:["$",er.toFixed(2)]}),jsxRuntimeExports.jsx("td",{})]}),jsxRuntimeExports.jsxs("tr",{className:"bg-dark-700",children:[jsxRuntimeExports.jsx("td",{colSpan:4,className:"px-4 py-3 text-right text-sm font-medium text-gray-300",children:"Total"}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-3 text-right text-base font-bold text-white",children:["$",Ve.toFixed(2)]}),jsxRuntimeExports.jsx("td",{})]})]})]})})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-end",children:jsxRuntimeExports.jsx("button",{type:"submit",className:"btn btn-primary flex items-center space-x-2",disabled:$e,children:$e?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white"}),jsxRuntimeExports.jsx("span",{children:"Saving..."})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Save,{size:16}),jsxRuntimeExports.jsx("span",{children:"Update Invoice"})]})})})]})]})},quoteService={async getQuotes(){try{const{data:Re,error:je}=await supabase.from("quotes").select("*").order("created_at",{ascending:!1});if(je)throw console.error("Error fetching quotes:",je),je;return Re||[]}catch(Re){throw console.error("Quote service error:",Re),Re}},async getQuoteById(Re){try{const{data:je,error:_e}=await supabase.from("quotes").select("*").eq("id",Re).single();if(_e)throw console.error("Error fetching quote:",_e),_e;return je}catch(je){throw console.error("Quote service error:",je),je}},async generateQuoteNumber(){try{const{data:Re}=await supabase.auth.getUser();if(!Re?.user)throw new Error("User not authenticated");const{data:je,error:_e}=await supabase.from("quotes").select("quote_number").eq("user_id",Re.user.id).order("quote_number",{ascending:!1}).limit(1);if(_e)throw console.error("Error fetching quote numbers:",_e),_e;let Me=1;if(je&&je.length>0){const Ce=je[0].quote_number.match(/QUO-(\d+)/);Ce&&Ce[1]&&(Me=parseInt(Ce[1],10)+1)}return`QUO-${Me.toString().padStart(6,"0")}`}catch(Re){console.error("Error generating quote number:",Re);const je=new Date().getTime(),_e=Math.floor(Math.random()*1e3);return`QUO-${je.toString().slice(-6)}-${_e}`}},async createQuote(Re){try{const{data:je}=await supabase.auth.getUser();if(!je?.user)throw new Error("User not authenticated");let _e=Re.customer||null,Me="",$e=null,ke=null;if(Re.newCustomer&&!_e){const{data:We,error:Ke}=await supabase.from("customers").insert([{name:Re.newCustomer.name,email:Re.newCustomer.email,address:Re.newCustomer.address,user_id:je.user.id,status:"Active",total_spent:0}]).select().single();if(Ke)throw Ke;_e=We.id,Me=We.name,$e=We.email,ke=We.address}else if(_e){const{data:We}=await supabase.from("customers").select("name, email, address").eq("id",_e).single();We&&(Me=We.name,$e=We.email,ke=We.address)}let Ce=0;const Be=3;let qe=null,He=null;for(;Ce<Be;)try{const We=await this.generateQuoteNumber(),Ke=Re.items.map(ar=>({product_id:ar.product||null,description:ar.description,quantity:ar.quantity,unit_price:ar.unit_price,total:ar.quantity*ar.unit_price})),Je=Ke.reduce((ar,pr)=>ar+pr.total,0),Qe=parseFloat(Re.tax_rate.toString())/100,rr=Je*Qe,tr=Je+rr,cr={quote_number:We,customer_id:_e,customer_name:Me,customer_email:$e,customer_address:ke,date:Re.date,expiry_date:Re.expiry_date,items:Ke,subtotal:Je,tax_rate:Qe,tax:rr,total:tr,notes:Re.notes||null,message:Re.message||null,status:"Draft",user_id:je.user.id},or=await supabase.from("quotes").insert([cr]).select().single();if(or.error){if(or.error.code==="23505"&&or.error.message.includes("quotes_quote_number_key")){Ce++,qe=or.error;continue}throw or.error}He=or.data;break}catch(We){if(Ce>=Be-1)throw We;Ce++,qe=We}if(!He&&qe)throw qe;return He}catch(je){throw console.error("Quote service error:",je),je}},async updateQuoteStatus(Re,je){try{const{data:_e,error:Me}=await supabase.from("quotes").update({status:je}).eq("id",Re).select().single();if(Me)throw console.error("Error updating quote status:",Me),Me;return _e}catch(_e){throw console.error("Quote service error:",_e),_e}},async deleteQuote(Re){try{const{error:je}=await supabase.from("quotes").delete().eq("id",Re);if(je)throw console.error("Error deleting quote:",je),je}catch(je){throw console.error("Quote service error:",je),je}}},useQuoteStore=create((Re,je)=>({quotes:[],loading:!1,error:null,clearError:()=>Re({error:null}),fetchQuotes:async()=>{Re({loading:!0,error:null});try{const _e=await quoteService.getQuotes();Re({quotes:_e,loading:!1})}catch(_e){console.error("Error in fetchQuotes:",_e),Re({error:_e.message||"Failed to fetch quotes",loading:!1})}},getQuoteById:async _e=>{Re({loading:!0,error:null});try{const Me=await quoteService.getQuoteById(_e);return Re({loading:!1}),Me}catch(Me){return console.error("Error in getQuoteById:",Me),Re({error:Me.message||"Failed to fetch quote details",loading:!1}),null}},createQuote:async _e=>{Re({loading:!0,error:null});try{const Me=await quoteService.createQuote(_e),$e=[...je().quotes,Me];return Re({quotes:$e,loading:!1}),Me}catch(Me){throw console.error("Error in createQuote:",Me),Re({error:Me.message||"Failed to create quote",loading:!1}),Me}},updateQuoteStatus:async(_e,Me)=>{Re({loading:!0,error:null});try{const $e=await quoteService.updateQuoteStatus(_e,Me),ke=je().quotes.map(Ce=>Ce.id===_e?$e:Ce);return Re({quotes:ke,loading:!1}),$e}catch($e){throw console.error("Error in updateQuoteStatus:",$e),Re({error:$e.message||"Failed to update quote status",loading:!1}),$e}},deleteQuote:async _e=>{Re({loading:!0,error:null});try{await quoteService.deleteQuote(_e);const Me=je().quotes.filter($e=>$e.id!==_e);Re({quotes:Me,loading:!1})}catch(Me){throw console.error("Error in deleteQuote:",Me),Re({error:Me.message||"Failed to delete quote",loading:!1}),Me}}})),QuoteStatusBadge=({status:Re})=>{let je="",_e="";switch(Re){case"Draft":je="bg-gray-700/30",_e="text-gray-400";break;case"Sent":je="bg-blue-900/30",_e="text-blue-400";break;case"Accepted":je="bg-green-900/30",_e="text-green-400";break;case"Declined":je="bg-red-900/30",_e="text-red-400";break;case"Expired":je="bg-yellow-900/30",_e="text-yellow-400";break;default:je="bg-gray-700/30",_e="text-gray-400"}return jsxRuntimeExports.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${je} ${_e}`,children:Re})},Quotes$1=()=>{const{quotes:Re,loading:je,error:_e,fetchQuotes:Me,deleteQuote:$e}=useQuoteStore(),[ke,Ce]=reactExports.useState(""),[Be,qe]=reactExports.useState([]),[He,We]=reactExports.useState("all"),[Ke,Je]=reactExports.useState(!1),[Qe,rr]=reactExports.useState(null);reactExports.useEffect(()=>{Me().catch(gr=>{c$1.error("Failed to load quotes")})},[Me]);const tr=Re.filter(gr=>{const jr=gr.quote_number?.toLowerCase().includes(ke.toLowerCase())||gr.customer_name?.toLowerCase().includes(ke.toLowerCase()),vr=He==="all"||gr.status===He;return jr&&vr}),cr=()=>{Be.length===tr.length?qe([]):qe(tr.map(gr=>gr.id))},or=gr=>{Be.includes(gr)?qe(Be.filter(jr=>jr!==gr)):qe([...Be,gr])},ar=async gr=>{rr(gr)},pr=async()=>{if(Qe)try{await $e(Qe),c$1.success("Quote deleted successfully"),rr(null)}catch{c$1.error("Failed to delete quote")}},ur=async gr=>{const jr=gr.target.files?.[0];if(jr){Je(!0);try{const vr=await jr.text();Papa.parse(vr,{header:!0,skipEmptyLines:!0,complete:async dr=>{const{data:xr,errors:Rr}=dr;if(Rr.length>0){c$1.error("Error parsing CSV file"),console.error("CSV parsing errors:",Rr);return}let Xe=0,Pe=0;for(const Fe of xr)try{const ze={customer_name:Fe.customer_name,customer_email:Fe.customer_email,date:Fe.date,expiry_date:Fe.expiry_date,items:JSON.parse(Fe.items||"[]"),tax_rate:parseFloat(Fe.tax_rate)||0,notes:Fe.notes,message:Fe.message};Xe++}catch(ze){console.error("Error importing quote:",ze),Pe++}c$1.success(`Imported ${Xe} quotes successfully${Pe>0?` (${Pe} failed)`:""}`)}})}catch(vr){console.error("File upload error:",vr),c$1.error("Failed to upload file")}finally{Je(!1),gr.target.value=""}}};return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-white",children:"Quotes"}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-2",children:[jsxRuntimeExports.jsxs("div",{className:"relative hidden md:block",children:[jsxRuntimeExports.jsx("input",{type:"file",accept:".csv",onChange:ur,className:"hidden",id:"csv-upload",disabled:Ke}),jsxRuntimeExports.jsxs("label",{htmlFor:"csv-upload",className:"btn btn-secondary flex items-center space-x-2 cursor-pointer",children:[jsxRuntimeExports.jsx(Upload,{size:16,className:Ke?"animate-bounce":""}),jsxRuntimeExports.jsx("span",{children:Ke?"Importing...":"Import CSV"})]})]}),jsxRuntimeExports.jsxs(Link,{to:"/quotes/create",className:"btn btn-primary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Plus,{size:16}),jsxRuntimeExports.jsx("span",{children:"Create Quote"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex-1",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:jsxRuntimeExports.jsx(Search,{size:18,className:"text-gray-400"})}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search quotes...",className:"input pl-10",value:ke,onChange:gr=>Ce(gr.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs("select",{className:"bg-dark-800 border border-dark-700 text-white rounded-md px-3 py-2",value:He,onChange:gr=>We(gr.target.value),children:[jsxRuntimeExports.jsx("option",{value:"all",children:"All Statuses"}),jsxRuntimeExports.jsx("option",{value:"Draft",children:"Draft"}),jsxRuntimeExports.jsx("option",{value:"Sent",children:"Sent"}),jsxRuntimeExports.jsx("option",{value:"Accepted",children:"Accepted"}),jsxRuntimeExports.jsx("option",{value:"Declined",children:"Declined"}),jsxRuntimeExports.jsx("option",{value:"Expired",children:"Expired"})]}),jsxRuntimeExports.jsxs("button",{className:"btn btn-secondary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Download,{size:16}),jsxRuntimeExports.jsx("span",{children:"Export"})]})]})]}),_e&&jsxRuntimeExports.jsx("div",{className:"bg-red-900/50 border border-red-800 text-red-300 px-4 py-3 rounded-md",children:_e}),je&&jsxRuntimeExports.jsxs("div",{className:"text-center py-4",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-500 mx-auto"}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-gray-400",children:"Loading quotes..."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-lg border border-dark-700 overflow-hidden",children:[!je&&tr.length>0?jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"bg-dark-700",children:[jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left",children:jsxRuntimeExports.jsx("div",{className:"flex items-center",children:jsxRuntimeExports.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-600 bg-dark-800 text-primary-600 focus:ring-primary-500",checked:Be.length===tr.length&&tr.length>0,onChange:cr})})}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Quote #"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Customer"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Date"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Expiry Date"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Amount"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"divide-y divide-dark-700",children:tr.map(gr=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-dark-700/50",children:[jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-600 bg-dark-800 text-primary-600 focus:ring-primary-500",checked:Be.includes(gr.id),onChange:()=>or(gr.id)})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsx(Link,{to:`/quotes/${gr.id}`,className:"text-white font-medium hover:text-primary-400",children:gr.quote_number})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-300",children:gr.customer_name})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:gr.date?new Date(gr.date).toLocaleDateString():"-"}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:gr.expiry_date?new Date(gr.expiry_date).toLocaleDateString():"-"}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:["$",gr.total.toLocaleString()]}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsx(QuoteStatusBadge,{status:gr.status})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-right text-sm font-medium",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[jsxRuntimeExports.jsx(Link,{to:`/quotes/${gr.id}`,className:"text-gray-400 hover:text-white",children:jsxRuntimeExports.jsx(Eye,{size:16})}),jsxRuntimeExports.jsx(Link,{to:`/quotes/${gr.id}/edit`,className:"text-gray-400 hover:text-white",children:jsxRuntimeExports.jsx(SquarePen,{size:16})}),jsxRuntimeExports.jsx("button",{className:"text-gray-400 hover:text-red-500",onClick:()=>ar(gr.id),children:jsxRuntimeExports.jsx(Trash2,{size:16})})]})})]},gr.id))})]})}):!je&&jsxRuntimeExports.jsx("div",{className:"text-center py-12",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center",children:[jsxRuntimeExports.jsx(FileText,{size:48,className:"text-gray-600 mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-lg mb-2",children:"No quotes found"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Get started by creating your first quote"}),jsxRuntimeExports.jsxs(Link,{to:"/quotes/create",className:"btn btn-primary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Plus,{size:16}),jsxRuntimeExports.jsx("span",{children:"Create Quote"})]})]})}),tr.length>0&&jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 px-4 py-3 flex items-center justify-between border-t border-dark-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[jsxRuntimeExports.jsx("button",{className:"btn btn-secondary",children:"Previous"}),jsxRuntimeExports.jsx("button",{className:"btn btn-secondary",children:"Next"})]}),jsxRuntimeExports.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-400",children:["Showing ",jsxRuntimeExports.jsx("span",{className:"font-medium",children:"1"})," to ",jsxRuntimeExports.jsx("span",{className:"font-medium",children:tr.length})," of"," ",jsxRuntimeExports.jsx("span",{className:"font-medium",children:tr.length})," results"]})}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[jsxRuntimeExports.jsxs("button",{className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-dark-600 bg-dark-700 text-sm font-medium text-gray-400 hover:bg-dark-600",children:[jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Previous"}),jsxRuntimeExports.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),jsxRuntimeExports.jsx("button",{className:"relative inline-flex items-center px-4 py-2 border border-dark-600 bg-dark-700 text-sm font-medium text-gray-400 hover:bg-dark-600",children:"1"}),jsxRuntimeExports.jsxs("button",{className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-dark-600 bg-dark-700 text-sm font-medium text-gray-400 hover:bg-dark-600",children:[jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Next"}),jsxRuntimeExports.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})})]})]})]}),jsxRuntimeExports.jsx(ConfirmationModal,{isOpen:!!Qe,onClose:()=>rr(null),onConfirm:pr,title:"Delete item?",message:"Are you sure?",confirmButtonText:"Delete",cancelButtonText:"Cancel",isDanger:!0})]})},CreateQuote=()=>{const Re=useNavigate(),{createQuote:je,loading:_e,error:Me,clearError:$e}=useQuoteStore(),{customers:ke,fetchCustomers:Ce,loading:Be,error:qe}=useCustomerStore(),{products:He,fetchProducts:We,loading:Ke,error:Je}=useProductStore(),[Qe,rr]=reactExports.useState(!1),[tr,cr]=reactExports.useState(""),[or,ar]=reactExports.useState(""),{register:pr,control:ur,handleSubmit:gr,watch:jr,setValue:vr,formState:{errors:dr}}=useForm({defaultValues:{date:new Date().toISOString().split("T")[0],expiry_date:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],items:[{product:"",description:"",quantity:1,unit_price:0}],tax_rate:0,message:"Thank you for your interest in our products/services.",newCustomer:{name:"",email:"",phone:"",address:""}}});reactExports.useEffect(()=>{Ce().catch(ir=>{c$1.error("Failed to load customers")}),We().catch(ir=>{c$1.error("Failed to load products")}),$e()},[Ce,We,$e]);const{fields:xr,append:Rr,remove:Xe}=useFieldArray({control:ur,name:"items"}),Pe=jr("items"),Fe=jr("tax_rate"),ze=Pe.reduce((ir,lr)=>ir+lr.quantity*lr.unit_price,0),Ue=parseFloat(Fe.toString())/100,Ge=ze*Ue,Ze=ze+Ge,er=[...ke].sort((ir,lr)=>ir.name.localeCompare(lr.name)).filter(ir=>ir.name.toLowerCase().includes(tr.toLowerCase())||ir.email&&ir.email.toLowerCase().includes(tr.toLowerCase())||ir.phone&&ir.phone.includes(tr)),Ve=[...He].filter(ir=>ir.name.toLowerCase().includes(or.toLowerCase())||ir.sku.toLowerCase().includes(or.toLowerCase())||ir.category&&ir.category.toLowerCase().includes(or.toLowerCase())),Ie=(ir,lr)=>{const br=He.find(_r=>_r.id===lr);br&&(vr(`items.${ir}.description`,br.name),vr(`items.${ir}.unit_price`,br.price))},Ye=async ir=>{$e();try{if(!ir.customer&&!ir.newCustomer?.name)throw new Error("Please select a customer or create a new one");if(!ir.items?.length)throw new Error("Please add at least one item");ir.items.forEach((br,_r)=>{if(!br.description)throw new Error(`Please enter a description for item ${_r+1}`);if(!br.quantity||br.quantity<=0)throw new Error(`Please enter a valid quantity for item ${_r+1}`);if(!br.unit_price||br.unit_price<=0)throw new Error(`Please enter a valid price for item ${_r+1}`)});const lr=await je(ir);c$1.success("Quote created successfully!"),Re(`/quotes/${lr.id}`)}catch(lr){console.error("Error creating quote:",lr),lr instanceof Error?c$1.error(lr.message):c$1.error("Failed to create quote. Please try again.")}};return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsx(Link,{to:"/quotes",className:"btn btn-secondary p-2",children:jsxRuntimeExports.jsx(ArrowLeft,{size:20})}),jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-white",children:"Create New Quote"})]}),Me&&jsxRuntimeExports.jsx("div",{className:"bg-red-900/50 border border-red-800 text-red-300 px-4 py-3 rounded-md",children:Me}),jsxRuntimeExports.jsxs("form",{onSubmit:gr(Ye),className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"lg:col-span-2 card bg-dark-800 border border-dark-700",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Quote Details"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Customer"}),Qe?jsxRuntimeExports.jsxs("div",{className:"space-y-4 border border-dark-600 rounded-md p-4 bg-dark-700/50",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("h3",{className:"text-md font-medium text-white",children:"New Customer Details"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>rr(!1),className:"text-gray-400 hover:text-white text-sm",children:"Cancel"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"customerName",className:"block text-sm font-medium text-gray-300 mb-1",children:"Name"}),jsxRuntimeExports.jsx("input",{id:"customerName",type:"text",className:"input",placeholder:"Customer name",...pr("newCustomer.name",{required:Qe?"Customer name is required":!1})}),dr.newCustomer?.name&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:dr.newCustomer.name.message})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"customerEmail",className:"block text-sm font-medium text-gray-300 mb-1",children:"Email"}),jsxRuntimeExports.jsx("input",{id:"customerEmail",type:"email",className:"input",placeholder:"customer@example.com",...pr("newCustomer.email",{required:Qe?"Email is required":!1,pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})}),dr.newCustomer?.email&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:dr.newCustomer.email.message})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"customerPhone",className:"block text-sm font-medium text-gray-300 mb-1",children:"Phone"}),jsxRuntimeExports.jsx("input",{id:"customerPhone",type:"text",className:"input",placeholder:"(555) 123-4567",...pr("newCustomer.phone")})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"customerAddress",className:"block text-sm font-medium text-gray-300 mb-1",children:"Address"}),jsxRuntimeExports.jsx("input",{id:"customerAddress",type:"text",className:"input",placeholder:"123 Business St, City",...pr("newCustomer.address")})]})]})]}):jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex space-x-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:jsxRuntimeExports.jsx(Search,{size:16,className:"text-gray-400"})}),jsxRuntimeExports.jsx("input",{type:"text",className:"input pl-10",placeholder:"Search customers...",value:tr,onChange:ir=>cr(ir.target.value)})]}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>rr(!0),className:"btn btn-secondary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(UserPlus,{size:16}),jsxRuntimeExports.jsx("span",{children:"New Customer"})]})]}),jsxRuntimeExports.jsx("div",{className:"relative",children:Be?jsxRuntimeExports.jsxs("div",{className:"input flex items-center justify-center py-3",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-primary-500"}),jsxRuntimeExports.jsx("span",{className:"ml-2 text-gray-400",children:"Loading customers..."})]}):er.length>0?jsxRuntimeExports.jsxs("select",{className:"input",...pr("customer",{required:Qe?!1:"Customer is required"}),children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select a customer"}),er.map(ir=>jsxRuntimeExports.jsxs("option",{value:ir.id,children:[ir.name," ",ir.email?`(${ir.email})`:""]},ir.id))]}):jsxRuntimeExports.jsx("div",{className:"input flex items-center justify-between text-gray-400",children:jsxRuntimeExports.jsx("span",{children:"No customers available"})})})]}),!Qe&&dr.customer&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:dr.customer.message})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-300 mb-1",children:"Quote Date"}),jsxRuntimeExports.jsx("input",{type:"date",id:"date",className:"input",...pr("date",{required:"Quote date is required"})}),dr.date&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:dr.date.message})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"expiry_date",className:"block text-sm font-medium text-gray-300 mb-1",children:"Expiry Date"}),jsxRuntimeExports.jsx("input",{type:"date",id:"expiry_date",className:"input",...pr("expiry_date",{required:"Expiry date is required"})}),dr.expiry_date&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:dr.expiry_date.message})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"tax_rate",className:"block text-sm font-medium text-gray-300 mb-1",children:"Tax Rate (%)"}),jsxRuntimeExports.jsx("input",{type:"number",id:"tax_rate",className:"input",min:"0",max:"100",step:"0.01",placeholder:"Enter tax rate percentage (e.g., 12 for 12%)",...pr("tax_rate",{required:"Tax rate is required",min:{value:0,message:"Tax rate cannot be negative"},max:{value:100,message:"Tax rate cannot exceed 100%"},valueAsNumber:!0})}),dr.tax_rate&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:dr.tax_rate.message})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Message & Notes"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-300 mb-1",children:"Message to Customer"}),jsxRuntimeExports.jsx("textarea",{id:"message",rows:4,className:"input",placeholder:"Add a message to the customer...",...pr("message")})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-300 mb-1",children:"Internal Notes"}),jsxRuntimeExports.jsx("textarea",{id:"notes",rows:4,className:"input",placeholder:"Add internal notes...",...pr("notes")})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-white",children:"Quote Items"}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>Rr({product:"",description:"",quantity:1,unit_price:0}),className:"btn btn-secondary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Plus,{size:16}),jsxRuntimeExports.jsx("span",{children:"Add Item"})]})]}),jsxRuntimeExports.jsx("div",{className:"mb-4",children:jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:jsxRuntimeExports.jsx(Search,{size:16,className:"text-gray-400"})}),jsxRuntimeExports.jsx("input",{type:"text",className:"input pl-10",placeholder:"Search products...",value:or,onChange:ir=>ar(ir.target.value)})]})}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"bg-dark-700",children:[jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Product"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Description"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Quantity"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Unit Price"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Total"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"divide-y divide-dark-700",children:xr.map((ir,lr)=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-dark-700/50",children:[jsxRuntimeExports.jsx("td",{className:"px-4 py-4",children:Ke?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-primary-500"})}):jsxRuntimeExports.jsxs("select",{className:"input",...pr(`items.${lr}.product`),onChange:br=>Ie(lr,br.target.value),children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select a product"}),Ve.map(br=>jsxRuntimeExports.jsxs("option",{value:br.id,children:[br.name," (",br.sku,")"]},br.id))]})}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-4",children:[jsxRuntimeExports.jsx("input",{type:"text",className:"input",placeholder:"Description",...pr(`items.${lr}.description`,{required:"Description is required"})}),dr.items?.[lr]?.description&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:dr.items[lr]?.description?.message})]}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-4",children:[jsxRuntimeExports.jsx("input",{type:"number",min:"1",className:"input text-right",...pr(`items.${lr}.quantity`,{required:"Quantity is required",min:{value:1,message:"Minimum quantity is 1"},valueAsNumber:!0})}),dr.items?.[lr]?.quantity&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:dr.items[lr]?.quantity?.message})]}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-4",children:[jsxRuntimeExports.jsx("input",{type:"number",min:"0",step:"0.01",className:"input text-right",...pr(`items.${lr}.unit_price`,{required:"Unit price is required",min:{value:0,message:"Minimum price is 0"},valueAsNumber:!0})}),dr.items?.[lr]?.unit_price&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:dr.items[lr]?.unit_price?.message})]}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-right text-sm font-medium text-white",children:["$",(Pe[lr]?.quantity*Pe[lr]?.unit_price||0).toFixed(2)]}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>Xe(lr),disabled:xr.length===1,className:`text-gray-400 hover:text-red-500 ${xr.length===1?"opacity-50 cursor-not-allowed":""}`,children:jsxRuntimeExports.jsx(Trash2,{size:16})})})]},ir.id))}),jsxRuntimeExports.jsxs("tfoot",{children:[jsxRuntimeExports.jsxs("tr",{className:"bg-dark-700/50",children:[jsxRuntimeExports.jsx("td",{colSpan:4,className:"px-4 py-3 text-right text-sm font-medium text-gray-300",children:"Subtotal"}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-3 text-right text-sm font-medium text-white",children:["$",ze.toFixed(2)]}),jsxRuntimeExports.jsx("td",{})]}),jsxRuntimeExports.jsxs("tr",{className:"bg-dark-700/50",children:[jsxRuntimeExports.jsxs("td",{colSpan:4,className:"px-4 py-3 text-right text-sm font-medium text-gray-300",children:["Tax (",(Ue*100).toFixed(2),"%)"]}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-3 text-right text-sm font-medium text-white",children:["$",Ge.toFixed(2)]}),jsxRuntimeExports.jsx("td",{})]}),jsxRuntimeExports.jsxs("tr",{className:"bg-dark-700",children:[jsxRuntimeExports.jsx("td",{colSpan:4,className:"px-4 py-3 text-right text-sm font-medium text-gray-300",children:"Total"}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-3 text-right text-base font-bold text-white",children:["$",Ze.toFixed(2)]}),jsxRuntimeExports.jsx("td",{})]})]})]})})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-end",children:jsxRuntimeExports.jsx("button",{type:"submit",className:"btn btn-primary flex items-center space-x-2",disabled:_e,children:_e?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white"}),jsxRuntimeExports.jsx("span",{children:"Creating..."})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Save,{size:16}),jsxRuntimeExports.jsx("span",{children:"Create Quote"})]})})})]})]})},QuoteDetail=()=>{const{id:Re}=useParams(),je=useNavigate(),{getQuoteById:_e,updateQuoteStatus:Me,deleteQuote:$e,loading:ke,error:Ce}=useQuoteStore(),[Be,qe]=reactExports.useState(null),[He,We]=reactExports.useState(!1),[Ke,Je]=reactExports.useState(""),[Qe,rr]=reactExports.useState(!1);reactExports.useEffect(()=>{Re&&_e(Re).then(gr=>{gr?qe(gr):(c$1.error("Quote not found"),je("/quotes"))}).catch(gr=>{c$1.error("Failed to load quote details")})},[Re,_e,je]);const tr=async gr=>{if(!(!Re||!Be))try{const jr=await Me(Re,gr);qe(jr),c$1.success(`Quote marked as ${gr}`)}catch{c$1.error("Failed to update quote status")}},cr=async()=>{Re&&rr(!0)},or=async()=>{if(Re)try{await $e(Re),c$1.success("Quote deleted successfully"),je("/quotes")}catch{c$1.error("Failed to delete quote")}},ar=()=>{Be&&(downloadQuotePDF(Be),c$1.success("Quote PDF downloaded"))},pr=()=>{Be&&printQuotePDF(Be)},ur=async()=>{if(!Be)return;if(!Be.customer_email){c$1.error("Customer email is not available");return}await sendQuoteEmail(Be,Ke,!0)?(c$1.success("Quote sent successfully"),We(!1),Je(""),Be.status==="Draft"&&tr("Sent")):c$1.error("Failed to send quote")};return ke?jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500 mx-auto"}),jsxRuntimeExports.jsx("p",{className:"mt-4 text-gray-400",children:"Loading quote details..."})]}):Ce?jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx("p",{className:"text-red-400 text-lg",children:Ce}),jsxRuntimeExports.jsx(Link,{to:"/quotes",className:"btn btn-primary mt-4",children:"Back to Quotes"})]}):Be?jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsx(Link,{to:"/quotes",className:"btn btn-secondary p-2",children:jsxRuntimeExports.jsx(ArrowLeft,{size:20})}),jsxRuntimeExports.jsxs("h1",{className:"text-2xl font-bold text-white",children:["Quote ",Be.quote_number]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2",children:[jsxRuntimeExports.jsxs(Link,{to:`/quotes/${Re}/edit`,className:"btn btn-primary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(SquarePen,{size:16}),jsxRuntimeExports.jsx("span",{children:"Edit"})]}),jsxRuntimeExports.jsxs("button",{onClick:pr,className:"btn btn-secondary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Printer,{size:16}),jsxRuntimeExports.jsx("span",{children:"Print"})]}),jsxRuntimeExports.jsxs("button",{onClick:ar,className:"btn btn-secondary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Download,{size:16}),jsxRuntimeExports.jsx("span",{children:"PDF"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>We(!0),className:"btn btn-secondary flex items-center space-x-2",disabled:!Be.customer_email,children:[jsxRuntimeExports.jsx(Send,{size:16}),jsxRuntimeExports.jsx("span",{children:"Send to Customer"})]}),Be.status==="Draft"&&jsxRuntimeExports.jsxs("button",{onClick:()=>tr("Sent"),className:"btn btn-secondary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Send,{size:16}),jsxRuntimeExports.jsx("span",{children:"Mark as Sent"})]}),Be.status==="Sent"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("button",{onClick:()=>tr("Accepted"),className:"btn btn-secondary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Check,{size:16}),jsxRuntimeExports.jsx("span",{children:"Mark as Accepted"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>tr("Declined"),className:"btn btn-secondary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(X$1,{size:16}),jsxRuntimeExports.jsx("span",{children:"Mark as Declined"})]})]}),jsxRuntimeExports.jsxs("button",{onClick:cr,className:"btn btn-danger flex items-center space-x-2",children:[jsxRuntimeExports.jsx(X$1,{size:16}),jsxRuntimeExports.jsx("span",{children:"Delete"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Quote Status"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"text-gray-400",children:jsxRuntimeExports.jsx(FileText,{size:18})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Status"}),jsxRuntimeExports.jsx(QuoteStatusBadge,{status:Be.status})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"text-gray-400",children:jsxRuntimeExports.jsx(Calendar$2,{size:18})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Quote Date"}),jsxRuntimeExports.jsx("p",{className:"text-white",children:new Date(Be.date).toLocaleDateString()})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"text-gray-400",children:jsxRuntimeExports.jsx(Clock,{size:18})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Expiry Date"}),jsxRuntimeExports.jsx("p",{className:"text-white",children:new Date(Be.expiry_date).toLocaleDateString()})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"text-gray-400",children:jsxRuntimeExports.jsx(DollarSign,{size:18})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Total Amount"}),jsxRuntimeExports.jsxs("p",{className:"text-xl font-semibold text-white",children:["$",Be.total.toLocaleString()]})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Customer Information"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"text-gray-400",children:jsxRuntimeExports.jsx(User,{size:18})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Customer"}),jsxRuntimeExports.jsx("p",{className:"text-white font-medium",children:Be.customer_name})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"text-gray-400",children:jsxRuntimeExports.jsx(Mail,{size:18})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Email"}),jsxRuntimeExports.jsx("p",{className:"text-white",children:Be.customer_email||"No email provided"})]})]}),Be.customer_address&&jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"text-gray-400",children:jsxRuntimeExports.jsx(MapPin,{size:18})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Address"}),jsxRuntimeExports.jsx("p",{className:"text-white",children:Be.customer_address})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Notes & Message"}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-md font-medium text-white mb-2",children:"Message to Customer"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300",children:Be.message||"No message provided"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-md font-medium text-white mb-2",children:"Internal Notes"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300",children:Be.notes||"No notes provided"})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Quote Items"}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"bg-dark-700",children:[jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Item"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Quantity"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Unit Price"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Total"})]})}),jsxRuntimeExports.jsx("tbody",{className:"divide-y divide-dark-700",children:Be.items.map((gr,jr)=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-dark-700/50",children:[jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-white",children:gr.description})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300 text-right",children:gr.quantity}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300 text-right",children:["$",gr.unit_price.toFixed(2)]}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300 text-right",children:["$",gr.total.toFixed(2)]})]},jr))}),jsxRuntimeExports.jsxs("tfoot",{children:[jsxRuntimeExports.jsxs("tr",{className:"bg-dark-700/50",children:[jsxRuntimeExports.jsx("td",{colSpan:3,className:"px-4 py-3 text-right text-sm font-medium text-gray-300",children:"Subtotal"}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-3 text-right text-sm font-medium text-white",children:["$",Be.subtotal.toFixed(2)]})]}),jsxRuntimeExports.jsxs("tr",{className:"bg-dark-700/50",children:[jsxRuntimeExports.jsxs("td",{colSpan:3,className:"px-4 py-3 text-right text-sm font-medium text-gray-300",children:["Tax (",(Be.tax_rate*100).toFixed(2),"%)"]}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-3 text-right text-sm font-medium text-white",children:["$",Be.tax.toFixed(2)]})]}),jsxRuntimeExports.jsxs("tr",{className:"bg-dark-700",children:[jsxRuntimeExports.jsx("td",{colSpan:3,className:"px-4 py-3 text-right text-sm font-medium text-gray-300",children:"Total"}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-3 text-right text-base font-bold text-white",children:["$",Be.total.toFixed(2)]})]})]})]})})]}),He&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 w-full max-w-md",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Send Quote to Customer"}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"To"}),jsxRuntimeExports.jsx("input",{type:"text",className:"input",value:Be.customer_email||"",disabled:!0})]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Subject"}),jsxRuntimeExports.jsx("input",{type:"text",className:"input",value:`Quote ${Be.quote_number} from Your Company`,disabled:!0})]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Message (Optional)"}),jsxRuntimeExports.jsx("textarea",{className:"input",rows:4,value:Ke,onChange:gr=>Je(gr.target.value),placeholder:"Add a personal message to the customer..."})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>We(!1),className:"btn btn-secondary",children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:ur,className:"btn btn-primary",children:"Send"})]})]})}),jsxRuntimeExports.jsx(ConfirmationModal,{isOpen:Qe,onClose:()=>rr(!1),onConfirm:or,title:"Delete item?",message:"Are you sure?",confirmButtonText:"Delete",cancelButtonText:"Cancel",isDanger:!0})]}):jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-lg",children:"Quote not found"}),jsxRuntimeExports.jsx(Link,{to:"/quotes",className:"btn btn-primary mt-4",children:"Back to Quotes"})]})};var runtime={exports:{}};(function(Re){var je=function(_e){var Me=Object.prototype,$e=Me.hasOwnProperty,ke=Object.defineProperty||function(Ve,Ie,Ye){Ve[Ie]=Ye.value},Ce,Be=typeof Symbol=="function"?Symbol:{},qe=Be.iterator||"@@iterator",He=Be.asyncIterator||"@@asyncIterator",We=Be.toStringTag||"@@toStringTag";function Ke(Ve,Ie,Ye){return Object.defineProperty(Ve,Ie,{value:Ye,enumerable:!0,configurable:!0,writable:!0}),Ve[Ie]}try{Ke({},"")}catch{Ke=function(Ie,Ye,ir){return Ie[Ye]=ir}}function Je(Ve,Ie,Ye,ir){var lr=Ie&&Ie.prototype instanceof pr?Ie:pr,br=Object.create(lr.prototype),_r=new Ge(ir||[]);return ke(br,"_invoke",{value:Pe(Ve,Ye,_r)}),br}_e.wrap=Je;function Qe(Ve,Ie,Ye){try{return{type:"normal",arg:Ve.call(Ie,Ye)}}catch(ir){return{type:"throw",arg:ir}}}var rr="suspendedStart",tr="suspendedYield",cr="executing",or="completed",ar={};function pr(){}function ur(){}function gr(){}var jr={};Ke(jr,qe,function(){return this});var vr=Object.getPrototypeOf,dr=vr&&vr(vr(Ze([])));dr&&dr!==Me&&$e.call(dr,qe)&&(jr=dr);var xr=gr.prototype=pr.prototype=Object.create(jr);ur.prototype=gr,ke(xr,"constructor",{value:gr,configurable:!0}),ke(gr,"constructor",{value:ur,configurable:!0}),ur.displayName=Ke(gr,We,"GeneratorFunction");function Rr(Ve){["next","throw","return"].forEach(function(Ie){Ke(Ve,Ie,function(Ye){return this._invoke(Ie,Ye)})})}_e.isGeneratorFunction=function(Ve){var Ie=typeof Ve=="function"&&Ve.constructor;return Ie?Ie===ur||(Ie.displayName||Ie.name)==="GeneratorFunction":!1},_e.mark=function(Ve){return Object.setPrototypeOf?Object.setPrototypeOf(Ve,gr):(Ve.__proto__=gr,Ke(Ve,We,"GeneratorFunction")),Ve.prototype=Object.create(xr),Ve},_e.awrap=function(Ve){return{__await:Ve}};function Xe(Ve,Ie){function Ye(br,_r,Sr,wr){var Nr=Qe(Ve[br],Ve,_r);if(Nr.type==="throw")wr(Nr.arg);else{var kr=Nr.arg,Lr=kr.value;return Lr&&typeof Lr=="object"&&$e.call(Lr,"__await")?Ie.resolve(Lr.__await).then(function(Xr){Ye("next",Xr,Sr,wr)},function(Xr){Ye("throw",Xr,Sr,wr)}):Ie.resolve(Lr).then(function(Xr){kr.value=Xr,Sr(kr)},function(Xr){return Ye("throw",Xr,Sr,wr)})}}var ir;function lr(br,_r){function Sr(){return new Ie(function(wr,Nr){Ye(br,_r,wr,Nr)})}return ir=ir?ir.then(Sr,Sr):Sr()}ke(this,"_invoke",{value:lr})}Rr(Xe.prototype),Ke(Xe.prototype,He,function(){return this}),_e.AsyncIterator=Xe,_e.async=function(Ve,Ie,Ye,ir,lr){lr===void 0&&(lr=Promise);var br=new Xe(Je(Ve,Ie,Ye,ir),lr);return _e.isGeneratorFunction(Ie)?br:br.next().then(function(_r){return _r.done?_r.value:br.next()})};function Pe(Ve,Ie,Ye){var ir=rr;return function(br,_r){if(ir===cr)throw new Error("Generator is already running");if(ir===or){if(br==="throw")throw _r;return er()}for(Ye.method=br,Ye.arg=_r;;){var Sr=Ye.delegate;if(Sr){var wr=Fe(Sr,Ye);if(wr){if(wr===ar)continue;return wr}}if(Ye.method==="next")Ye.sent=Ye._sent=Ye.arg;else if(Ye.method==="throw"){if(ir===rr)throw ir=or,Ye.arg;Ye.dispatchException(Ye.arg)}else Ye.method==="return"&&Ye.abrupt("return",Ye.arg);ir=cr;var Nr=Qe(Ve,Ie,Ye);if(Nr.type==="normal"){if(ir=Ye.done?or:tr,Nr.arg===ar)continue;return{value:Nr.arg,done:Ye.done}}else Nr.type==="throw"&&(ir=or,Ye.method="throw",Ye.arg=Nr.arg)}}}function Fe(Ve,Ie){var Ye=Ie.method,ir=Ve.iterator[Ye];if(ir===Ce)return Ie.delegate=null,Ye==="throw"&&Ve.iterator.return&&(Ie.method="return",Ie.arg=Ce,Fe(Ve,Ie),Ie.method==="throw")||Ye!=="return"&&(Ie.method="throw",Ie.arg=new TypeError("The iterator does not provide a '"+Ye+"' method")),ar;var lr=Qe(ir,Ve.iterator,Ie.arg);if(lr.type==="throw")return Ie.method="throw",Ie.arg=lr.arg,Ie.delegate=null,ar;var br=lr.arg;if(!br)return Ie.method="throw",Ie.arg=new TypeError("iterator result is not an object"),Ie.delegate=null,ar;if(br.done)Ie[Ve.resultName]=br.value,Ie.next=Ve.nextLoc,Ie.method!=="return"&&(Ie.method="next",Ie.arg=Ce);else return br;return Ie.delegate=null,ar}Rr(xr),Ke(xr,We,"Generator"),Ke(xr,qe,function(){return this}),Ke(xr,"toString",function(){return"[object Generator]"});function ze(Ve){var Ie={tryLoc:Ve[0]};1 in Ve&&(Ie.catchLoc=Ve[1]),2 in Ve&&(Ie.finallyLoc=Ve[2],Ie.afterLoc=Ve[3]),this.tryEntries.push(Ie)}function Ue(Ve){var Ie=Ve.completion||{};Ie.type="normal",delete Ie.arg,Ve.completion=Ie}function Ge(Ve){this.tryEntries=[{tryLoc:"root"}],Ve.forEach(ze,this),this.reset(!0)}_e.keys=function(Ve){var Ie=Object(Ve),Ye=[];for(var ir in Ie)Ye.push(ir);return Ye.reverse(),function lr(){for(;Ye.length;){var br=Ye.pop();if(br in Ie)return lr.value=br,lr.done=!1,lr}return lr.done=!0,lr}};function Ze(Ve){if(Ve){var Ie=Ve[qe];if(Ie)return Ie.call(Ve);if(typeof Ve.next=="function")return Ve;if(!isNaN(Ve.length)){var Ye=-1,ir=function lr(){for(;++Ye<Ve.length;)if($e.call(Ve,Ye))return lr.value=Ve[Ye],lr.done=!1,lr;return lr.value=Ce,lr.done=!0,lr};return ir.next=ir}}return{next:er}}_e.values=Ze;function er(){return{value:Ce,done:!0}}return Ge.prototype={constructor:Ge,reset:function(Ve){if(this.prev=0,this.next=0,this.sent=this._sent=Ce,this.done=!1,this.delegate=null,this.method="next",this.arg=Ce,this.tryEntries.forEach(Ue),!Ve)for(var Ie in this)Ie.charAt(0)==="t"&&$e.call(this,Ie)&&!isNaN(+Ie.slice(1))&&(this[Ie]=Ce)},stop:function(){this.done=!0;var Ve=this.tryEntries[0],Ie=Ve.completion;if(Ie.type==="throw")throw Ie.arg;return this.rval},dispatchException:function(Ve){if(this.done)throw Ve;var Ie=this;function Ye(wr,Nr){return br.type="throw",br.arg=Ve,Ie.next=wr,Nr&&(Ie.method="next",Ie.arg=Ce),!!Nr}for(var ir=this.tryEntries.length-1;ir>=0;--ir){var lr=this.tryEntries[ir],br=lr.completion;if(lr.tryLoc==="root")return Ye("end");if(lr.tryLoc<=this.prev){var _r=$e.call(lr,"catchLoc"),Sr=$e.call(lr,"finallyLoc");if(_r&&Sr){if(this.prev<lr.catchLoc)return Ye(lr.catchLoc,!0);if(this.prev<lr.finallyLoc)return Ye(lr.finallyLoc)}else if(_r){if(this.prev<lr.catchLoc)return Ye(lr.catchLoc,!0)}else if(Sr){if(this.prev<lr.finallyLoc)return Ye(lr.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(Ve,Ie){for(var Ye=this.tryEntries.length-1;Ye>=0;--Ye){var ir=this.tryEntries[Ye];if(ir.tryLoc<=this.prev&&$e.call(ir,"finallyLoc")&&this.prev<ir.finallyLoc){var lr=ir;break}}lr&&(Ve==="break"||Ve==="continue")&&lr.tryLoc<=Ie&&Ie<=lr.finallyLoc&&(lr=null);var br=lr?lr.completion:{};return br.type=Ve,br.arg=Ie,lr?(this.method="next",this.next=lr.finallyLoc,ar):this.complete(br)},complete:function(Ve,Ie){if(Ve.type==="throw")throw Ve.arg;return Ve.type==="break"||Ve.type==="continue"?this.next=Ve.arg:Ve.type==="return"?(this.rval=this.arg=Ve.arg,this.method="return",this.next="end"):Ve.type==="normal"&&Ie&&(this.next=Ie),ar},finish:function(Ve){for(var Ie=this.tryEntries.length-1;Ie>=0;--Ie){var Ye=this.tryEntries[Ie];if(Ye.finallyLoc===Ve)return this.complete(Ye.completion,Ye.afterLoc),Ue(Ye),ar}},catch:function(Ve){for(var Ie=this.tryEntries.length-1;Ie>=0;--Ie){var Ye=this.tryEntries[Ie];if(Ye.tryLoc===Ve){var ir=Ye.completion;if(ir.type==="throw"){var lr=ir.arg;Ue(Ye)}return lr}}throw new Error("illegal catch attempt")},delegateYield:function(Ve,Ie,Ye){return this.delegate={iterator:Ze(Ve),resultName:Ie,nextLoc:Ye},this.method==="next"&&(this.arg=Ce),ar}},_e}(Re.exports);try{regeneratorRuntime=je}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=je:Function("r","regeneratorRuntime = r")(je)}})(runtime);var getId$3=(Re,je)=>`${Re}-${je}-${Math.random().toString(16).slice(3,8)}`;const getId$2=getId$3;let jobCounter=0;var createJob$2=({id:Re,action:je,payload:_e={}})=>{let Me=Re;return typeof Me>"u"&&(Me=getId$2("Job",jobCounter),jobCounter+=1),{id:Me,action:je,payload:_e}},log$2={};let logging=!1;log$2.logging=logging;log$2.setLogging=Re=>{logging=Re};log$2.log=(...Re)=>logging?console.log.apply(void 0,Re):null;const createJob$1=createJob$2,{log:log$1}=log$2,getId$1=getId$3;let schedulerCounter=0;var createScheduler$1=()=>{const Re=getId$1("Scheduler",schedulerCounter),je={},_e={};let Me=[];schedulerCounter+=1;const $e=()=>Me.length,ke=()=>Object.keys(je).length,Ce=()=>{if(Me.length!==0){const Ke=Object.keys(je);for(let Je=0;Je<Ke.length;Je+=1)if(typeof _e[Ke[Je]]>"u"){Me[0](je[Ke[Je]]);break}}},Be=(Ke,Je)=>new Promise((Qe,rr)=>{const tr=createJob$1({action:Ke,payload:Je});Me.push(async cr=>{Me.shift(),_e[cr.id]=tr;try{Qe(await cr[Ke].apply(void 0,[...Je,tr.id]))}catch(or){rr(or)}finally{delete _e[cr.id],Ce()}}),log$1(`[${Re}]: Add ${tr.id} to JobQueue`),log$1(`[${Re}]: JobQueue length=${Me.length}`),Ce()});return{addWorker:Ke=>(je[Ke.id]=Ke,log$1(`[${Re}]: Add ${Ke.id}`),log$1(`[${Re}]: Number of workers=${ke()}`),Ce(),Ke.id),addJob:async(Ke,...Je)=>{if(ke()===0)throw Error(`[${Re}]: You need to have at least one worker before adding jobs`);return Be(Ke,Je)},terminate:async()=>{Object.keys(je).forEach(async Ke=>{await je[Ke].terminate()}),Me=[]},getQueueLen:$e,getNumWorkers:ke}};function isElectron$1(){return!!(typeof window<"u"&&typeof window.process=="object"&&window.process.type==="renderer"||typeof process$1<"u"&&typeof process$1.versions=="object"&&process$1.versions.electron||typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Electron")>=0)}var isElectron_1=isElectron$1;const isElectron=isElectron_1;var getEnvironment=Re=>{const je={};return typeof WorkerGlobalScope<"u"?je.type="webworker":isElectron()?je.type="electron":typeof document=="object"?je.type="browser":typeof process$1=="object"&&typeof commonjsRequire=="function"&&(je.type="node"),typeof Re>"u"?je:je[Re]};const isBrowser=getEnvironment("type")==="browser",resolveURL=isBrowser?Re=>new URL(Re,window.location.href).href:Re=>Re;var resolvePaths$1=Re=>{const je={...Re};return["corePath","workerPath","langPath"].forEach(_e=>{Re[_e]&&(je[_e]=resolveURL(je[_e]))}),je},circularize$1=Re=>{const je=[],_e=[],Me=[],$e=[],ke=[];return Re.blocks&&Re.blocks.forEach(Ce=>{Ce.paragraphs.forEach(Be=>{Be.lines.forEach(qe=>{qe.words.forEach(He=>{He.symbols.forEach(We=>{ke.push({...We,page:Re,block:Ce,paragraph:Be,line:qe,word:He})}),$e.push({...He,page:Re,block:Ce,paragraph:Be,line:qe})}),Me.push({...qe,page:Re,block:Ce,paragraph:Be})}),_e.push({...Be,page:Re,block:Ce})}),je.push({...Ce,page:Re})}),{...Re,blocks:je,paragraphs:_e,lines:Me,words:$e,symbols:ke}},OEM$2={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3};const name="tesseract.js",version$1="5.1.1",description="Pure Javascript Multilingual OCR",main$1="src/index.js",types="src/index.d.ts",unpkg="dist/tesseract.min.js",jsdelivr="dist/tesseract.min.js",scripts={start:"node scripts/server.js",build:"rimraf dist && webpack --config scripts/webpack.config.prod.js && rollup -c scripts/rollup.esm.mjs","profile:tesseract":"webpack-bundle-analyzer dist/tesseract-stats.json","profile:worker":"webpack-bundle-analyzer dist/worker-stats.json",prepublishOnly:"npm run build",wait:"rimraf dist && wait-on http://localhost:3000/dist/tesseract.min.js",test:"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser:* test:node:all","test:node":"nyc mocha --exit --bail --require ./scripts/test-helper.js","test:node:all":"npm run test:node -- ./tests/*.test.js","test:browser-tpl":"mocha-headless-chrome -a incognito -a no-sandbox -a disable-setuid-sandbox -a disable-logging -t 300000","test:browser:detect":"npm run test:browser-tpl -- -f ./tests/detect.test.html","test:browser:recognize":"npm run test:browser-tpl -- -f ./tests/recognize.test.html","test:browser:scheduler":"npm run test:browser-tpl -- -f ./tests/scheduler.test.html","test:browser:FS":"npm run test:browser-tpl -- -f ./tests/FS.test.html",lint:"eslint src","lint:fix":"eslint --fix src",postinstall:"opencollective-postinstall || true"},browser$2={"./src/worker/node/index.js":"./src/worker/browser/index.js"},author="",contributors=["jeromewu"],license="Apache-2.0",devDependencies={"@babel/core":"^7.21.4","@babel/eslint-parser":"^7.21.3","@babel/preset-env":"^7.21.4","@rollup/plugin-commonjs":"^24.1.0",acorn:"^8.8.2","babel-loader":"^9.1.2",buffer:"^6.0.3",cors:"^2.8.5",eslint:"^7.32.0","eslint-config-airbnb-base":"^14.2.1","eslint-plugin-import":"^2.27.5","expect.js":"^0.3.1",express:"^4.18.2",mocha:"^10.2.0","mocha-headless-chrome":"^4.0.0","npm-run-all":"^4.1.5",nyc:"^15.1.0",rimraf:"^5.0.0",rollup:"^3.20.7","wait-on":"^7.0.1",webpack:"^5.79.0","webpack-bundle-analyzer":"^4.8.0","webpack-cli":"^5.0.1","webpack-dev-middleware":"^6.0.2","rollup-plugin-sourcemaps":"^0.6.3"},dependencies={"bmp-js":"^0.1.0","idb-keyval":"^6.2.0","is-electron":"^2.2.2","is-url":"^1.2.4","node-fetch":"^2.6.9","opencollective-postinstall":"^2.0.3","regenerator-runtime":"^0.13.3","tesseract.js-core":"^5.1.1","wasm-feature-detect":"^1.2.11",zlibjs:"^0.3.1"},overrides={"@rollup/pluginutils":"^5.0.2"},repository={type:"git",url:"https://github.com/naptha/tesseract.js.git"},bugs={url:"https://github.com/naptha/tesseract.js/issues"},homepage="https://github.com/naptha/tesseract.js",collective={type:"opencollective",url:"https://opencollective.com/tesseractjs"},require$$0={name,version:version$1,description,main:main$1,types,unpkg,jsdelivr,scripts,browser:browser$2,author,contributors,license,devDependencies,dependencies,overrides,repository,bugs,homepage,collective};var defaultOptions$3={workerBlobURL:!0,logger:()=>{}};const version=require$$0.version,defaultOptions$2=defaultOptions$3;var defaultOptions_1={...defaultOptions$2,workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${version}/dist/worker.min.js`},spawnWorker$2=({workerPath:Re,workerBlobURL:je})=>{let _e;if(Blob&&URL&&je){const Me=new Blob([`importScripts("${Re}");`],{type:"application/javascript"});_e=new Worker(URL.createObjectURL(Me))}else _e=new Worker(Re);return _e},terminateWorker$2=Re=>{Re.terminate()},onMessage$2=(Re,je)=>{Re.onmessage=({data:_e})=>{je(_e)}},send$2=async(Re,je)=>{Re.postMessage(je)};const readFromBlobOrFile=Re=>new Promise((je,_e)=>{const Me=new FileReader;Me.onload=()=>{je(Me.result)},Me.onerror=({target:{error:{code:$e}}})=>{_e(Error(`File could not be read! Code=${$e}`))},Me.readAsArrayBuffer(Re)}),loadImage$2=async Re=>{let je=Re;if(typeof Re>"u")return"undefined";if(typeof Re=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(Re)?je=atob(Re.split(",")[1]).split("").map(_e=>_e.charCodeAt(0)):je=await(await fetch(Re)).arrayBuffer();else if(typeof HTMLElement<"u"&&Re instanceof HTMLElement)Re.tagName==="IMG"&&(je=await loadImage$2(Re.src)),Re.tagName==="VIDEO"&&(je=await loadImage$2(Re.poster)),Re.tagName==="CANVAS"&&await new Promise(_e=>{Re.toBlob(async Me=>{je=await readFromBlobOrFile(Me),_e()})});else if(typeof OffscreenCanvas<"u"&&Re instanceof OffscreenCanvas){const _e=await Re.convertToBlob();je=await readFromBlobOrFile(_e)}else(Re instanceof File||Re instanceof Blob)&&(je=await readFromBlobOrFile(Re));return new Uint8Array(je)};var loadImage_1=loadImage$2;const defaultOptions$1=defaultOptions_1,spawnWorker$1=spawnWorker$2,terminateWorker$1=terminateWorker$2,onMessage$1=onMessage$2,send$1=send$2,loadImage$1=loadImage_1;var browser$1={defaultOptions:defaultOptions$1,spawnWorker:spawnWorker$1,terminateWorker:terminateWorker$1,onMessage:onMessage$1,send:send$1,loadImage:loadImage$1};const resolvePaths=resolvePaths$1,circularize=circularize$1,createJob=createJob$2,{log}=log$2,getId=getId$3,OEM$1=OEM$2,{defaultOptions,spawnWorker,terminateWorker,onMessage,loadImage,send}=browser$1;let workerCounter=0;var createWorker$2=async(Re="eng",je=OEM$1.LSTM_ONLY,_e={},Me={})=>{const $e=getId("Worker",workerCounter),{logger:ke,errorHandler:Ce,...Be}=resolvePaths({...defaultOptions,..._e}),qe={},He={},We=typeof Re=="string"?Re.split("+"):Re;let Ke=je,Je=Me;const Qe=[OEM$1.DEFAULT,OEM$1.LSTM_ONLY].includes(je)&&!Be.legacyCore;let rr,tr;const cr=new Promise((lr,br)=>{tr=lr,rr=br}),or=lr=>{rr(lr.message)};let ar=spawnWorker(Be);ar.onerror=or,workerCounter+=1;const pr=(lr,br)=>{qe[lr]=br},ur=(lr,br)=>{He[lr]=br},gr=({id:lr,action:br,payload:_r})=>new Promise((Sr,wr)=>{log(`[${$e}]: Start ${lr}, action=${br}`);const Nr=`${br}-${lr}`;pr(Nr,Sr),ur(Nr,wr),send(ar,{workerId:$e,jobId:lr,action:br,payload:_r})}),jr=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),vr=lr=>gr(createJob({id:lr,action:"load",payload:{options:{lstmOnly:Qe,corePath:Be.corePath,logging:Be.logging}}})),dr=(lr,br,_r)=>gr(createJob({id:_r,action:"FS",payload:{method:"writeFile",args:[lr,br]}})),xr=(lr,br)=>gr(createJob({id:br,action:"FS",payload:{method:"readFile",args:[lr,{encoding:"utf8"}]}})),Rr=(lr,br)=>gr(createJob({id:br,action:"FS",payload:{method:"unlink",args:[lr]}})),Xe=(lr,br,_r)=>gr(createJob({id:_r,action:"FS",payload:{method:lr,args:br}})),Pe=()=>console.warn("`loadLanguage` is depreciated and should be removed from code (workers now come with language pre-loaded)"),Fe=(lr,br)=>gr(createJob({id:br,action:"loadLanguage",payload:{langs:lr,options:{langPath:Be.langPath,dataPath:Be.dataPath,cachePath:Be.cachePath,cacheMethod:Be.cacheMethod,gzip:Be.gzip,lstmOnly:[OEM$1.DEFAULT,OEM$1.LSTM_ONLY].includes(Ke)&&!Be.legacyLang}}})),ze=()=>console.warn("`initialize` is depreciated and should be removed from code (workers now come pre-initialized)"),Ue=(lr,br,_r,Sr)=>gr(createJob({id:Sr,action:"initialize",payload:{langs:lr,oem:br,config:_r}})),Ge=(lr="eng",br,_r,Sr)=>{if(Qe&&[OEM$1.TESSERACT_ONLY,OEM$1.TESSERACT_LSTM_COMBINED].includes(br))throw Error("Legacy model requested but code missing.");const wr=br||Ke;Ke=wr;const Nr=_r||Je;Je=Nr;const Lr=(typeof lr=="string"?lr.split("+"):lr).filter(Xr=>!We.includes(Xr));return We.push(...Lr),Lr.length>0?Fe(Lr,Sr).then(()=>Ue(lr,wr,Nr,Sr)):Ue(lr,wr,Nr,Sr)},Ze=(lr={},br)=>gr(createJob({id:br,action:"setParameters",payload:{params:lr}})),er=async(lr,br={},_r={blocks:!0,text:!0,hocr:!0,tsv:!0},Sr)=>gr(createJob({id:Sr,action:"recognize",payload:{image:await loadImage(lr),options:br,output:_r}})),Ve=(lr="Tesseract OCR Result",br=!1,_r)=>(console.log("`getPDF` function is depreciated. `recognize` option `savePDF` should be used instead."),gr(createJob({id:_r,action:"getPDF",payload:{title:lr,textonly:br}}))),Ie=async(lr,br)=>{if(Qe)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return gr(createJob({id:br,action:"detect",payload:{image:await loadImage(lr)}}))},Ye=async()=>(ar!==null&&(terminateWorker(ar),ar=null),Promise.resolve());onMessage(ar,({workerId:lr,jobId:br,status:_r,action:Sr,data:wr})=>{const Nr=`${Sr}-${br}`;if(_r==="resolve"){log(`[${lr}]: Complete ${br}`);let kr=wr;Sr==="recognize"?kr=circularize(wr):Sr==="getPDF"&&(kr=Array.from({...wr,length:Object.keys(wr).length})),qe[Nr]({jobId:br,data:kr})}else if(_r==="reject")if(He[Nr](wr),Sr==="load"&&rr(wr),Ce)Ce(wr);else throw Error(wr);else _r==="progress"&&ke({...wr,userJobId:br})});const ir={id:$e,worker:ar,setResolve:pr,setReject:ur,load:jr,writeText:dr,readText:xr,removeFile:Rr,FS:Xe,loadLanguage:Pe,initialize:ze,reinitialize:Ge,setParameters:Ze,recognize:er,getPDF:Ve,detect:Ie,terminate:Ye};return vr().then(()=>Fe(Re)).then(()=>Ue(Re,je,Me)).then(()=>tr(ir)).catch(()=>{}),cr};const createWorker$1=createWorker$2,recognize=async(Re,je,_e)=>{const Me=await createWorker$1(je,1,_e);return Me.recognize(Re).finally(async()=>{await Me.terminate()})},detect=async(Re,je)=>{const _e=await createWorker$1("osd",0,je);return _e.detect(Re).finally(async()=>{await _e.terminate()})};var Tesseract$1={recognize,detect},languages$1={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"},PSM$1={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"};const createScheduler=createScheduler$1,createWorker=createWorker$2,Tesseract=Tesseract$1,languages=languages$1,OEM=OEM$2,PSM=PSM$1,{setLogging}=log$2;var src={languages,OEM,PSM,createScheduler,createWorker,setLogging,...Tesseract};const Expenses$1=()=>{const[Re,je]=reactExports.useState([]),[_e,Me]=reactExports.useState(""),[$e,ke]=reactExports.useState("all"),[Ce,Be]=reactExports.useState("all"),[qe,He]=reactExports.useState(!1);reactExports.useState("");const[We,Ke]=reactExports.useState(!1),[Je,Qe]=reactExports.useState(!1),rr=reactExports.useRef(null),tr=reactExports.useRef(null);reactExports.useEffect(()=>{(async()=>{try{const{data:dr,error:xr}=await supabase.from("expenses").select("*").order("created_at",{ascending:!1});if(xr)throw xr;je(dr||[])}catch(dr){console.error("Error fetching expenses:",dr),c$1.error("Failed to load expenses")}})()},[]);const cr=async()=>{try{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new Error("Your browser does not support camera access");if(!(await navigator.mediaDevices.enumerateDevices()).some(Rr=>Rr.kind==="videoinput"))throw new Error("No camera found on your device");let xr;try{xr=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}})}catch{xr=await navigator.mediaDevices.getUserMedia({video:!0})}rr.current&&(rr.current.srcObject=xr,tr.current=xr),Qe(!0)}catch(vr){console.error("Error accessing camera:",vr),vr instanceof Error&&(vr.name==="NotAllowedError"||vr.name==="PermissionDeniedError"?c$1.error("Camera access denied. Please check your camera permissions."):vr.name==="NotFoundError"||vr.name==="DevicesNotFoundError"?c$1.error("No camera found on your device."):vr.name==="NotReadableError"||vr.name==="TrackStartError"?c$1.error("Could not access your camera. It may be in use by another application."):c$1.error(vr.message||"Could not access camera. Please try again."))}},or=()=>{tr.current&&(tr.current.getTracks().forEach(vr=>vr.stop()),tr.current=null),Qe(!1)},ar=async()=>{if(rr.current)try{const vr=document.createElement("canvas");vr.width=rr.current.videoWidth,vr.height=rr.current.videoHeight;const dr=vr.getContext("2d");if(!dr)throw new Error("Could not get canvas context");dr.drawImage(rr.current,0,0,vr.width,vr.height);const xr=await new Promise(Xe=>vr.toBlob(Pe=>Xe(Pe),"image/jpeg",.95)),Rr=new File([xr],"receipt.jpg",{type:"image/jpeg"});await ur(Rr),or()}catch(vr){console.error("Error capturing photo:",vr),c$1.error("Failed to capture photo")}};reactExports.useEffect(()=>()=>{tr.current&&tr.current.getTracks().forEach(vr=>vr.stop())},[]);const pr=vr=>{vr.preventDefault(),vr.stopPropagation(),vr.type==="dragenter"||vr.type==="dragover"?Ke(!0):vr.type==="dragleave"&&Ke(!1)},ur=reactExports.useCallback(async vr=>{He(!0);try{let dr="";if(vr.type==="application/pdf"){const Fe=await vr.arrayBuffer(),ze=await loadingTask({data:Fe}).promise;for(let Ue=1;Ue<=ze.numPages;Ue++){const Ze=await(await ze.getPage(Ue)).getTextContent();dr+=Ze.items.map(er=>er.str).join(" ")+`
`}}else if(vr.type.startsWith("image/")){const Fe=await src.createWorker("eng"),ze=new FileReader;dr=await new Promise((Ue,Ge)=>{ze.onload=async Ze=>{if(Ze.target?.result)try{const{data:{text:er}}=await Fe.recognize(Ze.target.result);Ue(er)}catch(er){Ge(er)}finally{await Fe.terminate()}},ze.readAsDataURL(vr)})}else throw new Error("Unsupported file type");const xr=dr.match(/\$?\d+\.\d{2}/),Rr=dr.match(/\d{1,2}\/\d{1,2}\/\d{2,4}/),Xe=dr.match(/(?:store|merchant|vendor):\s*([^\n]+)/i),Pe={id:Date.now().toString(),date:Rr?Rr[0]:new Date().toISOString().split("T")[0],merchant:Xe?Xe[1]:"Unknown Merchant",amount:xr?parseFloat(xr[0].replace("$","")):0,category:"Uncategorized",description:dr.slice(0,100),status:"pending"};je(Fe=>[...Fe,Pe]),c$1.success("Document scanned successfully")}catch(dr){console.error("Error processing image:",dr),c$1.error("Failed to process document")}finally{He(!1)}},[]),gr=reactExports.useCallback(async vr=>{vr.preventDefault(),vr.stopPropagation(),Ke(!1);const dr=vr.dataTransfer.files[0];dr&&(dr.type.startsWith("image/")||dr.type==="application/pdf")?await ur(dr):c$1.error("Please upload an image or PDF file")},[ur]),jr=async vr=>{const dr=vr.target.files?.[0];dr&&await ur(dr)};return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-white",children:"Expenses"}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs("select",{className:"bg-dark-800 border border-dark-700 text-white rounded-md px-3 py-2",value:Ce,onChange:vr=>Be(vr.target.value),children:[jsxRuntimeExports.jsx("option",{value:"all",children:"All Statuses"}),jsxRuntimeExports.jsx("option",{value:"pending",children:"Pending"}),jsxRuntimeExports.jsx("option",{value:"approved",children:"Approved"}),jsxRuntimeExports.jsx("option",{value:"rejected",children:"Rejected"})]}),jsxRuntimeExports.jsxs("select",{className:"bg-dark-800 border border-dark-700 text-white rounded-md px-3 py-2",value:$e,onChange:vr=>ke(vr.target.value),children:[jsxRuntimeExports.jsx("option",{value:"all",children:"All Categories"}),jsxRuntimeExports.jsx("option",{value:"travel",children:"Travel"}),jsxRuntimeExports.jsx("option",{value:"meals",children:"Meals & Entertainment"}),jsxRuntimeExports.jsx("option",{value:"office",children:"Office Supplies"}),jsxRuntimeExports.jsx("option",{value:"utilities",children:"Utilities"}),jsxRuntimeExports.jsx("option",{value:"other",children:"Other"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs("select",{className:"bg-dark-800 border border-dark-700 text-white rounded-md px-3 py-2",onChange:vr=>Be(vr.target.value),children:[jsxRuntimeExports.jsx("option",{value:"all",children:"All Statuses"}),jsxRuntimeExports.jsx("option",{value:"pending",children:"Pending"}),jsxRuntimeExports.jsx("option",{value:"approved",children:"Approved"}),jsxRuntimeExports.jsx("option",{value:"rejected",children:"Rejected"})]}),jsxRuntimeExports.jsxs("select",{className:"bg-dark-800 border border-dark-700 text-white rounded-md px-3 py-2",onChange:vr=>ke(vr.target.value),children:[jsxRuntimeExports.jsx("option",{value:"all",children:"All Categories"}),jsxRuntimeExports.jsx("option",{value:"travel",children:"Travel"}),jsxRuntimeExports.jsx("option",{value:"meals",children:"Meals & Entertainment"}),jsxRuntimeExports.jsx("option",{value:"office",children:"Office Supplies"}),jsxRuntimeExports.jsx("option",{value:"utilities",children:"Utilities"}),jsxRuntimeExports.jsx("option",{value:"other",children:"Other"})]})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>Qe(!0),className:"btn btn-primary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Plus,{size:16}),jsxRuntimeExports.jsx("span",{children:"Add Expense"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[jsxRuntimeExports.jsx("div",{className:"card bg-dark-800 border border-dark-700",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm",children:"Total Expenses"}),jsxRuntimeExports.jsxs("h3",{className:"text-2xl font-bold text-white mt-1",children:["$",Re.reduce((vr,dr)=>vr+dr.amount,0).toFixed(2)]})]}),jsxRuntimeExports.jsx("div",{className:"p-3 rounded-lg bg-blue-500/20 text-blue-500",children:jsxRuntimeExports.jsx(Receipt,{size:24})})]})}),jsxRuntimeExports.jsx("div",{className:"card bg-dark-800 border border-dark-700",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm",children:"Pending"}),jsxRuntimeExports.jsxs("h3",{className:"text-2xl font-bold text-white mt-1",children:["$",Re.filter(vr=>vr.status==="pending").reduce((vr,dr)=>vr+dr.amount,0).toFixed(2)]})]}),jsxRuntimeExports.jsx("div",{className:"p-3 rounded-lg bg-yellow-500/20 text-yellow-500",children:jsxRuntimeExports.jsx(Receipt,{size:24})})]})}),jsxRuntimeExports.jsx("div",{className:"card bg-dark-800 border border-dark-700",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm",children:"Approved"}),jsxRuntimeExports.jsxs("h3",{className:"text-2xl font-bold text-white mt-1",children:["$",Re.filter(vr=>vr.status==="approved").reduce((vr,dr)=>vr+dr.amount,0).toFixed(2)]})]}),jsxRuntimeExports.jsx("div",{className:"p-3 rounded-lg bg-green-500/20 text-green-500",children:jsxRuntimeExports.jsx(Receipt,{size:24})})]})}),jsxRuntimeExports.jsx("div",{className:"card bg-dark-800 border border-dark-700",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm",children:"Rejected"}),jsxRuntimeExports.jsxs("h3",{className:"text-2xl font-bold text-white mt-1",children:["$",Re.filter(vr=>vr.status==="rejected").reduce((vr,dr)=>vr+dr.amount,0).toFixed(2)]})]}),jsxRuntimeExports.jsx("div",{className:"p-3 rounded-lg bg-red-500/20 text-red-500",children:jsxRuntimeExports.jsx(Receipt,{size:24})})]})})]}),jsxRuntimeExports.jsx("div",{className:`card bg-dark-800 border-2 ${We?"border-primary-500 bg-primary-500/10":"border-dark-700"} p-8 transition-all duration-300`,onDragEnter:pr,onDragLeave:pr,onDragOver:pr,onDrop:gr,children:jsxRuntimeExports.jsx("div",{className:"text-center",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center",children:[jsxRuntimeExports.jsx("div",{className:"mb-4",children:jsxRuntimeExports.jsx(Receipt,{size:48,className:`${We?"text-primary-400":"text-gray-600"}`})}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-white mb-2 flex items-center justify-center",children:qe?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-primary-500 mr-2"}),"Scanning Document..."]}):"Upload or Scan Document"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Drag and drop your receipt or PDF here, or use the buttons below"}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*,application/pdf",onChange:jr,className:"hidden",id:"receipt-upload",disabled:qe}),jsxRuntimeExports.jsxs("label",{htmlFor:"receipt-upload",className:"btn btn-secondary flex items-center space-x-2 cursor-pointer hover:bg-dark-600 transition-colors duration-300",children:[jsxRuntimeExports.jsx(Upload,{size:16,className:qe?"animate-bounce":""}),jsxRuntimeExports.jsx("span",{children:"Browse Files"})]})]}),jsxRuntimeExports.jsxs("button",{onClick:cr,className:"btn btn-secondary flex items-center space-x-2",disabled:qe,children:[jsxRuntimeExports.jsx(Camera,{size:16}),jsxRuntimeExports.jsx("span",{children:"Take Photo"})]})]})]})})}),Je&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/75 flex items-center justify-center z-50",children:jsxRuntimeExports.jsx("div",{className:"bg-dark-800 rounded-lg p-4 w-full max-w-2xl",children:jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("video",{ref:rr,autoPlay:!0,playsInline:!0,className:"w-full rounded-lg"}),jsxRuntimeExports.jsxs("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center space-x-4",children:[jsxRuntimeExports.jsx("button",{onClick:or,className:"btn btn-danger",children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:ar,className:"btn btn-primary",children:"Take Photo"})]})]})})}),jsxRuntimeExports.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-white",children:"Recent Expenses"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search expenses...",className:"input w-64",value:_e,onChange:vr=>Me(vr.target.value)}),jsxRuntimeExports.jsxs("button",{className:"btn btn-secondary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Download,{size:16}),jsxRuntimeExports.jsx("span",{children:"Export"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"overflow-x-auto",children:[jsxRuntimeExports.jsxs("table",{className:"w-full",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"bg-dark-700",children:[jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Date"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Merchant"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Category"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Amount"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"divide-y divide-dark-700",children:Re.map(vr=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-dark-700/50",children:[jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:new Date(vr.date).toLocaleDateString()}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-4 whitespace-nowrap group",children:[jsxRuntimeExports.jsx("div",{className:"text-sm font-medium text-white",children:vr.merchant}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-400",children:vr.description})]}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:vr.category}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:["$",vr.amount.toFixed(2)]}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${vr.status==="approved"?"bg-green-900/30 text-green-400":vr.status==="rejected"?"bg-red-900/30 text-red-400":"bg-yellow-900/30 text-yellow-400"}`,children:vr.status.charAt(0).toUpperCase()+vr.status.slice(1)})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-right text-sm font-medium",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[jsxRuntimeExports.jsx("button",{className:"text-gray-400 hover:text-white transition-colors duration-200",children:jsxRuntimeExports.jsx(Eye,{size:16})}),jsxRuntimeExports.jsx("button",{className:"text-gray-400 hover:text-white transition-colors duration-200",children:jsxRuntimeExports.jsx(SquarePen,{size:16})}),jsxRuntimeExports.jsx("button",{className:"text-gray-400 hover:text-red-500 transition-colors duration-200",children:jsxRuntimeExports.jsx(Trash2,{size:16})})]})})]},vr.id))})]}),Re.length===0&&jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx(Receipt,{size:48,className:"text-gray-600 mb-4 mx-auto"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-lg mb-2",children:"No expenses found"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-sm",children:"Upload a receipt or add an expense manually to get started"})]})]})]})]})},Expenses=()=>jsxRuntimeExports.jsxs("div",{className:"space-y-16",children:[jsxRuntimeExports.jsx("section",{className:"bg-gradient-to-br from-primary-900 to-primary-800 rounded-2xl p-8 md:p-12",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Smart Expense Management"}),jsxRuntimeExports.jsx("p",{className:"text-primary-200 text-lg mb-6",children:"Effortlessly track and manage expenses with AI-powered receipt scanning, automated categorization, and real-time analytics."}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-4",children:[jsxRuntimeExports.jsx(Link,{to:"/register",className:"btn btn-primary bg-white text-primary-900 hover:bg-gray-100",children:"Start Free"}),jsxRuntimeExports.jsx(Link,{to:"/demo",className:"btn btn-secondary border border-white text-white hover:bg-primary-700",children:"Schedule Demo"})]})]}),jsxRuntimeExports.jsx("div",{className:"hidden md:block",children:jsxRuntimeExports.jsx("div",{className:"bg-dark-800 rounded-lg p-8 border-2 border-dashed border-dark-600 hover:border-primary-500 transition-colors",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx(DollarSign,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Drag and Drop Receipts"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 mb-6",children:"Drop your receipts here or use your device's camera"}),jsxRuntimeExports.jsxs("div",{className:"flex justify-center space-x-4",children:[jsxRuntimeExports.jsx("button",{className:"btn btn-primary",children:"Take a Photo"}),jsxRuntimeExports.jsx("button",{className:"btn btn-secondary",children:"Browse Files"})]})]})})})]})}),jsxRuntimeExports.jsxs("section",{children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-12",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Smart Expense Features"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Powerful tools to streamline your expense management process."})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:jsxRuntimeExports.jsx(Camera,{className:"text-primary-400"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Smart Receipt Capture"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Instantly scan receipts using your device's camera with automatic data extraction and validation."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:jsxRuntimeExports.jsx(Upload,{className:"text-primary-400"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Drag & Drop Processing"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Simply drag and drop receipts, invoices, or any expense documents for instant processing."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:jsxRuntimeExports.jsx(Bot,{className:"text-primary-400"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"AI Data Extraction"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Advanced AI technology automatically extracts and categorizes expense data with high accuracy."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:jsxRuntimeExports.jsx(RefreshCw,{className:"text-primary-400"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Auto-Categorization"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Smart categorization of expenses based on vendor, amount, and historical data."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:jsxRuntimeExports.jsx(FileText,{className:"text-primary-400"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Digital Storage"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Secure cloud storage for all your receipts and expense documents with easy search and retrieval."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:jsxRuntimeExports.jsx(BarChart2,{className:"text-primary-400"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Expense Analytics"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Detailed expense reports and analytics to help you understand and optimize spending."})]})]})]}),jsxRuntimeExports.jsxs("section",{className:"bg-dark-800 rounded-2xl p-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-12",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"How It Works"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Expense management has never been easier with our AI-powered solution."})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-900/30 p-4 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:jsxRuntimeExports.jsx(Camera,{className:"text-primary-400 h-8 w-8"})}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Capture"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Take a photo of your receipt or drag and drop your documents."})]}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-900/30 p-4 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:jsxRuntimeExports.jsx(Bot,{className:"text-primary-400 h-8 w-8"})}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Process"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"AI automatically extracts and validates all relevant information."})]}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-900/30 p-4 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:jsxRuntimeExports.jsx(RefreshCw,{className:"text-primary-400 h-8 w-8"})}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Categorize"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Expenses are automatically categorized and organized."})]}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-900/30 p-4 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:jsxRuntimeExports.jsx(BarChart2,{className:"text-primary-400 h-8 w-8"})}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Analyze"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Generate reports and gain insights into your spending."})]})]})]}),jsxRuntimeExports.jsxs("section",{children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-12",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Benefits of Smart Expense Management"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"See how our expense management solution can transform your business operations."})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Save Time"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 mb-4",children:"Eliminate manual data entry and automate your expense management process."}),jsxRuntimeExports.jsxs("ul",{className:"space-y-2 text-gray-400",children:[jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx("span",{className:"text-green-500 mr-2",children:""}),jsxRuntimeExports.jsx("span",{children:"Reduce processing time by 90%"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx("span",{className:"text-green-500 mr-2",children:""}),jsxRuntimeExports.jsx("span",{children:"Automated data extraction"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx("span",{className:"text-green-500 mr-2",children:""}),jsxRuntimeExports.jsx("span",{children:"Instant categorization"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Reduce Errors"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 mb-4",children:"AI-powered validation ensures accuracy in expense tracking."}),jsxRuntimeExports.jsxs("ul",{className:"space-y-2 text-gray-400",children:[jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx("span",{className:"text-green-500 mr-2",children:""}),jsxRuntimeExports.jsx("span",{children:"AI data validation"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx("span",{className:"text-green-500 mr-2",children:""}),jsxRuntimeExports.jsx("span",{children:"Duplicate detection"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx("span",{className:"text-green-500 mr-2",children:""}),jsxRuntimeExports.jsx("span",{children:"Automatic error checking"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Better Insights"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 mb-4",children:"Gain valuable insights into your business spending patterns."}),jsxRuntimeExports.jsxs("ul",{className:"space-y-2 text-gray-400",children:[jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx("span",{className:"text-green-500 mr-2",children:""}),jsxRuntimeExports.jsx("span",{children:"Detailed spending analytics"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx("span",{className:"text-green-500 mr-2",children:""}),jsxRuntimeExports.jsx("span",{children:"Custom reporting"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx("span",{className:"text-green-500 mr-2",children:""}),jsxRuntimeExports.jsx("span",{children:"Trend analysis"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Stay Compliant"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 mb-4",children:"Keep your expense records organized and audit-ready."}),jsxRuntimeExports.jsxs("ul",{className:"space-y-2 text-gray-400",children:[jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx("span",{className:"text-green-500 mr-2",children:""}),jsxRuntimeExports.jsx("span",{children:"Digital receipt storage"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx("span",{className:"text-green-500 mr-2",children:""}),jsxRuntimeExports.jsx("span",{children:"Audit trail"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx("span",{className:"text-green-500 mr-2",children:""}),jsxRuntimeExports.jsx("span",{children:"Compliance reporting"})]})]})]})]})]}),jsxRuntimeExports.jsxs("section",{className:"bg-gradient-to-r from-primary-800 to-primary-900 rounded-2xl p-8 md:p-12 text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Ready to Simplify Your Expense Management?"}),jsxRuntimeExports.jsx("p",{className:"text-primary-200 text-lg mb-8 max-w-2xl mx-auto",children:"Join thousands of businesses that use our platform to automate their expense tracking and management."}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[jsxRuntimeExports.jsx(Link,{to:"/register",className:"btn btn-primary bg-white text-primary-900 hover:bg-gray-100 px-6 py-3",children:"Start Your Free Account"}),jsxRuntimeExports.jsx(Link,{to:"/demo",className:"btn btn-secondary border border-white text-white hover:bg-primary-700 px-6 py-3",children:"Schedule Demo"})]})]})]}),Quotes=()=>jsxRuntimeExports.jsxs("div",{className:"space-y-16",children:[jsxRuntimeExports.jsx("section",{className:"bg-gradient-to-br from-primary-900 to-primary-800 rounded-2xl p-8 md:p-12",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Win More Business with Professional Quotes"}),jsxRuntimeExports.jsx("p",{className:"text-primary-200 text-lg mb-6",children:"Create and send professional quotes in minutes, track their status, and convert them to invoices with a single click."}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-4",children:[jsxRuntimeExports.jsx(Link,{to:"/register",className:"btn btn-primary bg-white text-primary-900 hover:bg-gray-100",children:"Start Free"}),jsxRuntimeExports.jsx(Link,{to:"/demo",className:"btn btn-secondary border border-white text-white hover:bg-primary-700",children:"Schedule Demo"})]})]}),jsxRuntimeExports.jsx("div",{className:"hidden md:block",children:jsxRuntimeExports.jsx("img",{src:"https://vmeomnmgqatezjqsrapj.supabase.co/storage/v1/object/public/public/images/quote-preview.jpg",alt:"Quote Management",className:"rounded-lg shadow-xl"})})]})}),jsxRuntimeExports.jsxs("section",{children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-12",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Powerful Quote Features"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Everything you need to create professional quotes and win more business."})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:jsxRuntimeExports.jsx(FileText,{className:"text-primary-400"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Professional Templates"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Choose from a variety of professionally designed quote templates that reflect your brand identity."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:jsxRuntimeExports.jsx(Send,{className:"text-primary-400"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Quick Send"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Send quotes directly to customers via email with optional attachments and personalized messages."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:jsxRuntimeExports.jsx(Clock,{className:"text-primary-400"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Expiry Management"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Set and manage quote expiry dates with automatic reminders and follow-ups."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:jsxRuntimeExports.jsx(Check,{className:"text-primary-400"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Approval Workflow"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Streamline the quote approval process with customizable workflows and notifications."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:jsxRuntimeExports.jsx(RefreshCw,{className:"text-primary-400"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Convert to Invoice"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Convert accepted quotes to invoices with a single click, maintaining all line items and details."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:jsxRuntimeExports.jsx(BarChart2,{className:"text-primary-400"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Quote Analytics"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Track quote performance, conversion rates, and customer response times with detailed analytics."})]})]})]}),jsxRuntimeExports.jsxs("section",{className:"bg-dark-800 rounded-2xl p-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-8",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Beautiful, Professional Quotes"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Our quotes are designed to impress your clients and help you win more business."})]}),jsxRuntimeExports.jsx("div",{className:"rounded-xl overflow-hidden shadow-2xl",children:jsxRuntimeExports.jsx("img",{src:"https://vmeomnmgqatezjqsrapj.supabase.co/storage/v1/object/public/public/images/quote-preview.jpg",alt:"Quote Template",className:"w-full"})})]}),jsxRuntimeExports.jsxs("section",{children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-12",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Why Use Our Quote Management"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"See how our quote management solution can transform your sales process."})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Win More Business"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 mb-4",children:"Create professional quotes quickly and follow up automatically to increase your win rate."}),jsxRuntimeExports.jsxs("ul",{className:"space-y-2 text-gray-400",children:[jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx("span",{className:"text-green-500 mr-2",children:""}),jsxRuntimeExports.jsx("span",{children:"Professional quote templates"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx("span",{className:"text-green-500 mr-2",children:""}),jsxRuntimeExports.jsx("span",{children:"Automated follow-ups"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx("span",{className:"text-green-500 mr-2",children:""}),jsxRuntimeExports.jsx("span",{children:"Higher conversion rates"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Save Time"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 mb-4",children:"Automate your quote process from creation to follow-up and conversion."}),jsxRuntimeExports.jsxs("ul",{className:"space-y-2 text-gray-400",children:[jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx("span",{className:"text-green-500 mr-2",children:""}),jsxRuntimeExports.jsx("span",{children:"Quick quote generation"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx("span",{className:"text-green-500 mr-2",children:""}),jsxRuntimeExports.jsx("span",{children:"Automated reminders"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx("span",{className:"text-green-500 mr-2",children:""}),jsxRuntimeExports.jsx("span",{children:"One-click invoice conversion"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Track Everything"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 mb-4",children:"Get insights into your quote performance and customer behavior."}),jsxRuntimeExports.jsxs("ul",{className:"space-y-2 text-gray-400",children:[jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx("span",{className:"text-green-500 mr-2",children:""}),jsxRuntimeExports.jsx("span",{children:"Quote analytics dashboard"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx("span",{className:"text-green-500 mr-2",children:""}),jsxRuntimeExports.jsx("span",{children:"Conversion tracking"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx("span",{className:"text-green-500 mr-2",children:""}),jsxRuntimeExports.jsx("span",{children:"Customer response metrics"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Look Professional"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 mb-4",children:"Present your business professionally with beautiful quotes and smooth client interaction."}),jsxRuntimeExports.jsxs("ul",{className:"space-y-2 text-gray-400",children:[jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx("span",{className:"text-green-500 mr-2",children:""}),jsxRuntimeExports.jsx("span",{children:"Branded templates"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx("span",{className:"text-green-500 mr-2",children:""}),jsxRuntimeExports.jsx("span",{children:"Professional communication"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx("span",{className:"text-green-500 mr-2",children:""}),jsxRuntimeExports.jsx("span",{children:"Client portal access"})]})]})]})]})]}),jsxRuntimeExports.jsxs("section",{className:"bg-gradient-to-r from-primary-800 to-primary-900 rounded-2xl p-8 md:p-12 text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Ready to Streamline Your Quote Process?"}),jsxRuntimeExports.jsx("p",{className:"text-primary-200 text-lg mb-8 max-w-2xl mx-auto",children:"Join thousands of businesses that use our platform to create professional quotes and win more business."}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[jsxRuntimeExports.jsx(Link,{to:"/register",className:"btn btn-primary bg-white text-primary-900 hover:bg-gray-100 px-6 py-3",children:"Start Your Free Account"}),jsxRuntimeExports.jsx(Link,{to:"/demo",className:"btn btn-secondary border border-white text-white hover:bg-primary-700 px-6 py-3",children:"Schedule Demo"})]})]})]}),PURCHASES$1=[],Purchases=()=>{const[Re,je]=reactExports.useState(""),[_e,Me]=reactExports.useState([]),[$e,ke]=reactExports.useState(!1),Ce=PURCHASES$1.filter(We=>We.id?.toLowerCase().includes(Re.toLowerCase())||We.supplier?.toLowerCase().includes(Re.toLowerCase())),Be=()=>{_e.length===Ce.length?Me([]):Me(Ce.map(We=>We.id))},qe=We=>{_e.includes(We)?Me(_e.filter(Ke=>Ke!==We)):Me([..._e,We])},He=async We=>{const Ke=We.target.files?.[0];if(Ke){ke(!0);try{const Je=await Ke.text();Papa.parse(Je,{header:!0,skipEmptyLines:!0,complete:async Qe=>{const{data:rr,errors:tr}=Qe;if(tr.length>0){c$1.error("Error parsing CSV file"),console.error("CSV parsing errors:",tr);return}let cr=0,or=0;for(const ar of rr)try{const pr={supplier:ar.supplier,order_date:ar.order_date,expected_delivery:ar.expected_delivery,items:JSON.parse(ar.items||"[]"),notes:ar.notes};cr++}catch(pr){console.error("Error importing purchase:",pr),or++}c$1.success(`Imported ${cr} purchases successfully${or>0?` (${or} failed)`:""}`)}})}catch(Je){console.error("File upload error:",Je),c$1.error("Failed to upload file")}finally{ke(!1),We.target.value=""}}};return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-white",children:"Purchases"}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-2",children:[jsxRuntimeExports.jsxs("div",{className:"relative hidden md:block",children:[jsxRuntimeExports.jsx("input",{type:"file",accept:".csv",onChange:He,className:"hidden",id:"csv-upload",disabled:$e}),jsxRuntimeExports.jsxs("label",{htmlFor:"csv-upload",className:"btn btn-secondary flex items-center space-x-2 cursor-pointer",children:[jsxRuntimeExports.jsx(Upload,{size:16,className:$e?"animate-bounce":""}),jsxRuntimeExports.jsx("span",{children:$e?"Importing...":"Import CSV"})]})]}),jsxRuntimeExports.jsxs(Link,{to:"/purchases/create",className:"btn btn-primary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Plus,{size:16}),jsxRuntimeExports.jsx("span",{children:"Create Purchase Order"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[jsxRuntimeExports.jsx("div",{className:"card bg-dark-800 border border-dark-700",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm",children:"Total Purchases"}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-white mt-1",children:"0"})]}),jsxRuntimeExports.jsx("div",{className:"p-3 rounded-lg bg-blue-500/20 text-blue-500",children:jsxRuntimeExports.jsx(ShoppingCart,{size:24})})]})}),jsxRuntimeExports.jsx("div",{className:"card bg-dark-800 border border-dark-700",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm",children:"Received"}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-white mt-1",children:"0"})]}),jsxRuntimeExports.jsx("div",{className:"p-3 rounded-lg bg-green-500/20 text-green-500",children:jsxRuntimeExports.jsx(ShoppingCart,{size:24})})]})}),jsxRuntimeExports.jsx("div",{className:"card bg-dark-800 border border-dark-700",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm",children:"Pending"}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-white mt-1",children:"0"})]}),jsxRuntimeExports.jsx("div",{className:"p-3 rounded-lg bg-yellow-500/20 text-yellow-500",children:jsxRuntimeExports.jsx(ShoppingCart,{size:24})})]})}),jsxRuntimeExports.jsx("div",{className:"card bg-dark-800 border border-dark-700",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm",children:"Cancelled"}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-white mt-1",children:"0"})]}),jsxRuntimeExports.jsx("div",{className:"p-3 rounded-lg bg-red-500/20 text-red-500",children:jsxRuntimeExports.jsx(ShoppingCart,{size:24})})]})})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex-1",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:jsxRuntimeExports.jsx(Search,{size:18,className:"text-gray-400"})}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search purchases...",className:"input pl-10",value:Re,onChange:We=>je(We.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs("button",{className:"btn btn-secondary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Filter,{size:16}),jsxRuntimeExports.jsx("span",{children:"Filter"})]}),jsxRuntimeExports.jsxs("button",{className:"btn btn-secondary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Download,{size:16}),jsxRuntimeExports.jsx("span",{children:"Export"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-lg border border-dark-700 overflow-hidden",children:[Ce.length>0?jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"bg-dark-700",children:[jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left",children:jsxRuntimeExports.jsx("div",{className:"flex items-center",children:jsxRuntimeExports.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-600 bg-dark-800 text-primary-600 focus:ring-primary-500",checked:_e.length===Ce.length&&Ce.length>0,onChange:Be})})}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Purchase #"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Supplier"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Date"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Amount"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"divide-y divide-dark-700",children:Ce.map(We=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-dark-700/50",children:[jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-600 bg-dark-800 text-primary-600 focus:ring-primary-500",checked:_e.includes(We.id),onChange:()=>qe(We.id)})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsx(Link,{to:`/purchases/${We.id}`,className:"text-white font-medium hover:text-primary-400",children:We.id})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-300",children:We.supplier})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:We.date?new Date(We.date).toLocaleDateString():"-"}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:["$",We.amount?.toLocaleString()||"0.00"]}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${We.status==="Received"?"bg-green-900/30 text-green-400":We.status==="Pending"?"bg-yellow-900/30 text-yellow-400":"bg-red-900/30 text-red-400"}`,children:We.status})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-right text-sm font-medium",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[jsxRuntimeExports.jsx(Link,{to:`/purchases/${We.id}`,className:"text-gray-400 hover:text-white",children:jsxRuntimeExports.jsx(Eye,{size:16})}),jsxRuntimeExports.jsx(Link,{to:`/purchases/${We.id}/edit`,className:"text-gray-400 hover:text-white",children:jsxRuntimeExports.jsx(SquarePen,{size:16})}),jsxRuntimeExports.jsx("button",{className:"text-gray-400 hover:text-red-500",children:jsxRuntimeExports.jsx(Trash2,{size:16})})]})})]},We.id))})]})}):jsxRuntimeExports.jsx("div",{className:"text-center py-12",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center",children:[jsxRuntimeExports.jsx(ShoppingCart,{size:48,className:"text-gray-600 mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-lg mb-2",children:"No purchases found"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Get started by creating your first purchase order"}),jsxRuntimeExports.jsxs(Link,{to:"/purchases/create",className:"btn btn-primary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Plus,{size:16}),jsxRuntimeExports.jsx("span",{children:"Create Purchase Order"})]})]})}),Ce.length>0&&jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 px-4 py-3 flex items-center justify-between border-t border-dark-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[jsxRuntimeExports.jsx("button",{className:"btn btn-secondary",children:"Previous"}),jsxRuntimeExports.jsx("button",{className:"btn btn-secondary",children:"Next"})]}),jsxRuntimeExports.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-400",children:["Showing ",jsxRuntimeExports.jsx("span",{className:"font-medium",children:"1"})," to ",jsxRuntimeExports.jsx("span",{className:"font-medium",children:Ce.length})," of"," ",jsxRuntimeExports.jsx("span",{className:"font-medium",children:Ce.length})," results"]})}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[jsxRuntimeExports.jsxs("button",{className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-dark-600 bg-dark-700 text-sm font-medium text-gray-400 hover:bg-dark-600",children:[jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Previous"}),jsxRuntimeExports.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),jsxRuntimeExports.jsx("button",{className:"relative inline-flex items-center px-4 py-2 border border-dark-600 bg-dark-700 text-sm font-medium text-gray-400 hover:bg-dark-600",children:"1"}),jsxRuntimeExports.jsxs("button",{className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-dark-600 bg-dark-700 text-sm font-medium text-gray-400 hover:bg-dark-600",children:[jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Next"}),jsxRuntimeExports.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})})]})]})]})]})},PURCHASES=[{id:"PO-2023-001",supplier:{name:"Global Supplies Inc",email:"orders@globalsupplies.com",address:"456 Supplier Ave, Suite 200, Chicago, IL 60601",phone:"(555) 987-6543"},date:"2023-06-01",expectedDelivery:"2023-06-15",items:[{id:1,description:"Premium Widget Components",quantity:50,unitPrice:50,total:2500},{id:2,description:"Deluxe Gadget Parts",quantity:25,unitPrice:40,total:1e3},{id:3,description:"Shipping & Handling",quantity:1,unitPrice:250,total:250}],subtotal:3750,tax:0,total:3750,status:"Received",receivedDate:"2023-06-12",notes:"Priority order for Q3 manufacturing."}],PurchaseDetail=()=>{const{id:Re}=useParams(),je=PURCHASES.find(_e=>_e.id===Re);return je?jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsx(Link,{to:"/purchases",className:"btn btn-secondary p-2",children:jsxRuntimeExports.jsx(ArrowLeft,{size:20})}),jsxRuntimeExports.jsxs("h1",{className:"text-2xl font-bold text-white",children:["Purchase Order ",je.id]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2",children:[jsxRuntimeExports.jsxs(Link,{to:`/purchases/${Re}/edit`,className:"btn btn-primary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(SquarePen,{size:16}),jsxRuntimeExports.jsx("span",{children:"Edit"})]}),jsxRuntimeExports.jsxs("button",{className:"btn btn-secondary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Printer,{size:16}),jsxRuntimeExports.jsx("span",{children:"Print"})]}),jsxRuntimeExports.jsxs("button",{className:"btn btn-secondary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Download,{size:16}),jsxRuntimeExports.jsx("span",{children:"Download PDF"})]}),je.status!=="Received"&&jsxRuntimeExports.jsxs("button",{className:"btn btn-secondary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Check,{size:16}),jsxRuntimeExports.jsx("span",{children:"Mark as Received"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Purchase Status"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"text-gray-400",children:jsxRuntimeExports.jsx(ShoppingCart,{size:18})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Status"}),jsxRuntimeExports.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${je.status==="Received"?"bg-green-900/30 text-green-400":je.status==="Pending"?"bg-yellow-900/30 text-yellow-400":"bg-red-900/30 text-red-400"}`,children:je.status})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"text-gray-400",children:jsxRuntimeExports.jsx(Calendar$2,{size:18})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Order Date"}),jsxRuntimeExports.jsx("p",{className:"text-white",children:new Date(je.date).toLocaleDateString()})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"text-gray-400",children:jsxRuntimeExports.jsx(Clock,{size:18})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Expected Delivery"}),jsxRuntimeExports.jsx("p",{className:"text-white",children:new Date(je.expectedDelivery).toLocaleDateString()})]})]}),je.status==="Received"&&je.receivedDate&&jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"text-gray-400",children:jsxRuntimeExports.jsx(Check,{size:18})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Received Date"}),jsxRuntimeExports.jsx("p",{className:"text-white",children:new Date(je.receivedDate).toLocaleDateString()})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"text-gray-400",children:jsxRuntimeExports.jsx(DollarSign,{size:18})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Total Amount"}),jsxRuntimeExports.jsxs("p",{className:"text-xl font-semibold text-white",children:["$",je.total.toLocaleString()]})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Supplier Information"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"text-gray-400",children:jsxRuntimeExports.jsx(Building,{size:18})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Supplier"}),jsxRuntimeExports.jsx("p",{className:"text-white font-medium",children:je.supplier.name})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"text-gray-400",children:jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[jsxRuntimeExports.jsx("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),jsxRuntimeExports.jsx("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Email"}),jsxRuntimeExports.jsx("p",{className:"text-white",children:je.supplier.email})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"text-gray-400",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"})})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Phone"}),jsxRuntimeExports.jsx("p",{className:"text-white",children:je.supplier.phone})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"text-gray-400",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Address"}),jsxRuntimeExports.jsx("p",{className:"text-white",children:je.supplier.address})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Notes"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300",children:je.notes})]})]}),jsxRuntimeExports.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Purchase Items"}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"bg-dark-700",children:[jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Item"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Quantity"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Unit Price"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Total"})]})}),jsxRuntimeExports.jsx("tbody",{className:"divide-y divide-dark-700",children:je.items.map(_e=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-dark-700/50",children:[jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-white",children:_e.description})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300 text-right",children:_e.quantity}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300 text-right",children:["$",_e.unitPrice.toFixed(2)]}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300 text-right",children:["$",_e.total.toFixed(2)]})]},_e.id))}),jsxRuntimeExports.jsxs("tfoot",{children:[jsxRuntimeExports.jsxs("tr",{className:"bg-dark-700/50",children:[jsxRuntimeExports.jsx("td",{colSpan:3,className:"px-4 py-3 text-right text-sm font-medium text-gray-300",children:"Subtotal"}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-3 text-right text-sm font-medium text-white",children:["$",je.subtotal.toFixed(2)]})]}),jsxRuntimeExports.jsxs("tr",{className:"bg-dark-700/50",children:[jsxRuntimeExports.jsx("td",{colSpan:3,className:"px-4 py-3 text-right text-sm font-medium text-gray-300",children:"Tax"}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-3 text-right text-sm font-medium text-white",children:["$",je.tax.toFixed(2)]})]}),jsxRuntimeExports.jsxs("tr",{className:"bg-dark-700",children:[jsxRuntimeExports.jsx("td",{colSpan:3,className:"px-4 py-3 text-right text-sm font-medium text-gray-300",children:"Total"}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-3 text-right text-base font-bold text-white",children:["$",je.total.toFixed(2)]})]})]})]})})]})]}):jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-lg",children:"Purchase order not found"}),jsxRuntimeExports.jsx(Link,{to:"/purchases",className:"btn btn-primary mt-4",children:"Back to Purchases"})]})},CreatePurchase=()=>{const Re=useNavigate(),{suppliers:je}=useSupplierStore(),{products:_e}=useProductStore(),{register:Me,control:$e,handleSubmit:ke,watch:Ce,setValue:Be,formState:{errors:qe}}=useForm({defaultValues:{orderDate:new Date().toISOString().split("T")[0],expectedDelivery:new Date(Date.now()+14*24*60*60*1e3).toISOString().split("T")[0],items:[{product:"",description:"",quantity:1,unitPrice:0}],notes:"Please deliver as soon as possible."}}),{fields:He,append:We,remove:Ke}=useFieldArray({control:$e,name:"items"}),Je=Ce("items"),Qe=Je.reduce((pr,ur)=>pr+ur.quantity*ur.unitPrice,0),rr=0,tr=Qe*rr,cr=Qe+tr,or=(pr,ur)=>{const gr=_e.find(jr=>jr.id===ur);gr&&(Be(`items.${pr}.description`,gr.name),Be(`items.${pr}.unitPrice`,gr.price))},ar=pr=>{console.log("Purchase order data:",pr),c$1.success("Purchase order created successfully!"),Re("/purchases")};return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsx(Link,{to:"/purchases",className:"btn btn-secondary p-2",children:jsxRuntimeExports.jsx(ArrowLeft,{size:20})}),jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-white",children:"Create Purchase Order"})]}),jsxRuntimeExports.jsxs("form",{onSubmit:ke(ar),className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"lg:col-span-2 card bg-dark-800 border border-dark-700",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Purchase Details"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"supplier",className:"block text-sm font-medium text-gray-300 mb-1",children:"Supplier"}),jsxRuntimeExports.jsxs("select",{id:"supplier",className:"input",...Me("supplier",{required:"Supplier is required"}),children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select a supplier"}),je.map(pr=>jsxRuntimeExports.jsx("option",{value:pr.id,children:pr.company},pr.id))]}),qe.supplier&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:qe.supplier.message})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"orderDate",className:"block text-sm font-medium text-gray-300 mb-1",children:"Order Date"}),jsxRuntimeExports.jsx("input",{type:"date",id:"orderDate",className:"input",...Me("orderDate",{required:"Order date is required"})}),qe.orderDate&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:qe.orderDate.message})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"expectedDelivery",className:"block text-sm font-medium text-gray-300 mb-1",children:"Expected Delivery"}),jsxRuntimeExports.jsx("input",{type:"date",id:"expectedDelivery",className:"input",...Me("expectedDelivery",{required:"Expected delivery date is required"})}),qe.expectedDelivery&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:qe.expectedDelivery.message})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Notes"}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("textarea",{rows:5,className:"input",placeholder:"Add notes to the supplier...",...Me("notes")})})]})]}),jsxRuntimeExports.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-white",children:"Purchase Items"}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>We({product:"",description:"",quantity:1,unitPrice:0}),className:"btn btn-secondary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Plus,{size:16}),jsxRuntimeExports.jsx("span",{children:"Add Item"})]})]}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"bg-dark-700",children:[jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Product"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Description"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Quantity"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Unit Price"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Total"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"divide-y divide-dark-700",children:He.map((pr,ur)=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-dark-700/50",children:[jsxRuntimeExports.jsxs("td",{className:"px-4 py-4",children:[jsxRuntimeExports.jsxs("select",{className:"input",...Me(`items.${ur}.product`,{required:"Product is required"}),onChange:gr=>or(ur,gr.target.value),children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select a product"}),_e.map(gr=>jsxRuntimeExports.jsx("option",{value:gr.id,children:gr.name},gr.id))]}),qe.items?.[ur]?.product&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:qe.items[ur]?.product?.message})]}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-4",children:[jsxRuntimeExports.jsx("input",{type:"text",className:"input",placeholder:"Description",...Me(`items.${ur}.description`,{required:"Description is required"})}),qe.items?.[ur]?.description&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:qe.items[ur]?.description?.message})]}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-4",children:[jsxRuntimeExports.jsx("input",{type:"number",min:"1",className:"input text-right",...Me(`items.${ur}.quantity`,{required:"Quantity is required",min:{value:1,message:"Minimum quantity is 1"},valueAsNumber:!0})}),qe.items?.[ur]?.quantity&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:qe.items[ur]?.quantity?.message})]}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-4",children:[jsxRuntimeExports.jsx("input",{type:"number",min:"0",step:"0.01",className:"input text-right",...Me(`items.${ur}.unitPrice`,{required:"Unit price is required",min:{value:0,message:"Minimum price is 0"},valueAsNumber:!0})}),qe.items?.[ur]?.unitPrice&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:qe.items[ur]?.unitPrice?.message})]}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-right text-sm font-medium text-white",children:["$",(Je[ur]?.quantity*Je[ur]?.unitPrice||0).toFixed(2)]}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>Ke(ur),disabled:He.length===1,className:`text-gray-400 hover:text-red-500 ${He.length===1?"opacity-50 cursor-not-allowed":""}`,children:jsxRuntimeExports.jsx(Trash2,{size:16})})})]},pr.id))}),jsxRuntimeExports.jsxs("tfoot",{children:[jsxRuntimeExports.jsxs("tr",{className:"bg-dark-700/50",children:[jsxRuntimeExports.jsx("td",{colSpan:4,className:"px-4 py-3 text-right text-sm font-medium text-gray-300",children:"Subtotal"}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-3 text-right text-sm font-medium text-white",children:["$",Qe.toFixed(2)]}),jsxRuntimeExports.jsx("td",{})]}),jsxRuntimeExports.jsxs("tr",{className:"bg-dark-700/50",children:[jsxRuntimeExports.jsxs("td",{colSpan:4,className:"px-4 py-3 text-right text-sm font-medium text-gray-300",children:["Tax (",(rr*100).toFixed(0),"%)"]}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-3 text-right text-sm font-medium text-white",children:["$",tr.toFixed(2)]}),jsxRuntimeExports.jsx("td",{})]}),jsxRuntimeExports.jsxs("tr",{className:"bg-dark-700",children:[jsxRuntimeExports.jsx("td",{colSpan:4,className:"px-4 py-3 text-right text-sm font-medium text-gray-300",children:"Total"}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-3 text-right text-base font-bold text-white",children:["$",cr.toFixed(2)]}),jsxRuntimeExports.jsx("td",{})]})]})]})})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-end",children:jsxRuntimeExports.jsxs("button",{type:"submit",className:"btn btn-primary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Save,{size:16}),jsxRuntimeExports.jsx("span",{children:"Create Purchase Order"})]})})]})]})},ProfileTab=()=>{const{profile:Re,updateProfile:je,loading:_e,error:Me}=useProfileStore(),{user:$e}=useAuthStore(),[ke,Ce]=reactExports.useState(""),{register:Be,handleSubmit:qe,reset:He,formState:{errors:We}}=useForm();reactExports.useEffect(()=>{Re&&(He(Re),Ce(formatPhoneNumber(Re.phone)))},[Re,He]);const Ke=async Je=>{try{await je(Je),c$1.success("Profile updated successfully")}catch(Qe){console.error("Error updating profile:",Qe),c$1.error("Failed to update profile")}};return jsxRuntimeExports.jsxs("div",{className:"space-y-8",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Profile Settings"}),Me&&jsxRuntimeExports.jsx("div",{className:"bg-red-900/50 border border-red-800 text-red-300 px-4 py-3 rounded-md",children:Me}),jsxRuntimeExports.jsxs("form",{onSubmit:qe(Ke),className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[jsxRuntimeExports.jsx("h3",{className:"text-md font-medium text-white mb-4",children:"Basic Information"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Email"}),jsxRuntimeExports.jsx("input",{type:"email",className:"input bg-dark-700 text-gray-400",value:$e?.email||"",disabled:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Company Name"}),jsxRuntimeExports.jsx("input",{type:"text",className:"input",placeholder:"Your company name",...Be("company")})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Phone"}),jsxRuntimeExports.jsx("input",{type:"tel",className:"input",value:ke,onChange:Je=>{const rr=Je.target.value.replace(/\D/g,"").slice(0,10);Ce(formatPhoneNumber(rr)),Be("phone").onChange({target:{value:rr,name:"phone"}})},placeholder:"(555) 555-5555"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[jsxRuntimeExports.jsx("h3",{className:"text-md font-medium text-white mb-4",children:"Address Information"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Street Address"}),jsxRuntimeExports.jsx("input",{type:"text",className:"input",placeholder:"123 Business St",...Be("address")})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"City"}),jsxRuntimeExports.jsx("input",{type:"text",className:"input",placeholder:"City",...Be("city")})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"State/Province"}),jsxRuntimeExports.jsx("input",{type:"text",className:"input",placeholder:"State",...Be("state")})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"ZIP/Postal Code"}),jsxRuntimeExports.jsx("input",{type:"text",className:"input",placeholder:"ZIP Code",...Be("zipcode")})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Country"}),jsxRuntimeExports.jsxs("select",{className:"input",...Be("country"),children:[jsxRuntimeExports.jsx("option",{value:"CA",children:"Canada"}),jsxRuntimeExports.jsx("option",{value:"US",children:"United States"})]})]})]})]})]})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-end",children:jsxRuntimeExports.jsx("button",{type:"submit",className:"btn btn-primary flex items-center space-x-2",disabled:_e,children:_e?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white"}),jsxRuntimeExports.jsx("span",{children:"Saving..."})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Save,{size:16}),jsxRuntimeExports.jsx("span",{children:"Save Changes"})]})})})]})]})},NotificationsTab=()=>{const{notifications:Re,fetchNotifications:je,markAllAsRead:_e}=useNotificationStore(),[Me,$e]=reactExports.useState(!1);reactExports.useEffect(()=>{je()},[je]);const ke=async()=>{if(window.confirm("Are you sure you want to clear all notifications?")){$e(!0);try{const{error:Ce}=await supabase.from("notifications").delete().neq("id","none");if(Ce)throw Ce;await je(),c$1.success("All notifications cleared")}catch(Ce){console.error("Error clearing notifications:",Ce),c$1.error("Failed to clear notifications")}finally{$e(!1)}}};return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-white",children:"Notification Settings"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>_e(),className:"btn btn-secondary",disabled:Me,children:"Mark all as read"}),jsxRuntimeExports.jsxs("button",{onClick:ke,className:"btn btn-danger flex items-center space-x-2",disabled:Me,children:[jsxRuntimeExports.jsx(Trash2,{size:16}),jsxRuntimeExports.jsx("span",{children:"Clear All"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-lg border border-dark-700 overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"p-4 border-b border-dark-700",children:jsxRuntimeExports.jsx("h3",{className:"text-md font-medium text-white",children:"Recent Notifications"})}),jsxRuntimeExports.jsxs("div",{className:"divide-y divide-dark-700",children:[Re.map(Ce=>jsxRuntimeExports.jsx("div",{className:`p-4 ${Ce.read?"bg-dark-800":"bg-dark-700"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("p",{className:`text-sm font-medium ${Ce.read?"text-gray-300":"text-white"}`,children:Ce.title}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400 mt-1",children:Ce.message}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-1",children:format(new Date(Ce.created_at),"MMM d, yyyy h:mm a")})]}),!Ce.read&&jsxRuntimeExports.jsx("span",{className:"w-2 h-2 bg-primary-500 rounded-full"})]})},Ce.id)),Re.length===0&&jsxRuntimeExports.jsxs("div",{className:"p-8 text-center",children:[jsxRuntimeExports.jsx(Bell,{size:48,className:"text-gray-600 mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"No notifications yet"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-lg border border-dark-700 p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-md font-medium text-white mb-4",children:"Notification Preferences"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-white",children:"Email Notifications"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Receive notifications via email"})]}),jsxRuntimeExports.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),jsxRuntimeExports.jsx("div",{className:"w-11 h-6 bg-dark-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-white",children:"Push Notifications"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Receive browser notifications"})]}),jsxRuntimeExports.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),jsxRuntimeExports.jsx("div",{className:"w-11 h-6 bg-dark-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-white",children:"Sound"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Play sound for new notifications"})]}),jsxRuntimeExports.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",className:"sr-only peer"}),jsxRuntimeExports.jsx("div",{className:"w-11 h-6 bg-dark-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-lg border border-dark-700 p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-md font-medium text-white mb-4",children:"Notification Types"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-white",children:"Invoice Reminders"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Get notified about upcoming and overdue invoices"})]}),jsxRuntimeExports.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),jsxRuntimeExports.jsx("div",{className:"w-11 h-6 bg-dark-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-white",children:"Quote Updates"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Get notified when quotes are accepted or declined"})]}),jsxRuntimeExports.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),jsxRuntimeExports.jsx("div",{className:"w-11 h-6 bg-dark-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-white",children:"Low Stock Alerts"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Get notified when products are running low"})]}),jsxRuntimeExports.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),jsxRuntimeExports.jsx("div",{className:"w-11 h-6 bg-dark-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-white",children:"Team Activity"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Get notified about team member actions"})]}),jsxRuntimeExports.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),jsxRuntimeExports.jsx("div",{className:"w-11 h-6 bg-dark-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]})]})]})]})},DataExportTab=()=>{const{customers:Re}=useCustomerStore(),{products:je}=useProductStore(),{invoices:_e}=useInvoiceStore(),{quotes:Me}=useQuoteStore(),[$e,ke]=reactExports.useState(null),Ce=async Be=>{ke(Be);try{let qe=[],He=[];switch(Be){case"customers":qe=Re.map(rr=>({name:rr.name,email:rr.email||"",phone:rr.phone||"",address:rr.address||"",type:rr.type,status:rr.status,total_spent:rr.total_spent,created_at:rr.created_at})),He=["name","email","phone","address","type","status","total_spent","created_at"];break;case"products":qe=je.map(rr=>({name:rr.name,sku:rr.sku,description:rr.description||"",price:rr.price,cost:rr.cost,stock:rr.stock,category:rr.category||"",status:rr.status})),He=["name","sku","description","price","cost","stock","category","status"];break;case"invoices":qe=_e.map(rr=>({invoice_number:rr.invoice_number,customer_name:rr.customer_name,date:rr.date,due_date:rr.due_date,subtotal:rr.subtotal,tax:rr.tax,total:rr.total,status:rr.status})),He=["invoice_number","customer_name","date","due_date","subtotal","tax","total","status"];break;case"quotes":qe=Me.map(rr=>({quote_number:rr.quote_number,customer_name:rr.customer_name,date:rr.date,expiry_date:rr.expiry_date,subtotal:rr.subtotal,tax:rr.tax,total:rr.total,status:rr.status})),He=["quote_number","customer_name","date","expiry_date","subtotal","tax","total","status"];break}const We=Papa.unparse({fields:He,data:qe}),Ke=new Blob([We],{type:"text/csv;charset=utf-8;"}),Je=document.createElement("a"),Qe=URL.createObjectURL(Ke);Je.setAttribute("href",Qe),Je.setAttribute("download",`${Be}_export_${new Date().toISOString().split("T")[0]}.csv`),Je.style.visibility="hidden",document.body.appendChild(Je),Je.click(),document.body.removeChild(Je),c$1.success(`${Be} data exported successfully`)}catch(qe){console.error(`Error exporting ${Be}:`,qe),c$1.error(`Failed to export ${Be} data`)}finally{ke(null)}};return jsxRuntimeExports.jsxs("div",{className:"hidden md:block space-y-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-white",children:"Export Data"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-400",children:[jsxRuntimeExports.jsx(Database,{size:16}),jsxRuntimeExports.jsx("span",{children:"Download your data in CSV format"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"card bg-dark-800 border border-dark-700 p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-md bg-blue-500/20 text-blue-500",children:jsxRuntimeExports.jsx(Users,{size:24})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-white",children:"Customers"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-400",children:[Re.length," customers"]})]})]}),jsxRuntimeExports.jsx("button",{onClick:()=>Ce("customers"),disabled:$e==="customers",className:"btn btn-secondary",children:$e==="customers"?jsxRuntimeExports.jsxs("span",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white"}),jsxRuntimeExports.jsx("span",{children:"Exporting..."})]}):jsxRuntimeExports.jsxs("span",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Download,{size:16}),jsxRuntimeExports.jsx("span",{children:"Export CSV"})]})})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Includes customer details, contact information, and purchase history."})]}),jsxRuntimeExports.jsxs("div",{className:"card bg-dark-800 border border-dark-700 p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-md bg-purple-500/20 text-purple-500",children:jsxRuntimeExports.jsx(Package,{size:24})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-white",children:"Products"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-400",children:[je.length," products"]})]})]}),jsxRuntimeExports.jsx("button",{onClick:()=>Ce("products"),disabled:$e==="products",className:"btn btn-secondary",children:$e==="products"?jsxRuntimeExports.jsxs("span",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white"}),jsxRuntimeExports.jsx("span",{children:"Exporting..."})]}):jsxRuntimeExports.jsxs("span",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Download,{size:16}),jsxRuntimeExports.jsx("span",{children:"Export CSV"})]})})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Includes product details, pricing, inventory levels, and categories."})]}),jsxRuntimeExports.jsxs("div",{className:"card bg-dark-800 border border-dark-700 p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-md bg-green-500/20 text-green-500",children:jsxRuntimeExports.jsx(FileText,{size:24})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-white",children:"Invoices"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-400",children:[_e.length," invoices"]})]})]}),jsxRuntimeExports.jsx("button",{onClick:()=>Ce("invoices"),disabled:$e==="invoices",className:"btn btn-secondary",children:$e==="invoices"?jsxRuntimeExports.jsxs("span",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white"}),jsxRuntimeExports.jsx("span",{children:"Exporting..."})]}):jsxRuntimeExports.jsxs("span",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Download,{size:16}),jsxRuntimeExports.jsx("span",{children:"Export CSV"})]})})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Includes invoice details, items, payments, and status information."})]}),jsxRuntimeExports.jsxs("div",{className:"card bg-dark-800 border border-dark-700 p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-md bg-yellow-500/20 text-yellow-500",children:jsxRuntimeExports.jsx(Receipt,{size:24})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-white",children:"Quotes"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-400",children:[Me.length," quotes"]})]})]}),jsxRuntimeExports.jsx("button",{onClick:()=>Ce("quotes"),disabled:$e==="quotes",className:"btn btn-secondary",children:$e==="quotes"?jsxRuntimeExports.jsxs("span",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white"}),jsxRuntimeExports.jsx("span",{children:"Exporting..."})]}):jsxRuntimeExports.jsxs("span",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Download,{size:16}),jsxRuntimeExports.jsx("span",{children:"Export CSV"})]})})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Includes quote details, items, and status information."})]})]}),jsxRuntimeExports.jsx("div",{className:"bg-primary-900/20 border border-primary-800/50 rounded-lg p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start",children:[jsxRuntimeExports.jsx(AlertCircle,{size:20,className:"text-primary-400 mr-2 mt-0.5"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-medium text-white mb-1",children:"About Data Exports"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Exports are generated in CSV format and can be opened in spreadsheet applications like Microsoft Excel or Google Sheets. All dates are in ISO format (YYYY-MM-DD) and numerical values use period (.) as decimal separator."})]})]})})]})},SubscriptionPlans=({plans:Re,currentSubscription:je})=>{const{createCheckoutSession:_e,fetchFreeSubscription:Me,fetchCurrentSubscription:$e,setSubscription:ke,cancelSubscription:Ce,loading:Be}=useSubscriptionStore(),[qe,He]=reactExports.useState(null),[We,Ke]=reactExports.useState(!1),[Je,Qe]=reactExports.useState(!1);reactExports.useEffect(()=>{rr()},[]);const rr=async()=>{const gr=await Me();await $e(),useSubscriptionStore.getState().currentSubscription?.plan_id===gr.id?Ke(!0):Ke(!1)};function tr(){return je?Re.find(jr=>jr.id===je.plan_id):null}let cr=tr();const or=async gr=>{try{if((await Me()).id===gr){await ke(gr,!0),He(null),cr=tr();return}else{const vr=await _e(gr);window.open(vr,"_blank"),await ke(gr,!1),cr=tr(),He(null)}}catch{c$1.error("Failed to create checkout session"),He(null)}finally{await rr()}},ar=()=>{Qe(!0)},pr=async()=>{try{await Ce(),c$1.success("Subscription canceled successfully")}catch{c$1.error("Failed to cancel subscription")}finally{Qe(!1),await rr()}},ur=()=>{Qe(!1)};return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx(ConfirmationModal,{isOpen:Je,onClose:ur,onConfirm:pr,title:"Cancel Subscription",message:"Are you sure you want to cancel your subscription? You will still have access until the end of your billing period.",confirmButtonText:"Yes, Cancel",cancelButtonText:"No, Keep Subscription",isDanger:!0}),je&&cr&&jsxRuntimeExports.jsx("div",{className:"bg-primary-900/20 border border-primary-800 rounded-lg p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold text-white",children:["Current Plan: ",cr.name]}),!We&&jsxRuntimeExports.jsxs("p",{className:"text-gray-300 mt-1",children:[je.cancel_at_period_end?"Your subscription will end on ":"Your next billing date is ",new Date(je.current_period_end).toLocaleDateString()]})]}),!je.cancel_at_period_end&&!We&&jsxRuntimeExports.jsx("button",{onClick:ar,disabled:Be,className:"text-red-400 hover:text-red-300 text-sm",children:Be?"Processing...":"Cancel Subscription"})]})}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Re.map(gr=>{const jr=cr?.id===gr.id,vr=qe===gr.id;return jsxRuntimeExports.jsxs("div",{className:`bg-dark-800 border rounded-lg p-6 ${jr?"border-primary-500":"border-dark-700"}`,children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:gr.name}),jsxRuntimeExports.jsxs("p",{className:"text-2xl font-bold text-white mb-4",children:["$",gr.price,"/",gr.interval]}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 mb-6",children:gr.description}),jsxRuntimeExports.jsx("ul",{className:"space-y-2 mb-6",children:Array.isArray(gr.features)&&gr.features.map((dr,xr)=>jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(Check,{size:18,className:"text-green-500 mr-2 mt-0.5 flex-shrink-0"}),jsxRuntimeExports.jsx("span",{className:"text-gray-300",children:dr})]},xr))}),jsxRuntimeExports.jsx("button",{onClick:()=>or(gr.id),disabled:jr||vr||Be,className:`w-full btn ${jr?"btn-secondary":"btn-primary"}`,children:vr?jsxRuntimeExports.jsxs("span",{className:"flex items-center justify-center",children:[jsxRuntimeExports.jsx(Loader,{size:16,className:"animate-spin mr-2"}),"Processing..."]}):jr?"Current Plan":`Subscribe to ${gr.name}`})]},gr.id)})})]})},BillingTab=()=>{const{plans:Re,currentSubscription:je,paymentMethods:_e,loading:Me,error:$e,fetchSubscriptionPlans:ke,fetchCurrentSubscription:Ce}=useSubscriptionStore();return reactExports.useEffect(()=>{ke(),Ce()},[ke,Ce]),jsxRuntimeExports.jsxs("div",{className:"space-y-8",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Subscriptions"}),$e&&jsxRuntimeExports.jsx("div",{className:"bg-red-900/50 border border-red-800 text-red-300 px-4 py-3 rounded-md",children:$e}),Me&&jsxRuntimeExports.jsxs("div",{className:"text-center py-4",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-500 mx-auto"}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-gray-400",children:"Loading subscription information..."})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-md font-medium text-white",children:"Subscription Plans"}),jsxRuntimeExports.jsx(SubscriptionPlans,{plans:Re,currentSubscription:je})]})]})},getOpenAIClient=()=>{const Re="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";if(!Re.startsWith("sk-"))throw new Error("Invalid OpenAI API key format. Please check your key.");return new OpenAI({apiKey:Re,dangerouslyAllowBrowser:!0,maxRetries:3,timeout:3e4})},aiAgentService={async createAgent(Re){try{const{data:je}=await supabase.auth.getUser();if(!je?.user)throw new Error("User not authenticated");const{data:_e,error:Me}=await supabase.from("ai_agents").insert([{...Re,user_id:je.user.id,status:"active",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select().single();if(Me)throw Me;return _e}catch(je){throw console.error("Error creating AI agent:",je),je}},async getAgents(){try{const{data:Re,error:je}=await supabase.from("ai_agents").select("*").order("created_at",{ascending:!1});if(je)throw je;return Re||[]}catch(Re){throw console.error("Error fetching AI agents:",Re),Re}},async updateAgent(Re,je){try{const{data:_e,error:Me}=await supabase.from("ai_agents").update({...je,updated_at:new Date().toISOString()}).eq("id",Re).select().single();if(Me)throw Me;return _e}catch(_e){throw console.error("Error updating AI agent:",_e),_e}},async deleteAgent(Re){try{const{error:je}=await supabase.from("ai_agents").delete().eq("id",Re);if(je)throw je}catch(je){throw console.error("Error deleting AI agent:",je),je}},async logAgentActivity(Re){try{const{data:je,error:_e}=await supabase.from("ai_agent_logs").insert([{...Re,created_at:new Date().toISOString()}]).select().single();if(_e)throw _e;return je}catch(je){throw console.error("Error logging agent activity:",je),je}},async processInvoiceReminders(Re){try{const{data:je,error:_e}=await supabase.from("invoices").select("*, customers(*)").eq("status","Issued").order("due_date",{ascending:!0});if(_e)throw _e;const Me=new Date,$e=je.map(async ke=>{const Ce=new Date(ke.due_date),Be=Math.ceil((Ce.getTime()-Me.getTime())/(1e3*60*60*24));if(Re.settings.reminder_schedule.days_before.includes(Be)){const qe=await this.generateReminderMessage(Re,ke);for(const He of Re.settings.communication_channels)try{He==="email"&&ke.customer_email?await emailService.sendEmail(ke.customer_email,`Payment Reminder: Invoice ${ke.invoice_number}`,qe,Re.user_id):He==="sms"&&ke.customer?.phone,await this.logAgentActivity({agent_id:Re.id,action_type:"reminder_sent",channel:He,customer_id:ke.customer_id,invoice_id:ke.id,message:qe,status:"success"})}catch(We){console.error(`Error sending ${He} reminder:`,We),await this.logAgentActivity({agent_id:Re.id,action_type:"reminder_sent",channel:He,customer_id:ke.customer_id,invoice_id:ke.id,message:qe,status:"failed"})}}});await Promise.all($e)}catch(je){throw console.error("Error processing invoice reminders:",je),je}},async generateReminderMessage(Re,je){try{const _e=getOpenAIClient();try{await _e.models.list()}catch($e){throw $e?.status===401?new Error("Invalid API key or insufficient permissions. Please check your OpenAI API key and organization settings."):$e}return(await _e.chat.completions.create({model:"gpt-3.5-turbo",messages:[{role:"system",content:`You are a professional accounts receivable agent. Your tone is ${Re.settings.tone}. You need to write a payment reminder for an invoice.`},{role:"user",content:`Write a payment reminder for invoice ${je.invoice_number} for ${je.customer_name}. The amount is $${je.total.toFixed(2)} and it's due on ${new Date(je.due_date).toLocaleDateString()}.`}]})).choices[0].message.content}catch(_e){return console.error("Error generating AI message:",_e),{professional:`Dear ${je.customer_name},

This is a reminder that invoice ${je.invoice_number} for $${je.total.toFixed(2)} is due on ${new Date(je.due_date).toLocaleDateString()}. Please ensure timely payment to maintain our excellent business relationship.

Best regards,
Your Account Manager`,friendly:`Hi ${je.customer_name}! 

Just a friendly reminder about invoice ${je.invoice_number} for $${je.total.toFixed(2)} that's due on ${new Date(je.due_date).toLocaleDateString()}. Would really appreciate if you could take care of this when you get a chance!

Thanks so much!
Your Account Manager`,formal:`Dear ${je.customer_name},

This correspondence serves as a formal reminder regarding Invoice ${je.invoice_number}, amounting to $${je.total.toFixed(2)}, which is due for payment on ${new Date(je.due_date).toLocaleDateString()}. Your prompt attention to this matter would be greatly appreciated.

Yours sincerely,
Your Account Manager`}[Re.settings.tone]}}},useAIAgentStore=create((Re,je)=>({agents:[],logs:[],loading:!1,error:null,clearError:()=>Re({error:null}),fetchAgents:async()=>{Re({loading:!0,error:null});try{const _e=await aiAgentService.getAgents();Re({agents:_e,loading:!1})}catch(_e){console.error("Error in fetchAgents:",_e),Re({error:_e.message||"Failed to fetch AI agents",loading:!1})}},createAgent:async _e=>{Re({loading:!0,error:null});try{const Me=await aiAgentService.createAgent(_e),$e=[...je().agents,Me];return Re({agents:$e,loading:!1}),Me}catch(Me){throw console.error("Error in createAgent:",Me),Re({error:Me.message||"Failed to create AI agent",loading:!1}),Me}},updateAgent:async(_e,Me)=>{Re({loading:!0,error:null});try{const $e=await aiAgentService.updateAgent(_e,Me),ke=je().agents.map(Ce=>Ce.id===_e?$e:Ce);return Re({agents:ke,loading:!1}),$e}catch($e){throw console.error("Error in updateAgent:",$e),Re({error:$e.message||"Failed to update AI agent",loading:!1}),$e}},deleteAgent:async _e=>{Re({loading:!0,error:null});try{await aiAgentService.deleteAgent(_e);const Me=je().agents.filter($e=>$e.id!==_e);Re({agents:Me,loading:!1})}catch(Me){throw console.error("Error in deleteAgent:",Me),Re({error:Me.message||"Failed to delete AI agent",loading:!1}),Me}},fetchAgentLogs:async _e=>{Re({loading:!0,error:null});try{const{data:Me,error:$e}=await aiAgentService.getAgentLogs(_e);if($e)throw $e;Re({logs:Me,loading:!1})}catch(Me){console.error("Error in fetchAgentLogs:",Me),Re({error:Me.message||"Failed to fetch agent logs",loading:!1})}}})),AIAgentsTab=()=>{const{agents:Re,loading:je,error:_e,fetchAgents:Me,createAgent:$e,updateAgent:ke,deleteAgent:Ce}=useAIAgentStore(),[Be,qe]=reactExports.useState(!1),[He,We]=reactExports.useState(null);reactExports.useEffect(()=>{Me()},[Me]);const Ke=async rr=>{rr.preventDefault();const tr=new FormData(rr.currentTarget);try{await $e({name:tr.get("name"),type:tr.get("type"),settings:{tone:tr.get("tone"),communication_channels:tr.getAll("channels"),working_hours:{start:tr.get("workingHoursStart"),end:tr.get("workingHoursEnd"),timezone:Intl.DateTimeFormat().resolvedOptions().timeZone},reminder_schedule:{days_before:[1,3,7],follow_up_interval:3}}}),qe(!1),c$1.success("AI agent created successfully")}catch{c$1.error("Failed to create AI agent")}},Je=async rr=>{try{await ke(rr.id,{status:rr.status==="active"?"paused":"active"}),c$1.success(`Agent ${rr.status==="active"?"paused":"activated"}`)}catch{c$1.error("Failed to update agent status")}},Qe=async rr=>{if(window.confirm("Are you sure you want to delete this agent?"))try{await Ce(rr.id),c$1.success("Agent deleted successfully")}catch{c$1.error("Failed to delete agent")}};return je?jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-500 mx-auto"}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-gray-400",children:"Loading AI agents..."})]}):jsxRuntimeExports.jsxs("div",{className:"space-y-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-white",children:"AI Agents"}),Re.length>0&&jsxRuntimeExports.jsxs("button",{onClick:()=>qe(!0),className:"btn btn-primary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Plus,{size:16}),jsxRuntimeExports.jsx("span",{children:"Create Agent"})]})]}),_e&&jsxRuntimeExports.jsx("div",{className:"bg-red-900/50 border border-red-800 text-red-300 px-4 py-3 rounded-md",children:_e}),Be&&jsxRuntimeExports.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-md font-medium text-white",children:"Create New AI Agent"}),jsxRuntimeExports.jsx("button",{onClick:()=>qe(!1),className:"text-gray-400 hover:text-white",children:"Cancel"})]}),jsxRuntimeExports.jsxs("form",{onSubmit:Ke,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Agent Name"}),jsxRuntimeExports.jsx("input",{type:"text",name:"name",required:!0,className:"input",placeholder:"e.g., Payment Reminder Agent"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Agent Type"}),jsxRuntimeExports.jsxs("select",{name:"type",required:!0,className:"input",children:[jsxRuntimeExports.jsx("option",{value:"invoice_reminder",children:"Invoice Reminder"}),jsxRuntimeExports.jsx("option",{value:"payment_collection",children:"Payment Collection"}),jsxRuntimeExports.jsx("option",{value:"customer_service",children:"Customer Service"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Communication Tone"}),jsxRuntimeExports.jsxs("select",{name:"tone",required:!0,className:"input",children:[jsxRuntimeExports.jsx("option",{value:"professional",children:"Professional"}),jsxRuntimeExports.jsx("option",{value:"friendly",children:"Friendly"}),jsxRuntimeExports.jsx("option",{value:"formal",children:"Formal"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Communication Channels"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("label",{className:"flex items-center",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"channels",value:"email",defaultChecked:!0,className:"h-4 w-4 rounded border-gray-600 bg-dark-800 text-primary-600 focus:ring-primary-500"}),jsxRuntimeExports.jsx("span",{className:"ml-2 text-gray-300",children:"Email"})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"channels",value:"sms",className:"h-4 w-4 rounded border-gray-600 bg-dark-800 text-primary-600 focus:ring-primary-500"}),jsxRuntimeExports.jsx("span",{className:"ml-2 text-gray-300",children:"SMS"})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Working Hours"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Start"}),jsxRuntimeExports.jsx("input",{type:"time",name:"workingHoursStart",defaultValue:"09:00",required:!0,className:"input"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"End"}),jsxRuntimeExports.jsx("input",{type:"time",name:"workingHoursEnd",defaultValue:"17:00",required:!0,className:"input"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>qe(!1),className:"btn btn-secondary",children:"Cancel"}),jsxRuntimeExports.jsx("button",{type:"submit",className:"btn btn-primary",children:"Create Agent"})]})]})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Re.map(rr=>jsxRuntimeExports.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("div",{className:`p-2 rounded-lg ${rr.status==="active"?"bg-green-500/20 text-green-500":"bg-gray-500/20 text-gray-500"}`,children:jsxRuntimeExports.jsx(Bot,{size:24})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-white",children:rr.name}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:rr.type.replace("_"," ").replace(/\b\w/g,tr=>tr.toUpperCase())})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Je(rr),className:`btn ${rr.status==="active"?"btn-secondary":"btn-primary"}`,children:rr.status==="active"?jsxRuntimeExports.jsx(Pause,{size:16}):jsxRuntimeExports.jsx(Play,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>We(rr),className:"btn btn-secondary",children:jsxRuntimeExports.jsx(Settings$2,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:()=>Qe(rr),className:"btn btn-danger",children:jsxRuntimeExports.jsx(Trash2,{size:16})})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"bg-dark-700 rounded-lg p-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center text-gray-400 mb-1",children:[jsxRuntimeExports.jsx(Clock,{size:16,className:"mr-1"}),jsxRuntimeExports.jsx("span",{className:"text-xs",children:"Working Hours"})]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-white",children:[rr.settings.working_hours.start," - ",rr.settings.working_hours.end]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-700 rounded-lg p-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center text-gray-400 mb-1",children:[jsxRuntimeExports.jsx(MessageSquare,{size:16,className:"mr-1"}),jsxRuntimeExports.jsx("span",{className:"text-xs",children:"Communication"})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-white",children:rr.settings.communication_channels.join(", ")})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center text-gray-400 mb-2",children:[jsxRuntimeExports.jsx(Activity,{size:16,className:"mr-1"}),jsxRuntimeExports.jsx("span",{className:"text-xs",children:"Recent Activity"})]}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-300",children:"No recent activity"})]})]},rr.id))}),Re.length===0&&!je&&jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx(Bot,{size:48,className:"text-gray-600 mb-4 mx-auto"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-lg mb-2",children:"No AI agents found"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Create your first AI agent to automate tasks"}),jsxRuntimeExports.jsxs("button",{onClick:()=>qe(!0),className:"btn btn-primary flex items-center space-x-2 mx-auto",children:[jsxRuntimeExports.jsx(Plus,{size:16}),jsxRuntimeExports.jsx("span",{children:"Create Agent"})]})]})]})},EmailTab=()=>{const{user:Re}=useAuthStore(),[je,_e]=reactExports.useState(!1),[Me,$e]=reactExports.useState(!1),[ke,Ce]=reactExports.useState(!1),{register:Be,handleSubmit:qe,formState:{errors:He},getValues:We,setValue:Ke}=useForm();reactExports.useEffect(()=>{const rr=tr=>{Me&&(tr.preventDefault(),tr.returnValue="")};return window.addEventListener("beforeunload",rr),()=>window.removeEventListener("beforeunload",rr)},[Me]),reactExports.useEffect(()=>{(async()=>{if(Re){_e(!0);try{const tr=await emailService.getEmailSettings(Re.id);tr&&(Ke("smtp_host",tr.smtp_host),Ke("smtp_port",tr.smtp_port),Ke("smtp_username",tr.smtp_username),Ke("smtp_password",tr.smtp_password),Ke("from_email",tr.from_email),Ke("from_name",tr.from_name))}catch(tr){console.error("Error loading email settings:",tr)}finally{_e(!1)}}})()},[Re]);const Je=async rr=>{if(Re){$e(!0);try{console.log("Submitting email settings:",rr),await emailService.saveEmailSettings(Re.id,rr),c$1.success("Email settings saved successfully")}catch(tr){console.error("Error saving email settings:",tr),c$1.error(tr instanceof Error?tr.message:"Failed to save email settings")}finally{$e(!1)}}},Qe=async()=>{if(Re){Ce(!0);try{const rr=We();if(console.log("Testing email settings with values:",{...rr,smtp_password:"***REDACTED***"}),!rr.smtp_host||!rr.smtp_port||!rr.smtp_username||!rr.smtp_password||!rr.from_email||!rr.from_name){c$1.error("Please fill in all required email settings fields");return}const or=await(await fetch("https://vmeomnmgqatezjqsrapj.supabase.co/functions/v1/test-email",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZtZW9tbm1ncWF0ZXpqcXNyYXBqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDA4ODI3NjQsImV4cCI6MjA1NjQ1ODc2NH0.uT7Hne2lmqLUei4931uepHFum1rtuBk7k0HRMK0V5UI"},body:JSON.stringify({to:rr.from_email,subject:"CxTrack Email Settings Test",html:`
        <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px; border: 1px solid #e0e0e0; border-radius: 5px;">
          <h2 style="color: #4f46e5;">CxTrack Email Settings Test</h2>
          <p>This is a test email to verify your SMTP settings are working correctly.</p>
          <p>If you're seeing this message, your email configuration is working properly!</p>
          <div style="margin-top: 20px; padding-top: 20px; border-top: 1px solid #e0e0e0;">
            <p style="font-size: 12px; color: #666;">This is an automated message from CxTrack. Please do not reply to this email.</p>
          </div>
        </div>
      `})})).json();if(or.id)c$1.success("Test email sent successfully");else throw new Error(or.error||"Failed to send test email")}catch(rr){console.error("Error testing email settings:",rr);const tr=rr instanceof Error?rr.message:"Failed to test email settings. Please verify your settings and try again.";c$1.error(tr)}finally{Ce(!1)}}};return jsxRuntimeExports.jsxs("div",{className:"space-y-8",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Email Settings"}),jsxRuntimeExports.jsxs("form",{onSubmit:qe(Je),className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[jsxRuntimeExports.jsx("h3",{className:"text-md font-medium text-white mb-4",children:"SMTP Server Settings"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"smtp_host",className:"block text-sm font-medium text-gray-300 mb-1",children:"SMTP Host"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:jsxRuntimeExports.jsx(Server,{size:16,className:"text-gray-400"})}),jsxRuntimeExports.jsx("input",{id:"smtp_host",type:"text",className:`input pl-10 ${He.smtp_host?"border-red-500":""}`,placeholder:"smtp.example.com",...Be("smtp_host",{required:"SMTP host is required",setValueAs:rr=>rr?.trim()})})]}),He.smtp_host&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:He.smtp_host.message})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"smtp_port",className:"block text-sm font-medium text-gray-300 mb-1",children:"SMTP Port"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:jsxRuntimeExports.jsx(Hash$a,{size:16,className:"text-gray-400"})}),jsxRuntimeExports.jsx("input",{id:"smtp_port",type:"number",className:`input pl-10 ${He.smtp_port?"border-red-500":""}`,placeholder:"587",...Be("smtp_port",{required:"SMTP port is required",min:{value:1,message:"Port must be greater than 0"},max:{value:65535,message:"Port must be less than 65536"},valueAsNumber:!0})})]}),He.smtp_port&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:He.smtp_port.message})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"smtp_username",className:"block text-sm font-medium text-gray-300 mb-1",children:"SMTP Username"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:jsxRuntimeExports.jsx(Mail,{size:16,className:"text-gray-400"})}),jsxRuntimeExports.jsx("input",{id:"smtp_username",type:"text",className:`input pl-10 ${He.smtp_username?"border-red-500":""}`,placeholder:"username@example.com",...Be("smtp_username",{required:"SMTP username is required",setValueAs:rr=>rr?.trim()})})]}),He.smtp_username&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:He.smtp_username.message})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"smtp_password",className:"block text-sm font-medium text-gray-300 mb-1",children:"SMTP Password"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:jsxRuntimeExports.jsx(Key,{size:16,className:"text-gray-400"})}),jsxRuntimeExports.jsx("input",{id:"smtp_password",type:"password",className:`input pl-10 ${He.smtp_password?"border-red-500":""}`,placeholder:"",...Be("smtp_password",{required:"SMTP password is required"})})]}),He.smtp_password&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:He.smtp_password.message})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[jsxRuntimeExports.jsx("h3",{className:"text-md font-medium text-white mb-4",children:"Sender Information"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"from_email",className:"block text-sm font-medium text-gray-300 mb-1",children:"From Email"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:jsxRuntimeExports.jsx(Mail,{size:16,className:"text-gray-400"})}),jsxRuntimeExports.jsx("input",{id:"from_email",type:"email",className:`input pl-10 ${He.from_email?"border-red-500":""}`,placeholder:"noreply@yourdomain.com",...Be("from_email",{required:"From email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"},setValueAs:rr=>rr?.trim()})})]}),He.from_email&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:He.from_email.message})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"from_name",className:"block text-sm font-medium text-gray-300 mb-1",children:"From Name"}),jsxRuntimeExports.jsx("input",{id:"from_name",type:"text",className:`input ${He.from_name?"border-red-500":""}`,placeholder:"Your Company Name",...Be("from_name",{required:"From name is required",setValueAs:rr=>rr?.trim()})}),He.from_name&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:He.from_name.message})]}),jsxRuntimeExports.jsx("div",{className:"pt-4",children:jsxRuntimeExports.jsx("button",{type:"button",onClick:Qe,disabled:ke,className:"btn btn-secondary w-full",children:ke?jsxRuntimeExports.jsxs("span",{className:"flex items-center justify-center",children:[jsxRuntimeExports.jsx("span",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white mr-2"}),"Testing..."]}):jsxRuntimeExports.jsxs("span",{className:"flex items-center justify-center",children:[jsxRuntimeExports.jsx(Send,{size:16,className:"mr-2"}),"Send Test Email"]})})})]})]})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-end",children:jsxRuntimeExports.jsx("button",{type:"submit",className:"btn btn-primary flex items-center space-x-2",disabled:je||Me,children:je||Me?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white"}),jsxRuntimeExports.jsx("span",{children:"Saving..."})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Save,{size:16}),jsxRuntimeExports.jsx("span",{children:"Save Settings"})]})})})]})]})},IntegrationsTab=()=>{const[Re,je]=reactExports.useState(!1),{createCustomer:_e}=useCustomerStore(),Me=async $e=>{const ke=$e.target.files?.[0];if(ke){je(!0);try{const Ce=await ke.text();Papa.parse(Ce,{header:!0,skipEmptyLines:!0,complete:async Be=>{const{data:qe,errors:He}=Be;if(He.length>0){c$1.error("Error parsing CSV file"),console.error("CSV parsing errors:",He);return}let We=0,Ke=0;for(const Je of qe)try{const Qe={name:Je.name||Je.full_name||Je.customer_name,email:Je.email||Je.email_address,phone:Je.phone||Je.phone_number||Je.contact,address:Je.address||Je.street_address,type:Je.type||"Individual",notes:Je.notes||Je.comments};if(!Qe.name)throw new Error("Name is required");await _e(Qe),We++}catch(Qe){console.error("Error importing customer:",Qe),Ke++}c$1.success(`Imported ${We} customers successfully${Ke>0?` (${Ke} failed)`:""}`)},error:Be=>{console.error("CSV parsing error:",Be),c$1.error("Failed to parse CSV file")}})}catch(Ce){console.error("File upload error:",Ce),c$1.error("Failed to upload file")}finally{je(!1),$e.target.value=""}}};return jsxRuntimeExports.jsxs("div",{className:"space-y-8",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Data Import"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"hidden md:block card bg-dark-800 border border-dark-700 p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-md bg-primary-500/20 text-primary-400",children:jsxRuntimeExports.jsx(Upload,{size:24})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-white",children:"Import Customers"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Import customer data from a CSV file"})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"border-2 border-dashed border-dark-600 rounded-lg p-6 text-center",children:[jsxRuntimeExports.jsx("input",{type:"file",accept:".csv",onChange:Me,className:"hidden",id:"csv-upload",disabled:Re}),jsxRuntimeExports.jsxs("label",{htmlFor:"csv-upload",className:"cursor-pointer flex flex-col items-center justify-center",children:[jsxRuntimeExports.jsx(Upload,{size:32,className:`mb-4 ${Re?"animate-bounce text-primary-400":"text-gray-400"}`}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-300 mb-2",children:Re?"Uploading...":"Click to upload or drag and drop"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-400",children:"CSV files only"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-700 rounded-lg p-4",children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"CSV Format Requirements"}),jsxRuntimeExports.jsxs("ul",{className:"text-sm text-gray-400 space-y-1",children:[jsxRuntimeExports.jsxs("li",{className:"flex items-center",children:[jsxRuntimeExports.jsx(Check,{size:16,className:"text-green-400 mr-2"}),"First row must contain column headers"]}),jsxRuntimeExports.jsxs("li",{className:"flex items-center",children:[jsxRuntimeExports.jsx(Check,{size:16,className:"text-green-400 mr-2"}),"Required columns: name/full_name/customer_name"]}),jsxRuntimeExports.jsxs("li",{className:"flex items-center",children:[jsxRuntimeExports.jsx(Check,{size:16,className:"text-green-400 mr-2"}),"Optional: email, phone, address, type, notes"]})]})]}),jsxRuntimeExports.jsx("div",{className:"bg-primary-900/20 border border-primary-800/50 rounded-lg p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start",children:[jsxRuntimeExports.jsx(AlertCircle,{size:20,className:"text-primary-400 mr-2 mt-0.5"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-medium text-white mb-1",children:"Important Note"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Make sure your CSV file is properly formatted and encoded in UTF-8 to avoid import errors. Large files may take longer to process."})]})]})})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"card bg-dark-800 border border-dark-700 p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Sample CSV Format"}),jsxRuntimeExports.jsx("div",{className:"bg-dark-700 rounded-lg p-4 overflow-x-auto",children:jsxRuntimeExports.jsx("pre",{className:"text-sm text-gray-400",children:"name,email,phone,address,type,notes John Doe,john@example.com,555-0123,123 Main St,Individual,VIP customer Jane Corp,contact@jane.com,555-0456,456 Corp Ave,Business,New client"})})]}),jsxRuntimeExports.jsxs("div",{className:"card bg-dark-800 border border-dark-700 p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Supported Fields"}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-medium text-white mb-1",children:"Name (Required)"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Accepted headers: name, full_name, customer_name"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-medium text-white mb-1",children:"Email"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Accepted headers: email, email_address"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-medium text-white mb-1",children:"Phone"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Accepted headers: phone, phone_number, contact"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-medium text-white mb-1",children:"Address"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Accepted headers: address, street_address"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-medium text-white mb-1",children:"Type"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Values: Individual, Business"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-medium text-white mb-1",children:"Notes"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Accepted headers: notes, comments"})]})]})]})]})]})]})},CallAgentTab=()=>{const{profile:Re,updateProfile:je,loading:_e,error:Me}=useProfileStore(),{isAdmin:$e,isUserAdmin:ke}=adminStore.getState(),{user:Ce}=useAuthStore(),[Be,qe]=reactExports.useState([]),[He,We]=reactExports.useState(!1),[Ke,Je]=reactExports.useState(""),[Qe,rr]=reactExports.useState(""),[tr,cr]=reactExports.useState(!0),[or,ar]=reactExports.useState(!1),[pr,ur]=reactExports.useState(!1);reactExports.useEffect(()=>{gr(),ke()},[Ce]);const gr=async()=>{if(!Ce)return;cr(!0);let dr=supabase.from("user_call_agents").select("call_agent_id");$e||(dr=dr.eq("user_id",Ce.id));const{data:xr,error:Rr}=await dr;console.log(xr),Rr?(console.error("Error fetching call agents:",Rr),c$1.error("Failed to fetch call agents.")):qe(xr),cr(!1)},jr=async dr=>{if(!Ce){c$1.error("User not logged in.");return}ur(!0);const{error:xr}=await supabase.from("user_call_agents").delete().eq("call_agent_id",dr.call_agent_id);xr?(console.error("Error deleting user_call record:",xr.message),c$1.error("Error deleting user_call record: "+xr.message)):(c$1.success("Agent succesfully deleted."),gr()),ur(!1)},vr=async()=>{if(!Ce||!Ke){c$1.error("User not logged in or Agent ID is empty.");return}ar(!0);let dr;$e?dr={user_id:Qe,call_agent_id:Ke}:dr={user_id:Ce.id,call_agent_id:Ke};const{error:xr}=await supabase.from("user_call_agents").insert([dr]);xr?(console.error("Error adding new agent:",xr),c$1.error("Failed to add new agent.")):(c$1.success("New agent added successfully!"),Je(""),We(!1),gr()),ar(!1)};return jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Call Agents"}),Me&&jsxRuntimeExports.jsx("div",{className:"bg-red-900/50 border border-red-800 text-red-300 px-4 py-3 rounded-md",children:Me}),jsxRuntimeExports.jsx("button",{onClick:()=>We(!0),className:"btn btn-primary mb-4",children:"Add New Agent"}),tr?jsxRuntimeExports.jsx("p",{children:"Loading agents..."}):jsxRuntimeExports.jsxs("table",{className:"min-w-full bg-dark-800 border border-dark-700 rounded-md overflow-hidden",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"text-left py-2 px-4 text-gray-300 border-b border-dark-700",children:"Agent ID"}),jsxRuntimeExports.jsx("th",{className:"text-left py-2 px-4 text-gray-300 border-b border-dark-700",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{children:Be.map((dr,xr)=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-dark-700",children:[jsxRuntimeExports.jsx("td",{className:"py-2 px-4 text-gray-400 border-b border-dark-700",children:dr.call_agent_id}),jsxRuntimeExports.jsx("td",{className:"py-2 px-4 text-gray-400 border-b border-dark-700 text-right text-sm font-medium",children:jsxRuntimeExports.jsx("div",{className:"flex items-center justify space-x-2",children:jsxRuntimeExports.jsx("button",{className:"text-gray-400 hover:text-red-500",onClick:()=>jr(dr),children:jsxRuntimeExports.jsx(Trash2,{size:16})})})})]},xr))})]}),He&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 w-full max-w-md",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Add New Agent"}),jsxRuntimeExports.jsx("input",{type:"text",className:"input mb-4",placeholder:"Enter Agent ID",value:Ke,onChange:dr=>Je(dr.target.value)}),$e&&jsxRuntimeExports.jsx("input",{type:"text",className:"input mb-4",placeholder:"Enter User ID",value:Qe,onChange:dr=>rr(dr.target.value)}),jsxRuntimeExports.jsx("button",{onClick:vr,className:"btn btn-primary",disabled:or,children:or?"Adding...":"Add Agent"}),jsxRuntimeExports.jsx("button",{onClick:()=>We(!1),className:"btn btn-secondary ml-2",disabled:or,children:"Cancel"})]})})]})},Settings=()=>{const[Re]=useSearchParams(),je=Re.get("tab")||"profile",_e=useNavigate(),{user:Me}=useAuthStore();useProfileStore();const{currentSubscription:$e}=useSubscriptionStore();$e?.plan_id&&["business","enterprise"].includes($e.plan_id);const ke=()=>{switch(je){case"profile":return jsxRuntimeExports.jsx(ProfileTab,{});case"billing":return jsxRuntimeExports.jsx(BillingTab,{});case"ai-agents":return jsxRuntimeExports.jsx(AIAgentsTab,{});case"integrations":return jsxRuntimeExports.jsx(IntegrationsTab,{});case"email":return jsxRuntimeExports.jsx(EmailTab,{});case"data-export":return jsxRuntimeExports.jsx(DataExportTab,{});case"notifications":return jsxRuntimeExports.jsx(NotificationsTab,{});case"call-agent-setup":return jsxRuntimeExports.jsx(CallAgentTab,{});default:return null}};return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between",children:jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-white",children:"Settings"})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"w-full md:w-64 space-y-1",children:[jsxRuntimeExports.jsx("button",{onClick:()=>_e("/settings"),className:`w-full text-left px-4 py-2 rounded-lg ${je==="profile"?"bg-primary-600 text-white":"text-gray-400 hover:bg-dark-800"}`,children:"Profile"}),jsxRuntimeExports.jsx("button",{onClick:()=>_e("/settings?tab=billing"),className:`w-full text-left px-4 py-2 rounded-lg ${je==="billing"?"bg-primary-600 text-white":"text-gray-400 hover:bg-dark-800"}`,children:"Subscription"}),jsxRuntimeExports.jsx("button",{onClick:()=>_e("/settings?tab=integrations"),className:`w-full text-left px-4 py-2 rounded-lg ${je==="integrations"?"bg-primary-600 text-white":"text-gray-400 hover:bg-dark-800"}`,children:"Integrations"}),jsxRuntimeExports.jsx("button",{onClick:()=>_e("/settings?tab=data-export"),className:`w-full text-left px-4 py-2 rounded-lg ${je==="data-export"?"bg-primary-600 text-white":"text-gray-400 hover:bg-dark-800"}`,children:"Data Export"}),jsxRuntimeExports.jsx("button",{onClick:()=>_e("/settings?tab=call-agent-setup"),className:`w-full text-left px-4 py-2 rounded-lg ${je==="call-agent-setup"?"bg-primary-600 text-white":"text-gray-400 hover:bg-dark-800"}`,children:"Call Agent Setup"}),Me?.email==="maniksharmawork@gmail.com"&&jsxRuntimeExports.jsx("button",{onClick:()=>_e("/settings?tab=waitlist"),className:`w-full text-left px-4 py-2 rounded-lg ${je==="waitlist"?"bg-primary-600 text-white":"text-gray-400 hover:bg-dark-800"}`,children:"Waitlist"})]}),jsxRuntimeExports.jsx("div",{className:"flex-1",children:ke()})]})]})},FeatureLayout=()=>jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-dark-950",children:[jsxRuntimeExports.jsx("header",{className:"bg-primary-900 py-4 px-6",children:jsxRuntimeExports.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[jsxRuntimeExports.jsxs(Link,{to:"/",className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsx("img",{src:"/logo.svg",alt:"CxTrack Logo",className:"h-10 w-10 logo-glow"}),jsxRuntimeExports.jsx("h1",{className:"brand-logo text-2xl font-bold text-white brand-text",children:"CxTrack"})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center space-x-4",children:jsxRuntimeExports.jsx(Link,{to:"/register",className:"bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-md",children:"Sign Up"})})]})}),jsxRuntimeExports.jsx("main",{className:"container mx-auto px-6 py-4",children:jsxRuntimeExports.jsx(Outlet,{})})]}),CustomerManagement=()=>jsxRuntimeExports.jsxs("div",{className:"space-y-16",children:[jsxRuntimeExports.jsx("section",{className:"bg-gradient-to-br from-primary-900 to-primary-800 rounded-2xl p-8 md:p-12",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Customer Management That Drives Growth"}),jsxRuntimeExports.jsx("p",{className:"text-primary-200 text-lg mb-6",children:"Build stronger relationships, understand your customers better, and increase retention with our comprehensive CRM solution."}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-4",children:[jsxRuntimeExports.jsx(Link,{to:"/register",className:"btn btn-primary bg-white text-primary-900 hover:bg-gray-100",children:"Start Free"}),jsxRuntimeExports.jsx(Link,{to:"/login",className:"btn btn-secondary border border-white text-white hover:bg-primary-700",children:"Learn More"})]})]}),jsxRuntimeExports.jsx("div",{className:"hidden md:block",children:jsxRuntimeExports.jsx("img",{src:"https://images.unsplash.com/photo-1552581234-26160f608093?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=800&q=80",alt:"Customer Management Dashboard",className:"rounded-lg shadow-xl"})})]})}),jsxRuntimeExports.jsxs("section",{children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-12",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Powerful Customer Management Features"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Everything you need to manage customer relationships effectively and drive business growth."})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:jsxRuntimeExports.jsx(Users,{className:"text-primary-400"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"360 Customer View"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Get a complete view of your customers including contact information, purchase history, communication logs, and more."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:jsxRuntimeExports.jsx(MessageSquare,{className:"text-primary-400"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Communication Tracking"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Log all customer interactions in one place to ensure consistent communication and follow-ups."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:jsxRuntimeExports.jsx(BarChart2,{className:"text-primary-400"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Customer Analytics"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Gain insights into customer behavior, preferences, and spending patterns to optimize your sales strategy."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:jsxRuntimeExports.jsx(Star,{className:"text-primary-400"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Customer Segmentation"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Group customers based on demographics, purchase behavior, or custom criteria for targeted marketing."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:jsxRuntimeExports.jsx(Clock,{className:"text-primary-400"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Activity Timeline"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Track the complete history of customer interactions, purchases, and support requests in chronological order."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:jsxRuntimeExports.jsx(CheckCircle,{className:"text-primary-400"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Task Management"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Create and assign follow-up tasks to ensure no customer interaction falls through the cracks."})]})]})]}),jsxRuntimeExports.jsxs("section",{className:"bg-dark-800 rounded-2xl p-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-8",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Intuitive Customer Dashboard"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Our user-friendly interface puts all customer information at your fingertips."})]}),jsxRuntimeExports.jsx("div",{className:"rounded-xl overflow-hidden shadow-2xl",children:jsxRuntimeExports.jsx("img",{src:"https://images.unsplash.com/photo-1551288049-bebda4e38f71?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1200&q=80",alt:"Customer Dashboard",className:"w-full"})})]}),jsxRuntimeExports.jsxs("section",{className:"bg-gradient-to-r from-primary-800 to-primary-900 rounded-2xl p-8 md:p-12 text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Ready to Transform Your Customer Relationships?"}),jsxRuntimeExports.jsx("p",{className:"text-primary-200 text-lg mb-8 max-w-2xl mx-auto",children:"Join thousands of businesses that use our platform to grow their customer base and increase retention."}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[jsxRuntimeExports.jsx(Link,{to:"/register",className:"btn btn-primary bg-white text-primary-900 hover:bg-gray-100 px-6 py-3",children:"Start Your Free Account"}),jsxRuntimeExports.jsx(Link,{to:"/login",className:"btn btn-secondary border border-white text-white hover:bg-primary-700 px-6 py-3",children:"Learn More"})]})]})]}),Invoicing=()=>jsxRuntimeExports.jsxs("div",{className:"space-y-16",children:[jsxRuntimeExports.jsx("section",{className:"bg-gradient-to-br from-primary-900 to-primary-800 rounded-2xl p-8 md:p-12",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Professional Invoicing Made Simple"}),jsxRuntimeExports.jsx("p",{className:"text-primary-200 text-lg mb-6",children:"Create, send, and track professional invoices in minutes. Get paid faster and improve your cash flow."}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-4",children:[jsxRuntimeExports.jsx(Link,{to:"/register",className:"btn btn-primary bg-white text-primary-900 hover:bg-gray-100",children:"Start Free"}),jsxRuntimeExports.jsx(Link,{to:"/login",className:"btn btn-secondary border border-white text-white hover:bg-primary-700",children:"View Demo"})]})]}),jsxRuntimeExports.jsx("div",{className:"hidden md:block",children:jsxRuntimeExports.jsx("img",{src:"https://images.unsplash.com/photo-1554224155-6726b3ff858f?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=800&q=80",alt:"Invoice Dashboard",className:"rounded-lg shadow-xl"})})]})}),jsxRuntimeExports.jsxs("section",{children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-12",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Powerful Invoicing Features"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Everything you need to create professional invoices and get paid faster."})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:jsxRuntimeExports.jsx(FileText,{className:"text-primary-400"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Professional Templates"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Choose from a variety of professionally designed invoice templates that reflect your brand identity."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:jsxRuntimeExports.jsx(DollarSign,{className:"text-primary-400"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Multiple Payment Options"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Accept payments via credit card, bank transfer, PayPal, and more to make it easy for customers to pay."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:jsxRuntimeExports.jsx(CreditCard,{className:"text-primary-400"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Automated Billing"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Set up recurring invoices for subscription-based services and automate your billing process."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:jsxRuntimeExports.jsx(BarChart2,{className:"text-primary-400"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Financial Reporting"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Generate detailed reports on sales, outstanding invoices, and payment history to track your business performance."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:jsxRuntimeExports.jsx(Clock,{className:"text-primary-400"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Payment Reminders"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Send automatic reminders for overdue invoices to improve your cash flow and reduce late payments."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:jsxRuntimeExports.jsx(Zap,{className:"text-primary-400"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Quick Invoice Creation"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Create and send professional invoices in minutes with our intuitive interface and time-saving features."})]})]})]}),jsxRuntimeExports.jsxs("section",{className:"bg-dark-800 rounded-2xl p-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-8",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Beautiful, Professional Invoices"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Our invoices are designed to look professional and make a great impression on your clients."})]}),jsxRuntimeExports.jsx("div",{className:"rounded-xl overflow-hidden shadow-2xl",children:jsxRuntimeExports.jsx("img",{src:"https://images.unsplash.com/photo-1633158829585-23ba8f7c8caf?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1200&q=80",alt:"Invoice Template",className:"w-full"})})]}),jsxRuntimeExports.jsxs("section",{children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-12",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"How It Works"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Our invoicing system is designed to be simple and efficient, saving you time and helping you get paid faster."})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl text-center",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-900/30 p-4 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:jsxRuntimeExports.jsx("span",{className:"text-2xl font-bold text-primary-400",children:"1"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Create Invoice"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Select a template and add your customer details, items, and payment terms."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl text-center",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-900/30 p-4 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:jsxRuntimeExports.jsx("span",{className:"text-2xl font-bold text-primary-400",children:"2"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Send Invoice"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Email the invoice directly to your customer with a personalized message."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl text-center",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-900/30 p-4 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:jsxRuntimeExports.jsx("span",{className:"text-2xl font-bold text-primary-400",children:"3"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Get Paid"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Customers can pay online through various payment methods with just a few clicks."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl text-center",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-900/30 p-4 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:jsxRuntimeExports.jsx("span",{className:"text-2xl font-bold text-primary-400",children:"4"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Track Payments"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Monitor payment status and send automatic reminders for overdue invoices."})]})]})]}),jsxRuntimeExports.jsxs("section",{className:"bg-gradient-to-r from-primary-800 to-primary-900 rounded-2xl p-8 md:p-12 text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Ready to Streamline Your Invoicing Process?"}),jsxRuntimeExports.jsx("p",{className:"text-primary-200 text-lg mb-8 max-w-2xl mx-auto",children:"Join thousands of businesses that use our platform to create professional invoices and get paid faster."}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[jsxRuntimeExports.jsx(Link,{to:"/register",className:"btn btn-primary bg-white text-primary-900 hover:bg-gray-100 px-6 py-3",children:"Start Your Free Account"}),jsxRuntimeExports.jsx(Link,{to:"/login",className:"btn btn-secondary border border-white text-white hover:bg-primary-700 px-6 py-3",children:"Learn More"})]})]})]}),InventoryTracking=()=>jsxRuntimeExports.jsxs("div",{className:"space-y-16",children:[jsxRuntimeExports.jsx("section",{className:"bg-gradient-to-br from-primary-900 to-primary-800 rounded-2xl p-8 md:p-12",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Smart Inventory Management"}),jsxRuntimeExports.jsx("p",{className:"text-primary-200 text-lg mb-6",children:"Track stock levels, monitor product movement, and optimize your inventory with our powerful management system."}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-4",children:[jsxRuntimeExports.jsx(Link,{to:"/register",className:"btn btn-primary bg-white text-primary-900 hover:bg-gray-100",children:"Start Free"}),jsxRuntimeExports.jsx(Link,{to:"/login",className:"btn btn-secondary border border-white text-white hover:bg-primary-700",children:"View Demo"})]})]}),jsxRuntimeExports.jsx("div",{className:"hidden md:block",children:jsxRuntimeExports.jsx("img",{src:"https://images.unsplash.com/photo-1553413077-190dd305871c?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=800&q=80",alt:"Inventory Management",className:"rounded-lg shadow-xl"})})]})}),jsxRuntimeExports.jsxs("section",{children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-12",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Powerful Inventory Features"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Everything you need to manage your inventory efficiently and prevent stockouts."})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:jsxRuntimeExports.jsx(Package,{className:"text-primary-400"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Real-time Stock Tracking"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Monitor your inventory levels in real-time across multiple locations to prevent stockouts and overstock situations."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:jsxRuntimeExports.jsx(AlertTriangle,{className:"text-primary-400"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Low Stock Alerts"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Receive automatic notifications when inventory levels fall below your specified thresholds to ensure timely reordering."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:jsxRuntimeExports.jsx(BarChart2,{className:"text-primary-400"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Inventory Analytics"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Gain insights into inventory turnover, product performance, and seasonal trends to optimize your stock levels."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:jsxRuntimeExports.jsx(Truck,{className:"text-primary-400"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Purchase Order Management"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Create and track purchase orders, manage supplier information, and streamline your procurement process."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:jsxRuntimeExports.jsx(RefreshCw,{className:"text-primary-400"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Automated Reordering"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Set up automatic reorder points and generate purchase orders when stock levels reach the reorder threshold."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:jsxRuntimeExports.jsx(TrendingUp,{className:"text-primary-400"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Demand Forecasting"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Use historical data and advanced algorithms to predict future demand and optimize your inventory levels."})]})]})]}),jsxRuntimeExports.jsxs("section",{className:"bg-dark-800 rounded-2xl p-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-8",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Intuitive Inventory Dashboard"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Our user-friendly dashboard gives you a complete overview of your inventory at a glance."})]}),jsxRuntimeExports.jsx("div",{className:"rounded-xl overflow-hidden shadow-2xl",children:jsxRuntimeExports.jsx("img",{src:"https://images.unsplash.com/photo-1460925895917-afdab827c52f?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1200&q=80",alt:"Inventory Dashboard",className:"w-full"})})]}),jsxRuntimeExports.jsxs("section",{children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-12",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Benefits of Our Inventory System"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"See how our inventory management solution can transform your business operations."})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Reduce Carrying Costs"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 mb-4",children:"Optimize your inventory levels to reduce storage costs, insurance, and capital tied up in excess inventory."}),jsxRuntimeExports.jsxs("ul",{className:"space-y-2 text-gray-400",children:[jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx("span",{className:"text-green-500 mr-2",children:""}),jsxRuntimeExports.jsx("span",{children:"Lower warehouse space requirements"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx("span",{className:"text-green-500 mr-2",children:""}),jsxRuntimeExports.jsx("span",{children:"Reduced insurance costs"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx("span",{className:"text-green-500 mr-2",children:""}),jsxRuntimeExports.jsx("span",{children:"Less capital tied up in inventory"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Prevent Stockouts"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 mb-4",children:"Ensure you never miss a sale due to out-of-stock items with real-time tracking and automated alerts."}),jsxRuntimeExports.jsxs("ul",{className:"space-y-2 text-gray-400",children:[jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx("span",{className:"text-green-500 mr-2",children:""}),jsxRuntimeExports.jsx("span",{children:"Automated low stock notifications"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx("span",{className:"text-green-500 mr-2",children:""}),jsxRuntimeExports.jsx("span",{children:"Timely reordering suggestions"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx("span",{className:"text-green-500 mr-2",children:""}),jsxRuntimeExports.jsx("span",{children:"Improved customer satisfaction"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Streamline Operations"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 mb-4",children:"Automate manual processes and improve efficiency across your inventory management workflow."}),jsxRuntimeExports.jsxs("ul",{className:"space-y-2 text-gray-400",children:[jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx("span",{className:"text-green-500 mr-2",children:""}),jsxRuntimeExports.jsx("span",{children:"Automated purchase orders"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx("span",{className:"text-green-500 mr-2",children:""}),jsxRuntimeExports.jsx("span",{children:"Barcode scanning capabilities"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx("span",{className:"text-green-500 mr-2",children:""}),jsxRuntimeExports.jsx("span",{children:"Reduced manual data entry"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Data-Driven Decisions"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 mb-4",children:"Make informed inventory decisions based on accurate data and powerful analytics."}),jsxRuntimeExports.jsxs("ul",{className:"space-y-2 text-gray-400",children:[jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx("span",{className:"text-green-500 mr-2",children:""}),jsxRuntimeExports.jsx("span",{children:"Detailed inventory reports"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx("span",{className:"text-green-500 mr-2",children:""}),jsxRuntimeExports.jsx("span",{children:"Product performance metrics"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx("span",{className:"text-green-500 mr-2",children:""}),jsxRuntimeExports.jsx("span",{children:"Seasonal trend analysis"})]})]})]})]})]}),jsxRuntimeExports.jsxs("section",{className:"bg-gradient-to-r from-primary-800 to-primary-900 rounded-2xl p-8 md:p-12 text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Ready to Optimize Your Inventory Management?"}),jsxRuntimeExports.jsx("p",{className:"text-primary-200 text-lg mb-8 max-w-2xl mx-auto",children:"Join thousands of businesses that use our platform to streamline their inventory operations and boost profitability."}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[jsxRuntimeExports.jsx(Link,{to:"/register",className:"btn btn-primary bg-white text-primary-900 hover:bg-gray-100 px-6 py-3",children:"Start Your Free Account"}),jsxRuntimeExports.jsx(Link,{to:"/login",className:"btn btn-secondary border border-white text-white hover:bg-primary-700 px-6 py-3",children:"Learn More"})]})]})]}),Sales=()=>jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-dark-950",children:[jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-b from-primary-900 to-primary-800 py-16",children:jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4",children:jsxRuntimeExports.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Research, Prospect, Close"}),jsxRuntimeExports.jsx("p",{className:"text-xl text-primary-200",children:"Supercharge your sales process with AI-powered automation and insights."})]})})}),jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4 py-16",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[jsxRuntimeExports.jsx("img",{src:"https://images.unsplash.com/photo-1552581234-26160f608093?auto=format&fit=crop&w=800&q=80",alt:"Prospect Research",className:"w-full h-48 object-cover rounded-lg mb-6"}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"Quickly understand your prospects"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 mb-4",children:"Your AI teammate can easily find, summarize, and store information about your prospects."}),jsxRuntimeExports.jsxs(Link,{to:"/features/ai-growth-partner",className:"inline-flex items-center text-primary-400 hover:text-primary-300",children:["Learn more ",jsxRuntimeExports.jsx(ChevronRight,{size:16,className:"ml-1"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[jsxRuntimeExports.jsx("img",{src:"https://images.unsplash.com/photo-1553413077-190dd305871c?auto=format&fit=crop&w=800&q=80",alt:"Personalized Prospecting",className:"w-full h-48 object-cover rounded-lg mb-6"}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"Personalized prospecting"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 mb-4",children:"Develop personalized emails and scripts following your playbook."}),jsxRuntimeExports.jsxs(Link,{to:"/features/ai-growth-partner",className:"inline-flex items-center text-primary-400 hover:text-primary-300",children:["Learn more ",jsxRuntimeExports.jsx(ChevronRight,{size:16,className:"ml-1"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[jsxRuntimeExports.jsx("img",{src:"https://images.unsplash.com/photo-1552664730-d307ca884978?auto=format&fit=crop&w=800&q=80",alt:"Close Deals",className:"w-full h-48 object-cover rounded-lg mb-6"}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"Close the deal"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 mb-4",children:"Your AI teammate can book meetings, always making sure your CRM is up to date."}),jsxRuntimeExports.jsxs(Link,{to:"/features/ai-growth-partner",className:"inline-flex items-center text-primary-400 hover:text-primary-300",children:["Learn more ",jsxRuntimeExports.jsx(ChevronRight,{size:16,className:"ml-1"})]})]})]})}),jsxRuntimeExports.jsx("div",{className:"bg-dark-900 py-16",children:jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-white text-center mb-12",children:"Key Features"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[{title:"AI-Powered Research",description:"Automatically gather and analyze prospect information from multiple sources."},{title:"Smart Outreach",description:"Generate personalized outreach messages based on prospect data and engagement history."},{title:"Meeting Scheduling",description:"Automate meeting scheduling with smart availability detection and reminders."},{title:"Deal Intelligence",description:"Get AI-powered insights and recommendations to close deals faster."},{title:"CRM Integration",description:"Seamlessly sync all activities and data with your existing CRM system."},{title:"Performance Analytics",description:"Track and analyze sales performance with detailed metrics and insights."}].map((Re,je)=>jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 border border-dark-700",children:[jsxRuntimeExports.jsx(Bot,{className:"text-primary-500 mb-4",size:24}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:Re.title}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:Re.description})]},je))})]})}),jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4 py-16",children:jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-r from-primary-800 to-primary-900 rounded-2xl p-8 md:p-12 text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Ready to Transform Your Sales Process?"}),jsxRuntimeExports.jsx("p",{className:"text-primary-200 text-lg mb-8 max-w-2xl mx-auto",children:"Join thousands of businesses using our AI-powered sales automation to close more deals."}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[jsxRuntimeExports.jsx(Link,{to:"/register",className:"btn btn-primary bg-white text-primary-900 hover:bg-gray-100 px-6 py-3",children:"Start Free Trial"}),jsxRuntimeExports.jsx(Link,{to:"/contact",className:"btn btn-secondary border border-white text-white hover:bg-primary-700 px-6 py-3",children:"Schedule Demo"})]})]})})]}),Marketing=()=>jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-dark-950",children:[jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-b from-primary-900 to-primary-800 py-16",children:jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4",children:jsxRuntimeExports.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Research, Create Content, Nurture Leads"}),jsxRuntimeExports.jsx("p",{className:"text-xl text-primary-200",children:"Supercharge your marketing efforts with AI-powered content creation and lead nurturing."})]})})}),jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4 py-16",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[jsxRuntimeExports.jsx("img",{src:"https://images.unsplash.com/photo-1551288049-bebda4e38f71?auto=format&fit=crop&w=800&q=80",alt:"Customer Research",className:"w-full h-48 object-cover rounded-lg mb-6"}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"Quickly understand your customers and prospects"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 mb-4",children:"Your AI teammate can easily summarize insights and share with your team. From industry reports to user interviews."}),jsxRuntimeExports.jsxs(Link,{to:"/features/ai-growth-partner",className:"inline-flex items-center text-primary-400 hover:text-primary-300",children:["Learn more ",jsxRuntimeExports.jsx(ChevronRight,{size:16,className:"ml-1"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[jsxRuntimeExports.jsx("img",{src:"https://images.unsplash.com/photo-1542435503-956c469947f6?auto=format&fit=crop&w=800&q=80",alt:"Content Creation",className:"w-full h-48 object-cover rounded-lg mb-6"}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"Content Creation"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 mb-4",children:"Develop unique content based on your own data, style, research, and guidelines."}),jsxRuntimeExports.jsxs(Link,{to:"/features/ai-growth-partner",className:"inline-flex items-center text-primary-400 hover:text-primary-300",children:["Learn more ",jsxRuntimeExports.jsx(ChevronRight,{size:16,className:"ml-1"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[jsxRuntimeExports.jsx("img",{src:"https://images.unsplash.com/photo-1557804506-669a67965ba0?auto=format&fit=crop&w=800&q=80",alt:"Lead Nurturing",className:"w-full h-48 object-cover rounded-lg mb-6"}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"Nurture leads"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 mb-4",children:"Your AI teammate can develop personalized nurture sequences. Never let a lead go cold again."}),jsxRuntimeExports.jsxs(Link,{to:"/features/ai-growth-partner",className:"inline-flex items-center text-primary-400 hover:text-primary-300",children:["Learn more ",jsxRuntimeExports.jsx(ChevronRight,{size:16,className:"ml-1"})]})]})]})}),jsxRuntimeExports.jsx("div",{className:"bg-dark-900 py-16",children:jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-white text-center mb-12",children:"Key Features"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[{title:"Market Research",description:"AI-powered research and analysis of market trends and competitor data."},{title:"Content Generation",description:"Create engaging content that resonates with your target audience."},{title:"Social Media Management",description:"Schedule and optimize posts across multiple platforms."},{title:"Email Marketing",description:"Design and execute personalized email campaigns."},{title:"Analytics & Reporting",description:"Track campaign performance and generate detailed reports."},{title:"Lead Scoring",description:"Automatically score and prioritize leads based on engagement."}].map((Re,je)=>jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 border border-dark-700",children:[jsxRuntimeExports.jsx(Bot,{className:"text-primary-500 mb-4",size:24}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:Re.title}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:Re.description})]},je))})]})}),jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4 py-16",children:jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-r from-primary-800 to-primary-900 rounded-2xl p-8 md:p-12 text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Ready to Transform Your Marketing?"}),jsxRuntimeExports.jsx("p",{className:"text-primary-200 text-lg mb-8 max-w-2xl mx-auto",children:"Join thousands of businesses using our AI-powered marketing automation to drive growth."}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[jsxRuntimeExports.jsx(Link,{to:"/register",className:"btn btn-primary bg-white text-primary-900 hover:bg-gray-100 px-6 py-3",children:"Start Free Trial"}),jsxRuntimeExports.jsx(Link,{to:"/contact",className:"btn btn-secondary border border-white text-white hover:bg-primary-700 px-6 py-3",children:"Schedule Demo"})]})]})})]}),CustomerSupport=()=>jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-dark-950",children:[jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-b from-primary-900 to-primary-800 py-16",children:jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4",children:jsxRuntimeExports.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Triage, Respond, Escalate"}),jsxRuntimeExports.jsx("p",{className:"text-xl text-primary-200",children:"Deliver exceptional customer support with AI-powered automation and insights."})]})})}),jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4 py-16",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[jsxRuntimeExports.jsx("img",{src:"https://images.unsplash.com/photo-1549923746-c502d488b3ea?auto=format&fit=crop&w=800&q=80",alt:"Triage",className:"w-full h-48 object-cover rounded-lg mb-6"}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"Triage your customer enquiries"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 mb-4",children:"Your AI teammate can classify your enquiries so they always end up at the right place."}),jsxRuntimeExports.jsxs(Link,{to:"/features/ai-growth-partner",className:"inline-flex items-center text-primary-400 hover:text-primary-300",children:["Learn more ",jsxRuntimeExports.jsx(ChevronRight,{size:16,className:"ml-1"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[jsxRuntimeExports.jsx("img",{src:"https://images.unsplash.com/photo-1573496359142-b8d87734a5a2?auto=format&fit=crop&w=800&q=80",alt:"Respond",className:"w-full h-48 object-cover rounded-lg mb-6"}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"Respond"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 mb-4",children:"Equipped with FAQs your AI teammate can answer commonly asked questions."}),jsxRuntimeExports.jsxs(Link,{to:"/features/ai-growth-partner",className:"inline-flex items-center text-primary-400 hover:text-primary-300",children:["Learn more ",jsxRuntimeExports.jsx(ChevronRight,{size:16,className:"ml-1"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[jsxRuntimeExports.jsx("img",{src:"https://images.unsplash.com/photo-1521791136064-7986c2920216?auto=format&fit=crop&w=800&q=80",alt:"Escalate",className:"w-full h-48 object-cover rounded-lg mb-6"}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"Escalate"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 mb-4",children:"For complex enquiries your AI teammate can summarize the enquiry, enrich the customers details, and escalate to a team member."}),jsxRuntimeExports.jsxs(Link,{to:"/features/ai-growth-partner",className:"inline-flex items-center text-primary-400 hover:text-primary-300",children:["Learn more ",jsxRuntimeExports.jsx(ChevronRight,{size:16,className:"ml-1"})]})]})]})}),jsxRuntimeExports.jsx("div",{className:"bg-dark-900 py-16",children:jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-white text-center mb-12",children:"Key Features"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[{title:"Smart Ticket Routing",description:"Automatically categorize and route support tickets to the right team."},{title:"Automated Responses",description:"Generate accurate responses to common customer inquiries."},{title:"Knowledge Base Integration",description:"Seamlessly connect with your existing knowledge base."},{title:"Sentiment Analysis",description:"Detect customer sentiment and prioritize urgent issues."},{title:"Multi-channel Support",description:"Handle inquiries across email, chat, and social media."},{title:"Performance Analytics",description:"Track support metrics and team performance in real-time."}].map((Re,je)=>jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 border border-dark-700",children:[jsxRuntimeExports.jsx(Bot,{className:"text-primary-500 mb-4",size:24}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:Re.title}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:Re.description})]},je))})]})}),jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4 py-16",children:jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-r from-primary-800 to-primary-900 rounded-2xl p-8 md:p-12 text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Ready to Transform Your Customer Support?"}),jsxRuntimeExports.jsx("p",{className:"text-primary-200 text-lg mb-8 max-w-2xl mx-auto",children:"Join thousands of businesses using our AI-powered customer support automation."}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[jsxRuntimeExports.jsx(Link,{to:"/register",className:"btn btn-primary bg-white text-primary-900 hover:bg-gray-100 px-6 py-3",children:"Start Free Trial"}),jsxRuntimeExports.jsx(Link,{to:"/contact",className:"btn btn-secondary border border-white text-white hover:bg-primary-700 px-6 py-3",children:"Schedule Demo"})]})]})})]}),Research=()=>jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-dark-950",children:[jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-b from-primary-900 to-primary-800 py-16",children:jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4",children:jsxRuntimeExports.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Research, Analyze, Discover"}),jsxRuntimeExports.jsx("p",{className:"text-xl text-primary-200",children:"Unlock powerful insights with AI-powered research and analysis."})]})})}),jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4 py-16",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[jsxRuntimeExports.jsx("img",{src:"https://images.unsplash.com/photo-1460925895917-afdab827c52f?auto=format&fit=crop&w=800&q=80",alt:"Market Research",className:"w-full h-48 object-cover rounded-lg mb-6"}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"Market Research"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 mb-4",children:"Your AI teammate can analyze market trends, competitor data, and industry reports."}),jsxRuntimeExports.jsxs(Link,{to:"/features/ai-growth-partner",className:"inline-flex items-center text-primary-400 hover:text-primary-300",children:["Learn more ",jsxRuntimeExports.jsx(ChevronRight,{size:16,className:"ml-1"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[jsxRuntimeExports.jsx("img",{src:"https://images.unsplash.com/photo-1551288049-bebda4e38f71?auto=format&fit=crop&w=800&q=80",alt:"Data Analysis",className:"w-full h-48 object-cover rounded-lg mb-6"}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"Data Analysis"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 mb-4",children:"Process and analyze large datasets to uncover valuable insights and patterns."}),jsxRuntimeExports.jsxs(Link,{to:"/features/ai-growth-partner",className:"inline-flex items-center text-primary-400 hover:text-primary-300",children:["Learn more ",jsxRuntimeExports.jsx(ChevronRight,{size:16,className:"ml-1"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[jsxRuntimeExports.jsx("img",{src:"https://images.unsplash.com/photo-1551434678-e076c223a692?auto=format&fit=crop&w=800&q=80",alt:"Insights Generation",className:"w-full h-48 object-cover rounded-lg mb-6"}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"Insights Generation"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 mb-4",children:"Generate actionable insights and recommendations from your research findings."}),jsxRuntimeExports.jsxs(Link,{to:"/features/ai-growth-partner",className:"inline-flex items-center text-primary-400 hover:text-primary-300",children:["Learn more ",jsxRuntimeExports.jsx(ChevronRight,{size:16,className:"ml-1"})]})]})]})}),jsxRuntimeExports.jsx("div",{className:"bg-dark-900 py-16",children:jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-white text-center mb-12",children:"Key Features"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[{title:"Smart Data Collection",description:"Automatically gather data from multiple sources and formats."},{title:"Advanced Analytics",description:"Process and analyze data using cutting-edge AI algorithms."},{title:"Trend Detection",description:"Identify emerging trends and patterns in your market."},{title:"Competitor Analysis",description:"Track and analyze competitor activities and strategies."},{title:"Custom Reports",description:"Generate detailed reports tailored to your needs."},{title:"Real-time Monitoring",description:"Stay updated with real-time market and industry changes."}].map((Re,je)=>jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 border border-dark-700",children:[jsxRuntimeExports.jsx(Bot,{className:"text-primary-500 mb-4",size:24}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:Re.title}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:Re.description})]},je))})]})}),jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4 py-16",children:jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-r from-primary-800 to-primary-900 rounded-2xl p-8 md:p-12 text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Ready to Unlock Powerful Insights?"}),jsxRuntimeExports.jsx("p",{className:"text-primary-200 text-lg mb-8 max-w-2xl mx-auto",children:"Join thousands of businesses using our AI-powered research platform."}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[jsxRuntimeExports.jsx(Link,{to:"/register",className:"btn btn-primary bg-white text-primary-900 hover:bg-gray-100 px-6 py-3",children:"Start Free Trial"}),jsxRuntimeExports.jsx(Link,{to:"/contact",className:"btn btn-secondary border border-white text-white hover:bg-primary-700 px-6 py-3",children:"Schedule Demo"})]})]})})]}),Operations=()=>jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-dark-950",children:[jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-b from-primary-900 to-primary-800 py-16",children:jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4",children:jsxRuntimeExports.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Triage, Inform, Resolve"}),jsxRuntimeExports.jsx("p",{className:"text-xl text-primary-200",children:"Streamline your operations with AI-powered automation and workflow management."})]})})}),jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4 py-16",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[jsxRuntimeExports.jsx("img",{src:"https://images.unsplash.com/photo-1531973576160-7125cd663d86?auto=format&fit=crop&w=800&q=80",alt:"Service Desk",className:"w-full h-48 object-cover rounded-lg mb-6"}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"Triage your service desk"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 mb-4",children:"Categorize your service desk requests and get them to the right place."}),jsxRuntimeExports.jsxs(Link,{to:"/features/ai-growth-partner",className:"inline-flex items-center text-primary-400 hover:text-primary-300",children:["Learn more ",jsxRuntimeExports.jsx(ChevronRight,{size:16,className:"ml-1"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[jsxRuntimeExports.jsx("img",{src:"https://images.unsplash.com/photo-1552664730-d307ca884978?auto=format&fit=crop&w=800&q=80",alt:"Team Communication",className:"w-full h-48 object-cover rounded-lg mb-6"}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"Keep everyone informed"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 mb-4",children:"Autonomously communicate updates to stakeholders."}),jsxRuntimeExports.jsxs(Link,{to:"/features/ai-growth-partner",className:"inline-flex items-center text-primary-400 hover:text-primary-300",children:["Learn more ",jsxRuntimeExports.jsx(ChevronRight,{size:16,className:"ml-1"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[jsxRuntimeExports.jsx("img",{src:"https://images.unsplash.com/photo-1454165804606-c3d57bc86b40?auto=format&fit=crop&w=800&q=80",alt:"Issue Resolution",className:"w-full h-48 object-cover rounded-lg mb-6"}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"Resolve"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 mb-4",children:"Ensure requests are resolved and logged."}),jsxRuntimeExports.jsxs(Link,{to:"/features/ai-growth-partner",className:"inline-flex items-center text-primary-400 hover:text-primary-300",children:["Learn more ",jsxRuntimeExports.jsx(ChevronRight,{size:16,className:"ml-1"})]})]})]})}),jsxRuntimeExports.jsx("div",{className:"bg-dark-900 py-16",children:jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-white text-center mb-12",children:"Key Features"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[{title:"Workflow Automation",description:"Automate repetitive tasks and streamline operations."},{title:"Smart Routing",description:"Intelligently route requests to the right team or person."},{title:"Status Tracking",description:"Real-time tracking of request status and progress."},{title:"Team Collaboration",description:"Enhanced team communication and coordination."},{title:"Performance Metrics",description:"Track and analyze operational performance."},{title:"Custom Workflows",description:"Create and optimize workflows for your needs."}].map((Re,je)=>jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 border border-dark-700",children:[jsxRuntimeExports.jsx(Bot,{className:"text-primary-500 mb-4",size:24}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:Re.title}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:Re.description})]},je))})]})}),jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4 py-16",children:jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-r from-primary-800 to-primary-900 rounded-2xl p-8 md:p-12 text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Ready to Streamline Your Operations?"}),jsxRuntimeExports.jsx("p",{className:"text-primary-200 text-lg mb-8 max-w-2xl mx-auto",children:"Join thousands of businesses using our AI-powered operations platform."}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[jsxRuntimeExports.jsx(Link,{to:"/register",className:"btn btn-primary bg-white text-primary-900 hover:bg-gray-100 px-6 py-3",children:"Start Free Trial"}),jsxRuntimeExports.jsx(Link,{to:"/contact",className:"btn btn-secondary border border-white text-white hover:bg-primary-700 px-6 py-3",children:"Schedule Demo"})]})]})})]}),AIAgent=()=>jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-dark-950",children:[jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-b from-primary-900 to-primary-800 py-16",children:jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4",children:jsxRuntimeExports.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Your Dedicated AI Agent"}),jsxRuntimeExports.jsx("p",{className:"text-xl text-primary-200",children:"Empower your business with a focused AI agent that excels at specific tasks, delivering consistent results around the clock."})]})})}),jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4 py-16",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[jsxRuntimeExports.jsx(Bot,{className:"text-primary-500 mb-4 h-8 w-8"}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"Specialized Focus"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Each AI agent is trained to excel at a specific task, ensuring high-quality, consistent results in their area of expertise."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[jsxRuntimeExports.jsx(Brain,{className:"text-primary-500 mb-4 h-8 w-8"}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"Continuous Learning"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Your AI agent learns from each interaction, constantly improving its performance and adapting to your business needs."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[jsxRuntimeExports.jsx(Zap,{className:"text-primary-500 mb-4 h-8 w-8"}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"24/7 Availability"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Never miss an opportunity with an AI agent that's always on duty, handling tasks around the clock."})]})]})}),jsxRuntimeExports.jsx("div",{className:"bg-dark-900 py-16",children:jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-white text-center mb-12",children:"Specialized AI Agents"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Collections Agent"}),jsxRuntimeExports.jsxs("ul",{className:"space-y-3 text-gray-400",children:[jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(ChevronRight,{className:"text-primary-500 mt-1 mr-2",size:16}),jsxRuntimeExports.jsx("span",{children:"Automated payment follow-ups and reminders"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(ChevronRight,{className:"text-primary-500 mt-1 mr-2",size:16}),jsxRuntimeExports.jsx("span",{children:"Intelligent payment plan negotiations"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(ChevronRight,{className:"text-primary-500 mt-1 mr-2",size:16}),jsxRuntimeExports.jsx("span",{children:"Real-time payment processing"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Customer Service Agent"}),jsxRuntimeExports.jsxs("ul",{className:"space-y-3 text-gray-400",children:[jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(ChevronRight,{className:"text-primary-500 mt-1 mr-2",size:16}),jsxRuntimeExports.jsx("span",{children:"24/7 customer inquiry handling"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(ChevronRight,{className:"text-primary-500 mt-1 mr-2",size:16}),jsxRuntimeExports.jsx("span",{children:"Smart ticket routing and escalation"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(ChevronRight,{className:"text-primary-500 mt-1 mr-2",size:16}),jsxRuntimeExports.jsx("span",{children:"Automated issue resolution"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Sales Agent"}),jsxRuntimeExports.jsxs("ul",{className:"space-y-3 text-gray-400",children:[jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(ChevronRight,{className:"text-primary-500 mt-1 mr-2",size:16}),jsxRuntimeExports.jsx("span",{children:"Lead qualification and scoring"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(ChevronRight,{className:"text-primary-500 mt-1 mr-2",size:16}),jsxRuntimeExports.jsx("span",{children:"Automated follow-up sequences"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(ChevronRight,{className:"text-primary-500 mt-1 mr-2",size:16}),jsxRuntimeExports.jsx("span",{children:"Meeting scheduling and coordination"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Research Agent"}),jsxRuntimeExports.jsxs("ul",{className:"space-y-3 text-gray-400",children:[jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(ChevronRight,{className:"text-primary-500 mt-1 mr-2",size:16}),jsxRuntimeExports.jsx("span",{children:"Market and competitor analysis"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(ChevronRight,{className:"text-primary-500 mt-1 mr-2",size:16}),jsxRuntimeExports.jsx("span",{children:"Data gathering and synthesis"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(ChevronRight,{className:"text-primary-500 mt-1 mr-2",size:16}),jsxRuntimeExports.jsx("span",{children:"Trend identification and reporting"})]})]})]})]})]})}),jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4 py-16",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-white text-center mb-12",children:"Why Choose a Dedicated AI Agent?"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[{title:"Focused Expertise",description:"Get better results with an AI agent that specializes in one specific task or domain."},{title:"Consistent Performance",description:"Maintain high quality standards with an agent that never gets tired or distracted."},{title:"Scalable Operations",description:"Handle increasing workloads without adding overhead or compromising quality."},{title:"Cost Effective",description:"Reduce operational costs while maintaining or improving service quality."},{title:"Quick Implementation",description:"Get started quickly with pre-trained agents ready for your specific needs."},{title:"Continuous Improvement",description:"Benefit from an agent that learns and improves from every interaction."}].map((Re,je)=>jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 border border-dark-700",children:[jsxRuntimeExports.jsx(Bot,{className:"text-primary-500 mb-4",size:24}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:Re.title}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:Re.description})]},je))})]}),jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4 py-16",children:jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-r from-primary-800 to-primary-900 rounded-2xl p-8 md:p-12 text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Ready to Get Your Dedicated AI Agent?"}),jsxRuntimeExports.jsx("p",{className:"text-primary-200 text-lg mb-8 max-w-2xl mx-auto",children:"Start with a specialized AI agent today and experience the power of focused automation."}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[jsxRuntimeExports.jsx(Link,{to:"/register",className:"btn btn-primary bg-white text-primary-900 hover:bg-gray-100 px-6 py-3",children:"Start Free Trial"}),jsxRuntimeExports.jsx(Link,{to:"/contact",className:"btn btn-secondary border border-white text-white hover:bg-primary-700 px-6 py-3",children:"Schedule Demo"})]})]})})]}),AIWorkforce=()=>jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-dark-950",children:[jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-b from-primary-900 to-primary-800 py-16",children:jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4",children:jsxRuntimeExports.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"The Future of Work: AI Workforce"}),jsxRuntimeExports.jsx("p",{className:"text-xl text-primary-200",children:"Experience the power of a coordinated team of AI agents working together to drive your business forward."})]})})}),jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4 py-16",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[jsxRuntimeExports.jsx(Network,{className:"text-primary-500 mb-4 h-8 w-8"}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"Seamless Collaboration"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"AI agents work together in perfect harmony, sharing information and coordinating tasks automatically."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[jsxRuntimeExports.jsx(Brain,{className:"text-primary-500 mb-4 h-8 w-8"}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"Collective Intelligence"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Each agent contributes its specialized knowledge to create a powerful collective intelligence."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[jsxRuntimeExports.jsx(Zap,{className:"text-primary-500 mb-4 h-8 w-8"}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"Automated Workflows"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Tasks flow seamlessly between agents, creating efficient, automated processes."})]})]})}),jsxRuntimeExports.jsx("div",{className:"bg-dark-900 py-16",children:jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-white text-center mb-12",children:"How AI Workforce Works"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Task Distribution"}),jsxRuntimeExports.jsxs("ul",{className:"space-y-3 text-gray-400",children:[jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(ChevronRight,{className:"text-primary-500 mt-1 mr-2",size:16}),jsxRuntimeExports.jsx("span",{children:"AI agents automatically distribute tasks based on specialization"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(ChevronRight,{className:"text-primary-500 mt-1 mr-2",size:16}),jsxRuntimeExports.jsx("span",{children:"Smart workload balancing ensures optimal performance"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(ChevronRight,{className:"text-primary-500 mt-1 mr-2",size:16}),jsxRuntimeExports.jsx("span",{children:"Real-time task prioritization and adjustment"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Information Sharing"}),jsxRuntimeExports.jsxs("ul",{className:"space-y-3 text-gray-400",children:[jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(ChevronRight,{className:"text-primary-500 mt-1 mr-2",size:16}),jsxRuntimeExports.jsx("span",{children:"Seamless data exchange between AI agents"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(ChevronRight,{className:"text-primary-500 mt-1 mr-2",size:16}),jsxRuntimeExports.jsx("span",{children:"Contextual awareness across the entire workforce"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(ChevronRight,{className:"text-primary-500 mt-1 mr-2",size:16}),jsxRuntimeExports.jsx("span",{children:"Continuous knowledge base updates"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Process Optimization"}),jsxRuntimeExports.jsxs("ul",{className:"space-y-3 text-gray-400",children:[jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(ChevronRight,{className:"text-primary-500 mt-1 mr-2",size:16}),jsxRuntimeExports.jsx("span",{children:"AI-driven workflow improvements"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(ChevronRight,{className:"text-primary-500 mt-1 mr-2",size:16}),jsxRuntimeExports.jsx("span",{children:"Automated bottleneck detection"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(ChevronRight,{className:"text-primary-500 mt-1 mr-2",size:16}),jsxRuntimeExports.jsx("span",{children:"Continuous process refinement"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Human Collaboration"}),jsxRuntimeExports.jsxs("ul",{className:"space-y-3 text-gray-400",children:[jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(ChevronRight,{className:"text-primary-500 mt-1 mr-2",size:16}),jsxRuntimeExports.jsx("span",{children:"Seamless integration with human teams"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(ChevronRight,{className:"text-primary-500 mt-1 mr-2",size:16}),jsxRuntimeExports.jsx("span",{children:"Smart escalation to human operators"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(ChevronRight,{className:"text-primary-500 mt-1 mr-2",size:16}),jsxRuntimeExports.jsx("span",{children:"Collaborative decision-making"})]})]})]})]})]})}),jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4 py-16",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-white text-center mb-12",children:"Benefits of an AI Workforce"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[{title:"Enhanced Efficiency",description:"Multiple AI agents working together complete tasks faster than traditional methods."},{title:"Reduced Costs",description:"Scale operations without the overhead of traditional workforce expansion."},{title:"24/7 Operations",description:"Your AI workforce never sleeps, ensuring continuous business operations."},{title:"Error Reduction",description:"Coordinated AI agents double-check each other's work for accuracy."},{title:"Scalable Solution",description:"Easily add or modify AI agents as your business needs change."},{title:"Future-Proof",description:"Stay ahead with a workforce that continuously learns and evolves."}].map((Re,je)=>jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 border border-dark-700",children:[jsxRuntimeExports.jsx(Bot,{className:"text-primary-500 mb-4",size:24}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:Re.title}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:Re.description})]},je))})]}),jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4 py-16",children:jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-r from-primary-800 to-primary-900 rounded-2xl p-8 md:p-12 text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Ready to Build Your AI Workforce?"}),jsxRuntimeExports.jsx("p",{className:"text-primary-200 text-lg mb-8 max-w-2xl mx-auto",children:"Join the future of work with our coordinated AI workforce solution."}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[jsxRuntimeExports.jsx(Link,{to:"/register",className:"btn btn-primary bg-white text-primary-900 hover:bg-gray-100 px-6 py-3",children:"Start Free Trial"}),jsxRuntimeExports.jsx(Link,{to:"/contact",className:"btn btn-secondary border border-white text-white hover:bg-primary-700 px-6 py-3",children:"Schedule Demo"})]})]})})]}),AITools=()=>jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-dark-950",children:[jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-b from-primary-900 to-primary-800 py-16",children:jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4",children:jsxRuntimeExports.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"AI Tools for Every Task"}),jsxRuntimeExports.jsx("p",{className:"text-xl text-primary-200",children:"A comprehensive suite of AI-powered tools to automate and enhance your business processes."})]})})}),jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4 py-16",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-xl p-6 border border-dark-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-4",children:[jsxRuntimeExports.jsx(PenTool,{className:"text-primary-500 mr-3",size:24}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white",children:"YouTube Video File"})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 mb-4",children:"Extract direct video file URLs from YouTube links for easy downloading and processing."}),jsxRuntimeExports.jsxs(Link,{to:"/tools/youtube-video",className:"text-primary-400 hover:text-primary-300 flex items-center",children:["Learn more ",jsxRuntimeExports.jsx(ChevronRight,{size:16,className:"ml-1"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-xl p-6 border border-dark-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-4",children:[jsxRuntimeExports.jsx(PenTool,{className:"text-primary-500 mr-3",size:24}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white",children:"Form Recognizer"})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 mb-4",children:"Extract text and data from documents using advanced OCR technology."}),jsxRuntimeExports.jsxs(Link,{to:"/tools/form-recognizer",className:"text-primary-400 hover:text-primary-300 flex items-center",children:["Learn more ",jsxRuntimeExports.jsx(ChevronRight,{size:16,className:"ml-1"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-xl p-6 border border-dark-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-4",children:[jsxRuntimeExports.jsx(PenTool,{className:"text-primary-500 mr-3",size:24}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white",children:"SQL Query"})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 mb-4",children:"Run SQL queries directly on your database with an intuitive interface."}),jsxRuntimeExports.jsxs(Link,{to:"/tools/sql-query",className:"text-primary-400 hover:text-primary-300 flex items-center",children:["Learn more ",jsxRuntimeExports.jsx(ChevronRight,{size:16,className:"ml-1"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-xl p-6 border border-dark-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-4",children:[jsxRuntimeExports.jsx(PenTool,{className:"text-primary-500 mr-3",size:24}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white",children:"Escalate to Managers"})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 mb-4",children:"Quickly notify managers about important updates via Slack integration."}),jsxRuntimeExports.jsxs(Link,{to:"/tools/escalate",className:"text-primary-400 hover:text-primary-300 flex items-center",children:["Learn more ",jsxRuntimeExports.jsx(ChevronRight,{size:16,className:"ml-1"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-xl p-6 border border-dark-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-4",children:[jsxRuntimeExports.jsx(PenTool,{className:"text-primary-500 mr-3",size:24}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white",children:"Cloud Vision OCR"})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 mb-4",children:"Extract text from images and PDFs using Google Cloud Vision technology."}),jsxRuntimeExports.jsxs(Link,{to:"/tools/cloud-vision",className:"text-primary-400 hover:text-primary-300 flex items-center",children:["Learn more ",jsxRuntimeExports.jsx(ChevronRight,{size:16,className:"ml-1"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-xl p-6 border border-dark-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-4",children:[jsxRuntimeExports.jsx(PenTool,{className:"text-primary-500 mr-3",size:24}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white",children:"Airtable Toolkit"})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 mb-4",children:"Manage and manipulate your Airtable databases with powerful automation tools."}),jsxRuntimeExports.jsxs(Link,{to:"/tools/airtable",className:"text-primary-400 hover:text-primary-300 flex items-center",children:["Learn more ",jsxRuntimeExports.jsx(ChevronRight,{size:16,className:"ml-1"})]})]})]})}),jsxRuntimeExports.jsx("div",{className:"bg-dark-900 py-16",children:jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-white text-center mb-12",children:"Why Choose Our AI Tools?"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[{title:"Easy Integration",description:"Seamlessly integrate with your existing workflow and tools."},{title:"Customizable",description:"Adapt and configure tools to match your specific needs."},{title:"Secure & Reliable",description:"Enterprise-grade security with 99.9% uptime guarantee."},{title:"Regular Updates",description:"Continuous improvements and new features added regularly."},{title:"Expert Support",description:"24/7 technical support and comprehensive documentation."},{title:"Cost-Effective",description:"Pay only for what you use with flexible pricing plans."}].map((Re,je)=>jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 border border-dark-700",children:[jsxRuntimeExports.jsx(Bot,{className:"text-primary-500 mb-4",size:24}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:Re.title}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:Re.description})]},je))})]})}),jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4 py-16",children:jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-r from-primary-800 to-primary-900 rounded-2xl p-8 md:p-12 text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Ready to Supercharge Your Workflow?"}),jsxRuntimeExports.jsx("p",{className:"text-primary-200 text-lg mb-8 max-w-2xl mx-auto",children:"Get started with our AI tools today and transform your business processes."}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[jsxRuntimeExports.jsx(Link,{to:"/register",className:"btn btn-primary bg-white text-primary-900 hover:bg-gray-100 px-6 py-3",children:"Start Free Trial"}),jsxRuntimeExports.jsx(Link,{to:"/contact",className:"btn btn-secondary border border-white text-white hover:bg-primary-700 px-6 py-3",children:"Schedule Demo"})]})]})})]}),CRM=()=>jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-dark-950",children:[jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-b from-primary-900 to-primary-800 py-16",children:jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4",children:jsxRuntimeExports.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"AI-Powered CRM That Works For You"}),jsxRuntimeExports.jsx("p",{className:"text-xl text-primary-200",children:"Transform your customer relationships with intelligent automation and deep insights."})]})})}),jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4 py-16",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:jsxRuntimeExports.jsx(Bot,{className:"text-primary-400"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"AI Assistant"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Let our AI handle routine tasks while you focus on building relationships. Automated follow-ups, meeting scheduling, and data entry."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:jsxRuntimeExports.jsx(Brain,{className:"text-primary-400"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Smart Insights"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Get AI-powered insights into customer behavior, preferences, and potential opportunities for growth."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:jsxRuntimeExports.jsx(Zap,{className:"text-primary-400"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Automation"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Automate repetitive tasks, data entry, and follow-ups to save time and reduce errors."})]})]})}),jsxRuntimeExports.jsx("div",{className:"bg-dark-900 py-16",children:jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Everything You Need to Manage Customer Relationships"}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-900/30 p-2 rounded-lg mr-4",children:jsxRuntimeExports.jsx(Users,{className:"text-primary-400",size:24})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"360 Customer View"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"See all customer interactions, history, and preferences in one place."})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-900/30 p-2 rounded-lg mr-4",children:jsxRuntimeExports.jsx(MessageSquare,{className:"text-primary-400",size:24})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Smart Communication"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"AI-powered email templates and automated follow-ups that get responses."})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-900/30 p-2 rounded-lg mr-4",children:jsxRuntimeExports.jsx(BarChart2,{className:"text-primary-400",size:24})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Advanced Analytics"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Track performance, identify trends, and make data-driven decisions."})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-900/30 p-2 rounded-lg mr-4",children:jsxRuntimeExports.jsx(Clock,{className:"text-primary-400",size:24})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Activity Timeline"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Never miss a follow-up with our smart activity tracking system."})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("img",{src:"https://images.unsplash.com/photo-1552581234-26160f608093?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=800&q=80",alt:"CRM Dashboard",className:"rounded-lg shadow-xl"}),jsxRuntimeExports.jsx("div",{className:"absolute -bottom-4 -right-4 bg-primary-800 p-4 rounded-lg shadow-xl",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Bot,{className:"text-primary-400",size:24}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-white font-semibold",children:"AI Assistant Active"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-primary-300",children:"Helping 24/7"})]})]})})]})]})})}),jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4 py-16",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-white text-center mb-12",children:"Why Choose Our CRM?"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{title:"Save Time",description:"Automate 80% of routine tasks and focus on what matters most - building relationships."},{title:"Increase Sales",description:"Convert 40% more leads with AI-powered insights and automated follow-ups."},{title:"Better Insights",description:"Make data-driven decisions with advanced analytics and AI predictions."}].map((Re,je)=>jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 border border-dark-700",children:[jsxRuntimeExports.jsx(Star,{className:"text-primary-500 mb-4",size:24}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:Re.title}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:Re.description})]},je))})]}),jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4 py-16",children:jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-r from-primary-800 to-primary-900 rounded-2xl p-8 md:p-12 text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Ready to Transform Your Customer Relationships?"}),jsxRuntimeExports.jsx("p",{className:"text-primary-200 text-lg mb-8 max-w-2xl mx-auto",children:"Join thousands of businesses using our AI-powered CRM to grow their customer base."}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[jsxRuntimeExports.jsx(Link,{to:"/register",className:"btn btn-primary bg-white text-primary-900 hover:bg-gray-100 px-6 py-3",children:"Start Free Trial"}),jsxRuntimeExports.jsx(Link,{to:"/contact",className:"btn btn-secondary border border-white text-white hover:bg-primary-700 px-6 py-3",children:"Schedule Demo"})]})]})})]}),default_format="RFC3986",formatters={RFC1738:Re=>String(Re).replace(/%20/g,"+"),RFC3986:Re=>String(Re)},RFC1738="RFC1738",is_array$1=Array.isArray,hex_table=(()=>{const Re=[];for(let je=0;je<256;++je)Re.push("%"+((je<16?"0":"")+je.toString(16)).toUpperCase());return Re})(),limit=1024,encode=(Re,je,_e,Me,$e)=>{if(Re.length===0)return Re;let ke=Re;if(typeof Re=="symbol"?ke=Symbol.prototype.toString.call(Re):typeof Re!="string"&&(ke=String(Re)),_e==="iso-8859-1")return escape(ke).replace(/%u[0-9a-f]{4}/gi,function(Be){return"%26%23"+parseInt(Be.slice(2),16)+"%3B"});let Ce="";for(let Be=0;Be<ke.length;Be+=limit){const qe=ke.length>=limit?ke.slice(Be,Be+limit):ke,He=[];for(let We=0;We<qe.length;++We){let Ke=qe.charCodeAt(We);if(Ke===45||Ke===46||Ke===95||Ke===126||Ke>=48&&Ke<=57||Ke>=65&&Ke<=90||Ke>=97&&Ke<=122||$e===RFC1738&&(Ke===40||Ke===41)){He[He.length]=qe.charAt(We);continue}if(Ke<128){He[He.length]=hex_table[Ke];continue}if(Ke<2048){He[He.length]=hex_table[192|Ke>>6]+hex_table[128|Ke&63];continue}if(Ke<55296||Ke>=57344){He[He.length]=hex_table[224|Ke>>12]+hex_table[128|Ke>>6&63]+hex_table[128|Ke&63];continue}We+=1,Ke=65536+((Ke&1023)<<10|qe.charCodeAt(We)&1023),He[He.length]=hex_table[240|Ke>>18]+hex_table[128|Ke>>12&63]+hex_table[128|Ke>>6&63]+hex_table[128|Ke&63]}Ce+=He.join("")}return Ce};function is_buffer(Re){return!Re||typeof Re!="object"?!1:!!(Re.constructor&&Re.constructor.isBuffer&&Re.constructor.isBuffer(Re))}function maybe_map(Re,je){if(is_array$1(Re)){const _e=[];for(let Me=0;Me<Re.length;Me+=1)_e.push(je(Re[Me]));return _e}return je(Re)}const has=Object.prototype.hasOwnProperty,array_prefix_generators={brackets(Re){return String(Re)+"[]"},comma:"comma",indices(Re,je){return String(Re)+"["+je+"]"},repeat(Re){return String(Re)}},is_array=Array.isArray,push=Array.prototype.push,push_to_array=function(Re,je){push.apply(Re,is_array(je)?je:[je])},to_ISO=Date.prototype.toISOString,defaults$2={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:encode,encodeValuesOnly:!1,format:default_format,formatter:formatters[default_format],indices:!1,serializeDate(Re){return to_ISO.call(Re)},skipNulls:!1,strictNullHandling:!1};function is_non_nullish_primitive(Re){return typeof Re=="string"||typeof Re=="number"||typeof Re=="boolean"||typeof Re=="symbol"||typeof Re=="bigint"}const sentinel={};function inner_stringify(Re,je,_e,Me,$e,ke,Ce,Be,qe,He,We,Ke,Je,Qe,rr,tr,cr,or){let ar=Re,pr=or,ur=0,gr=!1;for(;(pr=pr.get(sentinel))!==void 0&&!gr;){const Rr=pr.get(Re);if(ur+=1,typeof Rr<"u"){if(Rr===ur)throw new RangeError("Cyclic object value");gr=!0}typeof pr.get(sentinel)>"u"&&(ur=0)}if(typeof He=="function"?ar=He(je,ar):ar instanceof Date?ar=Je?.(ar):_e==="comma"&&is_array(ar)&&(ar=maybe_map(ar,function(Rr){return Rr instanceof Date?Je?.(Rr):Rr})),ar===null){if(ke)return qe&&!tr?qe(je,defaults$2.encoder,cr,"key",Qe):je;ar=""}if(is_non_nullish_primitive(ar)||is_buffer(ar)){if(qe){const Rr=tr?je:qe(je,defaults$2.encoder,cr,"key",Qe);return[rr?.(Rr)+"="+rr?.(qe(ar,defaults$2.encoder,cr,"value",Qe))]}return[rr?.(je)+"="+rr?.(String(ar))]}const jr=[];if(typeof ar>"u")return jr;let vr;if(_e==="comma"&&is_array(ar))tr&&qe&&(ar=maybe_map(ar,qe)),vr=[{value:ar.length>0?ar.join(",")||null:void 0}];else if(is_array(He))vr=He;else{const Rr=Object.keys(ar);vr=We?Rr.sort(We):Rr}const dr=Be?String(je).replace(/\./g,"%2E"):String(je),xr=Me&&is_array(ar)&&ar.length===1?dr+"[]":dr;if($e&&is_array(ar)&&ar.length===0)return xr+"[]";for(let Rr=0;Rr<vr.length;++Rr){const Xe=vr[Rr],Pe=typeof Xe=="object"&&typeof Xe.value<"u"?Xe.value:ar[Xe];if(Ce&&Pe===null)continue;const Fe=Ke&&Be?Xe.replace(/\./g,"%2E"):Xe,ze=is_array(ar)?typeof _e=="function"?_e(xr,Fe):xr:xr+(Ke?"."+Fe:"["+Fe+"]");or.set(Re,ur);const Ue=new WeakMap;Ue.set(sentinel,or),push_to_array(jr,inner_stringify(Pe,ze,_e,Me,$e,ke,Ce,Be,_e==="comma"&&tr&&is_array(ar)?null:qe,He,We,Ke,Je,Qe,rr,tr,cr,Ue))}return jr}function normalize_stringify_options(Re=defaults$2){if(typeof Re.allowEmptyArrays<"u"&&typeof Re.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof Re.encodeDotInKeys<"u"&&typeof Re.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(Re.encoder!==null&&typeof Re.encoder<"u"&&typeof Re.encoder!="function")throw new TypeError("Encoder has to be a function.");const je=Re.charset||defaults$2.charset;if(typeof Re.charset<"u"&&Re.charset!=="utf-8"&&Re.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let _e=default_format;if(typeof Re.format<"u"){if(!has.call(formatters,Re.format))throw new TypeError("Unknown format option provided.");_e=Re.format}const Me=formatters[_e];let $e=defaults$2.filter;(typeof Re.filter=="function"||is_array(Re.filter))&&($e=Re.filter);let ke;if(Re.arrayFormat&&Re.arrayFormat in array_prefix_generators?ke=Re.arrayFormat:"indices"in Re?ke=Re.indices?"indices":"repeat":ke=defaults$2.arrayFormat,"commaRoundTrip"in Re&&typeof Re.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const Ce=typeof Re.allowDots>"u"?Re.encodeDotInKeys?!0:defaults$2.allowDots:!!Re.allowDots;return{addQueryPrefix:typeof Re.addQueryPrefix=="boolean"?Re.addQueryPrefix:defaults$2.addQueryPrefix,allowDots:Ce,allowEmptyArrays:typeof Re.allowEmptyArrays=="boolean"?!!Re.allowEmptyArrays:defaults$2.allowEmptyArrays,arrayFormat:ke,charset:je,charsetSentinel:typeof Re.charsetSentinel=="boolean"?Re.charsetSentinel:defaults$2.charsetSentinel,commaRoundTrip:!!Re.commaRoundTrip,delimiter:typeof Re.delimiter>"u"?defaults$2.delimiter:Re.delimiter,encode:typeof Re.encode=="boolean"?Re.encode:defaults$2.encode,encodeDotInKeys:typeof Re.encodeDotInKeys=="boolean"?Re.encodeDotInKeys:defaults$2.encodeDotInKeys,encoder:typeof Re.encoder=="function"?Re.encoder:defaults$2.encoder,encodeValuesOnly:typeof Re.encodeValuesOnly=="boolean"?Re.encodeValuesOnly:defaults$2.encodeValuesOnly,filter:$e,format:_e,formatter:Me,serializeDate:typeof Re.serializeDate=="function"?Re.serializeDate:defaults$2.serializeDate,skipNulls:typeof Re.skipNulls=="boolean"?Re.skipNulls:defaults$2.skipNulls,sort:typeof Re.sort=="function"?Re.sort:null,strictNullHandling:typeof Re.strictNullHandling=="boolean"?Re.strictNullHandling:defaults$2.strictNullHandling}}function stringify(Re,je={}){let _e=Re;const Me=normalize_stringify_options(je);let $e,ke;typeof Me.filter=="function"?(ke=Me.filter,_e=ke("",_e)):is_array(Me.filter)&&(ke=Me.filter,$e=ke);const Ce=[];if(typeof _e!="object"||_e===null)return"";const Be=array_prefix_generators[Me.arrayFormat],qe=Be==="comma"&&Me.commaRoundTrip;$e||($e=Object.keys(_e)),Me.sort&&$e.sort(Me.sort);const He=new WeakMap;for(let Je=0;Je<$e.length;++Je){const Qe=$e[Je];Me.skipNulls&&_e[Qe]===null||push_to_array(Ce,inner_stringify(_e[Qe],Qe,Be,qe,Me.allowEmptyArrays,Me.strictNullHandling,Me.skipNulls,Me.encodeDotInKeys,Me.encode?Me.encoder:null,Me.filter,Me.sort,Me.allowDots,Me.serializeDate,Me.format,Me.formatter,Me.encodeValuesOnly,Me.charset,He))}const We=Ce.join(Me.delimiter);let Ke=Me.addQueryPrefix===!0?"?":"";return Me.charsetSentinel&&(Me.charset==="iso-8859-1"?Ke+="utf8=%26%2310003%3B&":Ke+="utf8=%E2%9C%93&"),We.length>0?Ke+We:""}const VERSION="4.86.2";let auto$1=!1,kind,fetch$1,FormData$1,File$1,ReadableStream$1,getMultipartRequestOptions,getDefaultAgent,fileFromPath,isFsReadStream;function setShims(Re,je={auto:!1}){if(auto$1)throw new Error(`you must \`import 'openai/shims/${Re.kind}'\` before importing anything else from openai`);if(kind)throw new Error(`can't \`import 'openai/shims/${Re.kind}'\` after \`import 'openai/shims/${kind}'\``);auto$1=je.auto,kind=Re.kind,fetch$1=Re.fetch,FormData$1=Re.FormData,File$1=Re.File,ReadableStream$1=Re.ReadableStream,getMultipartRequestOptions=Re.getMultipartRequestOptions,getDefaultAgent=Re.getDefaultAgent,fileFromPath=Re.fileFromPath,isFsReadStream=Re.isFsReadStream}class MultipartBody{constructor(je){this.body=je}get[Symbol.toStringTag](){return"MultipartBody"}}function getRuntime({manuallyImported:Re}={}){const je=Re?"You may need to use polyfills":"Add one of these imports before your first `import  from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let _e,Me,$e,ke;try{_e=fetch,Me=Request,$e=Response,ke=Headers}catch(Ce){throw new Error(`this environment is missing the following Web Fetch API type: ${Ce.message}. ${je}`)}return{kind:"web",fetch:_e,Request:Me,Response:$e,Headers:ke,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${je}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${je}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${je}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${je}`)}},getMultipartRequestOptions:async(Ce,Be)=>({...Be,body:new MultipartBody(Ce)}),getDefaultAgent:Ce=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:Ce=>!1}}kind||setShims(getRuntime(),{auto:!0});class OpenAIError extends Error{}class APIError extends OpenAIError{constructor(je,_e,Me,$e){super(`${APIError.makeMessage(je,_e,Me)}`),this.status=je,this.headers=$e,this.request_id=$e?.["x-request-id"],this.error=_e;const ke=_e;this.code=ke?.code,this.param=ke?.param,this.type=ke?.type}static makeMessage(je,_e,Me){const $e=_e?.message?typeof _e.message=="string"?_e.message:JSON.stringify(_e.message):_e?JSON.stringify(_e):Me;return je&&$e?`${je} ${$e}`:je?`${je} status code (no body)`:$e||"(no status code or body)"}static generate(je,_e,Me,$e){if(!je||!$e)return new APIConnectionError({message:Me,cause:castToError(_e)});const ke=_e?.error;return je===400?new BadRequestError(je,ke,Me,$e):je===401?new AuthenticationError(je,ke,Me,$e):je===403?new PermissionDeniedError(je,ke,Me,$e):je===404?new NotFoundError(je,ke,Me,$e):je===409?new ConflictError(je,ke,Me,$e):je===422?new UnprocessableEntityError(je,ke,Me,$e):je===429?new RateLimitError(je,ke,Me,$e):je>=500?new InternalServerError(je,ke,Me,$e):new APIError(je,ke,Me,$e)}}class APIUserAbortError extends APIError{constructor({message:je}={}){super(void 0,void 0,je||"Request was aborted.",void 0)}}class APIConnectionError extends APIError{constructor({message:je,cause:_e}){super(void 0,void 0,je||"Connection error.",void 0),_e&&(this.cause=_e)}}class APIConnectionTimeoutError extends APIConnectionError{constructor({message:je}={}){super({message:je??"Request timed out."})}}class BadRequestError extends APIError{}class AuthenticationError extends APIError{}class PermissionDeniedError extends APIError{}class NotFoundError extends APIError{}class ConflictError extends APIError{}class UnprocessableEntityError extends APIError{}class RateLimitError extends APIError{}class InternalServerError extends APIError{}class LengthFinishReasonError extends OpenAIError{constructor(){super("Could not parse response content as the length limit was reached")}}class ContentFilterFinishReasonError extends OpenAIError{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}var __classPrivateFieldSet$4=function(Re,je,_e,Me,$e){if(Me==="m")throw new TypeError("Private method is not writable");if(Me==="a"&&!$e)throw new TypeError("Private accessor was defined without a setter");if(typeof je=="function"?Re!==je||!$e:!je.has(Re))throw new TypeError("Cannot write private member to an object whose class did not declare it");return Me==="a"?$e.call(Re,_e):$e?$e.value=_e:je.set(Re,_e),_e},__classPrivateFieldGet$5=function(Re,je,_e,Me){if(_e==="a"&&!Me)throw new TypeError("Private accessor was defined without a getter");if(typeof je=="function"?Re!==je||!Me:!je.has(Re))throw new TypeError("Cannot read private member from an object whose class did not declare it");return _e==="m"?Me:_e==="a"?Me.call(Re):Me?Me.value:je.get(Re)},_LineDecoder_carriageReturnIndex;class LineDecoder{constructor(){_LineDecoder_carriageReturnIndex.set(this,void 0),this.buffer=new Uint8Array,__classPrivateFieldSet$4(this,_LineDecoder_carriageReturnIndex,null,"f")}decode(je){if(je==null)return[];const _e=je instanceof ArrayBuffer?new Uint8Array(je):typeof je=="string"?new TextEncoder().encode(je):je;let Me=new Uint8Array(this.buffer.length+_e.length);Me.set(this.buffer),Me.set(_e,this.buffer.length),this.buffer=Me;const $e=[];let ke;for(;(ke=findNewlineIndex(this.buffer,__classPrivateFieldGet$5(this,_LineDecoder_carriageReturnIndex,"f")))!=null;){if(ke.carriage&&__classPrivateFieldGet$5(this,_LineDecoder_carriageReturnIndex,"f")==null){__classPrivateFieldSet$4(this,_LineDecoder_carriageReturnIndex,ke.index,"f");continue}if(__classPrivateFieldGet$5(this,_LineDecoder_carriageReturnIndex,"f")!=null&&(ke.index!==__classPrivateFieldGet$5(this,_LineDecoder_carriageReturnIndex,"f")+1||ke.carriage)){$e.push(this.decodeText(this.buffer.slice(0,__classPrivateFieldGet$5(this,_LineDecoder_carriageReturnIndex,"f")-1))),this.buffer=this.buffer.slice(__classPrivateFieldGet$5(this,_LineDecoder_carriageReturnIndex,"f")),__classPrivateFieldSet$4(this,_LineDecoder_carriageReturnIndex,null,"f");continue}const Ce=__classPrivateFieldGet$5(this,_LineDecoder_carriageReturnIndex,"f")!==null?ke.preceding-1:ke.preceding,Be=this.decodeText(this.buffer.slice(0,Ce));$e.push(Be),this.buffer=this.buffer.slice(ke.index),__classPrivateFieldSet$4(this,_LineDecoder_carriageReturnIndex,null,"f")}return $e}decodeText(je){if(je==null)return"";if(typeof je=="string")return je;if(typeof Buffer$B<"u"){if(je instanceof Buffer$B)return je.toString();if(je instanceof Uint8Array)return Buffer$B.from(je).toString();throw new OpenAIError(`Unexpected: received non-Uint8Array (${je.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(je instanceof Uint8Array||je instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(je);throw new OpenAIError(`Unexpected: received non-Uint8Array/ArrayBuffer (${je.constructor.name}) in a web platform. Please report this error.`)}throw new OpenAIError("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){return this.buffer.length?this.decode(`
`):[]}}_LineDecoder_carriageReturnIndex=new WeakMap;LineDecoder.NEWLINE_CHARS=new Set([`
`,"\r"]);LineDecoder.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function findNewlineIndex(Re,je){for(let $e=je??0;$e<Re.length;$e++){if(Re[$e]===10)return{preceding:$e,index:$e+1,carriage:!1};if(Re[$e]===13)return{preceding:$e,index:$e+1,carriage:!0}}return null}function findDoubleNewlineIndex(Re){for(let Me=0;Me<Re.length-1;Me++){if(Re[Me]===10&&Re[Me+1]===10||Re[Me]===13&&Re[Me+1]===13)return Me+2;if(Re[Me]===13&&Re[Me+1]===10&&Me+3<Re.length&&Re[Me+2]===13&&Re[Me+3]===10)return Me+4}return-1}function ReadableStreamToAsyncIterable(Re){if(Re[Symbol.asyncIterator])return Re;const je=Re.getReader();return{async next(){try{const _e=await je.read();return _e?.done&&je.releaseLock(),_e}catch(_e){throw je.releaseLock(),_e}},async return(){const _e=je.cancel();return je.releaseLock(),await _e,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}class Stream{constructor(je,_e){this.iterator=je,this.controller=_e}static fromSSEResponse(je,_e){let Me=!1;async function*$e(){if(Me)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");Me=!0;let ke=!1;try{for await(const Ce of _iterSSEMessages(je,_e))if(!ke){if(Ce.data.startsWith("[DONE]")){ke=!0;continue}if(Ce.event===null){let Be;try{Be=JSON.parse(Ce.data)}catch(qe){throw console.error("Could not parse message into JSON:",Ce.data),console.error("From chunk:",Ce.raw),qe}if(Be&&Be.error)throw new APIError(void 0,Be.error,void 0,void 0);yield Be}else{let Be;try{Be=JSON.parse(Ce.data)}catch(qe){throw console.error("Could not parse message into JSON:",Ce.data),console.error("From chunk:",Ce.raw),qe}if(Ce.event=="error")throw new APIError(void 0,Be.error,Be.message,void 0);yield{event:Ce.event,data:Be}}}ke=!0}catch(Ce){if(Ce instanceof Error&&Ce.name==="AbortError")return;throw Ce}finally{ke||_e.abort()}}return new Stream($e,_e)}static fromReadableStream(je,_e){let Me=!1;async function*$e(){const Ce=new LineDecoder,Be=ReadableStreamToAsyncIterable(je);for await(const qe of Be)for(const He of Ce.decode(qe))yield He;for(const qe of Ce.flush())yield qe}async function*ke(){if(Me)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");Me=!0;let Ce=!1;try{for await(const Be of $e())Ce||Be&&(yield JSON.parse(Be));Ce=!0}catch(Be){if(Be instanceof Error&&Be.name==="AbortError")return;throw Be}finally{Ce||_e.abort()}}return new Stream(ke,_e)}[Symbol.asyncIterator](){return this.iterator()}tee(){const je=[],_e=[],Me=this.iterator(),$e=ke=>({next:()=>{if(ke.length===0){const Ce=Me.next();je.push(Ce),_e.push(Ce)}return ke.shift()}});return[new Stream(()=>$e(je),this.controller),new Stream(()=>$e(_e),this.controller)]}toReadableStream(){const je=this;let _e;const Me=new TextEncoder;return new ReadableStream$1({async start(){_e=je[Symbol.asyncIterator]()},async pull($e){try{const{value:ke,done:Ce}=await _e.next();if(Ce)return $e.close();const Be=Me.encode(JSON.stringify(ke)+`
`);$e.enqueue(Be)}catch(ke){$e.error(ke)}},async cancel(){await _e.return?.()}})}}async function*_iterSSEMessages(Re,je){if(!Re.body)throw je.abort(),new OpenAIError("Attempted to iterate over a response with no body");const _e=new SSEDecoder,Me=new LineDecoder,$e=ReadableStreamToAsyncIterable(Re.body);for await(const ke of iterSSEChunks($e))for(const Ce of Me.decode(ke)){const Be=_e.decode(Ce);Be&&(yield Be)}for(const ke of Me.flush()){const Ce=_e.decode(ke);Ce&&(yield Ce)}}async function*iterSSEChunks(Re){let je=new Uint8Array;for await(const _e of Re){if(_e==null)continue;const Me=_e instanceof ArrayBuffer?new Uint8Array(_e):typeof _e=="string"?new TextEncoder().encode(_e):_e;let $e=new Uint8Array(je.length+Me.length);$e.set(je),$e.set(Me,je.length),je=$e;let ke;for(;(ke=findDoubleNewlineIndex(je))!==-1;)yield je.slice(0,ke),je=je.slice(ke)}je.length>0&&(yield je)}class SSEDecoder{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(je){if(je.endsWith("\r")&&(je=je.substring(0,je.length-1)),!je){if(!this.event&&!this.data.length)return null;const ke={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],ke}if(this.chunks.push(je),je.startsWith(":"))return null;let[_e,Me,$e]=partition(je,":");return $e.startsWith(" ")&&($e=$e.substring(1)),_e==="event"?this.event=$e:_e==="data"&&this.data.push($e),null}}function partition(Re,je){const _e=Re.indexOf(je);return _e!==-1?[Re.substring(0,_e),je,Re.substring(_e+je.length)]:[Re,"",""]}const isResponseLike=Re=>Re!=null&&typeof Re=="object"&&typeof Re.url=="string"&&typeof Re.blob=="function",isFileLike=Re=>Re!=null&&typeof Re=="object"&&typeof Re.name=="string"&&typeof Re.lastModified=="number"&&isBlobLike(Re),isBlobLike=Re=>Re!=null&&typeof Re=="object"&&typeof Re.size=="number"&&typeof Re.type=="string"&&typeof Re.text=="function"&&typeof Re.slice=="function"&&typeof Re.arrayBuffer=="function",isUploadable=Re=>isFileLike(Re)||isResponseLike(Re)||isFsReadStream(Re);async function toFile(Re,je,_e){if(Re=await Re,isFileLike(Re))return Re;if(isResponseLike(Re)){const $e=await Re.blob();je||(je=new URL(Re.url).pathname.split(/[\\/]/).pop()??"unknown_file");const ke=isBlobLike($e)?[await $e.arrayBuffer()]:[$e];return new File$1(ke,je,_e)}const Me=await getBytes(Re);if(je||(je=getName(Re)??"unknown_file"),!_e?.type){const $e=Me[0]?.type;typeof $e=="string"&&(_e={..._e,type:$e})}return new File$1(Me,je,_e)}async function getBytes(Re){let je=[];if(typeof Re=="string"||ArrayBuffer.isView(Re)||Re instanceof ArrayBuffer)je.push(Re);else if(isBlobLike(Re))je.push(await Re.arrayBuffer());else if(isAsyncIterableIterator(Re))for await(const _e of Re)je.push(_e);else throw new Error(`Unexpected data type: ${typeof Re}; constructor: ${Re?.constructor?.name}; props: ${propsForError(Re)}`);return je}function propsForError(Re){return`[${Object.getOwnPropertyNames(Re).map(_e=>`"${_e}"`).join(", ")}]`}function getName(Re){return getStringFromMaybeBuffer(Re.name)||getStringFromMaybeBuffer(Re.filename)||getStringFromMaybeBuffer(Re.path)?.split(/[\\/]/).pop()}const getStringFromMaybeBuffer=Re=>{if(typeof Re=="string")return Re;if(typeof Buffer$B<"u"&&Re instanceof Buffer$B)return String(Re)},isAsyncIterableIterator=Re=>Re!=null&&typeof Re=="object"&&typeof Re[Symbol.asyncIterator]=="function",isMultipartBody=Re=>Re&&typeof Re=="object"&&Re.body&&Re[Symbol.toStringTag]==="MultipartBody",multipartFormRequestOptions=async Re=>{const je=await createForm(Re.body);return getMultipartRequestOptions(je,Re)},createForm=async Re=>{const je=new FormData$1;return await Promise.all(Object.entries(Re||{}).map(([_e,Me])=>addFormValue(je,_e,Me))),je},addFormValue=async(Re,je,_e)=>{if(_e!==void 0){if(_e==null)throw new TypeError(`Received null for "${je}"; to pass null in FormData, you must use the string 'null'`);if(typeof _e=="string"||typeof _e=="number"||typeof _e=="boolean")Re.append(je,String(_e));else if(isUploadable(_e)){const Me=await toFile(_e);Re.append(je,Me)}else if(Array.isArray(_e))await Promise.all(_e.map(Me=>addFormValue(Re,je+"[]",Me)));else if(typeof _e=="object")await Promise.all(Object.entries(_e).map(([Me,$e])=>addFormValue(Re,`${je}[${Me}]`,$e)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${_e} instead`)}};var define_process_env_default={},__classPrivateFieldSet$3=function(Re,je,_e,Me,$e){if(typeof je=="function"?Re!==je||!$e:!je.has(Re))throw new TypeError("Cannot write private member to an object whose class did not declare it");return je.set(Re,_e),_e},__classPrivateFieldGet$4=function(Re,je,_e,Me){if(_e==="a"&&!Me)throw new TypeError("Private accessor was defined without a getter");if(typeof je=="function"?Re!==je||!Me:!je.has(Re))throw new TypeError("Cannot read private member from an object whose class did not declare it");return _e==="m"?Me:_e==="a"?Me.call(Re):Me?Me.value:je.get(Re)},_AbstractPage_client;async function defaultParseResponse(Re){const{response:je}=Re;if(Re.options.stream)return debug("response",je.status,je.url,je.headers,je.body),Re.options.__streamClass?Re.options.__streamClass.fromSSEResponse(je,Re.controller):Stream.fromSSEResponse(je,Re.controller);if(je.status===204)return null;if(Re.options.__binaryResponse)return je;const _e=je.headers.get("content-type");if(_e?.includes("application/json")||_e?.includes("application/vnd.api+json")){const ke=await je.json();return debug("response",je.status,je.url,je.headers,ke),_addRequestID(ke,je)}const $e=await je.text();return debug("response",je.status,je.url,je.headers,$e),$e}function _addRequestID(Re,je){return!Re||typeof Re!="object"||Array.isArray(Re)?Re:Object.defineProperty(Re,"_request_id",{value:je.headers.get("x-request-id"),enumerable:!1})}class APIPromise extends Promise{constructor(je,_e=defaultParseResponse){super(Me=>{Me(null)}),this.responsePromise=je,this.parseResponse=_e}_thenUnwrap(je){return new APIPromise(this.responsePromise,async _e=>_addRequestID(je(await this.parseResponse(_e),_e),_e.response))}asResponse(){return this.responsePromise.then(je=>je.response)}async withResponse(){const[je,_e]=await Promise.all([this.parse(),this.asResponse()]);return{data:je,response:_e,request_id:_e.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(je,_e){return this.parse().then(je,_e)}catch(je){return this.parse().catch(je)}finally(je){return this.parse().finally(je)}}class APIClient{constructor({baseURL:je,maxRetries:_e=2,timeout:Me=6e5,httpAgent:$e,fetch:ke}){this.baseURL=je,this.maxRetries=validatePositiveInteger("maxRetries",_e),this.timeout=validatePositiveInteger("timeout",Me),this.httpAgent=$e,this.fetch=ke??fetch$1}authHeaders(je){return{}}defaultHeaders(je){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...getPlatformHeaders(),...this.authHeaders(je)}}validateHeaders(je,_e){}defaultIdempotencyKey(){return`stainless-node-retry-${uuid4()}`}get(je,_e){return this.methodRequest("get",je,_e)}post(je,_e){return this.methodRequest("post",je,_e)}patch(je,_e){return this.methodRequest("patch",je,_e)}put(je,_e){return this.methodRequest("put",je,_e)}delete(je,_e){return this.methodRequest("delete",je,_e)}methodRequest(je,_e,Me){return this.request(Promise.resolve(Me).then(async $e=>{const ke=$e&&isBlobLike($e?.body)?new DataView(await $e.body.arrayBuffer()):$e?.body instanceof DataView?$e.body:$e?.body instanceof ArrayBuffer?new DataView($e.body):$e&&ArrayBuffer.isView($e?.body)?new DataView($e.body.buffer):$e?.body;return{method:je,path:_e,...$e,body:ke}}))}getAPIList(je,_e,Me){return this.requestAPIList(_e,{method:"get",path:je,...Me})}calculateContentLength(je){if(typeof je=="string"){if(typeof Buffer$B<"u")return Buffer$B.byteLength(je,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(je).length.toString()}else if(ArrayBuffer.isView(je))return je.byteLength.toString();return null}buildRequest(je,{retryCount:_e=0}={}){je={...je};const{method:Me,path:$e,query:ke,headers:Ce={}}=je,Be=ArrayBuffer.isView(je.body)||je.__binaryRequest&&typeof je.body=="string"?je.body:isMultipartBody(je.body)?je.body.body:je.body?JSON.stringify(je.body,null,2):null,qe=this.calculateContentLength(Be),He=this.buildURL($e,ke);"timeout"in je&&validatePositiveInteger("timeout",je.timeout),je.timeout=je.timeout??this.timeout;const We=je.httpAgent??this.httpAgent??getDefaultAgent(He),Ke=je.timeout+1e3;typeof We?.options?.timeout=="number"&&Ke>(We.options.timeout??0)&&(We.options.timeout=Ke),this.idempotencyHeader&&Me!=="get"&&(je.idempotencyKey||(je.idempotencyKey=this.defaultIdempotencyKey()),Ce[this.idempotencyHeader]=je.idempotencyKey);const Je=this.buildHeaders({options:je,headers:Ce,contentLength:qe,retryCount:_e});return{req:{method:Me,...Be&&{body:Be},headers:Je,...We&&{agent:We},signal:je.signal??null},url:He,timeout:je.timeout}}buildHeaders({options:je,headers:_e,contentLength:Me,retryCount:$e}){const ke={};Me&&(ke["content-length"]=Me);const Ce=this.defaultHeaders(je);return applyHeadersMut(ke,Ce),applyHeadersMut(ke,_e),isMultipartBody(je.body)&&kind!=="node"&&delete ke["content-type"],getHeader(Ce,"x-stainless-retry-count")===void 0&&getHeader(_e,"x-stainless-retry-count")===void 0&&(ke["x-stainless-retry-count"]=String($e)),getHeader(Ce,"x-stainless-timeout")===void 0&&getHeader(_e,"x-stainless-timeout")===void 0&&je.timeout&&(ke["x-stainless-timeout"]=String(je.timeout)),this.validateHeaders(ke,_e),ke}async prepareOptions(je){}async prepareRequest(je,{url:_e,options:Me}){}parseHeaders(je){return je?Symbol.iterator in je?Object.fromEntries(Array.from(je).map(_e=>[..._e])):{...je}:{}}makeStatusError(je,_e,Me,$e){return APIError.generate(je,_e,Me,$e)}request(je,_e=null){return new APIPromise(this.makeRequest(je,_e))}async makeRequest(je,_e){const Me=await je,$e=Me.maxRetries??this.maxRetries;_e==null&&(_e=$e),await this.prepareOptions(Me);const{req:ke,url:Ce,timeout:Be}=this.buildRequest(Me,{retryCount:$e-_e});if(await this.prepareRequest(ke,{url:Ce,options:Me}),debug("request",Ce,Me,ke.headers),Me.signal?.aborted)throw new APIUserAbortError;const qe=new AbortController,He=await this.fetchWithTimeout(Ce,ke,Be,qe).catch(castToError);if(He instanceof Error){if(Me.signal?.aborted)throw new APIUserAbortError;if(_e)return this.retryRequest(Me,_e);throw He.name==="AbortError"?new APIConnectionTimeoutError:new APIConnectionError({cause:He})}const We=createResponseHeaders(He.headers);if(!He.ok){if(_e&&this.shouldRetry(He)){const cr=`retrying, ${_e} attempts remaining`;return debug(`response (error; ${cr})`,He.status,Ce,We),this.retryRequest(Me,_e,We)}const Ke=await He.text().catch(cr=>castToError(cr).message),Je=safeJSON(Ke),Qe=Je?void 0:Ke;throw debug(`response (error; ${_e?"(error; no more retries left)":"(error; not retryable)"})`,He.status,Ce,We,Qe),this.makeStatusError(He.status,Je,Qe,We)}return{response:He,options:Me,controller:qe}}requestAPIList(je,_e){const Me=this.makeRequest(_e,null);return new PagePromise(this,Me,je)}buildURL(je,_e){const Me=isAbsoluteURL(je)?new URL(je):new URL(this.baseURL+(this.baseURL.endsWith("/")&&je.startsWith("/")?je.slice(1):je)),$e=this.defaultQuery();return isEmptyObj($e)||(_e={...$e,..._e}),typeof _e=="object"&&_e&&!Array.isArray(_e)&&(Me.search=this.stringifyQuery(_e)),Me.toString()}stringifyQuery(je){return Object.entries(je).filter(([_e,Me])=>typeof Me<"u").map(([_e,Me])=>{if(typeof Me=="string"||typeof Me=="number"||typeof Me=="boolean")return`${encodeURIComponent(_e)}=${encodeURIComponent(Me)}`;if(Me===null)return`${encodeURIComponent(_e)}=`;throw new OpenAIError(`Cannot stringify type ${typeof Me}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(je,_e,Me,$e){const{signal:ke,...Ce}=_e||{};ke&&ke.addEventListener("abort",()=>$e.abort());const Be=setTimeout(()=>$e.abort(),Me),qe={signal:$e.signal,...Ce};return qe.method&&(qe.method=qe.method.toUpperCase()),this.fetch.call(void 0,je,qe).finally(()=>{clearTimeout(Be)})}shouldRetry(je){const _e=je.headers.get("x-should-retry");return _e==="true"?!0:_e==="false"?!1:je.status===408||je.status===409||je.status===429||je.status>=500}async retryRequest(je,_e,Me){let $e;const ke=Me?.["retry-after-ms"];if(ke){const Be=parseFloat(ke);Number.isNaN(Be)||($e=Be)}const Ce=Me?.["retry-after"];if(Ce&&!$e){const Be=parseFloat(Ce);Number.isNaN(Be)?$e=Date.parse(Ce)-Date.now():$e=Be*1e3}if(!($e&&0<=$e&&$e<60*1e3)){const Be=je.maxRetries??this.maxRetries;$e=this.calculateDefaultRetryTimeoutMillis(_e,Be)}return await sleep($e),this.makeRequest(je,_e-1)}calculateDefaultRetryTimeoutMillis(je,_e){const ke=_e-je,Ce=Math.min(.5*Math.pow(2,ke),8),Be=1-Math.random()*.25;return Ce*Be*1e3}getUserAgent(){return`${this.constructor.name}/JS ${VERSION}`}}class AbstractPage{constructor(je,_e,Me,$e){_AbstractPage_client.set(this,void 0),__classPrivateFieldSet$3(this,_AbstractPage_client,je),this.options=$e,this.response=_e,this.body=Me}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const je=this.nextPageInfo();if(!je)throw new OpenAIError("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const _e={...this.options};if("params"in je&&typeof _e.query=="object")_e.query={..._e.query,...je.params};else if("url"in je){const Me=[...Object.entries(_e.query||{}),...je.url.searchParams.entries()];for(const[$e,ke]of Me)je.url.searchParams.set($e,ke);_e.query=void 0,_e.path=je.url.toString()}return await __classPrivateFieldGet$4(this,_AbstractPage_client,"f").requestAPIList(this.constructor,_e)}async*iterPages(){let je=this;for(yield je;je.hasNextPage();)je=await je.getNextPage(),yield je}async*[(_AbstractPage_client=new WeakMap,Symbol.asyncIterator)](){for await(const je of this.iterPages())for(const _e of je.getPaginatedItems())yield _e}}class PagePromise extends APIPromise{constructor(je,_e,Me){super(_e,async $e=>new Me(je,$e.response,await defaultParseResponse($e),$e.options))}async*[Symbol.asyncIterator](){const je=await this;for await(const _e of je)yield _e}}const createResponseHeaders=Re=>new Proxy(Object.fromEntries(Re.entries()),{get(je,_e){const Me=_e.toString();return je[Me.toLowerCase()]||je[Me]}}),requestOptionsKeys={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__metadata:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},isRequestOptions=Re=>typeof Re=="object"&&Re!==null&&!isEmptyObj(Re)&&Object.keys(Re).every(je=>hasOwn(requestOptionsKeys,je)),getPlatformProperties=()=>{if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":VERSION,"X-Stainless-OS":normalizePlatform(Deno.build.os),"X-Stainless-Arch":normalizeArch(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:Deno.version?.deno??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":VERSION,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process$1.version};if(Object.prototype.toString.call(typeof process$1<"u"?process$1:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":VERSION,"X-Stainless-OS":normalizePlatform(process$1.platform),"X-Stainless-Arch":normalizeArch(process$1.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process$1.version};const Re=getBrowserInfo();return Re?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":VERSION,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${Re.browser}`,"X-Stainless-Runtime-Version":Re.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":VERSION,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function getBrowserInfo(){if(typeof navigator>"u"||!navigator)return null;const Re=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:je,pattern:_e}of Re){const Me=_e.exec(navigator.userAgent);if(Me){const $e=Me[1]||0,ke=Me[2]||0,Ce=Me[3]||0;return{browser:je,version:`${$e}.${ke}.${Ce}`}}}return null}const normalizeArch=Re=>Re==="x32"?"x32":Re==="x86_64"||Re==="x64"?"x64":Re==="arm"?"arm":Re==="aarch64"||Re==="arm64"?"arm64":Re?`other:${Re}`:"unknown",normalizePlatform=Re=>(Re=Re.toLowerCase(),Re.includes("ios")?"iOS":Re==="android"?"Android":Re==="darwin"?"MacOS":Re==="win32"?"Windows":Re==="freebsd"?"FreeBSD":Re==="openbsd"?"OpenBSD":Re==="linux"?"Linux":Re?`Other:${Re}`:"Unknown");let _platformHeaders;const getPlatformHeaders=()=>_platformHeaders??(_platformHeaders=getPlatformProperties()),safeJSON=Re=>{try{return JSON.parse(Re)}catch{return}},startsWithSchemeRegexp=/^[a-z][a-z0-9+.-]*:/i,isAbsoluteURL=Re=>startsWithSchemeRegexp.test(Re),sleep=Re=>new Promise(je=>setTimeout(je,Re)),validatePositiveInteger=(Re,je)=>{if(typeof je!="number"||!Number.isInteger(je))throw new OpenAIError(`${Re} must be an integer`);if(je<0)throw new OpenAIError(`${Re} must be a positive integer`);return je},castToError=Re=>{if(Re instanceof Error)return Re;if(typeof Re=="object"&&Re!==null)try{return new Error(JSON.stringify(Re))}catch{}return new Error(Re)},readEnv=Re=>{if(typeof process$1<"u")return define_process_env_default?.[Re]?.trim()??void 0;if(typeof Deno<"u")return Deno.env?.get?.(Re)?.trim()};function isEmptyObj(Re){if(!Re)return!0;for(const je in Re)return!1;return!0}function hasOwn(Re,je){return Object.prototype.hasOwnProperty.call(Re,je)}function applyHeadersMut(Re,je){for(const _e in je){if(!hasOwn(je,_e))continue;const Me=_e.toLowerCase();if(!Me)continue;const $e=je[_e];$e===null?delete Re[Me]:$e!==void 0&&(Re[Me]=$e)}}const SENSITIVE_HEADERS=new Set(["authorization","api-key"]);function debug(Re,...je){if(typeof process$1<"u"&&define_process_env_default?.DEBUG==="true"){const _e=je.map(Me=>{if(!Me)return Me;if(Me.headers){const ke={...Me,headers:{...Me.headers}};for(const Ce in Me.headers)SENSITIVE_HEADERS.has(Ce.toLowerCase())&&(ke.headers[Ce]="REDACTED");return ke}let $e=null;for(const ke in Me)SENSITIVE_HEADERS.has(ke.toLowerCase())&&($e??($e={...Me}),$e[ke]="REDACTED");return $e??Me});console.log(`OpenAI:DEBUG:${Re}`,..._e)}}const uuid4=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,Re=>{const je=Math.random()*16|0;return(Re==="x"?je:je&3|8).toString(16)}),isRunningInBrowser=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",isHeadersProtocol=Re=>typeof Re?.get=="function",getHeader=(Re,je)=>{const _e=je.toLowerCase();if(isHeadersProtocol(Re)){const Me=je[0]?.toUpperCase()+je.substring(1).replace(/([^\w])(\w)/g,($e,ke,Ce)=>ke+Ce.toUpperCase());for(const $e of[je,_e,je.toUpperCase(),Me]){const ke=Re.get($e);if(ke)return ke}}for(const[Me,$e]of Object.entries(Re))if(Me.toLowerCase()===_e)return Array.isArray($e)?($e.length<=1||console.warn(`Received ${$e.length} entries for the ${je} header, using the first entry.`),$e[0]):$e};function isObj(Re){return Re!=null&&typeof Re=="object"&&!Array.isArray(Re)}class Page extends AbstractPage{constructor(je,_e,Me,$e){super(je,_e,Me,$e),this.data=Me.data||[],this.object=Me.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class CursorPage extends AbstractPage{constructor(je,_e,Me,$e){super(je,_e,Me,$e),this.data=Me.data||[],this.has_more=Me.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageParams(){const je=this.nextPageInfo();if(!je)return null;if("params"in je)return je.params;const _e=Object.fromEntries(je.url.searchParams);return Object.keys(_e).length?_e:null}nextPageInfo(){const je=this.getPaginatedItems();if(!je.length)return null;const _e=je[je.length-1]?.id;return _e?{params:{after:_e}}:null}}class APIResource{constructor(je){this._client=je}}let Messages$1=class extends APIResource{list(je,_e={},Me){return isRequestOptions(_e)?this.list(je,{},_e):this._client.getAPIList(`/chat/completions/${je}/messages`,ChatCompletionStoreMessagesPage,{query:_e,...Me})}},Completions$2=class extends APIResource{constructor(){super(...arguments),this.messages=new Messages$1(this._client)}create(je,_e){return this._client.post("/chat/completions",{body:je,..._e,stream:je.stream??!1})}retrieve(je,_e){return this._client.get(`/chat/completions/${je}`,_e)}update(je,_e,Me){return this._client.post(`/chat/completions/${je}`,{body:_e,...Me})}list(je={},_e){return isRequestOptions(je)?this.list({},je):this._client.getAPIList("/chat/completions",ChatCompletionsPage,{query:je,..._e})}del(je,_e){return this._client.delete(`/chat/completions/${je}`,_e)}};class ChatCompletionsPage extends CursorPage{}class ChatCompletionStoreMessagesPage extends CursorPage{}Completions$2.ChatCompletionsPage=ChatCompletionsPage;Completions$2.Messages=Messages$1;let Chat$1=class extends APIResource{constructor(){super(...arguments),this.completions=new Completions$2(this._client)}};Chat$1.Completions=Completions$2;Chat$1.ChatCompletionsPage=ChatCompletionsPage;class Speech extends APIResource{create(je,_e){return this._client.post("/audio/speech",{body:je,..._e,headers:{Accept:"application/octet-stream",..._e?.headers},__binaryResponse:!0})}}class Transcriptions extends APIResource{create(je,_e){return this._client.post("/audio/transcriptions",multipartFormRequestOptions({body:je,..._e,__metadata:{model:je.model}}))}}class Translations extends APIResource{create(je,_e){return this._client.post("/audio/translations",multipartFormRequestOptions({body:je,..._e,__metadata:{model:je.model}}))}}class Audio extends APIResource{constructor(){super(...arguments),this.transcriptions=new Transcriptions(this._client),this.translations=new Translations(this._client),this.speech=new Speech(this._client)}}Audio.Transcriptions=Transcriptions;Audio.Translations=Translations;Audio.Speech=Speech;class Batches extends APIResource{create(je,_e){return this._client.post("/batches",{body:je,..._e})}retrieve(je,_e){return this._client.get(`/batches/${je}`,_e)}list(je={},_e){return isRequestOptions(je)?this.list({},je):this._client.getAPIList("/batches",BatchesPage,{query:je,..._e})}cancel(je,_e){return this._client.post(`/batches/${je}/cancel`,_e)}}class BatchesPage extends CursorPage{}Batches.BatchesPage=BatchesPage;class Assistants extends APIResource{create(je,_e){return this._client.post("/assistants",{body:je,..._e,headers:{"OpenAI-Beta":"assistants=v2",..._e?.headers}})}retrieve(je,_e){return this._client.get(`/assistants/${je}`,{..._e,headers:{"OpenAI-Beta":"assistants=v2",..._e?.headers}})}update(je,_e,Me){return this._client.post(`/assistants/${je}`,{body:_e,...Me,headers:{"OpenAI-Beta":"assistants=v2",...Me?.headers}})}list(je={},_e){return isRequestOptions(je)?this.list({},je):this._client.getAPIList("/assistants",AssistantsPage,{query:je,..._e,headers:{"OpenAI-Beta":"assistants=v2",..._e?.headers}})}del(je,_e){return this._client.delete(`/assistants/${je}`,{..._e,headers:{"OpenAI-Beta":"assistants=v2",..._e?.headers}})}}class AssistantsPage extends CursorPage{}Assistants.AssistantsPage=AssistantsPage;function isRunnableFunctionWithParse(Re){return typeof Re.parse=="function"}const isAssistantMessage=Re=>Re?.role==="assistant",isFunctionMessage=Re=>Re?.role==="function",isToolMessage=Re=>Re?.role==="tool";var __classPrivateFieldSet$2=function(Re,je,_e,Me,$e){if(Me==="m")throw new TypeError("Private method is not writable");if(Me==="a"&&!$e)throw new TypeError("Private accessor was defined without a setter");if(typeof je=="function"?Re!==je||!$e:!je.has(Re))throw new TypeError("Cannot write private member to an object whose class did not declare it");return Me==="a"?$e.call(Re,_e):$e?$e.value=_e:je.set(Re,_e),_e},__classPrivateFieldGet$3=function(Re,je,_e,Me){if(_e==="a"&&!Me)throw new TypeError("Private accessor was defined without a getter");if(typeof je=="function"?Re!==je||!Me:!je.has(Re))throw new TypeError("Cannot read private member from an object whose class did not declare it");return _e==="m"?Me:_e==="a"?Me.call(Re):Me?Me.value:je.get(Re)},_EventStream_instances,_EventStream_connectedPromise,_EventStream_resolveConnectedPromise,_EventStream_rejectConnectedPromise,_EventStream_endPromise,_EventStream_resolveEndPromise,_EventStream_rejectEndPromise,_EventStream_listeners,_EventStream_ended,_EventStream_errored,_EventStream_aborted,_EventStream_catchingPromiseCreated,_EventStream_handleError;class EventStream{constructor(){_EventStream_instances.add(this),this.controller=new AbortController,_EventStream_connectedPromise.set(this,void 0),_EventStream_resolveConnectedPromise.set(this,()=>{}),_EventStream_rejectConnectedPromise.set(this,()=>{}),_EventStream_endPromise.set(this,void 0),_EventStream_resolveEndPromise.set(this,()=>{}),_EventStream_rejectEndPromise.set(this,()=>{}),_EventStream_listeners.set(this,{}),_EventStream_ended.set(this,!1),_EventStream_errored.set(this,!1),_EventStream_aborted.set(this,!1),_EventStream_catchingPromiseCreated.set(this,!1),__classPrivateFieldSet$2(this,_EventStream_connectedPromise,new Promise((je,_e)=>{__classPrivateFieldSet$2(this,_EventStream_resolveConnectedPromise,je,"f"),__classPrivateFieldSet$2(this,_EventStream_rejectConnectedPromise,_e,"f")}),"f"),__classPrivateFieldSet$2(this,_EventStream_endPromise,new Promise((je,_e)=>{__classPrivateFieldSet$2(this,_EventStream_resolveEndPromise,je,"f"),__classPrivateFieldSet$2(this,_EventStream_rejectEndPromise,_e,"f")}),"f"),__classPrivateFieldGet$3(this,_EventStream_connectedPromise,"f").catch(()=>{}),__classPrivateFieldGet$3(this,_EventStream_endPromise,"f").catch(()=>{})}_run(je){setTimeout(()=>{je().then(()=>{this._emitFinal(),this._emit("end")},__classPrivateFieldGet$3(this,_EventStream_instances,"m",_EventStream_handleError).bind(this))},0)}_connected(){this.ended||(__classPrivateFieldGet$3(this,_EventStream_resolveConnectedPromise,"f").call(this),this._emit("connect"))}get ended(){return __classPrivateFieldGet$3(this,_EventStream_ended,"f")}get errored(){return __classPrivateFieldGet$3(this,_EventStream_errored,"f")}get aborted(){return __classPrivateFieldGet$3(this,_EventStream_aborted,"f")}abort(){this.controller.abort()}on(je,_e){return(__classPrivateFieldGet$3(this,_EventStream_listeners,"f")[je]||(__classPrivateFieldGet$3(this,_EventStream_listeners,"f")[je]=[])).push({listener:_e}),this}off(je,_e){const Me=__classPrivateFieldGet$3(this,_EventStream_listeners,"f")[je];if(!Me)return this;const $e=Me.findIndex(ke=>ke.listener===_e);return $e>=0&&Me.splice($e,1),this}once(je,_e){return(__classPrivateFieldGet$3(this,_EventStream_listeners,"f")[je]||(__classPrivateFieldGet$3(this,_EventStream_listeners,"f")[je]=[])).push({listener:_e,once:!0}),this}emitted(je){return new Promise((_e,Me)=>{__classPrivateFieldSet$2(this,_EventStream_catchingPromiseCreated,!0,"f"),je!=="error"&&this.once("error",Me),this.once(je,_e)})}async done(){__classPrivateFieldSet$2(this,_EventStream_catchingPromiseCreated,!0,"f"),await __classPrivateFieldGet$3(this,_EventStream_endPromise,"f")}_emit(je,..._e){if(__classPrivateFieldGet$3(this,_EventStream_ended,"f"))return;je==="end"&&(__classPrivateFieldSet$2(this,_EventStream_ended,!0,"f"),__classPrivateFieldGet$3(this,_EventStream_resolveEndPromise,"f").call(this));const Me=__classPrivateFieldGet$3(this,_EventStream_listeners,"f")[je];if(Me&&(__classPrivateFieldGet$3(this,_EventStream_listeners,"f")[je]=Me.filter($e=>!$e.once),Me.forEach(({listener:$e})=>$e(..._e))),je==="abort"){const $e=_e[0];!__classPrivateFieldGet$3(this,_EventStream_catchingPromiseCreated,"f")&&!Me?.length&&Promise.reject($e),__classPrivateFieldGet$3(this,_EventStream_rejectConnectedPromise,"f").call(this,$e),__classPrivateFieldGet$3(this,_EventStream_rejectEndPromise,"f").call(this,$e),this._emit("end");return}if(je==="error"){const $e=_e[0];!__classPrivateFieldGet$3(this,_EventStream_catchingPromiseCreated,"f")&&!Me?.length&&Promise.reject($e),__classPrivateFieldGet$3(this,_EventStream_rejectConnectedPromise,"f").call(this,$e),__classPrivateFieldGet$3(this,_EventStream_rejectEndPromise,"f").call(this,$e),this._emit("end")}}_emitFinal(){}}_EventStream_connectedPromise=new WeakMap,_EventStream_resolveConnectedPromise=new WeakMap,_EventStream_rejectConnectedPromise=new WeakMap,_EventStream_endPromise=new WeakMap,_EventStream_resolveEndPromise=new WeakMap,_EventStream_rejectEndPromise=new WeakMap,_EventStream_listeners=new WeakMap,_EventStream_ended=new WeakMap,_EventStream_errored=new WeakMap,_EventStream_aborted=new WeakMap,_EventStream_catchingPromiseCreated=new WeakMap,_EventStream_instances=new WeakSet,_EventStream_handleError=function Re(je){if(__classPrivateFieldSet$2(this,_EventStream_errored,!0,"f"),je instanceof Error&&je.name==="AbortError"&&(je=new APIUserAbortError),je instanceof APIUserAbortError)return __classPrivateFieldSet$2(this,_EventStream_aborted,!0,"f"),this._emit("abort",je);if(je instanceof OpenAIError)return this._emit("error",je);if(je instanceof Error){const _e=new OpenAIError(je.message);return _e.cause=je,this._emit("error",_e)}return this._emit("error",new OpenAIError(String(je)))};function isAutoParsableResponseFormat(Re){return Re?.$brand==="auto-parseable-response-format"}function isAutoParsableTool(Re){return Re?.$brand==="auto-parseable-tool"}function maybeParseChatCompletion(Re,je){return!je||!hasAutoParseableInput(je)?{...Re,choices:Re.choices.map(_e=>({..._e,message:{..._e.message,parsed:null,..._e.message.tool_calls?{tool_calls:_e.message.tool_calls}:void 0}}))}:parseChatCompletion(Re,je)}function parseChatCompletion(Re,je){const _e=Re.choices.map(Me=>{if(Me.finish_reason==="length")throw new LengthFinishReasonError;if(Me.finish_reason==="content_filter")throw new ContentFilterFinishReasonError;return{...Me,message:{...Me.message,...Me.message.tool_calls?{tool_calls:Me.message.tool_calls?.map($e=>parseToolCall(je,$e))??void 0}:void 0,parsed:Me.message.content&&!Me.message.refusal?parseResponseFormat(je,Me.message.content):null}}});return{...Re,choices:_e}}function parseResponseFormat(Re,je){return Re.response_format?.type!=="json_schema"?null:Re.response_format?.type==="json_schema"?"$parseRaw"in Re.response_format?Re.response_format.$parseRaw(je):JSON.parse(je):null}function parseToolCall(Re,je){const _e=Re.tools?.find(Me=>Me.function?.name===je.function.name);return{...je,function:{...je.function,parsed_arguments:isAutoParsableTool(_e)?_e.$parseRaw(je.function.arguments):_e?.function.strict?JSON.parse(je.function.arguments):null}}}function shouldParseToolCall(Re,je){if(!Re)return!1;const _e=Re.tools?.find(Me=>Me.function?.name===je.function.name);return isAutoParsableTool(_e)||_e?.function.strict||!1}function hasAutoParseableInput(Re){return isAutoParsableResponseFormat(Re.response_format)?!0:Re.tools?.some(je=>isAutoParsableTool(je)||je.type==="function"&&je.function.strict===!0)??!1}function validateInputTools(Re){for(const je of Re??[]){if(je.type!=="function")throw new OpenAIError(`Currently only \`function\` tool types support auto-parsing; Received \`${je.type}\``);if(je.function.strict!==!0)throw new OpenAIError(`The \`${je.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var __classPrivateFieldGet$2=function(Re,je,_e,Me){if(_e==="a"&&!Me)throw new TypeError("Private accessor was defined without a getter");if(typeof je=="function"?Re!==je||!Me:!je.has(Re))throw new TypeError("Cannot read private member from an object whose class did not declare it");return _e==="m"?Me:_e==="a"?Me.call(Re):Me?Me.value:je.get(Re)},_AbstractChatCompletionRunner_instances,_AbstractChatCompletionRunner_getFinalContent,_AbstractChatCompletionRunner_getFinalMessage,_AbstractChatCompletionRunner_getFinalFunctionCall,_AbstractChatCompletionRunner_getFinalFunctionCallResult,_AbstractChatCompletionRunner_calculateTotalUsage,_AbstractChatCompletionRunner_validateParams,_AbstractChatCompletionRunner_stringifyFunctionCallResult;const DEFAULT_MAX_CHAT_COMPLETIONS=10;class AbstractChatCompletionRunner extends EventStream{constructor(){super(...arguments),_AbstractChatCompletionRunner_instances.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(je){this._chatCompletions.push(je),this._emit("chatCompletion",je);const _e=je.choices[0]?.message;return _e&&this._addMessage(_e),je}_addMessage(je,_e=!0){if("content"in je||(je.content=null),this.messages.push(je),_e){if(this._emit("message",je),(isFunctionMessage(je)||isToolMessage(je))&&je.content)this._emit("functionCallResult",je.content);else if(isAssistantMessage(je)&&je.function_call)this._emit("functionCall",je.function_call);else if(isAssistantMessage(je)&&je.tool_calls)for(const Me of je.tool_calls)Me.type==="function"&&this._emit("functionCall",Me.function)}}async finalChatCompletion(){await this.done();const je=this._chatCompletions[this._chatCompletions.length-1];if(!je)throw new OpenAIError("stream ended without producing a ChatCompletion");return je}async finalContent(){return await this.done(),__classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_getFinalContent).call(this)}async finalMessage(){return await this.done(),__classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_getFinalMessage).call(this)}async finalFunctionCall(){return await this.done(),__classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_getFinalFunctionCall).call(this)}async finalFunctionCallResult(){return await this.done(),__classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_getFinalFunctionCallResult).call(this)}async totalUsage(){return await this.done(),__classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_calculateTotalUsage).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const je=this._chatCompletions[this._chatCompletions.length-1];je&&this._emit("finalChatCompletion",je);const _e=__classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_getFinalMessage).call(this);_e&&this._emit("finalMessage",_e);const Me=__classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_getFinalContent).call(this);Me&&this._emit("finalContent",Me);const $e=__classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_getFinalFunctionCall).call(this);$e&&this._emit("finalFunctionCall",$e);const ke=__classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_getFinalFunctionCallResult).call(this);ke!=null&&this._emit("finalFunctionCallResult",ke),this._chatCompletions.some(Ce=>Ce.usage)&&this._emit("totalUsage",__classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_calculateTotalUsage).call(this))}async _createChatCompletion(je,_e,Me){const $e=Me?.signal;$e&&($e.aborted&&this.controller.abort(),$e.addEventListener("abort",()=>this.controller.abort())),__classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_validateParams).call(this,_e);const ke=await je.chat.completions.create({..._e,stream:!1},{...Me,signal:this.controller.signal});return this._connected(),this._addChatCompletion(parseChatCompletion(ke,_e))}async _runChatCompletion(je,_e,Me){for(const $e of _e.messages)this._addMessage($e,!1);return await this._createChatCompletion(je,_e,Me)}async _runFunctions(je,_e,Me){const $e="function",{function_call:ke="auto",stream:Ce,...Be}=_e,qe=typeof ke!="string"&&ke?.name,{maxChatCompletions:He=DEFAULT_MAX_CHAT_COMPLETIONS}=Me||{},We={};for(const Je of _e.functions)We[Je.name||Je.function.name]=Je;const Ke=_e.functions.map(Je=>({name:Je.name||Je.function.name,parameters:Je.parameters,description:Je.description}));for(const Je of _e.messages)this._addMessage(Je,!1);for(let Je=0;Je<He;++Je){const rr=(await this._createChatCompletion(je,{...Be,function_call:ke,functions:Ke,messages:[...this.messages]},Me)).choices[0]?.message;if(!rr)throw new OpenAIError("missing message in ChatCompletion response");if(!rr.function_call)return;const{name:tr,arguments:cr}=rr.function_call,or=We[tr];if(or){if(qe&&qe!==tr){const gr=`Invalid function_call: ${JSON.stringify(tr)}. ${JSON.stringify(qe)} requested. Please try again`;this._addMessage({role:$e,name:tr,content:gr});continue}}else{const gr=`Invalid function_call: ${JSON.stringify(tr)}. Available options are: ${Ke.map(jr=>JSON.stringify(jr.name)).join(", ")}. Please try again`;this._addMessage({role:$e,name:tr,content:gr});continue}let ar;try{ar=isRunnableFunctionWithParse(or)?await or.parse(cr):cr}catch(gr){this._addMessage({role:$e,name:tr,content:gr instanceof Error?gr.message:String(gr)});continue}const pr=await or.function(ar,this),ur=__classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_stringifyFunctionCallResult).call(this,pr);if(this._addMessage({role:$e,name:tr,content:ur}),qe)return}}async _runTools(je,_e,Me){const $e="tool",{tool_choice:ke="auto",stream:Ce,...Be}=_e,qe=typeof ke!="string"&&ke?.function?.name,{maxChatCompletions:He=DEFAULT_MAX_CHAT_COMPLETIONS}=Me||{},We=_e.tools.map(Qe=>{if(isAutoParsableTool(Qe)){if(!Qe.$callback)throw new OpenAIError("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:Qe.$callback,name:Qe.function.name,description:Qe.function.description||"",parameters:Qe.function.parameters,parse:Qe.$parseRaw,strict:!0}}}return Qe}),Ke={};for(const Qe of We)Qe.type==="function"&&(Ke[Qe.function.name||Qe.function.function.name]=Qe.function);const Je="tools"in _e?We.map(Qe=>Qe.type==="function"?{type:"function",function:{name:Qe.function.name||Qe.function.function.name,parameters:Qe.function.parameters,description:Qe.function.description,strict:Qe.function.strict}}:Qe):void 0;for(const Qe of _e.messages)this._addMessage(Qe,!1);for(let Qe=0;Qe<He;++Qe){const tr=(await this._createChatCompletion(je,{...Be,tool_choice:ke,tools:Je,messages:[...this.messages]},Me)).choices[0]?.message;if(!tr)throw new OpenAIError("missing message in ChatCompletion response");if(!tr.tool_calls?.length)return;for(const cr of tr.tool_calls){if(cr.type!=="function")continue;const or=cr.id,{name:ar,arguments:pr}=cr.function,ur=Ke[ar];if(ur){if(qe&&qe!==ar){const dr=`Invalid tool_call: ${JSON.stringify(ar)}. ${JSON.stringify(qe)} requested. Please try again`;this._addMessage({role:$e,tool_call_id:or,content:dr});continue}}else{const dr=`Invalid tool_call: ${JSON.stringify(ar)}. Available options are: ${Object.keys(Ke).map(xr=>JSON.stringify(xr)).join(", ")}. Please try again`;this._addMessage({role:$e,tool_call_id:or,content:dr});continue}let gr;try{gr=isRunnableFunctionWithParse(ur)?await ur.parse(pr):pr}catch(dr){const xr=dr instanceof Error?dr.message:String(dr);this._addMessage({role:$e,tool_call_id:or,content:xr});continue}const jr=await ur.function(gr,this),vr=__classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_stringifyFunctionCallResult).call(this,jr);if(this._addMessage({role:$e,tool_call_id:or,content:vr}),qe)return}}}}_AbstractChatCompletionRunner_instances=new WeakSet,_AbstractChatCompletionRunner_getFinalContent=function Re(){return __classPrivateFieldGet$2(this,_AbstractChatCompletionRunner_instances,"m",_AbstractChatCompletionRunner_getFinalMessage).call(this).content??null},_AbstractChatCompletionRunner_getFinalMessage=function Re(){let je=this.messages.length;for(;je-- >0;){const _e=this.messages[je];if(isAssistantMessage(_e)){const{function_call:Me,...$e}=_e,ke={...$e,content:_e.content??null,refusal:_e.refusal??null};return Me&&(ke.function_call=Me),ke}}throw new OpenAIError("stream ended without producing a ChatCompletionMessage with role=assistant")},_AbstractChatCompletionRunner_getFinalFunctionCall=function Re(){for(let je=this.messages.length-1;je>=0;je--){const _e=this.messages[je];if(isAssistantMessage(_e)&&_e?.function_call)return _e.function_call;if(isAssistantMessage(_e)&&_e?.tool_calls?.length)return _e.tool_calls.at(-1)?.function}},_AbstractChatCompletionRunner_getFinalFunctionCallResult=function Re(){for(let je=this.messages.length-1;je>=0;je--){const _e=this.messages[je];if(isFunctionMessage(_e)&&_e.content!=null||isToolMessage(_e)&&_e.content!=null&&typeof _e.content=="string"&&this.messages.some(Me=>Me.role==="assistant"&&Me.tool_calls?.some($e=>$e.type==="function"&&$e.id===_e.tool_call_id)))return _e.content}},_AbstractChatCompletionRunner_calculateTotalUsage=function Re(){const je={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:_e}of this._chatCompletions)_e&&(je.completion_tokens+=_e.completion_tokens,je.prompt_tokens+=_e.prompt_tokens,je.total_tokens+=_e.total_tokens);return je},_AbstractChatCompletionRunner_validateParams=function Re(je){if(je.n!=null&&je.n>1)throw new OpenAIError("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},_AbstractChatCompletionRunner_stringifyFunctionCallResult=function Re(je){return typeof je=="string"?je:je===void 0?"undefined":JSON.stringify(je)};class ChatCompletionRunner extends AbstractChatCompletionRunner{static runFunctions(je,_e,Me){const $e=new ChatCompletionRunner,ke={...Me,headers:{...Me?.headers,"X-Stainless-Helper-Method":"runFunctions"}};return $e._run(()=>$e._runFunctions(je,_e,ke)),$e}static runTools(je,_e,Me){const $e=new ChatCompletionRunner,ke={...Me,headers:{...Me?.headers,"X-Stainless-Helper-Method":"runTools"}};return $e._run(()=>$e._runTools(je,_e,ke)),$e}_addMessage(je,_e=!0){super._addMessage(je,_e),isAssistantMessage(je)&&je.content&&this._emit("content",je.content)}}const STR=1,NUM=2,ARR=4,OBJ=8,NULL=16,BOOL=32,NAN$1=64,INFINITY$3=128,MINUS_INFINITY=256,INF=INFINITY$3|MINUS_INFINITY,SPECIAL=NULL|BOOL|INF|NAN$1,ATOM=STR|NUM|SPECIAL,COLLECTION=ARR|OBJ,ALL=ATOM|COLLECTION,Allow={STR,NUM,ARR,OBJ,NULL,BOOL,NAN:NAN$1,INFINITY:INFINITY$3,MINUS_INFINITY,INF,SPECIAL,ATOM,COLLECTION,ALL};class PartialJSON extends Error{}class MalformedJSON extends Error{}function parseJSON(Re,je=Allow.ALL){if(typeof Re!="string")throw new TypeError(`expecting str, got ${typeof Re}`);if(!Re.trim())throw new Error(`${Re} is empty`);return _parseJSON(Re.trim(),je)}const _parseJSON=(Re,je)=>{const _e=Re.length;let Me=0;const $e=Je=>{throw new PartialJSON(`${Je} at position ${Me}`)},ke=Je=>{throw new MalformedJSON(`${Je} at position ${Me}`)},Ce=()=>(Ke(),Me>=_e&&$e("Unexpected end of input"),Re[Me]==='"'?Be():Re[Me]==="{"?qe():Re[Me]==="["?He():Re.substring(Me,Me+4)==="null"||Allow.NULL&je&&_e-Me<4&&"null".startsWith(Re.substring(Me))?(Me+=4,null):Re.substring(Me,Me+4)==="true"||Allow.BOOL&je&&_e-Me<4&&"true".startsWith(Re.substring(Me))?(Me+=4,!0):Re.substring(Me,Me+5)==="false"||Allow.BOOL&je&&_e-Me<5&&"false".startsWith(Re.substring(Me))?(Me+=5,!1):Re.substring(Me,Me+8)==="Infinity"||Allow.INFINITY&je&&_e-Me<8&&"Infinity".startsWith(Re.substring(Me))?(Me+=8,1/0):Re.substring(Me,Me+9)==="-Infinity"||Allow.MINUS_INFINITY&je&&1<_e-Me&&_e-Me<9&&"-Infinity".startsWith(Re.substring(Me))?(Me+=9,-1/0):Re.substring(Me,Me+3)==="NaN"||Allow.NAN&je&&_e-Me<3&&"NaN".startsWith(Re.substring(Me))?(Me+=3,NaN):We()),Be=()=>{const Je=Me;let Qe=!1;for(Me++;Me<_e&&(Re[Me]!=='"'||Qe&&Re[Me-1]==="\\");)Qe=Re[Me]==="\\"?!Qe:!1,Me++;if(Re.charAt(Me)=='"')try{return JSON.parse(Re.substring(Je,++Me-Number(Qe)))}catch(rr){ke(String(rr))}else if(Allow.STR&je)try{return JSON.parse(Re.substring(Je,Me-Number(Qe))+'"')}catch{return JSON.parse(Re.substring(Je,Re.lastIndexOf("\\"))+'"')}$e("Unterminated string literal")},qe=()=>{Me++,Ke();const Je={};try{for(;Re[Me]!=="}";){if(Ke(),Me>=_e&&Allow.OBJ&je)return Je;const Qe=Be();Ke(),Me++;try{const rr=Ce();Object.defineProperty(Je,Qe,{value:rr,writable:!0,enumerable:!0,configurable:!0})}catch(rr){if(Allow.OBJ&je)return Je;throw rr}Ke(),Re[Me]===","&&Me++}}catch{if(Allow.OBJ&je)return Je;$e("Expected '}' at end of object")}return Me++,Je},He=()=>{Me++;const Je=[];try{for(;Re[Me]!=="]";)Je.push(Ce()),Ke(),Re[Me]===","&&Me++}catch{if(Allow.ARR&je)return Je;$e("Expected ']' at end of array")}return Me++,Je},We=()=>{if(Me===0){Re==="-"&&Allow.NUM&je&&$e("Not sure what '-' is");try{return JSON.parse(Re)}catch(Qe){if(Allow.NUM&je)try{return Re[Re.length-1]==="."?JSON.parse(Re.substring(0,Re.lastIndexOf("."))):JSON.parse(Re.substring(0,Re.lastIndexOf("e")))}catch{}ke(String(Qe))}}const Je=Me;for(Re[Me]==="-"&&Me++;Re[Me]&&!",]}".includes(Re[Me]);)Me++;Me==_e&&!(Allow.NUM&je)&&$e("Unterminated number literal");try{return JSON.parse(Re.substring(Je,Me))}catch{Re.substring(Je,Me)==="-"&&Allow.NUM&je&&$e("Not sure what '-' is");try{return JSON.parse(Re.substring(Je,Re.lastIndexOf("e")))}catch(rr){ke(String(rr))}}},Ke=()=>{for(;Me<_e&&` 
\r	`.includes(Re[Me]);)Me++};return Ce()},partialParse=Re=>parseJSON(Re,Allow.ALL^Allow.NUM);var __classPrivateFieldSet$1=function(Re,je,_e,Me,$e){if(Me==="m")throw new TypeError("Private method is not writable");if(Me==="a"&&!$e)throw new TypeError("Private accessor was defined without a setter");if(typeof je=="function"?Re!==je||!$e:!je.has(Re))throw new TypeError("Cannot write private member to an object whose class did not declare it");return Me==="a"?$e.call(Re,_e):$e?$e.value=_e:je.set(Re,_e),_e},__classPrivateFieldGet$1=function(Re,je,_e,Me){if(_e==="a"&&!Me)throw new TypeError("Private accessor was defined without a getter");if(typeof je=="function"?Re!==je||!Me:!je.has(Re))throw new TypeError("Cannot read private member from an object whose class did not declare it");return _e==="m"?Me:_e==="a"?Me.call(Re):Me?Me.value:je.get(Re)},_ChatCompletionStream_instances,_ChatCompletionStream_params,_ChatCompletionStream_choiceEventStates,_ChatCompletionStream_currentChatCompletionSnapshot,_ChatCompletionStream_beginRequest,_ChatCompletionStream_getChoiceEventState,_ChatCompletionStream_addChunk,_ChatCompletionStream_emitToolCallDoneEvent,_ChatCompletionStream_emitContentDoneEvents,_ChatCompletionStream_endRequest,_ChatCompletionStream_getAutoParseableResponseFormat,_ChatCompletionStream_accumulateChatCompletion;class ChatCompletionStream extends AbstractChatCompletionRunner{constructor(je){super(),_ChatCompletionStream_instances.add(this),_ChatCompletionStream_params.set(this,void 0),_ChatCompletionStream_choiceEventStates.set(this,void 0),_ChatCompletionStream_currentChatCompletionSnapshot.set(this,void 0),__classPrivateFieldSet$1(this,_ChatCompletionStream_params,je,"f"),__classPrivateFieldSet$1(this,_ChatCompletionStream_choiceEventStates,[],"f")}get currentChatCompletionSnapshot(){return __classPrivateFieldGet$1(this,_ChatCompletionStream_currentChatCompletionSnapshot,"f")}static fromReadableStream(je){const _e=new ChatCompletionStream(null);return _e._run(()=>_e._fromReadableStream(je)),_e}static createChatCompletion(je,_e,Me){const $e=new ChatCompletionStream(_e);return $e._run(()=>$e._runChatCompletion(je,{..._e,stream:!0},{...Me,headers:{...Me?.headers,"X-Stainless-Helper-Method":"stream"}})),$e}async _createChatCompletion(je,_e,Me){super._createChatCompletion;const $e=Me?.signal;$e&&($e.aborted&&this.controller.abort(),$e.addEventListener("abort",()=>this.controller.abort())),__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_beginRequest).call(this);const ke=await je.chat.completions.create({..._e,stream:!0},{...Me,signal:this.controller.signal});this._connected();for await(const Ce of ke)__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_addChunk).call(this,Ce);if(ke.controller.signal?.aborted)throw new APIUserAbortError;return this._addChatCompletion(__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_endRequest).call(this))}async _fromReadableStream(je,_e){const Me=_e?.signal;Me&&(Me.aborted&&this.controller.abort(),Me.addEventListener("abort",()=>this.controller.abort())),__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_beginRequest).call(this),this._connected();const $e=Stream.fromReadableStream(je,this.controller);let ke;for await(const Ce of $e)ke&&ke!==Ce.id&&this._addChatCompletion(__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_endRequest).call(this)),__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_addChunk).call(this,Ce),ke=Ce.id;if($e.controller.signal?.aborted)throw new APIUserAbortError;return this._addChatCompletion(__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_endRequest).call(this))}[(_ChatCompletionStream_params=new WeakMap,_ChatCompletionStream_choiceEventStates=new WeakMap,_ChatCompletionStream_currentChatCompletionSnapshot=new WeakMap,_ChatCompletionStream_instances=new WeakSet,_ChatCompletionStream_beginRequest=function(){this.ended||__classPrivateFieldSet$1(this,_ChatCompletionStream_currentChatCompletionSnapshot,void 0,"f")},_ChatCompletionStream_getChoiceEventState=function(_e){let Me=__classPrivateFieldGet$1(this,_ChatCompletionStream_choiceEventStates,"f")[_e.index];return Me||(Me={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},__classPrivateFieldGet$1(this,_ChatCompletionStream_choiceEventStates,"f")[_e.index]=Me,Me)},_ChatCompletionStream_addChunk=function(_e){if(this.ended)return;const Me=__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_accumulateChatCompletion).call(this,_e);this._emit("chunk",_e,Me);for(const $e of _e.choices){const ke=Me.choices[$e.index];$e.delta.content!=null&&ke.message?.role==="assistant"&&ke.message?.content&&(this._emit("content",$e.delta.content,ke.message.content),this._emit("content.delta",{delta:$e.delta.content,snapshot:ke.message.content,parsed:ke.message.parsed})),$e.delta.refusal!=null&&ke.message?.role==="assistant"&&ke.message?.refusal&&this._emit("refusal.delta",{delta:$e.delta.refusal,snapshot:ke.message.refusal}),$e.logprobs?.content!=null&&ke.message?.role==="assistant"&&this._emit("logprobs.content.delta",{content:$e.logprobs?.content,snapshot:ke.logprobs?.content??[]}),$e.logprobs?.refusal!=null&&ke.message?.role==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:$e.logprobs?.refusal,snapshot:ke.logprobs?.refusal??[]});const Ce=__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_getChoiceEventState).call(this,ke);ke.finish_reason&&(__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_emitContentDoneEvents).call(this,ke),Ce.current_tool_call_index!=null&&__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_emitToolCallDoneEvent).call(this,ke,Ce.current_tool_call_index));for(const Be of $e.delta.tool_calls??[])Ce.current_tool_call_index!==Be.index&&(__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_emitContentDoneEvents).call(this,ke),Ce.current_tool_call_index!=null&&__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_emitToolCallDoneEvent).call(this,ke,Ce.current_tool_call_index)),Ce.current_tool_call_index=Be.index;for(const Be of $e.delta.tool_calls??[]){const qe=ke.message.tool_calls?.[Be.index];qe?.type&&(qe?.type==="function"?this._emit("tool_calls.function.arguments.delta",{name:qe.function?.name,index:Be.index,arguments:qe.function.arguments,parsed_arguments:qe.function.parsed_arguments,arguments_delta:Be.function?.arguments??""}):(qe?.type,void 0))}}},_ChatCompletionStream_emitToolCallDoneEvent=function(_e,Me){if(__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_getChoiceEventState).call(this,_e).done_tool_calls.has(Me))return;const ke=_e.message.tool_calls?.[Me];if(!ke)throw new Error("no tool call snapshot");if(!ke.type)throw new Error("tool call snapshot missing `type`");if(ke.type==="function"){const Ce=__classPrivateFieldGet$1(this,_ChatCompletionStream_params,"f")?.tools?.find(Be=>Be.type==="function"&&Be.function.name===ke.function.name);this._emit("tool_calls.function.arguments.done",{name:ke.function.name,index:Me,arguments:ke.function.arguments,parsed_arguments:isAutoParsableTool(Ce)?Ce.$parseRaw(ke.function.arguments):Ce?.function.strict?JSON.parse(ke.function.arguments):null})}else ke.type},_ChatCompletionStream_emitContentDoneEvents=function(_e){const Me=__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_getChoiceEventState).call(this,_e);if(_e.message.content&&!Me.content_done){Me.content_done=!0;const $e=__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_getAutoParseableResponseFormat).call(this);this._emit("content.done",{content:_e.message.content,parsed:$e?$e.$parseRaw(_e.message.content):null})}_e.message.refusal&&!Me.refusal_done&&(Me.refusal_done=!0,this._emit("refusal.done",{refusal:_e.message.refusal})),_e.logprobs?.content&&!Me.logprobs_content_done&&(Me.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:_e.logprobs.content})),_e.logprobs?.refusal&&!Me.logprobs_refusal_done&&(Me.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:_e.logprobs.refusal}))},_ChatCompletionStream_endRequest=function(){if(this.ended)throw new OpenAIError("stream has ended, this shouldn't happen");const _e=__classPrivateFieldGet$1(this,_ChatCompletionStream_currentChatCompletionSnapshot,"f");if(!_e)throw new OpenAIError("request ended without sending any chunks");return __classPrivateFieldSet$1(this,_ChatCompletionStream_currentChatCompletionSnapshot,void 0,"f"),__classPrivateFieldSet$1(this,_ChatCompletionStream_choiceEventStates,[],"f"),finalizeChatCompletion(_e,__classPrivateFieldGet$1(this,_ChatCompletionStream_params,"f"))},_ChatCompletionStream_getAutoParseableResponseFormat=function(){const _e=__classPrivateFieldGet$1(this,_ChatCompletionStream_params,"f")?.response_format;return isAutoParsableResponseFormat(_e)?_e:null},_ChatCompletionStream_accumulateChatCompletion=function(_e){var Me,$e,ke,Ce;let Be=__classPrivateFieldGet$1(this,_ChatCompletionStream_currentChatCompletionSnapshot,"f");const{choices:qe,...He}=_e;Be?Object.assign(Be,He):Be=__classPrivateFieldSet$1(this,_ChatCompletionStream_currentChatCompletionSnapshot,{...He,choices:[]},"f");for(const{delta:We,finish_reason:Ke,index:Je,logprobs:Qe=null,...rr}of _e.choices){let tr=Be.choices[Je];if(tr||(tr=Be.choices[Je]={finish_reason:Ke,index:Je,message:{},logprobs:Qe,...rr}),Qe)if(!tr.logprobs)tr.logprobs=Object.assign({},Qe);else{const{content:jr,refusal:vr,...dr}=Qe;Object.assign(tr.logprobs,dr),jr&&((Me=tr.logprobs).content??(Me.content=[]),tr.logprobs.content.push(...jr)),vr&&(($e=tr.logprobs).refusal??($e.refusal=[]),tr.logprobs.refusal.push(...vr))}if(Ke&&(tr.finish_reason=Ke,__classPrivateFieldGet$1(this,_ChatCompletionStream_params,"f")&&hasAutoParseableInput(__classPrivateFieldGet$1(this,_ChatCompletionStream_params,"f")))){if(Ke==="length")throw new LengthFinishReasonError;if(Ke==="content_filter")throw new ContentFilterFinishReasonError}if(Object.assign(tr,rr),!We)continue;const{content:cr,refusal:or,function_call:ar,role:pr,tool_calls:ur,...gr}=We;if(Object.assign(tr.message,gr),or&&(tr.message.refusal=(tr.message.refusal||"")+or),pr&&(tr.message.role=pr),ar&&(tr.message.function_call?(ar.name&&(tr.message.function_call.name=ar.name),ar.arguments&&((ke=tr.message.function_call).arguments??(ke.arguments=""),tr.message.function_call.arguments+=ar.arguments)):tr.message.function_call=ar),cr&&(tr.message.content=(tr.message.content||"")+cr,!tr.message.refusal&&__classPrivateFieldGet$1(this,_ChatCompletionStream_instances,"m",_ChatCompletionStream_getAutoParseableResponseFormat).call(this)&&(tr.message.parsed=partialParse(tr.message.content))),ur){tr.message.tool_calls||(tr.message.tool_calls=[]);for(const{index:jr,id:vr,type:dr,function:xr,...Rr}of ur){const Xe=(Ce=tr.message.tool_calls)[jr]??(Ce[jr]={});Object.assign(Xe,Rr),vr&&(Xe.id=vr),dr&&(Xe.type=dr),xr&&(Xe.function??(Xe.function={name:xr.name??"",arguments:""})),xr?.name&&(Xe.function.name=xr.name),xr?.arguments&&(Xe.function.arguments+=xr.arguments,shouldParseToolCall(__classPrivateFieldGet$1(this,_ChatCompletionStream_params,"f"),Xe)&&(Xe.function.parsed_arguments=partialParse(Xe.function.arguments)))}}}return Be},Symbol.asyncIterator)](){const je=[],_e=[];let Me=!1;return this.on("chunk",$e=>{const ke=_e.shift();ke?ke.resolve($e):je.push($e)}),this.on("end",()=>{Me=!0;for(const $e of _e)$e.resolve(void 0);_e.length=0}),this.on("abort",$e=>{Me=!0;for(const ke of _e)ke.reject($e);_e.length=0}),this.on("error",$e=>{Me=!0;for(const ke of _e)ke.reject($e);_e.length=0}),{next:async()=>je.length?{value:je.shift(),done:!1}:Me?{value:void 0,done:!0}:new Promise((ke,Ce)=>_e.push({resolve:ke,reject:Ce})).then(ke=>ke?{value:ke,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Stream(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function finalizeChatCompletion(Re,je){const{id:_e,choices:Me,created:$e,model:ke,system_fingerprint:Ce,...Be}=Re,qe={...Be,id:_e,choices:Me.map(({message:He,finish_reason:We,index:Ke,logprobs:Je,...Qe})=>{if(!We)throw new OpenAIError(`missing finish_reason for choice ${Ke}`);const{content:rr=null,function_call:tr,tool_calls:cr,...or}=He,ar=He.role;if(!ar)throw new OpenAIError(`missing role for choice ${Ke}`);if(tr){const{arguments:pr,name:ur}=tr;if(pr==null)throw new OpenAIError(`missing function_call.arguments for choice ${Ke}`);if(!ur)throw new OpenAIError(`missing function_call.name for choice ${Ke}`);return{...Qe,message:{content:rr,function_call:{arguments:pr,name:ur},role:ar,refusal:He.refusal??null},finish_reason:We,index:Ke,logprobs:Je}}return cr?{...Qe,index:Ke,finish_reason:We,logprobs:Je,message:{...or,role:ar,content:rr,refusal:He.refusal??null,tool_calls:cr.map((pr,ur)=>{const{function:gr,type:jr,id:vr,...dr}=pr,{arguments:xr,name:Rr,...Xe}=gr||{};if(vr==null)throw new OpenAIError(`missing choices[${Ke}].tool_calls[${ur}].id
${str(Re)}`);if(jr==null)throw new OpenAIError(`missing choices[${Ke}].tool_calls[${ur}].type
${str(Re)}`);if(Rr==null)throw new OpenAIError(`missing choices[${Ke}].tool_calls[${ur}].function.name
${str(Re)}`);if(xr==null)throw new OpenAIError(`missing choices[${Ke}].tool_calls[${ur}].function.arguments
${str(Re)}`);return{...dr,id:vr,type:jr,function:{...Xe,name:Rr,arguments:xr}}})}}:{...Qe,message:{...or,content:rr,role:ar,refusal:He.refusal??null},finish_reason:We,index:Ke,logprobs:Je}}),created:$e,model:ke,object:"chat.completion",...Ce?{system_fingerprint:Ce}:{}};return maybeParseChatCompletion(qe,je)}function str(Re){return JSON.stringify(Re)}function assertNever(Re){}class ChatCompletionStreamingRunner extends ChatCompletionStream{static fromReadableStream(je){const _e=new ChatCompletionStreamingRunner(null);return _e._run(()=>_e._fromReadableStream(je)),_e}static runFunctions(je,_e,Me){const $e=new ChatCompletionStreamingRunner(null),ke={...Me,headers:{...Me?.headers,"X-Stainless-Helper-Method":"runFunctions"}};return $e._run(()=>$e._runFunctions(je,_e,ke)),$e}static runTools(je,_e,Me){const $e=new ChatCompletionStreamingRunner(_e),ke={...Me,headers:{...Me?.headers,"X-Stainless-Helper-Method":"runTools"}};return $e._run(()=>$e._runTools(je,_e,ke)),$e}}let Completions$1=class extends APIResource{parse(je,_e){return validateInputTools(je.tools),this._client.chat.completions.create(je,{..._e,headers:{..._e?.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(Me=>parseChatCompletion(Me,je))}runFunctions(je,_e){return je.stream?ChatCompletionStreamingRunner.runFunctions(this._client,je,_e):ChatCompletionRunner.runFunctions(this._client,je,_e)}runTools(je,_e){return je.stream?ChatCompletionStreamingRunner.runTools(this._client,je,_e):ChatCompletionRunner.runTools(this._client,je,_e)}stream(je,_e){return ChatCompletionStream.createChatCompletion(this._client,je,_e)}};class Chat extends APIResource{constructor(){super(...arguments),this.completions=new Completions$1(this._client)}}(function(Re){Re.Completions=Completions$1})(Chat||(Chat={}));class Sessions extends APIResource{create(je,_e){return this._client.post("/realtime/sessions",{body:je,..._e,headers:{"OpenAI-Beta":"assistants=v2",..._e?.headers}})}}class Realtime extends APIResource{constructor(){super(...arguments),this.sessions=new Sessions(this._client)}}Realtime.Sessions=Sessions;var __classPrivateFieldGet=function(Re,je,_e,Me){if(_e==="a"&&!Me)throw new TypeError("Private accessor was defined without a getter");if(typeof je=="function"?Re!==je||!Me:!je.has(Re))throw new TypeError("Cannot read private member from an object whose class did not declare it");return _e==="m"?Me:_e==="a"?Me.call(Re):Me?Me.value:je.get(Re)},__classPrivateFieldSet=function(Re,je,_e,Me,$e){if(Me==="m")throw new TypeError("Private method is not writable");if(Me==="a"&&!$e)throw new TypeError("Private accessor was defined without a setter");if(typeof je=="function"?Re!==je||!$e:!je.has(Re))throw new TypeError("Cannot write private member to an object whose class did not declare it");return Me==="a"?$e.call(Re,_e):$e?$e.value=_e:je.set(Re,_e),_e},_AssistantStream_instances,_AssistantStream_events,_AssistantStream_runStepSnapshots,_AssistantStream_messageSnapshots,_AssistantStream_messageSnapshot,_AssistantStream_finalRun,_AssistantStream_currentContentIndex,_AssistantStream_currentContent,_AssistantStream_currentToolCallIndex,_AssistantStream_currentToolCall,_AssistantStream_currentEvent,_AssistantStream_currentRunSnapshot,_AssistantStream_currentRunStepSnapshot,_AssistantStream_addEvent,_AssistantStream_endRequest,_AssistantStream_handleMessage,_AssistantStream_handleRunStep,_AssistantStream_handleEvent,_AssistantStream_accumulateRunStep,_AssistantStream_accumulateMessage,_AssistantStream_accumulateContent,_AssistantStream_handleRun;class AssistantStream extends EventStream{constructor(){super(...arguments),_AssistantStream_instances.add(this),_AssistantStream_events.set(this,[]),_AssistantStream_runStepSnapshots.set(this,{}),_AssistantStream_messageSnapshots.set(this,{}),_AssistantStream_messageSnapshot.set(this,void 0),_AssistantStream_finalRun.set(this,void 0),_AssistantStream_currentContentIndex.set(this,void 0),_AssistantStream_currentContent.set(this,void 0),_AssistantStream_currentToolCallIndex.set(this,void 0),_AssistantStream_currentToolCall.set(this,void 0),_AssistantStream_currentEvent.set(this,void 0),_AssistantStream_currentRunSnapshot.set(this,void 0),_AssistantStream_currentRunStepSnapshot.set(this,void 0)}[(_AssistantStream_events=new WeakMap,_AssistantStream_runStepSnapshots=new WeakMap,_AssistantStream_messageSnapshots=new WeakMap,_AssistantStream_messageSnapshot=new WeakMap,_AssistantStream_finalRun=new WeakMap,_AssistantStream_currentContentIndex=new WeakMap,_AssistantStream_currentContent=new WeakMap,_AssistantStream_currentToolCallIndex=new WeakMap,_AssistantStream_currentToolCall=new WeakMap,_AssistantStream_currentEvent=new WeakMap,_AssistantStream_currentRunSnapshot=new WeakMap,_AssistantStream_currentRunStepSnapshot=new WeakMap,_AssistantStream_instances=new WeakSet,Symbol.asyncIterator)](){const je=[],_e=[];let Me=!1;return this.on("event",$e=>{const ke=_e.shift();ke?ke.resolve($e):je.push($e)}),this.on("end",()=>{Me=!0;for(const $e of _e)$e.resolve(void 0);_e.length=0}),this.on("abort",$e=>{Me=!0;for(const ke of _e)ke.reject($e);_e.length=0}),this.on("error",$e=>{Me=!0;for(const ke of _e)ke.reject($e);_e.length=0}),{next:async()=>je.length?{value:je.shift(),done:!1}:Me?{value:void 0,done:!0}:new Promise((ke,Ce)=>_e.push({resolve:ke,reject:Ce})).then(ke=>ke?{value:ke,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(je){const _e=new AssistantStream;return _e._run(()=>_e._fromReadableStream(je)),_e}async _fromReadableStream(je,_e){const Me=_e?.signal;Me&&(Me.aborted&&this.controller.abort(),Me.addEventListener("abort",()=>this.controller.abort())),this._connected();const $e=Stream.fromReadableStream(je,this.controller);for await(const ke of $e)__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_addEvent).call(this,ke);if($e.controller.signal?.aborted)throw new APIUserAbortError;return this._addRun(__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_endRequest).call(this))}toReadableStream(){return new Stream(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(je,_e,Me,$e,ke){const Ce=new AssistantStream;return Ce._run(()=>Ce._runToolAssistantStream(je,_e,Me,$e,{...ke,headers:{...ke?.headers,"X-Stainless-Helper-Method":"stream"}})),Ce}async _createToolAssistantStream(je,_e,Me,$e,ke){const Ce=ke?.signal;Ce&&(Ce.aborted&&this.controller.abort(),Ce.addEventListener("abort",()=>this.controller.abort()));const Be={...$e,stream:!0},qe=await je.submitToolOutputs(_e,Me,Be,{...ke,signal:this.controller.signal});this._connected();for await(const He of qe)__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_addEvent).call(this,He);if(qe.controller.signal?.aborted)throw new APIUserAbortError;return this._addRun(__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_endRequest).call(this))}static createThreadAssistantStream(je,_e,Me){const $e=new AssistantStream;return $e._run(()=>$e._threadAssistantStream(je,_e,{...Me,headers:{...Me?.headers,"X-Stainless-Helper-Method":"stream"}})),$e}static createAssistantStream(je,_e,Me,$e){const ke=new AssistantStream;return ke._run(()=>ke._runAssistantStream(je,_e,Me,{...$e,headers:{...$e?.headers,"X-Stainless-Helper-Method":"stream"}})),ke}currentEvent(){return __classPrivateFieldGet(this,_AssistantStream_currentEvent,"f")}currentRun(){return __classPrivateFieldGet(this,_AssistantStream_currentRunSnapshot,"f")}currentMessageSnapshot(){return __classPrivateFieldGet(this,_AssistantStream_messageSnapshot,"f")}currentRunStepSnapshot(){return __classPrivateFieldGet(this,_AssistantStream_currentRunStepSnapshot,"f")}async finalRunSteps(){return await this.done(),Object.values(__classPrivateFieldGet(this,_AssistantStream_runStepSnapshots,"f"))}async finalMessages(){return await this.done(),Object.values(__classPrivateFieldGet(this,_AssistantStream_messageSnapshots,"f"))}async finalRun(){if(await this.done(),!__classPrivateFieldGet(this,_AssistantStream_finalRun,"f"))throw Error("Final run was not received.");return __classPrivateFieldGet(this,_AssistantStream_finalRun,"f")}async _createThreadAssistantStream(je,_e,Me){const $e=Me?.signal;$e&&($e.aborted&&this.controller.abort(),$e.addEventListener("abort",()=>this.controller.abort()));const ke={..._e,stream:!0},Ce=await je.createAndRun(ke,{...Me,signal:this.controller.signal});this._connected();for await(const Be of Ce)__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_addEvent).call(this,Be);if(Ce.controller.signal?.aborted)throw new APIUserAbortError;return this._addRun(__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_endRequest).call(this))}async _createAssistantStream(je,_e,Me,$e){const ke=$e?.signal;ke&&(ke.aborted&&this.controller.abort(),ke.addEventListener("abort",()=>this.controller.abort()));const Ce={...Me,stream:!0},Be=await je.create(_e,Ce,{...$e,signal:this.controller.signal});this._connected();for await(const qe of Be)__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_addEvent).call(this,qe);if(Be.controller.signal?.aborted)throw new APIUserAbortError;return this._addRun(__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_endRequest).call(this))}static accumulateDelta(je,_e){for(const[Me,$e]of Object.entries(_e)){if(!je.hasOwnProperty(Me)){je[Me]=$e;continue}let ke=je[Me];if(ke==null){je[Me]=$e;continue}if(Me==="index"||Me==="type"){je[Me]=$e;continue}if(typeof ke=="string"&&typeof $e=="string")ke+=$e;else if(typeof ke=="number"&&typeof $e=="number")ke+=$e;else if(isObj(ke)&&isObj($e))ke=this.accumulateDelta(ke,$e);else if(Array.isArray(ke)&&Array.isArray($e)){if(ke.every(Ce=>typeof Ce=="string"||typeof Ce=="number")){ke.push(...$e);continue}for(const Ce of $e){if(!isObj(Ce))throw new Error(`Expected array delta entry to be an object but got: ${Ce}`);const Be=Ce.index;if(Be==null)throw console.error(Ce),new Error("Expected array delta entry to have an `index` property");if(typeof Be!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${Be}`);const qe=ke[Be];qe==null?ke.push(Ce):ke[Be]=this.accumulateDelta(qe,Ce)}continue}else throw Error(`Unhandled record type: ${Me}, deltaValue: ${$e}, accValue: ${ke}`);je[Me]=ke}return je}_addRun(je){return je}async _threadAssistantStream(je,_e,Me){return await this._createThreadAssistantStream(_e,je,Me)}async _runAssistantStream(je,_e,Me,$e){return await this._createAssistantStream(_e,je,Me,$e)}async _runToolAssistantStream(je,_e,Me,$e,ke){return await this._createToolAssistantStream(Me,je,_e,$e,ke)}}_AssistantStream_addEvent=function Re(je){if(!this.ended)switch(__classPrivateFieldSet(this,_AssistantStream_currentEvent,je,"f"),__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_handleEvent).call(this,je),je.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_handleRun).call(this,je);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_handleRunStep).call(this,je);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_handleMessage).call(this,je);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},_AssistantStream_endRequest=function Re(){if(this.ended)throw new OpenAIError("stream has ended, this shouldn't happen");if(!__classPrivateFieldGet(this,_AssistantStream_finalRun,"f"))throw Error("Final run has not been received");return __classPrivateFieldGet(this,_AssistantStream_finalRun,"f")},_AssistantStream_handleMessage=function Re(je){const[_e,Me]=__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_accumulateMessage).call(this,je,__classPrivateFieldGet(this,_AssistantStream_messageSnapshot,"f"));__classPrivateFieldSet(this,_AssistantStream_messageSnapshot,_e,"f"),__classPrivateFieldGet(this,_AssistantStream_messageSnapshots,"f")[_e.id]=_e;for(const $e of Me){const ke=_e.content[$e.index];ke?.type=="text"&&this._emit("textCreated",ke.text)}switch(je.event){case"thread.message.created":this._emit("messageCreated",je.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",je.data.delta,_e),je.data.delta.content)for(const $e of je.data.delta.content){if($e.type=="text"&&$e.text){let ke=$e.text,Ce=_e.content[$e.index];if(Ce&&Ce.type=="text")this._emit("textDelta",ke,Ce.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if($e.index!=__classPrivateFieldGet(this,_AssistantStream_currentContentIndex,"f")){if(__classPrivateFieldGet(this,_AssistantStream_currentContent,"f"))switch(__classPrivateFieldGet(this,_AssistantStream_currentContent,"f").type){case"text":this._emit("textDone",__classPrivateFieldGet(this,_AssistantStream_currentContent,"f").text,__classPrivateFieldGet(this,_AssistantStream_messageSnapshot,"f"));break;case"image_file":this._emit("imageFileDone",__classPrivateFieldGet(this,_AssistantStream_currentContent,"f").image_file,__classPrivateFieldGet(this,_AssistantStream_messageSnapshot,"f"));break}__classPrivateFieldSet(this,_AssistantStream_currentContentIndex,$e.index,"f")}__classPrivateFieldSet(this,_AssistantStream_currentContent,_e.content[$e.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(__classPrivateFieldGet(this,_AssistantStream_currentContentIndex,"f")!==void 0){const $e=je.data.content[__classPrivateFieldGet(this,_AssistantStream_currentContentIndex,"f")];if($e)switch($e.type){case"image_file":this._emit("imageFileDone",$e.image_file,__classPrivateFieldGet(this,_AssistantStream_messageSnapshot,"f"));break;case"text":this._emit("textDone",$e.text,__classPrivateFieldGet(this,_AssistantStream_messageSnapshot,"f"));break}}__classPrivateFieldGet(this,_AssistantStream_messageSnapshot,"f")&&this._emit("messageDone",je.data),__classPrivateFieldSet(this,_AssistantStream_messageSnapshot,void 0,"f")}},_AssistantStream_handleRunStep=function Re(je){const _e=__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_accumulateRunStep).call(this,je);switch(__classPrivateFieldSet(this,_AssistantStream_currentRunStepSnapshot,_e,"f"),je.event){case"thread.run.step.created":this._emit("runStepCreated",je.data);break;case"thread.run.step.delta":const Me=je.data.delta;if(Me.step_details&&Me.step_details.type=="tool_calls"&&Me.step_details.tool_calls&&_e.step_details.type=="tool_calls")for(const ke of Me.step_details.tool_calls)ke.index==__classPrivateFieldGet(this,_AssistantStream_currentToolCallIndex,"f")?this._emit("toolCallDelta",ke,_e.step_details.tool_calls[ke.index]):(__classPrivateFieldGet(this,_AssistantStream_currentToolCall,"f")&&this._emit("toolCallDone",__classPrivateFieldGet(this,_AssistantStream_currentToolCall,"f")),__classPrivateFieldSet(this,_AssistantStream_currentToolCallIndex,ke.index,"f"),__classPrivateFieldSet(this,_AssistantStream_currentToolCall,_e.step_details.tool_calls[ke.index],"f"),__classPrivateFieldGet(this,_AssistantStream_currentToolCall,"f")&&this._emit("toolCallCreated",__classPrivateFieldGet(this,_AssistantStream_currentToolCall,"f")));this._emit("runStepDelta",je.data.delta,_e);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":__classPrivateFieldSet(this,_AssistantStream_currentRunStepSnapshot,void 0,"f"),je.data.step_details.type=="tool_calls"&&__classPrivateFieldGet(this,_AssistantStream_currentToolCall,"f")&&(this._emit("toolCallDone",__classPrivateFieldGet(this,_AssistantStream_currentToolCall,"f")),__classPrivateFieldSet(this,_AssistantStream_currentToolCall,void 0,"f")),this._emit("runStepDone",je.data,_e);break}},_AssistantStream_handleEvent=function Re(je){__classPrivateFieldGet(this,_AssistantStream_events,"f").push(je),this._emit("event",je)},_AssistantStream_accumulateRunStep=function Re(je){switch(je.event){case"thread.run.step.created":return __classPrivateFieldGet(this,_AssistantStream_runStepSnapshots,"f")[je.data.id]=je.data,je.data;case"thread.run.step.delta":let _e=__classPrivateFieldGet(this,_AssistantStream_runStepSnapshots,"f")[je.data.id];if(!_e)throw Error("Received a RunStepDelta before creation of a snapshot");let Me=je.data;if(Me.delta){const $e=AssistantStream.accumulateDelta(_e,Me.delta);__classPrivateFieldGet(this,_AssistantStream_runStepSnapshots,"f")[je.data.id]=$e}return __classPrivateFieldGet(this,_AssistantStream_runStepSnapshots,"f")[je.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":__classPrivateFieldGet(this,_AssistantStream_runStepSnapshots,"f")[je.data.id]=je.data;break}if(__classPrivateFieldGet(this,_AssistantStream_runStepSnapshots,"f")[je.data.id])return __classPrivateFieldGet(this,_AssistantStream_runStepSnapshots,"f")[je.data.id];throw new Error("No snapshot available")},_AssistantStream_accumulateMessage=function Re(je,_e){let Me=[];switch(je.event){case"thread.message.created":return[je.data,Me];case"thread.message.delta":if(!_e)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let $e=je.data;if($e.delta.content)for(const ke of $e.delta.content)if(ke.index in _e.content){let Ce=_e.content[ke.index];_e.content[ke.index]=__classPrivateFieldGet(this,_AssistantStream_instances,"m",_AssistantStream_accumulateContent).call(this,ke,Ce)}else _e.content[ke.index]=ke,Me.push(ke);return[_e,Me];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(_e)return[_e,Me];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},_AssistantStream_accumulateContent=function Re(je,_e){return AssistantStream.accumulateDelta(_e,je)},_AssistantStream_handleRun=function Re(je){switch(__classPrivateFieldSet(this,_AssistantStream_currentRunSnapshot,je.data,"f"),je.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":__classPrivateFieldSet(this,_AssistantStream_finalRun,je.data,"f"),__classPrivateFieldGet(this,_AssistantStream_currentToolCall,"f")&&(this._emit("toolCallDone",__classPrivateFieldGet(this,_AssistantStream_currentToolCall,"f")),__classPrivateFieldSet(this,_AssistantStream_currentToolCall,void 0,"f"));break}};class Messages extends APIResource{create(je,_e,Me){return this._client.post(`/threads/${je}/messages`,{body:_e,...Me,headers:{"OpenAI-Beta":"assistants=v2",...Me?.headers}})}retrieve(je,_e,Me){return this._client.get(`/threads/${je}/messages/${_e}`,{...Me,headers:{"OpenAI-Beta":"assistants=v2",...Me?.headers}})}update(je,_e,Me,$e){return this._client.post(`/threads/${je}/messages/${_e}`,{body:Me,...$e,headers:{"OpenAI-Beta":"assistants=v2",...$e?.headers}})}list(je,_e={},Me){return isRequestOptions(_e)?this.list(je,{},_e):this._client.getAPIList(`/threads/${je}/messages`,MessagesPage,{query:_e,...Me,headers:{"OpenAI-Beta":"assistants=v2",...Me?.headers}})}del(je,_e,Me){return this._client.delete(`/threads/${je}/messages/${_e}`,{...Me,headers:{"OpenAI-Beta":"assistants=v2",...Me?.headers}})}}class MessagesPage extends CursorPage{}Messages.MessagesPage=MessagesPage;class Steps extends APIResource{retrieve(je,_e,Me,$e={},ke){return isRequestOptions($e)?this.retrieve(je,_e,Me,{},$e):this._client.get(`/threads/${je}/runs/${_e}/steps/${Me}`,{query:$e,...ke,headers:{"OpenAI-Beta":"assistants=v2",...ke?.headers}})}list(je,_e,Me={},$e){return isRequestOptions(Me)?this.list(je,_e,{},Me):this._client.getAPIList(`/threads/${je}/runs/${_e}/steps`,RunStepsPage,{query:Me,...$e,headers:{"OpenAI-Beta":"assistants=v2",...$e?.headers}})}}class RunStepsPage extends CursorPage{}Steps.RunStepsPage=RunStepsPage;class Runs extends APIResource{constructor(){super(...arguments),this.steps=new Steps(this._client)}create(je,_e,Me){const{include:$e,...ke}=_e;return this._client.post(`/threads/${je}/runs`,{query:{include:$e},body:ke,...Me,headers:{"OpenAI-Beta":"assistants=v2",...Me?.headers},stream:_e.stream??!1})}retrieve(je,_e,Me){return this._client.get(`/threads/${je}/runs/${_e}`,{...Me,headers:{"OpenAI-Beta":"assistants=v2",...Me?.headers}})}update(je,_e,Me,$e){return this._client.post(`/threads/${je}/runs/${_e}`,{body:Me,...$e,headers:{"OpenAI-Beta":"assistants=v2",...$e?.headers}})}list(je,_e={},Me){return isRequestOptions(_e)?this.list(je,{},_e):this._client.getAPIList(`/threads/${je}/runs`,RunsPage,{query:_e,...Me,headers:{"OpenAI-Beta":"assistants=v2",...Me?.headers}})}cancel(je,_e,Me){return this._client.post(`/threads/${je}/runs/${_e}/cancel`,{...Me,headers:{"OpenAI-Beta":"assistants=v2",...Me?.headers}})}async createAndPoll(je,_e,Me){const $e=await this.create(je,_e,Me);return await this.poll(je,$e.id,Me)}createAndStream(je,_e,Me){return AssistantStream.createAssistantStream(je,this._client.beta.threads.runs,_e,Me)}async poll(je,_e,Me){const $e={...Me?.headers,"X-Stainless-Poll-Helper":"true"};for(Me?.pollIntervalMs&&($e["X-Stainless-Custom-Poll-Interval"]=Me.pollIntervalMs.toString());;){const{data:ke,response:Ce}=await this.retrieve(je,_e,{...Me,headers:{...Me?.headers,...$e}}).withResponse();switch(ke.status){case"queued":case"in_progress":case"cancelling":let Be=5e3;if(Me?.pollIntervalMs)Be=Me.pollIntervalMs;else{const qe=Ce.headers.get("openai-poll-after-ms");if(qe){const He=parseInt(qe);isNaN(He)||(Be=He)}}await sleep(Be);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return ke}}}stream(je,_e,Me){return AssistantStream.createAssistantStream(je,this._client.beta.threads.runs,_e,Me)}submitToolOutputs(je,_e,Me,$e){return this._client.post(`/threads/${je}/runs/${_e}/submit_tool_outputs`,{body:Me,...$e,headers:{"OpenAI-Beta":"assistants=v2",...$e?.headers},stream:Me.stream??!1})}async submitToolOutputsAndPoll(je,_e,Me,$e){const ke=await this.submitToolOutputs(je,_e,Me,$e);return await this.poll(je,ke.id,$e)}submitToolOutputsStream(je,_e,Me,$e){return AssistantStream.createToolAssistantStream(je,_e,this._client.beta.threads.runs,Me,$e)}}class RunsPage extends CursorPage{}Runs.RunsPage=RunsPage;Runs.Steps=Steps;Runs.RunStepsPage=RunStepsPage;class Threads extends APIResource{constructor(){super(...arguments),this.runs=new Runs(this._client),this.messages=new Messages(this._client)}create(je={},_e){return isRequestOptions(je)?this.create({},je):this._client.post("/threads",{body:je,..._e,headers:{"OpenAI-Beta":"assistants=v2",..._e?.headers}})}retrieve(je,_e){return this._client.get(`/threads/${je}`,{..._e,headers:{"OpenAI-Beta":"assistants=v2",..._e?.headers}})}update(je,_e,Me){return this._client.post(`/threads/${je}`,{body:_e,...Me,headers:{"OpenAI-Beta":"assistants=v2",...Me?.headers}})}del(je,_e){return this._client.delete(`/threads/${je}`,{..._e,headers:{"OpenAI-Beta":"assistants=v2",..._e?.headers}})}createAndRun(je,_e){return this._client.post("/threads/runs",{body:je,..._e,headers:{"OpenAI-Beta":"assistants=v2",..._e?.headers},stream:je.stream??!1})}async createAndRunPoll(je,_e){const Me=await this.createAndRun(je,_e);return await this.runs.poll(Me.thread_id,Me.id,_e)}createAndRunStream(je,_e){return AssistantStream.createThreadAssistantStream(je,this._client.beta.threads,_e)}}Threads.Runs=Runs;Threads.RunsPage=RunsPage;Threads.Messages=Messages;Threads.MessagesPage=MessagesPage;const allSettledWithThrow=async Re=>{const je=await Promise.allSettled(Re),_e=je.filter($e=>$e.status==="rejected");if(_e.length){for(const $e of _e)console.error($e.reason);throw new Error(`${_e.length} promise(s) failed - see the above errors`)}const Me=[];for(const $e of je)$e.status==="fulfilled"&&Me.push($e.value);return Me};let Files$1=class extends APIResource{create(je,_e,Me){return this._client.post(`/vector_stores/${je}/files`,{body:_e,...Me,headers:{"OpenAI-Beta":"assistants=v2",...Me?.headers}})}retrieve(je,_e,Me){return this._client.get(`/vector_stores/${je}/files/${_e}`,{...Me,headers:{"OpenAI-Beta":"assistants=v2",...Me?.headers}})}list(je,_e={},Me){return isRequestOptions(_e)?this.list(je,{},_e):this._client.getAPIList(`/vector_stores/${je}/files`,VectorStoreFilesPage,{query:_e,...Me,headers:{"OpenAI-Beta":"assistants=v2",...Me?.headers}})}del(je,_e,Me){return this._client.delete(`/vector_stores/${je}/files/${_e}`,{...Me,headers:{"OpenAI-Beta":"assistants=v2",...Me?.headers}})}async createAndPoll(je,_e,Me){const $e=await this.create(je,_e,Me);return await this.poll(je,$e.id,Me)}async poll(je,_e,Me){const $e={...Me?.headers,"X-Stainless-Poll-Helper":"true"};for(Me?.pollIntervalMs&&($e["X-Stainless-Custom-Poll-Interval"]=Me.pollIntervalMs.toString());;){const ke=await this.retrieve(je,_e,{...Me,headers:$e}).withResponse(),Ce=ke.data;switch(Ce.status){case"in_progress":let Be=5e3;if(Me?.pollIntervalMs)Be=Me.pollIntervalMs;else{const qe=ke.response.headers.get("openai-poll-after-ms");if(qe){const He=parseInt(qe);isNaN(He)||(Be=He)}}await sleep(Be);break;case"failed":case"completed":return Ce}}}async upload(je,_e,Me){const $e=await this._client.files.create({file:_e,purpose:"assistants"},Me);return this.create(je,{file_id:$e.id},Me)}async uploadAndPoll(je,_e,Me){const $e=await this.upload(je,_e,Me);return await this.poll(je,$e.id,Me)}};class VectorStoreFilesPage extends CursorPage{}Files$1.VectorStoreFilesPage=VectorStoreFilesPage;class FileBatches extends APIResource{create(je,_e,Me){return this._client.post(`/vector_stores/${je}/file_batches`,{body:_e,...Me,headers:{"OpenAI-Beta":"assistants=v2",...Me?.headers}})}retrieve(je,_e,Me){return this._client.get(`/vector_stores/${je}/file_batches/${_e}`,{...Me,headers:{"OpenAI-Beta":"assistants=v2",...Me?.headers}})}cancel(je,_e,Me){return this._client.post(`/vector_stores/${je}/file_batches/${_e}/cancel`,{...Me,headers:{"OpenAI-Beta":"assistants=v2",...Me?.headers}})}async createAndPoll(je,_e,Me){const $e=await this.create(je,_e);return await this.poll(je,$e.id,Me)}listFiles(je,_e,Me={},$e){return isRequestOptions(Me)?this.listFiles(je,_e,{},Me):this._client.getAPIList(`/vector_stores/${je}/file_batches/${_e}/files`,VectorStoreFilesPage,{query:Me,...$e,headers:{"OpenAI-Beta":"assistants=v2",...$e?.headers}})}async poll(je,_e,Me){const $e={...Me?.headers,"X-Stainless-Poll-Helper":"true"};for(Me?.pollIntervalMs&&($e["X-Stainless-Custom-Poll-Interval"]=Me.pollIntervalMs.toString());;){const{data:ke,response:Ce}=await this.retrieve(je,_e,{...Me,headers:$e}).withResponse();switch(ke.status){case"in_progress":let Be=5e3;if(Me?.pollIntervalMs)Be=Me.pollIntervalMs;else{const qe=Ce.headers.get("openai-poll-after-ms");if(qe){const He=parseInt(qe);isNaN(He)||(Be=He)}}await sleep(Be);break;case"failed":case"cancelled":case"completed":return ke}}}async uploadAndPoll(je,{files:_e,fileIds:Me=[]},$e){if(_e==null||_e.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const ke=$e?.maxConcurrency??5,Ce=Math.min(ke,_e.length),Be=this._client,qe=_e.values(),He=[...Me];async function We(Je){for(let Qe of Je){const rr=await Be.files.create({file:Qe,purpose:"assistants"},$e);He.push(rr.id)}}const Ke=Array(Ce).fill(qe).map(We);return await allSettledWithThrow(Ke),await this.createAndPoll(je,{file_ids:He})}}class VectorStores extends APIResource{constructor(){super(...arguments),this.files=new Files$1(this._client),this.fileBatches=new FileBatches(this._client)}create(je,_e){return this._client.post("/vector_stores",{body:je,..._e,headers:{"OpenAI-Beta":"assistants=v2",..._e?.headers}})}retrieve(je,_e){return this._client.get(`/vector_stores/${je}`,{..._e,headers:{"OpenAI-Beta":"assistants=v2",..._e?.headers}})}update(je,_e,Me){return this._client.post(`/vector_stores/${je}`,{body:_e,...Me,headers:{"OpenAI-Beta":"assistants=v2",...Me?.headers}})}list(je={},_e){return isRequestOptions(je)?this.list({},je):this._client.getAPIList("/vector_stores",VectorStoresPage,{query:je,..._e,headers:{"OpenAI-Beta":"assistants=v2",..._e?.headers}})}del(je,_e){return this._client.delete(`/vector_stores/${je}`,{..._e,headers:{"OpenAI-Beta":"assistants=v2",..._e?.headers}})}}class VectorStoresPage extends CursorPage{}VectorStores.VectorStoresPage=VectorStoresPage;VectorStores.Files=Files$1;VectorStores.VectorStoreFilesPage=VectorStoreFilesPage;VectorStores.FileBatches=FileBatches;class Beta extends APIResource{constructor(){super(...arguments),this.realtime=new Realtime(this._client),this.vectorStores=new VectorStores(this._client),this.chat=new Chat(this._client),this.assistants=new Assistants(this._client),this.threads=new Threads(this._client)}}Beta.Realtime=Realtime;Beta.VectorStores=VectorStores;Beta.VectorStoresPage=VectorStoresPage;Beta.Assistants=Assistants;Beta.AssistantsPage=AssistantsPage;Beta.Threads=Threads;class Completions extends APIResource{create(je,_e){return this._client.post("/completions",{body:je,..._e,stream:je.stream??!1})}}class Embeddings extends APIResource{create(je,_e){return this._client.post("/embeddings",{body:je,..._e})}}class Files extends APIResource{create(je,_e){return this._client.post("/files",multipartFormRequestOptions({body:je,..._e}))}retrieve(je,_e){return this._client.get(`/files/${je}`,_e)}list(je={},_e){return isRequestOptions(je)?this.list({},je):this._client.getAPIList("/files",FileObjectsPage,{query:je,..._e})}del(je,_e){return this._client.delete(`/files/${je}`,_e)}content(je,_e){return this._client.get(`/files/${je}/content`,{..._e,headers:{Accept:"application/binary",..._e?.headers},__binaryResponse:!0})}retrieveContent(je,_e){return this._client.get(`/files/${je}/content`,_e)}async waitForProcessing(je,{pollInterval:_e=5e3,maxWait:Me=30*60*1e3}={}){const $e=new Set(["processed","error","deleted"]),ke=Date.now();let Ce=await this.retrieve(je);for(;!Ce.status||!$e.has(Ce.status);)if(await sleep(_e),Ce=await this.retrieve(je),Date.now()-ke>Me)throw new APIConnectionTimeoutError({message:`Giving up on waiting for file ${je} to finish processing after ${Me} milliseconds.`});return Ce}}class FileObjectsPage extends CursorPage{}Files.FileObjectsPage=FileObjectsPage;class Checkpoints extends APIResource{list(je,_e={},Me){return isRequestOptions(_e)?this.list(je,{},_e):this._client.getAPIList(`/fine_tuning/jobs/${je}/checkpoints`,FineTuningJobCheckpointsPage,{query:_e,...Me})}}class FineTuningJobCheckpointsPage extends CursorPage{}Checkpoints.FineTuningJobCheckpointsPage=FineTuningJobCheckpointsPage;class Jobs extends APIResource{constructor(){super(...arguments),this.checkpoints=new Checkpoints(this._client)}create(je,_e){return this._client.post("/fine_tuning/jobs",{body:je,..._e})}retrieve(je,_e){return this._client.get(`/fine_tuning/jobs/${je}`,_e)}list(je={},_e){return isRequestOptions(je)?this.list({},je):this._client.getAPIList("/fine_tuning/jobs",FineTuningJobsPage,{query:je,..._e})}cancel(je,_e){return this._client.post(`/fine_tuning/jobs/${je}/cancel`,_e)}listEvents(je,_e={},Me){return isRequestOptions(_e)?this.listEvents(je,{},_e):this._client.getAPIList(`/fine_tuning/jobs/${je}/events`,FineTuningJobEventsPage,{query:_e,...Me})}}class FineTuningJobsPage extends CursorPage{}class FineTuningJobEventsPage extends CursorPage{}Jobs.FineTuningJobsPage=FineTuningJobsPage;Jobs.FineTuningJobEventsPage=FineTuningJobEventsPage;Jobs.Checkpoints=Checkpoints;Jobs.FineTuningJobCheckpointsPage=FineTuningJobCheckpointsPage;class FineTuning extends APIResource{constructor(){super(...arguments),this.jobs=new Jobs(this._client)}}FineTuning.Jobs=Jobs;FineTuning.FineTuningJobsPage=FineTuningJobsPage;FineTuning.FineTuningJobEventsPage=FineTuningJobEventsPage;class Images extends APIResource{createVariation(je,_e){return this._client.post("/images/variations",multipartFormRequestOptions({body:je,..._e}))}edit(je,_e){return this._client.post("/images/edits",multipartFormRequestOptions({body:je,..._e}))}generate(je,_e){return this._client.post("/images/generations",{body:je,..._e})}}class Models extends APIResource{retrieve(je,_e){return this._client.get(`/models/${je}`,_e)}list(je){return this._client.getAPIList("/models",ModelsPage,je)}del(je,_e){return this._client.delete(`/models/${je}`,_e)}}class ModelsPage extends Page{}Models.ModelsPage=ModelsPage;class Moderations extends APIResource{create(je,_e){return this._client.post("/moderations",{body:je,..._e})}}class Parts extends APIResource{create(je,_e,Me){return this._client.post(`/uploads/${je}/parts`,multipartFormRequestOptions({body:_e,...Me}))}}class Uploads extends APIResource{constructor(){super(...arguments),this.parts=new Parts(this._client)}create(je,_e){return this._client.post("/uploads",{body:je,..._e})}cancel(je,_e){return this._client.post(`/uploads/${je}/cancel`,_e)}complete(je,_e,Me){return this._client.post(`/uploads/${je}/complete`,{body:_e,...Me})}}Uploads.Parts=Parts;var _a;let OpenAI$1=class extends APIClient{constructor({baseURL:je=readEnv("OPENAI_BASE_URL"),apiKey:_e=readEnv("OPENAI_API_KEY"),organization:Me=readEnv("OPENAI_ORG_ID")??null,project:$e=readEnv("OPENAI_PROJECT_ID")??null,...ke}={}){if(_e===void 0)throw new OpenAIError("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const Ce={apiKey:_e,organization:Me,project:$e,...ke,baseURL:je||"https://api.openai.com/v1"};if(!Ce.dangerouslyAllowBrowser&&isRunningInBrowser())throw new OpenAIError(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:Ce.baseURL,timeout:Ce.timeout??6e5,httpAgent:Ce.httpAgent,maxRetries:Ce.maxRetries,fetch:Ce.fetch}),this.completions=new Completions(this),this.chat=new Chat$1(this),this.embeddings=new Embeddings(this),this.files=new Files(this),this.images=new Images(this),this.audio=new Audio(this),this.moderations=new Moderations(this),this.models=new Models(this),this.fineTuning=new FineTuning(this),this.beta=new Beta(this),this.batches=new Batches(this),this.uploads=new Uploads(this),this._options=Ce,this.apiKey=_e,this.organization=Me,this.project=$e}defaultQuery(){return this._options.defaultQuery}defaultHeaders(je){return{...super.defaultHeaders(je),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(je){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(je){return stringify(je,{arrayFormat:"brackets"})}};_a=OpenAI$1;OpenAI$1.OpenAI=_a;OpenAI$1.DEFAULT_TIMEOUT=6e5;OpenAI$1.OpenAIError=OpenAIError;OpenAI$1.APIError=APIError;OpenAI$1.APIConnectionError=APIConnectionError;OpenAI$1.APIConnectionTimeoutError=APIConnectionTimeoutError;OpenAI$1.APIUserAbortError=APIUserAbortError;OpenAI$1.NotFoundError=NotFoundError;OpenAI$1.ConflictError=ConflictError;OpenAI$1.RateLimitError=RateLimitError;OpenAI$1.BadRequestError=BadRequestError;OpenAI$1.AuthenticationError=AuthenticationError;OpenAI$1.InternalServerError=InternalServerError;OpenAI$1.PermissionDeniedError=PermissionDeniedError;OpenAI$1.UnprocessableEntityError=UnprocessableEntityError;OpenAI$1.toFile=toFile;OpenAI$1.fileFromPath=fileFromPath;OpenAI$1.Completions=Completions;OpenAI$1.Chat=Chat$1;OpenAI$1.ChatCompletionsPage=ChatCompletionsPage;OpenAI$1.Embeddings=Embeddings;OpenAI$1.Files=Files;OpenAI$1.FileObjectsPage=FileObjectsPage;OpenAI$1.Images=Images;OpenAI$1.Audio=Audio;OpenAI$1.Moderations=Moderations;OpenAI$1.Models=Models;OpenAI$1.ModelsPage=ModelsPage;OpenAI$1.FineTuning=FineTuning;OpenAI$1.Beta=Beta;OpenAI$1.Batches=Batches;OpenAI$1.BatchesPage=BatchesPage;OpenAI$1.Uploads=Uploads;const openai=new OpenAI$1({apiKey:"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",dangerouslyAllowBrowser:!0}),articleService={async generateArticle(Re){try{const _e=(await openai.chat.completions.create({model:"gpt-3.5-turbo",messages:[{role:"system",content:`You are an expert AI technology and market analyst. Write an insightful article about ${Re} in the AI industry. Include current trends, statistics, and future predictions. Format the response in markdown.`}],temperature:.7,max_tokens:1500})).choices[0].message.content,$e=(await openai.chat.completions.create({model:"gpt-3.5-turbo",messages:[{role:"system",content:"Generate a compelling title for this article:"},{role:"user",content:_e}],temperature:.7,max_tokens:50})).choices[0].message.content,Ce=(await openai.chat.completions.create({model:"gpt-3.5-turbo",messages:[{role:"system",content:"Generate a brief 2-3 sentence summary of this article:"},{role:"user",content:_e}],temperature:.7,max_tokens:100})).choices[0].message.content,{data:Be,error:qe}=await supabase.from("ai_articles").insert([{title:$e?.replace(/["']/g,""),content:_e,summary:Ce,category:Re,status:"published",published_at:new Date().toISOString(),image_url:`https://source.unsplash.com/featured/?${Re},technology,ai`}]).select().single();if(qe)throw qe;return Be}catch(je){throw console.error("Error generating article:",je),je}},async getLatestArticles(Re=3){try{const{data:je,error:_e}=await supabase.from("ai_articles").select("*").eq("status","published").order("published_at",{ascending:!1}).limit(Re);if(_e)throw _e;return je||[]}catch(je){throw console.error("Error fetching articles:",je),je}},async getArticleById(Re){try{const{data:je,error:_e}=await supabase.from("ai_articles").select("*").eq("id",Re).single();if(_e)throw _e;return je}catch(je){throw console.error("Error fetching article:",je),je}},async scheduleArticleGeneration(){try{const Re=["market_trends","technology","business_impact"];for(const je of Re)await this.generateArticle(je)}catch(Re){throw console.error("Error scheduling article generation:",Re),Re}}},AIMarket=()=>{const[Re,je]=reactExports.useState([]),[_e,Me]=reactExports.useState(!0);return reactExports.useEffect(()=>{(async()=>{try{const ke=await articleService.getLatestArticles(3);je(ke)}catch(ke){console.error("Error loading articles:",ke),c$1.error("Failed to load latest articles")}finally{Me(!1)}})()},[]),jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-dark-950",children:[jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-b from-primary-900 to-primary-800 py-16",children:jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4",children:jsxRuntimeExports.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"AI Market Insights"}),jsxRuntimeExports.jsx("p",{className:"text-xl text-primary-200",children:"Stay ahead with the latest trends, insights, and innovations in AI technology."})]})})}),jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4 py-16",children:jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:_e?jsxRuntimeExports.jsxs("div",{className:"col-span-3 text-center py-12",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500 mx-auto"}),jsxRuntimeExports.jsx("p",{className:"mt-4 text-gray-400",children:"Loading latest articles..."})]}):Re.length>0?Re.map($e=>jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[jsxRuntimeExports.jsx("img",{src:$e.image_url,alt:$e.title,className:"w-full h-48 object-cover rounded-lg mb-6"}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:$e.title}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 mb-4",children:$e.summary}),jsxRuntimeExports.jsxs(Link,{to:`/blog/article/${$e.id}`,className:"inline-flex items-center text-primary-400 hover:text-primary-300",children:["Read more ",jsxRuntimeExports.jsx(ChevronRight,{size:16,className:"ml-1"})]})]},$e.id)):jsxRuntimeExports.jsx("div",{className:"col-span-3 text-center py-12",children:jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"No articles available"})})})}),jsxRuntimeExports.jsx("div",{className:"bg-dark-900 py-16",children:jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-white text-center mb-12",children:"AI Market Statistics"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 border border-dark-700",children:[jsxRuntimeExports.jsx("div",{className:"text-4xl font-bold text-primary-400 mb-2",children:"$500B+"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Global AI market size by 2025"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 border border-dark-700",children:[jsxRuntimeExports.jsx("div",{className:"text-4xl font-bold text-primary-400 mb-2",children:"85%"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Companies adopting AI by 2025"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 border border-dark-700",children:[jsxRuntimeExports.jsx("div",{className:"text-4xl font-bold text-primary-400 mb-2",children:"40%"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Productivity increase with AI"})]})]})]})}),jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4 py-16",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-white text-center mb-12",children:"Latest Market Insights"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[{title:"AI Security Trends",description:"Latest developments in AI security and compliance.",icon:Shield},{title:"Workforce Impact",description:"How AI is transforming the modern workforce.",icon:Users},{title:"Investment Opportunities",description:"Key areas for AI investment in 2025.",icon:Star}].map(($e,ke)=>jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 border border-dark-700",children:[jsxRuntimeExports.jsx($e.icon,{className:"text-primary-500 mb-4",size:24}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:$e.title}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:$e.description})]},ke))})]}),jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4 py-16",children:jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-r from-primary-800 to-primary-900 rounded-2xl p-8 md:p-12 text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Stay Ahead of the AI Curve"}),jsxRuntimeExports.jsx("p",{className:"text-primary-200 text-lg mb-8 max-w-2xl mx-auto",children:"Subscribe to our newsletter for weekly AI market insights and analysis."}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[jsxRuntimeExports.jsx(Link,{to:"/register",className:"btn btn-primary bg-white text-primary-900 hover:bg-gray-100 px-6 py-3",children:"Subscribe Now"}),jsxRuntimeExports.jsx(Link,{to:"/blog",className:"btn btn-secondary border border-white text-white hover:bg-primary-700 px-6 py-3",children:"View All Articles"})]})]})})]})},AIGrowthPartner=()=>jsxRuntimeExports.jsxs("div",{className:"space-y-16",children:[jsxRuntimeExports.jsx("section",{className:"bg-gradient-to-br from-primary-900 to-primary-800 rounded-2xl p-8 md:p-12",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Your AI Sales Team, Built Right In"}),jsxRuntimeExports.jsx("p",{className:"text-primary-200 text-lg mb-6",children:"Get a fully trained AI sales team that works 24/7, integrated directly with your CxTrack system for seamless operations and maximum efficiency."}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-4",children:[jsxRuntimeExports.jsx(Link,{to:"/register",className:"btn btn-primary bg-white text-primary-900 hover:bg-gray-100",children:"Start Free Trial"}),jsxRuntimeExports.jsx(Link,{to:"/contact",className:"btn btn-secondary border border-white text-white hover:bg-primary-700",children:"Schedule Demo"})]})]}),jsxRuntimeExports.jsx("div",{className:"hidden md:block",children:jsxRuntimeExports.jsx("img",{src:"https://images.unsplash.com/photo-1677442136019-21780ecad995?auto=format&fit=crop&w=800&q=80",alt:"AI Sales Team",className:"rounded-lg shadow-xl"})})]})}),jsxRuntimeExports.jsxs("section",{children:[jsxRuntimeExports.jsx("div",{className:"text-center mb-12",children:jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Why Hire Our AI Sales Team?"})}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-dark-800/50 p-6 rounded-xl border border-dark-700",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Traditional Sales Employees"}),jsxRuntimeExports.jsxs("ul",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("li",{className:"flex items-start text-gray-300",children:[jsxRuntimeExports.jsx("span",{className:"text-red-400 mr-2",children:""}),"Manual hiring requires time, then it takes 3.2 months to hit KPIs"]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start text-gray-300",children:[jsxRuntimeExports.jsx("span",{className:"text-red-400 mr-2",children:""}),"Requires training, management, HR & Benefits (payroll taxes, etc)"]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start text-gray-300",children:[jsxRuntimeExports.jsx("span",{className:"text-red-400 mr-2",children:""}),"Clocks in/out, goes on vacation, works 8 hours a day"]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start text-gray-300",children:[jsxRuntimeExports.jsx("span",{className:"text-red-400 mr-2",children:""}),'72% of their shifts are spent doing "busy" work and not income producing activities']}),jsxRuntimeExports.jsxs("li",{className:"flex items-start text-gray-300",children:[jsxRuntimeExports.jsx("span",{className:"text-red-400 mr-2",children:""}),"Inconsistency in performance, burns out, lacks motivation, etc."]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-primary-900/20 p-6 rounded-xl border border-primary-800",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"AI Sales Employees"}),jsxRuntimeExports.jsxs("ul",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("li",{className:"flex items-start text-gray-300",children:[jsxRuntimeExports.jsx("span",{className:"text-green-400 mr-2",children:""}),"1 time build out, and it can hit KPI's within the first 30 days"]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start text-gray-300",children:[jsxRuntimeExports.jsx("span",{className:"text-green-400 mr-2",children:""}),"Training is done instantly, it learns and memorizes immediately"]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start text-gray-300",children:[jsxRuntimeExports.jsx("span",{className:"text-green-400 mr-2",children:""}),"Works 24/7, never takes a day off"]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start text-gray-300",children:[jsxRuntimeExports.jsx("span",{className:"text-green-400 mr-2",children:""}),"99.9% of their shift is spent doing sales activities"]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start text-gray-300",children:[jsxRuntimeExports.jsx("span",{className:"text-green-400 mr-2",children:""}),"Never burns out, always has a great attitude; consistent performance"]})]})]})]})]}),jsxRuntimeExports.jsxs("section",{className:"bg-gradient-to-r from-primary-800 to-primary-900 rounded-2xl p-8 md:p-12 text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Our Big Bold Promise"}),jsxRuntimeExports.jsx("p",{className:"text-xl text-primary-200 max-w-4xl mx-auto",children:"We guarantee your AI Employees will generate 3x more appointments within 90 daysor we'll personally optimize it until it does."})]}),jsxRuntimeExports.jsxs("section",{children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-12",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"How It Works"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Hire Your AI Employees in 3 Simple Steps"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl border border-dark-700",children:[jsxRuntimeExports.jsx("img",{src:"https://images.unsplash.com/photo-1460925895917-afdab827c52f?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=500&q=80",alt:"Step 1",className:"w-full h-48 object-cover rounded-lg mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Step 1: You Choose"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Select the right AI Agent(s) for your business and sales needswhether it's lead generation, nurturing, or customer retention."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl border border-dark-700",children:[jsxRuntimeExports.jsx("img",{src:"https://images.unsplash.com/photo-1551288049-bebda4e38f71?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=500&q=80",alt:"Step 2",className:"w-full h-48 object-cover rounded-lg mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Step 2: We Build"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"We'll train the AI to fit your specific needs, ensuring it understands your brand, services, and lead engagement strategy."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl border border-dark-700",children:[jsxRuntimeExports.jsx("img",{src:"https://images.unsplash.com/photo-1677442136019-21780ecad995?auto=format&fit=crop&w=500&q=80",alt:"Step 3",className:"w-full h-48 object-cover rounded-lg mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Step 3: You Scale"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Your AI Agent goes to work, reaching out, booking appointments, reactivating leads, and driving consistent engagement."})]})]})]}),jsxRuntimeExports.jsxs("section",{children:[jsxRuntimeExports.jsx("div",{className:"text-center mb-12",children:jsxRuntimeExports.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Who This Is Perfect For"})}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:["BUSINESS OWNERS","INSURANCE AGENTS","B2B CONSULTANTS","SOLAR COMPANIES","GYMS & COACHES","BUSINESS LENDING","REAL ESTATE AGENTS","BUSINESS COACHES","AND MORE..."].map(Re=>jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 border border-dark-700 rounded-lg p-4 flex items-center space-x-2",children:[jsxRuntimeExports.jsx("span",{className:"text-primary-400",children:""}),jsxRuntimeExports.jsx("span",{className:"text-white font-medium",children:Re})]},Re))})]}),jsxRuntimeExports.jsxs("section",{className:"bg-dark-800 rounded-2xl p-8",children:[jsxRuntimeExports.jsx("div",{className:"text-center mb-12",children:jsxRuntimeExports.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Frequently Asked Questions"})}),jsxRuntimeExports.jsxs("div",{className:"space-y-6 max-w-3xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"bg-dark-700 rounded-lg p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"How do the setup fees work?"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300",children:"Each use case is considered an employee and each employee is trained on a set of automations, scripts, etc. Each setup is $3k/per employee as a one-time fee. If you purchase the Go All In plan you would get 4 employees for $10k ($2k in savings)."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-700 rounded-lg p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Is this a subscription?"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300",children:"Yes, our AI Sales Employees are offered on a subscription basis. This ensures ongoing support, updates, and seamless integration with your evolving sales processes. We also provide flexible plans to match your business needs."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-700 rounded-lg p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Is this considered robocalling?"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300",children:"No, our AI Sales Agents focus on meaningful, personalized interactions. Unlike traditional robocalls, our agents use natural language processing to engage leads in real conversations, ensuring a human-like experience that drives better results."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-700 rounded-lg p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"What if the AI Sales Agent makes a mistake?"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300",children:"Our AI is continuously learning and improving. While mistakes are rare, we provide monitoring tools and human oversight to quickly address and correct any issues, ensuring your brand reputation remains intact."})]})]})]}),jsxRuntimeExports.jsxs("section",{className:"bg-gradient-to-r from-primary-800 to-primary-900 rounded-2xl p-8 md:p-12 text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Ready to Scale Your Sales Team?"}),jsxRuntimeExports.jsx("p",{className:"text-primary-200 text-lg mb-8 max-w-2xl mx-auto",children:"Get started with your AI sales team today and see the difference in your bottom line."}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[jsxRuntimeExports.jsx(Link,{to:"/contact",className:"btn btn-primary bg-white text-primary-900 hover:bg-gray-100 px-6 py-3",children:"Schedule A Demo"}),jsxRuntimeExports.jsx(Link,{to:"/register",className:"btn btn-secondary border border-white text-white hover:bg-primary-700 px-6 py-3",children:"Start Free Trial"})]})]})]}),EnterprisePlan=()=>jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-dark-950",children:[jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-b from-primary-900 to-primary-800 py-16",children:jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4",children:jsxRuntimeExports.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Enterprise-Grade AI Solution"}),jsxRuntimeExports.jsx("p",{className:"text-xl text-primary-200",children:"Transform your business with our comprehensive AI-powered platform designed for enterprise operations."})]})})}),jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4 py-16",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-white text-center mb-12",children:"Advanced AI Capabilities"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:jsxRuntimeExports.jsx(Bot,{className:"text-primary-400"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"AI Sales Team"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 mb-4",children:"Deploy a full team of AI agents that work 24/7 to engage leads, qualify prospects, and drive conversions."}),jsxRuntimeExports.jsxs("ul",{className:"space-y-2 text-gray-400",children:[jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(Check,{className:"text-primary-500 mt-1 mr-2",size:16}),jsxRuntimeExports.jsx("span",{children:"Automated lead qualification"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(Check,{className:"text-primary-500 mt-1 mr-2",size:16}),jsxRuntimeExports.jsx("span",{children:"Intelligent follow-up sequences"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(Check,{className:"text-primary-500 mt-1 mr-2",size:16}),jsxRuntimeExports.jsx("span",{children:"Meeting scheduling automation"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:jsxRuntimeExports.jsx(Phone,{className:"text-primary-400"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"Voice Collections"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 mb-4",children:"AI-powered voice calling system for automated payment collection and follow-ups."}),jsxRuntimeExports.jsxs("ul",{className:"space-y-2 text-gray-400",children:[jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(Check,{className:"text-primary-500 mt-1 mr-2",size:16}),jsxRuntimeExports.jsx("span",{children:"Natural conversation flow"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(Check,{className:"text-primary-500 mt-1 mr-2",size:16}),jsxRuntimeExports.jsx("span",{children:"Sentiment analysis"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(Check,{className:"text-primary-500 mt-1 mr-2",size:16}),jsxRuntimeExports.jsx("span",{children:"Payment plan negotiation"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:jsxRuntimeExports.jsx(Brain,{className:"text-primary-400"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"Smart Analytics"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 mb-4",children:"Advanced analytics and predictions powered by machine learning."}),jsxRuntimeExports.jsxs("ul",{className:"space-y-2 text-gray-400",children:[jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(Check,{className:"text-primary-500 mt-1 mr-2",size:16}),jsxRuntimeExports.jsx("span",{children:"Revenue forecasting"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(Check,{className:"text-primary-500 mt-1 mr-2",size:16}),jsxRuntimeExports.jsx("span",{children:"Customer behavior analysis"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(Check,{className:"text-primary-500 mt-1 mr-2",size:16}),jsxRuntimeExports.jsx("span",{children:"Payment prediction"})]})]})]})]})]}),jsxRuntimeExports.jsx("div",{className:"bg-dark-900 py-16",children:jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-white text-center mb-12",children:"Specialized AI Agents"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 border border-dark-700",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"BDR Agent"}),jsxRuntimeExports.jsxs("ul",{className:"space-y-3 text-gray-400",children:[jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(Bot,{className:"text-primary-500 mt-1 mr-2",size:16}),jsxRuntimeExports.jsx("span",{children:"Automated lead qualification and scoring"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(Bot,{className:"text-primary-500 mt-1 mr-2",size:16}),jsxRuntimeExports.jsx("span",{children:"Personalized outreach at scale"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(Bot,{className:"text-primary-500 mt-1 mr-2",size:16}),jsxRuntimeExports.jsx("span",{children:"Instant meeting scheduling"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 border border-dark-700",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Marketing Agent"}),jsxRuntimeExports.jsxs("ul",{className:"space-y-3 text-gray-400",children:[jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(Bot,{className:"text-primary-500 mt-1 mr-2",size:16}),jsxRuntimeExports.jsx("span",{children:"Automated content generation"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(Bot,{className:"text-primary-500 mt-1 mr-2",size:16}),jsxRuntimeExports.jsx("span",{children:"Campaign optimization"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(Bot,{className:"text-primary-500 mt-1 mr-2",size:16}),jsxRuntimeExports.jsx("span",{children:"Customer journey automation"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 border border-dark-700",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Research Agent"}),jsxRuntimeExports.jsxs("ul",{className:"space-y-3 text-gray-400",children:[jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(Bot,{className:"text-primary-500 mt-1 mr-2",size:16}),jsxRuntimeExports.jsx("span",{children:"Market and competitor analysis"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(Bot,{className:"text-primary-500 mt-1 mr-2",size:16}),jsxRuntimeExports.jsx("span",{children:"Data gathering and synthesis"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(Bot,{className:"text-primary-500 mt-1 mr-2",size:16}),jsxRuntimeExports.jsx("span",{children:"Trend identification"})]})]})]})]})]})}),jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4 py-16",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-white text-center mb-12",children:"Enterprise-Grade Features"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 border border-dark-700",children:[jsxRuntimeExports.jsx(Shield,{className:"text-primary-500 mb-4",size:24}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Advanced Security"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Enterprise-grade security with role-based access control, audit logs, and data encryption."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 border border-dark-700",children:[jsxRuntimeExports.jsx(Users,{className:"text-primary-500 mb-4",size:24}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Unlimited Users"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Support for unlimited team members with customizable roles and permissions."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 border border-dark-700",children:[jsxRuntimeExports.jsx(BarChart2,{className:"text-primary-500 mb-4",size:24}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Advanced Analytics"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Comprehensive reporting and analytics with custom dashboards and KPIs."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 border border-dark-700",children:[jsxRuntimeExports.jsx(FileText,{className:"text-primary-500 mb-4",size:24}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Custom Integrations"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Custom API access and integration support for your existing systems."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 border border-dark-700",children:[jsxRuntimeExports.jsx(Clock,{className:"text-primary-500 mb-4",size:24}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"24/7 Support"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Priority support with dedicated account manager and technical assistance."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 border border-dark-700",children:[jsxRuntimeExports.jsx(DollarSign,{className:"text-primary-500 mb-4",size:24}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Custom Pricing"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Flexible pricing options tailored to your business needs and usage."})]})]})]}),jsxRuntimeExports.jsx("div",{className:"bg-dark-900 py-16",children:jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-white text-center mb-12",children:"Enterprise ROI"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-xl p-6 border border-dark-700 text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-4xl font-bold text-primary-400 mb-2",children:"85%"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300",children:"Reduction in response time"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-xl p-6 border border-dark-700 text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-4xl font-bold text-primary-400 mb-2",children:"60%"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300",children:"Increase in sales efficiency"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-xl p-6 border border-dark-700 text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-4xl font-bold text-primary-400 mb-2",children:"40%"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300",children:"Cost reduction"})]})]})]})}),jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4 py-16",children:jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-r from-primary-800 to-primary-900 rounded-2xl p-8 md:p-12 text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Ready to Transform Your Business?"}),jsxRuntimeExports.jsx("p",{className:"text-primary-200 text-lg mb-8 max-w-2xl mx-auto",children:"Get started with our Enterprise solution and experience the power of AI-driven automation."}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[jsxRuntimeExports.jsx(Link,{to:"/contact",className:"btn btn-primary bg-white text-primary-900 hover:bg-gray-100 px-6 py-3",children:"Schedule Demo"}),jsxRuntimeExports.jsx(Link,{to:"/register",className:"btn btn-secondary border border-white text-white hover:bg-primary-700 px-6 py-3",children:"Start Free Trial"})]})]})})]}),Solutions=()=>{const Re=[{title:"Financial Services",icon:Ban,description:"Automate client communications, risk assessment, and compliance monitoring.",useCases:["Automated credit assessment","KYC process automation","Investment advisory","Fraud detection"]},{title:"Healthcare",icon:Stethoscope,description:"Streamline patient scheduling, billing, and administrative tasks.",useCases:["Patient appointment scheduling","Insurance verification","Medical billing automation","Patient follow-up management"]},{title:"Real Estate",icon:Home,description:"Enhance property management and client engagement.",useCases:["Property inquiry handling","Showing scheduling","Tenant communication","Lease renewal automation"]},{title:"Legal Services",icon:Gavel,description:"Automate client intake, document processing, and case management.",useCases:["Client intake automation","Document review","Case status updates","Appointment scheduling"]},{title:"Education",icon:GraduationCap,description:"Improve student engagement and administrative efficiency.",useCases:["Student enrollment","Course inquiries","Assignment tracking","Parent communication"]},{title:"Professional Services",icon:Briefcase,description:"Streamline client services and project management.",useCases:["Client onboarding","Project updates","Resource allocation","Time tracking"]}];return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-dark-950",children:[jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-b from-primary-900 to-primary-800 py-16",children:jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4",children:jsxRuntimeExports.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Industry Solutions"}),jsxRuntimeExports.jsx("p",{className:"text-xl text-primary-200",children:"Discover how our AI agents can transform operations across different industries"})]})})}),jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4 py-16",children:jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:Re.map((je,_e)=>jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:jsxRuntimeExports.jsx(je.icon,{className:"text-primary-400"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:je.title}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 mb-4",children:je.description}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:je.useCases.map((Me,$e)=>jsxRuntimeExports.jsxs("div",{className:"flex items-start",children:[jsxRuntimeExports.jsx(Bot,{className:"text-primary-500 mt-1 mr-2",size:16}),jsxRuntimeExports.jsx("span",{className:"text-gray-300",children:Me})]},$e))})]},_e))})}),jsxRuntimeExports.jsx("div",{className:"bg-dark-900 py-16",children:jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4",children:jsxRuntimeExports.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Don't See Your Industry?"}),jsxRuntimeExports.jsx("p",{className:"text-lg text-gray-400 mb-8",children:"Our AI agents can be customized for any industry. Contact us to discuss your specific needs and how we can help transform your operations."}),jsxRuntimeExports.jsx(Link,{to:"/contact",className:"btn btn-primary bg-white text-primary-900 hover:bg-gray-100 px-8 py-3",children:"Contact Sales"})]})})})]})},Pricing=()=>{const Re=[{name:"Free",price:0,description:"Basic features for small businesses",features:["Up to 5 invoices per month","Basic invoice templates","PDF generation & download","Single user access","Basic customer database","Email support"],link:"/register"},{name:"Business",price:99.99,description:"Advanced features for growing businesses",features:["Unlimited invoices","Custom invoice templates","Automated reminders","Team collaboration","Advanced reporting","Priority support","API access","Custom integrations"],link:"/features/business-plan"},{name:"Enterprise",price:399.99,description:"Complete AI-powered solution for large businesses",highlightFeatures:[{icon:Bot,title:"AI Assistant",description:"Intelligent virtual assistant for customer interactions"},{icon:Brain,title:"Smart Analytics",description:"Predictive analysis and insights"},{icon:Clock,title:"24/7 Support",description:"Round-the-clock dedicated support"}],features:["AI-powered automation","Voice collection calls","Smart payment reminders","Sentiment analysis","Custom AI training","Dedicated support"],link:"/features/enterprise-plan"}];return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-dark-950",children:[jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-b from-primary-900 to-primary-800 py-16",children:jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4",children:jsxRuntimeExports.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Simple, Transparent Pricing"}),jsxRuntimeExports.jsx("p",{className:"text-xl text-primary-200",children:"Choose the plan that best fits your business needs"})]})})}),jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4 py-16",children:[jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:Re.map(je=>jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[je.name==="Enterprise"&&jsxRuntimeExports.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:jsxRuntimeExports.jsx("span",{className:"bg-gradient-to-r from-primary-600 to-purple-600 text-white px-4 py-1 rounded-full text-sm font-medium",children:"AI-Powered"})}),jsxRuntimeExports.jsxs("div",{className:"text-center mb-8",children:[jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:je.name}),jsxRuntimeExports.jsxs("div",{className:"text-4xl font-bold text-white mb-2",children:["$",je.price,jsxRuntimeExports.jsx("span",{className:"text-lg text-gray-400",children:"/mo"})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:je.description})]}),je.highlightFeatures&&jsxRuntimeExports.jsx("div",{className:"mb-8 space-y-4",children:je.highlightFeatures.map((_e,Me)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center p-3 bg-dark-700/50 rounded-lg",children:[jsxRuntimeExports.jsx(_e.icon,{className:"text-primary-400 mr-3",size:24}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-white font-medium",children:_e.title}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:_e.description})]})]},Me))}),jsxRuntimeExports.jsx("ul",{className:"space-y-3 mb-8",children:je.features.map((_e,Me)=>jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(Check,{className:"text-primary-500 mt-1 mr-2",size:16}),jsxRuntimeExports.jsx("span",{className:"text-gray-300 text-sm",children:_e})]},Me))}),jsxRuntimeExports.jsx(Link,{to:je.link,className:"w-full btn btn-primary flex items-center justify-center space-x-2 group",children:jsxRuntimeExports.jsx("span",{children:je.price===0?"Sign Up Free":"Learn More"})})]},je.name))}),jsxRuntimeExports.jsx("div",{className:"text-center mt-12",children:jsxRuntimeExports.jsxs(Link,{to:"/pricing/compare",className:"text-primary-400 hover:text-primary-300 flex items-center justify-center",children:[jsxRuntimeExports.jsx(Star,{className:"mr-2",size:16}),"Compare all features"]})})]}),jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4 py-16",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-white text-center mb-8",children:"Frequently Asked Questions"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 border border-dark-700",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Can I upgrade or downgrade my plan?"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Yes, you can upgrade or downgrade your plan at any time. Changes will be reflected in your next billing cycle."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 border border-dark-700",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Is there a long-term contract?"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"No, all our plans are month-to-month with no long-term commitment required."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 border border-dark-700",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"What payment methods do you accept?"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"We accept all major credit cards, PayPal, and bank transfers for Enterprise plans."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 border border-dark-700",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Do you offer a free trial?"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Yes, you can start with our Free plan to test our basic features, or request a demo for Business and Enterprise features."})]})]})]}),jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4 py-16",children:jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-r from-primary-800 to-primary-900 rounded-2xl p-8 md:p-12 text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Need Help Choosing?"}),jsxRuntimeExports.jsx("p",{className:"text-primary-200 text-lg mb-8 max-w-2xl mx-auto",children:"Our team is here to help you find the perfect plan for your business needs."}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[jsxRuntimeExports.jsx(Link,{to:"/contact",className:"btn btn-primary bg-white text-primary-900 hover:bg-gray-100 px-6 py-3",children:"Contact Sales"}),jsxRuntimeExports.jsx(Link,{to:"/demo",className:"btn btn-secondary border border-white text-white hover:bg-primary-700 px-6 py-3",children:"Schedule Demo"})]})]})})]})},ComparePlans=()=>{const Re={basic:["All Free Plan features","Email delivery to customers","Invoice templates","Recurring invoices","Up to 25 customers","Customer contact management","Basic customer history","Up to 10 products","Basic product catalog","Email notifications","Basic reporting","CSV data export","Standard support","Mobile app access","Basic inventory tracking","Simple dashboard","Payment reminders","Basic document storage","Customer notes","Basic search functionality","Email templates","Basic task management","Simple workflow automation","Basic API access"],business:["All Basic Plan features","Up to 50 customers","Customer segmentation","Advanced customer analytics","Customer communication history","Up to 50 products","Product categories","Stock tracking","Accounting software integration","Payment gateway integration","Email marketing tools","Multiple invoice templates","Bulk invoice generation","Invoice scheduling","Custom branding","Advanced reporting","Team collaboration","Role-based access control","Audit logs","Priority support","Advanced search","Custom fields","Automated workflows","Data backup","API access","Multi-currency support","Customizable dashboards","Advanced document management","Batch processing","Business intelligence tools"],enterprise:["All Business Plan features","AI-Powered Virtual Assistant","Automated Voice Collection Calls","Smart Payment Reminders","AI Customer Sentiment Analysis","Voice-to-Text Transcription","Predictive Payment Analysis","Natural Language Processing","Automated Follow-up System","AI Revenue Forecasting","Smart Customer Segmentation","Voice Authentication","Multi-Language Support","Custom AI Training","Unlimited Team Members","Advanced Analytics Dashboard","Custom Integration Support","Priority 24/7 Support","Dedicated Account Manager"]};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-dark-950",children:[jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-b from-primary-900 to-primary-800 py-16",children:jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4",children:jsxRuntimeExports.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Compare Plans"}),jsxRuntimeExports.jsx("p",{className:"text-xl text-primary-200",children:"Find the perfect plan for your business needs"})]})})}),jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4 py-16",children:jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"border-b border-dark-700",children:[jsxRuntimeExports.jsx("th",{className:"py-4 px-6 text-left"}),jsxRuntimeExports.jsxs("th",{className:"py-4 px-6 text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-xl font-bold text-white mb-2",children:"Free"}),jsxRuntimeExports.jsx("div",{className:"text-3xl font-bold text-white mb-2",children:"$0"}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-400 mb-4",children:"per month"}),jsxRuntimeExports.jsx(Link,{to:"/register",className:"btn btn-secondary w-full",children:"Start Free"})]}),jsxRuntimeExports.jsxs("th",{className:"py-4 px-6 text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-xl font-bold text-white mb-2",children:"Basic"}),jsxRuntimeExports.jsx("div",{className:"text-3xl font-bold text-white mb-2",children:"$19.99"}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-400 mb-4",children:"per month"}),jsxRuntimeExports.jsx(Link,{to:"/features/basic-plan",className:"btn btn-primary w-full",children:"Learn More"})]}),jsxRuntimeExports.jsxs("th",{className:"py-4 px-6 text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-xl font-bold text-white mb-2",children:"Business"}),jsxRuntimeExports.jsx("div",{className:"text-3xl font-bold text-white mb-2",children:"$99.99"}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-400 mb-4",children:"per month"}),jsxRuntimeExports.jsx(Link,{to:"/features/business-plan",className:"btn btn-primary w-full",children:"Learn More"})]}),jsxRuntimeExports.jsxs("th",{className:"py-4 px-6 text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-xl font-bold text-white mb-2",children:"Enterprise"}),jsxRuntimeExports.jsx("div",{className:"text-3xl font-bold text-white mb-2",children:"$399.99"}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-400 mb-4",children:"per month"}),jsxRuntimeExports.jsx(Link,{to:"/features/enterprise-plan",className:"btn btn-primary w-full",children:"Learn More"})]})]})}),jsxRuntimeExports.jsxs("tbody",{className:"divide-y divide-dark-700",children:[jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:4,className:"py-4 px-6",children:jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white",children:"Basic Features"})})}),Re.basic.map((je,_e)=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-dark-800/50",children:[jsxRuntimeExports.jsx("td",{className:"py-3 px-6 text-gray-300",children:je}),jsxRuntimeExports.jsx("td",{className:"py-3 px-6 text-center",children:jsxRuntimeExports.jsx(Check,{className:"mx-auto text-green-500",size:20})}),jsxRuntimeExports.jsx("td",{className:"py-3 px-6 text-center",children:jsxRuntimeExports.jsx(Check,{className:"mx-auto text-green-500",size:20})}),jsxRuntimeExports.jsx("td",{className:"py-3 px-6 text-center",children:jsxRuntimeExports.jsx(Check,{className:"mx-auto text-green-500",size:20})}),jsxRuntimeExports.jsx("td",{className:"py-3 px-6 text-center",children:jsxRuntimeExports.jsx(Check,{className:"mx-auto text-green-500",size:20})})]},_e)),jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:4,className:"py-4 px-6",children:jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white",children:"Business Features"})})}),Re.business.map((je,_e)=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-dark-800/50",children:[jsxRuntimeExports.jsx("td",{className:"py-3 px-6 text-gray-300",children:je}),jsxRuntimeExports.jsx("td",{className:"py-3 px-6 text-center",children:jsxRuntimeExports.jsx(X$1,{className:"mx-auto text-red-500",size:20})}),jsxRuntimeExports.jsx("td",{className:"py-3 px-6 text-center",children:jsxRuntimeExports.jsx(X$1,{className:"mx-auto text-red-500",size:20})}),jsxRuntimeExports.jsx("td",{className:"py-3 px-6 text-center",children:jsxRuntimeExports.jsx(Check,{className:"mx-auto text-green-500",size:20})}),jsxRuntimeExports.jsx("td",{className:"py-3 px-6 text-center",children:jsxRuntimeExports.jsx(Check,{className:"mx-auto text-green-500",size:20})})]},_e)),jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:4,className:"py-4 px-6",children:jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white",children:"Enterprise Features"})})}),Re.enterprise.map((je,_e)=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-dark-800/50",children:[jsxRuntimeExports.jsx("td",{className:"py-3 px-6 text-gray-300",children:je}),jsxRuntimeExports.jsx("td",{className:"py-3 px-6 text-center",children:jsxRuntimeExports.jsx(X$1,{className:"mx-auto text-red-500",size:20})}),jsxRuntimeExports.jsx("td",{className:"py-3 px-6 text-center",children:jsxRuntimeExports.jsx(X$1,{className:"mx-auto text-red-500",size:20})}),jsxRuntimeExports.jsx("td",{className:"py-3 px-6 text-center",children:jsxRuntimeExports.jsx(X$1,{className:"mx-auto text-red-500",size:20})}),jsxRuntimeExports.jsx("td",{className:"py-3 px-6 text-center",children:jsxRuntimeExports.jsx(Check,{className:"mx-auto text-green-500",size:20})})]},_e))]})]})})}),jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4 py-16",children:jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-r from-primary-800 to-primary-900 rounded-2xl p-8 md:p-12 text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Need Help Choosing?"}),jsxRuntimeExports.jsx("p",{className:"text-primary-200 text-lg mb-8 max-w-2xl mx-auto",children:"Our team is here to help you find the perfect plan for your business needs."}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[jsxRuntimeExports.jsx(Link,{to:"/contact",className:"btn btn-primary bg-white text-primary-900 hover:bg-gray-100 px-6 py-3",children:"Contact Sales"}),jsxRuntimeExports.jsx(Link,{to:"/demo",className:"btn btn-secondary border border-white text-white hover:bg-primary-700 px-6 py-3",children:"Schedule Demo"})]})]})})]})},Security=()=>{const Re=[{title:"Data Encryption",icon:Lock,description:"Enterprise-grade encryption for all data at rest and in transit",features:["AES-256 encryption at rest","TLS 1.3 for data in transit","End-to-end encryption for sensitive communications","Secure key management"]},{title:"Access Control",icon:Key,description:"Granular access controls and user management",features:["Role-based access control (RBAC)","Multi-factor authentication","Single sign-on (SSO)","IP whitelisting"]},{title:"Data Privacy",icon:Eye,description:"Comprehensive data privacy measures",features:["GDPR compliance","Data anonymization","Privacy by design","Data retention policies"]},{title:"Compliance",icon:FileCheck,description:"Industry standard compliance and certifications",features:["SOC 2 Type II certified","HIPAA compliance","GDPR compliance","Regular security audits"]},{title:"Infrastructure Security",icon:Server,description:"Secure and reliable infrastructure",features:["DDoS protection","WAF (Web Application Firewall)","Regular penetration testing","Automated security scanning"]},{title:"AI Security",icon:Shield,description:"Specialized security for AI operations",features:["AI model protection","Training data security","Inference protection","Bias detection and mitigation"]}];return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-dark-950",children:[jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-b from-primary-900 to-primary-800 py-16",children:jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4",children:jsxRuntimeExports.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Enterprise-Grade Security"}),jsxRuntimeExports.jsx("p",{className:"text-xl text-primary-200",children:"Your data security and privacy are our top priorities"})]})})}),jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4 py-16",children:jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:Re.map((je,_e)=>jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:jsxRuntimeExports.jsx(je.icon,{className:"text-primary-400"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:je.title}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 mb-4",children:je.description}),jsxRuntimeExports.jsx("ul",{className:"space-y-2",children:je.features.map((Me,$e)=>jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(CheckCircle,{className:"text-primary-500 mt-1 mr-2",size:16}),jsxRuntimeExports.jsx("span",{className:"text-gray-300",children:Me})]},$e))})]},_e))})}),jsxRuntimeExports.jsx("div",{className:"bg-dark-900 py-16",children:jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4",children:jsxRuntimeExports.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Trusted by Enterprises Worldwide"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-12",children:[jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 border border-dark-700",children:[jsxRuntimeExports.jsx("div",{className:"text-4xl font-bold text-primary-400 mb-2",children:"99.9%"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300",children:"Uptime SLA"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 border border-dark-700",children:[jsxRuntimeExports.jsx("div",{className:"text-4xl font-bold text-primary-400 mb-2",children:"24/7"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300",children:"Security Monitoring"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 border border-dark-700",children:[jsxRuntimeExports.jsx("div",{className:"text-4xl font-bold text-primary-400 mb-2",children:"ISO 27001"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300",children:"Certified"})]})]}),jsxRuntimeExports.jsx(Link,{to:"/contact",className:"btn btn-primary bg-white text-primary-900 hover:bg-gray-100 px-8 py-3",children:"Contact Security Team"})]})})})]})};var i$2=Object.defineProperty,d$1=(Re,je,_e)=>je in Re?i$2(Re,je,{enumerable:!0,configurable:!0,writable:!0,value:_e}):Re[je]=_e,r$2=(Re,je,_e)=>(d$1(Re,typeof je!="symbol"?je+"":je,_e),_e);let o$4=class{constructor(){r$2(this,"current",this.detect()),r$2(this,"handoffState","pending"),r$2(this,"currentId",0)}set(je){this.current!==je&&(this.handoffState="pending",this.currentId=0,this.current=je)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},s$3=new o$4,l$1=(Re,je)=>{s$3.isServer?reactExports.useEffect(Re,je):reactExports.useLayoutEffect(Re,je)};function s$2(Re){let je=reactExports.useRef(Re);return l$1(()=>{je.current=Re},[Re]),je}let o$3=function(Re){let je=s$2(Re);return React$2.useCallback((..._e)=>je.current(..._e),[je])};function s$1(){let Re=typeof document>"u";return"useSyncExternalStore"in e$1?(je=>je.useSyncExternalStore)(e$1)(()=>()=>{},()=>!1,()=>!Re):!1}function l(){let Re=s$1(),[je,_e]=reactExports.useState(s$3.isHandoffComplete);return je&&s$3.isHandoffComplete===!1&&_e(!1),reactExports.useEffect(()=>{je!==!0&&_e(!0)},[je]),reactExports.useEffect(()=>s$3.handoff(),[]),Re?!1:je}var o$2;let I$1=(o$2=React$2.useId)!=null?o$2:function(){let Re=l(),[je,_e]=React$2.useState(Re?()=>s$3.nextId():null);return l$1(()=>{je===null&&_e(s$3.nextId())},[je]),je!=null?""+je:void 0};function u$2(Re,je,..._e){if(Re in je){let $e=je[Re];return typeof $e=="function"?$e(..._e):$e}let Me=new Error(`Tried to handle "${Re}" but there is no handler defined. Only defined handlers are: ${Object.keys(je).map($e=>`"${$e}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(Me,u$2),Me}function o$1(Re){return s$3.isServer?null:Re instanceof Node?Re.ownerDocument:Re!=null&&Re.hasOwnProperty("current")&&Re.current instanceof Node?Re.current.ownerDocument:document}function i$1(Re){var je;if(Re.type)return Re.type;let _e=(je=Re.as)!=null?je:"button";if(typeof _e=="string"&&_e.toLowerCase()==="button")return"button"}function T$1(Re,je){let[_e,Me]=reactExports.useState(()=>i$1(Re));return l$1(()=>{Me(i$1(Re))},[Re.type,Re.as]),l$1(()=>{_e||je.current&&je.current instanceof HTMLButtonElement&&!je.current.hasAttribute("type")&&Me("button")},[_e,je]),_e}let u$1=Symbol();function T(Re,je=!0){return Object.assign(Re,{[u$1]:je})}function y(...Re){let je=reactExports.useRef(Re);reactExports.useEffect(()=>{je.current=Re},[Re]);let _e=o$3(Me=>{for(let $e of je.current)$e!=null&&(typeof $e=="function"?$e(Me):$e.current=Me)});return Re.every(Me=>Me==null||Me?.[u$1])?void 0:_e}function t$1(...Re){return Array.from(new Set(Re.flatMap(je=>typeof je=="string"?je.split(" "):[]))).filter(Boolean).join(" ")}var O=(Re=>(Re[Re.None=0]="None",Re[Re.RenderStrategy=1]="RenderStrategy",Re[Re.Static=2]="Static",Re))(O||{}),v$1=(Re=>(Re[Re.Unmount=0]="Unmount",Re[Re.Hidden=1]="Hidden",Re))(v$1||{});function C({ourProps:Re,theirProps:je,slot:_e,defaultTag:Me,features:$e,visible:ke=!0,name:Ce,mergeRefs:Be}){Be=Be??k;let qe=R(je,Re);if(ke)return m(qe,_e,Me,Ce,Be);let He=$e??0;if(He&2){let{static:We=!1,...Ke}=qe;if(We)return m(Ke,_e,Me,Ce,Be)}if(He&1){let{unmount:We=!0,...Ke}=qe;return u$2(We?0:1,{0(){return null},1(){return m({...Ke,hidden:!0,style:{display:"none"}},_e,Me,Ce,Be)}})}return m(qe,_e,Me,Ce,Be)}function m(Re,je={},_e,Me,$e){let{as:ke=_e,children:Ce,refName:Be="ref",...qe}=F$1(Re,["unmount","static"]),He=Re.ref!==void 0?{[Be]:Re.ref}:{},We=typeof Ce=="function"?Ce(je):Ce;"className"in qe&&qe.className&&typeof qe.className=="function"&&(qe.className=qe.className(je));let Ke={};if(je){let Je=!1,Qe=[];for(let[rr,tr]of Object.entries(je))typeof tr=="boolean"&&(Je=!0),tr===!0&&Qe.push(rr);Je&&(Ke["data-headlessui-state"]=Qe.join(" "))}if(ke===reactExports.Fragment&&Object.keys(x(qe)).length>0){if(!reactExports.isValidElement(We)||Array.isArray(We)&&We.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${Me} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(qe).map(tr=>`  - ${tr}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(tr=>`  - ${tr}`).join(`
`)].join(`
`));let Je=We.props,Qe=typeof Je?.className=="function"?(...tr)=>t$1(Je?.className(...tr),qe.className):t$1(Je?.className,qe.className),rr=Qe?{className:Qe}:{};return reactExports.cloneElement(We,Object.assign({},R(We.props,x(F$1(qe,["ref"]))),Ke,He,{ref:$e(We.ref,He.ref)},rr))}return reactExports.createElement(ke,Object.assign({},F$1(qe,["ref"]),ke!==reactExports.Fragment&&He,ke!==reactExports.Fragment&&Ke),We)}function I(){let Re=reactExports.useRef([]),je=reactExports.useCallback(_e=>{for(let Me of Re.current)Me!=null&&(typeof Me=="function"?Me(_e):Me.current=_e)},[]);return(..._e)=>{if(!_e.every(Me=>Me==null))return Re.current=_e,je}}function k(...Re){return Re.every(je=>je==null)?void 0:je=>{for(let _e of Re)_e!=null&&(typeof _e=="function"?_e(je):_e.current=je)}}function R(...Re){if(Re.length===0)return{};if(Re.length===1)return Re[0];let je={},_e={};for(let Me of Re)for(let $e in Me)$e.startsWith("on")&&typeof Me[$e]=="function"?(_e[$e]!=null||(_e[$e]=[]),_e[$e].push(Me[$e])):je[$e]=Me[$e];if(je.disabled||je["aria-disabled"])return Object.assign(je,Object.fromEntries(Object.keys(_e).map(Me=>[Me,void 0])));for(let Me in _e)Object.assign(je,{[Me]($e,...ke){let Ce=_e[Me];for(let Be of Ce){if(($e instanceof Event||$e?.nativeEvent instanceof Event)&&$e.defaultPrevented)return;Be($e,...ke)}}});return je}function U(Re){var je;return Object.assign(reactExports.forwardRef(Re),{displayName:(je=Re.displayName)!=null?je:Re.name})}function x(Re){let je=Object.assign({},Re);for(let _e in je)je[_e]===void 0&&delete je[_e];return je}function F$1(Re,je=[]){let _e=Object.assign({},Re);for(let Me of je)Me in _e&&delete _e[Me];return _e}let n=reactExports.createContext(null);n.displayName="OpenClosedContext";var d=(Re=>(Re[Re.Open=1]="Open",Re[Re.Closed=2]="Closed",Re[Re.Closing=4]="Closing",Re[Re.Opening=8]="Opening",Re))(d||{});function u(){return reactExports.useContext(n)}function s({value:Re,children:je}){return React$2.createElement(n.Provider,{value:Re},je)}function r$1(Re){let je=Re.parentElement,_e=null;for(;je&&!(je instanceof HTMLFieldSetElement);)je instanceof HTMLLegendElement&&(_e=je),je=je.parentElement;let Me=je?.getAttribute("disabled")==="";return Me&&i(_e)?!1:Me}function i(Re){if(!Re)return!1;let je=Re.previousElementSibling;for(;je!==null;){if(je instanceof HTMLLegendElement)return!1;je=je.previousElementSibling}return!0}var o=(Re=>(Re.Space=" ",Re.Enter="Enter",Re.Escape="Escape",Re.Backspace="Backspace",Re.Delete="Delete",Re.ArrowLeft="ArrowLeft",Re.ArrowUp="ArrowUp",Re.ArrowRight="ArrowRight",Re.ArrowDown="ArrowDown",Re.Home="Home",Re.End="End",Re.PageUp="PageUp",Re.PageDown="PageDown",Re.Tab="Tab",Re))(o||{}),t;let a=(t=React$2.startTransition)!=null?t:function(Re){Re()};var Q=(Re=>(Re[Re.Open=0]="Open",Re[Re.Closed=1]="Closed",Re))(Q||{}),V=(Re=>(Re[Re.ToggleDisclosure=0]="ToggleDisclosure",Re[Re.CloseDisclosure=1]="CloseDisclosure",Re[Re.SetButtonId=2]="SetButtonId",Re[Re.SetPanelId=3]="SetPanelId",Re[Re.LinkPanel=4]="LinkPanel",Re[Re.UnlinkPanel=5]="UnlinkPanel",Re))(V||{});let Y={0:Re=>({...Re,disclosureState:u$2(Re.disclosureState,{0:1,1:0})}),1:Re=>Re.disclosureState===1?Re:{...Re,disclosureState:1},4(Re){return Re.linkedPanel===!0?Re:{...Re,linkedPanel:!0}},5(Re){return Re.linkedPanel===!1?Re:{...Re,linkedPanel:!1}},2(Re,je){return Re.buttonId===je.buttonId?Re:{...Re,buttonId:je.buttonId}},3(Re,je){return Re.panelId===je.panelId?Re:{...Re,panelId:je.panelId}}},M=reactExports.createContext(null);M.displayName="DisclosureContext";function _(Re){let je=reactExports.useContext(M);if(je===null){let _e=new Error(`<${Re} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(_e,_),_e}return je}let v=reactExports.createContext(null);v.displayName="DisclosureAPIContext";function K(Re){let je=reactExports.useContext(v);if(je===null){let _e=new Error(`<${Re} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(_e,K),_e}return je}let F=reactExports.createContext(null);F.displayName="DisclosurePanelContext";function Z(){return reactExports.useContext(F)}function ee(Re,je){return u$2(je.type,Y,Re,je)}let te=reactExports.Fragment;function ne(Re,je){let{defaultOpen:_e=!1,...Me}=Re,$e=reactExports.useRef(null),ke=y(je,T(cr=>{$e.current=cr},Re.as===void 0||Re.as===reactExports.Fragment)),Ce=reactExports.useRef(null),Be=reactExports.useRef(null),qe=reactExports.useReducer(ee,{disclosureState:_e?0:1,linkedPanel:!1,buttonRef:Be,panelRef:Ce,buttonId:null,panelId:null}),[{disclosureState:He,buttonId:We},Ke]=qe,Je=o$3(cr=>{Ke({type:1});let or=o$1($e);if(!or||!We)return;let ar=cr?cr instanceof HTMLElement?cr:cr.current instanceof HTMLElement?cr.current:or.getElementById(We):or.getElementById(We);ar?.focus()}),Qe=reactExports.useMemo(()=>({close:Je}),[Je]),rr=reactExports.useMemo(()=>({open:He===0,close:Je}),[He,Je]),tr={ref:ke};return React$2.createElement(M.Provider,{value:qe},React$2.createElement(v.Provider,{value:Qe},React$2.createElement(s,{value:u$2(He,{0:d.Open,1:d.Closed})},C({ourProps:tr,theirProps:Me,slot:rr,defaultTag:te,name:"Disclosure"}))))}let le="button";function oe(Re,je){let _e=I$1(),{id:Me=`headlessui-disclosure-button-${_e}`,...$e}=Re,[ke,Ce]=_("Disclosure.Button"),Be=Z(),qe=Be===null?!1:Be===ke.panelId,He=reactExports.useRef(null),We=y(He,je,qe?null:ke.buttonRef),Ke=I();reactExports.useEffect(()=>{if(!qe)return Ce({type:2,buttonId:Me}),()=>{Ce({type:2,buttonId:null})}},[Me,Ce,qe]);let Je=o$3(ar=>{var pr;if(qe){if(ke.disclosureState===1)return;switch(ar.key){case o.Space:case o.Enter:ar.preventDefault(),ar.stopPropagation(),Ce({type:0}),(pr=ke.buttonRef.current)==null||pr.focus();break}}else switch(ar.key){case o.Space:case o.Enter:ar.preventDefault(),ar.stopPropagation(),Ce({type:0});break}}),Qe=o$3(ar=>{switch(ar.key){case o.Space:ar.preventDefault();break}}),rr=o$3(ar=>{var pr;r$1(ar.currentTarget)||Re.disabled||(qe?(Ce({type:0}),(pr=ke.buttonRef.current)==null||pr.focus()):Ce({type:0}))}),tr=reactExports.useMemo(()=>({open:ke.disclosureState===0}),[ke]),cr=T$1(Re,He),or=qe?{ref:We,type:cr,onKeyDown:Je,onClick:rr}:{ref:We,id:Me,type:cr,"aria-expanded":ke.disclosureState===0,"aria-controls":ke.linkedPanel?ke.panelId:void 0,onKeyDown:Je,onKeyUp:Qe,onClick:rr};return C({mergeRefs:Ke,ourProps:or,theirProps:$e,slot:tr,defaultTag:le,name:"Disclosure.Button"})}let re="div",se=O.RenderStrategy|O.Static;function ue(Re,je){let _e=I$1(),{id:Me=`headlessui-disclosure-panel-${_e}`,...$e}=Re,[ke,Ce]=_("Disclosure.Panel"),{close:Be}=K("Disclosure.Panel"),qe=I(),He=y(je,ke.panelRef,rr=>{a(()=>Ce({type:rr?4:5}))});reactExports.useEffect(()=>(Ce({type:3,panelId:Me}),()=>{Ce({type:3,panelId:null})}),[Me,Ce]);let We=u(),Ke=We!==null?(We&d.Open)===d.Open:ke.disclosureState===0,Je=reactExports.useMemo(()=>({open:ke.disclosureState===0,close:Be}),[ke,Be]),Qe={ref:He,id:Me};return React$2.createElement(F.Provider,{value:ke.panelId},C({mergeRefs:qe,ourProps:Qe,theirProps:$e,slot:Je,defaultTag:re,features:se,visible:Ke,name:"Disclosure.Panel"}))}let ie=U(ne),ae=U(oe),pe=U(ue),Ae=Object.assign(ie,{Button:ae,Panel:pe});const CustomDevelopment=()=>{reactExports.useState(null),reactExports.useState(null);const Re=[{title:"Requirements Analysis",icon:FileText,description:"Deep dive into your business needs and objectives",details:{importance:"The foundation of successful AI implementation lies in thoroughly understanding your business processes, challenges, and objectives.",process:["Stakeholder interviews and workshops","Current process analysis and documentation","Pain point identification","Opportunity assessment","ROI calculation and business case development"],impact:"A thorough requirements analysis ensures your AI solution addresses real business needs and delivers measurable value. This phase typically reduces project risks by 60% and increases success rates by 40%."}},{title:"Custom Development",icon:Code,description:"Building your tailored AI solution",details:{importance:"Custom development ensures your AI solution perfectly matches your unique business requirements and integrates seamlessly with your existing systems.",process:["Architecture design and planning","AI model selection and customization","Integration framework development","Security implementation","Custom feature development"],impact:"Custom-developed AI solutions typically achieve 35% higher user adoption rates and deliver 45% more business value compared to off-the-shelf solutions."}},{title:"Training & Integration",icon:Bot,description:"Teaching your AI and connecting systems",details:{importance:"Proper training and integration are crucial for ensuring your AI agents perform effectively and work harmoniously with your existing infrastructure.",process:["Data preparation and cleaning","Model training and validation","System integration testing","Performance optimization","Integration with existing workflows"],impact:"Well-trained and properly integrated AI agents show 80% higher accuracy rates and reduce manual intervention by up to 70%."}},{title:"Testing & Refinement",icon:Settings$2,description:"Ensuring perfect performance",details:{importance:"Rigorous testing and continuous refinement ensure your AI solution performs reliably and accurately in real-world conditions.",process:["Comprehensive testing scenarios","Performance benchmarking","User acceptance testing","Edge case handling","Continuous improvement cycles"],impact:"Thorough testing and refinement typically reduce post-deployment issues by 75% and increase user satisfaction by 60%."}},{title:"Deployment & Support",icon:Zap,description:"Going live and ensuring success",details:{importance:"Successful deployment and ongoing support ensure your AI solution delivers long-term value and adapts to changing business needs.",process:["Phased deployment strategy","User training and documentation","Performance monitoring","Continuous optimization","24/7 support and maintenance"],impact:"Proper deployment and support lead to 90% higher user adoption rates and 50% faster time to value."}}],je=[{title:"Communication Systems",icon:MessageSquare,description:"Seamless integration with your communication platforms",details:{features:["Email system integration","Chat platform connectivity","VoIP system integration","Unified messaging support","Multi-channel communication"],benefits:"Reduce response times by 75% and improve customer satisfaction by 40%",techSpecs:"Supports REST APIs, webhooks, and native integrations with major platforms"}},{title:"Calendar Systems",icon:Calendar$2,description:"Connect with your scheduling and calendar tools",details:{features:["Multi-calendar synchronization","Automated scheduling","Availability management","Time zone handling","Meeting coordination"],benefits:"Reduce scheduling conflicts by 90% and save 5+ hours per week per employee",techSpecs:"Compatible with Google Calendar, Outlook, and other major calendar systems"}},{title:"CRM Integration",icon:Users,description:"Seamless integration with your CRM system",details:{features:["Bi-directional data sync","Automated record updates","Custom field mapping","Activity logging","Lead scoring automation"],benefits:"Improve data accuracy by 95% and reduce manual data entry by 80%",techSpecs:"Supports Salesforce, HubSpot, and other major CRM platforms"}},{title:"Phone Systems",icon:Phone,description:"Connect with your existing phone infrastructure",details:{features:["VoIP integration","Call routing automation","Voice transcription","Call analytics","Interactive voice response"],benefits:"Handle 70% more calls with 50% fewer resources",techSpecs:"Compatible with major VoIP providers and PBX systems"}}];return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-dark-950",children:[jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-b from-primary-900 to-primary-800 py-16",children:jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4",children:jsxRuntimeExports.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Custom AI Development"}),jsxRuntimeExports.jsx("p",{className:"text-xl text-primary-200 mb-8",children:"We are at a pivotal moment in business history. AI is not just another technology upgrade  it's a fundamental shift in how businesses operate and compete."}),jsxRuntimeExports.jsx("p",{className:"text-lg text-primary-300",children:"Companies that embrace and adapt to AI now will have a significant competitive advantage in the years to come."})]})})}),jsxRuntimeExports.jsx("div",{className:"bg-dark-900 py-16",children:jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-white text-center mb-12",children:"Development Process"}),jsxRuntimeExports.jsx("div",{className:"space-y-6",children:Re.map((_e,Me)=>jsxRuntimeExports.jsx(Ae,{children:({open:$e})=>jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-lg border border-dark-700 overflow-hidden",children:[jsxRuntimeExports.jsxs(Ae.Button,{className:"w-full p-6 flex items-center justify-between text-left",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full",children:jsxRuntimeExports.jsx(_e.icon,{className:"text-primary-400",size:24})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white",children:_e.title}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:_e.description})]})]}),jsxRuntimeExports.jsx(ChevronDown,{className:`text-gray-400 transition-transform duration-200 ${$e?"transform rotate-180":""}`})]}),jsxRuntimeExports.jsxs(Ae.Panel,{className:"px-6 pb-6 space-y-4 animate-fadeIn",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg",children:[jsxRuntimeExports.jsx("h4",{className:"text-white font-medium mb-2",children:"Why It's Important"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300",children:_e.details.importance})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg",children:[jsxRuntimeExports.jsx("h4",{className:"text-white font-medium mb-2",children:"Process Steps"}),jsxRuntimeExports.jsx("ul",{className:"space-y-2",children:_e.details.process.map((ke,Ce)=>jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(Bot,{className:"text-primary-500 mt-1 mr-2",size:16}),jsxRuntimeExports.jsx("span",{className:"text-gray-300",children:ke})]},Ce))})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg",children:[jsxRuntimeExports.jsx("h4",{className:"text-white font-medium mb-2",children:"Business Impact"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300",children:_e.details.impact})]})]})]})},Me))})]})}),jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4 py-16",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-white text-center mb-12",children:"Integration Capabilities"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:je.map((_e,Me)=>jsxRuntimeExports.jsx(Ae,{children:({open:$e})=>jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-lg border border-dark-700 overflow-hidden",children:[jsxRuntimeExports.jsxs(Ae.Button,{className:"w-full p-6 flex items-center justify-between text-left",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full",children:jsxRuntimeExports.jsx(_e.icon,{className:"text-primary-400",size:24})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white",children:_e.title}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:_e.description})]})]}),jsxRuntimeExports.jsx(ChevronDown,{className:`text-gray-400 transition-transform duration-200 ${$e?"transform rotate-180":""}`})]}),jsxRuntimeExports.jsxs(Ae.Panel,{className:"px-6 pb-6 space-y-4 animate-fadeIn",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg",children:[jsxRuntimeExports.jsx("h4",{className:"text-white font-medium mb-2",children:"Key Features"}),jsxRuntimeExports.jsx("ul",{className:"space-y-2",children:_e.details.features.map((ke,Ce)=>jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(Bot,{className:"text-primary-500 mt-1 mr-2",size:16}),jsxRuntimeExports.jsx("span",{className:"text-gray-300",children:ke})]},Ce))})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg",children:[jsxRuntimeExports.jsx("h4",{className:"text-white font-medium mb-2",children:"Business Benefits"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300",children:_e.details.benefits})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg",children:[jsxRuntimeExports.jsx("h4",{className:"text-white font-medium mb-2",children:"Technical Specifications"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300",children:_e.details.techSpecs})]})]})]})},Me))})]}),jsxRuntimeExports.jsx("div",{className:"bg-dark-900 py-16",children:jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4",children:jsxRuntimeExports.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"The Future of Business is AI-Powered"}),jsxRuntimeExports.jsx("p",{className:"text-lg text-gray-300 mb-8",children:"By 2025, 85% of enterprises will be using AI in their operations. Don't get left behind  start your AI transformation journey today and position your business for success in the AI-driven future."}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-12",children:[jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 border border-dark-700",children:[jsxRuntimeExports.jsx(Brain,{className:"text-primary-400 h-8 w-8 mb-4 mx-auto"}),jsxRuntimeExports.jsx("div",{className:"text-4xl font-bold text-primary-400 mb-2",children:"40%"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300",children:"Increase in Productivity"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 border border-dark-700",children:[jsxRuntimeExports.jsx(Network,{className:"text-primary-400 h-8 w-8 mb-4 mx-auto"}),jsxRuntimeExports.jsx("div",{className:"text-4xl font-bold text-primary-400 mb-2",children:"24/7"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300",children:"Automated Operations"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 border border-dark-700",children:[jsxRuntimeExports.jsx(Database,{className:"text-primary-400 h-8 w-8 mb-4 mx-auto"}),jsxRuntimeExports.jsx("div",{className:"text-4xl font-bold text-primary-400 mb-2",children:"60%"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300",children:"Cost Reduction"})]})]})]})})}),jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4 py-16",children:jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-r from-primary-800 to-primary-900 rounded-2xl p-8 md:p-12 text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Ready to Transform Your Business?"}),jsxRuntimeExports.jsx("p",{className:"text-primary-200 text-lg mb-8 max-w-2xl mx-auto",children:"Join the AI revolution and give your business a competitive edge. Let's discuss your requirements and create a custom AI solution that perfectly fits your needs."}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[jsxRuntimeExports.jsx(Link,{to:"/contact",className:"btn btn-primary bg-white text-primary-900 hover:bg-gray-100 px-6 py-3",children:"Schedule Consultation"}),jsxRuntimeExports.jsx(Link,{to:"/demo",className:"btn btn-secondary border border-white text-white hover:bg-primary-700 px-6 py-3",children:"Request Demo"})]})]})})]})},plans={"free-plan":{name:"Free Plan",price:0,description:"Basic features for small businesses",features:["Basic invoicing functionality","PDF invoice generation","Manual invoice downloads","Limited to 5 invoices per month"],benefits:[{title:"Perfect for Freelancers",description:"Get started with essential invoicing tools at no cost."},{title:"Professional PDFs",description:"Generate professional-looking invoices in PDF format."},{title:"Easy to Use",description:"Simple and intuitive interface for basic business needs."}],stripeId:null},"basic-plan":{name:"Basic Plan",price:19.99,description:"Essential features for small businesses",features:["All Free Plan features","Email delivery to customers","Invoice templates","Recurring invoices","Up to 25 customers","Customer contact management","Basic customer history","Up to 10 products","Basic product catalog"],benefits:[{title:"Streamlined Communication",description:"Send invoices directly to customers via email."},{title:"Time-Saving Templates",description:"Create and reuse professional invoice templates."},{title:"Customer Management",description:"Keep track of customer information and history."}],stripeId:"price_1Qz7DWGmarpEtABMVmArHtSG"},"business-plan":{name:"Business Plan",price:99.99,description:"Advanced features for growing businesses",features:["All Basic Plan features","Up to 50 customers","Customer segmentation","Advanced customer analytics","Up to 50 products","Third-party integrations","Multiple invoice templates","Bulk invoice generation"],benefits:[{title:"Comprehensive Analytics",description:"Make data-driven decisions with advanced customer insights."},{title:"Integrated Solutions",description:"Connect with your favorite accounting and payment tools."},{title:"Automation",description:"Save time with bulk operations and scheduled invoicing."}],stripeId:"price_1Qz7GkGmarpEtABMeMjmUnPu"},"enterprise-plan":{name:"Enterprise Plan",price:399.99,description:"Complete solution for established businesses",features:["All Business Plan features","Unlimited customers","AI-powered features","Advanced analytics","Priority support","Custom integrations","White-label options"],benefits:[{title:"Advanced AI Collections",description:"Our AI-powered voice calling system automatically handles collection calls with natural conversation flow, sentiment analysis, and smart payment negotiations."},{title:"Intelligent Virtual Assistant",description:"AI assistant handles customer inquiries, processes payments, and manages follow-ups with human-like interaction and understanding."},{title:"Smart Analytics & Predictions",description:"Leverage machine learning for accurate revenue forecasting, customer behavior analysis, and payment prediction."}],aiFeatures:[{title:"Voice Collections",description:"AI-powered calling system that:",capabilities:["Makes automated collection calls","Understands customer responses","Negotiates payment plans","Detects customer sentiment","Escalates to human agents when needed"]},{title:"Virtual Assistant",description:"Intelligent AI assistant that:",capabilities:["Handles customer inquiries 24/7","Processes payments automatically","Sends smart payment reminders","Manages follow-up communications","Learns from each interaction"]},{title:"Predictive Analytics",description:"Machine learning system that:",capabilities:["Forecasts payment likelihood","Identifies at-risk accounts","Suggests optimal collection times","Analyzes customer patterns","Recommends collection strategies"]}],stripeId:"price_1Qz7HwGmarpEtABMrgE6JEo0"}},PlanDetails=()=>{const{planId:Re}=useParams(),je=useNavigate(),[_e,Me]=reactExports.useState(!1),$e=plans[Re];if(!$e)return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"Plan not found"}),jsxRuntimeExports.jsx(Link,{to:"/",className:"text-primary-400 hover:text-primary-300",children:"Return to home"})]})});const ke=async()=>{je(`/dashboard?plan=${$e.name.toLowerCase()}`)};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-dark-950",children:[jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-b from-primary-900 to-primary-800 py-16",children:jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4",children:[jsxRuntimeExports.jsxs(Link,{to:"/",className:"inline-flex items-center text-white mb-8 hover:text-primary-200",children:[jsxRuntimeExports.jsx(ArrowLeft,{size:20,className:"mr-2"}),"Back to Home"]}),jsxRuntimeExports.jsxs("div",{className:"max-w-4xl",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:$e.name}),jsxRuntimeExports.jsx("p",{className:"text-xl text-primary-200 mb-6",children:$e.description}),jsxRuntimeExports.jsxs("div",{className:"flex items-baseline",children:[jsxRuntimeExports.jsxs("span",{className:"text-5xl font-bold text-white",children:["$",$e.price]}),jsxRuntimeExports.jsx("span",{className:"text-xl text-primary-200 ml-2",children:"/month"})]}),jsxRuntimeExports.jsx("button",{onClick:ke,disabled:_e,className:"inline-block mt-8 btn btn-primary text-lg px-8 py-3 disabled:opacity-50 disabled:cursor-not-allowed",children:_e?jsxRuntimeExports.jsxs("span",{className:"flex items-center",children:[jsxRuntimeExports.jsx(Loader,{className:"animate-spin -ml-1 mr-3 h-5 w-5"}),"Processing..."]}):"Get Started"})]})]})}),jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4 py-16",children:[$e.aiFeatures&&jsxRuntimeExports.jsxs("div",{className:"mb-16",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-white mb-8 text-center",children:"AI-Powered Features"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:$e.aiFeatures.map((Ce,Be)=>jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-xl p-6 border border-dark-700",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:Ce.title}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 mb-4",children:Ce.description}),jsxRuntimeExports.jsx("ul",{className:"space-y-2",children:Ce.capabilities.map((qe,He)=>jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(Check,{className:"text-primary-500 mt-1 mr-2",size:16}),jsxRuntimeExports.jsx("span",{className:"text-gray-300",children:qe})]},He))})]},Be))})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-white mb-8",children:"Features"}),jsxRuntimeExports.jsx("ul",{className:"space-y-4",children:$e.features.map((Ce,Be)=>jsxRuntimeExports.jsxs("li",{className:"flex items-start",children:[jsxRuntimeExports.jsx(Check,{className:"text-primary-500 mt-1 mr-3",size:20}),jsxRuntimeExports.jsx("span",{className:"text-gray-300",children:Ce})]},Be))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-white mb-8",children:"Key Benefits"}),jsxRuntimeExports.jsx("div",{className:"space-y-8",children:$e.benefits.map((Ce,Be)=>jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 border border-dark-700",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:Ce.title}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:Ce.description})]},Be))})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-16 text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Ready to get started?"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 mb-8 max-w-2xl mx-auto",children:"Start using our platform to streamline your operations today."}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap justify-center gap-4",children:jsxRuntimeExports.jsx("button",{onClick:ke,disabled:_e,className:"btn btn-primary text-lg px-8 py-3 disabled:opacity-50 disabled:cursor-not-allowed",children:_e?jsxRuntimeExports.jsxs("span",{className:"flex items-center",children:[jsxRuntimeExports.jsx(Loader,{className:"animate-spin -ml-1 mr-3 h-5 w-5"}),"Processing..."]}):"Sign Up"})})]})]})]})},Contact=()=>{const{register:Re,handleSubmit:je,reset:_e,formState:{errors:Me,isSubmitting:$e}}=useForm(),ke=useNavigate(),Ce=async Be=>{try{const qe=`
Name: ${Be.name}
Email: ${Be.email}

Message:
${Be.message}
      `.trim();if(await emailService.sendEmail("info@cxtrack.com",`Contact Form: ${Be.subject}`,qe))c$1.success("Message sent successfully!"),_e();else throw new Error("Failed to send message")}catch(qe){console.error("Error sending contact form:",qe),c$1.error("Failed to send message. Please try again.")}};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-dark-950",children:[jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-b from-primary-900 to-primary-800 py-16",children:jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-8",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>ke(-1),className:"flex items-center space-x-2 text-white hover:text-primary-200",children:[jsxRuntimeExports.jsx(ArrowLeft,{size:20}),jsxRuntimeExports.jsx("span",{children:"Back"})]}),jsxRuntimeExports.jsxs(Link,{to:"/",className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("img",{src:"/logo.svg",alt:"CxTrack Logo",className:"h-8 w-8 logo-glow"}),jsxRuntimeExports.jsx("span",{className:"brand-logo text-xl font-bold text-white brand-text",children:"CxTrack"})]})]}),jsxRuntimeExports.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Contact Our Sales Team"}),jsxRuntimeExports.jsx("p",{className:"text-xl text-primary-200",children:"Get in touch with our team to discuss your business needs and find the perfect solution."})]})]})}),jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4 py-16",children:jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-12",children:[jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 p-6 rounded-lg border border-dark-700",children:[jsxRuntimeExports.jsx(Mail,{className:"text-primary-500 mb-4",size:24}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Email"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"info@cxtrack.com"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 p-6 rounded-lg border border-dark-700",children:[jsxRuntimeExports.jsx(MessageSquare,{className:"text-primary-500 mb-4",size:24}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Live Chat"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Available 24/7"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-xl border border-dark-700 p-8",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Send us a message"}),jsxRuntimeExports.jsxs("form",{onSubmit:je(Ce),className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-300 mb-1",children:["Name ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("input",{id:"name",type:"text",className:"input",placeholder:"Your name",...Re("name",{required:"Name is required"})}),Me.name&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:Me.name.message})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-1",children:["Email ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("input",{id:"email",type:"email",className:"input",placeholder:"you@example.com",...Re("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})}),Me.email&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:Me.email.message})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-300 mb-1",children:["Subject ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("input",{id:"subject",type:"text",className:"input",placeholder:"What's this about?",...Re("subject",{required:"Subject is required"})}),Me.subject&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:Me.subject.message})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-300 mb-1",children:["Message ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("textarea",{id:"message",rows:6,className:"input",placeholder:"How can we help you?",...Re("message",{required:"Message is required"})}),Me.message&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:Me.message.message})]}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("button",{type:"submit",disabled:$e,className:"btn btn-primary w-full py-3",children:$e?jsxRuntimeExports.jsxs("span",{className:"flex items-center justify-center",children:[jsxRuntimeExports.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[jsxRuntimeExports.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),jsxRuntimeExports.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending..."]}):"Send Message"})})]})]})]})})]})},Templates=()=>{const{activeTemplate:Re,setActiveTemplate:je,getActiveTemplate:_e,loading:Me}=useTemplateStore();reactExports.useEffect(()=>{_e()},[_e]);const $e=async Ce=>{try{await je(Ce),c$1.success(`Successfully switched to ${ke.find(Be=>Be.id===Ce)?.name} template`)}catch{c$1.error("Failed to switch template")}},ke=[{id:"call-center",name:"Call Center",description:"Optimized for businesses with high call volumes and agent management needs.",isActive:Re==="call-center",items:[{type:"Call Template Features",data:["AI Agents - Inbound Calls","Calls Statistics","Calls Summary","Calls Recording"]},{type:"Modules",data:["Dashboard","Customers","Calls","Templates"]}],features:["Call scripts","Agents management","Call logging and tracking"]}];return jsxRuntimeExports.jsx("div",{className:"space-y-6",children:jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:ke.map(Ce=>jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-xl border border-dark-700 overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"p-6 border-b border-dark-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white",children:Ce.name}),Ce.isActive&&jsxRuntimeExports.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-green-900/30 text-green-400 rounded-full",children:"Active"})]}),jsxRuntimeExports.jsx("div",{className:"p-2 rounded-lg bg-primary-500/20",children:jsxRuntimeExports.jsx(Building,{className:"text-primary-400",size:20})})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:Ce.description})]}),jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-6",children:[Ce.items.map((Be,qe)=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:Be.type}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 gap-2",children:Be.data.map((He,We)=>jsxRuntimeExports.jsx("div",{className:"bg-dark-700/50 px-3 py-2 rounded text-sm text-gray-300",children:He},We))})]},qe)),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"Features"}),jsxRuntimeExports.jsx("ul",{className:"space-y-2",children:Ce.features.map((Be,qe)=>jsxRuntimeExports.jsxs("li",{className:"flex items-center text-gray-300 text-sm",children:[jsxRuntimeExports.jsx("span",{className:"w-1.5 h-1.5 bg-primary-500 rounded-full mr-2"}),Be]},qe))})]})]}),jsxRuntimeExports.jsx("div",{className:"p-6 bg-dark-700/50 border-t border-dark-700",children:Ce.isActive?jsxRuntimeExports.jsx("button",{disabled:!0,className:"btn btn-secondary w-full flex items-center justify-center space-x-2 opacity-50 cursor-not-allowed",children:jsxRuntimeExports.jsx("span",{children:"Currently Active"})}):jsxRuntimeExports.jsxs("button",{onClick:()=>$e(Ce.id),disabled:Me,className:"btn btn-primary w-full flex items-center justify-center space-x-2",children:[jsxRuntimeExports.jsx(Download,{size:16}),jsxRuntimeExports.jsx("span",{children:Me?"Switching...":"Use Template"})]})})]},Ce.id))})})},Revenue=()=>{const{invoices:Re}=useInvoiceStore(),je=Re.filter(ke=>ke.status==="Paid").reduce((ke,Ce)=>ke+Ce.total,0),_e=new Date().getMonth(),Me=Re.filter(ke=>ke.status==="Paid"&&new Date(ke.payment_date).getMonth()===_e).reduce((ke,Ce)=>ke+Ce.total,0),$e=Re.filter(ke=>ke.status==="Paid"&&new Date(ke.payment_date).getMonth()===_e-1).reduce((ke,Ce)=>ke+Ce.total,0);return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-white",children:"Revenue"}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-2",children:[jsxRuntimeExports.jsxs("button",{className:"btn btn-secondary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Calendar$2,{size:16}),jsxRuntimeExports.jsx("span",{children:"Filter by Date"})]}),jsxRuntimeExports.jsxs("button",{className:"btn btn-secondary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Download,{size:16}),jsxRuntimeExports.jsx("span",{children:"Export"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsx("div",{className:"card bg-dark-800 border border-dark-700",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm",children:"Total Revenue"}),jsxRuntimeExports.jsxs("h3",{className:"text-2xl font-bold text-white mt-1",children:["$",je.toLocaleString()]})]}),jsxRuntimeExports.jsx("div",{className:"p-3 rounded-lg bg-green-500/20 text-green-500",children:jsxRuntimeExports.jsx(DollarSign,{size:24})})]})}),jsxRuntimeExports.jsx("div",{className:"card bg-dark-800 border border-dark-700",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm",children:"Current Month"}),jsxRuntimeExports.jsxs("h3",{className:"text-2xl font-bold text-white mt-1",children:["$",Me.toLocaleString()]})]}),jsxRuntimeExports.jsx("div",{className:"p-3 rounded-lg bg-blue-500/20 text-blue-500",children:jsxRuntimeExports.jsx(Calendar$2,{size:24})})]})}),jsxRuntimeExports.jsx("div",{className:"card bg-dark-800 border border-dark-700",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm",children:"Last Month"}),jsxRuntimeExports.jsxs("h3",{className:"text-2xl font-bold text-white mt-1",children:["$",$e.toLocaleString()]})]}),jsxRuntimeExports.jsx("div",{className:"p-3 rounded-lg bg-purple-500/20 text-purple-500",children:jsxRuntimeExports.jsx(Calendar$2,{size:24})})]})})]}),jsxRuntimeExports.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-white",children:"Revenue History"}),jsxRuntimeExports.jsx("div",{className:"flex items-center space-x-2",children:jsxRuntimeExports.jsxs("button",{className:"btn btn-secondary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Filter,{size:16}),jsxRuntimeExports.jsx("span",{children:"Filter"})]})})]}),jsxRuntimeExports.jsxs("div",{className:"overflow-x-auto",children:[jsxRuntimeExports.jsxs("table",{className:"w-full",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"bg-dark-700",children:[jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Invoice #"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Customer"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Date"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Amount"})]})}),jsxRuntimeExports.jsx("tbody",{className:"divide-y divide-dark-700",children:Re.filter(ke=>ke.status==="Paid").sort((ke,Ce)=>new Date(Ce.payment_date).getTime()-new Date(ke.payment_date).getTime()).map(ke=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-dark-700/50",children:[jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsx(Link,{to:`/invoices/${ke.id}`,className:"text-white hover:text-primary-400",children:ke.invoice_number})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:ke.customer_name}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:new Date(ke.payment_date).toLocaleDateString()}),jsxRuntimeExports.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-right text-gray-300",children:["$",ke.total.toLocaleString()]})]},ke.id))})]}),Re.filter(ke=>ke.status==="Paid").length===0&&jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx(DollarSign,{size:48,className:"text-gray-600 mb-4 mx-auto"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-lg mb-2",children:"No revenue data yet"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-sm",children:"Start collecting payments to see your revenue history"})]})]})]})]})},COUNTRIES=[{code:"CA",name:"Canada",states:["Alberta","British Columbia","Manitoba","New Brunswick","Newfoundland and Labrador","Nova Scotia","Ontario","Prince Edward Island","Quebec","Saskatchewan","Northwest Territories","Nunavut","Yukon"]},{code:"US",name:"United States",states:["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"]},{code:"UK",name:"United Kingdom"},{code:"AU",name:"Australia"},{code:"NZ",name:"New Zealand"}],NewSupplier=()=>{const{id:Re}=useParams(),je=useNavigate(),{createSupplier:_e,updateSupplier:Me,getSupplierById:$e,loading:ke,error:Ce,clearError:Be}=useSupplierStore(),[qe,He]=reactExports.useState("CA"),[We,Ke]=reactExports.useState(!1),[Je,Qe]=reactExports.useState(""),[rr,tr]=reactExports.useState(!1),[cr,or]=reactExports.useState(null),{register:ar,handleSubmit:pr,formState:{errors:ur},reset:gr}=useForm({defaultValues:{first_name:"",last_name:"",email:"",phone:"",company:"",notes:""}});reactExports.useEffect(()=>{(async()=>{if(Re){const dr=await $e(Re);dr&&gr({first_name:dr.first_name,last_name:dr.last_name,email:dr.email||"",phone:dr.phone||"",company:dr.company||"",notes:dr.notes||"",street:dr.street||"",city:dr.city||"",state:dr.state||"",country:dr.country||"CA",postal_code:dr.postal_code||""})}})()},[Re,$e,gr]);const jr=async vr=>{Ke(!0),Be();try{let dr;if(Re)dr=await Me(Re,vr),c$1.success("Supplier updated successfully!");else{console.log(vr),dr=await _e(vr),c$1.success("Supplier created successfully!"),or(dr.id),je("/suppliers");return}je(`/suppliers/${dr.id}`)}catch(dr){console.error("Error creating supplier:",dr),c$1.error("Failed to create supplier. Please try again.")}};return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsx(Link,{to:"/suppliers",className:"btn btn-secondary p-2",children:jsxRuntimeExports.jsx(ArrowLeft,{size:20})}),jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-white",children:Re?"Edit Supplier":"Add New Supplier"})]}),Ce&&jsxRuntimeExports.jsx("div",{className:"bg-red-900/50 border border-red-800 text-red-300 px-4 py-3 rounded-md",children:Ce}),jsxRuntimeExports.jsxs("form",{onSubmit:pr(jr),className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Basic Information"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{htmlFor:"company",className:"block text-sm font-medium text-gray-300 mb-1",children:["Company ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("input",{id:"company",type:"text",className:"input",placeholder:"Company name",...ar("company",{required:"Last name is required"})})]}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"first_name",className:"block text-sm font-medium text-gray-300 mb-1",children:"Contact First Name"}),jsxRuntimeExports.jsx("input",{id:"first_name",type:"text",className:"input",placeholder:"First name",...ar("first_name")}),ur.first_name&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:ur.first_name.message})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"last_name",className:"block text-sm font-medium text-gray-300 mb-1",children:"Contact Last Name"}),jsxRuntimeExports.jsx("input",{id:"last_name",type:"text",className:"input",placeholder:"Last name",...ar("last_name")}),ur.last_name&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:ur.last_name.message})]})]})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-1",children:"Email"}),jsxRuntimeExports.jsx("input",{id:"email",type:"email",className:"input",placeholder:"supplier@example.com",...ar("email",{pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})}),ur.email&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:ur.email.message})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-300 mb-1",children:"Phone Number"}),jsxRuntimeExports.jsx("input",{id:"phone",type:"tel",className:"input",value:Je,onChange:vr=>{const xr=vr.target.value.replace(/\D/g,"").slice(0,10),Rr=xr.replace(/(\d{3})(\d{3})(\d{4})/,"($1) $2-$3");Qe(Rr),ar("phone").onChange({target:{value:xr,name:"phone"}})},placeholder:"(555) 555-5555"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Address Information"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-300 mb-1",children:["Country ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("select",{id:"country",className:"input",value:qe,onChange:vr=>He(vr.target.value),...ar("country",{required:"Country is required"}),children:COUNTRIES.map(vr=>jsxRuntimeExports.jsx("option",{value:vr.code,children:vr.name},vr.code))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"street",className:"block text-sm font-medium text-gray-300 mb-1",children:"Street Address"}),jsxRuntimeExports.jsx("input",{id:"street",type:"text",className:"input",placeholder:"123 Main St",...ar("street")})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-300 mb-1",children:"City"}),jsxRuntimeExports.jsx("input",{id:"city",type:"text",className:"input",placeholder:"City",...ar("city")})]}),qe==="CA"&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"province",className:"block text-sm font-medium text-gray-300 mb-1",children:"Province"}),jsxRuntimeExports.jsxs("select",{id:"province",className:"input",...ar("state"),children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Province"}),COUNTRIES.find(vr=>vr.code==="CA")?.states.map(vr=>jsxRuntimeExports.jsx("option",{value:vr,children:vr},vr))]})]}),qe==="US"&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-300 mb-1",children:"State"}),jsxRuntimeExports.jsxs("select",{id:"state",className:"input",...ar("state"),children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select State"}),COUNTRIES.find(vr=>vr.code==="US")?.states.map(vr=>jsxRuntimeExports.jsx("option",{value:vr,children:vr},vr))]})]}),["UK","AU","NZ"].includes(qe)&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-300 mb-1",children:qe==="UK"?"County":qe==="AU"?"State/Territory":"Region"}),jsxRuntimeExports.jsx("input",{id:"state",type:"text",className:"input",placeholder:qe==="UK"?"County":qe==="AU"?"State/Territory":"Region",...ar("state")})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"postal_code",className:"block text-sm font-medium text-gray-300 mb-1",children:qe==="US"?"ZIP Code":qe==="UK"?"Post Code":"Postal Code"}),jsxRuntimeExports.jsx("input",{id:"postal_code",type:"text",className:"input",placeholder:qe==="US"?"12345":qe==="CA"?"A1A 1A1":qe==="UK"?"SW1A 1AA":"Postal Code",...ar("postal_code",{pattern:qe==="CA"?{value:/^[A-Za-z]\d[A-Za-z][ -]?\d[A-Za-z]\d$/,message:"Please enter a valid Canadian postal code"}:qe==="US"?{value:/^\d{5}(-\d{4})?$/,message:"Please enter a valid US ZIP code"}:qe==="UK"?{value:/^[A-Z]{1,2}\d[A-Z\d]? ?\d[A-Z]{2}$/i,message:"Please enter a valid UK post code"}:void 0})}),ur.postal_code&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-red-400",children:ur.postal_code.message})]})]})]})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-end",children:jsxRuntimeExports.jsx("button",{type:"submit",className:"btn btn-primary flex items-center space-x-2",disabled:ke,children:ke?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white"}),jsxRuntimeExports.jsx("span",{children:"Saving..."})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Save,{size:16}),jsxRuntimeExports.jsx("span",{children:"Save Supplier"})]})})})]}),rr&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 w-full max-w-md",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white",children:"Create Lead"}),jsxRuntimeExports.jsx("button",{onClick:()=>{tr(!1),je(`/suppliers/${cr}`)},className:"text-gray-400 hover:text-white",children:jsxRuntimeExports.jsx(X$1,{size:20})})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 mb-6",children:"Would you like to create a lead for this customer? This will add them to your sales pipeline."}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-3",children:[jsxRuntimeExports.jsx("button",{onClick:()=>{tr(!1),je(`/suppliers/${cr}`)},className:"btn btn-secondary",children:"Skip"}),jsxRuntimeExports.jsxs(Link,{to:`/crm?supplier=${cr}&action=create-lead`,className:"btn btn-primary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Plus,{size:16}),jsxRuntimeExports.jsx("span",{children:"Create Lead"})]})]})]})})]})},SupplierDetail=()=>{const{id:Re}=useParams(),je=useNavigate(),{getSupplierById:_e,updateSupplier:Me,deleteSupplier:$e,loading:ke,error:Ce}=useSupplierStore(),[Be,qe]=reactExports.useState(null),[He,We]=reactExports.useState(null),[Ke,Je]=reactExports.useState("");reactExports.useEffect(()=>{Re&&_e(Re).then(or=>{or?qe(or):(c$1.error("Supplier not found"),je("/supplier"))}).catch(or=>{c$1.error("Failed to load supplier details")})},[Re,_e,je]);const Qe=async()=>{if(Re&&window.confirm("Are you sure you want to delete this supplier?"))try{await $e(Re),c$1.success("Supplier deleted successfully"),je("/suppliers")}catch{c$1.error("Failed to delete supplier")}},rr=(or,ar)=>{We(or),Je(ar)},tr=async or=>{if(!(!Re||!Be))try{const ar=await Me(Re,{[or]:Ke});qe(ar),We(null),Je(""),c$1.success("Updated successfully")}catch{c$1.error("Failed to update")}},cr=(or,ar)=>{or.key==="Enter"?tr(ar):or.key==="Escape"&&(We(null),Je(""))};return ke?jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500 mx-auto"}),jsxRuntimeExports.jsx("p",{className:"mt-4 text-gray-400",children:"Loading supplier details..."})]}):Ce?jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx("p",{className:"text-red-400 text-lg",children:Ce}),jsxRuntimeExports.jsx(Link,{to:"/suppliers",className:"btn btn-primary mt-4",children:"Back to suppliers"})]}):Be?jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsx(Link,{to:"/suppliers",className:"btn btn-secondary p-2",children:jsxRuntimeExports.jsx(ArrowLeft,{size:20})}),jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-white",children:Be.name})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2",children:[jsxRuntimeExports.jsxs(Link,{to:`/suppliers/${Re}/edit`,className:"btn btn-primary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(SquarePen,{size:16}),jsxRuntimeExports.jsx("span",{children:"Edit suppliers"})]}),jsxRuntimeExports.jsxs(Link,{to:`/invoices/create?suppliers=${Re}`,className:"btn btn-secondary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(FileText,{size:16}),jsxRuntimeExports.jsx("span",{children:"Create Invoice"})]}),jsxRuntimeExports.jsxs("button",{className:"btn btn-danger flex items-center space-x-2",onClick:Qe,children:[jsxRuntimeExports.jsx(Trash2,{size:16}),jsxRuntimeExports.jsx("span",{children:"Delete"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Supplier Information"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"flex items-start space-x-3",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Contact Details"}),jsxRuntimeExports.jsx("div",{className:"cursor-pointer",onClick:()=>rr("name",Be.name),children:He==="name"?jsxRuntimeExports.jsx("input",{type:"text",className:"input py-1 px-2",value:Ke,onChange:or=>Je(or.target.value),onBlur:()=>tr("name"),onKeyDown:or=>cr(or,"name"),autoFocus:!0}):jsxRuntimeExports.jsx("p",{className:"text-white font-medium hover:text-primary-400",children:Be.name})})]})}),jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"text-gray-400",children:jsxRuntimeExports.jsx(Building,{size:18})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Company"}),jsxRuntimeExports.jsx("div",{className:"cursor-pointer",onClick:()=>rr("company",Be.company||""),children:He==="company"?jsxRuntimeExports.jsx("input",{type:"text",className:"input py-1 px-2",value:Ke,onChange:or=>Je(or.target.value),onBlur:()=>tr("company"),onKeyDown:or=>cr(or,"company"),autoFocus:!0}):jsxRuntimeExports.jsx("p",{className:"text-white hover:text-primary-400",children:Be.company||"No company"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"text-gray-400",children:jsxRuntimeExports.jsx(Mail,{size:18})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Email"}),jsxRuntimeExports.jsx("div",{className:"cursor-pointer",onClick:()=>rr("email",Be.email||""),children:He==="email"?jsxRuntimeExports.jsx("input",{type:"email",className:"input py-1 px-2",value:Ke,onChange:or=>Je(or.target.value),onBlur:()=>tr("email"),onKeyDown:or=>cr(or,"email"),autoFocus:!0}):jsxRuntimeExports.jsx("p",{className:"text-white hover:text-primary-400",children:Be.email||"No email provided"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"text-gray-400",children:jsxRuntimeExports.jsx(Phone,{size:18})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Phone"}),jsxRuntimeExports.jsx("div",{className:"cursor-pointer",onClick:()=>rr("phone",Be.phone||""),children:He==="phone"?jsxRuntimeExports.jsx("input",{type:"tel",className:"input py-1 px-2",value:Ke,onChange:or=>Je(or.target.value),onBlur:()=>tr("phone"),onKeyDown:or=>cr(or,"phone"),autoFocus:!0}):jsxRuntimeExports.jsx("p",{className:"text-white hover:text-primary-400",children:formatPhoneNumber(Be.phone)||"No phone provided"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"text-gray-400",children:jsxRuntimeExports.jsx(Calendar$2,{size:18})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Created At"}),jsxRuntimeExports.jsx("p",{className:"text-white",children:Be.created_at?new Date(Be.created_at).toLocaleDateString():"N/A"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-md font-medium text-white mb-2",children:"Notes"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 text-sm",children:Be.notes||"No notes available"})]})]}),jsxRuntimeExports.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Financial Summary"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"bg-dark-700 rounded-md p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-md bg-green-500/20 text-green-500",children:jsxRuntimeExports.jsx(FileText,{size:20})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Total Invoices"}),jsxRuntimeExports.jsx("p",{className:"text-xl font-semibold text-white",children:"0"})]})]})}),jsxRuntimeExports.jsx("div",{className:"bg-dark-700 rounded-md p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-md bg-blue-500/20 text-blue-500",children:jsxRuntimeExports.jsx(ShoppingCart,{size:20})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Total Purchases"}),jsxRuntimeExports.jsx("p",{className:"text-xl font-semibold text-white",children:"0"})]})]})}),jsxRuntimeExports.jsx("div",{className:"bg-dark-700 rounded-md p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-md bg-purple-500/20 text-purple-500",children:jsxRuntimeExports.jsx(Calendar$2,{size:20})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Last Purchase"}),jsxRuntimeExports.jsx("p",{className:"text-white",children:Be.last_purchase?new Date(Be.last_purchase).toLocaleDateString():"Never"})]})]})})]})]}),jsxRuntimeExports.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Recent Activity"}),jsxRuntimeExports.jsx("div",{className:"text-center py-6",children:jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"No recent activity"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-white",children:"Invoices"}),jsxRuntimeExports.jsxs(Link,{to:`/invoices/create?customer=${Re}`,className:"btn btn-primary flex items-center space-x-2",children:[jsxRuntimeExports.jsx(FileText,{size:16}),jsxRuntimeExports.jsx("span",{children:"Create Invoice"})]})]}),jsxRuntimeExports.jsx("div",{className:"text-center py-6",children:jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"No invoices found for this customer"})})]}),jsxRuntimeExports.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-between items-center mb-4",children:jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-white",children:"Purchase History"})}),jsxRuntimeExports.jsx("div",{className:"text-center py-6",children:jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"No purchase history found for this customer"})})]})]}):jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-lg",children:"Supplier not found"}),jsxRuntimeExports.jsx(Link,{to:"/suppliers",className:"btn btn-primary mt-4",children:"Back to suppliers"})]})};Chart$1.register(CategoryScale,LinearScale,BarElement,plugin_title,plugin_tooltip,plugin_legend,ArcElement,PointElement,LineElement,index);const Calls=()=>{const[Re,je]=reactExports.useState([]),[_e,Me]=reactExports.useState(!0),[$e,ke]=reactExports.useState(null),[Ce,Be]=reactExports.useState(1),qe=20;reactExports.useEffect(()=>{(async()=>{try{const cr=await callsService.fetchAccountCalls();je(cr)}catch(cr){console.error(cr),ke("Failed to load calls")}finally{Me(!1)}})()},[]);const He=Ce*qe,We=He-qe,Ke=reactExports.useMemo(()=>Re.slice(We,He),[Re,Ce]),Je=tr=>Be(tr),Qe=reactExports.useMemo(()=>{const tr=[];for(let cr=1;cr<=Math.ceil(Re.length/qe);cr++)tr.push(cr);return tr},[Re,qe]),rr=reactExports.useMemo(()=>{const tr=Qe.length,cr=5,or=3;if(tr<=cr)return Qe;const ar=[];for(let pr=1;pr<=Math.min(or,tr);pr++)ar.push(pr);Ce>or+1&&ar.push("...");for(let pr=Math.max(tr-or+1,or+1);pr<=tr;pr++)ar.push(pr);return ar},[Qe,Ce]);return jsxRuntimeExports.jsxs("div",{className:"container mx-auto p-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-white mb-6",children:"Calls Dashboard"}),_e&&jsxRuntimeExports.jsx("p",{className:"text-white",children:"Loading calls..."}),$e&&jsxRuntimeExports.jsxs("p",{className:"text-red-500",children:["Error fetching calls: ",$e]}),!_e&&!$e&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(CallsDashboardCharts,{calls:Re}),jsxRuntimeExports.jsx(RecentCallsTable,{currentCalls:Ke,formatPhoneNumber:formatService.formatPhoneNumber,formatDate:formatService.formatDate}),Re.length>0&&jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 px-4 py-3 flex items-center justify-between border-t border-dark-700 rounded mt-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Je(Ce-1),disabled:Ce===1,className:"btn btn-secondary",children:"Previous"}),jsxRuntimeExports.jsx("button",{onClick:()=>Je(Ce+1),disabled:Ce===Qe.length,className:"btn btn-secondary",children:"Next"})]}),jsxRuntimeExports.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-400",children:["Showing ",jsxRuntimeExports.jsx("span",{className:"font-medium text-white",children:We+1})," to ",jsxRuntimeExports.jsx("span",{className:"font-medium text-white",children:He>Re.length?Re.length:He})," of ",jsxRuntimeExports.jsx("span",{className:"font-medium text-white",children:Re.length})," results"]})}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Je(Ce-1),disabled:Ce===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-dark-700 bg-dark-800 text-sm font-medium text-gray-400 hover:bg-dark-700",children:"Previous"}),rr.map(tr=>jsxRuntimeExports.jsx("button",{onClick:()=>{tr!=="..."&&Je(Number(tr))},"aria-current":"page",className:`${Ce===tr?"z-10 bg-indigo-500 border-indigo-500 text-white":"bg-dark-800 border-dark-700 text-gray-400 hover:bg-dark-700"} relative inline-flex items-center px-4 py-2 border text-sm font-medium`,disabled:tr==="...",children:tr},tr)),jsxRuntimeExports.jsx("button",{onClick:()=>Je(Ce+1),disabled:Ce===Qe.length,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-dark-700 bg-dark-800 text-sm font-medium text-gray-400 hover:bg-dark-700",children:"Next"})]})})]})]})]})]})};Chart$1.register(CategoryScale,LinearScale,BarElement,PointElement,LineElement,ArcElement,plugin_title,plugin_tooltip,plugin_legend);const AdminCallsDashboardCharts=({calls:Re})=>{const[je,_e]=reactExports.useState(0),{agentsCount:Me,fetchCallAgents:$e}=useCallStore(),[ke,Ce]=reactExports.useState(0),[Be,qe]=reactExports.useState(0),[He,We]=reactExports.useState(0),[Ke,Je]=reactExports.useState(0);reactExports.useEffect(()=>{$e(),_e(Qe()),rr(),tr(),cr(Re),or(Re)},[Re]);function Qe(){return Re.reduce((Ue,Ge)=>{const Ze=new Date(Ge.start_time).getTime(),er=new Date(Ge.end_time).getTime();return Ue+(er-Ze)},0)/1e3/60}function rr(){const Pe={},Fe=new Date,ze=new Date(Fe.getFullYear(),Fe.getMonth(),1),Ue=new Date(Fe.getFullYear(),Fe.getMonth()-1,1),Ge=new Date(ze.getTime()-1);Re.forEach(Ze=>{if(Ze.start_time){const er=new Date(Ze.start_time);if(er>=Ue&&er<=Ge){const Ve=er.toISOString().split("T")[0];Pe[Ve]=(Pe[Ve]||0)+1}}}),Ce(Object.values(Pe).reduce((Ze,er)=>Ze+er,0))}function tr(){const Pe={},Fe=new Date,ze=Fe.getFullYear(),Ue=Fe.getMonth();Re.forEach(Ge=>{if(Ge.start_time){const Ze=new Date(Ge.start_time);if(Ze.getFullYear()===ze&&Ze.getMonth()===Ue){const er=Ze.toISOString().split("T")[0];Pe[er]=(Pe[er]||0)+1}}}),qe(Object.values(Pe).reduce((Ge,Ze)=>Ge+Ze,0))}function cr(Pe){const Fe=new Date,ze=Fe.getMonth(),Ue=Fe.getFullYear(),Ge=Pe.filter(Ze=>{const er=new Date(Ze.start_time);return er.getFullYear()===Ue&&er.getMonth()===ze});Je(ar(Ge))}function or(Pe){const Fe=new Date,ze=Fe.getMonth()===0?11:Fe.getMonth()-1,Ue=Fe.getMonth()===0?Fe.getFullYear()-1:Fe.getFullYear(),Ge=Pe.filter(Ze=>{const er=new Date(Ze.start_time);return er.getFullYear()===Ue&&er.getMonth()===ze});We(ar(Ge))}function ar(Pe){return Pe.reduce((ze,Ue)=>{const Ge=new Date(Ue.start_time).getTime(),Ze=new Date(Ue.end_time).getTime();return ze+(Ze-Ge)},0)/1e3/60}const pr=reactExports.useMemo(()=>{if(!Re||Re.length===0)return 0;const Pe=Re.filter(Ge=>Ge.start_time&&Ge.end_time);if(Pe.length===0)return 0;const Ue=(Pe.reduce((Ge,Ze)=>{const er=new Date(Ze.start_time).getTime(),Ie=(new Date(Ze.end_time).getTime()-er)/1e3;return Ge+Ie},0)/Pe.length/60).toFixed(2);return parseFloat(Ue)},[Re]);reactExports.useMemo(()=>({labels:["Average Call Length (minutes)"],datasets:[{label:"Average Duration",data:[pr],backgroundColor:"rgba(34, 197, 94, 0.6)",borderColor:"rgba(34, 197, 94, 1)",borderWidth:1}]}),[pr]);const ur=reactExports.useMemo(()=>{const Pe={};return Re&&Re.forEach(Fe=>{const ze=Fe.disconnection_reason.replace("_"," ");Pe[ze]=(Pe[ze]||0)+1}),Pe},[Re]),gr={};Re.forEach(Pe=>{if(Pe.start_time){const Fe=new Date(Pe.start_time).toISOString().split("T")[0];gr[Fe]=(gr[Fe]||0)+1}}),Object.keys(gr).sort().forEach(Pe=>{});const vr=reactExports.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{color:"#ffffff"}},title:{display:!0,color:"#ffffff"},tooltip:{callbacks:{label:function(Pe){let Fe=Pe.dataset.label||"";if(Fe&&(Fe+=": "),Pe.parsed.y!==null)if(Pe.chart.config.type==="pie"){const ze=Pe.dataset.data.reduce((Ge,Ze)=>Ge+Ze,0),Ue=(Pe.parsed/ze*100).toFixed(1)+"%";Fe+=`${Pe.parsed} (${Ue})`}else Fe+=Pe.parsed.y;return Fe}}}},scales:{y:{beginAtZero:!0,ticks:{color:"#cccccc"},grid:{color:"#333333"},display:!0},x:{ticks:{color:"#cccccc"},grid:{color:"#333333"},display:!0}}}),[]);reactExports.useMemo(()=>{const Pe=Object.keys(ur),Fe=Object.values(ur);return{labels:Pe,datasets:[{data:Fe,backgroundColor:["#FF6384","#36A2EB","#FFCE56","#4BC0C0","#9966CC","#FF9F40","#E7E9ED"].slice(0,Pe.length),borderColor:"#ffffff",borderWidth:2}]}},[ur]),reactExports.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{color:"#ffffff"}},title:{display:!0,color:"#ffffff"},tooltip:{callbacks:{label:function(Pe){let Fe=Pe.label||"";Fe&&(Fe+=": ");const ze=Pe.dataset.data.reduce((Ge,Ze)=>Ge+Ze,0),Ue=(Pe.raw/ze*100).toFixed(1)+"%";return Fe+=`${Pe.raw} (${Ue})`,Fe}}}}}),[]);const dr=reactExports.useMemo(()=>{if(!Re)return{};const Pe={};return Re.forEach(Fe=>{if(Fe.start_time){const ze=new Date(Fe.start_time),Ue=format(ze,"yyyy-MM");Pe[Ue]=(Pe[Ue]||0)+1}}),Pe},[Re]),xr=reactExports.useMemo(()=>{const Fe=Object.keys(dr).sort((Ue,Ge)=>{const[Ze,er]=Ue.split("-").map(Number),[Ve,Ie]=Ge.split("-").map(Number),Ye=new Date(Ze,er-1).getTime(),ir=new Date(Ve,Ie-1).getTime();return Ye-ir}),ze=Fe.map(Ue=>dr[Ue]);return{labels:Fe,datasets:[{label:"Number of Calls",data:ze,backgroundColor:"rgba(54, 162, 235, 0.6)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1}]}},[dr]),Rr=reactExports.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{color:"#ffffff"}},title:{display:!0,text:"Total Calls Over Time",color:"#ffffff"},tooltip:{callbacks:{label:function(Pe){let Fe=Pe.dataset.label||"";return Fe&&(Fe+=": "),Pe.parsed.y!==null&&(Fe+=Pe.parsed.y),Fe}}}},scales:{y:{beginAtZero:!0,ticks:{stepSize:1,color:"#cccccc"},grid:{color:"#333333"}},x:{ticks:{color:"#cccccc"},grid:{color:"#333333"}}}}),[]),Xe=reactExports.useMemo(()=>{if(!Re||Re.length===0)return{labels:[],datasets:[]};const Pe={};Re.forEach(Ze=>{if(Ze.start_time){const er=new Date(Ze.start_time).toISOString().split("T")[0];Pe[er]=(Pe[er]||0)+1}});const Fe=Object.keys(Pe).sort(),ze=[],Ue=[];let Ge=0;return Fe.forEach(Ze=>{ze.push(Ze),Ge+=Pe[Ze],Ue.push(Ge)}),{labels:ze,datasets:[{label:"Total Calls",data:Ue,backgroundColor:"rgba(79, 70, 229, 0.6)",borderColor:"rgba(79, 70, 229, 1)",borderWidth:1}]}},[Re]);return jsxRuntimeExports.jsxs("div",{className:"card border border-dark-700 mb-5",children:[jsxRuntimeExports.jsx(CallsWidgetsDashboard,{agentsCount:Me,calls:Re,averageCallLenght:pr,totalCallGrowthThisMonth:Be,totalCallGrowthLastMonth:ke,totalCallsDuration:je,totalCallsDurationGrowthThisMonth:Ke,totalCallsDurationGrowthLastMonth:He}),jsxRuntimeExports.jsx("div",{className:"bg-dark-800 rounded-lg border border-dark-700 p-6 h-80 mb-6",children:jsxRuntimeExports.jsx(Line,{data:Xe,options:Rr})}),jsxRuntimeExports.jsx("div",{className:"bg-dark-800 rounded-lg border border-dark-700 p-6 h-80 mb-6",children:jsxRuntimeExports.jsx(Bar,{data:xr,options:{...vr,plugins:{...vr.plugins,title:{...vr.plugins,text:"Calls by Month"}},scales:{...vr.scales,y:{...vr.scales.y,beginAtZero:!0,display:!0},x:{...vr.scales.x,display:!0}}}})}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6"})]})};Chart$1.register(CategoryScale,LinearScale,BarElement,plugin_title,plugin_tooltip,plugin_legend,ArcElement,PointElement,LineElement,index);const AdminCalls=()=>{const[Re,je]=reactExports.useState([]),[_e,Me]=reactExports.useState(!0),[$e,ke]=reactExports.useState(null),[Ce,Be]=reactExports.useState(1),qe=20;reactExports.useEffect(()=>{(async()=>{try{const cr=await callsService.fetchAllCalls();je(cr)}catch(cr){console.error(cr),ke("Failed to load all calls")}finally{Me(!1)}})()},[]);const He=Ce*qe,We=He-qe,Ke=reactExports.useMemo(()=>Re.slice(We,He),[Re,Ce]),Je=tr=>Be(tr),Qe=reactExports.useMemo(()=>{const tr=[];for(let cr=1;cr<=Math.ceil(Re.length/qe);cr++)tr.push(cr);return tr},[Re,qe]),rr=reactExports.useMemo(()=>{const tr=Qe.length,cr=5,or=3;if(tr<=cr)return Qe;const ar=[];for(let pr=1;pr<=Math.min(or,tr);pr++)ar.push(pr);Ce>or+1&&ar.push("...");for(let pr=Math.max(tr-or+1,or+1);pr<=tr;pr++)ar.push(pr);return ar},[Qe,Ce]);return jsxRuntimeExports.jsxs("div",{className:"container mx-auto p-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-white mb-6",children:"Admin Calls Dashboard"}),_e&&jsxRuntimeExports.jsx("p",{className:"text-white",children:"Loading calls..."}),$e&&jsxRuntimeExports.jsxs("p",{className:"text-red-500",children:["Error fetching calls: ",$e]}),!_e&&!$e&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(AdminCallsDashboardCharts,{calls:Re}),jsxRuntimeExports.jsx(RecentCallsTable,{currentCalls:Ke,formatPhoneNumber:formatService.formatPhoneNumber,formatDate:formatService.formatDate}),Re.length>0&&jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 px-4 py-3 flex items-center justify-between border-t border-dark-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Je(Ce-1),disabled:Ce===1,className:"btn btn-secondary",children:"Previous"}),jsxRuntimeExports.jsx("button",{onClick:()=>Je(Ce+1),disabled:Ce===Qe.length,className:"btn btn-secondary",children:"Next"})]}),jsxRuntimeExports.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-400",children:["Showing ",jsxRuntimeExports.jsx("span",{className:"font-medium text-white",children:We+1})," to ",jsxRuntimeExports.jsx("span",{className:"font-medium text-white",children:He>Re.length?Re.length:He})," of ",jsxRuntimeExports.jsx("span",{className:"font-medium text-white",children:Re.length})," results"]})}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Je(Ce-1),disabled:Ce===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-dark-700 bg-dark-800 text-sm font-medium text-gray-400 hover:bg-dark-700",children:"Previous"}),rr.map(tr=>jsxRuntimeExports.jsx("button",{onClick:()=>{tr!=="..."&&Je(Number(tr))},"aria-current":"page",className:`${Ce===tr?"z-10 bg-indigo-500 border-indigo-500 text-white":"bg-dark-800 border-dark-700 text-gray-400 hover:bg-dark-700"} relative inline-flex items-center px-4 py-2 border text-sm font-medium`,disabled:tr==="...",children:tr},tr)),jsxRuntimeExports.jsx("button",{onClick:()=>Je(Ce+1),disabled:Ce===Qe.length,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-dark-700 bg-dark-800 text-sm font-medium text-gray-400 hover:bg-dark-700",children:"Next"})]})})]})]})]})]})},useUserStore=create((Re,je)=>({users:[],loading:!1,error:null,clearError:()=>Re({error:null}),fetchUsers:async()=>{Re({loading:!0,error:null});try{const _e=await userService.getUsers();Re({users:_e,loading:!1})}catch(_e){console.error("Error in fetchCustomers:",_e),Re({error:_e.message||"Failed to fetch customers",loading:!1})}}})),NotificationSender=()=>{const[Re,je]=reactExports.useState(!1),{notifyAll:_e}=useNotificationStore(),{register:Me,handleSubmit:$e,formState:{errors:ke,isValid:Ce},reset:Be}=useForm({defaultValues:{title:"",message:""},mode:"onChange"}),qe=async He=>{je(!0);try{const We={...He,title:He.title.trim(),message:He.message.trim()};await _e(We.title,We.message),Vt$1.success("Notification has been sent to all users."),Be()}catch(We){console.error("Error sending notification:",We),Vt$1.error("Failed to send notification. Please try again.")}finally{je(!1)}};return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center space-x-4",children:jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-white",children:"Send Global Notification"})}),jsxRuntimeExports.jsxs("form",{onSubmit:$e(qe),className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"card bg-dark-800 border border-dark-700 p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Notification Details"}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsxs("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-300 mb-1",children:["Title ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("input",{id:"title",type:"text",className:"input w-full",placeholder:"Title",...Me("title",{required:"Title is required"})}),ke.title&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:ke.title.message})]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsxs("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-300 mb-1",children:["Message ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("textarea",{id:"message",className:"input w-full",placeholder:"Enter message",rows:4,...Me("message",{required:"Message is required"})}),ke.message&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:ke.message.message})]})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-end",children:jsxRuntimeExports.jsx("button",{type:"submit",className:"btn btn-primary flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",disabled:Re||!Ce,children:Re?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white"}),jsxRuntimeExports.jsx("span",{children:"Sending..."})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Save,{size:16}),jsxRuntimeExports.jsx("span",{children:"Send Notification"})]})})})]})]})},SendUserNotificationModal=({isOpen:Re,onClose:je,title:_e})=>Re?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 w-full max-w-4xl",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white",children:_e}),jsxRuntimeExports.jsx("button",{onClick:je,className:"text-gray-400 hover:text-white",children:jsxRuntimeExports.jsx(X$1,{size:20})})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 mb-6",children:jsxRuntimeExports.jsx(NotificationSender,{})})]})}):null,AdminUsers=()=>{const{users:Re,loading:je,error:_e,fetchUsers:Me}=useUserStore(),[$e,ke]=reactExports.useState("");useNotificationStore();const[Ce,Be]=reactExports.useState(!1),[qe,He]=reactExports.useState("");reactExports.useEffect(()=>{Me().catch(Ke=>{c$1.error("Failed to load users")}),Me()},[Me]);const We=Re.filter(Ke=>Ke?.email?.toLowerCase().includes($e.toLowerCase()));return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx(SendUserNotificationModal,{isOpen:Ce,onClose:()=>{Be(!Ce)},title:"",userId:qe}),jsxRuntimeExports.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:jsxRuntimeExports.jsxs("div",{className:"relative flex-1",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:jsxRuntimeExports.jsx(Search,{size:18,className:"text-gray-400"})}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search users...",className:"input pl-10",value:$e,onChange:Ke=>ke(Ke.target.value)})]})}),_e&&jsxRuntimeExports.jsx("div",{className:"bg-red-900/50 border border-red-800 text-red-300 px-4 py-3 rounded-md",children:_e}),je&&jsxRuntimeExports.jsxs("div",{className:"text-center py-4",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-500 mx-auto"}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-gray-400",children:"Loading users..."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-lg border border-dark-700 overflow-hidden",children:[!je&&jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"bg-dark-700",children:[jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Id"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Email"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Is Admin"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Created"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"divide-y divide-dark-700",children:We.map(Ke=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-dark-700/50",children:[jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsx("span",{children:Ke.user_id})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsx("span",{children:Ke.email})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-300",children:Ke.is_admin==!0?"":""})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-300",children:formatService.formatDate(Ke.created_at)})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-4 whitespace-nowrap"})]},Ke.user_id))})]})}),We.length>0&&jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 px-4 py-3 flex items-center justify-between border-t border-dark-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[jsxRuntimeExports.jsx("button",{className:"btn btn-secondary",children:"Previous"}),jsxRuntimeExports.jsx("button",{className:"btn btn-secondary",children:"Next"})]}),jsxRuntimeExports.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-400",children:["Showing ",jsxRuntimeExports.jsx("span",{className:"font-medium",children:"1"})," to ",jsxRuntimeExports.jsx("span",{className:"font-medium",children:We.length})," of"," ",jsxRuntimeExports.jsx("span",{className:"font-medium",children:We.length})," results"]})}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[jsxRuntimeExports.jsxs("button",{className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-dark-600 bg-dark-700 text-sm font-medium text-gray-400 hover:bg-dark-600",children:[jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Previous"}),jsxRuntimeExports.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),jsxRuntimeExports.jsx("button",{className:"relative inline-flex items-center px-4 py-2 border border-dark-600 bg-dark-700 text-sm font-medium text-gray-400 hover:bg-dark-600",children:"1"}),jsxRuntimeExports.jsxs("button",{className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-dark-600 bg-dark-700 text-sm font-medium text-gray-400 hover:bg-dark-600",children:[jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Next"}),jsxRuntimeExports.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})})]})]})]})]})};Chart$1.register(CategoryScale,LinearScale,BarElement,plugin_title,plugin_tooltip,plugin_legend,ArcElement,PointElement,LineElement,index);const AdminCallAgent=()=>{const[Re,je]=reactExports.useState([]),[_e,Me]=reactExports.useState(!0),[$e,ke]=reactExports.useState(null),[Ce,Be]=reactExports.useState(1),qe=20;reactExports.useEffect(()=>{(async()=>{try{const Qe=await callsService.fetchAllCalls();je(Qe)}catch(Qe){console.error(Qe),ke("Failed to load all calls")}finally{Me(!1)}})()},[]);const He=Ce*qe,We=He-qe;reactExports.useMemo(()=>Re.slice(We,He),[Re,Ce]);const Ke=reactExports.useMemo(()=>{const Je=[];for(let Qe=1;Qe<=Math.ceil(Re.length/qe);Qe++)Je.push(Qe);return Je},[Re,qe]);return reactExports.useMemo(()=>{const Je=Ke.length,Qe=5,rr=3;if(Je<=Qe)return Ke;const tr=[];for(let cr=1;cr<=Math.min(rr,Je);cr++)tr.push(cr);Ce>rr+1&&tr.push("...");for(let cr=Math.max(Je-rr+1,rr+1);cr<=Je;cr++)tr.push(cr);return tr},[Ke,Ce]),jsxRuntimeExports.jsxs("div",{className:"container mx-auto p-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-white mb-6",children:"Admin Call Agents"}),_e&&jsxRuntimeExports.jsx("p",{className:"text-white",children:"Loading call agents..."}),$e&&jsxRuntimeExports.jsxs("p",{className:"text-red-500",children:["Error fetching call agents: ",$e]}),!_e&&!$e&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(CallAgentTab,{})})]})};function toPrimitive(Re,je){if(_typeof$1(Re)!="object"||!Re)return Re;var _e=Re[Symbol.toPrimitive];if(_e!==void 0){var Me=_e.call(Re,je||"default");if(_typeof$1(Me)!="object")return Me;throw new TypeError("@@toPrimitive must return a primitive value.")}return(je==="string"?String:Number)(Re)}function toPropertyKey(Re){var je=toPrimitive(Re,"string");return _typeof$1(je)=="symbol"?je:je+""}function _defineProperty$2(Re,je,_e){return(je=toPropertyKey(je))in Re?Object.defineProperty(Re,je,{value:_e,enumerable:!0,configurable:!0,writable:!0}):Re[je]=_e,Re}function ownKeys$1(Re,je){var _e=Object.keys(Re);if(Object.getOwnPropertySymbols){var Me=Object.getOwnPropertySymbols(Re);je&&(Me=Me.filter(function($e){return Object.getOwnPropertyDescriptor(Re,$e).enumerable})),_e.push.apply(_e,Me)}return _e}function _objectSpread2$1(Re){for(var je=1;je<arguments.length;je++){var _e=arguments[je]!=null?arguments[je]:{};je%2?ownKeys$1(Object(_e),!0).forEach(function(Me){_defineProperty$2(Re,Me,_e[Me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Re,Object.getOwnPropertyDescriptors(_e)):ownKeys$1(Object(_e)).forEach(function(Me){Object.defineProperty(Re,Me,Object.getOwnPropertyDescriptor(_e,Me))})}return Re}function _objectWithoutPropertiesLoose(Re,je){if(Re==null)return{};var _e={};for(var Me in Re)if({}.hasOwnProperty.call(Re,Me)){if(je.indexOf(Me)!==-1)continue;_e[Me]=Re[Me]}return _e}function _objectWithoutProperties(Re,je){if(Re==null)return{};var _e,Me,$e=_objectWithoutPropertiesLoose(Re,je);if(Object.getOwnPropertySymbols){var ke=Object.getOwnPropertySymbols(Re);for(Me=0;Me<ke.length;Me++)_e=ke[Me],je.indexOf(_e)===-1&&{}.propertyIsEnumerable.call(Re,_e)&&($e[_e]=Re[_e])}return $e}function _classCallCheck(Re,je){if(!(Re instanceof je))throw new TypeError("Cannot call a class as a function")}function _defineProperties(Re,je){for(var _e=0;_e<je.length;_e++){var Me=je[_e];Me.enumerable=Me.enumerable||!1,Me.configurable=!0,"value"in Me&&(Me.writable=!0),Object.defineProperty(Re,toPropertyKey(Me.key),Me)}}function _createClass(Re,je,_e){return je&&_defineProperties(Re.prototype,je),_e&&_defineProperties(Re,_e),Object.defineProperty(Re,"prototype",{writable:!1}),Re}function _getPrototypeOf(Re){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(je){return je.__proto__||Object.getPrototypeOf(je)},_getPrototypeOf(Re)}function _isNativeReflectConstruct(){try{var Re=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct=function(){return!!Re})()}function _assertThisInitialized(Re){if(Re===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Re}function _possibleConstructorReturn(Re,je){if(je&&(_typeof$1(je)=="object"||typeof je=="function"))return je;if(je!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(Re)}function _callSuper(Re,je,_e){return je=_getPrototypeOf(je),_possibleConstructorReturn(Re,_isNativeReflectConstruct()?Reflect.construct(je,_e||[],_getPrototypeOf(Re).constructor):je.apply(Re,_e))}function _setPrototypeOf(Re,je){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_e,Me){return _e.__proto__=Me,_e},_setPrototypeOf(Re,je)}function _inherits(Re,je){if(typeof je!="function"&&je!==null)throw new TypeError("Super expression must either be null or a function");Re.prototype=Object.create(je&&je.prototype,{constructor:{value:Re,writable:!0,configurable:!0}}),Object.defineProperty(Re,"prototype",{writable:!1}),je&&_setPrototypeOf(Re,je)}function _arrayWithHoles$1(Re){if(Array.isArray(Re))return Re}function _iterableToArrayLimit$1(Re,je){var _e=Re==null?null:typeof Symbol<"u"&&Re[Symbol.iterator]||Re["@@iterator"];if(_e!=null){var Me,$e,ke,Ce,Be=[],qe=!0,He=!1;try{if(ke=(_e=_e.call(Re)).next,je!==0)for(;!(qe=(Me=ke.call(_e)).done)&&(Be.push(Me.value),Be.length!==je);qe=!0);}catch(We){He=!0,$e=We}finally{try{if(!qe&&_e.return!=null&&(Ce=_e.return(),Object(Ce)!==Ce))return}finally{if(He)throw $e}}return Be}}function _arrayLikeToArray$1(Re,je){(je==null||je>Re.length)&&(je=Re.length);for(var _e=0,Me=Array(je);_e<je;_e++)Me[_e]=Re[_e];return Me}function _unsupportedIterableToArray$1(Re,je){if(Re){if(typeof Re=="string")return _arrayLikeToArray$1(Re,je);var _e={}.toString.call(Re).slice(8,-1);return _e==="Object"&&Re.constructor&&(_e=Re.constructor.name),_e==="Map"||_e==="Set"?Array.from(Re):_e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_e)?_arrayLikeToArray$1(Re,je):void 0}}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _slicedToArray$1(Re,je){return _arrayWithHoles$1(Re)||_iterableToArrayLimit$1(Re,je)||_unsupportedIterableToArray$1(Re,je)||_nonIterableRest$1()}function r(Re){var je,_e,Me="";if(typeof Re=="string"||typeof Re=="number")Me+=Re;else if(typeof Re=="object")if(Array.isArray(Re))for(je=0;je<Re.length;je++)Re[je]&&(_e=r(Re[je]))&&(Me&&(Me+=" "),Me+=_e);else for(je in Re)Re[je]&&(Me&&(Me+=" "),Me+=je);return Me}function clsx(){for(var Re,je,_e=0,Me="";_e<arguments.length;)(Re=arguments[_e++])&&(je=r(Re))&&(Me&&(Me+=" "),Me+=je);return Me}function _extends(){return _extends=Object.assign?Object.assign.bind():function(Re){for(var je=1;je<arguments.length;je++){var _e=arguments[je];for(var Me in _e)({}).hasOwnProperty.call(_e,Me)&&(Re[Me]=_e[Me])}return Re},_extends.apply(null,arguments)}var invariant=function(Re,je,_e,Me,$e,ke,Ce,Be){if(!Re){var qe;if(je===void 0)qe=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var He=[_e,Me,$e,ke,Ce,Be],We=0;qe=new Error(je.replace(/%s/g,function(){return He[We++]})),qe.name="Invariant Violation"}throw qe.framesToPop=1,qe}},browser=invariant;const invariant$1=getDefaultExportFromCjs(browser);var noop$1=function Re(){};function uncontrolledPropTypes(Re,je){var _e={};return Object.keys(Re).forEach(function(Me){_e[defaultKey(Me)]=noop$1}),_e}function isProp(Re,je){return Re[je]!==void 0}function defaultKey(Re){return"default"+Re.charAt(0).toUpperCase()+Re.substr(1)}function canAcceptRef(Re){return!!Re&&(typeof Re!="function"||Re.prototype&&Re.prototype.isReactComponent)}function _inheritsLoose(Re,je){Re.prototype=Object.create(je.prototype),Re.prototype.constructor=Re,_setPrototypeOf(Re,je)}function componentWillMount(){var Re=this.constructor.getDerivedStateFromProps(this.props,this.state);Re!=null&&this.setState(Re)}function componentWillReceiveProps(Re){function je(_e){var Me=this.constructor.getDerivedStateFromProps(Re,_e);return Me??null}this.setState(je.bind(this))}function componentWillUpdate(Re,je){try{var _e=this.props,Me=this.state;this.props=Re,this.state=je,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(_e,Me)}finally{this.props=_e,this.state=Me}}componentWillMount.__suppressDeprecationWarning=!0;componentWillReceiveProps.__suppressDeprecationWarning=!0;componentWillUpdate.__suppressDeprecationWarning=!0;function polyfill(Re){var je=Re.prototype;if(!je||!je.isReactComponent)throw new Error("Can only polyfill class components");if(typeof Re.getDerivedStateFromProps!="function"&&typeof je.getSnapshotBeforeUpdate!="function")return Re;var _e=null,Me=null,$e=null;if(typeof je.componentWillMount=="function"?_e="componentWillMount":typeof je.UNSAFE_componentWillMount=="function"&&(_e="UNSAFE_componentWillMount"),typeof je.componentWillReceiveProps=="function"?Me="componentWillReceiveProps":typeof je.UNSAFE_componentWillReceiveProps=="function"&&(Me="UNSAFE_componentWillReceiveProps"),typeof je.componentWillUpdate=="function"?$e="componentWillUpdate":typeof je.UNSAFE_componentWillUpdate=="function"&&($e="UNSAFE_componentWillUpdate"),_e!==null||Me!==null||$e!==null){var ke=Re.displayName||Re.name,Ce=typeof Re.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+ke+" uses "+Ce+" but also contains the following legacy lifecycles:"+(_e!==null?`
  `+_e:"")+(Me!==null?`
  `+Me:"")+($e!==null?`
  `+$e:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof Re.getDerivedStateFromProps=="function"&&(je.componentWillMount=componentWillMount,je.componentWillReceiveProps=componentWillReceiveProps),typeof je.getSnapshotBeforeUpdate=="function"){if(typeof je.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");je.componentWillUpdate=componentWillUpdate;var Be=je.componentDidUpdate;je.componentDidUpdate=function(He,We,Ke){var Je=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:Ke;Be.call(this,He,We,Je)}}return Re}var _jsxFileName="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function uncontrollable(Re,je,_e){_e===void 0&&(_e=[]);var Me=Re.displayName||Re.name||"Component",$e=canAcceptRef(Re),ke=Object.keys(je),Ce=ke.map(defaultKey);$e||!_e.length||invariant$1(!1);var Be=function(He){_inheritsLoose(We,He);function We(){for(var Je,Qe=arguments.length,rr=new Array(Qe),tr=0;tr<Qe;tr++)rr[tr]=arguments[tr];Je=He.call.apply(He,[this].concat(rr))||this,Je.handlers=Object.create(null),ke.forEach(function(or){var ar=je[or],pr=function(gr){if(Je.props[ar]){var jr;Je._notifying=!0;for(var vr=arguments.length,dr=new Array(vr>1?vr-1:0),xr=1;xr<vr;xr++)dr[xr-1]=arguments[xr];(jr=Je.props)[ar].apply(jr,[gr].concat(dr)),Je._notifying=!1}Je.unmounted||Je.setState(function(Rr){var Xe,Pe=Rr.values;return{values:_extends(Object.create(null),Pe,(Xe={},Xe[or]=gr,Xe))}})};Je.handlers[ar]=pr}),_e.length&&(Je.attachRef=function(or){Je.inner=or});var cr=Object.create(null);return ke.forEach(function(or){cr[or]=Je.props[defaultKey(or)]}),Je.state={values:cr,prevProps:{}},Je}var Ke=We.prototype;return Ke.shouldComponentUpdate=function(){return!this._notifying},We.getDerivedStateFromProps=function(Qe,rr){var tr=rr.values,cr=rr.prevProps,or={values:_extends(Object.create(null),tr),prevProps:{}};return ke.forEach(function(ar){or.prevProps[ar]=Qe[ar],!isProp(Qe,ar)&&isProp(cr,ar)&&(or.values[ar]=Qe[defaultKey(ar)])}),or},Ke.componentWillUnmount=function(){this.unmounted=!0},Ke.render=function(){var Qe=this,rr=this.props,tr=rr.innerRef,cr=_objectWithoutPropertiesLoose(rr,["innerRef"]);Ce.forEach(function(ar){delete cr[ar]});var or={};return ke.forEach(function(ar){var pr=Qe.props[ar];or[ar]=pr!==void 0?pr:Qe.state.values[ar]}),React$2.createElement(Re,_extends({},cr,or,this.handlers,{ref:tr||this.attachRef}))},We}(React$2.Component);polyfill(Be),Be.displayName="Uncontrolled("+Me+")",Be.propTypes=_extends({innerRef:function(){}},uncontrolledPropTypes(je)),_e.forEach(function(He){Be.prototype[He]=function(){var Ke;return(Ke=this.inner)[He].apply(Ke,arguments)}});var qe=Be;return React$2.forwardRef&&(qe=React$2.forwardRef(function(He,We){return React$2.createElement(Be,_extends({},He,{innerRef:We,__source:{fileName:_jsxFileName,lineNumber:128},__self:this}))}),qe.propTypes=Be.propTypes),qe.ControlledComponent=Re,qe.deferControlTo=function(He,We,Ke){return We===void 0&&(We={}),uncontrollable(He,_extends({},je,We),Ke)},qe}var propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function Re(Me,$e,ke,Ce,Be,qe){if(qe!==ReactPropTypesSecret){var He=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw He.name="Invariant Violation",He}}Re.isRequired=Re;function je(){return Re}var _e={array:Re,bigint:Re,bool:Re,func:Re,number:Re,object:Re,string:Re,symbol:Re,any:Re,arrayOf:je,element:Re,elementType:Re,instanceOf:je,node:Re,objectOf:je,oneOf:je,oneOfType:je,shape:je,exact:je,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return _e.PropTypes=_e,_e};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports;const PropTypes=getDefaultExportFromCjs(propTypesExports);var MILI="milliseconds",SECONDS="seconds",MINUTES="minutes",HOURS="hours",DAY="day",WEEK="week",MONTH="month",YEAR="year",DECADE="decade",CENTURY="century",multiplierMilli={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:60*60*1e3,day:24*60*60*1e3,week:7*24*60*60*1e3},multiplierMonth={month:1,year:12,decade:10*12,century:100*12};function daysOf(Re){return[31,daysInFeb(Re),31,30,31,30,31,31,30,31,30,31]}function daysInFeb(Re){return Re%4===0&&Re%100!==0||Re%400===0?29:28}function add(Re,je,_e){switch(Re=new Date(Re),_e){case MILI:case SECONDS:case MINUTES:case HOURS:case DAY:case WEEK:return addMillis(Re,je*multiplierMilli[_e]);case MONTH:case YEAR:case DECADE:case CENTURY:return addMonths(Re,je*multiplierMonth[_e])}throw new TypeError('Invalid units: "'+_e+'"')}function addMillis(Re,je){var _e=new Date(+Re+je);return solveDST(Re,_e)}function addMonths(Re,je){var _e=Re.getFullYear(),Me=Re.getMonth(),$e=Re.getDate(),ke=_e*12+Me+je,Ce=Math.trunc(ke/12),Be=ke%12,qe=Math.min($e,daysOf(Ce)[Be]),He=new Date(Re);return He.setFullYear(Ce),He.setDate(1),He.setMonth(Be),He.setDate(qe),He}function solveDST(Re,je){var _e=Re.getTimezoneOffset(),Me=je.getTimezoneOffset(),$e=Me-_e;return new Date(+je+$e*multiplierMilli.minutes)}function subtract(Re,je,_e){return add(Re,-je,_e)}function startOf(Re,je,_e){switch(Re=new Date(Re),je){case CENTURY:case DECADE:case YEAR:Re=month(Re,0);case MONTH:Re=date(Re,1);case WEEK:case DAY:Re=hours(Re,0);case HOURS:Re=minutes(Re,0);case MINUTES:Re=seconds(Re,0);case SECONDS:Re=milliseconds(Re,0)}return je===DECADE&&(Re=subtract(Re,year(Re)%10,"year")),je===CENTURY&&(Re=subtract(Re,year(Re)%100,"year")),je===WEEK&&(Re=weekday(Re,0,_e)),Re}function endOf(Re,je,_e){switch(Re=new Date(Re),Re=startOf(Re,je,_e),je){case CENTURY:case DECADE:case YEAR:case MONTH:case WEEK:Re=add(Re,1,je),Re=subtract(Re,1,DAY),Re.setHours(23,59,59,999);break;case DAY:Re.setHours(23,59,59,999);break;case HOURS:case MINUTES:case SECONDS:Re=add(Re,1,je),Re=subtract(Re,1,MILI)}return Re}var eq$6=createComparer(function(Re,je){return Re===je}),neq=createComparer(function(Re,je){return Re!==je}),gt=createComparer(function(Re,je){return Re>je}),gte=createComparer(function(Re,je){return Re>=je}),lt=createComparer(function(Re,je){return Re<je}),lte=createComparer(function(Re,je){return Re<=je});function min$1(){return new Date(Math.min.apply(Math,arguments))}function max$1(){return new Date(Math.max.apply(Math,arguments))}function inRange$1(Re,je,_e,Me){return Me=Me||"day",(!je||gte(Re,je,Me))&&(!_e||lte(Re,_e,Me))}var milliseconds=createAccessor("Milliseconds"),seconds=createAccessor("Seconds"),minutes=createAccessor("Minutes"),hours=createAccessor("Hours"),day=createAccessor("Day"),date=createAccessor("Date"),month=createAccessor("Month"),year=createAccessor("FullYear");function decade(Re,je){return je===void 0?year(startOf(Re,DECADE)):add(Re,je+10,YEAR)}function century(Re,je){return je===void 0?year(startOf(Re,CENTURY)):add(Re,je+100,YEAR)}function weekday(Re,je,_e){var Me=(day(Re)+7-(_e||0))%7;return je===void 0?Me:add(Re,je-Me,DAY)}function diff$1(Re,je,_e,Me){var $e,ke,Ce;switch(_e){case MILI:case SECONDS:case MINUTES:case HOURS:case DAY:case WEEK:$e=je.getTime()-Re.getTime();break;case MONTH:case YEAR:case DECADE:case CENTURY:$e=(year(je)-year(Re))*12+month(je)-month(Re);break;default:throw new TypeError('Invalid units: "'+_e+'"')}switch(_e){case MILI:ke=1;break;case SECONDS:ke=1e3;break;case MINUTES:ke=1e3*60;break;case HOURS:ke=1e3*60*60;break;case DAY:ke=1e3*60*60*24;break;case WEEK:ke=1e3*60*60*24*7;break;case MONTH:ke=1;break;case YEAR:ke=12;break;case DECADE:ke=120;break;case CENTURY:ke=1200;break;default:throw new TypeError('Invalid units: "'+_e+'"')}return Ce=$e/ke,Me?Ce:Math.round(Ce)}function createAccessor(Re){var je=function(_e){switch(_e){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(Re);return function(_e,Me){if(Me===void 0)return _e["get"+Re]();var $e=new Date(_e);return $e["set"+Re](Me),je&&$e["get"+Re]()!=Me&&(Re==="Hours"||Me>=je&&$e.getHours()-_e.getHours()<Math.floor(Me/je))&&$e["set"+Re](Me+je),$e}}function createComparer(Re){return function(je,_e,Me){return Re(+startOf(je,Me),+startOf(_e,Me))}}const dates=Object.freeze(Object.defineProperty({__proto__:null,add,century,date,day,decade,diff:diff$1,endOf,eq:eq$6,gt,gte,hours,inRange:inRange$1,lt,lte,max:max$1,milliseconds,min:min$1,minutes,month,neq,seconds,startOf,subtract,weekday,year},Symbol.toStringTag,{value:"Module"}));function _arrayWithoutHoles(Re){if(Array.isArray(Re))return _arrayLikeToArray$1(Re)}function _iterableToArray(Re){if(typeof Symbol<"u"&&Re[Symbol.iterator]!=null||Re["@@iterator"]!=null)return Array.from(Re)}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _toConsumableArray(Re){return _arrayWithoutHoles(Re)||_iterableToArray(Re)||_unsupportedIterableToArray$1(Re)||_nonIterableSpread()}function baseSlice$2(Re,je,_e){var Me=-1,$e=Re.length;je<0&&(je=-je>$e?0:$e+je),_e=_e>$e?$e:_e,_e<0&&(_e+=$e),$e=je>_e?0:_e-je>>>0,je>>>=0;for(var ke=Array($e);++Me<$e;)ke[Me]=Re[Me+je];return ke}var _baseSlice=baseSlice$2;function eq$5(Re,je){return Re===je||Re!==Re&&je!==je}var eq_1=eq$5,freeGlobal$1=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,_freeGlobal=freeGlobal$1,freeGlobal=_freeGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root$8=freeGlobal||freeSelf||Function("return this")(),_root=root$8,root$7=_root,Symbol$7=root$7.Symbol,_Symbol=Symbol$7,Symbol$6=_Symbol,objectProto$g=Object.prototype,hasOwnProperty$d=objectProto$g.hasOwnProperty,nativeObjectToString$1=objectProto$g.toString,symToStringTag$1=Symbol$6?Symbol$6.toStringTag:void 0;function getRawTag$1(Re){var je=hasOwnProperty$d.call(Re,symToStringTag$1),_e=Re[symToStringTag$1];try{Re[symToStringTag$1]=void 0;var Me=!0}catch{}var $e=nativeObjectToString$1.call(Re);return Me&&(je?Re[symToStringTag$1]=_e:delete Re[symToStringTag$1]),$e}var _getRawTag=getRawTag$1,objectProto$f=Object.prototype,nativeObjectToString=objectProto$f.toString;function objectToString$1(Re){return nativeObjectToString.call(Re)}var _objectToString=objectToString$1,Symbol$5=_Symbol,getRawTag=_getRawTag,objectToString=_objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$5?Symbol$5.toStringTag:void 0;function baseGetTag$6(Re){return Re==null?Re===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(Re)?getRawTag(Re):objectToString(Re)}var _baseGetTag=baseGetTag$6;function isObject$9(Re){var je=typeof Re;return Re!=null&&(je=="object"||je=="function")}var isObject_1=isObject$9,baseGetTag$5=_baseGetTag,isObject$8=isObject_1,asyncTag="[object AsyncFunction]",funcTag$2="[object Function]",genTag$1="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$4(Re){if(!isObject$8(Re))return!1;var je=baseGetTag$5(Re);return je==funcTag$2||je==genTag$1||je==asyncTag||je==proxyTag}var isFunction_1=isFunction$4,MAX_SAFE_INTEGER$1=9007199254740991;function isLength$3(Re){return typeof Re=="number"&&Re>-1&&Re%1==0&&Re<=MAX_SAFE_INTEGER$1}var isLength_1=isLength$3,isFunction$3=isFunction_1,isLength$2=isLength_1;function isArrayLike$5(Re){return Re!=null&&isLength$2(Re.length)&&!isFunction$3(Re)}var isArrayLike_1=isArrayLike$5,MAX_SAFE_INTEGER=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex$3(Re,je){var _e=typeof Re;return je=je??MAX_SAFE_INTEGER,!!je&&(_e=="number"||_e!="symbol"&&reIsUint.test(Re))&&Re>-1&&Re%1==0&&Re<je}var _isIndex=isIndex$3,eq$4=eq_1,isArrayLike$4=isArrayLike_1,isIndex$2=_isIndex,isObject$7=isObject_1;function isIterateeCall$4(Re,je,_e){if(!isObject$7(_e))return!1;var Me=typeof je;return(Me=="number"?isArrayLike$4(_e)&&isIndex$2(je,_e.length):Me=="string"&&je in _e)?eq$4(_e[je],Re):!1}var _isIterateeCall=isIterateeCall$4,reWhitespace=/\s/;function trimmedEndIndex$1(Re){for(var je=Re.length;je--&&reWhitespace.test(Re.charAt(je)););return je}var _trimmedEndIndex=trimmedEndIndex$1,trimmedEndIndex=_trimmedEndIndex,reTrimStart=/^\s+/;function baseTrim$1(Re){return Re&&Re.slice(0,trimmedEndIndex(Re)+1).replace(reTrimStart,"")}var _baseTrim=baseTrim$1;function isObjectLike$8(Re){return Re!=null&&typeof Re=="object"}var isObjectLike_1=isObjectLike$8,baseGetTag$4=_baseGetTag,isObjectLike$7=isObjectLike_1,symbolTag$3="[object Symbol]";function isSymbol$5(Re){return typeof Re=="symbol"||isObjectLike$7(Re)&&baseGetTag$4(Re)==symbolTag$3}var isSymbol_1=isSymbol$5,baseTrim=_baseTrim,isObject$6=isObject_1,isSymbol$4=isSymbol_1,NAN=NaN,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber$1(Re){if(typeof Re=="number")return Re;if(isSymbol$4(Re))return NAN;if(isObject$6(Re)){var je=typeof Re.valueOf=="function"?Re.valueOf():Re;Re=isObject$6(je)?je+"":je}if(typeof Re!="string")return Re===0?Re:+Re;Re=baseTrim(Re);var _e=reIsBinary.test(Re);return _e||reIsOctal.test(Re)?freeParseInt(Re.slice(2),_e?2:8):reIsBadHex.test(Re)?NAN:+Re}var toNumber_1=toNumber$1,toNumber=toNumber_1,INFINITY$2=1/0,MAX_INTEGER=17976931348623157e292;function toFinite$2(Re){if(!Re)return Re===0?Re:0;if(Re=toNumber(Re),Re===INFINITY$2||Re===-INFINITY$2){var je=Re<0?-1:1;return je*MAX_INTEGER}return Re===Re?Re:0}var toFinite_1=toFinite$2,toFinite$1=toFinite_1;function toInteger$2(Re){var je=toFinite$1(Re),_e=je%1;return je===je?_e?je-_e:je:0}var toInteger_1=toInteger$2,baseSlice$1=_baseSlice,isIterateeCall$3=_isIterateeCall,toInteger$1=toInteger_1,nativeCeil$1=Math.ceil,nativeMax$3=Math.max;function chunk(Re,je,_e){(_e?isIterateeCall$3(Re,je,_e):je===void 0)?je=1:je=nativeMax$3(toInteger$1(je),0);var Me=Re==null?0:Re.length;if(!Me||je<1)return[];for(var $e=0,ke=0,Ce=Array(nativeCeil$1(Me/je));$e<Me;)Ce[ke++]=baseSlice$1(Re,$e,$e+=je);return Ce}var chunk_1=chunk;const chunk$1=getDefaultExportFromCjs(chunk_1);function ownerDocument$1(Re){return Re&&Re.ownerDocument||document}function ownerWindow(Re){var je=ownerDocument$1(Re);return je&&je.defaultView||window}function getComputedStyle$1(Re,je){return ownerWindow(Re).getComputedStyle(Re,je)}var rUpper=/([A-Z])/g;function hyphenate(Re){return Re.replace(rUpper,"-$1").toLowerCase()}var msPattern=/^ms-/;function hyphenateStyleName(Re){return hyphenate(Re).replace(msPattern,"-ms-")}var supportedTransforms=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function isTransform(Re){return!!(Re&&supportedTransforms.test(Re))}function style(Re,je){var _e="",Me="";if(typeof je=="string")return Re.style.getPropertyValue(hyphenateStyleName(je))||getComputedStyle$1(Re).getPropertyValue(hyphenateStyleName(je));Object.keys(je).forEach(function($e){var ke=je[$e];!ke&&ke!==0?Re.style.removeProperty(hyphenateStyleName($e)):isTransform($e)?Me+=$e+"("+ke+") ":_e+=hyphenateStyleName($e)+": "+ke+";"}),Me&&(_e+="transform: "+Me+";"),Re.style.cssText+=";"+_e}function contains$1(Re,je){if(Re.contains)return Re.contains(je);if(Re.compareDocumentPosition)return Re===je||!!(Re.compareDocumentPosition(je)&16)}function isDocument(Re){return"nodeType"in Re&&Re.nodeType===document.DOCUMENT_NODE}function isWindow(Re){return"window"in Re&&Re.window===Re?Re:isDocument(Re)&&Re.defaultView||!1}function getscrollAccessor(Re){var je=Re==="pageXOffset"?"scrollLeft":"scrollTop";function _e(Me,$e){var ke=isWindow(Me);if($e===void 0)return ke?ke[Re]:Me[je];ke?ke.scrollTo(ke[Re],$e):Me[je]=$e}return _e}const scrollLeft=getscrollAccessor("pageXOffset"),scrollTop=getscrollAccessor("pageYOffset");function offset$2(Re){var je=ownerDocument$1(Re),_e={top:0,left:0,height:0,width:0},Me=je&&je.documentElement;return!Me||!contains$1(Me,Re)||(Re.getBoundingClientRect!==void 0&&(_e=Re.getBoundingClientRect()),_e={top:_e.top+scrollTop(Me)-(Me.clientTop||0),left:_e.left+scrollLeft(Me)-(Me.clientLeft||0),width:_e.width,height:_e.height}),_e}var isHTMLElement$1=function Re(je){return!!je&&"offsetParent"in je};function offsetParent(Re){for(var je=ownerDocument$1(Re),_e=Re&&Re.offsetParent;isHTMLElement$1(_e)&&_e.nodeName!=="HTML"&&style(_e,"position")==="static";)_e=_e.offsetParent;return _e||je.documentElement}var nodeName=function Re(je){return je.nodeName&&je.nodeName.toLowerCase()};function position(Re,je){var _e={top:0,left:0},Me;if(style(Re,"position")==="fixed")Me=Re.getBoundingClientRect();else{var $e=je||offsetParent(Re);Me=offset$2(Re),nodeName($e)!=="html"&&(_e=offset$2($e));var ke=String(style($e,"borderTopWidth")||0);_e.top+=parseInt(ke,10)-scrollTop($e)||0;var Ce=String(style($e,"borderLeftWidth")||0);_e.left+=parseInt(Ce,10)-scrollLeft($e)||0}var Be=String(style(Re,"marginTop")||0),qe=String(style(Re,"marginLeft")||0);return _extends({},Me,{top:Me.top-_e.top-(parseInt(Be,10)||0),left:Me.left-_e.left-(parseInt(qe,10)||0)})}const canUseDOM=!!(typeof window<"u"&&window.document&&window.document.createElement);var prev=new Date().getTime();function fallback(Re){var je=new Date().getTime(),_e=Math.max(0,16-(je-prev)),Me=setTimeout(Re,_e);return prev=je,Me}var vendors=["","webkit","moz","o","ms"],cancelMethod="clearTimeout",rafImpl=fallback,getKey$1=function Re(je,_e){return je+(je?_e[0].toUpperCase()+_e.substr(1):_e)+"AnimationFrame"};canUseDOM&&vendors.some(function(Re){var je=getKey$1(Re,"request");return je in window&&(cancelMethod=getKey$1(Re,"cancel"),rafImpl=function(Me){return window[je](Me)}),!!rafImpl});var cancel=function Re(je){typeof window[cancelMethod]=="function"&&window[cancelMethod](je)},request=rafImpl,matchesImpl;function matches(Re,je){if(!matchesImpl){var _e=document.body,Me=_e.matches||_e.matchesSelector||_e.webkitMatchesSelector||_e.mozMatchesSelector||_e.msMatchesSelector;matchesImpl=function(ke,Ce){return Me.call(ke,Ce)}}return matchesImpl(Re,je)}var toArray=Function.prototype.bind.call(Function.prototype.call,[].slice);function qsa(Re,je){return toArray(Re.querySelectorAll(je))}var optionsSupported=!1,onceSupported=!1;try{var options={get passive(){return optionsSupported=!0},get once(){return onceSupported=optionsSupported=!0}};canUseDOM&&(window.addEventListener("test",options,options),window.removeEventListener("test",options,!0))}catch(Re){}function addEventListener$1(Re,je,_e,Me){if(Me&&typeof Me!="boolean"&&!onceSupported){var $e=Me.once,ke=Me.capture,Ce=_e;!onceSupported&&$e&&(Ce=_e.__once||function Be(qe){this.removeEventListener(je,Be,ke),_e.call(this,qe)},_e.__once=Ce),Re.addEventListener(je,Ce,optionsSupported?Me:ke)}Re.addEventListener(je,_e,Me)}function useCommittedRef(Re){const je=reactExports.useRef(Re);return reactExports.useEffect(()=>{je.current=Re},[Re]),je}function useEventCallback(Re){const je=useCommittedRef(Re);return reactExports.useCallback(function(..._e){return je.current&&je.current(..._e)},[je])}function useCallbackRef(){return reactExports.useState(null)}function useMounted(){const Re=reactExports.useRef(!0),je=reactExports.useRef(()=>Re.current);return reactExports.useEffect(()=>(Re.current=!0,()=>{Re.current=!1}),[]),je.current}function useSafeState(Re){const je=useMounted();return[Re[0],reactExports.useCallback(_e=>{if(je())return Re[1](_e)},[je,Re[1]])]}var top="top",bottom="bottom",right="right",left="left",auto="auto",basePlacements=[top,bottom,right,left],start="start",end="end",clippingParents="clippingParents",viewport="viewport",popper="popper",reference="reference",variationPlacements=basePlacements.reduce(function(Re,je){return Re.concat([je+"-"+start,je+"-"+end])},[]),placements=[].concat(basePlacements,[auto]).reduce(function(Re,je){return Re.concat([je,je+"-"+start,je+"-"+end])},[]),beforeRead="beforeRead",read="read",afterRead="afterRead",beforeMain="beforeMain",main="main",afterMain="afterMain",beforeWrite="beforeWrite",write="write",afterWrite="afterWrite",modifierPhases=[beforeRead,read,afterRead,beforeMain,main,afterMain,beforeWrite,write,afterWrite];function getBasePlacement(Re){return Re.split("-")[0]}function getWindow(Re){if(Re==null)return window;if(Re.toString()!=="[object Window]"){var je=Re.ownerDocument;return je&&je.defaultView||window}return Re}function isElement(Re){var je=getWindow(Re).Element;return Re instanceof je||Re instanceof Element}function isHTMLElement(Re){var je=getWindow(Re).HTMLElement;return Re instanceof je||Re instanceof HTMLElement}function isShadowRoot(Re){if(typeof ShadowRoot>"u")return!1;var je=getWindow(Re).ShadowRoot;return Re instanceof je||Re instanceof ShadowRoot}var max=Math.max,min=Math.min,round=Math.round;function getUAString(){var Re=navigator.userAgentData;return Re!=null&&Re.brands&&Array.isArray(Re.brands)?Re.brands.map(function(je){return je.brand+"/"+je.version}).join(" "):navigator.userAgent}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function getBoundingClientRect(Re,je,_e){je===void 0&&(je=!1),_e===void 0&&(_e=!1);var Me=Re.getBoundingClientRect(),$e=1,ke=1;je&&isHTMLElement(Re)&&($e=Re.offsetWidth>0&&round(Me.width)/Re.offsetWidth||1,ke=Re.offsetHeight>0&&round(Me.height)/Re.offsetHeight||1);var Ce=isElement(Re)?getWindow(Re):window,Be=Ce.visualViewport,qe=!isLayoutViewport()&&_e,He=(Me.left+(qe&&Be?Be.offsetLeft:0))/$e,We=(Me.top+(qe&&Be?Be.offsetTop:0))/ke,Ke=Me.width/$e,Je=Me.height/ke;return{width:Ke,height:Je,top:We,right:He+Ke,bottom:We+Je,left:He,x:He,y:We}}function getLayoutRect(Re){var je=getBoundingClientRect(Re),_e=Re.offsetWidth,Me=Re.offsetHeight;return Math.abs(je.width-_e)<=1&&(_e=je.width),Math.abs(je.height-Me)<=1&&(Me=je.height),{x:Re.offsetLeft,y:Re.offsetTop,width:_e,height:Me}}function contains(Re,je){var _e=je.getRootNode&&je.getRootNode();if(Re.contains(je))return!0;if(_e&&isShadowRoot(_e)){var Me=je;do{if(Me&&Re.isSameNode(Me))return!0;Me=Me.parentNode||Me.host}while(Me)}return!1}function getNodeName(Re){return Re?(Re.nodeName||"").toLowerCase():null}function getComputedStyle(Re){return getWindow(Re).getComputedStyle(Re)}function isTableElement(Re){return["table","td","th"].indexOf(getNodeName(Re))>=0}function getDocumentElement(Re){return((isElement(Re)?Re.ownerDocument:Re.document)||window.document).documentElement}function getParentNode(Re){return getNodeName(Re)==="html"?Re:Re.assignedSlot||Re.parentNode||(isShadowRoot(Re)?Re.host:null)||getDocumentElement(Re)}function getTrueOffsetParent(Re){return!isHTMLElement(Re)||getComputedStyle(Re).position==="fixed"?null:Re.offsetParent}function getContainingBlock(Re){var je=/firefox/i.test(getUAString()),_e=/Trident/i.test(getUAString());if(_e&&isHTMLElement(Re)){var Me=getComputedStyle(Re);if(Me.position==="fixed")return null}var $e=getParentNode(Re);for(isShadowRoot($e)&&($e=$e.host);isHTMLElement($e)&&["html","body"].indexOf(getNodeName($e))<0;){var ke=getComputedStyle($e);if(ke.transform!=="none"||ke.perspective!=="none"||ke.contain==="paint"||["transform","perspective"].indexOf(ke.willChange)!==-1||je&&ke.willChange==="filter"||je&&ke.filter&&ke.filter!=="none")return $e;$e=$e.parentNode}return null}function getOffsetParent(Re){for(var je=getWindow(Re),_e=getTrueOffsetParent(Re);_e&&isTableElement(_e)&&getComputedStyle(_e).position==="static";)_e=getTrueOffsetParent(_e);return _e&&(getNodeName(_e)==="html"||getNodeName(_e)==="body"&&getComputedStyle(_e).position==="static")?je:_e||getContainingBlock(Re)||je}function getMainAxisFromPlacement(Re){return["top","bottom"].indexOf(Re)>=0?"x":"y"}function within(Re,je,_e){return max(Re,min(je,_e))}function withinMaxClamp(Re,je,_e){var Me=within(Re,je,_e);return Me>_e?_e:Me}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(Re){return Object.assign({},getFreshSideObject(),Re)}function expandToHashMap(Re,je){return je.reduce(function(_e,Me){return _e[Me]=Re,_e},{})}var toPaddingObject=function Re(je,_e){return je=typeof je=="function"?je(Object.assign({},_e.rects,{placement:_e.placement})):je,mergePaddingObject(typeof je!="number"?je:expandToHashMap(je,basePlacements))};function arrow(Re){var je,_e=Re.state,Me=Re.name,$e=Re.options,ke=_e.elements.arrow,Ce=_e.modifiersData.popperOffsets,Be=getBasePlacement(_e.placement),qe=getMainAxisFromPlacement(Be),He=[left,right].indexOf(Be)>=0,We=He?"height":"width";if(!(!ke||!Ce)){var Ke=toPaddingObject($e.padding,_e),Je=getLayoutRect(ke),Qe=qe==="y"?top:left,rr=qe==="y"?bottom:right,tr=_e.rects.reference[We]+_e.rects.reference[qe]-Ce[qe]-_e.rects.popper[We],cr=Ce[qe]-_e.rects.reference[qe],or=getOffsetParent(ke),ar=or?qe==="y"?or.clientHeight||0:or.clientWidth||0:0,pr=tr/2-cr/2,ur=Ke[Qe],gr=ar-Je[We]-Ke[rr],jr=ar/2-Je[We]/2+pr,vr=within(ur,jr,gr),dr=qe;_e.modifiersData[Me]=(je={},je[dr]=vr,je.centerOffset=vr-jr,je)}}function effect$1(Re){var je=Re.state,_e=Re.options,Me=_e.element,$e=Me===void 0?"[data-popper-arrow]":Me;$e!=null&&(typeof $e=="string"&&($e=je.elements.popper.querySelector($e),!$e)||contains(je.elements.popper,$e)&&(je.elements.arrow=$e))}const arrow$1={name:"arrow",enabled:!0,phase:"main",fn:arrow,effect:effect$1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getVariation(Re){return Re.split("-")[1]}var unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(Re,je){var _e=Re.x,Me=Re.y,$e=je.devicePixelRatio||1;return{x:round(_e*$e)/$e||0,y:round(Me*$e)/$e||0}}function mapToStyles(Re){var je,_e=Re.popper,Me=Re.popperRect,$e=Re.placement,ke=Re.variation,Ce=Re.offsets,Be=Re.position,qe=Re.gpuAcceleration,He=Re.adaptive,We=Re.roundOffsets,Ke=Re.isFixed,Je=Ce.x,Qe=Je===void 0?0:Je,rr=Ce.y,tr=rr===void 0?0:rr,cr=typeof We=="function"?We({x:Qe,y:tr}):{x:Qe,y:tr};Qe=cr.x,tr=cr.y;var or=Ce.hasOwnProperty("x"),ar=Ce.hasOwnProperty("y"),pr=left,ur=top,gr=window;if(He){var jr=getOffsetParent(_e),vr="clientHeight",dr="clientWidth";if(jr===getWindow(_e)&&(jr=getDocumentElement(_e),getComputedStyle(jr).position!=="static"&&Be==="absolute"&&(vr="scrollHeight",dr="scrollWidth")),jr=jr,$e===top||($e===left||$e===right)&&ke===end){ur=bottom;var xr=Ke&&jr===gr&&gr.visualViewport?gr.visualViewport.height:jr[vr];tr-=xr-Me.height,tr*=qe?1:-1}if($e===left||($e===top||$e===bottom)&&ke===end){pr=right;var Rr=Ke&&jr===gr&&gr.visualViewport?gr.visualViewport.width:jr[dr];Qe-=Rr-Me.width,Qe*=qe?1:-1}}var Xe=Object.assign({position:Be},He&&unsetSides),Pe=We===!0?roundOffsetsByDPR({x:Qe,y:tr},getWindow(_e)):{x:Qe,y:tr};if(Qe=Pe.x,tr=Pe.y,qe){var Fe;return Object.assign({},Xe,(Fe={},Fe[ur]=ar?"0":"",Fe[pr]=or?"0":"",Fe.transform=(gr.devicePixelRatio||1)<=1?"translate("+Qe+"px, "+tr+"px)":"translate3d("+Qe+"px, "+tr+"px, 0)",Fe))}return Object.assign({},Xe,(je={},je[ur]=ar?tr+"px":"",je[pr]=or?Qe+"px":"",je.transform="",je))}function computeStyles(Re){var je=Re.state,_e=Re.options,Me=_e.gpuAcceleration,$e=Me===void 0?!0:Me,ke=_e.adaptive,Ce=ke===void 0?!0:ke,Be=_e.roundOffsets,qe=Be===void 0?!0:Be,He={placement:getBasePlacement(je.placement),variation:getVariation(je.placement),popper:je.elements.popper,popperRect:je.rects.popper,gpuAcceleration:$e,isFixed:je.options.strategy==="fixed"};je.modifiersData.popperOffsets!=null&&(je.styles.popper=Object.assign({},je.styles.popper,mapToStyles(Object.assign({},He,{offsets:je.modifiersData.popperOffsets,position:je.options.strategy,adaptive:Ce,roundOffsets:qe})))),je.modifiersData.arrow!=null&&(je.styles.arrow=Object.assign({},je.styles.arrow,mapToStyles(Object.assign({},He,{offsets:je.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:qe})))),je.attributes.popper=Object.assign({},je.attributes.popper,{"data-popper-placement":je.placement})}const computeStyles$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles,data:{}};var passive={passive:!0};function effect(Re){var je=Re.state,_e=Re.instance,Me=Re.options,$e=Me.scroll,ke=$e===void 0?!0:$e,Ce=Me.resize,Be=Ce===void 0?!0:Ce,qe=getWindow(je.elements.popper),He=[].concat(je.scrollParents.reference,je.scrollParents.popper);return ke&&He.forEach(function(We){We.addEventListener("scroll",_e.update,passive)}),Be&&qe.addEventListener("resize",_e.update,passive),function(){ke&&He.forEach(function(We){We.removeEventListener("scroll",_e.update,passive)}),Be&&qe.removeEventListener("resize",_e.update,passive)}}const eventListeners={name:"eventListeners",enabled:!0,phase:"write",fn:function Re(){},effect,data:{}};var hash$1={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(Re){return Re.replace(/left|right|bottom|top/g,function(je){return hash$1[je]})}var hash={start:"end",end:"start"};function getOppositeVariationPlacement(Re){return Re.replace(/start|end/g,function(je){return hash[je]})}function getWindowScroll(Re){var je=getWindow(Re),_e=je.pageXOffset,Me=je.pageYOffset;return{scrollLeft:_e,scrollTop:Me}}function getWindowScrollBarX(Re){return getBoundingClientRect(getDocumentElement(Re)).left+getWindowScroll(Re).scrollLeft}function getViewportRect(Re,je){var _e=getWindow(Re),Me=getDocumentElement(Re),$e=_e.visualViewport,ke=Me.clientWidth,Ce=Me.clientHeight,Be=0,qe=0;if($e){ke=$e.width,Ce=$e.height;var He=isLayoutViewport();(He||!He&&je==="fixed")&&(Be=$e.offsetLeft,qe=$e.offsetTop)}return{width:ke,height:Ce,x:Be+getWindowScrollBarX(Re),y:qe}}function getDocumentRect(Re){var je,_e=getDocumentElement(Re),Me=getWindowScroll(Re),$e=(je=Re.ownerDocument)==null?void 0:je.body,ke=max(_e.scrollWidth,_e.clientWidth,$e?$e.scrollWidth:0,$e?$e.clientWidth:0),Ce=max(_e.scrollHeight,_e.clientHeight,$e?$e.scrollHeight:0,$e?$e.clientHeight:0),Be=-Me.scrollLeft+getWindowScrollBarX(Re),qe=-Me.scrollTop;return getComputedStyle($e||_e).direction==="rtl"&&(Be+=max(_e.clientWidth,$e?$e.clientWidth:0)-ke),{width:ke,height:Ce,x:Be,y:qe}}function isScrollParent(Re){var je=getComputedStyle(Re),_e=je.overflow,Me=je.overflowX,$e=je.overflowY;return/auto|scroll|overlay|hidden/.test(_e+$e+Me)}function getScrollParent(Re){return["html","body","#document"].indexOf(getNodeName(Re))>=0?Re.ownerDocument.body:isHTMLElement(Re)&&isScrollParent(Re)?Re:getScrollParent(getParentNode(Re))}function listScrollParents(Re,je){var _e;je===void 0&&(je=[]);var Me=getScrollParent(Re),$e=Me===((_e=Re.ownerDocument)==null?void 0:_e.body),ke=getWindow(Me),Ce=$e?[ke].concat(ke.visualViewport||[],isScrollParent(Me)?Me:[]):Me,Be=je.concat(Ce);return $e?Be:Be.concat(listScrollParents(getParentNode(Ce)))}function rectToClientRect(Re){return Object.assign({},Re,{left:Re.x,top:Re.y,right:Re.x+Re.width,bottom:Re.y+Re.height})}function getInnerBoundingClientRect(Re,je){var _e=getBoundingClientRect(Re,!1,je==="fixed");return _e.top=_e.top+Re.clientTop,_e.left=_e.left+Re.clientLeft,_e.bottom=_e.top+Re.clientHeight,_e.right=_e.left+Re.clientWidth,_e.width=Re.clientWidth,_e.height=Re.clientHeight,_e.x=_e.left,_e.y=_e.top,_e}function getClientRectFromMixedType(Re,je,_e){return je===viewport?rectToClientRect(getViewportRect(Re,_e)):isElement(je)?getInnerBoundingClientRect(je,_e):rectToClientRect(getDocumentRect(getDocumentElement(Re)))}function getClippingParents(Re){var je=listScrollParents(getParentNode(Re)),_e=["absolute","fixed"].indexOf(getComputedStyle(Re).position)>=0,Me=_e&&isHTMLElement(Re)?getOffsetParent(Re):Re;return isElement(Me)?je.filter(function($e){return isElement($e)&&contains($e,Me)&&getNodeName($e)!=="body"}):[]}function getClippingRect(Re,je,_e,Me){var $e=je==="clippingParents"?getClippingParents(Re):[].concat(je),ke=[].concat($e,[_e]),Ce=ke[0],Be=ke.reduce(function(qe,He){var We=getClientRectFromMixedType(Re,He,Me);return qe.top=max(We.top,qe.top),qe.right=min(We.right,qe.right),qe.bottom=min(We.bottom,qe.bottom),qe.left=max(We.left,qe.left),qe},getClientRectFromMixedType(Re,Ce,Me));return Be.width=Be.right-Be.left,Be.height=Be.bottom-Be.top,Be.x=Be.left,Be.y=Be.top,Be}function computeOffsets(Re){var je=Re.reference,_e=Re.element,Me=Re.placement,$e=Me?getBasePlacement(Me):null,ke=Me?getVariation(Me):null,Ce=je.x+je.width/2-_e.width/2,Be=je.y+je.height/2-_e.height/2,qe;switch($e){case top:qe={x:Ce,y:je.y-_e.height};break;case bottom:qe={x:Ce,y:je.y+je.height};break;case right:qe={x:je.x+je.width,y:Be};break;case left:qe={x:je.x-_e.width,y:Be};break;default:qe={x:je.x,y:je.y}}var He=$e?getMainAxisFromPlacement($e):null;if(He!=null){var We=He==="y"?"height":"width";switch(ke){case start:qe[He]=qe[He]-(je[We]/2-_e[We]/2);break;case end:qe[He]=qe[He]+(je[We]/2-_e[We]/2);break}}return qe}function detectOverflow(Re,je){je===void 0&&(je={});var _e=je,Me=_e.placement,$e=Me===void 0?Re.placement:Me,ke=_e.strategy,Ce=ke===void 0?Re.strategy:ke,Be=_e.boundary,qe=Be===void 0?clippingParents:Be,He=_e.rootBoundary,We=He===void 0?viewport:He,Ke=_e.elementContext,Je=Ke===void 0?popper:Ke,Qe=_e.altBoundary,rr=Qe===void 0?!1:Qe,tr=_e.padding,cr=tr===void 0?0:tr,or=mergePaddingObject(typeof cr!="number"?cr:expandToHashMap(cr,basePlacements)),ar=Je===popper?reference:popper,pr=Re.rects.popper,ur=Re.elements[rr?ar:Je],gr=getClippingRect(isElement(ur)?ur:ur.contextElement||getDocumentElement(Re.elements.popper),qe,We,Ce),jr=getBoundingClientRect(Re.elements.reference),vr=computeOffsets({reference:jr,element:pr,strategy:"absolute",placement:$e}),dr=rectToClientRect(Object.assign({},pr,vr)),xr=Je===popper?dr:jr,Rr={top:gr.top-xr.top+or.top,bottom:xr.bottom-gr.bottom+or.bottom,left:gr.left-xr.left+or.left,right:xr.right-gr.right+or.right},Xe=Re.modifiersData.offset;if(Je===popper&&Xe){var Pe=Xe[$e];Object.keys(Rr).forEach(function(Fe){var ze=[right,bottom].indexOf(Fe)>=0?1:-1,Ue=[top,bottom].indexOf(Fe)>=0?"y":"x";Rr[Fe]+=Pe[Ue]*ze})}return Rr}function computeAutoPlacement(Re,je){je===void 0&&(je={});var _e=je,Me=_e.placement,$e=_e.boundary,ke=_e.rootBoundary,Ce=_e.padding,Be=_e.flipVariations,qe=_e.allowedAutoPlacements,He=qe===void 0?placements:qe,We=getVariation(Me),Ke=We?Be?variationPlacements:variationPlacements.filter(function(rr){return getVariation(rr)===We}):basePlacements,Je=Ke.filter(function(rr){return He.indexOf(rr)>=0});Je.length===0&&(Je=Ke);var Qe=Je.reduce(function(rr,tr){return rr[tr]=detectOverflow(Re,{placement:tr,boundary:$e,rootBoundary:ke,padding:Ce})[getBasePlacement(tr)],rr},{});return Object.keys(Qe).sort(function(rr,tr){return Qe[rr]-Qe[tr]})}function getExpandedFallbackPlacements(Re){if(getBasePlacement(Re)===auto)return[];var je=getOppositePlacement(Re);return[getOppositeVariationPlacement(Re),je,getOppositeVariationPlacement(je)]}function flip(Re){var je=Re.state,_e=Re.options,Me=Re.name;if(!je.modifiersData[Me]._skip){for(var $e=_e.mainAxis,ke=$e===void 0?!0:$e,Ce=_e.altAxis,Be=Ce===void 0?!0:Ce,qe=_e.fallbackPlacements,He=_e.padding,We=_e.boundary,Ke=_e.rootBoundary,Je=_e.altBoundary,Qe=_e.flipVariations,rr=Qe===void 0?!0:Qe,tr=_e.allowedAutoPlacements,cr=je.options.placement,or=getBasePlacement(cr),ar=or===cr,pr=qe||(ar||!rr?[getOppositePlacement(cr)]:getExpandedFallbackPlacements(cr)),ur=[cr].concat(pr).reduce(function(br,_r){return br.concat(getBasePlacement(_r)===auto?computeAutoPlacement(je,{placement:_r,boundary:We,rootBoundary:Ke,padding:He,flipVariations:rr,allowedAutoPlacements:tr}):_r)},[]),gr=je.rects.reference,jr=je.rects.popper,vr=new Map,dr=!0,xr=ur[0],Rr=0;Rr<ur.length;Rr++){var Xe=ur[Rr],Pe=getBasePlacement(Xe),Fe=getVariation(Xe)===start,ze=[top,bottom].indexOf(Pe)>=0,Ue=ze?"width":"height",Ge=detectOverflow(je,{placement:Xe,boundary:We,rootBoundary:Ke,altBoundary:Je,padding:He}),Ze=ze?Fe?right:left:Fe?bottom:top;gr[Ue]>jr[Ue]&&(Ze=getOppositePlacement(Ze));var er=getOppositePlacement(Ze),Ve=[];if(ke&&Ve.push(Ge[Pe]<=0),Be&&Ve.push(Ge[Ze]<=0,Ge[er]<=0),Ve.every(function(br){return br})){xr=Xe,dr=!1;break}vr.set(Xe,Ve)}if(dr)for(var Ie=rr?3:1,Ye=function(_r){var Sr=ur.find(function(wr){var Nr=vr.get(wr);if(Nr)return Nr.slice(0,_r).every(function(kr){return kr})});if(Sr)return xr=Sr,"break"},ir=Ie;ir>0;ir--){var lr=Ye(ir);if(lr==="break")break}je.placement!==xr&&(je.modifiersData[Me]._skip=!0,je.placement=xr,je.reset=!0)}}const flip$1={name:"flip",enabled:!0,phase:"main",fn:flip,requiresIfExists:["offset"],data:{_skip:!1}};function getSideOffsets(Re,je,_e){return _e===void 0&&(_e={x:0,y:0}),{top:Re.top-je.height-_e.y,right:Re.right-je.width+_e.x,bottom:Re.bottom-je.height+_e.y,left:Re.left-je.width-_e.x}}function isAnySideFullyClipped(Re){return[top,right,bottom,left].some(function(je){return Re[je]>=0})}function hide(Re){var je=Re.state,_e=Re.name,Me=je.rects.reference,$e=je.rects.popper,ke=je.modifiersData.preventOverflow,Ce=detectOverflow(je,{elementContext:"reference"}),Be=detectOverflow(je,{altBoundary:!0}),qe=getSideOffsets(Ce,Me),He=getSideOffsets(Be,$e,ke),We=isAnySideFullyClipped(qe),Ke=isAnySideFullyClipped(He);je.modifiersData[_e]={referenceClippingOffsets:qe,popperEscapeOffsets:He,isReferenceHidden:We,hasPopperEscaped:Ke},je.attributes.popper=Object.assign({},je.attributes.popper,{"data-popper-reference-hidden":We,"data-popper-escaped":Ke})}const hide$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hide};function distanceAndSkiddingToXY(Re,je,_e){var Me=getBasePlacement(Re),$e=[left,top].indexOf(Me)>=0?-1:1,ke=typeof _e=="function"?_e(Object.assign({},je,{placement:Re})):_e,Ce=ke[0],Be=ke[1];return Ce=Ce||0,Be=(Be||0)*$e,[left,right].indexOf(Me)>=0?{x:Be,y:Ce}:{x:Ce,y:Be}}function offset(Re){var je=Re.state,_e=Re.options,Me=Re.name,$e=_e.offset,ke=$e===void 0?[0,0]:$e,Ce=placements.reduce(function(We,Ke){return We[Ke]=distanceAndSkiddingToXY(Ke,je.rects,ke),We},{}),Be=Ce[je.placement],qe=Be.x,He=Be.y;je.modifiersData.popperOffsets!=null&&(je.modifiersData.popperOffsets.x+=qe,je.modifiersData.popperOffsets.y+=He),je.modifiersData[Me]=Ce}const offset$1={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset};function popperOffsets(Re){var je=Re.state,_e=Re.name;je.modifiersData[_e]=computeOffsets({reference:je.rects.reference,element:je.rects.popper,strategy:"absolute",placement:je.placement})}const popperOffsets$1={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets,data:{}};function getAltAxis(Re){return Re==="x"?"y":"x"}function preventOverflow(Re){var je=Re.state,_e=Re.options,Me=Re.name,$e=_e.mainAxis,ke=$e===void 0?!0:$e,Ce=_e.altAxis,Be=Ce===void 0?!1:Ce,qe=_e.boundary,He=_e.rootBoundary,We=_e.altBoundary,Ke=_e.padding,Je=_e.tether,Qe=Je===void 0?!0:Je,rr=_e.tetherOffset,tr=rr===void 0?0:rr,cr=detectOverflow(je,{boundary:qe,rootBoundary:He,padding:Ke,altBoundary:We}),or=getBasePlacement(je.placement),ar=getVariation(je.placement),pr=!ar,ur=getMainAxisFromPlacement(or),gr=getAltAxis(ur),jr=je.modifiersData.popperOffsets,vr=je.rects.reference,dr=je.rects.popper,xr=typeof tr=="function"?tr(Object.assign({},je.rects,{placement:je.placement})):tr,Rr=typeof xr=="number"?{mainAxis:xr,altAxis:xr}:Object.assign({mainAxis:0,altAxis:0},xr),Xe=je.modifiersData.offset?je.modifiersData.offset[je.placement]:null,Pe={x:0,y:0};if(jr){if(ke){var Fe,ze=ur==="y"?top:left,Ue=ur==="y"?bottom:right,Ge=ur==="y"?"height":"width",Ze=jr[ur],er=Ze+cr[ze],Ve=Ze-cr[Ue],Ie=Qe?-dr[Ge]/2:0,Ye=ar===start?vr[Ge]:dr[Ge],ir=ar===start?-dr[Ge]:-vr[Ge],lr=je.elements.arrow,br=Qe&&lr?getLayoutRect(lr):{width:0,height:0},_r=je.modifiersData["arrow#persistent"]?je.modifiersData["arrow#persistent"].padding:getFreshSideObject(),Sr=_r[ze],wr=_r[Ue],Nr=within(0,vr[Ge],br[Ge]),kr=pr?vr[Ge]/2-Ie-Nr-Sr-Rr.mainAxis:Ye-Nr-Sr-Rr.mainAxis,Lr=pr?-vr[Ge]/2+Ie+Nr+wr+Rr.mainAxis:ir+Nr+wr+Rr.mainAxis,Xr=je.elements.arrow&&getOffsetParent(je.elements.arrow),Ur=Xr?ur==="y"?Xr.clientTop||0:Xr.clientLeft||0:0,Gr=(Fe=Xe?.[ur])!=null?Fe:0,Ts=Ze+kr-Gr-Ur,Br=Ze+Lr-Gr,Cr=within(Qe?min(er,Ts):er,Ze,Qe?max(Ve,Br):Ve);jr[ur]=Cr,Pe[ur]=Cr-Ze}if(Be){var qs,$r=ur==="x"?top:left,Tr=ur==="x"?bottom:right,Kr=jr[gr],qr=gr==="y"?"height":"width",Hr=Kr+cr[$r],ss=Kr-cr[Tr],Vr=[top,left].indexOf(or)!==-1,Zr=(qs=Xe?.[gr])!=null?qs:0,Is=Vr?Hr:Kr-vr[qr]-dr[qr]-Zr+Rr.altAxis,Jr=Vr?Kr+vr[qr]+dr[qr]-Zr-Rr.altAxis:ss,cs=Qe&&Vr?withinMaxClamp(Is,Kr,Jr):within(Qe?Is:Hr,Kr,Qe?Jr:ss);jr[gr]=cs,Pe[gr]=cs-Kr}je.modifiersData[Me]=Pe}}const preventOverflow$1={name:"preventOverflow",enabled:!0,phase:"main",fn:preventOverflow,requiresIfExists:["offset"]};function getHTMLElementScroll(Re){return{scrollLeft:Re.scrollLeft,scrollTop:Re.scrollTop}}function getNodeScroll(Re){return Re===getWindow(Re)||!isHTMLElement(Re)?getWindowScroll(Re):getHTMLElementScroll(Re)}function isElementScaled(Re){var je=Re.getBoundingClientRect(),_e=round(je.width)/Re.offsetWidth||1,Me=round(je.height)/Re.offsetHeight||1;return _e!==1||Me!==1}function getCompositeRect(Re,je,_e){_e===void 0&&(_e=!1);var Me=isHTMLElement(je),$e=isHTMLElement(je)&&isElementScaled(je),ke=getDocumentElement(je),Ce=getBoundingClientRect(Re,$e,_e),Be={scrollLeft:0,scrollTop:0},qe={x:0,y:0};return(Me||!Me&&!_e)&&((getNodeName(je)!=="body"||isScrollParent(ke))&&(Be=getNodeScroll(je)),isHTMLElement(je)?(qe=getBoundingClientRect(je,!0),qe.x+=je.clientLeft,qe.y+=je.clientTop):ke&&(qe.x=getWindowScrollBarX(ke))),{x:Ce.left+Be.scrollLeft-qe.x,y:Ce.top+Be.scrollTop-qe.y,width:Ce.width,height:Ce.height}}function order(Re){var je=new Map,_e=new Set,Me=[];Re.forEach(function(ke){je.set(ke.name,ke)});function $e(ke){_e.add(ke.name);var Ce=[].concat(ke.requires||[],ke.requiresIfExists||[]);Ce.forEach(function(Be){if(!_e.has(Be)){var qe=je.get(Be);qe&&$e(qe)}}),Me.push(ke)}return Re.forEach(function(ke){_e.has(ke.name)||$e(ke)}),Me}function orderModifiers(Re){var je=order(Re);return modifierPhases.reduce(function(_e,Me){return _e.concat(je.filter(function($e){return $e.phase===Me}))},[])}function debounce(Re){var je;return function(){return je||(je=new Promise(function(_e){Promise.resolve().then(function(){je=void 0,_e(Re())})})),je}}function mergeByName(Re){var je=Re.reduce(function(_e,Me){var $e=_e[Me.name];return _e[Me.name]=$e?Object.assign({},$e,Me,{options:Object.assign({},$e.options,Me.options),data:Object.assign({},$e.data,Me.data)}):Me,_e},{});return Object.keys(je).map(function(_e){return je[_e]})}var DEFAULT_OPTIONS={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var Re=arguments.length,je=new Array(Re),_e=0;_e<Re;_e++)je[_e]=arguments[_e];return!je.some(function(Me){return!(Me&&typeof Me.getBoundingClientRect=="function")})}function popperGenerator(Re){Re===void 0&&(Re={});var je=Re,_e=je.defaultModifiers,Me=_e===void 0?[]:_e,$e=je.defaultOptions,ke=$e===void 0?DEFAULT_OPTIONS:$e;return function(Be,qe,He){He===void 0&&(He=ke);var We={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS,ke),modifiersData:{},elements:{reference:Be,popper:qe},attributes:{},styles:{}},Ke=[],Je=!1,Qe={state:We,setOptions:function(or){var ar=typeof or=="function"?or(We.options):or;tr(),We.options=Object.assign({},ke,We.options,ar),We.scrollParents={reference:isElement(Be)?listScrollParents(Be):Be.contextElement?listScrollParents(Be.contextElement):[],popper:listScrollParents(qe)};var pr=orderModifiers(mergeByName([].concat(Me,We.options.modifiers)));return We.orderedModifiers=pr.filter(function(ur){return ur.enabled}),rr(),Qe.update()},forceUpdate:function(){if(!Je){var or=We.elements,ar=or.reference,pr=or.popper;if(areValidElements(ar,pr)){We.rects={reference:getCompositeRect(ar,getOffsetParent(pr),We.options.strategy==="fixed"),popper:getLayoutRect(pr)},We.reset=!1,We.placement=We.options.placement,We.orderedModifiers.forEach(function(Rr){return We.modifiersData[Rr.name]=Object.assign({},Rr.data)});for(var ur=0;ur<We.orderedModifiers.length;ur++){if(We.reset===!0){We.reset=!1,ur=-1;continue}var gr=We.orderedModifiers[ur],jr=gr.fn,vr=gr.options,dr=vr===void 0?{}:vr,xr=gr.name;typeof jr=="function"&&(We=jr({state:We,options:dr,name:xr,instance:Qe})||We)}}}},update:debounce(function(){return new Promise(function(cr){Qe.forceUpdate(),cr(We)})}),destroy:function(){tr(),Je=!0}};if(!areValidElements(Be,qe))return Qe;Qe.setOptions(He).then(function(cr){!Je&&He.onFirstUpdate&&He.onFirstUpdate(cr)});function rr(){We.orderedModifiers.forEach(function(cr){var or=cr.name,ar=cr.options,pr=ar===void 0?{}:ar,ur=cr.effect;if(typeof ur=="function"){var gr=ur({state:We,name:or,instance:Qe,options:pr}),jr=function(){};Ke.push(gr||jr)}})}function tr(){Ke.forEach(function(cr){return cr()}),Ke=[]}return Qe}}var createPopper=popperGenerator({defaultModifiers:[hide$1,popperOffsets$1,computeStyles$1,eventListeners,offset$1,flip$1,preventOverflow$1,arrow$1]}),initialPopperStyles=function Re(je){return{position:je,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},disabledApplyStylesModifier={name:"applyStyles",enabled:!1},ariaDescribedByModifier={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function Re(je){var _e=je.state;return function(){var Me=_e.elements,$e=Me.reference,ke=Me.popper;if("removeAttribute"in $e){var Ce=($e.getAttribute("aria-describedby")||"").split(",").filter(function(Be){return Be.trim()!==ke.id});Ce.length?$e.setAttribute("aria-describedby",Ce.join(",")):$e.removeAttribute("aria-describedby")}}},fn:function Re(je){var _e,Me=je.state,$e=Me.elements,ke=$e.popper,Ce=$e.reference,Be=(_e=ke.getAttribute("role"))==null?void 0:_e.toLowerCase();if(ke.id&&Be==="tooltip"&&"setAttribute"in Ce){var qe=Ce.getAttribute("aria-describedby");if(qe&&qe.split(",").indexOf(ke.id)!==-1)return;Ce.setAttribute("aria-describedby",qe?qe+","+ke.id:ke.id)}}},EMPTY_MODIFIERS=[];function usePopper(Re,je,_e){var Me=_e===void 0?{}:_e,$e=Me.enabled,ke=$e===void 0?!0:$e,Ce=Me.placement,Be=Ce===void 0?"bottom":Ce,qe=Me.strategy,He=qe===void 0?"absolute":qe,We=Me.modifiers,Ke=We===void 0?EMPTY_MODIFIERS:We,Je=_objectWithoutPropertiesLoose(Me,["enabled","placement","strategy","modifiers"]),Qe=reactExports.useRef(),rr=reactExports.useCallback(function(){var ur;(ur=Qe.current)==null||ur.update()},[]),tr=reactExports.useCallback(function(){var ur;(ur=Qe.current)==null||ur.forceUpdate()},[]),cr=useSafeState(reactExports.useState({placement:Be,update:rr,forceUpdate:tr,attributes:{},styles:{popper:initialPopperStyles(He),arrow:{}}})),or=cr[0],ar=cr[1],pr=reactExports.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(gr){var jr=gr.state,vr={},dr={};Object.keys(jr.elements).forEach(function(xr){vr[xr]=jr.styles[xr],dr[xr]=jr.attributes[xr]}),ar({state:jr,styles:vr,attributes:dr,update:rr,forceUpdate:tr,placement:jr.placement})}}},[rr,tr,ar]);return reactExports.useEffect(function(){!Qe.current||!ke||Qe.current.setOptions({placement:Be,strategy:He,modifiers:[].concat(Ke,[pr,disabledApplyStylesModifier])})},[He,Be,pr,ke]),reactExports.useEffect(function(){if(!(!ke||Re==null||je==null))return Qe.current=createPopper(Re,je,_extends({},Je,{placement:Be,strategy:He,modifiers:[].concat(Ke,[ariaDescribedByModifier,pr])})),function(){Qe.current!=null&&(Qe.current.destroy(),Qe.current=void 0,ar(function(ur){return _extends({},ur,{attributes:{},styles:{popper:initialPopperStyles(He)}})}))}},[ke,Re,je]),or}function removeEventListener(Re,je,_e,Me){var $e=Me&&typeof Me!="boolean"?Me.capture:Me;Re.removeEventListener(je,_e,$e),_e.__once&&Re.removeEventListener(je,_e.__once,$e)}function listen(Re,je,_e,Me){return addEventListener$1(Re,je,_e,Me),function(){removeEventListener(Re,je,_e,Me)}}var warning=function(){},warning_1=warning;const warning$1=getDefaultExportFromCjs(warning_1);function safeFindDOMNode(Re){return Re&&"setState"in Re?ReactDOM.findDOMNode(Re):Re??null}const ownerDocument=function(Re){return ownerDocument$1(safeFindDOMNode(Re))};var escapeKeyCode=27,noop=function Re(){};function isLeftClickEvent(Re){return Re.button===0}function isModifiedEvent(Re){return!!(Re.metaKey||Re.altKey||Re.ctrlKey||Re.shiftKey)}var getRefTarget=function Re(je){return je&&("current"in je?je.current:je)};function useRootClose(Re,je,_e){var Me=_e===void 0?{}:_e,$e=Me.disabled,ke=Me.clickTrigger,Ce=ke===void 0?"click":ke,Be=reactExports.useRef(!1),qe=je||noop,He=reactExports.useCallback(function(Je){var Qe,rr=getRefTarget(Re);warning$1(!!rr,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),Be.current=!rr||isModifiedEvent(Je)||!isLeftClickEvent(Je)||!!contains$1(rr,(Qe=Je.composedPath==null?void 0:Je.composedPath()[0])!=null?Qe:Je.target)},[Re]),We=useEventCallback(function(Je){Be.current||qe(Je)}),Ke=useEventCallback(function(Je){Je.keyCode===escapeKeyCode&&qe(Je)});reactExports.useEffect(function(){if(!($e||Re==null)){var Je=window.event,Qe=ownerDocument(getRefTarget(Re)),rr=listen(Qe,Ce,He,!0),tr=listen(Qe,Ce,function(ar){if(ar===Je){Je=void 0;return}We(ar)}),cr=listen(Qe,"keyup",function(ar){if(ar===Je){Je=void 0;return}Ke(ar)}),or=[];return"ontouchstart"in Qe.documentElement&&(or=[].slice.call(Qe.body.children).map(function(ar){return listen(ar,"mousemove",noop)})),function(){rr(),tr(),cr(),or.forEach(function(ar){return ar()})}}},[Re,$e,Ce,He,We,Ke])}function toModifierMap(Re){var je={};return Array.isArray(Re)?(Re?.forEach(function(_e){je[_e.name]=_e}),je):Re||je}function toModifierArray(Re){return Re===void 0&&(Re={}),Array.isArray(Re)?Re:Object.keys(Re).map(function(je){return Re[je].name=je,Re[je]})}function mergeOptionsWithPopperConfig(Re){var je,_e,Me,$e,ke=Re.enabled,Ce=Re.enableEvents,Be=Re.placement,qe=Re.flip,He=Re.offset,We=Re.fixed,Ke=Re.containerPadding,Je=Re.arrowElement,Qe=Re.popperConfig,rr=Qe===void 0?{}:Qe,tr=toModifierMap(rr.modifiers);return _extends({},rr,{placement:Be,enabled:ke,strategy:We?"fixed":rr.strategy,modifiers:toModifierArray(_extends({},tr,{eventListeners:{enabled:Ce},preventOverflow:_extends({},tr.preventOverflow,{options:Ke?_extends({padding:Ke},(je=tr.preventOverflow)==null?void 0:je.options):(_e=tr.preventOverflow)==null?void 0:_e.options}),offset:{options:_extends({offset:He},(Me=tr.offset)==null?void 0:Me.options)},arrow:_extends({},tr.arrow,{enabled:!!Je,options:_extends({},($e=tr.arrow)==null?void 0:$e.options,{element:Je})}),flip:_extends({enabled:!!qe},tr.flip)}))})}function hasClass(Re,je){return Re.classList?Re.classList.contains(je):(" "+(Re.className.baseVal||Re.className)+" ").indexOf(" "+je+" ")!==-1}function addClass(Re,je){Re.classList?Re.classList.add(je):hasClass(Re,je)||(typeof Re.className=="string"?Re.className=Re.className+" "+je:Re.setAttribute("class",(Re.className&&Re.className.baseVal||"")+" "+je))}function replaceClassName(Re,je){return Re.replace(new RegExp("(^|\\s)"+je+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function removeClass(Re,je){Re.classList?Re.classList.remove(je):typeof Re.className=="string"?Re.className=replaceClassName(Re.className,je):Re.setAttribute("class",replaceClassName(Re.className&&Re.className.baseVal||"",je))}var size;function scrollbarSize(Re){if((!size&&size!==0||Re)&&canUseDOM){var je=document.createElement("div");je.style.position="absolute",je.style.top="-9999px",je.style.width="50px",je.style.height="50px",je.style.overflow="scroll",document.body.appendChild(je),size=je.offsetWidth-je.clientWidth,document.body.removeChild(je)}return size}var resolveContainerRef=function Re(je){var _e;return typeof document>"u"?null:je==null?ownerDocument$1().body:(typeof je=="function"&&(je=je()),je&&"current"in je&&(je=je.current),(_e=je)!=null&&_e.nodeType&&je||null)};function useWaitForDOMRef(Re,je){var _e=reactExports.useState(function(){return resolveContainerRef(Re)}),Me=_e[0],$e=_e[1];if(!Me){var ke=resolveContainerRef(Re);ke&&$e(ke)}return reactExports.useEffect(function(){},[je,Me]),reactExports.useEffect(function(){var Ce=resolveContainerRef(Re);Ce!==Me&&$e(Ce)},[Re,Me]),Me}const toFnRef=Re=>!Re||typeof Re=="function"?Re:je=>{Re.current=je};function mergeRefs(Re,je){const _e=toFnRef(Re),Me=toFnRef(je);return $e=>{_e&&_e($e),Me&&Me($e)}}function useMergedRefs(Re,je){return reactExports.useMemo(()=>mergeRefs(Re,je),[Re,je])}var Overlay=React$2.forwardRef(function(Re,je){var _e=Re.flip,Me=Re.offset,$e=Re.placement,ke=Re.containerPadding,Ce=ke===void 0?5:ke,Be=Re.popperConfig,qe=Be===void 0?{}:Be,He=Re.transition,We=useCallbackRef(),Ke=We[0],Je=We[1],Qe=useCallbackRef(),rr=Qe[0],tr=Qe[1],cr=useMergedRefs(Je,je),or=useWaitForDOMRef(Re.container),ar=useWaitForDOMRef(Re.target),pr=reactExports.useState(!Re.show),ur=pr[0],gr=pr[1],jr=usePopper(ar,Ke,mergeOptionsWithPopperConfig({placement:$e,enableEvents:!!Re.show,containerPadding:Ce||5,flip:_e,offset:Me,arrowElement:rr,popperConfig:qe})),vr=jr.styles,dr=jr.attributes,xr=_objectWithoutPropertiesLoose(jr,["styles","attributes"]);Re.show?ur&&gr(!1):!Re.transition&&!ur&&gr(!0);var Rr=function(){gr(!0),Re.onExited&&Re.onExited.apply(Re,arguments)},Xe=Re.show||He&&!ur;if(useRootClose(Ke,Re.onHide,{disabled:!Re.rootClose||Re.rootCloseDisabled,clickTrigger:Re.rootCloseEvent}),!Xe)return null;var Pe=Re.children(_extends({},xr,{show:!!Re.show,props:_extends({},dr.popper,{style:vr.popper,ref:cr}),arrowProps:_extends({},dr.arrow,{style:vr.arrow,ref:tr})}));if(He){var Fe=Re.onExit,ze=Re.onExiting,Ue=Re.onEnter,Ge=Re.onEntering,Ze=Re.onEntered;Pe=React$2.createElement(He,{in:Re.show,appear:!0,onExit:Fe,onExiting:ze,onExited:Rr,onEnter:Ue,onEntering:Ge,onEntered:Ze},Pe)}return or?ReactDOM.createPortal(Pe,or):null});Overlay.displayName="Overlay";Overlay.propTypes={show:PropTypes.bool,placement:PropTypes.oneOf(placements),target:PropTypes.any,container:PropTypes.any,flip:PropTypes.bool,children:PropTypes.func.isRequired,containerPadding:PropTypes.number,popperConfig:PropTypes.object,rootClose:PropTypes.bool,rootCloseEvent:PropTypes.oneOf(["click","mousedown"]),rootCloseDisabled:PropTypes.bool,onHide:function Re(je){for(var _e=arguments.length,Me=new Array(_e>1?_e-1:0),$e=1;$e<_e;$e++)Me[$e-1]=arguments[$e];if(je.rootClose){var ke;return(ke=PropTypes.func).isRequired.apply(ke,[je].concat(Me))}return PropTypes.func.apply(PropTypes,[je].concat(Me))},transition:PropTypes.elementType,onEnter:PropTypes.func,onEntering:PropTypes.func,onEntered:PropTypes.func,onExit:PropTypes.func,onExiting:PropTypes.func,onExited:PropTypes.func};function listCacheClear$1(){this.__data__=[],this.size=0}var _listCacheClear=listCacheClear$1,eq$3=eq_1;function assocIndexOf$4(Re,je){for(var _e=Re.length;_e--;)if(eq$3(Re[_e][0],je))return _e;return-1}var _assocIndexOf=assocIndexOf$4,assocIndexOf$3=_assocIndexOf,arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete$1(Re){var je=this.__data__,_e=assocIndexOf$3(je,Re);if(_e<0)return!1;var Me=je.length-1;return _e==Me?je.pop():splice.call(je,_e,1),--this.size,!0}var _listCacheDelete=listCacheDelete$1,assocIndexOf$2=_assocIndexOf;function listCacheGet$1(Re){var je=this.__data__,_e=assocIndexOf$2(je,Re);return _e<0?void 0:je[_e][1]}var _listCacheGet=listCacheGet$1,assocIndexOf$1=_assocIndexOf;function listCacheHas$1(Re){return assocIndexOf$1(this.__data__,Re)>-1}var _listCacheHas=listCacheHas$1,assocIndexOf=_assocIndexOf;function listCacheSet$1(Re,je){var _e=this.__data__,Me=assocIndexOf(_e,Re);return Me<0?(++this.size,_e.push([Re,je])):_e[Me][1]=je,this}var _listCacheSet=listCacheSet$1,listCacheClear=_listCacheClear,listCacheDelete=_listCacheDelete,listCacheGet=_listCacheGet,listCacheHas=_listCacheHas,listCacheSet=_listCacheSet;function ListCache$4(Re){var je=-1,_e=Re==null?0:Re.length;for(this.clear();++je<_e;){var Me=Re[je];this.set(Me[0],Me[1])}}ListCache$4.prototype.clear=listCacheClear;ListCache$4.prototype.delete=listCacheDelete;ListCache$4.prototype.get=listCacheGet;ListCache$4.prototype.has=listCacheHas;ListCache$4.prototype.set=listCacheSet;var _ListCache=ListCache$4,ListCache$3=_ListCache;function stackClear$1(){this.__data__=new ListCache$3,this.size=0}var _stackClear=stackClear$1;function stackDelete$1(Re){var je=this.__data__,_e=je.delete(Re);return this.size=je.size,_e}var _stackDelete=stackDelete$1;function stackGet$1(Re){return this.__data__.get(Re)}var _stackGet=stackGet$1;function stackHas$1(Re){return this.__data__.has(Re)}var _stackHas=stackHas$1,root$6=_root,coreJsData$1=root$6["__core-js_shared__"],_coreJsData=coreJsData$1,coreJsData=_coreJsData,maskSrcKey=function(){var Re=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return Re?"Symbol(src)_1."+Re:""}();function isMasked$1(Re){return!!maskSrcKey&&maskSrcKey in Re}var _isMasked=isMasked$1,funcProto$2=Function.prototype,funcToString$2=funcProto$2.toString;function toSource$2(Re){if(Re!=null){try{return funcToString$2.call(Re)}catch{}try{return Re+""}catch{}}return""}var _toSource=toSource$2,isFunction$2=isFunction_1,isMasked=_isMasked,isObject$5=isObject_1,toSource$1=_toSource,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$e=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$c=objectProto$e.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$c).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative$1(Re){if(!isObject$5(Re)||isMasked(Re))return!1;var je=isFunction$2(Re)?reIsNative:reIsHostCtor;return je.test(toSource$1(Re))}var _baseIsNative=baseIsNative$1;function getValue$1(Re,je){return Re?.[je]}var _getValue=getValue$1,baseIsNative=_baseIsNative,getValue=_getValue;function getNative$7(Re,je){var _e=getValue(Re,je);return baseIsNative(_e)?_e:void 0}var _getNative=getNative$7,getNative$6=_getNative,root$5=_root,Map$4=getNative$6(root$5,"Map"),_Map=Map$4,getNative$5=_getNative,nativeCreate$4=getNative$5(Object,"create"),_nativeCreate=nativeCreate$4,nativeCreate$3=_nativeCreate;function hashClear$1(){this.__data__=nativeCreate$3?nativeCreate$3(null):{},this.size=0}var _hashClear=hashClear$1;function hashDelete$1(Re){var je=this.has(Re)&&delete this.__data__[Re];return this.size-=je?1:0,je}var _hashDelete=hashDelete$1,nativeCreate$2=_nativeCreate,HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$d=Object.prototype,hasOwnProperty$b=objectProto$d.hasOwnProperty;function hashGet$1(Re){var je=this.__data__;if(nativeCreate$2){var _e=je[Re];return _e===HASH_UNDEFINED$2?void 0:_e}return hasOwnProperty$b.call(je,Re)?je[Re]:void 0}var _hashGet=hashGet$1,nativeCreate$1=_nativeCreate,objectProto$c=Object.prototype,hasOwnProperty$a=objectProto$c.hasOwnProperty;function hashHas$1(Re){var je=this.__data__;return nativeCreate$1?je[Re]!==void 0:hasOwnProperty$a.call(je,Re)}var _hashHas=hashHas$1,nativeCreate=_nativeCreate,HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet$1(Re,je){var _e=this.__data__;return this.size+=this.has(Re)?0:1,_e[Re]=nativeCreate&&je===void 0?HASH_UNDEFINED$1:je,this}var _hashSet=hashSet$1,hashClear=_hashClear,hashDelete=_hashDelete,hashGet=_hashGet,hashHas=_hashHas,hashSet=_hashSet;function Hash$1(Re){var je=-1,_e=Re==null?0:Re.length;for(this.clear();++je<_e;){var Me=Re[je];this.set(Me[0],Me[1])}}Hash$1.prototype.clear=hashClear;Hash$1.prototype.delete=hashDelete;Hash$1.prototype.get=hashGet;Hash$1.prototype.has=hashHas;Hash$1.prototype.set=hashSet;var _Hash=Hash$1,Hash=_Hash,ListCache$2=_ListCache,Map$3=_Map;function mapCacheClear$1(){this.size=0,this.__data__={hash:new Hash,map:new(Map$3||ListCache$2),string:new Hash}}var _mapCacheClear=mapCacheClear$1;function isKeyable$1(Re){var je=typeof Re;return je=="string"||je=="number"||je=="symbol"||je=="boolean"?Re!=="__proto__":Re===null}var _isKeyable=isKeyable$1,isKeyable=_isKeyable;function getMapData$4(Re,je){var _e=Re.__data__;return isKeyable(je)?_e[typeof je=="string"?"string":"hash"]:_e.map}var _getMapData=getMapData$4,getMapData$3=_getMapData;function mapCacheDelete$1(Re){var je=getMapData$3(this,Re).delete(Re);return this.size-=je?1:0,je}var _mapCacheDelete=mapCacheDelete$1,getMapData$2=_getMapData;function mapCacheGet$1(Re){return getMapData$2(this,Re).get(Re)}var _mapCacheGet=mapCacheGet$1,getMapData$1=_getMapData;function mapCacheHas$1(Re){return getMapData$1(this,Re).has(Re)}var _mapCacheHas=mapCacheHas$1,getMapData=_getMapData;function mapCacheSet$1(Re,je){var _e=getMapData(this,Re),Me=_e.size;return _e.set(Re,je),this.size+=_e.size==Me?0:1,this}var _mapCacheSet=mapCacheSet$1,mapCacheClear=_mapCacheClear,mapCacheDelete=_mapCacheDelete,mapCacheGet=_mapCacheGet,mapCacheHas=_mapCacheHas,mapCacheSet=_mapCacheSet;function MapCache$3(Re){var je=-1,_e=Re==null?0:Re.length;for(this.clear();++je<_e;){var Me=Re[je];this.set(Me[0],Me[1])}}MapCache$3.prototype.clear=mapCacheClear;MapCache$3.prototype.delete=mapCacheDelete;MapCache$3.prototype.get=mapCacheGet;MapCache$3.prototype.has=mapCacheHas;MapCache$3.prototype.set=mapCacheSet;var _MapCache=MapCache$3,ListCache$1=_ListCache,Map$2=_Map,MapCache$2=_MapCache,LARGE_ARRAY_SIZE=200;function stackSet$1(Re,je){var _e=this.__data__;if(_e instanceof ListCache$1){var Me=_e.__data__;if(!Map$2||Me.length<LARGE_ARRAY_SIZE-1)return Me.push([Re,je]),this.size=++_e.size,this;_e=this.__data__=new MapCache$2(Me)}return _e.set(Re,je),this.size=_e.size,this}var _stackSet=stackSet$1,ListCache=_ListCache,stackClear=_stackClear,stackDelete=_stackDelete,stackGet=_stackGet,stackHas=_stackHas,stackSet=_stackSet;function Stack$3(Re){var je=this.__data__=new ListCache(Re);this.size=je.size}Stack$3.prototype.clear=stackClear;Stack$3.prototype.delete=stackDelete;Stack$3.prototype.get=stackGet;Stack$3.prototype.has=stackHas;Stack$3.prototype.set=stackSet;var _Stack=Stack$3,HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd$1(Re){return this.__data__.set(Re,HASH_UNDEFINED),this}var _setCacheAdd=setCacheAdd$1;function setCacheHas$1(Re){return this.__data__.has(Re)}var _setCacheHas=setCacheHas$1,MapCache$1=_MapCache,setCacheAdd=_setCacheAdd,setCacheHas=_setCacheHas;function SetCache$1(Re){var je=-1,_e=Re==null?0:Re.length;for(this.__data__=new MapCache$1;++je<_e;)this.add(Re[je])}SetCache$1.prototype.add=SetCache$1.prototype.push=setCacheAdd;SetCache$1.prototype.has=setCacheHas;var _SetCache=SetCache$1;function arraySome$1(Re,je){for(var _e=-1,Me=Re==null?0:Re.length;++_e<Me;)if(je(Re[_e],_e,Re))return!0;return!1}var _arraySome=arraySome$1;function cacheHas$1(Re,je){return Re.has(je)}var _cacheHas=cacheHas$1,SetCache=_SetCache,arraySome=_arraySome,cacheHas=_cacheHas,COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function equalArrays$2(Re,je,_e,Me,$e,ke){var Ce=_e&COMPARE_PARTIAL_FLAG$5,Be=Re.length,qe=je.length;if(Be!=qe&&!(Ce&&qe>Be))return!1;var He=ke.get(Re),We=ke.get(je);if(He&&We)return He==je&&We==Re;var Ke=-1,Je=!0,Qe=_e&COMPARE_UNORDERED_FLAG$3?new SetCache:void 0;for(ke.set(Re,je),ke.set(je,Re);++Ke<Be;){var rr=Re[Ke],tr=je[Ke];if(Me)var cr=Ce?Me(tr,rr,Ke,je,Re,ke):Me(rr,tr,Ke,Re,je,ke);if(cr!==void 0){if(cr)continue;Je=!1;break}if(Qe){if(!arraySome(je,function(or,ar){if(!cacheHas(Qe,ar)&&(rr===or||$e(rr,or,_e,Me,ke)))return Qe.push(ar)})){Je=!1;break}}else if(!(rr===tr||$e(rr,tr,_e,Me,ke))){Je=!1;break}}return ke.delete(Re),ke.delete(je),Je}var _equalArrays=equalArrays$2,root$4=_root,Uint8Array$3=root$4.Uint8Array,_Uint8Array=Uint8Array$3;function mapToArray$1(Re){var je=-1,_e=Array(Re.size);return Re.forEach(function(Me,$e){_e[++je]=[$e,Me]}),_e}var _mapToArray=mapToArray$1;function setToArray$1(Re){var je=-1,_e=Array(Re.size);return Re.forEach(function(Me){_e[++je]=Me}),_e}var _setToArray=setToArray$1,Symbol$4=_Symbol,Uint8Array$2=_Uint8Array,eq$2=eq_1,equalArrays$1=_equalArrays,mapToArray=_mapToArray,setToArray=_setToArray,COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2,boolTag$3="[object Boolean]",dateTag$3="[object Date]",errorTag$2="[object Error]",mapTag$5="[object Map]",numberTag$3="[object Number]",regexpTag$3="[object RegExp]",setTag$5="[object Set]",stringTag$3="[object String]",symbolTag$2="[object Symbol]",arrayBufferTag$3="[object ArrayBuffer]",dataViewTag$4="[object DataView]",symbolProto$2=Symbol$4?Symbol$4.prototype:void 0,symbolValueOf$1=symbolProto$2?symbolProto$2.valueOf:void 0;function equalByTag$1(Re,je,_e,Me,$e,ke,Ce){switch(_e){case dataViewTag$4:if(Re.byteLength!=je.byteLength||Re.byteOffset!=je.byteOffset)return!1;Re=Re.buffer,je=je.buffer;case arrayBufferTag$3:return!(Re.byteLength!=je.byteLength||!ke(new Uint8Array$2(Re),new Uint8Array$2(je)));case boolTag$3:case dateTag$3:case numberTag$3:return eq$2(+Re,+je);case errorTag$2:return Re.name==je.name&&Re.message==je.message;case regexpTag$3:case stringTag$3:return Re==je+"";case mapTag$5:var Be=mapToArray;case setTag$5:var qe=Me&COMPARE_PARTIAL_FLAG$4;if(Be||(Be=setToArray),Re.size!=je.size&&!qe)return!1;var He=Ce.get(Re);if(He)return He==je;Me|=COMPARE_UNORDERED_FLAG$2,Ce.set(Re,je);var We=equalArrays$1(Be(Re),Be(je),Me,$e,ke,Ce);return Ce.delete(Re),We;case symbolTag$2:if(symbolValueOf$1)return symbolValueOf$1.call(Re)==symbolValueOf$1.call(je)}return!1}var _equalByTag=equalByTag$1;function arrayPush$3(Re,je){for(var _e=-1,Me=je.length,$e=Re.length;++_e<Me;)Re[$e+_e]=je[_e];return Re}var _arrayPush=arrayPush$3,isArray$c=Array.isArray,isArray_1=isArray$c,arrayPush$2=_arrayPush,isArray$b=isArray_1;function baseGetAllKeys$2(Re,je,_e){var Me=je(Re);return isArray$b(Re)?Me:arrayPush$2(Me,_e(Re))}var _baseGetAllKeys=baseGetAllKeys$2;function arrayFilter$1(Re,je){for(var _e=-1,Me=Re==null?0:Re.length,$e=0,ke=[];++_e<Me;){var Ce=Re[_e];je(Ce,_e,Re)&&(ke[$e++]=Ce)}return ke}var _arrayFilter=arrayFilter$1;function stubArray$2(){return[]}var stubArray_1=stubArray$2,arrayFilter=_arrayFilter,stubArray$1=stubArray_1,objectProto$b=Object.prototype,propertyIsEnumerable$1=objectProto$b.propertyIsEnumerable,nativeGetSymbols$1=Object.getOwnPropertySymbols,getSymbols$3=nativeGetSymbols$1?function(Re){return Re==null?[]:(Re=Object(Re),arrayFilter(nativeGetSymbols$1(Re),function(je){return propertyIsEnumerable$1.call(Re,je)}))}:stubArray$1,_getSymbols=getSymbols$3;function baseTimes$1(Re,je){for(var _e=-1,Me=Array(Re);++_e<Re;)Me[_e]=je(_e);return Me}var _baseTimes=baseTimes$1,baseGetTag$3=_baseGetTag,isObjectLike$6=isObjectLike_1,argsTag$3="[object Arguments]";function baseIsArguments$1(Re){return isObjectLike$6(Re)&&baseGetTag$3(Re)==argsTag$3}var _baseIsArguments=baseIsArguments$1,baseIsArguments=_baseIsArguments,isObjectLike$5=isObjectLike_1,objectProto$a=Object.prototype,hasOwnProperty$9=objectProto$a.hasOwnProperty,propertyIsEnumerable=objectProto$a.propertyIsEnumerable,isArguments$3=baseIsArguments(function(){return arguments}())?baseIsArguments:function(Re){return isObjectLike$5(Re)&&hasOwnProperty$9.call(Re,"callee")&&!propertyIsEnumerable.call(Re,"callee")},isArguments_1=isArguments$3,isBuffer$4={exports:{}};function stubFalse(){return!1}var stubFalse_1=stubFalse;isBuffer$4.exports;(function(Re,je){var _e=_root,Me=stubFalse_1,$e=je&&!je.nodeType&&je,ke=$e&&!0&&Re&&!Re.nodeType&&Re,Ce=ke&&ke.exports===$e,Be=Ce?_e.Buffer:void 0,qe=Be?Be.isBuffer:void 0,He=qe||Me;Re.exports=He})(isBuffer$4,isBuffer$4.exports);var isBufferExports=isBuffer$4.exports,baseGetTag$2=_baseGetTag,isLength$1=isLength_1,isObjectLike$4=isObjectLike_1,argsTag$2="[object Arguments]",arrayTag$2="[object Array]",boolTag$2="[object Boolean]",dateTag$2="[object Date]",errorTag$1="[object Error]",funcTag$1="[object Function]",mapTag$4="[object Map]",numberTag$2="[object Number]",objectTag$4="[object Object]",regexpTag$2="[object RegExp]",setTag$4="[object Set]",stringTag$2="[object String]",weakMapTag$2="[object WeakMap]",arrayBufferTag$2="[object ArrayBuffer]",dataViewTag$3="[object DataView]",float32Tag$2="[object Float32Array]",float64Tag$2="[object Float64Array]",int8Tag$2="[object Int8Array]",int16Tag$2="[object Int16Array]",int32Tag$2="[object Int32Array]",uint8Tag$2="[object Uint8Array]",uint8ClampedTag$2="[object Uint8ClampedArray]",uint16Tag$2="[object Uint16Array]",uint32Tag$2="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag$2]=typedArrayTags[float64Tag$2]=typedArrayTags[int8Tag$2]=typedArrayTags[int16Tag$2]=typedArrayTags[int32Tag$2]=typedArrayTags[uint8Tag$2]=typedArrayTags[uint8ClampedTag$2]=typedArrayTags[uint16Tag$2]=typedArrayTags[uint32Tag$2]=!0;typedArrayTags[argsTag$2]=typedArrayTags[arrayTag$2]=typedArrayTags[arrayBufferTag$2]=typedArrayTags[boolTag$2]=typedArrayTags[dataViewTag$3]=typedArrayTags[dateTag$2]=typedArrayTags[errorTag$1]=typedArrayTags[funcTag$1]=typedArrayTags[mapTag$4]=typedArrayTags[numberTag$2]=typedArrayTags[objectTag$4]=typedArrayTags[regexpTag$2]=typedArrayTags[setTag$4]=typedArrayTags[stringTag$2]=typedArrayTags[weakMapTag$2]=!1;function baseIsTypedArray$1(Re){return isObjectLike$4(Re)&&isLength$1(Re.length)&&!!typedArrayTags[baseGetTag$2(Re)]}var _baseIsTypedArray=baseIsTypedArray$1;function baseUnary$4(Re){return function(je){return Re(je)}}var _baseUnary=baseUnary$4,_nodeUtil={exports:{}};_nodeUtil.exports;(function(Re,je){var _e=_freeGlobal,Me=je&&!je.nodeType&&je,$e=Me&&!0&&Re&&!Re.nodeType&&Re,ke=$e&&$e.exports===Me,Ce=ke&&_e.process,Be=function(){try{var qe=$e&&$e.require&&$e.require("util").types;return qe||Ce&&Ce.binding&&Ce.binding("util")}catch{}}();Re.exports=Be})(_nodeUtil,_nodeUtil.exports);var _nodeUtilExports=_nodeUtil.exports,baseIsTypedArray=_baseIsTypedArray,baseUnary$3=_baseUnary,nodeUtil$2=_nodeUtilExports,nodeIsTypedArray=nodeUtil$2&&nodeUtil$2.isTypedArray,isTypedArray$3=nodeIsTypedArray?baseUnary$3(nodeIsTypedArray):baseIsTypedArray,isTypedArray_1=isTypedArray$3,baseTimes=_baseTimes,isArguments$2=isArguments_1,isArray$a=isArray_1,isBuffer$3=isBufferExports,isIndex$1=_isIndex,isTypedArray$2=isTypedArray_1,objectProto$9=Object.prototype,hasOwnProperty$8=objectProto$9.hasOwnProperty;function arrayLikeKeys$2(Re,je){var _e=isArray$a(Re),Me=!_e&&isArguments$2(Re),$e=!_e&&!Me&&isBuffer$3(Re),ke=!_e&&!Me&&!$e&&isTypedArray$2(Re),Ce=_e||Me||$e||ke,Be=Ce?baseTimes(Re.length,String):[],qe=Be.length;for(var He in Re)(je||hasOwnProperty$8.call(Re,He))&&!(Ce&&(He=="length"||$e&&(He=="offset"||He=="parent")||ke&&(He=="buffer"||He=="byteLength"||He=="byteOffset")||isIndex$1(He,qe)))&&Be.push(He);return Be}var _arrayLikeKeys=arrayLikeKeys$2,objectProto$8=Object.prototype;function isPrototype$3(Re){var je=Re&&Re.constructor,_e=typeof je=="function"&&je.prototype||objectProto$8;return Re===_e}var _isPrototype=isPrototype$3;function overArg$2(Re,je){return function(_e){return Re(je(_e))}}var _overArg=overArg$2,overArg$1=_overArg,nativeKeys$1=overArg$1(Object.keys,Object),_nativeKeys=nativeKeys$1,isPrototype$2=_isPrototype,nativeKeys=_nativeKeys,objectProto$7=Object.prototype,hasOwnProperty$7=objectProto$7.hasOwnProperty;function baseKeys$1(Re){if(!isPrototype$2(Re))return nativeKeys(Re);var je=[];for(var _e in Object(Re))hasOwnProperty$7.call(Re,_e)&&_e!="constructor"&&je.push(_e);return je}var _baseKeys=baseKeys$1,arrayLikeKeys$1=_arrayLikeKeys,baseKeys=_baseKeys,isArrayLike$3=isArrayLike_1;function keys$5(Re){return isArrayLike$3(Re)?arrayLikeKeys$1(Re):baseKeys(Re)}var keys_1=keys$5,baseGetAllKeys$1=_baseGetAllKeys,getSymbols$2=_getSymbols,keys$4=keys_1;function getAllKeys$2(Re){return baseGetAllKeys$1(Re,keys$4,getSymbols$2)}var _getAllKeys=getAllKeys$2,getAllKeys$1=_getAllKeys,COMPARE_PARTIAL_FLAG$3=1,objectProto$6=Object.prototype,hasOwnProperty$6=objectProto$6.hasOwnProperty;function equalObjects$1(Re,je,_e,Me,$e,ke){var Ce=_e&COMPARE_PARTIAL_FLAG$3,Be=getAllKeys$1(Re),qe=Be.length,He=getAllKeys$1(je),We=He.length;if(qe!=We&&!Ce)return!1;for(var Ke=qe;Ke--;){var Je=Be[Ke];if(!(Ce?Je in je:hasOwnProperty$6.call(je,Je)))return!1}var Qe=ke.get(Re),rr=ke.get(je);if(Qe&&rr)return Qe==je&&rr==Re;var tr=!0;ke.set(Re,je),ke.set(je,Re);for(var cr=Ce;++Ke<qe;){Je=Be[Ke];var or=Re[Je],ar=je[Je];if(Me)var pr=Ce?Me(ar,or,Je,je,Re,ke):Me(or,ar,Je,Re,je,ke);if(!(pr===void 0?or===ar||$e(or,ar,_e,Me,ke):pr)){tr=!1;break}cr||(cr=Je=="constructor")}if(tr&&!cr){var ur=Re.constructor,gr=je.constructor;ur!=gr&&"constructor"in Re&&"constructor"in je&&!(typeof ur=="function"&&ur instanceof ur&&typeof gr=="function"&&gr instanceof gr)&&(tr=!1)}return ke.delete(Re),ke.delete(je),tr}var _equalObjects=equalObjects$1,getNative$4=_getNative,root$3=_root,DataView$2=getNative$4(root$3,"DataView"),_DataView=DataView$2,getNative$3=_getNative,root$2=_root,Promise$2=getNative$3(root$2,"Promise"),_Promise=Promise$2,getNative$2=_getNative,root$1=_root,Set$2=getNative$2(root$1,"Set"),_Set=Set$2,getNative$1=_getNative,root=_root,WeakMap$2=getNative$1(root,"WeakMap"),_WeakMap=WeakMap$2,DataView$1=_DataView,Map$1=_Map,Promise$1=_Promise,Set$1=_Set,WeakMap$1=_WeakMap,baseGetTag$1=_baseGetTag,toSource=_toSource,mapTag$3="[object Map]",objectTag$3="[object Object]",promiseTag="[object Promise]",setTag$3="[object Set]",weakMapTag$1="[object WeakMap]",dataViewTag$2="[object DataView]",dataViewCtorString=toSource(DataView$1),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$1),weakMapCtorString=toSource(WeakMap$1),getTag$4=baseGetTag$1;(DataView$1&&getTag$4(new DataView$1(new ArrayBuffer(1)))!=dataViewTag$2||Map$1&&getTag$4(new Map$1)!=mapTag$3||Promise$1&&getTag$4(Promise$1.resolve())!=promiseTag||Set$1&&getTag$4(new Set$1)!=setTag$3||WeakMap$1&&getTag$4(new WeakMap$1)!=weakMapTag$1)&&(getTag$4=function(Re){var je=baseGetTag$1(Re),_e=je==objectTag$3?Re.constructor:void 0,Me=_e?toSource(_e):"";if(Me)switch(Me){case dataViewCtorString:return dataViewTag$2;case mapCtorString:return mapTag$3;case promiseCtorString:return promiseTag;case setCtorString:return setTag$3;case weakMapCtorString:return weakMapTag$1}return je});var _getTag=getTag$4,Stack$2=_Stack,equalArrays=_equalArrays,equalByTag=_equalByTag,equalObjects=_equalObjects,getTag$3=_getTag,isArray$9=isArray_1,isBuffer$2=isBufferExports,isTypedArray$1=isTypedArray_1,COMPARE_PARTIAL_FLAG$2=1,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",objectTag$2="[object Object]",objectProto$5=Object.prototype,hasOwnProperty$5=objectProto$5.hasOwnProperty;function baseIsEqualDeep$1(Re,je,_e,Me,$e,ke){var Ce=isArray$9(Re),Be=isArray$9(je),qe=Ce?arrayTag$1:getTag$3(Re),He=Be?arrayTag$1:getTag$3(je);qe=qe==argsTag$1?objectTag$2:qe,He=He==argsTag$1?objectTag$2:He;var We=qe==objectTag$2,Ke=He==objectTag$2,Je=qe==He;if(Je&&isBuffer$2(Re)){if(!isBuffer$2(je))return!1;Ce=!0,We=!1}if(Je&&!We)return ke||(ke=new Stack$2),Ce||isTypedArray$1(Re)?equalArrays(Re,je,_e,Me,$e,ke):equalByTag(Re,je,qe,_e,Me,$e,ke);if(!(_e&COMPARE_PARTIAL_FLAG$2)){var Qe=We&&hasOwnProperty$5.call(Re,"__wrapped__"),rr=Ke&&hasOwnProperty$5.call(je,"__wrapped__");if(Qe||rr){var tr=Qe?Re.value():Re,cr=rr?je.value():je;return ke||(ke=new Stack$2),$e(tr,cr,_e,Me,ke)}}return Je?(ke||(ke=new Stack$2),equalObjects(Re,je,_e,Me,$e,ke)):!1}var _baseIsEqualDeep=baseIsEqualDeep$1,baseIsEqualDeep=_baseIsEqualDeep,isObjectLike$3=isObjectLike_1;function baseIsEqual$3(Re,je,_e,Me,$e){return Re===je?!0:Re==null||je==null||!isObjectLike$3(Re)&&!isObjectLike$3(je)?Re!==Re&&je!==je:baseIsEqualDeep(Re,je,_e,Me,baseIsEqual$3,$e)}var _baseIsEqual=baseIsEqual$3,baseIsEqual$2=_baseIsEqual;function isEqual$3(Re,je){return baseIsEqual$2(Re,je)}var isEqual_1=isEqual$3;const isEqual$1$1=getDefaultExportFromCjs(isEqual_1);function height(Re,je){var _e=isWindow(Re);return _e?_e.innerHeight:offset$2(Re).height}function closest(Re,je,_e){Re.closest&&!_e&&Re.closest(je);var Me=Re;do{if(matches(Me,je))return Me;Me=Me.parentElement}while(Me&&Me!==_e&&Me.nodeType===document.ELEMENT_NODE);return null}function baseFindIndex$1(Re,je,_e,Me){for(var $e=Re.length,ke=_e+(Me?1:-1);Me?ke--:++ke<$e;)if(je(Re[ke],ke,Re))return ke;return-1}var _baseFindIndex=baseFindIndex$1,Stack$1=_Stack,baseIsEqual$1=_baseIsEqual,COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2;function baseIsMatch$1(Re,je,_e,Me){var $e=_e.length,ke=$e,Ce=!Me;if(Re==null)return!ke;for(Re=Object(Re);$e--;){var Be=_e[$e];if(Ce&&Be[2]?Be[1]!==Re[Be[0]]:!(Be[0]in Re))return!1}for(;++$e<ke;){Be=_e[$e];var qe=Be[0],He=Re[qe],We=Be[1];if(Ce&&Be[2]){if(He===void 0&&!(qe in Re))return!1}else{var Ke=new Stack$1;if(Me)var Je=Me(He,We,qe,Re,je,Ke);if(!(Je===void 0?baseIsEqual$1(We,He,COMPARE_PARTIAL_FLAG$1|COMPARE_UNORDERED_FLAG$1,Me,Ke):Je))return!1}}return!0}var _baseIsMatch=baseIsMatch$1,isObject$4=isObject_1;function isStrictComparable$2(Re){return Re===Re&&!isObject$4(Re)}var _isStrictComparable=isStrictComparable$2,isStrictComparable$1=_isStrictComparable,keys$3=keys_1;function getMatchData$1(Re){for(var je=keys$3(Re),_e=je.length;_e--;){var Me=je[_e],$e=Re[Me];je[_e]=[Me,$e,isStrictComparable$1($e)]}return je}var _getMatchData=getMatchData$1;function matchesStrictComparable$2(Re,je){return function(_e){return _e==null?!1:_e[Re]===je&&(je!==void 0||Re in Object(_e))}}var _matchesStrictComparable=matchesStrictComparable$2,baseIsMatch=_baseIsMatch,getMatchData=_getMatchData,matchesStrictComparable$1=_matchesStrictComparable;function baseMatches$1(Re){var je=getMatchData(Re);return je.length==1&&je[0][2]?matchesStrictComparable$1(je[0][0],je[0][1]):function(_e){return _e===Re||baseIsMatch(_e,Re,je)}}var _baseMatches=baseMatches$1,isArray$8=isArray_1,isSymbol$3=isSymbol_1,reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey$3(Re,je){if(isArray$8(Re))return!1;var _e=typeof Re;return _e=="number"||_e=="symbol"||_e=="boolean"||Re==null||isSymbol$3(Re)?!0:reIsPlainProp.test(Re)||!reIsDeepProp.test(Re)||je!=null&&Re in Object(je)}var _isKey=isKey$3,MapCache=_MapCache,FUNC_ERROR_TEXT="Expected a function";function memoize$1(Re,je){if(typeof Re!="function"||je!=null&&typeof je!="function")throw new TypeError(FUNC_ERROR_TEXT);var _e=function(){var Me=arguments,$e=je?je.apply(this,Me):Me[0],ke=_e.cache;if(ke.has($e))return ke.get($e);var Ce=Re.apply(this,Me);return _e.cache=ke.set($e,Ce)||ke,Ce};return _e.cache=new(memoize$1.Cache||MapCache),_e}memoize$1.Cache=MapCache;var memoize_1=memoize$1,memoize=memoize_1,MAX_MEMOIZE_SIZE=500;function memoizeCapped$1(Re){var je=memoize(Re,function(Me){return _e.size===MAX_MEMOIZE_SIZE&&_e.clear(),Me}),_e=je.cache;return je}var _memoizeCapped=memoizeCapped$1,memoizeCapped=_memoizeCapped,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath$1=memoizeCapped(function(Re){var je=[];return Re.charCodeAt(0)===46&&je.push(""),Re.replace(rePropName,function(_e,Me,$e,ke){je.push($e?ke.replace(reEscapeChar,"$1"):Me||_e)}),je}),_stringToPath=stringToPath$1;function arrayMap$3(Re,je){for(var _e=-1,Me=Re==null?0:Re.length,$e=Array(Me);++_e<Me;)$e[_e]=je(Re[_e],_e,Re);return $e}var _arrayMap=arrayMap$3,Symbol$3=_Symbol,arrayMap$2=_arrayMap,isArray$7=isArray_1,isSymbol$2=isSymbol_1,INFINITY$1=1/0,symbolProto$1=Symbol$3?Symbol$3.prototype:void 0,symbolToString=symbolProto$1?symbolProto$1.toString:void 0;function baseToString$1(Re){if(typeof Re=="string")return Re;if(isArray$7(Re))return arrayMap$2(Re,baseToString$1)+"";if(isSymbol$2(Re))return symbolToString?symbolToString.call(Re):"";var je=Re+"";return je=="0"&&1/Re==-INFINITY$1?"-0":je}var _baseToString=baseToString$1,baseToString=_baseToString;function toString$1(Re){return Re==null?"":baseToString(Re)}var toString_1=toString$1,isArray$6=isArray_1,isKey$2=_isKey,stringToPath=_stringToPath,toString=toString_1;function castPath$4(Re,je){return isArray$6(Re)?Re:isKey$2(Re,je)?[Re]:stringToPath(toString(Re))}var _castPath=castPath$4,isSymbol$1=isSymbol_1,INFINITY=1/0;function toKey$5(Re){if(typeof Re=="string"||isSymbol$1(Re))return Re;var je=Re+"";return je=="0"&&1/Re==-INFINITY?"-0":je}var _toKey=toKey$5,castPath$3=_castPath,toKey$4=_toKey;function baseGet$4(Re,je){je=castPath$3(je,Re);for(var _e=0,Me=je.length;Re!=null&&_e<Me;)Re=Re[toKey$4(je[_e++])];return _e&&_e==Me?Re:void 0}var _baseGet=baseGet$4,baseGet$3=_baseGet;function get$1(Re,je,_e){var Me=Re==null?void 0:baseGet$3(Re,je);return Me===void 0?_e:Me}var get_1=get$1;function baseHasIn$1(Re,je){return Re!=null&&je in Object(Re)}var _baseHasIn=baseHasIn$1,castPath$2=_castPath,isArguments$1=isArguments_1,isArray$5=isArray_1,isIndex=_isIndex,isLength=isLength_1,toKey$3=_toKey;function hasPath$1(Re,je,_e){je=castPath$2(je,Re);for(var Me=-1,$e=je.length,ke=!1;++Me<$e;){var Ce=toKey$3(je[Me]);if(!(ke=Re!=null&&_e(Re,Ce)))break;Re=Re[Ce]}return ke||++Me!=$e?ke:($e=Re==null?0:Re.length,!!$e&&isLength($e)&&isIndex(Ce,$e)&&(isArray$5(Re)||isArguments$1(Re)))}var _hasPath=hasPath$1,baseHasIn=_baseHasIn,hasPath=_hasPath;function hasIn$1(Re,je){return Re!=null&&hasPath(Re,je,baseHasIn)}var hasIn_1=hasIn$1,baseIsEqual=_baseIsEqual,get=get_1,hasIn=hasIn_1,isKey$1=_isKey,isStrictComparable=_isStrictComparable,matchesStrictComparable=_matchesStrictComparable,toKey$2=_toKey,COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseMatchesProperty$1(Re,je){return isKey$1(Re)&&isStrictComparable(je)?matchesStrictComparable(toKey$2(Re),je):function(_e){var Me=get(_e,Re);return Me===void 0&&Me===je?hasIn(_e,Re):baseIsEqual(je,Me,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}var _baseMatchesProperty=baseMatchesProperty$1;function identity$4(Re){return Re}var identity_1=identity$4;function baseProperty$1(Re){return function(je){return je?.[Re]}}var _baseProperty=baseProperty$1,baseGet$2=_baseGet;function basePropertyDeep$1(Re){return function(je){return baseGet$2(je,Re)}}var _basePropertyDeep=basePropertyDeep$1,baseProperty=_baseProperty,basePropertyDeep=_basePropertyDeep,isKey=_isKey,toKey$1=_toKey;function property$1(Re){return isKey(Re)?baseProperty(toKey$1(Re)):basePropertyDeep(Re)}var property_1=property$1,baseMatches=_baseMatches,baseMatchesProperty=_baseMatchesProperty,identity$3=identity_1,isArray$4=isArray_1,property=property_1;function baseIteratee$4(Re){return typeof Re=="function"?Re:Re==null?identity$3:typeof Re=="object"?isArray$4(Re)?baseMatchesProperty(Re[0],Re[1]):baseMatches(Re):property(Re)}var _baseIteratee=baseIteratee$4,baseFindIndex=_baseFindIndex,baseIteratee$3=_baseIteratee,toInteger=toInteger_1,nativeMax$2=Math.max;function findIndex(Re,je,_e){var Me=Re==null?0:Re.length;if(!Me)return-1;var $e=_e==null?0:toInteger(_e);return $e<0&&($e=nativeMax$2(Me+$e,0)),baseFindIndex(Re,baseIteratee$3(je),$e)}var findIndex_1=findIndex;const findIndex$1=getDefaultExportFromCjs(findIndex_1);var nativeCeil=Math.ceil,nativeMax$1=Math.max;function baseRange$1(Re,je,_e,Me){for(var $e=-1,ke=nativeMax$1(nativeCeil((je-Re)/(_e||1)),0),Ce=Array(ke);ke--;)Ce[Me?ke:++$e]=Re,Re+=_e;return Ce}var _baseRange=baseRange$1,baseRange=_baseRange,isIterateeCall$2=_isIterateeCall,toFinite=toFinite_1;function createRange$1(Re){return function(je,_e,Me){return Me&&typeof Me!="number"&&isIterateeCall$2(je,_e,Me)&&(_e=Me=void 0),je=toFinite(je),_e===void 0?(_e=je,je=0):_e=toFinite(_e),Me=Me===void 0?je<_e?1:-1:toFinite(Me),baseRange(je,_e,Me,Re)}}var _createRange=createRange$1,createRange=_createRange,range$1=createRange(),range_1=range$1;const range$1$1=getDefaultExportFromCjs(range_1);var safeIsNaN=Number.isNaN||function Re(je){return typeof je=="number"&&je!==je};function isEqual$2(Re,je){return!!(Re===je||safeIsNaN(Re)&&safeIsNaN(je))}function areInputsEqual(Re,je){if(Re.length!==je.length)return!1;for(var _e=0;_e<Re.length;_e++)if(!isEqual$2(Re[_e],je[_e]))return!1;return!0}function memoizeOne(Re,je){je===void 0&&(je=areInputsEqual);var _e=null;function Me(){for(var $e=[],ke=0;ke<arguments.length;ke++)$e[ke]=arguments[ke];if(_e&&_e.lastThis===this&&je($e,_e.lastArgs))return _e.lastResult;var Ce=Re.apply(this,$e);return _e={lastResult:Ce,lastArgs:$e,lastThis:this},Ce}return Me.clear=function(){_e=null},Me}function getWidth(Re,je){var _e=isWindow(Re);return _e?_e.innerWidth:offset$2(Re).width}var Symbol$2=_Symbol,isArguments=isArguments_1,isArray$3=isArray_1,spreadableSymbol=Symbol$2?Symbol$2.isConcatSpreadable:void 0;function isFlattenable$1(Re){return isArray$3(Re)||isArguments(Re)||!!(spreadableSymbol&&Re&&Re[spreadableSymbol])}var _isFlattenable=isFlattenable$1,arrayPush$1=_arrayPush,isFlattenable=_isFlattenable;function baseFlatten$2(Re,je,_e,Me,$e){var ke=-1,Ce=Re.length;for(_e||(_e=isFlattenable),$e||($e=[]);++ke<Ce;){var Be=Re[ke];je>0&&_e(Be)?je>1?baseFlatten$2(Be,je-1,_e,Me,$e):arrayPush$1($e,Be):Me||($e[$e.length]=Be)}return $e}var _baseFlatten=baseFlatten$2;function createBaseFor$1(Re){return function(je,_e,Me){for(var $e=-1,ke=Object(je),Ce=Me(je),Be=Ce.length;Be--;){var qe=Ce[Re?Be:++$e];if(_e(ke[qe],qe,ke)===!1)break}return je}}var _createBaseFor=createBaseFor$1,createBaseFor=_createBaseFor,baseFor$1=createBaseFor(),_baseFor=baseFor$1,baseFor=_baseFor,keys$2=keys_1;function baseForOwn$3(Re,je){return Re&&baseFor(Re,je,keys$2)}var _baseForOwn=baseForOwn$3,isArrayLike$2=isArrayLike_1;function createBaseEach$1(Re,je){return function(_e,Me){if(_e==null)return _e;if(!isArrayLike$2(_e))return Re(_e,Me);for(var $e=_e.length,ke=je?$e:-1,Ce=Object(_e);(je?ke--:++ke<$e)&&Me(Ce[ke],ke,Ce)!==!1;);return _e}}var _createBaseEach=createBaseEach$1,baseForOwn$2=_baseForOwn,createBaseEach=_createBaseEach,baseEach$1=createBaseEach(baseForOwn$2),_baseEach=baseEach$1,baseEach=_baseEach,isArrayLike$1=isArrayLike_1;function baseMap$1(Re,je){var _e=-1,Me=isArrayLike$1(Re)?Array(Re.length):[];return baseEach(Re,function($e,ke,Ce){Me[++_e]=je($e,ke,Ce)}),Me}var _baseMap=baseMap$1;function baseSortBy$1(Re,je){var _e=Re.length;for(Re.sort(je);_e--;)Re[_e]=Re[_e].value;return Re}var _baseSortBy=baseSortBy$1,isSymbol=isSymbol_1;function compareAscending$1(Re,je){if(Re!==je){var _e=Re!==void 0,Me=Re===null,$e=Re===Re,ke=isSymbol(Re),Ce=je!==void 0,Be=je===null,qe=je===je,He=isSymbol(je);if(!Be&&!He&&!ke&&Re>je||ke&&Ce&&qe&&!Be&&!He||Me&&Ce&&qe||!_e&&qe||!$e)return 1;if(!Me&&!ke&&!He&&Re<je||He&&_e&&$e&&!Me&&!ke||Be&&_e&&$e||!Ce&&$e||!qe)return-1}return 0}var _compareAscending=compareAscending$1,compareAscending=_compareAscending;function compareMultiple$1(Re,je,_e){for(var Me=-1,$e=Re.criteria,ke=je.criteria,Ce=$e.length,Be=_e.length;++Me<Ce;){var qe=compareAscending($e[Me],ke[Me]);if(qe){if(Me>=Be)return qe;var He=_e[Me];return qe*(He=="desc"?-1:1)}}return Re.index-je.index}var _compareMultiple=compareMultiple$1,arrayMap$1=_arrayMap,baseGet$1=_baseGet,baseIteratee$2=_baseIteratee,baseMap=_baseMap,baseSortBy=_baseSortBy,baseUnary$2=_baseUnary,compareMultiple=_compareMultiple,identity$2=identity_1,isArray$2=isArray_1;function baseOrderBy$1(Re,je,_e){je.length?je=arrayMap$1(je,function(ke){return isArray$2(ke)?function(Ce){return baseGet$1(Ce,ke.length===1?ke[0]:ke)}:ke}):je=[identity$2];var Me=-1;je=arrayMap$1(je,baseUnary$2(baseIteratee$2));var $e=baseMap(Re,function(ke,Ce,Be){var qe=arrayMap$1(je,function(He){return He(ke)});return{criteria:qe,index:++Me,value:ke}});return baseSortBy($e,function(ke,Ce){return compareMultiple(ke,Ce,_e)})}var _baseOrderBy=baseOrderBy$1;function apply$1(Re,je,_e){switch(_e.length){case 0:return Re.call(je);case 1:return Re.call(je,_e[0]);case 2:return Re.call(je,_e[0],_e[1]);case 3:return Re.call(je,_e[0],_e[1],_e[2])}return Re.apply(je,_e)}var _apply=apply$1,apply=_apply,nativeMax=Math.max;function overRest$2(Re,je,_e){return je=nativeMax(je===void 0?Re.length-1:je,0),function(){for(var Me=arguments,$e=-1,ke=nativeMax(Me.length-je,0),Ce=Array(ke);++$e<ke;)Ce[$e]=Me[je+$e];$e=-1;for(var Be=Array(je+1);++$e<je;)Be[$e]=Me[$e];return Be[je]=_e(Ce),apply(Re,this,Be)}}var _overRest=overRest$2;function constant$1(Re){return function(){return Re}}var constant_1=constant$1,getNative=_getNative,defineProperty$2=function(){try{var Re=getNative(Object,"defineProperty");return Re({},"",{}),Re}catch{}}(),_defineProperty$1=defineProperty$2,constant=constant_1,defineProperty$1=_defineProperty$1,identity$1=identity_1,baseSetToString$1=defineProperty$1?function(Re,je){return defineProperty$1(Re,"toString",{configurable:!0,enumerable:!1,value:constant(je),writable:!0})}:identity$1,_baseSetToString=baseSetToString$1,HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut$1(Re){var je=0,_e=0;return function(){var Me=nativeNow(),$e=HOT_SPAN-(Me-_e);if(_e=Me,$e>0){if(++je>=HOT_COUNT)return arguments[0]}else je=0;return Re.apply(void 0,arguments)}}var _shortOut=shortOut$1,baseSetToString=_baseSetToString,shortOut=_shortOut,setToString$2=shortOut(baseSetToString),_setToString=setToString$2,identity=identity_1,overRest$1=_overRest,setToString$1=_setToString;function baseRest$2(Re,je){return setToString$1(overRest$1(Re,je,identity),Re+"")}var _baseRest=baseRest$2,baseFlatten$1=_baseFlatten,baseOrderBy=_baseOrderBy,baseRest$1=_baseRest,isIterateeCall$1=_isIterateeCall,sortBy=baseRest$1(function(Re,je){if(Re==null)return[];var _e=je.length;return _e>1&&isIterateeCall$1(Re,je[0],je[1])?je=[]:_e>2&&isIterateeCall$1(je[0],je[1],je[2])&&(je=[je[0]]),baseOrderBy(Re,baseFlatten$1(je,1),[])}),sortBy_1=sortBy;const sortBy$1=getDefaultExportFromCjs(sortBy_1);function _toArray(Re){return _arrayWithHoles$1(Re)||_iterableToArray(Re)||_unsupportedIterableToArray$1(Re)||_nonIterableRest$1()}function nativeKeysIn$1(Re){var je=[];if(Re!=null)for(var _e in Object(Re))je.push(_e);return je}var _nativeKeysIn=nativeKeysIn$1,isObject$3=isObject_1,isPrototype$1=_isPrototype,nativeKeysIn=_nativeKeysIn,objectProto$4=Object.prototype,hasOwnProperty$4=objectProto$4.hasOwnProperty;function baseKeysIn$1(Re){if(!isObject$3(Re))return nativeKeysIn(Re);var je=isPrototype$1(Re),_e=[];for(var Me in Re)Me=="constructor"&&(je||!hasOwnProperty$4.call(Re,Me))||_e.push(Me);return _e}var _baseKeysIn=baseKeysIn$1,arrayLikeKeys=_arrayLikeKeys,baseKeysIn=_baseKeysIn,isArrayLike=isArrayLike_1;function keysIn$4(Re){return isArrayLike(Re)?arrayLikeKeys(Re,!0):baseKeysIn(Re)}var keysIn_1=keysIn$4,baseRest=_baseRest,eq$1=eq_1,isIterateeCall=_isIterateeCall,keysIn$3=keysIn_1,objectProto$3=Object.prototype,hasOwnProperty$3=objectProto$3.hasOwnProperty,defaults=baseRest(function(Re,je){Re=Object(Re);var _e=-1,Me=je.length,$e=Me>2?je[2]:void 0;for($e&&isIterateeCall(je[0],je[1],$e)&&(Me=1);++_e<Me;)for(var ke=je[_e],Ce=keysIn$3(ke),Be=-1,qe=Ce.length;++Be<qe;){var He=Ce[Be],We=Re[He];(We===void 0||eq$1(We,objectProto$3[He])&&!hasOwnProperty$3.call(Re,He))&&(Re[He]=ke[He])}return Re}),defaults_1=defaults;const defaults$1=getDefaultExportFromCjs(defaults_1);var defineProperty=_defineProperty$1;function baseAssignValue$3(Re,je,_e){je=="__proto__"&&defineProperty?defineProperty(Re,je,{configurable:!0,enumerable:!0,value:_e,writable:!0}):Re[je]=_e}var _baseAssignValue=baseAssignValue$3,baseAssignValue$2=_baseAssignValue,baseForOwn$1=_baseForOwn,baseIteratee$1=_baseIteratee;function mapValues(Re,je){var _e={};return je=baseIteratee$1(je),baseForOwn$1(Re,function(Me,$e,ke){baseAssignValue$2(_e,$e,je(Me,$e,ke))}),_e}var mapValues_1=mapValues;const mapValues$1=getDefaultExportFromCjs(mapValues_1);function arrayEach$2(Re,je){for(var _e=-1,Me=Re==null?0:Re.length;++_e<Me&&je(Re[_e],_e,Re)!==!1;);return Re}var _arrayEach=arrayEach$2,baseAssignValue$1=_baseAssignValue,eq=eq_1,objectProto$2=Object.prototype,hasOwnProperty$2=objectProto$2.hasOwnProperty;function assignValue$2(Re,je,_e){var Me=Re[je];(!(hasOwnProperty$2.call(Re,je)&&eq(Me,_e))||_e===void 0&&!(je in Re))&&baseAssignValue$1(Re,je,_e)}var _assignValue=assignValue$2,assignValue$1=_assignValue,baseAssignValue=_baseAssignValue;function copyObject$5(Re,je,_e,Me){var $e=!_e;_e||(_e={});for(var ke=-1,Ce=je.length;++ke<Ce;){var Be=je[ke],qe=Me?Me(_e[Be],Re[Be],Be,_e,Re):void 0;qe===void 0&&(qe=Re[Be]),$e?baseAssignValue(_e,Be,qe):assignValue$1(_e,Be,qe)}return _e}var _copyObject=copyObject$5,copyObject$4=_copyObject,keys$1=keys_1;function baseAssign$1(Re,je){return Re&&copyObject$4(je,keys$1(je),Re)}var _baseAssign=baseAssign$1,copyObject$3=_copyObject,keysIn$2=keysIn_1;function baseAssignIn$1(Re,je){return Re&&copyObject$3(je,keysIn$2(je),Re)}var _baseAssignIn=baseAssignIn$1,_cloneBuffer={exports:{}};_cloneBuffer.exports;(function(Re,je){var _e=_root,Me=je&&!je.nodeType&&je,$e=Me&&!0&&Re&&!Re.nodeType&&Re,ke=$e&&$e.exports===Me,Ce=ke?_e.Buffer:void 0,Be=Ce?Ce.allocUnsafe:void 0;function qe(He,We){if(We)return He.slice();var Ke=He.length,Je=Be?Be(Ke):new He.constructor(Ke);return He.copy(Je),Je}Re.exports=qe})(_cloneBuffer,_cloneBuffer.exports);var _cloneBufferExports=_cloneBuffer.exports;function copyArray$1(Re,je){var _e=-1,Me=Re.length;for(je||(je=Array(Me));++_e<Me;)je[_e]=Re[_e];return je}var _copyArray=copyArray$1,copyObject$2=_copyObject,getSymbols$1=_getSymbols;function copySymbols$1(Re,je){return copyObject$2(Re,getSymbols$1(Re),je)}var _copySymbols=copySymbols$1,overArg=_overArg,getPrototype$4=overArg(Object.getPrototypeOf,Object),_getPrototype=getPrototype$4,arrayPush=_arrayPush,getPrototype$3=_getPrototype,getSymbols=_getSymbols,stubArray=stubArray_1,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbolsIn$2=nativeGetSymbols?function(Re){for(var je=[];Re;)arrayPush(je,getSymbols(Re)),Re=getPrototype$3(Re);return je}:stubArray,_getSymbolsIn=getSymbolsIn$2,copyObject$1=_copyObject,getSymbolsIn$1=_getSymbolsIn;function copySymbolsIn$1(Re,je){return copyObject$1(Re,getSymbolsIn$1(Re),je)}var _copySymbolsIn=copySymbolsIn$1,baseGetAllKeys=_baseGetAllKeys,getSymbolsIn=_getSymbolsIn,keysIn$1=keysIn_1;function getAllKeysIn$2(Re){return baseGetAllKeys(Re,keysIn$1,getSymbolsIn)}var _getAllKeysIn=getAllKeysIn$2,objectProto$1=Object.prototype,hasOwnProperty$1=objectProto$1.hasOwnProperty;function initCloneArray$1(Re){var je=Re.length,_e=new Re.constructor(je);return je&&typeof Re[0]=="string"&&hasOwnProperty$1.call(Re,"index")&&(_e.index=Re.index,_e.input=Re.input),_e}var _initCloneArray=initCloneArray$1,Uint8Array$1=_Uint8Array;function cloneArrayBuffer$3(Re){var je=new Re.constructor(Re.byteLength);return new Uint8Array$1(je).set(new Uint8Array$1(Re)),je}var _cloneArrayBuffer=cloneArrayBuffer$3,cloneArrayBuffer$2=_cloneArrayBuffer;function cloneDataView$1(Re,je){var _e=je?cloneArrayBuffer$2(Re.buffer):Re.buffer;return new Re.constructor(_e,Re.byteOffset,Re.byteLength)}var _cloneDataView=cloneDataView$1,reFlags=/\w*$/;function cloneRegExp$1(Re){var je=new Re.constructor(Re.source,reFlags.exec(Re));return je.lastIndex=Re.lastIndex,je}var _cloneRegExp=cloneRegExp$1,Symbol$1=_Symbol,symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function cloneSymbol$1(Re){return symbolValueOf?Object(symbolValueOf.call(Re)):{}}var _cloneSymbol=cloneSymbol$1,cloneArrayBuffer$1=_cloneArrayBuffer;function cloneTypedArray$1(Re,je){var _e=je?cloneArrayBuffer$1(Re.buffer):Re.buffer;return new Re.constructor(_e,Re.byteOffset,Re.length)}var _cloneTypedArray=cloneTypedArray$1,cloneArrayBuffer=_cloneArrayBuffer,cloneDataView=_cloneDataView,cloneRegExp=_cloneRegExp,cloneSymbol=_cloneSymbol,cloneTypedArray=_cloneTypedArray,boolTag$1="[object Boolean]",dateTag$1="[object Date]",mapTag$2="[object Map]",numberTag$1="[object Number]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",symbolTag$1="[object Symbol]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag$1="[object Float32Array]",float64Tag$1="[object Float64Array]",int8Tag$1="[object Int8Array]",int16Tag$1="[object Int16Array]",int32Tag$1="[object Int32Array]",uint8Tag$1="[object Uint8Array]",uint8ClampedTag$1="[object Uint8ClampedArray]",uint16Tag$1="[object Uint16Array]",uint32Tag$1="[object Uint32Array]";function initCloneByTag$1(Re,je,_e){var Me=Re.constructor;switch(je){case arrayBufferTag$1:return cloneArrayBuffer(Re);case boolTag$1:case dateTag$1:return new Me(+Re);case dataViewTag$1:return cloneDataView(Re,_e);case float32Tag$1:case float64Tag$1:case int8Tag$1:case int16Tag$1:case int32Tag$1:case uint8Tag$1:case uint8ClampedTag$1:case uint16Tag$1:case uint32Tag$1:return cloneTypedArray(Re,_e);case mapTag$2:return new Me;case numberTag$1:case stringTag$1:return new Me(Re);case regexpTag$1:return cloneRegExp(Re);case setTag$2:return new Me;case symbolTag$1:return cloneSymbol(Re)}}var _initCloneByTag=initCloneByTag$1,isObject$2=isObject_1,objectCreate=Object.create,baseCreate$2=function(){function Re(){}return function(je){if(!isObject$2(je))return{};if(objectCreate)return objectCreate(je);Re.prototype=je;var _e=new Re;return Re.prototype=void 0,_e}}(),_baseCreate=baseCreate$2,baseCreate$1=_baseCreate,getPrototype$2=_getPrototype,isPrototype=_isPrototype;function initCloneObject$1(Re){return typeof Re.constructor=="function"&&!isPrototype(Re)?baseCreate$1(getPrototype$2(Re)):{}}var _initCloneObject=initCloneObject$1,getTag$2=_getTag,isObjectLike$2=isObjectLike_1,mapTag$1="[object Map]";function baseIsMap$1(Re){return isObjectLike$2(Re)&&getTag$2(Re)==mapTag$1}var _baseIsMap=baseIsMap$1,baseIsMap=_baseIsMap,baseUnary$1=_baseUnary,nodeUtil$1=_nodeUtilExports,nodeIsMap=nodeUtil$1&&nodeUtil$1.isMap,isMap$1=nodeIsMap?baseUnary$1(nodeIsMap):baseIsMap,isMap_1=isMap$1,getTag$1=_getTag,isObjectLike$1=isObjectLike_1,setTag$1="[object Set]";function baseIsSet$1(Re){return isObjectLike$1(Re)&&getTag$1(Re)==setTag$1}var _baseIsSet=baseIsSet$1,baseIsSet=_baseIsSet,baseUnary=_baseUnary,nodeUtil=_nodeUtilExports,nodeIsSet=nodeUtil&&nodeUtil.isSet,isSet$1=nodeIsSet?baseUnary(nodeIsSet):baseIsSet,isSet_1=isSet$1,Stack=_Stack,arrayEach$1=_arrayEach,assignValue=_assignValue,baseAssign=_baseAssign,baseAssignIn=_baseAssignIn,cloneBuffer=_cloneBufferExports,copyArray=_copyArray,copySymbols=_copySymbols,copySymbolsIn=_copySymbolsIn,getAllKeys=_getAllKeys,getAllKeysIn$1=_getAllKeysIn,getTag=_getTag,initCloneArray=_initCloneArray,initCloneByTag=_initCloneByTag,initCloneObject=_initCloneObject,isArray$1=isArray_1,isBuffer$1=isBufferExports,isMap=isMap_1,isObject$1=isObject_1,isSet=isSet_1,keys=keys_1,keysIn=keysIn_1,CLONE_DEEP_FLAG$1=1,CLONE_FLAT_FLAG$1=2,CLONE_SYMBOLS_FLAG$1=4,argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",numberTag="[object Number]",objectTag$1="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[dataViewTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag]=cloneableTags[numberTag]=cloneableTags[objectTag$1]=cloneableTags[regexpTag]=cloneableTags[setTag]=cloneableTags[stringTag]=cloneableTags[symbolTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0;cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=!1;function baseClone$1(Re,je,_e,Me,$e,ke){var Ce,Be=je&CLONE_DEEP_FLAG$1,qe=je&CLONE_FLAT_FLAG$1,He=je&CLONE_SYMBOLS_FLAG$1;if(_e&&(Ce=$e?_e(Re,Me,$e,ke):_e(Re)),Ce!==void 0)return Ce;if(!isObject$1(Re))return Re;var We=isArray$1(Re);if(We){if(Ce=initCloneArray(Re),!Be)return copyArray(Re,Ce)}else{var Ke=getTag(Re),Je=Ke==funcTag||Ke==genTag;if(isBuffer$1(Re))return cloneBuffer(Re,Be);if(Ke==objectTag$1||Ke==argsTag||Je&&!$e){if(Ce=qe||Je?{}:initCloneObject(Re),!Be)return qe?copySymbolsIn(Re,baseAssignIn(Ce,Re)):copySymbols(Re,baseAssign(Ce,Re))}else{if(!cloneableTags[Ke])return $e?Re:{};Ce=initCloneByTag(Re,Ke,Be)}}ke||(ke=new Stack);var Qe=ke.get(Re);if(Qe)return Qe;ke.set(Re,Ce),isSet(Re)?Re.forEach(function(cr){Ce.add(baseClone$1(cr,je,_e,cr,Re,ke))}):isMap(Re)&&Re.forEach(function(cr,or){Ce.set(or,baseClone$1(cr,je,_e,or,Re,ke))});var rr=He?qe?getAllKeysIn$1:getAllKeys:qe?keysIn:keys,tr=We?void 0:rr(Re);return arrayEach$1(tr||Re,function(cr,or){tr&&(or=cr,cr=Re[or]),assignValue(Ce,or,baseClone$1(cr,je,_e,or,Re,ke))}),Ce}var _baseClone=baseClone$1;function last$1(Re){var je=Re==null?0:Re.length;return je?Re[je-1]:void 0}var last_1=last$1,baseGet=_baseGet,baseSlice=_baseSlice;function parent$1(Re,je){return je.length<2?Re:baseGet(Re,baseSlice(je,0,-1))}var _parent=parent$1,castPath$1=_castPath,last=last_1,parent=_parent,toKey=_toKey;function baseUnset$1(Re,je){return je=castPath$1(je,Re),Re=parent(Re,je),Re==null||delete Re[toKey(last(je))]}var _baseUnset=baseUnset$1,baseGetTag=_baseGetTag,getPrototype$1=_getPrototype,isObjectLike=isObjectLike_1,objectTag="[object Object]",funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject$1(Re){if(!isObjectLike(Re)||baseGetTag(Re)!=objectTag)return!1;var je=getPrototype$1(Re);if(je===null)return!0;var _e=hasOwnProperty.call(je,"constructor")&&je.constructor;return typeof _e=="function"&&_e instanceof _e&&funcToString.call(_e)==objectCtorString}var isPlainObject_1=isPlainObject$1,isPlainObject=isPlainObject_1;function customOmitClone$1(Re){return isPlainObject(Re)?void 0:Re}var _customOmitClone=customOmitClone$1,baseFlatten=_baseFlatten;function flatten$1(Re){var je=Re==null?0:Re.length;return je?baseFlatten(Re,1):[]}var flatten_1=flatten$1,flatten=flatten_1,overRest=_overRest,setToString=_setToString;function flatRest$1(Re){return setToString(overRest(Re,void 0,flatten),Re+"")}var _flatRest=flatRest$1,arrayMap=_arrayMap,baseClone=_baseClone,baseUnset=_baseUnset,castPath=_castPath,copyObject=_copyObject,customOmitClone=_customOmitClone,flatRest=_flatRest,getAllKeysIn=_getAllKeysIn,CLONE_DEEP_FLAG=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG=4,omit=flatRest(function(Re,je){var _e={};if(Re==null)return _e;var Me=!1;je=arrayMap(je,function(ke){return ke=castPath(ke,Re),Me||(Me=ke.length>1),ke}),copyObject(Re,getAllKeysIn(Re),_e),Me&&(_e=baseClone(_e,CLONE_DEEP_FLAG|CLONE_FLAT_FLAG|CLONE_SYMBOLS_FLAG,customOmitClone));for(var $e=je.length;$e--;)baseUnset(_e,je[$e]);return _e}),omit_1=omit;const omit$1=getDefaultExportFromCjs(omit_1);var arrayEach=_arrayEach,baseCreate=_baseCreate,baseForOwn=_baseForOwn,baseIteratee=_baseIteratee,getPrototype=_getPrototype,isArray=isArray_1,isBuffer=isBufferExports,isFunction$1=isFunction_1,isObject=isObject_1,isTypedArray=isTypedArray_1;function transform(Re,je,_e){var Me=isArray(Re),$e=Me||isBuffer(Re)||isTypedArray(Re);if(je=baseIteratee(je),_e==null){var ke=Re&&Re.constructor;$e?_e=Me?new ke:[]:isObject(Re)?_e=isFunction$1(ke)?baseCreate(getPrototype(Re)):{}:_e={}}return($e?arrayEach:baseForOwn)(Re,function(Ce,Be,qe){return je(_e,Ce,Be,qe)}),_e}var transform_1=transform;const transform$1=getDefaultExportFromCjs(transform_1);var isBetween={exports:{}};(function(Re,je){(function(_e,Me){Re.exports=Me()})(commonjsGlobal,function(){return function(_e,Me,$e){Me.prototype.isBetween=function(ke,Ce,Be,qe){var He=$e(ke),We=$e(Ce),Ke=(qe=qe||"()")[0]==="(",Je=qe[1]===")";return(Ke?this.isAfter(He,Be):!this.isBefore(He,Be))&&(Je?this.isBefore(We,Be):!this.isAfter(We,Be))||(Ke?this.isBefore(He,Be):!this.isAfter(He,Be))&&(Je?this.isAfter(We,Be):!this.isBefore(We,Be))}}})})(isBetween);var isSameOrAfter={exports:{}};(function(Re,je){(function(_e,Me){Re.exports=Me()})(commonjsGlobal,function(){return function(_e,Me){Me.prototype.isSameOrAfter=function($e,ke){return this.isSame($e,ke)||this.isAfter($e,ke)}}})})(isSameOrAfter);var isSameOrBefore={exports:{}};(function(Re,je){(function(_e,Me){Re.exports=Me()})(commonjsGlobal,function(){return function(_e,Me){Me.prototype.isSameOrBefore=function($e,ke){return this.isSame($e,ke)||this.isBefore($e,ke)}}})})(isSameOrBefore);var localeData={exports:{}};(function(Re,je){(function(_e,Me){Re.exports=Me()})(commonjsGlobal,function(){return function(_e,Me,$e){var ke=Me.prototype,Ce=function(Ke){return Ke&&(Ke.indexOf?Ke:Ke.s)},Be=function(Ke,Je,Qe,rr,tr){var cr=Ke.name?Ke:Ke.$locale(),or=Ce(cr[Je]),ar=Ce(cr[Qe]),pr=or||ar.map(function(gr){return gr.slice(0,rr)});if(!tr)return pr;var ur=cr.weekStart;return pr.map(function(gr,jr){return pr[(jr+(ur||0))%7]})},qe=function(){return $e.Ls[$e.locale()]},He=function(Ke,Je){return Ke.formats[Je]||function(Qe){return Qe.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(rr,tr,cr){return tr||cr.slice(1)})}(Ke.formats[Je.toUpperCase()])},We=function(){var Ke=this;return{months:function(Je){return Je?Je.format("MMMM"):Be(Ke,"months")},monthsShort:function(Je){return Je?Je.format("MMM"):Be(Ke,"monthsShort","months",3)},firstDayOfWeek:function(){return Ke.$locale().weekStart||0},weekdays:function(Je){return Je?Je.format("dddd"):Be(Ke,"weekdays")},weekdaysMin:function(Je){return Je?Je.format("dd"):Be(Ke,"weekdaysMin","weekdays",2)},weekdaysShort:function(Je){return Je?Je.format("ddd"):Be(Ke,"weekdaysShort","weekdays",3)},longDateFormat:function(Je){return He(Ke.$locale(),Je)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};ke.localeData=function(){return We.bind(this)()},$e.localeData=function(){var Ke=qe();return{firstDayOfWeek:function(){return Ke.weekStart||0},weekdays:function(){return $e.weekdays()},weekdaysShort:function(){return $e.weekdaysShort()},weekdaysMin:function(){return $e.weekdaysMin()},months:function(){return $e.months()},monthsShort:function(){return $e.monthsShort()},longDateFormat:function(Je){return He(Ke,Je)},meridiem:Ke.meridiem,ordinal:Ke.ordinal}},$e.months=function(){return Be(qe(),"months")},$e.monthsShort=function(){return Be(qe(),"monthsShort","months",3)},$e.weekdays=function(Ke){return Be(qe(),"weekdays",null,null,Ke)},$e.weekdaysShort=function(Ke){return Be(qe(),"weekdaysShort","weekdays",3,Ke)},$e.weekdaysMin=function(Ke){return Be(qe(),"weekdaysMin","weekdays",2,Ke)}}})})(localeData);var localizedFormat={exports:{}};(function(Re,je){(function(_e,Me){Re.exports=Me()})(commonjsGlobal,function(){var _e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(Me,$e,ke){var Ce=$e.prototype,Be=Ce.format;ke.en.formats=_e,Ce.format=function(qe){qe===void 0&&(qe="YYYY-MM-DDTHH:mm:ssZ");var He=this.$locale().formats,We=function(Ke,Je){return Ke.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(Qe,rr,tr){var cr=tr&&tr.toUpperCase();return rr||Je[tr]||_e[tr]||Je[cr].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(or,ar,pr){return ar||pr.slice(1)})})}(qe,He===void 0?{}:He);return Be.call(this,We)}}})})(localizedFormat);var minMax={exports:{}};(function(Re,je){(function(_e,Me){Re.exports=Me()})(commonjsGlobal,function(){return function(_e,Me,$e){var ke=function(Ce,Be){if(!Be||!Be.length||Be.length===1&&!Be[0]||Be.length===1&&Array.isArray(Be[0])&&!Be[0].length)return null;var qe;Be.length===1&&Be[0].length>0&&(Be=Be[0]),qe=(Be=Be.filter(function(We){return We}))[0];for(var He=1;He<Be.length;He+=1)Be[He].isValid()&&!Be[He][Ce](qe)||(qe=Be[He]);return qe};$e.max=function(){var Ce=[].slice.call(arguments,0);return ke("isAfter",Ce)},$e.min=function(){var Ce=[].slice.call(arguments,0);return ke("isBefore",Ce)}}})})(minMax);var utc={exports:{}};(function(Re,je){(function(_e,Me){Re.exports=Me()})(commonjsGlobal,function(){var _e="minute",Me=/[+-]\d\d(?::?\d\d)?/g,$e=/([+-]|\d\d)/g;return function(ke,Ce,Be){var qe=Ce.prototype;Be.utc=function(tr){var cr={date:tr,utc:!0,args:arguments};return new Ce(cr)},qe.utc=function(tr){var cr=Be(this.toDate(),{locale:this.$L,utc:!0});return tr?cr.add(this.utcOffset(),_e):cr},qe.local=function(){return Be(this.toDate(),{locale:this.$L,utc:!1})};var He=qe.parse;qe.parse=function(tr){tr.utc&&(this.$u=!0),this.$utils().u(tr.$offset)||(this.$offset=tr.$offset),He.call(this,tr)};var We=qe.init;qe.init=function(){if(this.$u){var tr=this.$d;this.$y=tr.getUTCFullYear(),this.$M=tr.getUTCMonth(),this.$D=tr.getUTCDate(),this.$W=tr.getUTCDay(),this.$H=tr.getUTCHours(),this.$m=tr.getUTCMinutes(),this.$s=tr.getUTCSeconds(),this.$ms=tr.getUTCMilliseconds()}else We.call(this)};var Ke=qe.utcOffset;qe.utcOffset=function(tr,cr){var or=this.$utils().u;if(or(tr))return this.$u?0:or(this.$offset)?Ke.call(this):this.$offset;if(typeof tr=="string"&&(tr=function(gr){gr===void 0&&(gr="");var jr=gr.match(Me);if(!jr)return null;var vr=(""+jr[0]).match($e)||["-",0,0],dr=vr[0],xr=60*+vr[1]+ +vr[2];return xr===0?0:dr==="+"?xr:-xr}(tr),tr===null))return this;var ar=Math.abs(tr)<=16?60*tr:tr,pr=this;if(cr)return pr.$offset=ar,pr.$u=tr===0,pr;if(tr!==0){var ur=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(pr=this.local().add(ar+ur,_e)).$offset=ar,pr.$x.$localOffset=ur}else pr=this.utc();return pr};var Je=qe.format;qe.format=function(tr){var cr=tr||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return Je.call(this,cr)},qe.valueOf=function(){var tr=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*tr},qe.isUTC=function(){return!!this.$u},qe.toISOString=function(){return this.toDate().toISOString()},qe.toString=function(){return this.toDate().toUTCString()};var Qe=qe.toDate;qe.toDate=function(tr){return tr==="s"&&this.$offset?Be(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():Qe.call(this)};var rr=qe.diff;qe.diff=function(tr,cr,or){if(tr&&this.$u===tr.$u)return rr.call(this,tr,cr,or);var ar=this.local(),pr=Be(tr).local();return rr.call(ar,pr,cr,or)}}})})(utc);function NoopWrapper(Re){return Re.children}var navigate$1={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},views={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},viewNames$1=Object.keys(views).map(function(Re){return views[Re]});PropTypes.oneOfType([PropTypes.string,PropTypes.func]);PropTypes.any;PropTypes.func;PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOf(viewNames$1)),PropTypes.objectOf(function(Re,je){var _e=viewNames$1.indexOf(je)!==-1&&typeof Re[je]=="boolean";if(_e)return null;for(var Me=arguments.length,$e=new Array(Me>2?Me-2:0),ke=2;ke<Me;ke++)$e[ke-2]=arguments[ke];return PropTypes.elementType.apply(PropTypes,[Re,je].concat($e))})]);PropTypes.oneOfType([PropTypes.oneOf(["overlap","no-overlap"]),PropTypes.func]);var MILLI={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function firstVisibleDay(Re,je){var _e=startOf(Re,"month");return startOf(_e,"week",je.startOfWeek())}function lastVisibleDay(Re,je){var _e=endOf(Re,"month");return endOf(_e,"week",je.startOfWeek())}function visibleDays(Re,je){for(var _e=firstVisibleDay(Re,je),Me=lastVisibleDay(Re,je),$e=[];lte(_e,Me,"day");)$e.push(_e),_e=add(_e,1,"day");return $e}function ceil(Re,je){var _e=startOf(Re,je);return eq$6(_e,Re)?_e:add(_e,1,je)}function range(Re,je){for(var _e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",Me=Re,$e=[];lte(Me,je,_e);)$e.push(Me),Me=add(Me,1,_e);return $e}function merge(Re,je){return je==null&&Re==null?null:(je==null&&(je=new Date),Re==null&&(Re=new Date),Re=startOf(Re,"day"),Re=hours(Re,hours(je)),Re=minutes(Re,minutes(je)),Re=seconds(Re,seconds(je)),milliseconds(Re,milliseconds(je)))}function isJustDate(Re){return hours(Re)===0&&minutes(Re)===0&&seconds(Re)===0&&milliseconds(Re)===0}function duration(Re,je,_e,Me){return _e==="day"&&(_e="date"),Math.abs(dates[_e](Re,void 0,Me)-dates[_e](je,void 0,Me))}function diff(Re,je,_e){return!_e||_e==="milliseconds"?Math.abs(+Re-+je):Math.round(Math.abs(+startOf(Re,_e)/MILLI[_e]-+startOf(je,_e)/MILLI[_e]))}var localePropType=PropTypes.oneOfType([PropTypes.string,PropTypes.func]);function _format(Re,je,_e,Me,$e){var ke=typeof Me=="function"?Me(_e,$e,Re):je.call(Re,_e,Me,$e);return invariant$1(ke==null||typeof ke=="string","`localizer format(..)` must return a string, null, or undefined"),ke}function getSlotDate(Re,je,_e){return new Date(Re.getFullYear(),Re.getMonth(),Re.getDate(),0,je+_e,0,0)}function getDstOffset(Re,je){return Re.getTimezoneOffset()-je.getTimezoneOffset()}function getTotalMin(Re,je){return diff(Re,je,"minutes")+getDstOffset(Re,je)}function getMinutesFromMidnight(Re){var je=startOf(Re,"day");return diff(je,Re,"minutes")+getDstOffset(je,Re)}function continuesPrior(Re,je){return lt(Re,je,"day")}function continuesAfter(Re,je,_e){var Me=eq$6(Re,je,"minutes");return Me?gte(je,_e,"minutes"):gt(je,_e,"minutes")}function daySpan(Re,je){return duration(Re,je,"day")}function sortEvents$1(Re){var je=Re.evtA,_e=je.start,Me=je.end,$e=je.allDay,ke=Re.evtB,Ce=ke.start,Be=ke.end,qe=ke.allDay,He=+startOf(_e,"day")-+startOf(Ce,"day"),We=daySpan(_e,Me),Ke=daySpan(Ce,Be);return He||Ke-We||!!qe-!!$e||+_e-+Ce||+Me-+Be}function inEventRange(Re){var je=Re.event,_e=je.start,Me=je.end,$e=Re.range,ke=$e.start,Ce=$e.end,Be=startOf(_e,"day"),qe=lte(Be,Ce,"day"),He=neq(Be,Me,"minutes"),We=He?gt(Me,ke,"minutes"):gte(Me,ke,"minutes");return qe&&We}function isSameDate(Re,je){return eq$6(Re,je,"day")}function startAndEndAreDateOnly(Re,je){return isJustDate(Re)&&isJustDate(je)}var DateLocalizer=_createClass(function Re(je){var _e=this;_classCallCheck(this,Re),invariant$1(typeof je.format=="function","date localizer `format(..)` must be a function"),invariant$1(typeof je.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=je.propType||localePropType,this.formats=je.formats,this.format=function(){for(var Me=arguments.length,$e=new Array(Me),ke=0;ke<Me;ke++)$e[ke]=arguments[ke];return _format.apply(void 0,[_e,je.format].concat($e))},this.startOfWeek=je.firstOfWeek,this.merge=je.merge||merge,this.inRange=je.inRange||inRange$1,this.lt=je.lt||lt,this.lte=je.lte||lte,this.gt=je.gt||gt,this.gte=je.gte||gte,this.eq=je.eq||eq$6,this.neq=je.neq||neq,this.startOf=je.startOf||startOf,this.endOf=je.endOf||endOf,this.add=je.add||add,this.range=je.range||range,this.diff=je.diff||diff,this.ceil=je.ceil||ceil,this.min=je.min||min$1,this.max=je.max||max$1,this.minutes=je.minutes||minutes,this.daySpan=je.daySpan||daySpan,this.firstVisibleDay=je.firstVisibleDay||firstVisibleDay,this.lastVisibleDay=je.lastVisibleDay||lastVisibleDay,this.visibleDays=je.visibleDays||visibleDays,this.getSlotDate=je.getSlotDate||getSlotDate,this.getTimezoneOffset=je.getTimezoneOffset||function(Me){return Me.getTimezoneOffset()},this.getDstOffset=je.getDstOffset||getDstOffset,this.getTotalMin=je.getTotalMin||getTotalMin,this.getMinutesFromMidnight=je.getMinutesFromMidnight||getMinutesFromMidnight,this.continuesPrior=je.continuesPrior||continuesPrior,this.continuesAfter=je.continuesAfter||continuesAfter,this.sortEvents=je.sortEvents||sortEvents$1,this.inEventRange=je.inEventRange||inEventRange,this.isSameDate=je.isSameDate||isSameDate,this.startAndEndAreDateOnly=je.startAndEndAreDateOnly||startAndEndAreDateOnly,this.segmentOffset=je.browserTZOffset?je.browserTZOffset():0});function mergeWithDefaults(Re,je,_e,Me){var $e=_objectSpread2$1(_objectSpread2$1({},Re.formats),_e);return _objectSpread2$1(_objectSpread2$1({},Re),{},{messages:Me,startOfWeek:function(){return Re.startOfWeek(je)},format:function(Ce,Be){return Re.format(Ce,$e[Be]||Be,je)}})}var Toolbar=function(Re){function je(){var _e;_classCallCheck(this,je);for(var Me=arguments.length,$e=new Array(Me),ke=0;ke<Me;ke++)$e[ke]=arguments[ke];return _e=_callSuper(this,je,[].concat($e)),_e.navigate=function(Ce){_e.props.onNavigate(Ce)},_e.view=function(Ce){_e.props.onView(Ce)},_e}return _inherits(je,Re),_createClass(je,[{key:"render",value:function(){var Me=this.props,$e=Me.localizer.messages,ke=Me.label;return React$2.createElement("div",{className:"rbc-toolbar"},React$2.createElement("span",{className:"rbc-btn-group"},React$2.createElement("button",{type:"button",onClick:this.navigate.bind(null,navigate$1.TODAY)},$e.today),React$2.createElement("button",{type:"button",onClick:this.navigate.bind(null,navigate$1.PREVIOUS)},$e.previous),React$2.createElement("button",{type:"button",onClick:this.navigate.bind(null,navigate$1.NEXT)},$e.next)),React$2.createElement("span",{className:"rbc-toolbar-label"},ke),React$2.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup($e)))}},{key:"viewNamesGroup",value:function(Me){var $e=this,ke=this.props.views,Ce=this.props.view;if(ke.length>1)return ke.map(function(Be){return React$2.createElement("button",{type:"button",key:Be,className:clsx({"rbc-active":Ce===Be}),onClick:$e.view.bind(null,Be)},Me[Be])})}}])}(React$2.Component);function notify(Re,je){Re&&Re.apply(null,[].concat(je))}var defaultMessages={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function Re(je){return"+".concat(je," more")}};function messages(Re){return _objectSpread2$1(_objectSpread2$1({},defaultMessages),Re)}function useClickOutside(Re){var je=Re.ref,_e=Re.callback;reactExports.useEffect(function(){var Me=function(ke){je.current&&!je.current.contains(ke.target)&&_e()};return document.addEventListener("mousedown",Me),function(){document.removeEventListener("mousedown",Me)}},[je,_e])}var _excluded$7=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],EventCell=function(Re){function je(){return _classCallCheck(this,je),_callSuper(this,je,arguments)}return _inherits(je,Re),_createClass(je,[{key:"render",value:function(){var Me=this.props,$e=Me.style,ke=Me.className,Ce=Me.event,Be=Me.selected,qe=Me.isAllDay,He=Me.onSelect,We=Me.onDoubleClick,Ke=Me.onKeyPress,Je=Me.localizer,Qe=Me.continuesPrior,rr=Me.continuesAfter,tr=Me.accessors,cr=Me.getters,or=Me.children,ar=Me.components,pr=ar.event,ur=ar.eventWrapper,gr=Me.slotStart,jr=Me.slotEnd,vr=_objectWithoutProperties(Me,_excluded$7);delete vr.resizable;var dr=tr.title(Ce),xr=tr.tooltip(Ce),Rr=tr.end(Ce),Xe=tr.start(Ce),Pe=tr.allDay(Ce),Fe=qe||Pe||Je.diff(Xe,Je.ceil(Rr,"day"),"day")>1,ze=cr.eventProp(Ce,Xe,Rr,Be),Ue=React$2.createElement("div",{className:"rbc-event-content",title:xr||void 0},pr?React$2.createElement(pr,{event:Ce,continuesPrior:Qe,continuesAfter:rr,title:dr,isAllDay:Pe,localizer:Je,slotStart:gr,slotEnd:jr}):dr);return React$2.createElement(ur,Object.assign({},this.props,{type:"date"}),React$2.createElement("div",Object.assign({},vr,{style:_objectSpread2$1(_objectSpread2$1({},ze.style),$e),className:clsx("rbc-event",ke,ze.className,{"rbc-selected":Be,"rbc-event-allday":Fe,"rbc-event-continues-prior":Qe,"rbc-event-continues-after":rr}),onClick:function(Ze){return He&&He(Ce,Ze)},onDoubleClick:function(Ze){return We&&We(Ce,Ze)},onKeyDown:function(Ze){return Ke&&Ke(Ce,Ze)}}),typeof or=="function"?or(Ue):Ue))}}])}(React$2.Component);function isSelected(Re,je){return!Re||je==null?!1:isEqual$1$1(Re,je)}function slotWidth(Re,je){var _e=Re.right-Re.left,Me=_e/je;return Me}function getSlotAtX(Re,je,_e,Me){var $e=slotWidth(Re,Me);return _e?Me-1-Math.floor((je-Re.left)/$e):Math.floor((je-Re.left)/$e)}function pointInBox(Re,je){var _e=je.x,Me=je.y;return Me>=Re.top&&Me<=Re.bottom&&_e>=Re.left&&_e<=Re.right}function dateCellSelection(Re,je,_e,Me,$e){var ke=-1,Ce=-1,Be=Me-1,qe=slotWidth(je,Me),He=getSlotAtX(je,_e.x,$e,Me),We=je.top<_e.y&&je.bottom>_e.y,Ke=je.top<Re.y&&je.bottom>Re.y,Je=Re.y>je.bottom,Qe=je.top>Re.y,rr=_e.top<je.top&&_e.bottom>je.bottom;return rr&&(ke=0,Ce=Be),We&&(Qe?(ke=0,Ce=He):Je&&(ke=He,Ce=Be)),Ke&&(ke=Ce=$e?Be-Math.floor((Re.x-je.left)/qe):Math.floor((Re.x-je.left)/qe),We?He<ke?ke=He:Ce=He:Re.y<_e.y?Ce=Be:ke=0),{startIdx:ke,endIdx:Ce}}function getPosition(Re){var je=Re.target,_e=Re.offset,Me=Re.container,$e=Re.box,ke=offset$2(je),Ce=ke.top,Be=ke.left,qe=ke.width,He=ke.height,We=offset$2(Me),Ke=We.top,Je=We.left,Qe=We.width,rr=We.height,tr=offset$2($e),cr=tr.width,or=tr.height,ar=Ke+rr,pr=Je+Qe,ur=Ce+or,gr=Be+cr,jr=_e.x,vr=_e.y,dr=ur>ar?Ce-or-vr:Ce+vr+He,xr=gr>pr?Be+jr-cr+qe:Be+jr;return{topOffset:dr,leftOffset:xr}}function Pop(Re){var je=Re.containerRef,_e=Re.accessors,Me=Re.getters,$e=Re.selected,ke=Re.components,Ce=Re.localizer,Be=Re.position,qe=Re.show,He=Re.events,We=Re.slotStart,Ke=Re.slotEnd,Je=Re.onSelect,Qe=Re.onDoubleClick,rr=Re.onKeyPress,tr=Re.handleDragStart,cr=Re.popperRef,or=Re.target,ar=Re.offset;useClickOutside({ref:cr,callback:qe}),reactExports.useLayoutEffect(function(){var gr=getPosition({target:or,offset:ar,container:je.current,box:cr.current}),jr=gr.topOffset,vr=gr.leftOffset;cr.current.style.top="".concat(jr,"px"),cr.current.style.left="".concat(vr,"px")},[ar.x,ar.y,or]);var pr=Be.width,ur={minWidth:pr+pr/2};return React$2.createElement("div",{style:ur,className:"rbc-overlay",ref:cr},React$2.createElement("div",{className:"rbc-overlay-header"},Ce.format(We,"dayHeaderFormat")),He.map(function(gr,jr){return React$2.createElement(EventCell,{key:jr,type:"popup",localizer:Ce,event:gr,getters:Me,onSelect:Je,accessors:_e,components:ke,onDoubleClick:Qe,onKeyPress:rr,continuesPrior:Ce.lt(_e.end(gr),We,"day"),continuesAfter:Ce.gte(_e.start(gr),Ke,"day"),slotStart:We,slotEnd:Ke,selected:isSelected(gr,$e),draggable:!0,onDragStart:function(){return tr(gr)},onDragEnd:function(){return qe()}})}))}var Popup=React$2.forwardRef(function(Re,je){return React$2.createElement(Pop,Object.assign({},Re,{popperRef:je}))});Popup.propTypes={accessors:PropTypes.object.isRequired,getters:PropTypes.object.isRequired,selected:PropTypes.object,components:PropTypes.object.isRequired,localizer:PropTypes.object.isRequired,position:PropTypes.object.isRequired,show:PropTypes.func.isRequired,events:PropTypes.array.isRequired,slotStart:PropTypes.instanceOf(Date).isRequired,slotEnd:PropTypes.instanceOf(Date),onSelect:PropTypes.func,onDoubleClick:PropTypes.func,onKeyPress:PropTypes.func,handleDragStart:PropTypes.func,style:PropTypes.object,offset:PropTypes.shape({x:PropTypes.number,y:PropTypes.number})};function CalOverlay(Re){var je=Re.containerRef,_e=Re.popupOffset,Me=_e===void 0?5:_e,$e=Re.overlay,ke=Re.accessors,Ce=Re.localizer,Be=Re.components,qe=Re.getters,He=Re.selected,We=Re.handleSelectEvent,Ke=Re.handleDoubleClickEvent,Je=Re.handleKeyPressEvent,Qe=Re.handleDragStart,rr=Re.onHide,tr=Re.overlayDisplay,cr=reactExports.useRef(null);if(!$e.position)return null;var or=Me;isNaN(Me)||(or={x:Me,y:Me});var ar=$e.position,pr=$e.events,ur=$e.date,gr=$e.end;return React$2.createElement(Overlay,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:rr,target:$e.target},function(jr){var vr=jr.props;return React$2.createElement(Popup,Object.assign({},vr,{containerRef:je,ref:cr,target:$e.target,offset:or,accessors:ke,getters:qe,selected:He,components:Be,localizer:Ce,position:ar,show:tr,events:pr,slotStart:ur,slotEnd:gr,onSelect:We,onDoubleClick:Ke,onKeyPress:Je,handleDragStart:Qe}))})}var PopOverlay=React$2.forwardRef(function(Re,je){return React$2.createElement(CalOverlay,Object.assign({},Re,{containerRef:je}))});PopOverlay.propTypes={popupOffset:PropTypes.oneOfType([PropTypes.number,PropTypes.shape({x:PropTypes.number,y:PropTypes.number})]),overlay:PropTypes.shape({position:PropTypes.object,events:PropTypes.array,date:PropTypes.instanceOf(Date),end:PropTypes.instanceOf(Date)}),accessors:PropTypes.object.isRequired,localizer:PropTypes.object.isRequired,components:PropTypes.object.isRequired,getters:PropTypes.object.isRequired,selected:PropTypes.object,handleSelectEvent:PropTypes.func,handleDoubleClickEvent:PropTypes.func,handleKeyPressEvent:PropTypes.func,handleDragStart:PropTypes.func,onHide:PropTypes.func,overlayDisplay:PropTypes.func};function addEventListener(Re,je){var _e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return listen(_e,Re,je,{passive:!1})}function isOverContainer(Re,je,_e){return!Re||contains$1(Re,document.elementFromPoint(je,_e))}function getEventNodeFromPoint(Re,je){var _e=je.clientX,Me=je.clientY,$e=document.elementFromPoint(_e,Me);return closest($e,".rbc-event",Re)}function getShowMoreNodeFromPoint(Re,je){var _e=je.clientX,Me=je.clientY,$e=document.elementFromPoint(_e,Me);return closest($e,".rbc-show-more",Re)}function isEvent(Re,je){return!!getEventNodeFromPoint(Re,je)}function isShowMore(Re,je){return!!getShowMoreNodeFromPoint(Re,je)}function getEventCoordinates(Re){var je=Re;return Re.touches&&Re.touches.length&&(je=Re.touches[0]),{clientX:je.clientX,clientY:je.clientY,pageX:je.pageX,pageY:je.pageY}}var clickTolerance=5,clickInterval=250,Selection=function(){function Re(je){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Me=_e.global,$e=Me===void 0?!1:Me,ke=_e.longPressThreshold,Ce=ke===void 0?250:ke,Be=_e.validContainers,qe=Be===void 0?[]:Be;_classCallCheck(this,Re),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=je,this.globalMouse=!je||$e,this.longPressThreshold=Ce,this.validContainers=qe,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=addEventListener("touchmove",function(){},window),this._removeKeyDownListener=addEventListener("keydown",this._keyListener),this._removeKeyUpListener=addEventListener("keyup",this._keyListener),this._removeDropFromOutsideListener=addEventListener("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=addEventListener("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return _createClass(Re,[{key:"on",value:function(_e,Me){var $e=this._listeners[_e]||(this._listeners[_e]=[]);return $e.push(Me),{remove:function(){var Ce=$e.indexOf(Me);Ce!==-1&&$e.splice(Ce,1)}}}},{key:"emit",value:function(_e){for(var Me=arguments.length,$e=new Array(Me>1?Me-1:0),ke=1;ke<Me;ke++)$e[ke-1]=arguments[ke];var Ce,Be=this._listeners[_e]||[];return Be.forEach(function(qe){Ce===void 0&&(Ce=qe.apply(void 0,$e))}),Ce}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(_e){var Me=this._selectRect;return!Me||!this.selecting?!1:objectsCollide(Me,getBoundsForNode(_e))}},{key:"filter",value:function(_e){var Me=this._selectRect;return!Me||!this.selecting?[]:_e.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(_e,Me){var $e=this,ke=null,Ce=null,Be=null,qe=function(Je){ke=setTimeout(function(){We(),_e(Je)},$e.longPressThreshold),Ce=addEventListener("touchmove",function(){return We()}),Be=addEventListener("touchend",function(){return We()})},He=addEventListener("touchstart",qe),We=function(){ke&&clearTimeout(ke),Ce&&Ce(),Be&&Be(),ke=null,Ce=null,Be=null};return Me&&qe(Me),function(){We(),He()}}},{key:"_addInitialEventListener",value:function(){var _e=this,Me=addEventListener("mousedown",function(ke){_e._removeInitialEventListener(),_e._handleInitialEvent(ke),_e._removeInitialEventListener=addEventListener("mousedown",_e._handleInitialEvent)}),$e=addEventListener("touchstart",function(ke){_e._removeInitialEventListener(),_e._removeInitialEventListener=_e._addLongPressListener(_e._handleInitialEvent,ke)});this._removeInitialEventListener=function(){Me(),$e()}}},{key:"_dropFromOutsideListener",value:function(_e){var Me=getEventCoordinates(_e),$e=Me.pageX,ke=Me.pageY,Ce=Me.clientX,Be=Me.clientY;this.emit("dropFromOutside",{x:$e,y:ke,clientX:Ce,clientY:Be}),_e.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(_e){var Me=getEventCoordinates(_e),$e=Me.pageX,ke=Me.pageY,Ce=Me.clientX,Be=Me.clientY;this.emit("dragOverFromOutside",{x:$e,y:ke,clientX:Ce,clientY:Be}),_e.preventDefault()}},{key:"_handleInitialEvent",value:function(_e){if(this._initialEvent=_e,!this.isDetached){var Me=getEventCoordinates(_e),$e=Me.clientX,ke=Me.clientY,Ce=Me.pageX,Be=Me.pageY,qe=this.container(),He,We;if(!(_e.which===3||_e.button===2||!isOverContainer(qe,$e,ke))){if(!this.globalMouse&&qe&&!contains$1(qe,_e.target)){var Ke=normalizeDistance(0),Je=Ke.top,Qe=Ke.left,rr=Ke.bottom,tr=Ke.right;if(We=getBoundsForNode(qe),He=objectsCollide({top:We.top-Je,left:We.left-Qe,bottom:We.bottom+rr,right:We.right+tr},{top:Be,left:Ce}),!He)return}var cr=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(_e.type),x:Ce,y:Be,clientX:$e,clientY:ke});if(cr!==!1)switch(_e.type){case"mousedown":this._removeEndListener=addEventListener("mouseup",this._handleTerminatingEvent),this._onEscListener=addEventListener("keydown",this._handleTerminatingEvent),this._removeMoveListener=addEventListener("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(_e),this._removeEndListener=addEventListener("touchend",this._handleTerminatingEvent),this._removeMoveListener=addEventListener("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(_e){var Me=_e.target,$e=this.validContainers;return!$e||!$e.length||!Me?!0:$e.some(function(ke){return!!Me.closest(ke)})}},{key:"_handleTerminatingEvent",value:function(_e){var Me=this.selecting,$e=this._selectRect;if(!Me&&_e.type.includes("key")&&(_e=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!_e){var ke=!this.container||contains$1(this.container(),_e.target),Ce=this._isWithinValidContainer(_e);return _e.key==="Escape"||!Ce?this.emit("reset"):!Me&&ke?this._handleClickEvent(_e):Me?this.emit("select",$e):this.emit("reset")}}},{key:"_handleClickEvent",value:function(_e){var Me=getEventCoordinates(_e),$e=Me.pageX,ke=Me.pageY,Ce=Me.clientX,Be=Me.clientY,qe=new Date().getTime();return this._lastClickData&&qe-this._lastClickData.timestamp<clickInterval?(this._lastClickData=null,this.emit("doubleClick",{x:$e,y:ke,clientX:Ce,clientY:Be})):(this._lastClickData={timestamp:qe},this.emit("click",{x:$e,y:ke,clientX:Ce,clientY:Be}))}},{key:"_handleMoveEvent",value:function(_e){if(!(this._initialEventData===null||this.isDetached)){var Me=this._initialEventData,$e=Me.x,ke=Me.y,Ce=getEventCoordinates(_e),Be=Ce.pageX,qe=Ce.pageY,He=Math.abs($e-Be),We=Math.abs(ke-qe),Ke=Math.min(Be,$e),Je=Math.min(qe,ke),Qe=this.selecting,rr=this.isClick(Be,qe);rr&&!Qe&&!(He||We)||(!Qe&&!rr&&this.emit("selectStart",this._initialEventData),rr||(this.selecting=!0,this._selectRect={top:Je,left:Ke,x:Be,y:qe,right:Ke+He,bottom:Je+We},this.emit("selecting",this._selectRect)),_e.preventDefault())}}},{key:"_keyListener",value:function(_e){this.ctrl=_e.metaKey||_e.ctrlKey}},{key:"isClick",value:function(_e,Me){var $e=this._initialEventData,ke=$e.x,Ce=$e.y,Be=$e.isTouch;return!Be&&Math.abs(_e-ke)<=clickTolerance&&Math.abs(Me-Ce)<=clickTolerance}}])}();function normalizeDistance(){var Re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return _typeof$1(Re)!=="object"&&(Re={top:Re,left:Re,right:Re,bottom:Re}),Re}function objectsCollide(Re,je){var _e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,Me=getBoundsForNode(Re),$e=Me.top,ke=Me.left,Ce=Me.right,Be=Ce===void 0?ke:Ce,qe=Me.bottom,He=qe===void 0?$e:qe,We=getBoundsForNode(je),Ke=We.top,Je=We.left,Qe=We.right,rr=Qe===void 0?Je:Qe,tr=We.bottom,cr=tr===void 0?Ke:tr;return!(He-_e<Ke||$e+_e>cr||Be-_e<Je||ke+_e>rr)}function getBoundsForNode(Re){if(!Re.getBoundingClientRect)return Re;var je=Re.getBoundingClientRect(),_e=je.left+pageOffset("left"),Me=je.top+pageOffset("top");return{top:Me,left:_e,right:(Re.offsetWidth||0)+_e,bottom:(Re.offsetHeight||0)+Me}}function pageOffset(Re){if(Re==="left")return window.pageXOffset||document.body.scrollLeft||0;if(Re==="top")return window.pageYOffset||document.body.scrollTop||0}var BackgroundCells=function(Re){function je(_e,Me){var $e;return _classCallCheck(this,je),$e=_callSuper(this,je,[_e,Me]),$e.state={selecting:!1},$e.containerRef=reactExports.createRef(),$e}return _inherits(je,Re),_createClass(je,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(Me){!Me.selectable&&this.props.selectable&&this._selectable(),Me.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var Me=this.props,$e=Me.range,ke=Me.getNow,Ce=Me.getters,Be=Me.date,qe=Me.components.dateCellWrapper,He=Me.localizer,We=this.state,Ke=We.selecting,Je=We.startIdx,Qe=We.endIdx,rr=ke();return React$2.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},$e.map(function(tr,cr){var or=Ke&&cr>=Je&&cr<=Qe,ar=Ce.dayProp(tr),pr=ar.className,ur=ar.style;return React$2.createElement(qe,{key:cr,value:tr,range:$e},React$2.createElement("div",{style:ur,className:clsx("rbc-day-bg",pr,or&&"rbc-selected-cell",He.isSameDate(tr,rr)&&"rbc-today",Be&&He.neq(Be,tr,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var Me=this,$e=this.containerRef.current,ke=this._selector=new Selection(this.props.container,{longPressThreshold:this.props.longPressThreshold}),Ce=function(qe,He){if(!isEvent($e,qe)&&!isShowMore($e,qe)){var We=getBoundsForNode($e),Ke=Me.props,Je=Ke.range,Qe=Ke.rtl;if(pointInBox(We,qe)){var rr=getSlotAtX(We,qe.x,Qe,Je.length);Me._selectSlot({startIdx:rr,endIdx:rr,action:He,box:qe})}}Me._initial={},Me.setState({selecting:!1})};ke.on("selecting",function(Be){var qe=Me.props,He=qe.range,We=qe.rtl,Ke=-1,Je=-1;if(Me.state.selecting||(notify(Me.props.onSelectStart,[Be]),Me._initial={x:Be.x,y:Be.y}),ke.isSelected($e)){var Qe=getBoundsForNode($e),rr=dateCellSelection(Me._initial,Qe,Be,He.length,We);Ke=rr.startIdx,Je=rr.endIdx}Me.setState({selecting:!0,startIdx:Ke,endIdx:Je})}),ke.on("beforeSelect",function(Be){if(Me.props.selectable==="ignoreEvents")return!isEvent(Me.containerRef.current,Be)}),ke.on("click",function(Be){return Ce(Be,"click")}),ke.on("doubleClick",function(Be){return Ce(Be,"doubleClick")}),ke.on("select",function(Be){Me._selectSlot(_objectSpread2$1(_objectSpread2$1({},Me.state),{},{action:"select",bounds:Be})),Me._initial={},Me.setState({selecting:!1}),notify(Me.props.onSelectEnd,[Me.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(Me){var $e=Me.endIdx,ke=Me.startIdx,Ce=Me.action,Be=Me.bounds,qe=Me.box;$e!==-1&&ke!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:ke,end:$e,action:Ce,bounds:Be,box:qe,resourceId:this.props.resourceId})}}])}(React$2.Component),EventRowMixin={propTypes:{slotMetrics:PropTypes.object.isRequired,selected:PropTypes.object,isAllDay:PropTypes.bool,accessors:PropTypes.object.isRequired,localizer:PropTypes.object.isRequired,components:PropTypes.object.isRequired,getters:PropTypes.object.isRequired,onSelect:PropTypes.func,onDoubleClick:PropTypes.func,onKeyPress:PropTypes.func},defaultProps:{segments:[],selected:{}},renderEvent:function Re(je,_e){var Me=je.selected;je.isAllDay;var $e=je.accessors,ke=je.getters,Ce=je.onSelect,Be=je.onDoubleClick,qe=je.onKeyPress,He=je.localizer,We=je.slotMetrics,Ke=je.components,Je=je.resizable,Qe=We.continuesPrior(_e),rr=We.continuesAfter(_e);return React$2.createElement(EventCell,{event:_e,getters:ke,localizer:He,accessors:$e,components:Ke,onSelect:Ce,onDoubleClick:Be,onKeyPress:qe,continuesPrior:Qe,continuesAfter:rr,slotStart:We.first,slotEnd:We.last,selected:isSelected(_e,Me),resizable:Je})},renderSpan:function Re(je,_e,Me){var $e=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",ke=Math.abs(_e)/je*100+"%";return React$2.createElement("div",{key:Me,className:"rbc-row-segment",style:{WebkitFlexBasis:ke,flexBasis:ke,maxWidth:ke}},$e)}},EventRow=function(Re){function je(){return _classCallCheck(this,je),_callSuper(this,je,arguments)}return _inherits(je,Re),_createClass(je,[{key:"render",value:function(){var Me=this,$e=this.props,ke=$e.segments,Ce=$e.slotMetrics.slots,Be=$e.className,qe=1;return React$2.createElement("div",{className:clsx(Be,"rbc-row")},ke.reduce(function(He,We,Ke){var Je=We.event,Qe=We.left,rr=We.right,tr=We.span,cr="_lvl_"+Ke,or=Qe-qe,ar=EventRowMixin.renderEvent(Me.props,Je);return or&&He.push(EventRowMixin.renderSpan(Ce,or,"".concat(cr,"_gap"))),He.push(EventRowMixin.renderSpan(Ce,tr,cr,ar)),qe=rr+1,He},[]))}}])}(React$2.Component);EventRow.defaultProps=_objectSpread2$1({},EventRowMixin.defaultProps);function endOfRange(Re){var je=Re.dateRange,_e=Re.unit,Me=_e===void 0?"day":_e,$e=Re.localizer;return{first:je[0],last:$e.add(je[je.length-1],1,Me)}}function eventSegments(Re,je,_e,Me){var $e=endOfRange({dateRange:je,localizer:Me}),ke=$e.first,Ce=$e.last,Be=Me.diff(ke,Ce,"day"),qe=Me.max(Me.startOf(_e.start(Re),"day"),ke),He=Me.min(Me.ceil(_e.end(Re),"day"),Ce),We=findIndex$1(je,function(Je){return Me.isSameDate(Je,qe)}),Ke=Me.diff(qe,He,"day");return Ke=Math.min(Ke,Be),Ke=Math.max(Ke-Me.segmentOffset,1),{event:Re,span:Ke,left:We+1,right:Math.max(We+Ke,1)}}function eventLevels(Re){var je=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,_e,Me,$e,ke=[],Ce=[];for(_e=0;_e<Re.length;_e++){for($e=Re[_e],Me=0;Me<ke.length&&segsOverlap($e,ke[Me]);Me++);Me>=je?Ce.push($e):(ke[Me]||(ke[Me]=[])).push($e)}for(_e=0;_e<ke.length;_e++)ke[_e].sort(function(Be,qe){return Be.left-qe.left});return{levels:ke,extra:Ce}}function inRange(Re,je,_e,Me,$e){var ke={start:Me.start(Re),end:Me.end(Re)},Ce={start:je,end:_e};return $e.inEventRange({event:ke,range:Ce})}function segsOverlap(Re,je){return je.some(function(_e){return _e.left<=Re.right&&_e.right>=Re.left})}function sortWeekEvents(Re,je,_e){var Me=_toConsumableArray(Re),$e=[],ke=[];Me.forEach(function(qe){var He=je.start(qe),We=je.end(qe);_e.daySpan(He,We)>1?$e.push(qe):ke.push(qe)});var Ce=$e.sort(function(qe,He){return sortEvents(qe,He,je,_e)}),Be=ke.sort(function(qe,He){return sortEvents(qe,He,je,_e)});return[].concat(_toConsumableArray(Ce),_toConsumableArray(Be))}function sortEvents(Re,je,_e,Me){var $e={start:_e.start(Re),end:_e.end(Re),allDay:_e.allDay(Re)},ke={start:_e.start(je),end:_e.end(je),allDay:_e.allDay(je)};return Me.sortEvents({evtA:$e,evtB:ke})}var isSegmentInSlot$1=function Re(je,_e){return je.left<=_e&&je.right>=_e},eventsInSlot=function Re(je,_e){return je.filter(function(Me){return isSegmentInSlot$1(Me,_e)}).map(function(Me){return Me.event})},EventEndingRow=function(Re){function je(){return _classCallCheck(this,je),_callSuper(this,je,arguments)}return _inherits(je,Re),_createClass(je,[{key:"render",value:function(){for(var Me=this.props,$e=Me.segments,ke=Me.slotMetrics.slots,Ce=eventLevels($e).levels[0],Be=1,qe=1,He=[];Be<=ke;){var We="_lvl_"+Be,Ke=Ce.filter(function(ar){return isSegmentInSlot$1(ar,Be)})[0]||{},Je=Ke.event,Qe=Ke.left,rr=Ke.right,tr=Ke.span;if(!Je){Be++;continue}var cr=Math.max(0,Qe-qe);if(this.canRenderSlotEvent(Qe,tr)){var or=EventRowMixin.renderEvent(this.props,Je);cr&&He.push(EventRowMixin.renderSpan(ke,cr,We+"_gap")),He.push(EventRowMixin.renderSpan(ke,tr,We,or)),qe=Be=rr+1}else cr&&He.push(EventRowMixin.renderSpan(ke,cr,We+"_gap")),He.push(EventRowMixin.renderSpan(ke,1,We,this.renderShowMore($e,Be))),qe=Be=Be+1}return React$2.createElement("div",{className:"rbc-row"},He)}},{key:"canRenderSlotEvent",value:function(Me,$e){var ke=this.props.segments;return range$1$1(Me,Me+$e).every(function(Ce){var Be=eventsInSlot(ke,Ce).length;return Be===1})}},{key:"renderShowMore",value:function(Me,$e){var ke=this,Ce=this.props,Be=Ce.localizer,qe=Ce.slotMetrics,He=Ce.components,We=qe.getEventsForSlot($e),Ke=eventsInSlot(Me,$e),Je=Ke.length;if(He!=null&&He.showMore){var Qe=He.showMore,rr=qe.getDateForSlot($e-1);return Je?React$2.createElement(Qe,{localizer:Be,slotDate:rr,slot:$e,count:Je,events:We,remainingEvents:Ke}):!1}return Je?React$2.createElement("button",{type:"button",key:"sm_"+$e,className:clsx("rbc-button-link","rbc-show-more"),onClick:function(cr){return ke.showMore($e,cr)}},Be.messages.showMore(Je,Ke,We)):!1}},{key:"showMore",value:function(Me,$e){$e.preventDefault(),$e.stopPropagation(),this.props.onShowMore(Me,$e.target)}}])}(React$2.Component);EventEndingRow.defaultProps=_objectSpread2$1({},EventRowMixin.defaultProps);var ScrollableWeekWrapper=function Re(je){var _e=je.children;return React$2.createElement("div",{className:"rbc-row-content-scroll-container"},_e)},isSegmentInSlot2=function Re(je,_e){return je.left<=_e&&je.right>=_e},isEqual$1=function Re(je,_e){return je[0].range===_e[0].range&&je[0].events===_e[0].events};function getSlotMetrics$1(){return memoizeOne(function(Re){for(var je=Re.range,_e=Re.events,Me=Re.maxRows,$e=Re.minRows,ke=Re.accessors,Ce=Re.localizer,Be=endOfRange({dateRange:je,localizer:Ce}),qe=Be.first,He=Be.last,We=_e.map(function(tr){return eventSegments(tr,je,ke,Ce)}),Ke=eventLevels(We,Math.max(Me-1,1)),Je=Ke.levels,Qe=Ke.extra,rr=Qe.length>0?$e-1:$e;Je.length<rr;)Je.push([]);return{first:qe,last:He,levels:Je,extra:Qe,range:je,slots:je.length,clone:function(cr){var or=getSlotMetrics$1();return or(_objectSpread2$1(_objectSpread2$1({},Re),cr))},getDateForSlot:function(cr){return je[cr]},getSlotForDate:function(cr){return je.find(function(or){return Ce.isSameDate(or,cr)})},getEventsForSlot:function(cr){return We.filter(function(or){return isSegmentInSlot2(or,cr)}).map(function(or){return or.event})},continuesPrior:function(cr){return Ce.continuesPrior(ke.start(cr),qe)},continuesAfter:function(cr){var or=ke.start(cr),ar=ke.end(cr);return Ce.continuesAfter(or,ar,He)}}},isEqual$1)}var DateContentRow=function(Re){function je(){var _e;_classCallCheck(this,je);for(var Me=arguments.length,$e=new Array(Me),ke=0;ke<Me;ke++)$e[ke]=arguments[ke];return _e=_callSuper(this,je,[].concat($e)),_e.handleSelectSlot=function(Ce){var Be=_e.props,qe=Be.range,He=Be.onSelectSlot;He(qe.slice(Ce.start,Ce.end+1),Ce)},_e.handleShowMore=function(Ce,Be){var qe=_e.props,He=qe.range,We=qe.onShowMore,Ke=_e.slotMetrics(_e.props),Je=qsa(_e.containerRef.current,".rbc-row-bg")[0],Qe;Je&&(Qe=Je.children[Ce-1]);var rr=Ke.getEventsForSlot(Ce);We(rr,He[Ce-1],Qe,Ce,Be)},_e.getContainer=function(){var Ce=_e.props.container;return Ce?Ce():_e.containerRef.current},_e.renderHeadingCell=function(Ce,Be){var qe=_e.props,He=qe.renderHeader,We=qe.getNow,Ke=qe.localizer;return He({date:Ce,key:"header_".concat(Be),className:clsx("rbc-date-cell",Ke.isSameDate(Ce,We())&&"rbc-now")})},_e.renderDummy=function(){var Ce=_e.props,Be=Ce.className,qe=Ce.range,He=Ce.renderHeader,We=Ce.showAllEvents;return React$2.createElement("div",{className:Be,ref:_e.containerRef},React$2.createElement("div",{className:clsx("rbc-row-content",We&&"rbc-row-content-scrollable")},He&&React$2.createElement("div",{className:"rbc-row",ref:_e.headingRowRef},qe.map(_e.renderHeadingCell)),React$2.createElement("div",{className:"rbc-row",ref:_e.eventRowRef},React$2.createElement("div",{className:"rbc-row-segment"},React$2.createElement("div",{className:"rbc-event"},React$2.createElement("div",{className:"rbc-event-content"},""))))))},_e.containerRef=reactExports.createRef(),_e.headingRowRef=reactExports.createRef(),_e.eventRowRef=reactExports.createRef(),_e.slotMetrics=getSlotMetrics$1(),_e}return _inherits(je,Re),_createClass(je,[{key:"getRowLimit",value:function(){var Me,$e=height(this.eventRowRef.current),ke=(Me=this.headingRowRef)!==null&&Me!==void 0&&Me.current?height(this.headingRowRef.current):0,Ce=height(this.containerRef.current)-ke;return Math.max(Math.floor(Ce/$e),1)}},{key:"render",value:function(){var Me=this.props,$e=Me.date,ke=Me.rtl,Ce=Me.range,Be=Me.className,qe=Me.selected,He=Me.selectable,We=Me.renderForMeasure,Ke=Me.accessors,Je=Me.getters,Qe=Me.components,rr=Me.getNow,tr=Me.renderHeader,cr=Me.onSelect,or=Me.localizer,ar=Me.onSelectStart,pr=Me.onSelectEnd,ur=Me.onDoubleClick,gr=Me.onKeyPress,jr=Me.resourceId,vr=Me.longPressThreshold,dr=Me.isAllDay,xr=Me.resizable,Rr=Me.showAllEvents;if(We)return this.renderDummy();var Xe=this.slotMetrics(this.props),Pe=Xe.levels,Fe=Xe.extra,ze=Rr?ScrollableWeekWrapper:NoopWrapper,Ue=Qe.weekWrapper,Ge={selected:qe,accessors:Ke,getters:Je,localizer:or,components:Qe,onSelect:cr,onDoubleClick:ur,onKeyPress:gr,resourceId:jr,slotMetrics:Xe,resizable:xr};return React$2.createElement("div",{className:Be,role:"rowgroup",ref:this.containerRef},React$2.createElement(BackgroundCells,{localizer:or,date:$e,getNow:rr,rtl:ke,range:Ce,selectable:He,container:this.getContainer,getters:Je,onSelectStart:ar,onSelectEnd:pr,onSelectSlot:this.handleSelectSlot,components:Qe,longPressThreshold:vr,resourceId:jr}),React$2.createElement("div",{className:clsx("rbc-row-content",Rr&&"rbc-row-content-scrollable"),role:"row"},tr&&React$2.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},Ce.map(this.renderHeadingCell)),React$2.createElement(ze,null,React$2.createElement(Ue,Object.assign({isAllDay:dr},Ge,{rtl:this.props.rtl}),Pe.map(function(Ze,er){return React$2.createElement(EventRow,Object.assign({key:er,segments:Ze},Ge))}),!!Fe.length&&React$2.createElement(EventEndingRow,Object.assign({segments:Fe,onShowMore:this.handleShowMore},Ge))))))}}])}(React$2.Component);DateContentRow.defaultProps={minRows:0,maxRows:1/0};var Header=function Re(je){var _e=je.label;return React$2.createElement("span",{role:"columnheader","aria-sort":"none"},_e)},DateHeader=function Re(je){var _e=je.label,Me=je.drilldownView,$e=je.onDrillDown;return Me?React$2.createElement("button",{type:"button",className:"rbc-button-link",onClick:$e},_e):React$2.createElement("span",null,_e)},_excluded$6=["date","className"],eventsForWeek=function Re(je,_e,Me,$e,ke){return je.filter(function(Ce){return inRange(Ce,_e,Me,$e,ke)})},MonthView=function(Re){function je(){var _e;_classCallCheck(this,je);for(var Me=arguments.length,$e=new Array(Me),ke=0;ke<Me;ke++)$e[ke]=arguments[ke];return _e=_callSuper(this,je,[].concat($e)),_e.getContainer=function(){return _e.containerRef.current},_e.renderWeek=function(Ce,Be){var qe=_e.props,He=qe.events,We=qe.components,Ke=qe.selectable,Je=qe.getNow,Qe=qe.selected,rr=qe.date,tr=qe.localizer,cr=qe.longPressThreshold,or=qe.accessors,ar=qe.getters,pr=qe.showAllEvents,ur=_e.state,gr=ur.needLimitMeasure,jr=ur.rowLimit,vr=eventsForWeek(_toConsumableArray(He),Ce[0],Ce[Ce.length-1],or,tr),dr=sortWeekEvents(vr,or,tr);return React$2.createElement(DateContentRow,{key:Be,ref:Be===0?_e.slotRowRef:void 0,container:_e.getContainer,className:"rbc-month-row",getNow:Je,date:rr,range:Ce,events:dr,maxRows:pr?1/0:jr,selected:Qe,selectable:Ke,components:We,accessors:or,getters:ar,localizer:tr,renderHeader:_e.readerDateHeading,renderForMeasure:gr,onShowMore:_e.handleShowMore,onSelect:_e.handleSelectEvent,onDoubleClick:_e.handleDoubleClickEvent,onKeyPress:_e.handleKeyPressEvent,onSelectSlot:_e.handleSelectSlot,longPressThreshold:cr,rtl:_e.props.rtl,resizable:_e.props.resizable,showAllEvents:pr})},_e.readerDateHeading=function(Ce){var Be=Ce.date,qe=Ce.className,He=_objectWithoutProperties(Ce,_excluded$6),We=_e.props,Ke=We.date,Je=We.getDrilldownView,Qe=We.localizer,rr=Qe.neq(Be,Ke,"month"),tr=Qe.isSameDate(Be,Ke),cr=Je(Be),or=Qe.format(Be,"dateFormat"),ar=_e.props.components.dateHeader||DateHeader;return React$2.createElement("div",Object.assign({},He,{className:clsx(qe,rr&&"rbc-off-range",tr&&"rbc-current"),role:"cell"}),React$2.createElement(ar,{label:or,date:Be,drilldownView:cr,isOffRange:rr,onDrillDown:function(ur){return _e.handleHeadingClick(Be,cr,ur)}}))},_e.handleSelectSlot=function(Ce,Be){_e._pendingSelection=_e._pendingSelection.concat(Ce),clearTimeout(_e._selectTimer),_e._selectTimer=setTimeout(function(){return _e.selectDates(Be)})},_e.handleHeadingClick=function(Ce,Be,qe){qe.preventDefault(),_e.clearSelection(),notify(_e.props.onDrillDown,[Ce,Be])},_e.handleSelectEvent=function(){_e.clearSelection();for(var Ce=arguments.length,Be=new Array(Ce),qe=0;qe<Ce;qe++)Be[qe]=arguments[qe];notify(_e.props.onSelectEvent,Be)},_e.handleDoubleClickEvent=function(){_e.clearSelection();for(var Ce=arguments.length,Be=new Array(Ce),qe=0;qe<Ce;qe++)Be[qe]=arguments[qe];notify(_e.props.onDoubleClickEvent,Be)},_e.handleKeyPressEvent=function(){_e.clearSelection();for(var Ce=arguments.length,Be=new Array(Ce),qe=0;qe<Ce;qe++)Be[qe]=arguments[qe];notify(_e.props.onKeyPressEvent,Be)},_e.handleShowMore=function(Ce,Be,qe,He,We){var Ke=_e.props,Je=Ke.popup,Qe=Ke.onDrillDown,rr=Ke.onShowMore,tr=Ke.getDrilldownView,cr=Ke.doShowMoreDrillDown;if(_e.clearSelection(),Je){var or=position(qe,_e.containerRef.current);_e.setState({overlay:{date:Be,events:Ce,position:or,target:We}})}else cr&&notify(Qe,[Be,tr(Be)||views.DAY]);notify(rr,[Ce,Be,He])},_e.overlayDisplay=function(){_e.setState({overlay:null})},_e.state={rowLimit:5,needLimitMeasure:!0,date:null},_e.containerRef=reactExports.createRef(),_e.slotRowRef=reactExports.createRef(),_e._bgRows=[],_e._pendingSelection=[],_e}return _inherits(je,Re),_createClass(je,[{key:"componentDidMount",value:function(){var Me=this,$e;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){$e||request(function(){$e=!1,Me.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var Me=this.props,$e=Me.date,ke=Me.localizer,Ce=Me.className,Be=ke.visibleDays($e,ke),qe=chunk$1(Be,7);return this._weekCount=qe.length,React$2.createElement("div",{className:clsx("rbc-month-view",Ce),role:"table","aria-label":"Month View",ref:this.containerRef},React$2.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(qe[0])),qe.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(Me){var $e=this.props,ke=$e.localizer,Ce=$e.components,Be=Me[0],qe=Me[Me.length-1],He=Ce.header||Header;return ke.range(Be,qe,"day").map(function(We,Ke){return React$2.createElement("div",{key:"header_"+Ke,className:"rbc-header"},React$2.createElement(He,{date:We,localizer:ke,label:ke.format(We,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var Me,$e,ke=this,Ce=(Me=($e=this.state)===null||$e===void 0?void 0:$e.overlay)!==null&&Me!==void 0?Me:{},Be=this.props,qe=Be.accessors,He=Be.localizer,We=Be.components,Ke=Be.getters,Je=Be.selected,Qe=Be.popupOffset,rr=Be.handleDragStart,tr=function(){return ke.setState({overlay:null})};return React$2.createElement(PopOverlay,{overlay:Ce,accessors:qe,localizer:He,components:We,getters:Ke,selected:Je,popupOffset:Qe,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:rr,show:!!Ce.position,overlayDisplay:this.overlayDisplay,onHide:tr})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(Me){var $e=this._pendingSelection.slice();this._pendingSelection=[],$e.sort(function(Be,qe){return+Be-+qe});var ke=new Date($e[0]),Ce=new Date($e[$e.length-1]);Ce.setDate($e[$e.length-1].getDate()+1),notify(this.props.onSelectSlot,{slots:$e,start:ke,end:Ce,action:Me.action,bounds:Me.bounds,box:Me.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(Me,$e){var ke=Me.date,Ce=Me.localizer;return{date:ke,needLimitMeasure:Ce.neq(ke,$e.date,"month")}}}])}(React$2.Component);MonthView.range=function(Re,je){var _e=je.localizer,Me=_e.firstVisibleDay(Re,_e),$e=_e.lastVisibleDay(Re,_e);return{start:Me,end:$e}};MonthView.navigate=function(Re,je,_e){var Me=_e.localizer;switch(je){case navigate$1.PREVIOUS:return Me.add(Re,-1,"month");case navigate$1.NEXT:return Me.add(Re,1,"month");default:return Re}};MonthView.title=function(Re,je){var _e=je.localizer;return _e.format(Re,"monthHeaderFormat")};var getKey=function Re(je){var _e=je.min,Me=je.max,$e=je.step,ke=je.slots,Ce=je.localizer;return"".concat(+Ce.startOf(_e,"minutes"))+"".concat(+Ce.startOf(Me,"minutes"))+"".concat($e,"-").concat(ke)};function getSlotMetrics(Re){for(var je=Re.min,_e=Re.max,Me=Re.step,$e=Re.timeslots,ke=Re.localizer,Ce=getKey({start:je,end:_e,step:Me,timeslots:$e,localizer:ke}),Be=1+ke.getTotalMin(je,_e),qe=ke.getMinutesFromMidnight(je),He=Math.ceil((Be-1)/(Me*$e)),We=He*$e,Ke=new Array(He),Je=new Array(We),Qe=0;Qe<He;Qe++){Ke[Qe]=new Array($e);for(var rr=0;rr<$e;rr++){var tr=Qe*$e+rr,cr=tr*Me;Je[tr]=Ke[Qe][rr]=ke.getSlotDate(je,qe,cr)}}var or=Je.length*Me;Je.push(ke.getSlotDate(je,qe,or));function ar(pr){var ur=ke.diff(je,pr,"minutes")+ke.getDstOffset(je,pr);return Math.min(ur,Be)}return{groups:Ke,update:function(ur){return getKey(ur)!==Ce?getSlotMetrics(ur):this},dateIsInGroup:function(ur,gr){var jr=Ke[gr+1];return ke.inRange(ur,Ke[gr][0],jr?jr[0]:_e,"minutes")},nextSlot:function(ur){var gr=Je[Math.min(Je.findIndex(function(jr){return jr===ur||ke.eq(jr,ur)})+1,Je.length-1)];return ke.eq(gr,ur)&&(gr=ke.add(ur,Me,"minutes")),gr},closestSlotToPosition:function(ur){var gr=Math.min(Je.length-1,Math.max(0,Math.floor(ur*We)));return Je[gr]},closestSlotFromPoint:function(ur,gr){var jr=Math.abs(gr.top-gr.bottom);return this.closestSlotToPosition((ur.y-gr.top)/jr)},closestSlotFromDate:function(ur){var gr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(ke.lt(ur,je,"minutes"))return Je[0];if(ke.gt(ur,_e,"minutes"))return Je[Je.length-1];var jr=ke.diff(je,ur,"minutes");return Je[(jr-jr%Me)/Me+gr]},startsBeforeDay:function(ur){return ke.lt(ur,je,"day")},startsAfterDay:function(ur){return ke.gt(ur,_e,"day")},startsBefore:function(ur){return ke.lt(ke.merge(je,ur),je,"minutes")},startsAfter:function(ur){return ke.gt(ke.merge(_e,ur),_e,"minutes")},getRange:function(ur,gr,jr,vr){jr||(ur=ke.min(_e,ke.max(je,ur))),vr||(gr=ke.min(_e,ke.max(je,gr)));var dr=ar(ur),xr=ar(gr),Rr=xr>Me*We&&!ke.eq(_e,gr)?(dr-Me)/(Me*We)*100:dr/(Me*We)*100;return{top:Rr,height:xr/(Me*We)*100-Rr,start:ar(ur),startDate:ur,end:ar(gr),endDate:gr}},getCurrentTimePosition:function(ur){var gr=ar(ur),jr=gr/(Me*We)*100;return jr}}}var Event$1=function(){function Re(je,_e){var Me=_e.accessors,$e=_e.slotMetrics;_classCallCheck(this,Re);var ke=$e.getRange(Me.start(je),Me.end(je)),Ce=ke.start,Be=ke.startDate,qe=ke.end,He=ke.endDate,We=ke.top,Ke=ke.height;this.start=Ce,this.end=qe,this.startMs=+Be,this.endMs=+He,this.top=We,this.height=Ke,this.data=je}return _createClass(Re,[{key:"_width",get:function(){if(this.rows){var _e=this.rows.reduce(function($e,ke){return Math.max($e,ke.leaves.length+1)},0)+1;return 100/_e}if(this.leaves){var Me=100-this.container._width;return Me/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var _e=this._width,Me=Math.min(100,this._width*1.7);if(this.rows)return Me;if(this.leaves)return this.leaves.length>0?Me:_e;var $e=this.row.leaves,ke=$e.indexOf(this);return ke===$e.length-1?_e:Me}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var _e=this.row,Me=_e.leaves,$e=_e.xOffset,ke=_e._width,Ce=Me.indexOf(this)+1;return $e+Ce*ke}}])}();function onSameRow(Re,je,_e){return Math.abs(je.start-Re.start)<_e||je.start>Re.start&&je.start<Re.end}function sortByRender(Re){for(var je=sortBy$1(Re,["startMs",function(Be){return-Be.endMs}]),_e=[];je.length>0;){var Me=je.shift();_e.push(Me);for(var $e=0;$e<je.length;$e++){var ke=je[$e];if(!(Me.endMs>ke.startMs)){if($e>0){var Ce=je.splice($e,1)[0];_e.push(Ce)}break}}}return _e}function getStyledEvents$1(Re){for(var je=Re.events,_e=Re.minimumStartDifference,Me=Re.slotMetrics,$e=Re.accessors,ke=je.map(function(We){return new Event$1(We,{slotMetrics:Me,accessors:$e})}),Ce=sortByRender(ke),Be=[],qe=function(){var Ke=Ce[He],Je=Be.find(function(tr){return tr.end>Ke.start||Math.abs(Ke.start-tr.start)<_e});if(!Je)return Ke.rows=[],Be.push(Ke),1;Ke.container=Je;for(var Qe=null,rr=Je.rows.length-1;!Qe&&rr>=0;rr--)onSameRow(Je.rows[rr],Ke,_e)&&(Qe=Je.rows[rr]);Qe?(Qe.leaves.push(Ke),Ke.row=Qe):(Ke.leaves=[],Je.rows.push(Ke))},He=0;He<Ce.length;He++)qe();return Ce.map(function(We){return{event:We.data,style:{top:We.top,height:We.height,width:We.width,xOffset:Math.max(0,We.xOffset)}}})}function getMaxIdxDFS(Re,je,_e){for(var Me=0;Me<Re.friends.length;++Me)if(!(_e.indexOf(Re.friends[Me])>-1)){je=je>Re.friends[Me].idx?je:Re.friends[Me].idx,_e.push(Re.friends[Me]);var $e=getMaxIdxDFS(Re.friends[Me],je,_e);je=je>$e?je:$e}return je}function noOverlap(Re){var je=Re.events,_e=Re.minimumStartDifference,Me=Re.slotMetrics,$e=Re.accessors,ke=getStyledEvents$1({events:je,minimumStartDifference:_e,slotMetrics:Me,accessors:$e});ke.sort(function(Ue,Ge){return Ue=Ue.style,Ge=Ge.style,Ue.top!==Ge.top?Ue.top>Ge.top?1:-1:Ue.height!==Ge.height?Ue.top+Ue.height<Ge.top+Ge.height?1:-1:0});for(var Ce=0;Ce<ke.length;++Ce)ke[Ce].friends=[],delete ke[Ce].style.left,delete ke[Ce].style.left,delete ke[Ce].idx,delete ke[Ce].size;for(var Be=0;Be<ke.length-1;++Be)for(var qe=ke[Be],He=qe.style.top,We=qe.style.top+qe.style.height,Ke=Be+1;Ke<ke.length;++Ke){var Je=ke[Ke],Qe=Je.style.top,rr=Je.style.top+Je.style.height;(Qe>=He&&rr<=We||rr>He&&rr<=We||Qe>=He&&Qe<We)&&(qe.friends.push(Je),Je.friends.push(qe))}for(var tr=0;tr<ke.length;++tr){for(var cr=ke[tr],or=[],ar=0;ar<100;++ar)or.push(1);for(var pr=0;pr<cr.friends.length;++pr)cr.friends[pr].idx!==void 0&&(or[cr.friends[pr].idx]=0);cr.idx=or.indexOf(1)}for(var ur=0;ur<ke.length;++ur){var gr=0;if(!ke[ur].size){var jr=[],vr=getMaxIdxDFS(ke[ur],0,jr);gr=100/(vr+1),ke[ur].size=gr;for(var dr=0;dr<jr.length;++dr)jr[dr].size=gr}}for(var xr=0;xr<ke.length;++xr){var Rr=ke[xr];Rr.style.left=Rr.idx*Rr.size;for(var Xe=0,Pe=0;Pe<Rr.friends.length;++Pe){var Fe=Rr.friends[Pe].idx;Xe=Xe>Fe?Xe:Fe}Xe<=Rr.idx&&(Rr.size=100-Rr.idx*Rr.size);var ze=Rr.idx===0?0:3;Rr.style.width="calc(".concat(Rr.size,"% - ").concat(ze,"px)"),Rr.style.height="calc(".concat(Rr.style.height,"% - 2px)"),Rr.style.xOffset="calc(".concat(Rr.style.left,"% + ").concat(ze,"px)")}return ke}var DefaultAlgorithms={overlap:getStyledEvents$1,"no-overlap":noOverlap};function isFunction(Re){return!!(Re&&Re.constructor&&Re.call&&Re.apply)}function getStyledEvents(Re){Re.events,Re.minimumStartDifference,Re.slotMetrics,Re.accessors;var je=Re.dayLayoutAlgorithm,_e=je;return je in DefaultAlgorithms&&(_e=DefaultAlgorithms[je]),isFunction(_e)?_e.apply(this,arguments):[]}var TimeSlotGroup=function(Re){function je(){return _classCallCheck(this,je),_callSuper(this,je,arguments)}return _inherits(je,Re),_createClass(je,[{key:"render",value:function(){var Me=this.props,$e=Me.renderSlot,ke=Me.resource,Ce=Me.group,Be=Me.getters,qe=Me.components,He=qe===void 0?{}:qe,We=He.timeSlotWrapper,Ke=We===void 0?NoopWrapper:We,Je=Be?Be.slotGroupProp(Ce):{};return React$2.createElement("div",Object.assign({className:"rbc-timeslot-group"},Je),Ce.map(function(Qe,rr){var tr=Be?Be.slotProp(Qe,ke):{};return React$2.createElement(Ke,{key:rr,value:Qe,resource:ke},React$2.createElement("div",Object.assign({},tr,{className:clsx("rbc-time-slot",tr.className)}),$e&&$e(Qe,rr)))}))}}])}(reactExports.Component);function stringifyPercent(Re){return typeof Re=="string"?Re:Re+"%"}function TimeGridEvent(Re){var je=Re.style,_e=Re.className,Me=Re.event,$e=Re.accessors,ke=Re.rtl,Ce=Re.selected,Be=Re.label,qe=Re.continuesPrior,He=Re.continuesAfter,We=Re.getters,Ke=Re.onClick,Je=Re.onDoubleClick,Qe=Re.isBackgroundEvent,rr=Re.onKeyPress,tr=Re.components,cr=tr.event,or=tr.eventWrapper,ar=$e.title(Me),pr=$e.tooltip(Me),ur=$e.end(Me),gr=$e.start(Me),jr=We.eventProp(Me,gr,ur,Ce),vr=[React$2.createElement("div",{key:"1",className:"rbc-event-label"},Be),React$2.createElement("div",{key:"2",className:"rbc-event-content"},cr?React$2.createElement(cr,{event:Me,title:ar}):ar)],dr=je.height,xr=je.top,Rr=je.width,Xe=je.xOffset,Pe=_objectSpread2$1(_objectSpread2$1({},jr.style),{},_defineProperty$2({top:stringifyPercent(xr),height:stringifyPercent(dr),width:stringifyPercent(Rr)},ke?"right":"left",stringifyPercent(Xe)));return React$2.createElement(or,Object.assign({type:"time"},Re),React$2.createElement("div",{role:"button",tabIndex:0,onClick:Ke,onDoubleClick:Je,style:Pe,onKeyDown:rr,title:pr?(typeof Be=="string"?Be+": ":"")+pr:void 0,className:clsx(Qe?"rbc-background-event":"rbc-event",_e,jr.className,{"rbc-selected":Ce,"rbc-event-continues-earlier":qe,"rbc-event-continues-later":He})},vr))}var DayColumnWrapper=function Re(je){var _e=je.children,Me=je.className,$e=je.style,ke=je.innerRef;return React$2.createElement("div",{className:Me,style:$e,ref:ke},_e)},DayColumnWrapper$1=React$2.forwardRef(function(Re,je){return React$2.createElement(DayColumnWrapper,Object.assign({},Re,{innerRef:je}))}),_excluded$5=["dayProp"],_excluded2$1=["eventContainerWrapper"],DayColumn=function(Re){function je(){var _e;_classCallCheck(this,je);for(var Me=arguments.length,$e=new Array(Me),ke=0;ke<Me;ke++)$e[ke]=arguments[ke];return _e=_callSuper(this,je,[].concat($e)),_e.state={selecting:!1,timeIndicatorPosition:null},_e.intervalTriggered=!1,_e.renderEvents=function(Ce){var Be=Ce.events,qe=Ce.isBackgroundEvent,He=_e.props,We=He.rtl,Ke=He.selected,Je=He.accessors,Qe=He.localizer,rr=He.getters,tr=He.components,cr=He.step,or=He.timeslots,ar=He.dayLayoutAlgorithm,pr=He.resizable,ur=_e,gr=ur.slotMetrics,jr=Qe.messages,vr=getStyledEvents({events:Be,accessors:Je,slotMetrics:gr,minimumStartDifference:Math.ceil(cr*or/2),dayLayoutAlgorithm:ar});return vr.map(function(dr,xr){var Rr,Xe=dr.event,Pe=dr.style,Fe=Je.end(Xe),ze=Je.start(Xe),Ue=(Rr=Je.eventId(Xe))!==null&&Rr!==void 0?Rr:"evt_"+xr,Ge="eventTimeRangeFormat",Ze,er=gr.startsBeforeDay(ze),Ve=gr.startsAfterDay(Fe);er?Ge="eventTimeRangeEndFormat":Ve&&(Ge="eventTimeRangeStartFormat"),er&&Ve?Ze=jr.allDay:Ze=Qe.format({start:ze,end:Fe},Ge);var Ie=er||gr.startsBefore(ze),Ye=Ve||gr.startsAfter(Fe);return React$2.createElement(TimeGridEvent,{style:Pe,event:Xe,label:Ze,key:Ue,getters:rr,rtl:We,components:tr,continuesPrior:Ie,continuesAfter:Ye,accessors:Je,resource:_e.props.resource,selected:isSelected(Xe,Ke),onClick:function(lr){return _e._select(_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({},Xe),_e.props.resource&&{sourceResource:_e.props.resource}),qe&&{isBackgroundEvent:!0}),lr)},onDoubleClick:function(lr){return _e._doubleClick(Xe,lr)},isBackgroundEvent:qe,onKeyPress:function(lr){return _e._keyPress(Xe,lr)},resizable:pr})})},_e._selectable=function(){var Ce=_e.containerRef.current,Be=_e.props,qe=Be.longPressThreshold,He=Be.localizer,We=_e._selector=new Selection(function(){return Ce},{longPressThreshold:qe}),Ke=function(tr){var cr=_e.props.onSelecting,or=_e.state||{},ar=Je(tr),pr=ar.startDate,ur=ar.endDate;cr&&(He.eq(or.startDate,pr,"minutes")&&He.eq(or.endDate,ur,"minutes")||cr({start:pr,end:ur,resourceId:_e.props.resource})===!1)||(_e.state.start!==ar.start||_e.state.end!==ar.end||_e.state.selecting!==ar.selecting)&&_e.setState(ar)},Je=function(tr){var cr=_e.slotMetrics.closestSlotFromPoint(tr,getBoundsForNode(Ce));_e.state.selecting||(_e._initialSlot=cr);var or=_e._initialSlot;He.lte(or,cr)?cr=_e.slotMetrics.nextSlot(cr):He.gt(or,cr)&&(or=_e.slotMetrics.nextSlot(or));var ar=_e.slotMetrics.getRange(He.min(or,cr),He.max(or,cr));return _objectSpread2$1(_objectSpread2$1({},ar),{},{selecting:!0,top:"".concat(ar.top,"%"),height:"".concat(ar.height,"%")})},Qe=function(tr,cr){if(!isEvent(_e.containerRef.current,tr)){var or=Je(tr),ar=or.startDate,pr=or.endDate;_e._selectSlot({startDate:ar,endDate:pr,action:cr,box:tr})}_e.setState({selecting:!1})};We.on("selecting",Ke),We.on("selectStart",Ke),We.on("beforeSelect",function(rr){if(_e.props.selectable==="ignoreEvents")return!isEvent(_e.containerRef.current,rr)}),We.on("click",function(rr){return Qe(rr,"click")}),We.on("doubleClick",function(rr){return Qe(rr,"doubleClick")}),We.on("select",function(rr){_e.state.selecting&&(_e._selectSlot(_objectSpread2$1(_objectSpread2$1({},_e.state),{},{action:"select",bounds:rr})),_e.setState({selecting:!1}))}),We.on("reset",function(){_e.state.selecting&&_e.setState({selecting:!1})})},_e._teardownSelectable=function(){_e._selector&&(_e._selector.teardown(),_e._selector=null)},_e._selectSlot=function(Ce){for(var Be=Ce.startDate,qe=Ce.endDate,He=Ce.action,We=Ce.bounds,Ke=Ce.box,Je=Be,Qe=[];_e.props.localizer.lte(Je,qe);)Qe.push(Je),Je=new Date(+Je+_e.props.step*60*1e3);notify(_e.props.onSelectSlot,{slots:Qe,start:Be,end:qe,resourceId:_e.props.resource,action:He,bounds:We,box:Ke})},_e._select=function(){for(var Ce=arguments.length,Be=new Array(Ce),qe=0;qe<Ce;qe++)Be[qe]=arguments[qe];notify(_e.props.onSelectEvent,Be)},_e._doubleClick=function(){for(var Ce=arguments.length,Be=new Array(Ce),qe=0;qe<Ce;qe++)Be[qe]=arguments[qe];notify(_e.props.onDoubleClickEvent,Be)},_e._keyPress=function(){for(var Ce=arguments.length,Be=new Array(Ce),qe=0;qe<Ce;qe++)Be[qe]=arguments[qe];notify(_e.props.onKeyPressEvent,Be)},_e.slotMetrics=getSlotMetrics(_e.props),_e.containerRef=reactExports.createRef(),_e}return _inherits(je,Re),_createClass(je,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(Me,$e){this.props.selectable&&!Me.selectable&&this._selectable(),!this.props.selectable&&Me.selectable&&this._teardownSelectable();var ke=this.props,Ce=ke.getNow,Be=ke.isNow,qe=ke.localizer,He=ke.date,We=ke.min,Ke=ke.max,Je=qe.neq(Me.getNow(),Ce(),"minutes");if(Me.isNow!==Be||Je){if(this.clearTimeIndicatorInterval(),Be){var Qe=!Je&&qe.eq(Me.date,He,"minutes")&&$e.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(Qe)}}else Be&&(qe.neq(Me.min,We,"minutes")||qe.neq(Me.max,Ke,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var Me=this,$e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!$e&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){Me.intervalTriggered=!0,Me.positionTimeIndicator(),Me.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var Me=this.props,$e=Me.min,ke=Me.max,Ce=Me.getNow,Be=Ce();if(Be>=$e&&Be<=ke){var qe=this.slotMetrics.getCurrentTimePosition(Be);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:qe})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var Me=this.props,$e=Me.date,ke=Me.max,Ce=Me.rtl,Be=Me.isNow,qe=Me.resource,He=Me.accessors,We=Me.localizer,Ke=Me.getters,Je=Ke.dayProp,Qe=_objectWithoutProperties(Ke,_excluded$5),rr=Me.components,tr=rr.eventContainerWrapper,cr=_objectWithoutProperties(rr,_excluded2$1);this.slotMetrics=this.slotMetrics.update(this.props);var or=this.slotMetrics,ar=this.state,pr=ar.selecting,ur=ar.top,gr=ar.height,jr=ar.startDate,vr=ar.endDate,dr={start:jr,end:vr},xr=Je(ke,qe),Rr=xr.className,Xe=xr.style,Pe=cr.dayColumnWrapper||DayColumnWrapper$1;return React$2.createElement(Pe,{ref:this.containerRef,date:$e,style:Xe,className:clsx(Rr,"rbc-day-slot","rbc-time-column",Be&&"rbc-now",Be&&"rbc-today",pr&&"rbc-slot-selecting"),slotMetrics:or,resource:qe},or.groups.map(function(Fe,ze){return React$2.createElement(TimeSlotGroup,{key:ze,group:Fe,resource:qe,getters:Qe,components:cr})}),React$2.createElement(tr,{localizer:We,resource:qe,accessors:He,getters:Qe,components:cr,slotMetrics:or},React$2.createElement("div",{className:clsx("rbc-events-container",Ce&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),pr&&React$2.createElement("div",{className:"rbc-slot-selection",style:{top:ur,height:gr}},React$2.createElement("span",null,We.format(dr,"selectRangeFormat"))),Be&&this.intervalTriggered&&React$2.createElement("div",{className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}}))}}])}(React$2.Component);DayColumn.defaultProps={dragThroughEvents:!0,timeslots:2};var ResourceHeader=function Re(je){var _e=je.label;return React$2.createElement(React$2.Fragment,null,_e)},TimeGridHeader=function(Re){function je(){var _e;_classCallCheck(this,je);for(var Me=arguments.length,$e=new Array(Me),ke=0;ke<Me;ke++)$e[ke]=arguments[ke];return _e=_callSuper(this,je,[].concat($e)),_e.handleHeaderClick=function(Ce,Be,qe){qe.preventDefault(),notify(_e.props.onDrillDown,[Ce,Be])},_e.renderRow=function(Ce){var Be=_e.props,qe=Be.events,He=Be.rtl,We=Be.selectable,Ke=Be.getNow,Je=Be.range,Qe=Be.getters,rr=Be.localizer,tr=Be.accessors,cr=Be.components,or=Be.resizable,ar=tr.resourceId(Ce),pr=Ce?qe.filter(function(ur){return tr.resource(ur)===ar}):qe;return React$2.createElement(DateContentRow,{isAllDay:!0,rtl:He,getNow:Ke,minRows:2,maxRows:_e.props.allDayMaxRows+1,range:Je,events:pr,resourceId:ar,className:"rbc-allday-cell",selectable:We,selected:_e.props.selected,components:cr,accessors:tr,getters:Qe,localizer:rr,onSelect:_e.props.onSelectEvent,onShowMore:_e.props.onShowMore,onDoubleClick:_e.props.onDoubleClickEvent,onKeyPress:_e.props.onKeyPressEvent,onSelectSlot:_e.props.onSelectSlot,longPressThreshold:_e.props.longPressThreshold,resizable:or})},_e}return _inherits(je,Re),_createClass(je,[{key:"renderHeaderCells",value:function(Me){var $e=this,ke=this.props,Ce=ke.localizer,Be=ke.getDrilldownView,qe=ke.getNow,He=ke.getters.dayProp,We=ke.components.header,Ke=We===void 0?Header:We,Je=qe();return Me.map(function(Qe,rr){var tr=Be(Qe),cr=Ce.format(Qe,"dayFormat"),or=He(Qe),ar=or.className,pr=or.style,ur=React$2.createElement(Ke,{date:Qe,label:cr,localizer:Ce});return React$2.createElement("div",{key:rr,style:pr,className:clsx("rbc-header",ar,Ce.isSameDate(Qe,Je)&&"rbc-today")},tr?React$2.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(jr){return $e.handleHeaderClick(Qe,tr,jr)}},ur):React$2.createElement("span",null,ur))})}},{key:"render",value:function(){var Me=this,$e=this.props,ke=$e.width,Ce=$e.rtl,Be=$e.resources,qe=$e.range,He=$e.events,We=$e.getNow,Ke=$e.accessors,Je=$e.selectable,Qe=$e.components,rr=$e.getters,tr=$e.scrollRef,cr=$e.localizer,or=$e.isOverflowing,ar=$e.components,pr=ar.timeGutterHeader,ur=ar.resourceHeader,gr=ur===void 0?ResourceHeader:ur,jr=$e.resizable,vr={};or&&(vr[Ce?"marginLeft":"marginRight"]="".concat(scrollbarSize()-1,"px"));var dr=Be.groupEvents(He);return React$2.createElement("div",{style:vr,ref:tr,className:clsx("rbc-time-header",or&&"rbc-overflowing")},React$2.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:ke,minWidth:ke,maxWidth:ke}},pr&&React$2.createElement(pr,null)),Be.map(function(xr,Rr){var Xe=_slicedToArray$1(xr,2),Pe=Xe[0],Fe=Xe[1];return React$2.createElement("div",{className:"rbc-time-header-content",key:Pe||Rr},Fe&&React$2.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(Rr)},React$2.createElement("div",{className:"rbc-header"},React$2.createElement(gr,{index:Rr,label:Ke.resourceTitle(Fe),resource:Fe}))),React$2.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(qe.length<=1?" rbc-time-header-cell-single-day":"")},Me.renderHeaderCells(qe)),React$2.createElement(DateContentRow,{isAllDay:!0,rtl:Ce,getNow:We,minRows:2,maxRows:Me.props.allDayMaxRows+1,range:qe,events:dr.get(Pe)||[],resourceId:Fe&&Pe,className:"rbc-allday-cell",selectable:Je,selected:Me.props.selected,components:Qe,accessors:Ke,getters:rr,localizer:cr,onSelect:Me.props.onSelectEvent,onShowMore:Me.props.onShowMore,onDoubleClick:Me.props.onDoubleClickEvent,onKeyDown:Me.props.onKeyPressEvent,onSelectSlot:Me.props.onSelectSlot,longPressThreshold:Me.props.longPressThreshold,resizable:jr}))}))}}])}(React$2.Component),TimeGridHeaderResources=function(Re){function je(){var _e;_classCallCheck(this,je);for(var Me=arguments.length,$e=new Array(Me),ke=0;ke<Me;ke++)$e[ke]=arguments[ke];return _e=_callSuper(this,je,[].concat($e)),_e.handleHeaderClick=function(Ce,Be,qe){qe.preventDefault(),notify(_e.props.onDrillDown,[Ce,Be])},_e}return _inherits(je,Re),_createClass(je,[{key:"renderHeaderCells",value:function(Me){var $e=this,ke=this.props,Ce=ke.localizer,Be=ke.getDrilldownView,qe=ke.getNow,He=ke.getters.dayProp,We=ke.components,Ke=We.header,Je=Ke===void 0?Header:Ke,Qe=We.resourceHeader,rr=Qe===void 0?ResourceHeader:Qe,tr=ke.resources,cr=ke.accessors,or=ke.events,ar=ke.rtl,pr=ke.selectable,ur=ke.components,gr=ke.getters,jr=ke.resizable,vr=qe(),dr=tr.groupEvents(or);return Me.map(function(xr,Rr){var Xe=Be(xr),Pe=Ce.format(xr,"dayFormat"),Fe=He(xr),ze=Fe.className,Ue=Fe.style,Ge=React$2.createElement(Je,{date:xr,label:Pe,localizer:Ce});return React$2.createElement("div",{key:Rr,className:"rbc-time-header-content rbc-resource-grouping"},React$2.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(Me.length<=1?" rbc-time-header-cell-single-day":"")},React$2.createElement("div",{style:Ue,className:clsx("rbc-header",ze,Ce.isSameDate(xr,vr)&&"rbc-today")},Xe?React$2.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(er){return $e.handleHeaderClick(xr,Xe,er)}},Ge):React$2.createElement("span",null,Ge))),React$2.createElement("div",{className:"rbc-row"},tr.map(function(Ze,er){var Ve=_slicedToArray$1(Ze,2),Ie=Ve[0],Ye=Ve[1];return React$2.createElement("div",{key:"resource_".concat(Ie,"_").concat(er),className:clsx("rbc-header",ze,Ce.isSameDate(xr,vr)&&"rbc-today")},React$2.createElement(rr,{index:er,label:cr.resourceTitle(Ye),resource:Ye}))})),React$2.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},tr.map(function(Ze,er){var Ve=_slicedToArray$1(Ze,2),Ie=Ve[0],Ye=Ve[1],ir=(dr.get(Ie)||[]).filter(function(lr){return Ce.isSameDate(lr.start,xr)||Ce.isSameDate(lr.end,xr)});return React$2.createElement(DateContentRow,{key:"resource_".concat(Ie,"_").concat(er),isAllDay:!0,rtl:ar,getNow:qe,minRows:2,maxRows:$e.props.allDayMaxRows+1,range:[xr],events:ir,resourceId:Ye&&Ie,className:"rbc-allday-cell",selectable:pr,selected:$e.props.selected,components:ur,accessors:cr,getters:gr,localizer:Ce,onSelect:$e.props.onSelectEvent,onShowMore:$e.props.onShowMore,onDoubleClick:$e.props.onDoubleClickEvent,onKeyDown:$e.props.onKeyPressEvent,onSelectSlot:$e.props.onSelectSlot,longPressThreshold:$e.props.longPressThreshold,resizable:jr})})))})}},{key:"render",value:function(){var Me=this.props,$e=Me.width,ke=Me.rtl,Ce=Me.range,Be=Me.scrollRef,qe=Me.isOverflowing,He=Me.components.timeGutterHeader,We={};return qe&&(We[ke?"marginLeft":"marginRight"]="".concat(scrollbarSize()-1,"px")),React$2.createElement("div",{style:We,ref:Be,className:clsx("rbc-time-header",qe&&"rbc-overflowing")},React$2.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:$e,minWidth:$e,maxWidth:$e}},He&&React$2.createElement(He,null)),this.renderHeaderCells(Ce))}}])}(React$2.Component);function adjustForDST(Re){var je=Re.min,_e=Re.max,Me=Re.localizer;return Me.getTimezoneOffset(je)!==Me.getTimezoneOffset(_e)?{start:Me.add(je,-1,"day"),end:Me.add(_e,-1,"day")}:{start:je,end:_e}}var TimeGutter=function Re(je){var _e=je.min,Me=je.max,$e=je.timeslots,ke=je.step,Ce=je.localizer,Be=je.getNow,qe=je.resource,He=je.components,We=je.getters,Ke=je.gutterRef,Je=He.timeGutterWrapper,Qe=reactExports.useMemo(function(){return adjustForDST({min:_e,max:Me,localizer:Ce})},[_e?.toISOString(),Me?.toISOString(),Ce]),rr=Qe.start,tr=Qe.end,cr=reactExports.useState(getSlotMetrics({min:rr,max:tr,timeslots:$e,step:ke,localizer:Ce})),or=_slicedToArray$1(cr,2),ar=or[0],pr=or[1];reactExports.useEffect(function(){ar&&pr(ar.update({min:rr,max:tr,timeslots:$e,step:ke,localizer:Ce}))},[rr?.toISOString(),tr?.toISOString(),$e,ke]);var ur=reactExports.useCallback(function(gr,jr){if(jr)return null;var vr=ar.dateIsInGroup(Be(),jr);return React$2.createElement("span",{className:clsx("rbc-label",vr&&"rbc-now")},Ce.format(gr,"timeGutterFormat"))},[ar,Ce,Be]);return React$2.createElement(Je,{slotMetrics:ar},React$2.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:Ke},ar.groups.map(function(gr,jr){return React$2.createElement(TimeSlotGroup,{key:jr,group:gr,resource:qe,components:He,renderSlot:ur,getters:We})})))},TimeGutter$1=React$2.forwardRef(function(Re,je){return React$2.createElement(TimeGutter,Object.assign({gutterRef:je},Re))}),NONE={};function Resources(Re,je){return{map:function(Me){return Re?Re.map(function($e,ke){return Me([je.resourceId($e),$e],ke)}):[Me([NONE,null],0)]},groupEvents:function(Me){var $e=new Map;return Re?(Me.forEach(function(ke){var Ce=je.resource(ke)||NONE;if(Array.isArray(Ce))Ce.forEach(function(qe){var He=$e.get(qe)||[];He.push(ke),$e.set(qe,He)});else{var Be=$e.get(Ce)||[];Be.push(ke),$e.set(Ce,Be)}}),$e):($e.set(NONE,Me),$e)}}}var TimeGrid=function(Re){function je(_e){var Me;return _classCallCheck(this,je),Me=_callSuper(this,je,[_e]),Me.handleScroll=function($e){Me.scrollRef.current&&(Me.scrollRef.current.scrollLeft=$e.target.scrollLeft)},Me.handleResize=function(){cancel(Me.rafHandle),Me.rafHandle=request(Me.checkOverflow)},Me.handleKeyPressEvent=function(){Me.clearSelection();for(var $e=arguments.length,ke=new Array($e),Ce=0;Ce<$e;Ce++)ke[Ce]=arguments[Ce];notify(Me.props.onKeyPressEvent,ke)},Me.handleSelectEvent=function(){Me.clearSelection();for(var $e=arguments.length,ke=new Array($e),Ce=0;Ce<$e;Ce++)ke[Ce]=arguments[Ce];notify(Me.props.onSelectEvent,ke)},Me.handleDoubleClickEvent=function(){Me.clearSelection();for(var $e=arguments.length,ke=new Array($e),Ce=0;Ce<$e;Ce++)ke[Ce]=arguments[Ce];notify(Me.props.onDoubleClickEvent,ke)},Me.handleShowMore=function($e,ke,Ce,Be,qe){var He=Me.props,We=He.popup,Ke=He.onDrillDown,Je=He.onShowMore,Qe=He.getDrilldownView,rr=He.doShowMoreDrillDown;if(Me.clearSelection(),We){var tr=position(Ce,Me.containerRef.current);Me.setState({overlay:{date:ke,events:$e,position:_objectSpread2$1(_objectSpread2$1({},tr),{},{width:"200px"}),target:qe}})}else rr&&notify(Ke,[ke,Qe(ke)||views.DAY]);notify(Je,[$e,ke,Be])},Me.handleSelectAllDaySlot=function($e,ke){var Ce=Me.props.onSelectSlot,Be=new Date($e[0]),qe=new Date($e[$e.length-1]);qe.setDate($e[$e.length-1].getDate()+1),notify(Ce,{slots:$e,start:Be,end:qe,action:ke.action,resourceId:ke.resourceId})},Me.overlayDisplay=function(){Me.setState({overlay:null})},Me.checkOverflow=function(){if(!Me._updatingOverflow){var $e=Me.contentRef.current;if($e!=null&&$e.scrollHeight){var ke=$e.scrollHeight>$e.clientHeight;Me.state.isOverflowing!==ke&&(Me._updatingOverflow=!0,Me.setState({isOverflowing:ke},function(){Me._updatingOverflow=!1}))}}},Me.memoizedResources=memoizeOne(function($e,ke){return Resources($e,ke)}),Me.state={gutterWidth:void 0,isOverflowing:null},Me.scrollRef=React$2.createRef(),Me.contentRef=React$2.createRef(),Me.containerRef=React$2.createRef(),Me._scrollRatio=null,Me.gutterRef=reactExports.createRef(),Me}return _inherits(je,Re),_createClass(je,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),cancel(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(Me,$e,ke,Ce,Be,qe,He,We,Ke,Je){var Qe=this.props,rr=Qe.min,tr=Qe.max,cr=(Ce.get($e)||[]).filter(function(ar){return qe.inRange(Me,He.start(ar),He.end(ar),"day")}),or=(Be.get($e)||[]).filter(function(ar){return qe.inRange(Me,He.start(ar),He.end(ar),"day")});return React$2.createElement(DayColumn,Object.assign({},this.props,{localizer:qe,min:qe.merge(Me,rr),max:qe.merge(Me,tr),resource:ke&&$e,components:We,isNow:qe.isSameDate(Me,Je),key:"".concat($e,"-").concat(Me),date:Me,events:cr,backgroundEvents:or,dayLayoutAlgorithm:Ke}))}},{key:"renderResourcesFirst",value:function(Me,$e,ke,Ce,Be,qe,He,We,Ke){var Je=this;return $e.map(function(Qe){var rr=_slicedToArray$1(Qe,2),tr=rr[0],cr=rr[1];return Me.map(function(or){return Je.renderDayColumn(or,tr,cr,ke,Ce,Be,qe,We,Ke,He)})})}},{key:"renderRangeFirst",value:function(Me,$e,ke,Ce,Be,qe,He,We,Ke){var Je=this;return Me.map(function(Qe){return React$2.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:Qe},$e.map(function(rr){var tr=_slicedToArray$1(rr,2),cr=tr[0],or=tr[1];return React$2.createElement("div",{style:{flex:1},key:qe.resourceId(or)},Je.renderDayColumn(Qe,cr,or,ke,Ce,Be,qe,We,Ke,He))}))})}},{key:"renderEvents",value:function(Me,$e,ke,Ce){var Be=this.props,qe=Be.accessors,He=Be.localizer,We=Be.resourceGroupingLayout,Ke=Be.components,Je=Be.dayLayoutAlgorithm,Qe=this.memoizedResources(this.props.resources,qe),rr=Qe.groupEvents($e),tr=Qe.groupEvents(ke);return We?this.renderRangeFirst(Me,Qe,rr,tr,He,qe,Ce,Ke,Je):this.renderResourcesFirst(Me,Qe,rr,tr,He,qe,Ce,Ke,Je)}},{key:"render",value:function(){var Me,$e=this.props,ke=$e.events,Ce=$e.backgroundEvents,Be=$e.range,qe=$e.width,He=$e.rtl,We=$e.selected,Ke=$e.getNow,Je=$e.resources,Qe=$e.components,rr=$e.accessors,tr=$e.getters,cr=$e.localizer,or=$e.min,ar=$e.max,pr=$e.showMultiDayTimes,ur=$e.longPressThreshold,gr=$e.resizable,jr=$e.resourceGroupingLayout;qe=qe||this.state.gutterWidth;var vr=Be[0],dr=Be[Be.length-1];this.slots=Be.length;var xr=[],Rr=[],Xe=[];ke.forEach(function(Fe){if(inRange(Fe,vr,dr,rr,cr)){var ze=rr.start(Fe),Ue=rr.end(Fe);rr.allDay(Fe)||cr.startAndEndAreDateOnly(ze,Ue)||!pr&&!cr.isSameDate(ze,Ue)?xr.push(Fe):Rr.push(Fe)}}),Ce.forEach(function(Fe){inRange(Fe,vr,dr,rr,cr)&&Xe.push(Fe)}),xr.sort(function(Fe,ze){return sortEvents(Fe,ze,rr,cr)});var Pe={range:Be,events:xr,width:qe,rtl:He,getNow:Ke,localizer:cr,selected:We,allDayMaxRows:this.props.showAllEvents?1/0:(Me=this.props.allDayMaxRows)!==null&&Me!==void 0?Me:1/0,resources:this.memoizedResources(Je,rr),selectable:this.props.selectable,accessors:rr,getters:tr,components:Qe,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:ur,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:gr};return React$2.createElement("div",{className:clsx("rbc-time-view",Je&&"rbc-time-view-resources"),ref:this.containerRef},Je&&Je.length>1&&jr?React$2.createElement(TimeGridHeaderResources,Pe):React$2.createElement(TimeGridHeader,Pe),this.props.popup&&this.renderOverlay(),React$2.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},React$2.createElement(TimeGutter$1,{date:vr,ref:this.gutterRef,localizer:cr,min:cr.merge(vr,or),max:cr.merge(vr,ar),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:Qe,className:"rbc-time-gutter",getters:tr}),this.renderEvents(Be,Rr,Xe,Ke())))}},{key:"renderOverlay",value:function(){var Me,$e,ke=this,Ce=(Me=($e=this.state)===null||$e===void 0?void 0:$e.overlay)!==null&&Me!==void 0?Me:{},Be=this.props,qe=Be.accessors,He=Be.localizer,We=Be.components,Ke=Be.getters,Je=Be.selected,Qe=Be.popupOffset,rr=Be.handleDragStart,tr=function(){return ke.setState({overlay:null})};return React$2.createElement(PopOverlay,{overlay:Ce,accessors:qe,localizer:He,components:We,getters:Ke,selected:Je,popupOffset:Qe,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:rr,show:!!Ce.position,overlayDisplay:this.overlayDisplay,onHide:tr})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var Me=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var $e,ke=($e=Me.gutterRef)!==null&&$e!==void 0&&$e.current?getWidth(Me.gutterRef.current):void 0;ke&&Me.state.gutterWidth!==ke&&Me.setState({gutterWidth:ke})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var Me=this.contentRef.current;Me.scrollTop=Me.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var Me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,$e=Me.min,ke=Me.max,Ce=Me.scrollToTime,Be=Me.localizer,qe=Be.diff(Be.merge(Ce,$e),Ce,"milliseconds"),He=Be.diff($e,ke,"milliseconds");this._scrollRatio=qe/He}}])}(reactExports.Component);TimeGrid.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var _excluded$4=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Day=function(Re){function je(){return _classCallCheck(this,je),_callSuper(this,je,arguments)}return _inherits(je,Re),_createClass(je,[{key:"render",value:function(){var Me=this.props,$e=Me.date,ke=Me.localizer,Ce=Me.min,Be=Ce===void 0?ke.startOf(new Date,"day"):Ce,qe=Me.max,He=qe===void 0?ke.endOf(new Date,"day"):qe,We=Me.scrollToTime,Ke=We===void 0?ke.startOf(new Date,"day"):We,Je=Me.enableAutoScroll,Qe=Je===void 0?!0:Je,rr=_objectWithoutProperties(Me,_excluded$4),tr=je.range($e,{localizer:ke});return React$2.createElement(TimeGrid,Object.assign({},rr,{range:tr,eventOffset:10,localizer:ke,min:Be,max:He,scrollToTime:Ke,enableAutoScroll:Qe}))}}])}(React$2.Component);Day.range=function(Re,je){var _e=je.localizer;return[_e.startOf(Re,"day")]};Day.navigate=function(Re,je,_e){var Me=_e.localizer;switch(je){case navigate$1.PREVIOUS:return Me.add(Re,-1,"day");case navigate$1.NEXT:return Me.add(Re,1,"day");default:return Re}};Day.title=function(Re,je){var _e=je.localizer;return _e.format(Re,"dayHeaderFormat")};var _excluded$3=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Week=function(Re){function je(){return _classCallCheck(this,je),_callSuper(this,je,arguments)}return _inherits(je,Re),_createClass(je,[{key:"render",value:function(){var Me=this.props,$e=Me.date,ke=Me.localizer,Ce=Me.min,Be=Ce===void 0?ke.startOf(new Date,"day"):Ce,qe=Me.max,He=qe===void 0?ke.endOf(new Date,"day"):qe,We=Me.scrollToTime,Ke=We===void 0?ke.startOf(new Date,"day"):We,Je=Me.enableAutoScroll,Qe=Je===void 0?!0:Je,rr=_objectWithoutProperties(Me,_excluded$3),tr=je.range($e,this.props);return React$2.createElement(TimeGrid,Object.assign({},rr,{range:tr,eventOffset:15,localizer:ke,min:Be,max:He,scrollToTime:Ke,enableAutoScroll:Qe}))}}])}(React$2.Component);Week.defaultProps=TimeGrid.defaultProps;Week.navigate=function(Re,je,_e){var Me=_e.localizer;switch(je){case navigate$1.PREVIOUS:return Me.add(Re,-1,"week");case navigate$1.NEXT:return Me.add(Re,1,"week");default:return Re}};Week.range=function(Re,je){var _e=je.localizer,Me=_e.startOfWeek(),$e=_e.startOf(Re,"week",Me),ke=_e.endOf(Re,"week",Me);return _e.range($e,ke)};Week.title=function(Re,je){var _e=je.localizer,Me=Week.range(Re,{localizer:_e}),$e=_toArray(Me),ke=$e[0],Ce=$e.slice(1);return _e.format({start:ke,end:Ce.pop()},"dayRangeHeaderFormat")};var _excluded$2=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function workWeekRange(Re,je){return Week.range(Re,je).filter(function(_e){return[6,0].indexOf(_e.getDay())===-1})}var WorkWeek=function(Re){function je(){return _classCallCheck(this,je),_callSuper(this,je,arguments)}return _inherits(je,Re),_createClass(je,[{key:"render",value:function(){var Me=this.props,$e=Me.date,ke=Me.localizer,Ce=Me.min,Be=Ce===void 0?ke.startOf(new Date,"day"):Ce,qe=Me.max,He=qe===void 0?ke.endOf(new Date,"day"):qe,We=Me.scrollToTime,Ke=We===void 0?ke.startOf(new Date,"day"):We,Je=Me.enableAutoScroll,Qe=Je===void 0?!0:Je,rr=_objectWithoutProperties(Me,_excluded$2),tr=workWeekRange($e,this.props);return React$2.createElement(TimeGrid,Object.assign({},rr,{range:tr,eventOffset:15,localizer:ke,min:Be,max:He,scrollToTime:Ke,enableAutoScroll:Qe}))}}])}(React$2.Component);WorkWeek.defaultProps=TimeGrid.defaultProps;WorkWeek.range=workWeekRange;WorkWeek.navigate=Week.navigate;WorkWeek.title=function(Re,je){var _e=je.localizer,Me=workWeekRange(Re,{localizer:_e}),$e=_toArray(Me),ke=$e[0],Ce=$e.slice(1);return _e.format({start:ke,end:Ce.pop()},"dayRangeHeaderFormat")};var DEFAULT_LENGTH=30;function Agenda(Re){var je=Re.accessors,_e=Re.components,Me=Re.date,$e=Re.events,ke=Re.getters,Ce=Re.length,Be=Ce===void 0?DEFAULT_LENGTH:Ce,qe=Re.localizer,He=Re.onDoubleClickEvent,We=Re.onSelectEvent,Ke=Re.selected,Je=reactExports.useRef(null),Qe=reactExports.useRef(null),rr=reactExports.useRef(null),tr=reactExports.useRef(null),cr=reactExports.useRef(null);reactExports.useEffect(function(){pr()});var or=function(dr,xr,Rr){var Xe=_e.event,Pe=_e.date;return xr=xr.filter(function(Fe){return inRange(Fe,qe.startOf(dr,"day"),qe.endOf(dr,"day"),je,qe)}),xr.map(function(Fe,ze){var Ue=je.title(Fe),Ge=je.end(Fe),Ze=je.start(Fe),er=ke.eventProp(Fe,Ze,Ge,isSelected(Fe,Ke)),Ve=ze===0&&qe.format(dr,"agendaDateFormat"),Ie=ze===0?React$2.createElement("td",{rowSpan:xr.length,className:"rbc-agenda-date-cell"},Pe?React$2.createElement(Pe,{day:dr,label:Ve}):Ve):!1;return React$2.createElement("tr",{key:Rr+"_"+ze,className:er.className,style:er.style},Ie,React$2.createElement("td",{className:"rbc-agenda-time-cell"},ar(dr,Fe)),React$2.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(ir){return We&&We(Fe,ir)},onDoubleClick:function(ir){return He&&He(Fe,ir)}},Xe?React$2.createElement(Xe,{event:Fe,title:Ue}):Ue))},[])},ar=function(dr,xr){var Rr="",Xe=_e.time,Pe=qe.messages.allDay,Fe=je.end(xr),ze=je.start(xr);return je.allDay(xr)||(qe.eq(ze,Fe)?Pe=qe.format(ze,"agendaTimeFormat"):qe.isSameDate(ze,Fe)?Pe=qe.format({start:ze,end:Fe},"agendaTimeRangeFormat"):qe.isSameDate(dr,ze)?Pe=qe.format(ze,"agendaTimeFormat"):qe.isSameDate(dr,Fe)&&(Pe=qe.format(Fe,"agendaTimeFormat"))),qe.gt(dr,ze,"day")&&(Rr="rbc-continues-prior"),qe.lt(dr,Fe,"day")&&(Rr+=" rbc-continues-after"),React$2.createElement("span",{className:Rr.trim()},Xe?React$2.createElement(Xe,{event:xr,day:dr,label:Pe}):Pe)},pr=function(){if(cr.current){var dr=Je.current,xr=cr.current.firstChild;if(xr){var Rr=tr.current.scrollHeight>tr.current.clientHeight,Xe=[],Pe=Xe;Xe=[getWidth(xr.children[0]),getWidth(xr.children[1])],(Pe[0]!==Xe[0]||Pe[1]!==Xe[1])&&(Qe.current.style.width=Xe[0]+"px",rr.current.style.width=Xe[1]+"px"),Rr?(addClass(dr,"rbc-header-overflowing"),dr.style.marginRight=scrollbarSize()+"px"):removeClass(dr,"rbc-header-overflowing")}}},ur=qe.messages,gr=qe.add(Me,Be,"day"),jr=qe.range(Me,gr,"day");return $e=$e.filter(function(vr){return inRange(vr,qe.startOf(Me,"day"),qe.endOf(gr,"day"),je,qe)}),$e.sort(function(vr,dr){return+je.start(vr)-+je.start(dr)}),React$2.createElement("div",{className:"rbc-agenda-view"},$e.length!==0?React$2.createElement(React$2.Fragment,null,React$2.createElement("table",{ref:Je,className:"rbc-agenda-table"},React$2.createElement("thead",null,React$2.createElement("tr",null,React$2.createElement("th",{className:"rbc-header",ref:Qe},ur.date),React$2.createElement("th",{className:"rbc-header",ref:rr},ur.time),React$2.createElement("th",{className:"rbc-header"},ur.event)))),React$2.createElement("div",{className:"rbc-agenda-content",ref:tr},React$2.createElement("table",{className:"rbc-agenda-table"},React$2.createElement("tbody",{ref:cr},jr.map(function(vr,dr){return or(vr,$e,dr)}))))):React$2.createElement("span",{className:"rbc-agenda-empty"},ur.noEventsInRange))}Agenda.range=function(Re,je){var _e=je.length,Me=_e===void 0?DEFAULT_LENGTH:_e,$e=je.localizer,ke=$e.add(Re,Me,"day");return{start:Re,end:ke}};Agenda.navigate=function(Re,je,_e){var Me=_e.length,$e=Me===void 0?DEFAULT_LENGTH:Me,ke=_e.localizer;switch(je){case navigate$1.PREVIOUS:return ke.add(Re,-$e,"day");case navigate$1.NEXT:return ke.add(Re,$e,"day");default:return Re}};Agenda.title=function(Re,je){var _e=je.length,Me=_e===void 0?DEFAULT_LENGTH:_e,$e=je.localizer,ke=$e.add(Re,Me,"day");return $e.format({start:Re,end:ke},"agendaHeaderFormat")};var VIEWS=_defineProperty$2(_defineProperty$2(_defineProperty$2(_defineProperty$2(_defineProperty$2({},views.MONTH,MonthView),views.WEEK,Week),views.WORK_WEEK,WorkWeek),views.DAY,Day),views.AGENDA,Agenda),_excluded$1=["action","date","today"];function moveDate(Re,je){var _e=je.action,Me=je.date,$e=je.today,ke=_objectWithoutProperties(je,_excluded$1);switch(Re=typeof Re=="string"?VIEWS[Re]:Re,_e){case navigate$1.TODAY:Me=$e||new Date;break;case navigate$1.DATE:break;default:invariant$1(Re&&typeof Re.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),Me=Re.navigate(Me,_e,ke)}return Me}function accessor(Re,je){var _e=null;return typeof je=="function"?_e=je(Re):typeof je=="string"&&_typeof$1(Re)==="object"&&Re!=null&&je in Re&&(_e=Re[je]),_e}var wrapAccessor=function Re(je){return function(_e){return accessor(_e,je)}},_excluded=["view","date","getNow","onNavigate"],_excluded2=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function viewNames(Re){if(Array.isArray(Re))return Re;for(var je=[],_e=0,Me=Object.entries(Re);_e<Me.length;_e++){var $e=_slicedToArray$1(Me[_e],2),ke=$e[0],Ce=$e[1];Ce&&je.push(ke)}return je}function isValidView(Re,je){var _e=je.views,Me=viewNames(_e);return Me.indexOf(Re)!==-1}var Calendar$1=function(Re){function je(){var _e;_classCallCheck(this,je);for(var Me=arguments.length,$e=new Array(Me),ke=0;ke<Me;ke++)$e[ke]=arguments[ke];return _e=_callSuper(this,je,[].concat($e)),_e.getViews=function(){var Ce=_e.props.views;return Array.isArray(Ce)?transform$1(Ce,function(Be,qe){return Be[qe]=VIEWS[qe]},{}):_typeof$1(Ce)==="object"?mapValues$1(Ce,function(Be,qe){return Be===!0?VIEWS[qe]:Be}):VIEWS},_e.getView=function(){var Ce=_e.getViews();return Ce[_e.props.view]},_e.getDrilldownView=function(Ce){var Be=_e.props,qe=Be.view,He=Be.drilldownView,We=Be.getDrilldownView;return We?We(Ce,qe,Object.keys(_e.getViews())):He},_e.handleRangeChange=function(Ce,Be,qe){var He=_e.props,We=He.onRangeChange,Ke=He.localizer;We&&Be.range&&We(Be.range(Ce,{localizer:Ke}),qe)},_e.handleNavigate=function(Ce,Be){var qe=_e.props,He=qe.view,We=qe.date,Ke=qe.getNow,Je=qe.onNavigate,Qe=_objectWithoutProperties(qe,_excluded),rr=_e.getView(),tr=Ke();We=moveDate(rr,_objectSpread2$1(_objectSpread2$1({},Qe),{},{action:Ce,date:Be||We||tr,today:tr})),Je(We,He,Ce),_e.handleRangeChange(We,rr)},_e.handleViewChange=function(Ce){Ce!==_e.props.view&&isValidView(Ce,_e.props)&&_e.props.onView(Ce);var Be=_e.getViews();_e.handleRangeChange(_e.props.date||_e.props.getNow(),Be[Ce],Ce)},_e.handleSelectEvent=function(){for(var Ce=arguments.length,Be=new Array(Ce),qe=0;qe<Ce;qe++)Be[qe]=arguments[qe];notify(_e.props.onSelectEvent,Be)},_e.handleDoubleClickEvent=function(){for(var Ce=arguments.length,Be=new Array(Ce),qe=0;qe<Ce;qe++)Be[qe]=arguments[qe];notify(_e.props.onDoubleClickEvent,Be)},_e.handleKeyPressEvent=function(){for(var Ce=arguments.length,Be=new Array(Ce),qe=0;qe<Ce;qe++)Be[qe]=arguments[qe];notify(_e.props.onKeyPressEvent,Be)},_e.handleSelectSlot=function(Ce){notify(_e.props.onSelectSlot,Ce)},_e.handleDrillDown=function(Ce,Be){var qe=_e.props.onDrillDown;if(qe){qe(Ce,Be,_e.drilldownView);return}Be&&_e.handleViewChange(Be),_e.handleNavigate(navigate$1.DATE,Ce)},_e.state={context:je.getContext(_e.props)},_e}return _inherits(je,Re),_createClass(je,[{key:"render",value:function(){var Me=this.props,$e=Me.view,ke=Me.toolbar,Ce=Me.events,Be=Me.backgroundEvents,qe=Me.resourceGroupingLayout,He=Me.style,We=Me.className,Ke=Me.elementProps,Je=Me.date,Qe=Me.getNow,rr=Me.length,tr=Me.showMultiDayTimes,cr=Me.onShowMore,or=Me.doShowMoreDrillDown;Me.components,Me.formats,Me.messages,Me.culture;var ar=_objectWithoutProperties(Me,_excluded2);Je=Je||Qe();var pr=this.getView(),ur=this.state.context,gr=ur.accessors,jr=ur.components,vr=ur.getters,dr=ur.localizer,xr=ur.viewNames,Rr=jr.toolbar||Toolbar,Xe=pr.title(Je,{localizer:dr,length:rr});return React$2.createElement("div",Object.assign({},Ke,{className:clsx(We,"rbc-calendar",ar.rtl&&"rbc-rtl"),style:He}),ke&&React$2.createElement(Rr,{date:Je,view:$e,views:xr,label:Xe,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:dr}),React$2.createElement(pr,Object.assign({},ar,{events:Ce,backgroundEvents:Be,date:Je,getNow:Qe,length:rr,localizer:dr,getters:vr,components:jr,accessors:gr,showMultiDayTimes:tr,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:cr,doShowMoreDrillDown:or,resourceGroupingLayout:qe})))}}],[{key:"getDerivedStateFromProps",value:function(Me){return{context:je.getContext(Me)}}},{key:"getContext",value:function(Me){var $e=Me.startAccessor,ke=Me.endAccessor,Ce=Me.allDayAccessor,Be=Me.tooltipAccessor,qe=Me.titleAccessor,He=Me.resourceAccessor,We=Me.resourceIdAccessor,Ke=Me.resourceTitleAccessor,Je=Me.eventIdAccessor,Qe=Me.eventPropGetter,rr=Me.backgroundEventPropGetter,tr=Me.slotPropGetter,cr=Me.slotGroupPropGetter,or=Me.dayPropGetter,ar=Me.view,pr=Me.views,ur=Me.localizer,gr=Me.culture,jr=Me.messages,vr=jr===void 0?{}:jr,dr=Me.components,xr=dr===void 0?{}:dr,Rr=Me.formats,Xe=Rr===void 0?{}:Rr,Pe=viewNames(pr),Fe=messages(vr);return{viewNames:Pe,localizer:mergeWithDefaults(ur,gr,Xe,Fe),getters:{eventProp:function(){return Qe&&Qe.apply(void 0,arguments)||{}},backgroundEventProp:function(){return rr&&rr.apply(void 0,arguments)||{}},slotProp:function(){return tr&&tr.apply(void 0,arguments)||{}},slotGroupProp:function(){return cr&&cr.apply(void 0,arguments)||{}},dayProp:function(){return or&&or.apply(void 0,arguments)||{}}},components:defaults$1(xr[ar]||{},omit$1(xr,Pe),{eventWrapper:NoopWrapper,backgroundEventWrapper:NoopWrapper,eventContainerWrapper:NoopWrapper,dateCellWrapper:NoopWrapper,weekWrapper:NoopWrapper,timeSlotWrapper:NoopWrapper,timeGutterWrapper:NoopWrapper}),accessors:{start:wrapAccessor($e),end:wrapAccessor(ke),allDay:wrapAccessor(Ce),tooltip:wrapAccessor(Be),title:wrapAccessor(qe),resource:wrapAccessor(He),resourceId:wrapAccessor(We),resourceTitle:wrapAccessor(Ke),eventId:wrapAccessor(Je)}}}}])}(React$2.Component);Calendar$1.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:views.MONTH,views:[views.MONTH,views.WEEK,views.DAY,views.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:views.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function Re(){return new Date},dayLayoutAlgorithm:"overlap"};var Calendar$1$1=uncontrollable(Calendar$1,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),dateRangeFormat$1=function Re(je,_e,Me){var $e=je.start,ke=je.end;return"".concat(Me.format($e,"P",_e),"  ").concat(Me.format(ke,"P",_e))},timeRangeFormat$1=function Re(je,_e,Me){var $e=je.start,ke=je.end;return"".concat(Me.format($e,"p",_e),"  ").concat(Me.format(ke,"p",_e))},timeRangeStartFormat$1=function Re(je,_e,Me){var $e=je.start;return"".concat(Me.format($e,"h:mma",_e),"  ")},timeRangeEndFormat$1=function Re(je,_e,Me){var $e=je.end;return"  ".concat(Me.format($e,"h:mma",_e))},weekRangeFormat$1=function Re(je,_e,Me){var $e=je.start,ke=je.end;return"".concat(Me.format($e,"MMMM dd",_e),"  ").concat(Me.format(ke,eq$6($e,ke,"month")?"dd":"MMMM dd",_e))},formats$1={dateFormat:"dd",dayFormat:"dd eee",weekdayFormat:"ccc",selectRangeFormat:timeRangeFormat$1,eventTimeRangeFormat:timeRangeFormat$1,eventTimeRangeStartFormat:timeRangeStartFormat$1,eventTimeRangeEndFormat:timeRangeEndFormat$1,timeGutterFormat:"p",monthHeaderFormat:"MMMM yyyy",dayHeaderFormat:"cccc MMM dd",dayRangeHeaderFormat:weekRangeFormat$1,agendaHeaderFormat:dateRangeFormat$1,agendaDateFormat:"ccc MMM dd",agendaTimeFormat:"p",agendaTimeRangeFormat:timeRangeFormat$1},dateFnsLocalizer=function Re(je){var _e=je.startOfWeek,Me=je.getDay,$e=je.format,ke=je.locales;return new DateLocalizer({formats:formats$1,firstOfWeek:function(Be){return Me(_e(new Date,{locale:ke[Be]}))},format:function(Be,qe,He){return $e(new Date(Be),qe,{locale:ke[He]})}})};const locales={"en-US":enUS},localizer=dateFnsLocalizer({format,parse:parse$1,startOfWeek,getDay,locales}),Calendar=({className:Re,isMaximized:je=!1,onToggleMaximize:_e,onOpenNewWindow:Me})=>{const{events:$e,fetchEvents:ke,addEvent:Ce,updateEvent:Be,deleteEvent:qe}=useCalendarStore();useProfileStore();const[He,We]=reactExports.useState("month"),[Ke,Je]=reactExports.useState(new Date),[Qe,rr]=reactExports.useState(!1),[tr,cr]=reactExports.useState(null),[or,ar]=reactExports.useState({title:"",start:new Date,end:new Date,description:"",type:"custom"});reactExports.useEffect(()=>{ke()},[ke]),reactExports.useEffect(()=>{ar(tr?{title:tr.title||"",start:new Date(tr.start),end:new Date(tr.end),description:tr.description||"",type:tr.type||"custom"}:{title:"",start:new Date,end:new Date,description:"",type:"custom"})},[tr]);const pr=$e,ur=xr=>{cr(xr),console.log(xr),rr(!0),xr.type==="invoice"&&xr.invoice_id&&navigate(`/invoices/${xr.invoice_id}`)},gr=({start:xr,end:Rr})=>{ar({title:"",start:xr,end:Rr,description:"",type:"custom"}),rr(!0)},jr=async()=>{try{tr?(await Be(tr.id,or),c$1.success("Event updated successfully")):(await Ce(or),c$1.success("Event added successfully")),rr(!1),cr(null),ar({title:"",start:new Date,end:new Date,description:"",type:"custom"})}catch{c$1.error("Failed to save event")}},vr=async()=>{if(tr)try{await qe(tr.id),c$1.success("Event deleted successfully"),rr(!1),cr(null)}catch{c$1.error("Failed to delete event")}},dr=xr=>{let Rr="";switch(xr.type){case"invoice":Rr="#4f46e5";break;case"expense":Rr="#dc2626";break;case"task":Rr="#2563eb";break;case"holiday":Rr="#9333ea";break;default:Rr="#059669"}return{style:{backgroundColor:Rr,borderRadius:"4px",opacity:.8,color:"white",border:"0",display:"block"}}};return jsxRuntimeExports.jsxs("div",{className:`bg-dark-800 rounded-lg border border-dark-700 p-4 ${Re}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"text-center",children:jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-white",children:format(Ke,"MMMM yyyy")})}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsx("button",{onClick:()=>We("month"),className:`px-3 py-1 rounded ${He==="month"?"bg-primary-600 text-white":"bg-dark-700 text-gray-300"}`,children:"Month"}),jsxRuntimeExports.jsx("button",{onClick:()=>We("week"),className:`px-3 py-1 rounded ${He==="week"?"bg-primary-600 text-white":"bg-dark-700 text-gray-300"}`,children:"Week"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Je(new Date(Ke.setMonth(Ke.getMonth()-1))),className:"p-1 hover:bg-dark-700 rounded",children:jsxRuntimeExports.jsx(ChevronLeft,{className:"text-gray-400",size:20})}),jsxRuntimeExports.jsx("button",{onClick:()=>Je(new Date),className:"px-3 py-1 text-sm text-gray-300 hover:bg-dark-700 rounded",children:"Today"}),jsxRuntimeExports.jsx("button",{onClick:()=>Je(new Date(Ke.setMonth(Ke.getMonth()+1))),className:"p-1 hover:bg-dark-700 rounded",children:jsxRuntimeExports.jsx(ChevronRight,{className:"text-gray-400",size:20})}),_e&&jsxRuntimeExports.jsx("button",{onClick:_e,className:"p-1 hover:bg-dark-700 rounded",title:je?"Minimize":"Maximize",children:je?jsxRuntimeExports.jsx(Minimize2,{className:"text-gray-400",size:20}):jsxRuntimeExports.jsx(Maximize2,{className:"text-gray-400",size:20})}),Me&&jsxRuntimeExports.jsx("button",{onClick:Me,className:"p-1 hover:bg-dark-700 rounded",title:"Open in new window",children:jsxRuntimeExports.jsx(ExternalLink,{className:"text-gray-400",size:20})})]})]}),jsxRuntimeExports.jsx("div",{className:`transition-all duration-300 ${je?"h-[calc(100vh-200px)]":"h-[calc(100vh-250px)]"}`,children:jsxRuntimeExports.jsx(Calendar$1$1,{localizer,events:pr,startAccessor:"start",endAccessor:"end",view:He,onView:xr=>We(xr),date:Ke,onNavigate:Je,onSelectEvent:ur,onSelectSlot:gr,selectable:!0,eventPropGetter:dr,className:"calendar-dark",components:{toolbar:()=>null}})})]}),Qe&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:jsxRuntimeExports.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 w-full max-w-md",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:tr?"Edit Event":"New Event"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Title"}),jsxRuntimeExports.jsx("input",{type:"text",className:"input w-full",value:or.title,onChange:xr=>ar({...or,title:xr.target.value}),placeholder:"Event title",disabled:tr?.calcom_id})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Type"}),jsxRuntimeExports.jsxs("select",{className:"input w-full",value:or.type,disabled:tr?.calcom_id,onChange:xr=>ar({...or,type:xr.target.value}),children:[jsxRuntimeExports.jsx("option",{value:"custom",children:"Custom Event"}),jsxRuntimeExports.jsx("option",{value:"task",children:"Task"})]})]}),jsxRuntimeExports.jsx("input",{type:"datetime-local",className:"input w-full",value:format(or.start,"yyyy-MM-dd'T'HH:mm"),disabled:tr?.calcom_id,onChange:xr=>ar({...or,start:new Date(xr.target.value)})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"End Date & Time"}),jsxRuntimeExports.jsx("input",{type:"datetime-local",disabled:tr?.calcom_id,className:"input w-full",value:format(or.end,"yyyy-MM-dd'T'HH:mm"),onChange:xr=>ar({...or,end:new Date(xr.target.value)})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Description"}),jsxRuntimeExports.jsx("textarea",{className:"input w-full",value:or.description,disabled:tr?.calcom_id,onChange:xr=>ar({...or,description:xr.target.value}),rows:3,placeholder:"Event description"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[!tr?.calcom_id&&tr&&jsxRuntimeExports.jsx("button",{onClick:vr,className:tr?.calcom_id?"btn btn-outline-secondary":"btn btn-danger",children:"Delete"}),jsxRuntimeExports.jsx("button",{onClick:()=>{rr(!1),cr(null)},className:tr?.calcom_id?"btn btn-outline-secondary":"btn btn-secondary",children:"Close"}),!tr?.calcom_id&&jsxRuntimeExports.jsx("button",{onClick:jr,className:"btn btn-primary",children:tr?"Update":"Create"})]}),tr?.calcom_id&&jsxRuntimeExports.jsx("div",{className:"flex justify-center",style:{width:"font-size: smaller",color:"cadetblue"},children:jsxRuntimeExports.jsx("span",{children:jsxRuntimeExports.jsx("i",{children:"*This event was created through Cal.com. To delete or update it, please do so on the Cal.com platform  it will then be automatically refelcted in this calendar."})})})]})})]})},CalendarDashboard=()=>{const[Re,je]=reactExports.useState(!0),[_e,Me]=reactExports.useState(null);return reactExports.useEffect(()=>{(async()=>{try{}catch{}finally{je(!1)}})()},[]),jsxRuntimeExports.jsxs("div",{className:"container mx-auto p-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-white mb-6",children:"Callendar Dashboard"}),Re&&jsxRuntimeExports.jsx("p",{className:"text-white",children:"Loading events..."}),_e&&jsxRuntimeExports.jsxs("p",{className:"text-red-500",children:["Error fetching events: ",_e]}),!Re&&!_e&&jsxRuntimeExports.jsx(Calendar,{})]})};function App(){const{user:Re,initialized:je,initialize:_e,checkAuthStatus:Me}=useAuthStore(),{fetchProfile:$e}=useProfileStore(),ke=useLocation(),Ce=useNavigate(),[Be,qe]=reactExports.useState(!1);return reactExports.useEffect(()=>{const{data:He}=supabase.auth.onAuthStateChange((We,Ke)=>{We==="SIGNED_IN"&&Ke&&Ce("/dashboard")});return()=>{He?.subscription.unsubscribe()}},[Ce]),reactExports.useEffect(()=>{(async()=>{Re&&ke.pathname!=="/login"&&ke.pathname!=="/register"&&!ke.pathname.startsWith("/features")&&ke.pathname!=="/contact"&&(qe(!0),await Me()||(c$1.error("Your session has expired. Please sign in again."),Ce("/login")),qe(!1))})()},[ke.pathname,Re,Me,Ce]),reactExports.useEffect(()=>{je||_e()},[je,_e]),reactExports.useEffect(()=>{Re&&$e()},[Re,$e]),reactExports.useEffect(()=>{const He=We=>{We.detail?.online&&Me()};return document.addEventListener("networkStatusChange",He),()=>{document.removeEventListener("networkStatusChange",He)}},[Me]),reactExports.useEffect(()=>{const He=()=>{document.visibilityState==="visible"&&Re&&Date.now()-We>18e5&&Me(),We=Date.now()};let We=Date.now();return document.addEventListener("visibilitychange",He),()=>{document.removeEventListener("visibilitychange",He)}},[Me,Re]),!je||Be?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center min-h-screen",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(AuthLayout,{})}),jsxRuntimeExports.jsxs(Route,{element:jsxRuntimeExports.jsx(FeatureLayout,{}),children:[jsxRuntimeExports.jsx(Route,{path:"/legal/privacy-policy",element:jsxRuntimeExports.jsx(PrivacyPolicy,{})}),jsxRuntimeExports.jsx(Route,{path:"/legal/terms-of-service",element:jsxRuntimeExports.jsx(TermsOfService,{})}),jsxRuntimeExports.jsx(Route,{path:"/legal/cookie-policy",element:jsxRuntimeExports.jsx(CookiePolicy,{})})]}),jsxRuntimeExports.jsx(Route,{path:"/login",element:Re?jsxRuntimeExports.jsx(Navigate,{to:"/dashboard"}):jsxRuntimeExports.jsx(Login,{})}),jsxRuntimeExports.jsx(Route,{path:"/register",element:Re?jsxRuntimeExports.jsx(Register,{}):jsxRuntimeExports.jsx(Register,{})}),jsxRuntimeExports.jsx(Route,{path:"/gdpr",element:jsxRuntimeExports.jsx(GDPRNotice,{})}),jsxRuntimeExports.jsx(Route,{path:"/forgot-password",element:Re?jsxRuntimeExports.jsx(Navigate,{to:"/dashboard"}):jsxRuntimeExports.jsx(ForgotPassword,{})}),jsxRuntimeExports.jsx(Route,{path:"/reset-password",element:Re?jsxRuntimeExports.jsx(Navigate,{to:"/dashboard"}):jsxRuntimeExports.jsx(ResetPassword,{})}),jsxRuntimeExports.jsxs(Route,{element:jsxRuntimeExports.jsx(FeatureLayout,{}),children:[jsxRuntimeExports.jsx(Route,{path:"/features/customer-management",element:jsxRuntimeExports.jsx(CustomerManagement,{})}),jsxRuntimeExports.jsx(Route,{path:"/features/invoicing",element:jsxRuntimeExports.jsx(Invoicing,{})}),jsxRuntimeExports.jsx(Route,{path:"/features/inventory-tracking",element:jsxRuntimeExports.jsx(InventoryTracking,{})}),jsxRuntimeExports.jsx(Route,{path:"/function/sales",element:jsxRuntimeExports.jsx(Sales,{})}),jsxRuntimeExports.jsx(Route,{path:"/function/marketing",element:jsxRuntimeExports.jsx(Marketing,{})}),jsxRuntimeExports.jsx(Route,{path:"/function/customer-support",element:jsxRuntimeExports.jsx(CustomerSupport,{})}),jsxRuntimeExports.jsx(Route,{path:"/function/research",element:jsxRuntimeExports.jsx(Research,{})}),jsxRuntimeExports.jsx(Route,{path:"/function/operations",element:jsxRuntimeExports.jsx(Operations,{})}),jsxRuntimeExports.jsx(Route,{path:"/products/ai-agent",element:jsxRuntimeExports.jsx(AIAgent,{})}),jsxRuntimeExports.jsx(Route,{path:"/products/ai-workforce",element:jsxRuntimeExports.jsx(AIWorkforce,{})}),jsxRuntimeExports.jsx(Route,{path:"/products/ai-tools",element:jsxRuntimeExports.jsx(AITools,{})}),jsxRuntimeExports.jsx(Route,{path:"/products/crm",element:jsxRuntimeExports.jsx(CRM,{})}),jsxRuntimeExports.jsx(Route,{path:"/blog/ai-market",element:jsxRuntimeExports.jsx(AIMarket,{})}),jsxRuntimeExports.jsx(Route,{path:"/features/expenses",element:jsxRuntimeExports.jsx(Expenses,{})}),jsxRuntimeExports.jsx(Route,{path:"/features/quotes",element:jsxRuntimeExports.jsx(Quotes,{})}),jsxRuntimeExports.jsx(Route,{path:"/features/ai-growth-partner",element:jsxRuntimeExports.jsx(AIGrowthPartner,{})}),jsxRuntimeExports.jsx(Route,{path:"/features/enterprise-plan",element:jsxRuntimeExports.jsx(EnterprisePlan,{})}),jsxRuntimeExports.jsx(Route,{path:"/enterprise/solutions",element:jsxRuntimeExports.jsx(Solutions,{})}),jsxRuntimeExports.jsx(Route,{path:"/enterprise/security",element:jsxRuntimeExports.jsx(Security,{})}),jsxRuntimeExports.jsx(Route,{path:"/enterprise/custom",element:jsxRuntimeExports.jsx(CustomDevelopment,{})}),jsxRuntimeExports.jsx(Route,{path:"/pricing",element:jsxRuntimeExports.jsx(Pricing,{})}),jsxRuntimeExports.jsx(Route,{path:"/pricing/compare",element:jsxRuntimeExports.jsx(ComparePlans,{})}),jsxRuntimeExports.jsx(Route,{path:"/features/:planId",element:jsxRuntimeExports.jsx(PlanDetails,{})})]}),jsxRuntimeExports.jsx(Route,{path:"/contact",element:jsxRuntimeExports.jsx(Contact,{})}),jsxRuntimeExports.jsx(Route,{path:"/demo",element:jsxRuntimeExports.jsx(DemoWaitlist,{})}),jsxRuntimeExports.jsxs(Route,{element:jsxRuntimeExports.jsx(DashboardLayout,{}),children:[jsxRuntimeExports.jsx(Route,{path:"/dashboard",element:Re?jsxRuntimeExports.jsx(Dashboard,{}):jsxRuntimeExports.jsx(Navigate,{to:"/login"})}),jsxRuntimeExports.jsx(Route,{path:"/admin-calls",element:Re?jsxRuntimeExports.jsx(AdminCalls,{}):jsxRuntimeExports.jsx(Navigate,{to:"/login"})}),jsxRuntimeExports.jsx(Route,{path:"/admin/call-agent-setup",element:Re?jsxRuntimeExports.jsx(AdminCallAgent,{}):jsxRuntimeExports.jsx(Navigate,{to:"/login"})}),jsxRuntimeExports.jsx(Route,{path:"/admin-users",element:Re?jsxRuntimeExports.jsx(AdminUsers,{}):jsxRuntimeExports.jsx(Navigate,{to:"/login"})}),jsxRuntimeExports.jsx(Route,{path:"/admin/sent-notification",element:Re?jsxRuntimeExports.jsx(NotificationSender,{}):jsxRuntimeExports.jsx(Navigate,{to:"/login"})}),jsxRuntimeExports.jsx(Route,{path:"/crm",element:Re?jsxRuntimeExports.jsx(CRMDashboard,{}):jsxRuntimeExports.jsx(Navigate,{to:"/login"})}),jsxRuntimeExports.jsx(Route,{path:"/Calls",element:Re?jsxRuntimeExports.jsx(Calls,{}):jsxRuntimeExports.jsx(Navigate,{to:"/login"})}),jsxRuntimeExports.jsx(Route,{path:"/customers",element:Re?jsxRuntimeExports.jsx(Customers,{}):jsxRuntimeExports.jsx(Navigate,{to:"/login"})}),jsxRuntimeExports.jsx(Route,{path:"/customers/new",element:Re?jsxRuntimeExports.jsx(NewCustomer,{}):jsxRuntimeExports.jsx(Navigate,{to:"/login"})}),jsxRuntimeExports.jsx(Route,{path:"/customers/:id",element:Re?jsxRuntimeExports.jsx(CustomerDetail,{}):jsxRuntimeExports.jsx(Navigate,{to:"/login"})}),jsxRuntimeExports.jsx(Route,{path:"/customers/:id/edit",element:Re?jsxRuntimeExports.jsx(NewCustomer,{}):jsxRuntimeExports.jsx(Navigate,{to:"/login"})}),jsxRuntimeExports.jsx(Route,{path:"/calendar",element:Re?jsxRuntimeExports.jsx(CalendarDashboard,{}):jsxRuntimeExports.jsx(Navigate,{to:"/login"})}),jsxRuntimeExports.jsx(Route,{path:"/suppliers",element:Re?jsxRuntimeExports.jsx(Suppliers,{}):jsxRuntimeExports.jsx(Navigate,{to:"/login"})}),jsxRuntimeExports.jsx(Route,{path:"/suppliers/new",element:Re?jsxRuntimeExports.jsx(NewSupplier,{}):jsxRuntimeExports.jsx(Navigate,{to:"/login"})}),jsxRuntimeExports.jsx(Route,{path:"/suppliers/:id",element:Re?jsxRuntimeExports.jsx(SupplierDetail,{}):jsxRuntimeExports.jsx(Navigate,{to:"/login"})}),jsxRuntimeExports.jsx(Route,{path:"/suppliers/:id/edit",element:Re?jsxRuntimeExports.jsx(NewSupplier,{}):jsxRuntimeExports.jsx(Navigate,{to:"/login"})}),jsxRuntimeExports.jsx(Route,{path:"/products",element:Re?jsxRuntimeExports.jsx(Products,{}):jsxRuntimeExports.jsx(Navigate,{to:"/login"})}),jsxRuntimeExports.jsx(Route,{path:"/products/new",element:Re?jsxRuntimeExports.jsx(NewProduct,{}):jsxRuntimeExports.jsx(Navigate,{to:"/login"})}),jsxRuntimeExports.jsx(Route,{path:"/products/:id",element:Re?jsxRuntimeExports.jsx(ProductDetail,{}):jsxRuntimeExports.jsx(Navigate,{to:"/login"})}),jsxRuntimeExports.jsx(Route,{path:"/products/:id/edit",element:Re?jsxRuntimeExports.jsx(EditProduct,{}):jsxRuntimeExports.jsx(Navigate,{to:"/login"})}),jsxRuntimeExports.jsx(Route,{path:"/inventory",element:Re?jsxRuntimeExports.jsx(Inventory,{}):jsxRuntimeExports.jsx(Navigate,{to:"/login"})}),jsxRuntimeExports.jsx(Route,{path:"/invoices",element:Re?jsxRuntimeExports.jsx(Invoices,{}):jsxRuntimeExports.jsx(Navigate,{to:"/login"})}),jsxRuntimeExports.jsx(Route,{path:"/invoices/create",element:Re?jsxRuntimeExports.jsx(CreateInvoice,{}):jsxRuntimeExports.jsx(Navigate,{to:"/login"})}),jsxRuntimeExports.jsx(Route,{path:"/invoices/:id/edit",element:Re?jsxRuntimeExports.jsx(EditInvoice,{}):jsxRuntimeExports.jsx(Navigate,{to:"/login"})}),jsxRuntimeExports.jsx(Route,{path:"/invoices/:id",element:Re?jsxRuntimeExports.jsx(InvoiceDetail,{}):jsxRuntimeExports.jsx(Navigate,{to:"/login"})}),jsxRuntimeExports.jsx(Route,{path:"/invoices/:id/edit",element:Re?jsxRuntimeExports.jsx(EditInvoice,{}):jsxRuntimeExports.jsx(Navigate,{to:"/login"})}),jsxRuntimeExports.jsx(Route,{path:"/pipeline",element:Re?jsxRuntimeExports.jsx(Pipeline,{}):jsxRuntimeExports.jsx(Navigate,{to:"/login"})}),jsxRuntimeExports.jsx(Route,{path:"/pipeline/:stage",element:Re?jsxRuntimeExports.jsx(PipelineDetail,{}):jsxRuntimeExports.jsx(Navigate,{to:"/login"})}),jsxRuntimeExports.jsx(Route,{path:"/suppliers",element:Re?jsxRuntimeExports.jsx(Suppliers,{}):jsxRuntimeExports.jsx(Navigate,{to:"/login"})}),jsxRuntimeExports.jsx(Route,{path:"/quotes",element:Re?jsxRuntimeExports.jsx(Quotes$1,{}):jsxRuntimeExports.jsx(Navigate,{to:"/login"})}),jsxRuntimeExports.jsx(Route,{path:"/quotes/create",element:Re?jsxRuntimeExports.jsx(CreateQuote,{}):jsxRuntimeExports.jsx(Navigate,{to:"/login"})}),jsxRuntimeExports.jsx(Route,{path:"/quotes/:id",element:Re?jsxRuntimeExports.jsx(QuoteDetail,{}):jsxRuntimeExports.jsx(Navigate,{to:"/login"})}),jsxRuntimeExports.jsx(Route,{path:"/purchases",element:Re?jsxRuntimeExports.jsx(Purchases,{}):jsxRuntimeExports.jsx(Navigate,{to:"/login"})}),jsxRuntimeExports.jsx(Route,{path:"/expenses",element:Re?jsxRuntimeExports.jsx(Expenses$1,{}):jsxRuntimeExports.jsx(Navigate,{to:"/login"})}),jsxRuntimeExports.jsx(Route,{path:"/purchases/create",element:Re?jsxRuntimeExports.jsx(CreatePurchase,{}):jsxRuntimeExports.jsx(Navigate,{to:"/login"})}),jsxRuntimeExports.jsx(Route,{path:"/purchases/:id",element:Re?jsxRuntimeExports.jsx(PurchaseDetail,{}):jsxRuntimeExports.jsx(Navigate,{to:"/login"})}),jsxRuntimeExports.jsx(Route,{path:"/revenue",element:Re?jsxRuntimeExports.jsx(Revenue,{}):jsxRuntimeExports.jsx(Navigate,{to:"/login"})}),jsxRuntimeExports.jsx(Route,{path:"/settings",element:Re?jsxRuntimeExports.jsx(Settings,{}):jsxRuntimeExports.jsx(Navigate,{to:"/login"})}),jsxRuntimeExports.jsx(Route,{path:"/templates",element:Re?jsxRuntimeExports.jsx(Templates,{}):jsxRuntimeExports.jsx(Navigate,{to:"/login"})})]}),jsxRuntimeExports.jsx(Route,{path:"*",element:jsxRuntimeExports.jsx(Navigate,{to:Re?"/dashboard":"/"})})]}),!Re&&!ke.pathname.includes("/dashboard")&&!ke.pathname.includes("/login")&&!ke.pathname.includes("/register")&&jsxRuntimeExports.jsx(ChatBot,{isOpen:!1})]})}function ownKeys(Re,je){var _e=Object.keys(Re);if(Object.getOwnPropertySymbols){var Me=Object.getOwnPropertySymbols(Re);je&&(Me=Me.filter(function($e){return Object.getOwnPropertyDescriptor(Re,$e).enumerable})),_e.push.apply(_e,Me)}return _e}function _objectSpread2(Re){for(var je=1;je<arguments.length;je++){var _e=arguments[je]!=null?arguments[je]:{};je%2?ownKeys(Object(_e),!0).forEach(function(Me){_defineProperty(Re,Me,_e[Me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Re,Object.getOwnPropertyDescriptors(_e)):ownKeys(Object(_e)).forEach(function(Me){Object.defineProperty(Re,Me,Object.getOwnPropertyDescriptor(_e,Me))})}return Re}function _typeof(Re){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(je){return typeof je}:_typeof=function(je){return je&&typeof Symbol=="function"&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":typeof je},_typeof(Re)}function _defineProperty(Re,je,_e){return je in Re?Object.defineProperty(Re,je,{value:_e,enumerable:!0,configurable:!0,writable:!0}):Re[je]=_e,Re}function _slicedToArray(Re,je){return _arrayWithHoles(Re)||_iterableToArrayLimit(Re,je)||_unsupportedIterableToArray(Re,je)||_nonIterableRest()}function _arrayWithHoles(Re){if(Array.isArray(Re))return Re}function _iterableToArrayLimit(Re,je){var _e=Re&&(typeof Symbol<"u"&&Re[Symbol.iterator]||Re["@@iterator"]);if(_e!=null){var Me=[],$e=!0,ke=!1,Ce,Be;try{for(_e=_e.call(Re);!($e=(Ce=_e.next()).done)&&(Me.push(Ce.value),!(je&&Me.length===je));$e=!0);}catch(qe){ke=!0,Be=qe}finally{try{!$e&&_e.return!=null&&_e.return()}finally{if(ke)throw Be}}return Me}}function _unsupportedIterableToArray(Re,je){if(Re){if(typeof Re=="string")return _arrayLikeToArray(Re,je);var _e=Object.prototype.toString.call(Re).slice(8,-1);if(_e==="Object"&&Re.constructor&&(_e=Re.constructor.name),_e==="Map"||_e==="Set")return Array.from(Re);if(_e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_e))return _arrayLikeToArray(Re,je)}}function _arrayLikeToArray(Re,je){(je==null||je>Re.length)&&(je=Re.length);for(var _e=0,Me=new Array(je);_e<je;_e++)Me[_e]=Re[_e];return Me}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var useAttachEvent=function Re(je,_e,Me){var $e=!!Me,ke=React$2.useRef(Me);React$2.useEffect(function(){ke.current=Me},[Me]),React$2.useEffect(function(){if(!$e||!je)return function(){};var Ce=function(){ke.current&&ke.current.apply(ke,arguments)};return je.on(_e,Ce),function(){je.off(_e,Ce)}},[$e,_e,je,ke])},usePrevious=function Re(je){var _e=React$2.useRef(je);return React$2.useEffect(function(){_e.current=je},[je]),_e.current},isUnknownObject=function Re(je){return je!==null&&_typeof(je)==="object"},isPromise=function Re(je){return isUnknownObject(je)&&typeof je.then=="function"},isStripe=function Re(je){return isUnknownObject(je)&&typeof je.elements=="function"&&typeof je.createToken=="function"&&typeof je.createPaymentMethod=="function"&&typeof je.confirmCardPayment=="function"},PLAIN_OBJECT_STR="[object Object]",isEqual=function Re(je,_e){if(!isUnknownObject(je)||!isUnknownObject(_e))return je===_e;var Me=Array.isArray(je),$e=Array.isArray(_e);if(Me!==$e)return!1;var ke=Object.prototype.toString.call(je)===PLAIN_OBJECT_STR,Ce=Object.prototype.toString.call(_e)===PLAIN_OBJECT_STR;if(ke!==Ce)return!1;if(!ke&&!Me)return je===_e;var Be=Object.keys(je),qe=Object.keys(_e);if(Be.length!==qe.length)return!1;for(var He={},We=0;We<Be.length;We+=1)He[Be[We]]=!0;for(var Ke=0;Ke<qe.length;Ke+=1)He[qe[Ke]]=!0;var Je=Object.keys(He);if(Je.length!==Be.length)return!1;var Qe=je,rr=_e,tr=function(or){return Re(Qe[or],rr[or])};return Je.every(tr)},extractAllowedOptionsUpdates=function Re(je,_e,Me){return isUnknownObject(je)?Object.keys(je).reduce(function($e,ke){var Ce=!isUnknownObject(_e)||!isEqual(je[ke],_e[ke]);return Me.includes(ke)?(Ce&&console.warn("Unsupported prop change: options.".concat(ke," is not a mutable property.")),$e):Ce?_objectSpread2(_objectSpread2({},$e||{}),{},_defineProperty({},ke,je[ke])):$e},null):null},INVALID_STRIPE_ERROR$2="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",validateStripe=function Re(je){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:INVALID_STRIPE_ERROR$2;if(je===null||isStripe(je))return je;throw new Error(_e)},parseStripeProp=function Re(je){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:INVALID_STRIPE_ERROR$2;if(isPromise(je))return{tag:"async",stripePromise:Promise.resolve(je).then(function($e){return validateStripe($e,_e)})};var Me=validateStripe(je,_e);return Me===null?{tag:"empty"}:{tag:"sync",stripe:Me}},registerWithStripeJs=function Re(je){!je||!je._registerWrapper||!je.registerAppInfo||(je._registerWrapper({name:"react-stripe-js",version:"2.8.1"}),je.registerAppInfo({name:"react-stripe-js",version:"2.8.1",url:"https://stripe.com/docs/stripe-js/react"}))},ElementsContext=React$2.createContext(null);ElementsContext.displayName="ElementsContext";var parseElementsContext=function Re(je,_e){if(!je)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(_e," in an <Elements> provider."));return je},Elements=function Re(je){var _e=je.stripe,Me=je.options,$e=je.children,ke=React$2.useMemo(function(){return parseStripeProp(_e)},[_e]),Ce=React$2.useState(function(){return{stripe:ke.tag==="sync"?ke.stripe:null,elements:ke.tag==="sync"?ke.stripe.elements(Me):null}}),Be=_slicedToArray(Ce,2),qe=Be[0],He=Be[1];React$2.useEffect(function(){var Je=!0,Qe=function(tr){He(function(cr){return cr.stripe?cr:{stripe:tr,elements:tr.elements(Me)}})};return ke.tag==="async"&&!qe.stripe?ke.stripePromise.then(function(rr){rr&&Je&&Qe(rr)}):ke.tag==="sync"&&!qe.stripe&&Qe(ke.stripe),function(){Je=!1}},[ke,qe,Me]);var We=usePrevious(_e);React$2.useEffect(function(){We!==null&&We!==_e&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[We,_e]);var Ke=usePrevious(Me);return React$2.useEffect(function(){if(qe.elements){var Je=extractAllowedOptionsUpdates(Me,Ke,["clientSecret","fonts"]);Je&&qe.elements.update(Je)}},[Me,Ke,qe.elements]),React$2.useEffect(function(){registerWithStripeJs(qe.stripe)},[qe.stripe]),React$2.createElement(ElementsContext.Provider,{value:qe},$e)};Elements.propTypes={stripe:PropTypes.any,options:PropTypes.object};PropTypes.func.isRequired;var CustomCheckoutSdkContext=React$2.createContext(null);CustomCheckoutSdkContext.displayName="CustomCheckoutSdkContext";var parseCustomCheckoutSdkContext=function Re(je,_e){if(!je)throw new Error("Could not find CustomCheckoutProvider context; You need to wrap the part of your app that ".concat(_e," in an <CustomCheckoutProvider> provider."));return je},CustomCheckoutContext=React$2.createContext(null);CustomCheckoutContext.displayName="CustomCheckoutContext";PropTypes.any,PropTypes.shape({clientSecret:PropTypes.string.isRequired,elementsOptions:PropTypes.object}).isRequired;var useElementsOrCustomCheckoutSdkContextWithUseCase=function Re(je){var _e=React$2.useContext(CustomCheckoutSdkContext),Me=React$2.useContext(ElementsContext);if(_e&&Me)throw new Error("You cannot wrap the part of your app that ".concat(je," in both <CustomCheckoutProvider> and <Elements> providers."));return _e?parseCustomCheckoutSdkContext(_e,je):parseElementsContext(Me,je)},capitalized=function Re(je){return je.charAt(0).toUpperCase()+je.slice(1)},createElementComponent=function Re(je,_e){var Me="".concat(capitalized(je),"Element"),$e=function(qe){var He=qe.id,We=qe.className,Ke=qe.options,Je=Ke===void 0?{}:Ke,Qe=qe.onBlur,rr=qe.onFocus,tr=qe.onReady,cr=qe.onChange,or=qe.onEscape,ar=qe.onClick,pr=qe.onLoadError,ur=qe.onLoaderStart,gr=qe.onNetworksChange,jr=qe.onConfirm,vr=qe.onCancel,dr=qe.onShippingAddressChange,xr=qe.onShippingRateChange,Rr=useElementsOrCustomCheckoutSdkContextWithUseCase("mounts <".concat(Me,">")),Xe="elements"in Rr?Rr.elements:null,Pe="customCheckoutSdk"in Rr?Rr.customCheckoutSdk:null,Fe=React$2.useState(null),ze=_slicedToArray(Fe,2),Ue=ze[0],Ge=ze[1],Ze=React$2.useRef(null),er=React$2.useRef(null);useAttachEvent(Ue,"blur",Qe),useAttachEvent(Ue,"focus",rr),useAttachEvent(Ue,"escape",or),useAttachEvent(Ue,"click",ar),useAttachEvent(Ue,"loaderror",pr),useAttachEvent(Ue,"loaderstart",ur),useAttachEvent(Ue,"networkschange",gr),useAttachEvent(Ue,"confirm",jr),useAttachEvent(Ue,"cancel",vr),useAttachEvent(Ue,"shippingaddresschange",dr),useAttachEvent(Ue,"shippingratechange",xr),useAttachEvent(Ue,"change",cr);var Ve;tr&&(je==="expressCheckout"?Ve=tr:Ve=function(){tr(Ue)}),useAttachEvent(Ue,"ready",Ve),React$2.useLayoutEffect(function(){if(Ze.current===null&&er.current!==null&&(Xe||Pe)){var Ye=null;Pe?Ye=Pe.createElement(je,Je):Xe&&(Ye=Xe.create(je,Je)),Ze.current=Ye,Ge(Ye),Ye&&Ye.mount(er.current)}},[Xe,Pe,Je]);var Ie=usePrevious(Je);return React$2.useEffect(function(){if(Ze.current){var Ye=extractAllowedOptionsUpdates(Je,Ie,["paymentRequest"]);Ye&&"update"in Ze.current&&Ze.current.update(Ye)}},[Je,Ie]),React$2.useLayoutEffect(function(){return function(){if(Ze.current&&typeof Ze.current.destroy=="function")try{Ze.current.destroy(),Ze.current=null}catch{}}},[]),React$2.createElement("div",{id:He,className:We,ref:er})},ke=function(qe){useElementsOrCustomCheckoutSdkContextWithUseCase("mounts <".concat(Me,">"));var He=qe.id,We=qe.className;return React$2.createElement("div",{id:He,className:We})},Ce=_e?ke:$e;return Ce.propTypes={id:PropTypes.string,className:PropTypes.string,onChange:PropTypes.func,onBlur:PropTypes.func,onFocus:PropTypes.func,onReady:PropTypes.func,onEscape:PropTypes.func,onClick:PropTypes.func,onLoadError:PropTypes.func,onLoaderStart:PropTypes.func,onNetworksChange:PropTypes.func,onConfirm:PropTypes.func,onCancel:PropTypes.func,onShippingAddressChange:PropTypes.func,onShippingRateChange:PropTypes.func,options:PropTypes.object},Ce.displayName=Me,Ce.__elementType=je,Ce},isServer=typeof window>"u",EmbeddedCheckoutContext=React$2.createContext(null);EmbeddedCheckoutContext.displayName="EmbeddedCheckoutProviderContext";createElementComponent("auBankAccount",isServer);createElementComponent("card",isServer);createElementComponent("cardNumber",isServer);createElementComponent("cardExpiry",isServer);createElementComponent("cardCvc",isServer);createElementComponent("fpxBank",isServer);createElementComponent("iban",isServer);createElementComponent("idealBank",isServer);createElementComponent("p24Bank",isServer);createElementComponent("epsBank",isServer);createElementComponent("payment",isServer);createElementComponent("expressCheckout",isServer);createElementComponent("currencySelector",isServer);createElementComponent("paymentRequestButton",isServer);createElementComponent("linkAuthentication",isServer);createElementComponent("address",isServer);createElementComponent("shippingAddress",isServer);createElementComponent("paymentMethodMessaging",isServer);createElementComponent("affirmMessage",isServer);createElementComponent("afterpayClearpayMessage",isServer);var V3_URL="https://js.stripe.com/v3",V3_URL_REGEX=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,EXISTING_SCRIPT_MESSAGE="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",findScript=function Re(){for(var je=document.querySelectorAll('script[src^="'.concat(V3_URL,'"]')),_e=0;_e<je.length;_e++){var Me=je[_e];if(V3_URL_REGEX.test(Me.src))return Me}return null},injectScript=function Re(je){var _e="",Me=document.createElement("script");Me.src="".concat(V3_URL).concat(_e);var $e=document.head||document.body;if(!$e)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return $e.appendChild(Me),Me},registerWrapper=function Re(je,_e){!je||!je._registerWrapper||je._registerWrapper({name:"stripe-js",version:"2.4.0",startTime:_e})},stripePromise$1=null,onErrorListener=null,onLoadListener=null,onError=function Re(je){return function(){je(new Error("Failed to load Stripe.js"))}},onLoad=function Re(je,_e){return function(){window.Stripe?je(window.Stripe):_e(new Error("Stripe.js not available"))}},loadScript=function Re(je){return stripePromise$1!==null?stripePromise$1:(stripePromise$1=new Promise(function(_e,Me){if(typeof window>"u"||typeof document>"u"){_e(null);return}if(window.Stripe&&je&&console.warn(EXISTING_SCRIPT_MESSAGE),window.Stripe){_e(window.Stripe);return}try{var $e=findScript();if($e&&je)console.warn(EXISTING_SCRIPT_MESSAGE);else if(!$e)$e=injectScript(je);else if($e&&onLoadListener!==null&&onErrorListener!==null){var ke;$e.removeEventListener("load",onLoadListener),$e.removeEventListener("error",onErrorListener),(ke=$e.parentNode)===null||ke===void 0||ke.removeChild($e),$e=injectScript(je)}onLoadListener=onLoad(_e,Me),onErrorListener=onError(Me),$e.addEventListener("load",onLoadListener),$e.addEventListener("error",onErrorListener)}catch(Ce){Me(Ce);return}}),stripePromise$1.catch(function(_e){return stripePromise$1=null,Promise.reject(_e)}))},initStripe=function Re(je,_e,Me){if(je===null)return null;var $e=je.apply(void 0,_e);return registerWrapper($e,Me),$e},stripePromise$1$1,loadCalled=!1,getStripePromise=function Re(){return stripePromise$1$1||(stripePromise$1$1=loadScript(null).catch(function(je){return stripePromise$1$1=null,Promise.reject(je)}),stripePromise$1$1)};Promise.resolve().then(function(){return getStripePromise()}).catch(function(Re){loadCalled||console.warn(Re)});var loadStripe=function Re(){for(var je=arguments.length,_e=new Array(je),Me=0;Me<je;Me++)_e[Me]=arguments[Me];loadCalled=!0;var $e=Date.now();return getStripePromise().then(function(ke){return initStripe(ke,_e,$e)})};const stripePromise=loadStripe("pk_live_51QypERGmarpEtABMTcKBe5wEaaqY3EWbyIpDqcXVWbheGjKUCdMnaPwPEscNALaoOrQBg5THRELp7HJAAGa6XRU400cGHFDtax"),StripeProvider=({children:Re})=>jsxRuntimeExports.jsx(Elements,{stripe:stripePromise,children:Re}),__vite_import_meta_env__={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_APP_URL:"https://cxtrack.com",VITE_HUGGINGFACE_API_KEY:"hf_your-huggingface-key",VITE_OPENAI_API_KEY:"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",VITE_STRIPE_PUBLISHABLE_KEY:"pk_live_51QypERGmarpEtABMTcKBe5wEaaqY3EWbyIpDqcXVWbheGjKUCdMnaPwPEscNALaoOrQBg5THRELp7HJAAGa6XRU400cGHFDtax",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZtZW9tbm1ncWF0ZXpqcXNyYXBqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDA4ODI3NjQsImV4cCI6MjA1NjQ1ODc2NH0.uT7Hne2lmqLUei4931uepHFum1rtuBk7k0HRMK0V5UI",VITE_SUPABASE_URL:"https://vmeomnmgqatezjqsrapj.supabase.co"};console.log("Environment:","production");try{const je=["VITE_SUPABASE_URL","VITE_SUPABASE_ANON_KEY","VITE_OPENAI_API_KEY"].filter(_e=>!__vite_import_meta_env__[_e]);if(je.length>0)throw new Error(`Missing required environment variables: ${je.join(", ")}`);"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".startsWith("sk-")||console.error('Warning: OpenAI API key format may be invalid. Expected key to start with "sk-"')}catch(Re){console.error("Environment validation error:",Re),c$1.error("Application configuration error. Please check the console.")}const isDemoMode=!1;createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsxs(StripeProvider,{children:[jsxRuntimeExports.jsx(App,{}),jsxRuntimeExports.jsx(Oe,{position:"top-right",toastOptions:{style:{background:"#1e293b",color:"#fff"},duration:4e3}}),isDemoMode]})})}));export{_defineProperty$2 as _};
