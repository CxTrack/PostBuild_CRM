const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index.es-uP8MCuNN.js","assets/vendor-BcDHwDgx.js","assets/supabase-CbtP6YtK.js","assets/pdf-TDtrdbi3.js"])))=>i.map(i=>d[i]);
import{r as U,a as xS,b as Qr,R as ce,L as de,u as Mn,d as Qt,c as Fr,e as Xj,f as Yg,N as an,O as Qj,g as gS,h as yS,i as Nv,j as bS,k as We,l as yt,B as vS}from"./vendor-BcDHwDgx.js";import{c as wS,_ as O0}from"./supabase-CbtP6YtK.js";import{c as jS}from"./pdf-TDtrdbi3.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=s(a);fetch(a.href,i)}})();var Jj={exports:{}},qf={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NS=U,kS=Symbol.for("react.element"),_S=Symbol.for("react.fragment"),SS=Object.prototype.hasOwnProperty,AS=NS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,CS={key:!0,ref:!0,__self:!0,__source:!0};function Zj(t,e,s){var n,a={},i=null,o=null;s!==void 0&&(i=""+s),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)SS.call(e,n)&&!CS.hasOwnProperty(n)&&(a[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)a[n]===void 0&&(a[n]=e[n]);return{$$typeof:kS,type:t,key:i,ref:o,props:a,_owner:AS.current}}qf.Fragment=_S;qf.jsx=Zj;qf.jsxs=Zj;Jj.exports=qf;var r=Jj.exports,eN,kv=xS;eN=kv.createRoot,kv.hydrateRoot;let PS={data:""},ES=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||PS,DS=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,LS=/\/\*[^]*?\*\/|  +/g,_v=/\n+/g,Ui=(t,e)=>{let s="",n="",a="";for(let i in t){let o=t[i];i[0]=="@"?i[1]=="i"?s=i+" "+o+";":n+=i[1]=="f"?Ui(o,i):i+"{"+Ui(o,i[1]=="k"?"":e)+"}":typeof o=="object"?n+=Ui(o,e?e.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Ui.p?Ui.p(i,o):i+":"+o+";")}return s+(e&&a?e+"{"+a+"}":a)+n},ni={},tN=t=>{if(typeof t=="object"){let e="";for(let s in t)e+=s+tN(t[s]);return e}return t},IS=(t,e,s,n,a)=>{let i=tN(t),o=ni[i]||(ni[i]=(c=>{let d=0,u=11;for(;d<c.length;)u=101*u+c.charCodeAt(d++)>>>0;return"go"+u})(i));if(!ni[o]){let c=i!==t?t:(d=>{let u,h,f=[{}];for(;u=DS.exec(d.replace(LS,""));)u[4]?f.shift():u[3]?(h=u[3].replace(_v," ").trim(),f.unshift(f[0][h]=f[0][h]||{})):f[0][u[1]]=u[2].replace(_v," ").trim();return f[0]})(t);ni[o]=Ui(a?{["@keyframes "+o]:c}:c,s?"":"."+o)}let l=s&&ni.g?ni.g:null;return s&&(ni.g=ni[o]),((c,d,u,h)=>{h?d.data=d.data.replace(h,c):d.data.indexOf(c)===-1&&(d.data=u?c+d.data:d.data+c)})(ni[o],e,n,l),o},MS=(t,e,s)=>t.reduce((n,a,i)=>{let o=e[i];if(o&&o.call){let l=o(s),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":Ui(l,""):l===!1?"":l}return n+a+(o??"")},"");function Hf(t){let e=this||{},s=t.call?t(e.p):t;return IS(s.unshift?s.raw?MS(s,[].slice.call(arguments,1),e.p):s.reduce((n,a)=>Object.assign(n,a&&a.call?a(e.p):a),{}):s,ES(e.target),e.g,e.o,e.k)}let sN,R0,$0;Hf.bind({g:1});let bi=Hf.bind({k:1});function TS(t,e,s,n){Ui.p=e,sN=t,R0=s,$0=n}function no(t,e){let s=this||{};return function(){let n=arguments;function a(i,o){let l=Object.assign({},i),c=l.className||a.className;s.p=Object.assign({theme:R0&&R0()},l),s.o=/ *go\d+/.test(c),l.className=Hf.apply(s,n)+(c?" "+c:"");let d=t;return t[0]&&(d=l.as||t,delete l.as),$0&&d[0]&&$0(l),sN(d,l)}return a}}var FS=t=>typeof t=="function",cf=(t,e)=>FS(t)?t(e):t,OS=(()=>{let t=0;return()=>(++t).toString()})(),rN=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),RS=20,nN=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,RS)};case 1:return{...t,toasts:t.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:s}=e;return nN(t,{type:t.toasts.find(i=>i.id===s.id)?1:0,toast:s});case 3:let{toastId:n}=e;return{...t,toasts:t.toasts.map(i=>i.id===n||n===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let a=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+a}))}}},Wm=[],zo={toasts:[],pausedAt:void 0},dl=t=>{zo=nN(zo,t),Wm.forEach(e=>{e(zo)})},$S={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},zS=(t={})=>{let[e,s]=U.useState(zo),n=U.useRef(zo);U.useEffect(()=>(n.current!==zo&&s(zo),Wm.push(s),()=>{let i=Wm.indexOf(s);i>-1&&Wm.splice(i,1)}),[]);let a=e.toasts.map(i=>{var o,l,c;return{...t,...t[i.type],...i,removeDelay:i.removeDelay||((o=t[i.type])==null?void 0:o.removeDelay)||t?.removeDelay,duration:i.duration||((l=t[i.type])==null?void 0:l.duration)||t?.duration||$S[i.type],style:{...t.style,...(c=t[i.type])==null?void 0:c.style,...i.style}}});return{...e,toasts:a}},BS=(t,e="blank",s)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...s,id:s?.id||OS()}),Uu=t=>(e,s)=>{let n=BS(e,t,s);return dl({type:2,toast:n}),n.id},fe=(t,e)=>Uu("blank")(t,e);fe.error=Uu("error");fe.success=Uu("success");fe.loading=Uu("loading");fe.custom=Uu("custom");fe.dismiss=t=>{dl({type:3,toastId:t})};fe.remove=t=>dl({type:4,toastId:t});fe.promise=(t,e,s)=>{let n=fe.loading(e.loading,{...s,...s?.loading});return typeof t=="function"&&(t=t()),t.then(a=>{let i=e.success?cf(e.success,a):void 0;return i?fe.success(i,{id:n,...s,...s?.success}):fe.dismiss(n),a}).catch(a=>{let i=e.error?cf(e.error,a):void 0;i?fe.error(i,{id:n,...s,...s?.error}):fe.dismiss(n)}),t};var qS=(t,e)=>{dl({type:1,toast:{id:t,height:e}})},HS=()=>{dl({type:5,time:Date.now()})},Zd=new Map,WS=1e3,US=(t,e=WS)=>{if(Zd.has(t))return;let s=setTimeout(()=>{Zd.delete(t),dl({type:4,toastId:t})},e);Zd.set(t,s)},VS=t=>{let{toasts:e,pausedAt:s}=zS(t);U.useEffect(()=>{if(s)return;let i=Date.now(),o=e.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(i-l.createdAt);if(c<0){l.visible&&fe.dismiss(l.id);return}return setTimeout(()=>fe.dismiss(l.id),c)});return()=>{o.forEach(l=>l&&clearTimeout(l))}},[e,s]);let n=U.useCallback(()=>{s&&dl({type:6,time:Date.now()})},[s]),a=U.useCallback((i,o)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:d}=o||{},u=e.filter(m=>(m.position||d)===(i.position||d)&&m.height),h=u.findIndex(m=>m.id===i.id),f=u.filter((m,g)=>g<h&&m.visible).length;return u.filter(m=>m.visible).slice(...l?[f+1]:[0,f]).reduce((m,g)=>m+(g.height||0)+c,0)},[e]);return U.useEffect(()=>{e.forEach(i=>{if(i.dismissed)US(i.id,i.removeDelay);else{let o=Zd.get(i.id);o&&(clearTimeout(o),Zd.delete(i.id))}})},[e]),{toasts:e,handlers:{updateHeight:qS,startPause:HS,endPause:n,calculateOffset:a}}},YS=bi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,GS=bi`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,KS=bi`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,XS=no("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${YS} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${GS} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${KS} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,QS=bi`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,JS=no("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${QS} 1s linear infinite;
`,ZS=bi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,eA=bi`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,tA=no("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ZS} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${eA} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,sA=no("div")`
  position: absolute;
`,rA=no("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,nA=bi`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,aA=no("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${nA} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,iA=({toast:t})=>{let{icon:e,type:s,iconTheme:n}=t;return e!==void 0?typeof e=="string"?U.createElement(aA,null,e):e:s==="blank"?null:U.createElement(rA,null,U.createElement(JS,{...n}),s!=="loading"&&U.createElement(sA,null,s==="error"?U.createElement(XS,{...n}):U.createElement(tA,{...n})))},oA=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,lA=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,cA="0%{opacity:0;} 100%{opacity:1;}",dA="0%{opacity:1;} 100%{opacity:0;}",uA=no("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,hA=no("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,mA=(t,e)=>{let s=t.includes("top")?1:-1,[n,a]=rN()?[cA,dA]:[oA(s),lA(s)];return{animation:e?`${bi(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${bi(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},fA=U.memo(({toast:t,position:e,style:s,children:n})=>{let a=t.height?mA(t.position||e||"top-center",t.visible):{opacity:0},i=U.createElement(iA,{toast:t}),o=U.createElement(hA,{...t.ariaProps},cf(t.message,t));return U.createElement(uA,{className:t.className,style:{...a,...s,...t.style}},typeof n=="function"?n({icon:i,message:o}):U.createElement(U.Fragment,null,i,o))});TS(U.createElement);var pA=({id:t,className:e,style:s,onHeightUpdate:n,children:a})=>{let i=U.useCallback(o=>{if(o){let l=()=>{let c=o.getBoundingClientRect().height;n(t,c)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return U.createElement("div",{ref:i,className:e,style:s},a)},xA=(t,e)=>{let s=t.includes("top"),n=s?{top:0}:{bottom:0},a=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:rN()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(s?1:-1)}px)`,...n,...a}},gA=Hf`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,im=16,yA=({reverseOrder:t,position:e="top-center",toastOptions:s,gutter:n,children:a,containerStyle:i,containerClassName:o})=>{let{toasts:l,handlers:c}=VS(s);return U.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:im,left:im,right:im,bottom:im,pointerEvents:"none",...i},className:o,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(d=>{let u=d.position||e,h=c.calculateOffset(d,{reverseOrder:t,gutter:n,defaultPosition:e}),f=xA(u,h);return U.createElement(pA,{id:d.id,key:d.id,onHeightUpdate:c.updateHeight,className:d.visible?gA:"",style:f},d.type==="custom"?cf(d.message,d):a?a(d):U.createElement(fA,{toast:d,position:u}))}))};const bA={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_APP_URL:"https://cxtrack.com",VITE_HUGGINGFACE_API_KEY:"hf_your-huggingface-key",VITE_OPENAI_API_KEY:"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",VITE_STRIPE_PUBLISHABLE_KEY:"pk_live_51QypERGmarpEtABMTcKBe5wEaaqY3EWbyIpDqcXVWbheGjKUCdMnaPwPEscNALaoOrQBg5THRELp7HJAAGa6XRU400cGHFDtax",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZtZW9tbm1ncWF0ZXpqcXNyYXBqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDA4ODI3NjQsImV4cCI6MjA1NjQ1ODc2NH0.uT7Hne2lmqLUei4931uepHFum1rtuBk7k0HRMK0V5UI",VITE_SUPABASE_URL:"https://vmeomnmgqatezjqsrapj.supabase.co"},Sv=t=>{let e;const s=new Set,n=(u,h)=>{const f=typeof u=="function"?u(e):u;if(!Object.is(f,e)){const m=e;e=h??(typeof f!="object"||f===null)?f:Object.assign({},e,f),s.forEach(g=>g(e,m))}},a=()=>e,c={setState:n,getState:a,getInitialState:()=>d,subscribe:u=>(s.add(u),()=>s.delete(u)),destroy:()=>{(bA?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),s.clear()}},d=e=t(n,a,c);return c},vA=t=>t?Sv(t):Sv;var aN={exports:{}},iN={},oN={exports:{}},lN={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gc=U;function wA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var jA=typeof Object.is=="function"?Object.is:wA,NA=gc.useState,kA=gc.useEffect,_A=gc.useLayoutEffect,SA=gc.useDebugValue;function AA(t,e){var s=e(),n=NA({inst:{value:s,getSnapshot:e}}),a=n[0].inst,i=n[1];return _A(function(){a.value=s,a.getSnapshot=e,Sx(a)&&i({inst:a})},[t,s,e]),kA(function(){return Sx(a)&&i({inst:a}),t(function(){Sx(a)&&i({inst:a})})},[t]),SA(s),s}function Sx(t){var e=t.getSnapshot;t=t.value;try{var s=e();return!jA(t,s)}catch{return!0}}function CA(t,e){return e()}var PA=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?CA:AA;lN.useSyncExternalStore=gc.useSyncExternalStore!==void 0?gc.useSyncExternalStore:PA;oN.exports=lN;var EA=oN.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wf=U,DA=EA;function LA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var IA=typeof Object.is=="function"?Object.is:LA,MA=DA.useSyncExternalStore,TA=Wf.useRef,FA=Wf.useEffect,OA=Wf.useMemo,RA=Wf.useDebugValue;iN.useSyncExternalStoreWithSelector=function(t,e,s,n,a){var i=TA(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=OA(function(){function c(m){if(!d){if(d=!0,u=m,m=n(m),a!==void 0&&o.hasValue){var g=o.value;if(a(g,m))return h=g}return h=m}if(g=h,IA(u,m))return g;var x=n(m);return a!==void 0&&a(g,x)?(u=m,g):(u=m,h=x)}var d=!1,u,h,f=s===void 0?null:s;return[function(){return c(e())},f===null?void 0:function(){return c(f())}]},[e,s,n,a]);var l=MA(t,i[0],i[1]);return FA(function(){o.hasValue=!0,o.value=l},[l]),RA(l),l};aN.exports=iN;var $A=aN.exports;const zA=Qr($A),Gg={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_APP_URL:"https://cxtrack.com",VITE_HUGGINGFACE_API_KEY:"hf_your-huggingface-key",VITE_OPENAI_API_KEY:"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",VITE_STRIPE_PUBLISHABLE_KEY:"pk_live_51QypERGmarpEtABMTcKBe5wEaaqY3EWbyIpDqcXVWbheGjKUCdMnaPwPEscNALaoOrQBg5THRELp7HJAAGa6XRU400cGHFDtax",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZtZW9tbm1ncWF0ZXpqcXNyYXBqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDA4ODI3NjQsImV4cCI6MjA1NjQ1ODc2NH0.uT7Hne2lmqLUei4931uepHFum1rtuBk7k0HRMK0V5UI",VITE_SUPABASE_URL:"https://vmeomnmgqatezjqsrapj.supabase.co"},{useDebugValue:BA}=ce,{useSyncExternalStoreWithSelector:qA}=zA;let Av=!1;const HA=t=>t;function WA(t,e=HA,s){(Gg?"production":void 0)!=="production"&&s&&!Av&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Av=!0);const n=qA(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,s);return BA(n),n}const Cv=t=>{(Gg?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?vA(t):t,s=(n,a)=>WA(e,n,a);return Object.assign(s,e),s},Jr=t=>t?Cv(t):Cv;var UA=t=>((Gg?"production":void 0)!=="production"&&console.warn("[DEPRECATED] Default export is deprecated. Instead use `import { create } from 'zustand'`."),Jr(t));const cN="https://vmeomnmgqatezjqsrapj.supabase.co",VA="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZtZW9tbm1ncWF0ZXpqcXNyYXBqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDA4ODI3NjQsImV4cCI6MjA1NjQ1ODc2NH0.uT7Hne2lmqLUei4931uepHFum1rtuBk7k0HRMK0V5UI",YA="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",GA=()=>{const t=[];if(t.length>0)throw new Error(`Missing required environment variables: ${t.join(", ")}`);if(!YA.startsWith("sk-"))throw new Error('Invalid OpenAI API key format. Key should start with "sk-"');try{new URL(cN)}catch{throw new Error("Invalid Supabase URL format")}};GA();const KA=()=>{const t={},e=(a,i,o=7)=>{try{const l=new Date(Date.now()+o*864e5).toUTCString();return document.cookie=`${a}=${encodeURIComponent(i)}; expires=${l}; path=/; SameSite=Lax`,!0}catch(l){return console.error("Cookie storage error:",l),!1}},s=a=>{try{const o=`; ${document.cookie}`.split(`; ${a}=`);if(o.length===2){const l=o.pop()?.split(";").shift();return l?decodeURIComponent(l):null}return null}catch(i){return console.error("Cookie retrieval error:",i),null}},n=a=>{try{return document.cookie=`${a}=; Max-Age=-99999999; path=/`,!0}catch(i){return console.error("Cookie removal error:",i),!1}};return{getItem:a=>{try{const i=localStorage.getItem(a);if(i)return i;const o=s(a);return o||t[a]||null}catch(i){return console.warn("localStorage error, falling back to memory:",i),t[a]||null}},setItem:(a,i)=>{try{localStorage.setItem(a,i),e(a,i),t[a]=i}catch(o){console.warn("Storage error, trying fallbacks:",o);try{e(a,i)}catch(l){console.warn("Cookie storage failed:",l)}t[a]=i}},removeItem:a=>{try{localStorage.removeItem(a),n(a),delete t[a]}catch(i){console.warn("localStorage error, falling back to memory:",i);try{n(a)}catch(o){console.warn("Cookie removal failed:",o)}delete t[a]}}}},dN=KA(),Ae=wS(cN,VA,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storageKey:"sb-auth-token",storage:dN,flowType:"implicit"},global:{headers:{"X-Client-Info":"cxtrack-app"}}}),XA=async()=>{try{const{data:{session:t}}=await Ae.auth.getSession();if(t)try{const{data:e,error:s}=await Ae.auth.refreshSession();return s?(s.name!=="AuthSessionMissingError"&&console.error("Session refresh error:",s),{success:!1,session:null,error:s}):{success:!0,session:e.session,error:null}}catch(e){return console.error("Session refresh exception:",e),{success:!1,session:null,error:e}}return{success:!1,session:null,error:null}}catch(t){return t&&t.name!=="AuthSessionMissingError"&&console.error("Session check exception:",t),{success:!1,session:null,error:t}}},Ao=()=>{try{dN.removeItem("sb-auth-token");try{sessionStorage.removeItem("sb-auth-token"),localStorage.removeItem("sb-auth-token"),sessionStorage.removeItem("bms-auth-token"),localStorage.removeItem("bms-auth-token"),["supabase.auth.token","supabase.auth.refreshToken","sb-session","sb-access-token","sb-refresh-token"].forEach(e=>{try{localStorage.removeItem(e),sessionStorage.removeItem(e)}catch{}})}catch(t){console.warn("Error clearing browser storage:",t)}try{document.cookie.split(";").forEach(t=>{const[e]=t.split("=");e&&(e.trim().startsWith("sb-")||e.trim().includes("supabase")||e.trim().includes("auth"))&&(document.cookie=`${e.trim()}=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/`)})}catch(t){console.warn("Error clearing cookies:",t)}return!0}catch(t){return console.error("Error clearing auth storage:",t),!1}},Ar=Jr((t,e)=>({user:null,initialized:!1,loading:!1,error:null,resetPassword:async s=>{t({loading:!0,error:null});try{const a="https://cxtrack.com/reset-password#",{error:i}=await Ae.auth.resetPasswordForEmail(s,{redirectTo:a});if(i)throw i;t({loading:!1})}catch(n){throw console.error("Password reset error:",n),t({error:n.message||"Failed to send reset instructions",loading:!1}),n}},updatePassword:async(s,n)=>{t({loading:!0,error:null});try{const{error:a}=await Ae.auth.setSession({access_token:s,refresh_token:""});if(a)throw new Error("Invalid or expired reset link");const{error:i}=await Ae.auth.updateUser({password:n});if(i)throw i;await Ae.auth.signOut(),Ao(),t({loading:!1})}catch(a){throw console.error("Password update error:",a),t({error:a.message.includes("Invalid")||a.message.includes("expired")?"Invalid or expired reset link. Please request a new password reset.":a.message||"Failed to update password",loading:!1}),a}},signIn:async(s,n)=>{t({loading:!0,error:null});try{if(!["maniksharmawork@gmail.com","amanjotgrewal@hotmail.com","vaneetverma@yahoo.com","jviaches@gmail.com"].includes(s))throw new Error("Access restricted. Please join our waitlist.");await Ae.auth.signOut(),Ao(),await new Promise(d=>setTimeout(d,500));const{data:i,error:o}=await Ae.auth.signInWithPassword({email:s,password:n});if(o)throw o;await new Promise(d=>setTimeout(d,500));const{data:{session:l},error:c}=await Ae.auth.getSession();if(c||!l)throw new Error("Failed to establish session. Please try again.");t({user:i.user,loading:!1})}catch(a){throw console.error("Sign in error:",a),t({error:a.message||"Unable to sign in. Please try again.",loading:!1}),a}},signInWithGoogle:async()=>{t({loading:!0,error:null});try{await Ae.auth.signOut(),Ao(),await new Promise(l=>setTimeout(l,500));const s=`${window.location.origin}/auth/callback`;console.log("Redirect URL:",s);const{data:n,error:a}=await Ae.auth.signInWithOAuth({provider:"google",options:{redirectTo:"https://cxtrack.com/auth/callback",queryParams:{access_type:"offline",prompt:"consent"}}});if(a)throw a;await new Promise(l=>setTimeout(l,500));const{data:{session:i},error:o}=await Ae.auth.getSession();if(o||!i)throw new Error("Failed to establish session. Please try again.");t({loading:!1})}catch(s){throw console.error("Google sign in error:",s),t({error:s.message?.includes("refused to connect")?"Please check your Google authentication settings in Supabase":s.message||"Unable to sign in with Google",loading:!1}),s}},signUp:async(s,n,a)=>{t({loading:!0,error:null});try{if(s!=="maniksharmawork@gmail.com")throw new Error("Registration is currently restricted. Please join our waitlist.");await Ae.auth.signOut(),Ao(),await new Promise(l=>setTimeout(l,500));const{data:i,error:o}=await Ae.auth.signUp({email:s,password:n,options:{data:{full_name:a},emailRedirectTo:`${window.location.origin}/auth/callback`,emailVerification:!1}});if(o)throw o.message.includes("User already registered")?new Error("An account with this email already exists"):o.message.includes("rate limit")?new Error("Too many attempts. Please try again in a few minutes."):o;if(!i.user)throw new Error("No user data returned from signup");await new Promise(l=>setTimeout(l,1e3)),t({loading:!1})}catch(i){console.error("Sign up error:",i);let o="Unable to create account. Please try again.";throw i.message.includes("already exists")||i.message.includes("already registered")?o=i.message:i.message.includes("password")?o="Password must be at least 6 characters long.":i.message.includes("email")?o="Please enter a valid email address.":i.message.includes("rate limit")&&(o="Too many attempts. Please try again later."),t({error:o,loading:!1}),i}},signOut:async()=>{t({loading:!0,error:null});try{Ao(),await new Promise(s=>setTimeout(s,300)),await Ae.auth.signOut(),t({user:null,loading:!1,error:null,initialized:!0})}catch(s){console.error("Sign out error:",s),Ao(),t({user:null,loading:!1,error:"Failed to sign out properly, but you have been logged out.",initialized:!0})}},initialize:async()=>{try{t({loading:!0}),Ao(),await new Promise(a=>setTimeout(a,300));const{data:{session:s},error:n}=await Ae.auth.getSession();if(n)throw n;if(s){const{data:{user:a},error:i}=await Ae.auth.getUser();if(i)throw i;t({user:a,initialized:!0,loading:!1})}else t({user:null,initialized:!0,loading:!1})}catch(s){console.error("Auth initialization error:",s),t({user:null,initialized:!0,loading:!1})}},clearError:()=>t({error:null}),checkAuthStatus:async()=>{try{const{data:{session:s},error:n}=await Ae.auth.getSession();if(!s)return!1;const a=new Date(s.expires_at*1e3),i=new Date(Date.now()-5*60*1e3);if(a>i)return!0;const{success:o}=await XA();return!!o}catch(s){return console.error("Auth status check error:",s),!1}}}));Ar.getState().initialize();const Dc=Jr((t,e)=>({profile:null,loading:!1,error:null,clearError:()=>t({error:null}),fetchProfile:async()=>{t({loading:!0,error:null});try{const{data:s}=await Ae.auth.getUser();if(!s?.user){console.log("No authenticated user found when fetching profile"),t({profile:{company:"CxTrack",address:"",city:"",state:"",zipCode:"",country:"",phone:""},loading:!1});return}const{data:n,error:a}=await Ae.from("profiles").select("*").eq("user_id",s.user.id).maybeSingle();if(a&&a.code!=="PGRST116")throw console.error("Error fetching profile:",a),a;if(n){t({profile:n,loading:!1});return}const i={user_id:s.user.id,company:"CxTrack",address:"",city:"",state:"",zipCode:"",country:"",phone:""};try{const{data:o,error:l}=await Ae.from("profiles").insert([i]).select().single();l?(console.error("Error creating default profile:",l),t({profile:i,loading:!1,error:l.message})):t({profile:o,loading:!1})}catch(o){console.error("Exception creating profile:",o),t({profile:i,loading:!1,error:"Failed to create profile"})}}catch(s){console.error("Error in fetchProfile:",s),t({profile:{company:"CxTrack",address:"",city:"",state:"",zipCode:"",country:"",phone:""},error:s.message||"Failed to fetch profile",loading:!1})}},updateProfile:async s=>{const n=e().profile;if(!n)throw new Error("No profile to update");let a=!1;for(const[i,o]of Object.entries(s))if(n[i]!==o){a=!0;break}if(!a){console.log("No profile changes detected, skipping update");return}t({loading:!0,error:null});try{const{data:i}=await Ae.auth.getUser();if(!i?.user)throw new Error("User not authenticated");const o=i.user.id,{data:l}=await Ae.from("profiles").select("id").eq("user_id",o).maybeSingle();let c;if(l?c=await Ae.from("profiles").update({...s,updated_at:new Date().toISOString()}).eq("user_id",o).select().single():c=await Ae.from("profiles").insert([{user_id:o,...s,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select().single(),c.error)throw console.error("Error updating profile:",c.error),c.error;t({profile:{...n,...s,user_id:o},loading:!1})}catch(i){throw console.error("Error in updateProfile:",i),t({error:i.message||"Failed to update profile",loading:!1}),i}}}));/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var QA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Be=(t,e)=>{const s=U.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...d},u)=>U.createElement("svg",{ref:u,...QA,width:a,height:a,stroke:n,strokeWidth:o?Number(i)*24/Number(a):i,className:["lucide",`lucide-${JA(t)}`,l].join(" "),...d},[...e.map(([h,f])=>U.createElement(h,f)),...Array.isArray(c)?c:[c]]));return s.displayName=`${t}`,s};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=Be("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uf=Be("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=Be("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const df=Be("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=Be("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=Be("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0=Be("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=Be("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=Be("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=Be("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=Be("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=Be("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=Be("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=Be("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=Be("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xu=Be("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=Be("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=Be("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=Be("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=Be("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=Be("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=Be("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=Be("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=Be("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=Be("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=Be("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=Be("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nC=Be("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=Be("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gu=Be("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vu=Be("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=Be("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=Be("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aC=Be("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=Be("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=Be("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iC=Be("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=Be("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=Be("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=Be("Gavel",[["path",{d:"m14.5 12.5-8 8a2.119 2.119 0 1 1-3-3l8-8",key:"15492f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m9 7 8 8",key:"5jnvq1"}],["path",{d:"m21 11-8-8",key:"z4y7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lC=Be("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=Be("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=Be("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=Be("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=Be("Headset",[["path",{d:"M3 11h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-5Zm0 0a9 9 0 1 1 18 0m0 0v5a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3Z",key:"12oyoe"}],["path",{d:"M21 16v2a4 4 0 0 1-4 4h-5",key:"1x7m43"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mC=Be("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=Be("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=Be("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=Be("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hf=Be("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=Be("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=Be("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xC=Be("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=Be("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=Be("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=Be("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yC=Be("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=Be("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bC=Be("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vC=Be("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=Be("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=Be("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=Be("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=Be("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oo=Be("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jC=Be("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=Be("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xg=Be("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=Be("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yu=Be("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=Be("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=Be("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=Be("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=Be("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=Be("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=Be("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const un=Be("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=Be("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vi=Be("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NC=Be("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kC=Be("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=Be("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=Be("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eu=Be("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=Be("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=Be("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=Be("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=Be("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=Be("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=Be("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=Be("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),SC=()=>{const{user:t}=Ar(),[e,s]=U.useState(!0),[n,a]=U.useState([]),[i,o]=U.useState([]),[l,c]=U.useState(null),[d,u]=U.useState("all"),[h,f]=U.useState({start:"",end:""}),[m,g]=U.useState(""),[x,j]=U.useState("date"),[y,b]=U.useState("desc");U.useEffect(()=>{(async()=>{try{s(!0);const{data:v,error:P}=await Ae.rpc("get_pipeline_summary",{p_user_id:t?.id});if(P)throw P;a(v||[]);const L=Ae.from("quotes").select("*").eq("user_id",t?.id).filter("status","not.in",'("Declined","Expired")'),S=Ae.from("invoices").select("*").eq("user_id",t?.id).neq("status","Cancelled"),[C,O]=await Promise.all([L,S]);if(C.error)throw C.error;if(O.error)throw O.error;const z=(C.data||[]).map(q=>({id:q.id,title:q.quote_number,customer_name:q.customer_name,total:q.total,created_at:q.created_at,due_date:q.expiry_date,status:q.status,pipeline_stage:q.pipeline_stage,type:"quote"})),Z=(O.data||[]).map(q=>({id:q.id,title:q.invoice_number,customer_name:q.customer_name,total:q.total,created_at:q.created_at,due_date:q.due_date,status:q.status,pipeline_stage:q.pipeline_stage,type:"invoice"}));o([...z,...Z])}catch(v){console.error("Error loading pipeline data:",v),fe.error("Failed to load pipeline data")}finally{s(!1)}})()},[t?.id]);const k=i.filter(_=>{if(l&&_.pipeline_stage!==l)return!1;if(m){const v=m.toLowerCase();return _.title.toLowerCase().includes(v)||_.customer_name.toLowerCase().includes(v)}if(d!=="all"){const v=new Date(_.created_at),P=new Date;switch(d){case"week":const L=new Date(P);return L.setDate(P.getDate()-P.getDay()),L.setHours(0,0,0,0),v>=L;case"month":const S=new Date(P.getFullYear(),P.getMonth(),1);return v>=S;case"quarter":const C=new Date(P);return C.setMonth(Math.floor(P.getMonth()/3)*3,1),v>=C;case"year":const O=new Date(P.getFullYear(),0,1);return v>=O;case"ytd":const z=new Date(P.getFullYear(),0,1);return v>=z;case"custom":const Z=h.start?new Date(h.start):null,q=h.end?new Date(h.end):null;return Z&&q?v>=Z&&v<=q:!0;default:return!0}}return!0}).sort((_,v)=>x==="date"?y==="desc"?new Date(v.created_at).getTime()-new Date(_.created_at).getTime():new Date(_.created_at).getTime()-new Date(v.created_at).getTime():y==="desc"?v.total-_.total:_.total-v.total),A=k.reduce((_,v)=>_+v.total,0),E=k.length,I=E>0?A/E:0;return e?r.jsxs("div",{className:"flex items-center justify-center min-h-[60vh]",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"}),r.jsx("span",{className:"ml-3 text-gray-400",children:"Loading pipeline data..."})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsx("h1",{className:"text-2xl font-bold text-white",children:"Pipeline"})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsx("div",{className:"card bg-dark-800 border border-dark-700",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Total Pipeline Value"}),r.jsxs("h3",{className:"text-2xl font-bold text-white mt-1",children:["$",A.toLocaleString()]}),r.jsxs("div",{className:"flex items-center mt-2",children:[r.jsx(Bo,{size:16,className:"text-green-500"}),r.jsx("span",{className:"text-sm text-green-500 ml-1",children:"12%"}),r.jsx("span",{className:"text-gray-500 text-sm ml-1",children:"vs last month"})]})]}),r.jsx("div",{className:"p-3 rounded-lg bg-green-500/20 text-green-500",children:r.jsx(us,{size:24})})]})}),r.jsx("div",{className:"card bg-dark-800 border border-dark-700",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Total Deals"}),r.jsx("h3",{className:"text-2xl font-bold text-white mt-1",children:E}),r.jsxs("div",{className:"flex items-center mt-2",children:[r.jsx(Bo,{size:16,className:"text-green-500"}),r.jsx("span",{className:"text-sm text-green-500 ml-1",children:"8%"}),r.jsx("span",{className:"text-gray-500 text-sm ml-1",children:"vs last month"})]})]}),r.jsx("div",{className:"p-3 rounded-lg bg-blue-500/20 text-blue-500",children:r.jsx(wt,{size:24})})]})}),r.jsx("div",{className:"card bg-dark-800 border border-dark-700",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Average Deal Value"}),r.jsxs("h3",{className:"text-2xl font-bold text-white mt-1",children:["$",I.toLocaleString()]}),r.jsxs("div",{className:"flex items-center mt-2",children:[r.jsx(df,{size:16,className:"text-red-500"}),r.jsx("span",{className:"text-sm text-red-500 ml-1",children:"3%"}),r.jsx("span",{className:"text-gray-500 text-sm ml-1",children:"vs last month"})]})]}),r.jsx("div",{className:"p-3 rounded-lg bg-purple-500/20 text-purple-500",children:r.jsx(dr,{size:24})})]})})]}),r.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[r.jsx("div",{className:"flex justify-between items-center mb-6",children:r.jsx("h2",{className:"text-lg font-semibold text-white",children:"Pipeline Stages"})}),r.jsx("div",{className:"space-y-4",children:[{stage:"lead",label:"Leads",color:"bg-gray-500"},{stage:"opportunity",label:"Opportunities",color:"bg-blue-500"},{stage:"quote",label:"Quotes",color:"bg-yellow-500"},{stage:"invoice_sent",label:"Invoices (Sent)",color:"bg-orange-500"},{stage:"invoice_pending",label:"Invoices (Pending)",color:"bg-purple-500"},{stage:"closed_won",label:"Closed (Won)",color:"bg-green-500"}].map(_=>{const v=n?.find(C=>C.pipeline_stage===_.stage),P=v?.total_value||0,L=v?.deal_count||0,S=v?.completion_percentage||0;return r.jsxs("button",{className:`w-full relative ${l===_.stage?"ring-2 ring-primary-500 rounded-lg":"hover:bg-dark-700/50"}`,onClick:()=>c(l===_.stage?null:_.stage),children:[r.jsxs("div",{className:"flex justify-between items-center mb-1",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-sm text-gray-300",children:_.label}),r.jsx(ao,{size:14,className:`text-gray-400 transition-colors ${l===_.stage?"text-primary-400":"text-gray-500"}`})]}),r.jsxs("span",{className:"text-sm text-gray-400",children:[L," ",L===1?"deal":"deals","  $",P.toLocaleString()]})]}),r.jsx("div",{className:"h-2 bg-dark-700 rounded-full overflow-hidden",children:r.jsx("div",{className:`h-full ${_.color} transition-all duration-300 ${l===_.stage?"opacity-100":"opacity-75"}`,style:{width:`${S*100}%`}})})]},_.stage)})})]}),r.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(er,{size:18,className:"text-gray-400"})}),r.jsx("input",{type:"text",placeholder:"Search deals...",className:"input pl-10 w-full",value:m,onChange:_=>g(_.target.value)})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("select",{className:"bg-dark-800 border border-dark-700 text-white rounded-md px-3 py-2",value:d,onChange:_=>u(_.target.value),children:[r.jsx("option",{value:"all",children:"All Time"}),r.jsx("option",{value:"week",children:"This Week"}),r.jsx("option",{value:"month",children:"This Month"}),r.jsx("option",{value:"quarter",children:"This Quarter"}),r.jsx("option",{value:"year",children:"This Year"}),r.jsx("option",{value:"ytd",children:"Year to Date"}),r.jsx("option",{value:"custom",children:"Custom Range"})]}),d==="custom"&&r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"date",className:"bg-dark-800 border border-dark-700 text-white rounded-md px-3 py-2",value:h.start,onChange:_=>f(v=>({...v,start:_.target.value}))}),r.jsx("input",{type:"date",className:"bg-dark-800 border border-dark-700 text-white rounded-md px-3 py-2",value:h.end,onChange:_=>f(v=>({...v,end:_.target.value}))})]}),r.jsxs("button",{className:"btn btn-secondary flex items-center space-x-2",onClick:()=>{x==="date"?b(y==="asc"?"desc":"asc"):(j("date"),b("desc"))},children:[r.jsx(Rs,{size:16}),r.jsx(Da,{size:16,className:`transform transition-transform ${x==="date"&&y==="asc"?"rotate-180":""}`})]}),r.jsxs("button",{className:"btn btn-secondary flex items-center space-x-2",onClick:()=>{x==="value"?b(y==="asc"?"desc":"asc"):(j("value"),b("desc"))},children:[r.jsx(us,{size:16}),r.jsx(Da,{size:16,className:`transform transition-transform ${x==="value"&&y==="asc"?"rotate-180":""}`})]})]})]}),r.jsxs("div",{className:"overflow-x-auto",children:[r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-dark-700",children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Deal"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Customer"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Stage"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Value"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Created"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Due Date"})]})}),r.jsx("tbody",{className:"divide-y divide-dark-700",children:k.map(_=>r.jsxs("tr",{className:"hover:bg-dark-700/50",children:[r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsx(de,{to:`/${_.type}s/${_.id}`,className:"text-white hover:text-primary-400",children:_.title})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:_.customer_name}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${_.pipeline_stage==="closed_won"?"bg-green-900/30 text-green-400":_.pipeline_stage==="closed_lost"?"bg-red-900/30 text-red-400":_.pipeline_stage==="invoice_pending"?"bg-purple-900/30 text-purple-400":_.pipeline_stage==="invoice_sent"?"bg-orange-900/30 text-orange-400":_.pipeline_stage==="quote"?"bg-yellow-900/30 text-yellow-400":_.pipeline_stage==="opportunity"?"bg-blue-900/30 text-blue-400":"bg-gray-900/30 text-gray-400"}`,children:_.pipeline_stage.split("_").map(v=>v.charAt(0).toUpperCase()+v.slice(1)).join(" ")})}),r.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-right text-gray-300",children:["$",_.total.toLocaleString()]}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:new Date(_.created_at).toLocaleDateString()}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:_.due_date?new Date(_.due_date).toLocaleDateString():"-"})]},`${_.type}-${_.id}`))})]}),k.length===0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(wt,{size:48,className:"text-gray-600 mb-4 mx-auto"}),r.jsx("p",{className:"text-gray-400 text-lg mb-2",children:"No deals found"}),r.jsx("p",{className:"text-gray-500 text-sm",children:"Try adjusting your filters or create a new deal"})]})]})]})]})},AC=()=>{const{stage:t}=Mn(),{user:e}=Ar(),[s,n]=U.useState(!0),[a,i]=U.useState([]),[o,l]=U.useState({totalValue:0,dealCount:0,avgDealSize:0,conversionRate:0});U.useEffect(()=>{(async()=>{try{n(!0);const h=Ae.from("quotes").select("*").eq("user_id",e?.id).eq("pipeline_stage",t).not("status","in","(Declined,Expired)"),f=Ae.from("invoices").select("*").eq("user_id",e?.id).eq("pipeline_stage",t).neq("status","Cancelled"),[m,g]=await Promise.all([h,f]);if(m.error)throw m.error;if(g.error)throw g.error;const x=(m.data||[]).map(A=>({...A,type:"quote"})),j=(g.data||[]).map(A=>({...A,type:"invoice"})),y=[...x,...j];i(y);const b=y.reduce((A,E)=>A+E.total,0),k=y.length;l({totalValue:b,dealCount:k,avgDealSize:k>0?b/k:0,conversionRate:t==="closed_won"?k/b*100:0})}catch(h){console.error("Error loading pipeline details:",h),fe.error("Failed to load pipeline details")}finally{n(!1)}})()},[t,e?.id]);const c=u=>u.split("_").map(h=>h.charAt(0).toUpperCase()+h.slice(1)).join(" "),d=u=>{switch(u){case"closed_won":return"bg-green-900/30 text-green-400";case"closed_lost":return"bg-red-900/30 text-red-400";case"invoice_pending":return"bg-purple-900/30 text-purple-400";case"invoice_sent":return"bg-orange-900/30 text-orange-400";case"quote":return"bg-yellow-900/30 text-yellow-400";case"opportunity":return"bg-blue-900/30 text-blue-400";default:return"bg-gray-900/30 text-gray-400"}};return s?r.jsxs("div",{className:"flex items-center justify-center min-h-[60vh]",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"}),r.jsx("span",{className:"ml-3 text-gray-400",children:"Loading pipeline details..."})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(de,{to:"/pipeline",className:"btn btn-secondary p-2",children:r.jsx(ss,{size:20})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-white",children:c(t||"")}),r.jsx("p",{className:"text-gray-400",children:"Pipeline Stage Details"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx("div",{className:"card bg-dark-800 border border-dark-700",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Total Value"}),r.jsxs("h3",{className:"text-2xl font-bold text-white mt-1",children:["$",o.totalValue.toLocaleString()]})]}),r.jsx("div",{className:"p-3 rounded-lg bg-green-500/20 text-green-500",children:r.jsx(us,{size:24})})]})}),r.jsx("div",{className:"card bg-dark-800 border border-dark-700",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Number of Deals"}),r.jsx("h3",{className:"text-2xl font-bold text-white mt-1",children:o.dealCount})]}),r.jsx("div",{className:"p-3 rounded-lg bg-blue-500/20 text-blue-500",children:r.jsx(wt,{size:24})})]})}),r.jsx("div",{className:"card bg-dark-800 border border-dark-700",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Average Deal Size"}),r.jsxs("h3",{className:"text-2xl font-bold text-white mt-1",children:["$",o.avgDealSize.toLocaleString()]})]}),r.jsx("div",{className:"p-3 rounded-lg bg-purple-500/20 text-purple-500",children:r.jsx(us,{size:24})})]})}),r.jsx("div",{className:"card bg-dark-800 border border-dark-700",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Conversion Rate"}),r.jsxs("h3",{className:"text-2xl font-bold text-white mt-1",children:[o.conversionRate.toFixed(1),"%"]})]}),r.jsx("div",{className:"p-3 rounded-lg bg-yellow-500/20 text-yellow-500",children:r.jsx(wt,{size:24})})]})})]}),r.jsx("div",{className:"card bg-dark-800 border border-dark-700",children:r.jsxs("div",{className:"overflow-x-auto",children:[r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-dark-700",children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Deal"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Customer"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Value"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Created"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Due Date"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Status"})]})}),r.jsx("tbody",{className:"divide-y divide-dark-700",children:a.map(u=>r.jsxs("tr",{className:"hover:bg-dark-700/50",children:[r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsx(de,{to:`/${u.type}s/${u.id}`,className:"text-white hover:text-primary-400",children:u.type==="quote"?u.quote_number:u.invoice_number})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:u.customer_name}),r.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-right text-gray-300",children:["$",u.total.toLocaleString()]}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:new Date(u.created_at).toLocaleDateString()}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:u.due_date?new Date(u.due_date).toLocaleDateString():"-"}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${d(t||"")}`,children:u.status})})]},`${u.type}-${u.id}`))})]}),a.length===0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(wt,{size:48,className:"text-gray-600 mb-4 mx-auto"}),r.jsx("p",{className:"text-gray-400 text-lg mb-2",children:"No deals found"}),r.jsx("p",{className:"text-gray-500 text-sm",children:"There are no deals in this pipeline stage"})]})]})})]})};var Yu=t=>t.type==="checkbox",qo=t=>t instanceof Date,Mr=t=>t==null;const wN=t=>typeof t=="object";var Es=t=>!Mr(t)&&!Array.isArray(t)&&wN(t)&&!qo(t),CC=t=>Es(t)&&t.target?Yu(t.target)?t.target.checked:t.target.value:t,PC=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,EC=(t,e)=>t.has(PC(e)),DC=t=>{const e=t.constructor&&t.constructor.prototype;return Es(e)&&e.hasOwnProperty("isPrototypeOf")},Jg=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function nr(t){let e;const s=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Jg&&(t instanceof Blob||n))&&(s||Es(t)))if(e=s?[]:{},!s&&!DC(t))e=t;else for(const a in t)t.hasOwnProperty(a)&&(e[a]=nr(t[a]));else return t;return e}var Gu=t=>Array.isArray(t)?t.filter(Boolean):[],ns=t=>t===void 0,Je=(t,e,s)=>{if(!e||!Es(t))return s;const n=Gu(e.split(/[,[\].]+?/)).reduce((a,i)=>Mr(a)?a:a[i],t);return ns(n)||n===t?ns(t[e])?s:t[e]:n},Sa=t=>typeof t=="boolean",Zg=t=>/^\w*$/.test(t),jN=t=>Gu(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Wt=(t,e,s)=>{let n=-1;const a=Zg(e)?[e]:jN(e),i=a.length,o=i-1;for(;++n<i;){const l=a[n];let c=s;if(n!==o){const d=t[l];c=Es(d)||Array.isArray(d)?d:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}return t};const Ev={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},An={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ai={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},LC=ce.createContext(null),IC=()=>ce.useContext(LC);var MC=(t,e,s,n=!0)=>{const a={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(a,i,{get:()=>{const o=i;return e._proxyFormState[o]!==An.all&&(e._proxyFormState[o]=!n||An.all),t[o]}});return a},Ir=t=>Es(t)&&!Object.keys(t).length,TC=(t,e,s,n)=>{s(t);const{name:a,...i}=t;return Ir(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===An.all)},hn=t=>Array.isArray(t)?t:[t];function NN(t){const e=ce.useRef(t);e.current=t,ce.useEffect(()=>{const s=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{s&&s.unsubscribe()}},[t.disabled])}var Fa=t=>typeof t=="string",FC=(t,e,s,n,a)=>Fa(t)?(n&&e.watch.add(t),Je(s,t,a)):Array.isArray(t)?t.map(i=>(n&&e.watch.add(i),Je(s,i))):(n&&(e.watchAll=!0),s),OC=(t,e,s,n,a)=>e?{...s[t],types:{...s[t]&&s[t].types?s[t].types:{},[n]:a||!0}}:{},zi=()=>{const t=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const s=(Math.random()*16+t)%16|0;return(e=="x"?s:s&3|8).toString(16)})},Px=(t,e,s={})=>s.shouldFocus||ns(s.shouldFocus)?s.focusName||`${t}.${ns(s.focusIndex)?e:s.focusIndex}.`:"",tu=t=>({isOnSubmit:!t||t===An.onSubmit,isOnBlur:t===An.onBlur,isOnChange:t===An.onChange,isOnAll:t===An.all,isOnTouch:t===An.onTouched}),q0=(t,e,s)=>!s&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const uc=(t,e,s,n)=>{for(const a of s||Object.keys(t)){const i=Je(t,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],a)&&!n)return!0;if(o.ref&&e(o.ref,o.name)&&!n)return!0;if(uc(l,e))break}else if(Es(l)&&uc(l,e))break}}};var kN=(t,e,s)=>{const n=hn(Je(t,s));return Wt(n,"root",e[s]),Wt(t,s,n),t},ey=t=>t.type==="file",La=t=>typeof t=="function",mf=t=>{if(!Jg)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Vm=t=>Fa(t),ty=t=>t.type==="radio",ff=t=>t instanceof RegExp;const Dv={value:!1,isValid:!1},Lv={value:!0,isValid:!0};var _N=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!ns(t[0].attributes.value)?ns(t[0].value)||t[0].value===""?Lv:{value:t[0].value,isValid:!0}:Lv:Dv}return Dv};const Iv={isValid:!1,value:null};var SN=t=>Array.isArray(t)?t.reduce((e,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:e,Iv):Iv;function Mv(t,e,s="validate"){if(Vm(t)||Array.isArray(t)&&t.every(Vm)||Sa(t)&&!t)return{type:s,message:Vm(t)?t:"",ref:e}}var Yl=t=>Es(t)&&!ff(t)?t:{value:t,message:""},H0=async(t,e,s,n,a,i)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:u,min:h,max:f,pattern:m,validate:g,name:x,valueAsNumber:j,mount:y}=t._f,b=Je(s,x);if(!y||e.has(x))return{};const k=l?l[0]:o,A=C=>{a&&k.reportValidity&&(k.setCustomValidity(Sa(C)?"":C||""),k.reportValidity())},E={},I=ty(o),_=Yu(o),v=I||_,P=(j||ey(o))&&ns(o.value)&&ns(b)||mf(o)&&o.value===""||b===""||Array.isArray(b)&&!b.length,L=OC.bind(null,x,n,E),S=(C,O,z,Z=ai.maxLength,q=ai.minLength)=>{const R=C?O:z;E[x]={type:C?Z:q,message:R,ref:o,...L(C?Z:q,R)}};if(i?!Array.isArray(b)||!b.length:c&&(!v&&(P||Mr(b))||Sa(b)&&!b||_&&!_N(l).isValid||I&&!SN(l).isValid)){const{value:C,message:O}=Vm(c)?{value:!!c,message:c}:Yl(c);if(C&&(E[x]={type:ai.required,message:O,ref:k,...L(ai.required,O)},!n))return A(O),E}if(!P&&(!Mr(h)||!Mr(f))){let C,O;const z=Yl(f),Z=Yl(h);if(!Mr(b)&&!isNaN(b)){const q=o.valueAsNumber||b&&+b;Mr(z.value)||(C=q>z.value),Mr(Z.value)||(O=q<Z.value)}else{const q=o.valueAsDate||new Date(b),R=J=>new Date(new Date().toDateString()+" "+J),X=o.type=="time",$=o.type=="week";Fa(z.value)&&b&&(C=X?R(b)>R(z.value):$?b>z.value:q>new Date(z.value)),Fa(Z.value)&&b&&(O=X?R(b)<R(Z.value):$?b<Z.value:q<new Date(Z.value))}if((C||O)&&(S(!!C,z.message,Z.message,ai.max,ai.min),!n))return A(E[x].message),E}if((d||u)&&!P&&(Fa(b)||i&&Array.isArray(b))){const C=Yl(d),O=Yl(u),z=!Mr(C.value)&&b.length>+C.value,Z=!Mr(O.value)&&b.length<+O.value;if((z||Z)&&(S(z,C.message,O.message),!n))return A(E[x].message),E}if(m&&!P&&Fa(b)){const{value:C,message:O}=Yl(m);if(ff(C)&&!b.match(C)&&(E[x]={type:ai.pattern,message:O,ref:o,...L(ai.pattern,O)},!n))return A(O),E}if(g){if(La(g)){const C=await g(b,s),O=Mv(C,k);if(O&&(E[x]={...O,...L(ai.validate,O.message)},!n))return A(O.message),E}else if(Es(g)){let C={};for(const O in g){if(!Ir(C)&&!n)break;const z=Mv(await g[O](b,s),k,O);z&&(C={...z,...L(O,z.message)},A(z.message),n&&(E[x]=C))}if(!Ir(C)&&(E[x]={ref:k,...C},!n))return E}}return A(!0),E},Ex=(t,e)=>[...t,...hn(e)],Dx=t=>Array.isArray(t)?t.map(()=>{}):void 0;function Lx(t,e,s){return[...t.slice(0,e),...hn(s),...t.slice(e)]}var Ix=(t,e,s)=>Array.isArray(t)?(ns(t[s])&&(t[s]=void 0),t.splice(s,0,t.splice(e,1)[0]),t):[],Mx=(t,e)=>[...hn(e),...hn(t)];function RC(t,e){let s=0;const n=[...t];for(const a of e)n.splice(a-s,1),s++;return Gu(n).length?n:[]}var Tx=(t,e)=>ns(e)?[]:RC(t,hn(e).sort((s,n)=>s-n)),Fx=(t,e,s)=>{[t[e],t[s]]=[t[s],t[e]]};function $C(t,e){const s=e.slice(0,-1).length;let n=0;for(;n<s;)t=ns(t)?n++:t[e[n++]];return t}function zC(t){for(const e in t)if(t.hasOwnProperty(e)&&!ns(t[e]))return!1;return!0}function Fs(t,e){const s=Array.isArray(e)?e:Zg(e)?[e]:jN(e),n=s.length===1?t:$C(t,s),a=s.length-1,i=s[a];return n&&delete n[i],a!==0&&(Es(n)&&Ir(n)||Array.isArray(n)&&zC(n))&&Fs(t,s.slice(0,-1)),t}var Tv=(t,e,s)=>(t[e]=s,t);function Gf(t){const e=IC(),{control:s=e.control,name:n,keyName:a="id",shouldUnregister:i,rules:o}=t,[l,c]=ce.useState(s._getFieldArray(n)),d=ce.useRef(s._getFieldArray(n).map(zi)),u=ce.useRef(l),h=ce.useRef(n),f=ce.useRef(!1);h.current=n,u.current=l,s._names.array.add(n),o&&s.register(n,o),NN({next:({values:I,name:_})=>{if(_===h.current||!_){const v=Je(I,h.current);Array.isArray(v)&&(c(v),d.current=v.map(zi))}},subject:s._subjects.array});const m=ce.useCallback(I=>{f.current=!0,s._updateFieldArray(n,I)},[s,n]),g=(I,_)=>{const v=hn(nr(I)),P=Ex(s._getFieldArray(n),v);s._names.focus=Px(n,P.length-1,_),d.current=Ex(d.current,v.map(zi)),m(P),c(P),s._updateFieldArray(n,P,Ex,{argA:Dx(I)})},x=(I,_)=>{const v=hn(nr(I)),P=Mx(s._getFieldArray(n),v);s._names.focus=Px(n,0,_),d.current=Mx(d.current,v.map(zi)),m(P),c(P),s._updateFieldArray(n,P,Mx,{argA:Dx(I)})},j=I=>{const _=Tx(s._getFieldArray(n),I);d.current=Tx(d.current,I),m(_),c(_),!Array.isArray(Je(s._fields,n))&&Wt(s._fields,n,void 0),s._updateFieldArray(n,_,Tx,{argA:I})},y=(I,_,v)=>{const P=hn(nr(_)),L=Lx(s._getFieldArray(n),I,P);s._names.focus=Px(n,I,v),d.current=Lx(d.current,I,P.map(zi)),m(L),c(L),s._updateFieldArray(n,L,Lx,{argA:I,argB:Dx(_)})},b=(I,_)=>{const v=s._getFieldArray(n);Fx(v,I,_),Fx(d.current,I,_),m(v),c(v),s._updateFieldArray(n,v,Fx,{argA:I,argB:_},!1)},k=(I,_)=>{const v=s._getFieldArray(n);Ix(v,I,_),Ix(d.current,I,_),m(v),c(v),s._updateFieldArray(n,v,Ix,{argA:I,argB:_},!1)},A=(I,_)=>{const v=nr(_),P=Tv(s._getFieldArray(n),I,v);d.current=[...P].map((L,S)=>!L||S===I?zi():d.current[S]),m(P),c([...P]),s._updateFieldArray(n,P,Tv,{argA:I,argB:v},!0,!1)},E=I=>{const _=hn(nr(I));d.current=_.map(zi),m([..._]),c([..._]),s._updateFieldArray(n,[..._],v=>v,{},!0,!1)};return ce.useEffect(()=>{if(s._state.action=!1,q0(n,s._names)&&s._subjects.state.next({...s._formState}),f.current&&(!tu(s._options.mode).isOnSubmit||s._formState.isSubmitted))if(s._options.resolver)s._executeSchema([n]).then(I=>{const _=Je(I.errors,n),v=Je(s._formState.errors,n);(v?!_&&v.type||_&&(v.type!==_.type||v.message!==_.message):_&&_.type)&&(_?Wt(s._formState.errors,n,_):Fs(s._formState.errors,n),s._subjects.state.next({errors:s._formState.errors}))});else{const I=Je(s._fields,n);I&&I._f&&!(tu(s._options.reValidateMode).isOnSubmit&&tu(s._options.mode).isOnSubmit)&&H0(I,s._names.disabled,s._formValues,s._options.criteriaMode===An.all,s._options.shouldUseNativeValidation,!0).then(_=>!Ir(_)&&s._subjects.state.next({errors:kN(s._formState.errors,_,n)}))}s._subjects.values.next({name:n,values:{...s._formValues}}),s._names.focus&&uc(s._fields,(I,_)=>{if(s._names.focus&&_.startsWith(s._names.focus)&&I.focus)return I.focus(),1}),s._names.focus="",s._updateValid(),f.current=!1},[l,n,s]),ce.useEffect(()=>(!Je(s._formValues,n)&&s._updateFieldArray(n),()=>{(s._options.shouldUnregister||i)&&s.unregister(n)}),[n,s,a,i]),{swap:ce.useCallback(b,[m,n,s]),move:ce.useCallback(k,[m,n,s]),prepend:ce.useCallback(x,[m,n,s]),append:ce.useCallback(g,[m,n,s]),remove:ce.useCallback(j,[m,n,s]),insert:ce.useCallback(y,[m,n,s]),update:ce.useCallback(A,[m,n,s]),replace:ce.useCallback(E,[m,n,s]),fields:ce.useMemo(()=>l.map((I,_)=>({...I,[a]:d.current[_]||zi()})),[l,a])}}var Ox=()=>{let t=[];return{get observers(){return t},next:a=>{for(const i of t)i.next&&i.next(a)},subscribe:a=>(t.push(a),{unsubscribe:()=>{t=t.filter(i=>i!==a)}}),unsubscribe:()=>{t=[]}}},W0=t=>Mr(t)||!wN(t);function Vi(t,e){if(W0(t)||W0(e))return t===e;if(qo(t)&&qo(e))return t.getTime()===e.getTime();const s=Object.keys(t),n=Object.keys(e);if(s.length!==n.length)return!1;for(const a of s){const i=t[a];if(!n.includes(a))return!1;if(a!=="ref"){const o=e[a];if(qo(i)&&qo(o)||Es(i)&&Es(o)||Array.isArray(i)&&Array.isArray(o)?!Vi(i,o):i!==o)return!1}}return!0}var AN=t=>t.type==="select-multiple",BC=t=>ty(t)||Yu(t),Rx=t=>mf(t)&&t.isConnected,CN=t=>{for(const e in t)if(La(t[e]))return!0;return!1};function pf(t,e={}){const s=Array.isArray(t);if(Es(t)||s)for(const n in t)Array.isArray(t[n])||Es(t[n])&&!CN(t[n])?(e[n]=Array.isArray(t[n])?[]:{},pf(t[n],e[n])):Mr(t[n])||(e[n]=!0);return e}function PN(t,e,s){const n=Array.isArray(t);if(Es(t)||n)for(const a in t)Array.isArray(t[a])||Es(t[a])&&!CN(t[a])?ns(e)||W0(s[a])?s[a]=Array.isArray(t[a])?pf(t[a],[]):{...pf(t[a])}:PN(t[a],Mr(e)?{}:e[a],s[a]):s[a]=!Vi(t[a],e[a]);return s}var _d=(t,e)=>PN(t,e,pf(e)),EN=(t,{valueAsNumber:e,valueAsDate:s,setValueAs:n})=>ns(t)?t:e?t===""?NaN:t&&+t:s&&Fa(t)?new Date(t):n?n(t):t;function $x(t){const e=t.ref;return ey(e)?e.files:ty(e)?SN(t.refs).value:AN(e)?[...e.selectedOptions].map(({value:s})=>s):Yu(e)?_N(t.refs).value:EN(ns(e.value)?t.ref.value:e.value,t)}var qC=(t,e,s,n)=>{const a={};for(const i of t){const o=Je(e,i);o&&Wt(a,i,o._f)}return{criteriaMode:s,names:[...t],fields:a,shouldUseNativeValidation:n}},Sd=t=>ns(t)?t:ff(t)?t.source:Es(t)?ff(t.value)?t.value.source:t.value:t;const Fv="AsyncFunction";var HC=t=>!!t&&!!t.validate&&!!(La(t.validate)&&t.validate.constructor.name===Fv||Es(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Fv)),WC=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function Ov(t,e,s){const n=Je(t,s);if(n||Zg(s))return{error:n,name:s};const a=s.split(".");for(;a.length;){const i=a.join("."),o=Je(e,i),l=Je(t,i);if(o&&!Array.isArray(o)&&s!==i)return{name:s};if(l&&l.type)return{name:i,error:l};a.pop()}return{name:s}}var UC=(t,e,s,n,a)=>a.isOnAll?!1:!s&&a.isOnTouch?!(e||t):(s?n.isOnBlur:a.isOnBlur)?!t:(s?n.isOnChange:a.isOnChange)?t:!0,VC=(t,e)=>!Gu(Je(t,e)).length&&Fs(t,e);const YC={mode:An.onSubmit,reValidateMode:An.onChange,shouldFocusError:!0};function GC(t={}){let e={...YC,...t},s={submitCount:0,isDirty:!1,isLoading:La(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},a=Es(e.defaultValues)||Es(e.values)?nr(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:nr(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:Ox(),array:Ox(),state:Ox()},f=tu(e.mode),m=tu(e.reValidateMode),g=e.criteriaMode===An.all,x=te=>oe=>{clearTimeout(d),d=setTimeout(te,oe)},j=async te=>{if(!e.disabled&&(u.isValid||te)){const oe=e.resolver?Ir((await v()).errors):await L(n,!0);oe!==s.isValid&&h.state.next({isValid:oe})}},y=(te,oe)=>{!e.disabled&&(u.isValidating||u.validatingFields)&&((te||Array.from(l.mount)).forEach(ue=>{ue&&(oe?Wt(s.validatingFields,ue,oe):Fs(s.validatingFields,ue))}),h.state.next({validatingFields:s.validatingFields,isValidating:!Ir(s.validatingFields)}))},b=(te,oe=[],ue,_e,we=!0,Se=!0)=>{if(_e&&ue&&!e.disabled){if(o.action=!0,Se&&Array.isArray(Je(n,te))){const De=ue(Je(n,te),_e.argA,_e.argB);we&&Wt(n,te,De)}if(Se&&Array.isArray(Je(s.errors,te))){const De=ue(Je(s.errors,te),_e.argA,_e.argB);we&&Wt(s.errors,te,De),VC(s.errors,te)}if(u.touchedFields&&Se&&Array.isArray(Je(s.touchedFields,te))){const De=ue(Je(s.touchedFields,te),_e.argA,_e.argB);we&&Wt(s.touchedFields,te,De)}u.dirtyFields&&(s.dirtyFields=_d(a,i)),h.state.next({name:te,isDirty:C(te,oe),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else Wt(i,te,oe)},k=(te,oe)=>{Wt(s.errors,te,oe),h.state.next({errors:s.errors})},A=te=>{s.errors=te,h.state.next({errors:s.errors,isValid:!1})},E=(te,oe,ue,_e)=>{const we=Je(n,te);if(we){const Se=Je(i,te,ns(ue)?Je(a,te):ue);ns(Se)||_e&&_e.defaultChecked||oe?Wt(i,te,oe?Se:$x(we._f)):Z(te,Se),o.mount&&j()}},I=(te,oe,ue,_e,we)=>{let Se=!1,De=!1;const ze={name:te};if(!e.disabled){const Ue=!!(Je(n,te)&&Je(n,te)._f&&Je(n,te)._f.disabled);if(!ue||_e){u.isDirty&&(De=s.isDirty,s.isDirty=ze.isDirty=C(),Se=De!==ze.isDirty);const Xe=Ue||Vi(Je(a,te),oe);De=!!(!Ue&&Je(s.dirtyFields,te)),Xe||Ue?Fs(s.dirtyFields,te):Wt(s.dirtyFields,te,!0),ze.dirtyFields=s.dirtyFields,Se=Se||u.dirtyFields&&De!==!Xe}if(ue){const Xe=Je(s.touchedFields,te);Xe||(Wt(s.touchedFields,te,ue),ze.touchedFields=s.touchedFields,Se=Se||u.touchedFields&&Xe!==ue)}Se&&we&&h.state.next(ze)}return Se?ze:{}},_=(te,oe,ue,_e)=>{const we=Je(s.errors,te),Se=u.isValid&&Sa(oe)&&s.isValid!==oe;if(e.delayError&&ue?(c=x(()=>k(te,ue)),c(e.delayError)):(clearTimeout(d),c=null,ue?Wt(s.errors,te,ue):Fs(s.errors,te)),(ue?!Vi(we,ue):we)||!Ir(_e)||Se){const De={..._e,...Se&&Sa(oe)?{isValid:oe}:{},errors:s.errors,name:te};s={...s,...De},h.state.next(De)}},v=async te=>{y(te,!0);const oe=await e.resolver(i,e.context,qC(te||l.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return y(te),oe},P=async te=>{const{errors:oe}=await v(te);if(te)for(const ue of te){const _e=Je(oe,ue);_e?Wt(s.errors,ue,_e):Fs(s.errors,ue)}else s.errors=oe;return oe},L=async(te,oe,ue={valid:!0})=>{for(const _e in te){const we=te[_e];if(we){const{_f:Se,...De}=we;if(Se){const ze=l.array.has(Se.name),Ue=we._f&&HC(we._f);Ue&&u.validatingFields&&y([_e],!0);const Xe=await H0(we,l.disabled,i,g,e.shouldUseNativeValidation&&!oe,ze);if(Ue&&u.validatingFields&&y([_e]),Xe[Se.name]&&(ue.valid=!1,oe))break;!oe&&(Je(Xe,Se.name)?ze?kN(s.errors,Xe,Se.name):Wt(s.errors,Se.name,Xe[Se.name]):Fs(s.errors,Se.name))}!Ir(De)&&await L(De,oe,ue)}}return ue.valid},S=()=>{for(const te of l.unMount){const oe=Je(n,te);oe&&(oe._f.refs?oe._f.refs.every(ue=>!Rx(ue)):!Rx(oe._f.ref))&&Y(te)}l.unMount=new Set},C=(te,oe)=>!e.disabled&&(te&&oe&&Wt(i,te,oe),!Vi(se(),a)),O=(te,oe,ue)=>FC(te,l,{...o.mount?i:ns(oe)?a:Fa(te)?{[te]:oe}:oe},ue,oe),z=te=>Gu(Je(o.mount?i:a,te,e.shouldUnregister?Je(a,te,[]):[])),Z=(te,oe,ue={})=>{const _e=Je(n,te);let we=oe;if(_e){const Se=_e._f;Se&&(!Se.disabled&&Wt(i,te,EN(oe,Se)),we=mf(Se.ref)&&Mr(oe)?"":oe,AN(Se.ref)?[...Se.ref.options].forEach(De=>De.selected=we.includes(De.value)):Se.refs?Yu(Se.ref)?Se.refs.length>1?Se.refs.forEach(De=>(!De.defaultChecked||!De.disabled)&&(De.checked=Array.isArray(we)?!!we.find(ze=>ze===De.value):we===De.value)):Se.refs[0]&&(Se.refs[0].checked=!!we):Se.refs.forEach(De=>De.checked=De.value===we):ey(Se.ref)?Se.ref.value="":(Se.ref.value=we,Se.ref.type||h.values.next({name:te,values:{...i}})))}(ue.shouldDirty||ue.shouldTouch)&&I(te,we,ue.shouldTouch,ue.shouldDirty,!0),ue.shouldValidate&&J(te)},q=(te,oe,ue)=>{for(const _e in oe){const we=oe[_e],Se=`${te}.${_e}`,De=Je(n,Se);(l.array.has(te)||Es(we)||De&&!De._f)&&!qo(we)?q(Se,we,ue):Z(Se,we,ue)}},R=(te,oe,ue={})=>{const _e=Je(n,te),we=l.array.has(te),Se=nr(oe);Wt(i,te,Se),we?(h.array.next({name:te,values:{...i}}),(u.isDirty||u.dirtyFields)&&ue.shouldDirty&&h.state.next({name:te,dirtyFields:_d(a,i),isDirty:C(te,Se)})):_e&&!_e._f&&!Mr(Se)?q(te,Se,ue):Z(te,Se,ue),q0(te,l)&&h.state.next({...s}),h.values.next({name:o.mount?te:void 0,values:{...i}})},X=async te=>{o.mount=!0;const oe=te.target;let ue=oe.name,_e=!0;const we=Je(n,ue),Se=()=>oe.type?$x(we._f):CC(te),De=ze=>{_e=Number.isNaN(ze)||qo(ze)&&isNaN(ze.getTime())||Vi(ze,Je(i,ue,ze))};if(we){let ze,Ue;const Xe=Se(),it=te.type===Ev.BLUR||te.type===Ev.FOCUS_OUT,rt=!WC(we._f)&&!e.resolver&&!Je(s.errors,ue)&&!we._f.deps||UC(it,Je(s.touchedFields,ue),s.isSubmitted,m,f),ut=q0(ue,l,it);Wt(i,ue,Xe),it?(we._f.onBlur&&we._f.onBlur(te),c&&c(0)):we._f.onChange&&we._f.onChange(te);const qe=I(ue,Xe,it,!1),Ft=!Ir(qe)||ut;if(!it&&h.values.next({name:ue,type:te.type,values:{...i}}),rt)return u.isValid&&(e.mode==="onBlur"&&it?j():it||j()),Ft&&h.state.next({name:ue,...ut?{}:qe});if(!it&&ut&&h.state.next({...s}),e.resolver){const{errors:gt}=await v([ue]);if(De(Xe),_e){const mr=Ov(s.errors,n,ue),It=Ov(gt,n,mr.name||ue);ze=It.error,ue=It.name,Ue=Ir(gt)}}else y([ue],!0),ze=(await H0(we,l.disabled,i,g,e.shouldUseNativeValidation))[ue],y([ue]),De(Xe),_e&&(ze?Ue=!1:u.isValid&&(Ue=await L(n,!0)));_e&&(we._f.deps&&J(we._f.deps),_(ue,Ue,ze,qe))}},$=(te,oe)=>{if(Je(s.errors,oe)&&te.focus)return te.focus(),1},J=async(te,oe={})=>{let ue,_e;const we=hn(te);if(e.resolver){const Se=await P(ns(te)?te:we);ue=Ir(Se),_e=te?!we.some(De=>Je(Se,De)):ue}else te?(_e=(await Promise.all(we.map(async Se=>{const De=Je(n,Se);return await L(De&&De._f?{[Se]:De}:De)}))).every(Boolean),!(!_e&&!s.isValid)&&j()):_e=ue=await L(n);return h.state.next({...!Fa(te)||u.isValid&&ue!==s.isValid?{}:{name:te},...e.resolver||!te?{isValid:ue}:{},errors:s.errors}),oe.shouldFocus&&!_e&&uc(n,$,te?we:l.mount),_e},se=te=>{const oe={...o.mount?i:a};return ns(te)?oe:Fa(te)?Je(oe,te):te.map(ue=>Je(oe,ue))},M=(te,oe)=>({invalid:!!Je((oe||s).errors,te),isDirty:!!Je((oe||s).dirtyFields,te),error:Je((oe||s).errors,te),isValidating:!!Je(s.validatingFields,te),isTouched:!!Je((oe||s).touchedFields,te)}),T=te=>{te&&hn(te).forEach(oe=>Fs(s.errors,oe)),h.state.next({errors:te?s.errors:{}})},B=(te,oe,ue)=>{const _e=(Je(n,te,{_f:{}})._f||{}).ref,we=Je(s.errors,te)||{},{ref:Se,message:De,type:ze,...Ue}=we;Wt(s.errors,te,{...Ue,...oe,ref:_e}),h.state.next({name:te,errors:s.errors,isValid:!1}),ue&&ue.shouldFocus&&_e&&_e.focus&&_e.focus()},K=(te,oe)=>La(te)?h.values.subscribe({next:ue=>te(O(void 0,oe),ue)}):O(te,oe,!0),Y=(te,oe={})=>{for(const ue of te?hn(te):l.mount)l.mount.delete(ue),l.array.delete(ue),oe.keepValue||(Fs(n,ue),Fs(i,ue)),!oe.keepError&&Fs(s.errors,ue),!oe.keepDirty&&Fs(s.dirtyFields,ue),!oe.keepTouched&&Fs(s.touchedFields,ue),!oe.keepIsValidating&&Fs(s.validatingFields,ue),!e.shouldUnregister&&!oe.keepDefaultValue&&Fs(a,ue);h.values.next({values:{...i}}),h.state.next({...s,...oe.keepDirty?{isDirty:C()}:{}}),!oe.keepIsValid&&j()},re=({disabled:te,name:oe,field:ue,fields:_e})=>{(Sa(te)&&o.mount||te||l.disabled.has(oe))&&(te?l.disabled.add(oe):l.disabled.delete(oe),I(oe,$x(ue?ue._f:Je(_e,oe)._f),!1,!1,!0))},ie=(te,oe={})=>{let ue=Je(n,te);const _e=Sa(oe.disabled)||Sa(e.disabled);return Wt(n,te,{...ue||{},_f:{...ue&&ue._f?ue._f:{ref:{name:te}},name:te,mount:!0,...oe}}),l.mount.add(te),ue?re({field:ue,disabled:Sa(oe.disabled)?oe.disabled:e.disabled,name:te}):E(te,!0,oe.value),{..._e?{disabled:oe.disabled||e.disabled}:{},...e.progressive?{required:!!oe.required,min:Sd(oe.min),max:Sd(oe.max),minLength:Sd(oe.minLength),maxLength:Sd(oe.maxLength),pattern:Sd(oe.pattern)}:{},name:te,onChange:X,onBlur:X,ref:we=>{if(we){ie(te,oe),ue=Je(n,te);const Se=ns(we.value)&&we.querySelectorAll&&we.querySelectorAll("input,select,textarea")[0]||we,De=BC(Se),ze=ue._f.refs||[];if(De?ze.find(Ue=>Ue===Se):Se===ue._f.ref)return;Wt(n,te,{_f:{...ue._f,...De?{refs:[...ze.filter(Rx),Se,...Array.isArray(Je(a,te))?[{}]:[]],ref:{type:Se.type,name:te}}:{ref:Se}}}),E(te,!1,void 0,Se)}else ue=Je(n,te,{}),ue._f&&(ue._f.mount=!1),(e.shouldUnregister||oe.shouldUnregister)&&!(EC(l.array,te)&&o.action)&&l.unMount.add(te)}}},he=()=>e.shouldFocusError&&uc(n,$,l.mount),Ce=te=>{Sa(te)&&(h.state.next({disabled:te}),uc(n,(oe,ue)=>{const _e=Je(n,ue);_e&&(oe.disabled=_e._f.disabled||te,Array.isArray(_e._f.refs)&&_e._f.refs.forEach(we=>{we.disabled=_e._f.disabled||te}))},0,!1))},be=(te,oe)=>async ue=>{let _e;ue&&(ue.preventDefault&&ue.preventDefault(),ue.persist&&ue.persist());let we=nr(i);if(l.disabled.size)for(const Se of l.disabled)Wt(we,Se,void 0);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:Se,values:De}=await v();s.errors=Se,we=De}else await L(n);if(Fs(s.errors,"root"),Ir(s.errors)){h.state.next({errors:{}});try{await te(we,ue)}catch(Se){_e=Se}}else oe&&await oe({...s.errors},ue),he(),setTimeout(he);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ir(s.errors)&&!_e,submitCount:s.submitCount+1,errors:s.errors}),_e)throw _e},Fe=(te,oe={})=>{Je(n,te)&&(ns(oe.defaultValue)?R(te,nr(Je(a,te))):(R(te,oe.defaultValue),Wt(a,te,nr(oe.defaultValue))),oe.keepTouched||Fs(s.touchedFields,te),oe.keepDirty||(Fs(s.dirtyFields,te),s.isDirty=oe.defaultValue?C(te,nr(Je(a,te))):C()),oe.keepError||(Fs(s.errors,te),u.isValid&&j()),h.state.next({...s}))},Re=(te,oe={})=>{const ue=te?nr(te):a,_e=nr(ue),we=Ir(te),Se=we?a:_e;if(oe.keepDefaultValues||(a=ue),!oe.keepValues){if(oe.keepDirtyValues){const De=new Set([...l.mount,...Object.keys(_d(a,i))]);for(const ze of Array.from(De))Je(s.dirtyFields,ze)?Wt(Se,ze,Je(i,ze)):R(ze,Je(Se,ze))}else{if(Jg&&ns(te))for(const De of l.mount){const ze=Je(n,De);if(ze&&ze._f){const Ue=Array.isArray(ze._f.refs)?ze._f.refs[0]:ze._f.ref;if(mf(Ue)){const Xe=Ue.closest("form");if(Xe){Xe.reset();break}}}}n={}}i=e.shouldUnregister?oe.keepDefaultValues?nr(a):{}:nr(Se),h.array.next({values:{...Se}}),h.values.next({values:{...Se}})}l={mount:oe.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!oe.keepIsValid||!!oe.keepDirtyValues,o.watch=!!e.shouldUnregister,h.state.next({submitCount:oe.keepSubmitCount?s.submitCount:0,isDirty:we?!1:oe.keepDirty?s.isDirty:!!(oe.keepDefaultValues&&!Vi(te,a)),isSubmitted:oe.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:we?{}:oe.keepDirtyValues?oe.keepDefaultValues&&i?_d(a,i):s.dirtyFields:oe.keepDefaultValues&&te?_d(a,te):oe.keepDirty?s.dirtyFields:{},touchedFields:oe.keepTouched?s.touchedFields:{},errors:oe.keepErrors?s.errors:{},isSubmitSuccessful:oe.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1})},He=(te,oe)=>Re(La(te)?te(i):te,oe);return{control:{register:ie,unregister:Y,getFieldState:M,handleSubmit:be,setError:B,_executeSchema:v,_getWatch:O,_getDirty:C,_updateValid:j,_removeUnmounted:S,_updateFieldArray:b,_updateDisabledField:re,_getFieldArray:z,_reset:Re,_resetDefaultValues:()=>La(e.defaultValues)&&e.defaultValues().then(te=>{He(te,e.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:te=>{s={...s,...te}},_disableForm:Ce,_subjects:h,_proxyFormState:u,_setErrors:A,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(te){o=te},get _defaultValues(){return a},get _names(){return l},set _names(te){l=te},get _formState(){return s},set _formState(te){s=te},get _options(){return e},set _options(te){e={...e,...te}}},trigger:J,register:ie,handleSubmit:be,watch:K,setValue:R,getValues:se,reset:He,resetField:Fe,clearErrors:T,unregister:Y,setError:B,setFocus:(te,oe={})=>{const ue=Je(n,te),_e=ue&&ue._f;if(_e){const we=_e.refs?_e.refs[0]:_e.ref;we.focus&&(we.focus(),oe.shouldSelect&&La(we.select)&&we.select())}},getFieldState:M}}function Ds(t={}){const e=ce.useRef(void 0),s=ce.useRef(void 0),[n,a]=ce.useState({isDirty:!1,isValidating:!1,isLoading:La(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:La(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...GC(t),formState:n});const i=e.current.control;return i._options=t,NN({subject:i._subjects.state,next:o=>{TC(o,i._proxyFormState,i._updateFormState)&&a({...i._formState})}}),ce.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),ce.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),ce.useEffect(()=>{t.values&&!Vi(t.values,s.current)?(i._reset(t.values,i._options.resetOptions),s.current=t.values,a(o=>({...o}))):i._resetDefaultValues()},[t.values,i]),ce.useEffect(()=>{t.errors&&i._setErrors(t.errors)},[t.errors,i]),ce.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),ce.useEffect(()=>{t.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[t.shouldUnregister,i]),e.current.formState=MC(n,i),e.current}const Lc=({isOpen:t,onClose:e,onConfirm:s,title:n,message:a,confirmButtonText:i="Confirm",cancelButtonText:o="Cancel",isDanger:l=!1})=>t?r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 w-full max-w-md",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:n}),r.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white",children:r.jsx(or,{size:20})})]}),r.jsx("p",{className:"text-gray-300 mb-6",children:a}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx("button",{onClick:e,className:"btn btn-secondary",children:o}),r.jsx("button",{onClick:()=>{s(),e()},className:`btn ${l?"btn-danger":"btn-primary"}`,children:i})]})]})}):null,Uo=t=>{if(!t)return"";const s=t.replace(/\D/g,"").match(/^(\d{3})(\d{3})(\d{4})$/);return s?`(${s[1]}) ${s[2]}-${s[3]}`:t},KC=()=>{const[t,e]=U.useState([]),[s,n]=U.useState(!0),[a,i]=U.useState(!1),[o,l]=U.useState(null),[c,d]=U.useState(!1),[u,h]=U.useState(!1),[f,m]=U.useState(null),{register:g,handleSubmit:x,reset:j,formState:{errors:y}}=Ds(),[b,k]=U.useState(""),A=L=>{const C=L.target.value.replace(/\D/g,"").slice(0,10);k(Uo(C)),g("telephone").onChange({target:{value:C,name:"telephone"}})};U.useEffect(()=>{E()},[]);const E=async()=>{try{const{data:{user:L}}=await Ae.auth.getUser();if(!L)throw new Error("User not authenticated");const{data:S,error:C}=await Ae.from("team_members").select("id, first_name, last_name, email, role, employee_id, telephone, status").eq("parent_user_id",L.id).order("created_at",{ascending:!1});if(C)throw C;e(S||[])}catch(L){console.error("Error fetching team members:",L),fe.error("Failed to load team members")}finally{n(!1)}},I=async L=>{try{const{data:{user:S}}=await Ae.auth.getUser();if(!S)throw new Error("User not authenticated");const{error:C}=await Ae.from("team_members").insert([{first_name:L.first_name,last_name:L.last_name,email:L.email,role:L.role,employee_id:L.employee_id||null,telephone:L.telephone||null,status:"active",parent_user_id:S.id}]);if(C)throw C;fe.success("Team member created successfully"),i(!1),j(),E()}catch(S){console.error("Error sending invite:",S),fe.error("Failed to send invitation")}},_=async L=>{try{const{error:S}=await Ae.from("team_members").delete().eq("id",L);if(S)throw S;fe.success("Team member removed successfully"),E()}catch(S){console.error("Error removing team member:",S),fe.error("Failed to remove team member")}},v=L=>{m(L),h(!0)},P=()=>{f&&_(f)};return s?r.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h1",{className:"text-2xl font-bold text-white",children:"Direct Reports"}),r.jsxs("button",{onClick:()=>i(!0),className:"btn btn-primary flex items-center space-x-2",children:[r.jsx(as,{size:16}),r.jsx("span",{children:"Add Team Member"})]})]}),r.jsx("div",{className:"bg-dark-800 rounded-lg border border-dark-700 overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-dark-700",children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Name"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"ID"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Email"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Telephone"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Role"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),r.jsxs("tbody",{className:"divide-y divide-dark-700",children:[t.map(L=>r.jsxs("tr",{className:"hover:bg-dark-700/50",children:[r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"text-sm font-medium text-white",children:[L.first_name," ",L.last_name]})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-300",children:L.employee_id||"-"})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-300",children:L.email})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-300",children:L.telephone?Uo(L.telephone):"-"})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-300",children:L.role})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${L.status==="active"?"bg-green-900/30 text-green-400":L.status==="pending"?"bg-yellow-900/30 text-yellow-400":"bg-red-900/30 text-red-400"}`,children:L.status.charAt(0).toUpperCase()+L.status.slice(1)})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-right text-sm font-medium",children:r.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[r.jsx("button",{onClick:()=>{l(L),k(L.telephone?Uo(L.telephone):""),d(!0)},className:"text-gray-400 hover:text-primary-400",title:"Edit Team Member",children:r.jsx(Or,{size:16})}),r.jsx("button",{onClick:()=>v(L.id),className:"text-gray-400 hover:text-red-500",title:"Remove Team Member",children:r.jsx(Ys,{size:16})})]})})]},L.id)),t.length===0&&r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-gray-400",children:"No team members found. Add your first team member to get started."})})]})]})})}),a&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 w-full max-w-md",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Add Team Member"}),r.jsxs("form",{onSubmit:x(I),className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:["First Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",className:"input w-full",...g("first_name",{required:"First name is required"})}),y.first_name&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:y.first_name.message})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:["Last Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",className:"input w-full",...g("last_name",{required:"Last name is required"})}),y.last_name&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:y.last_name.message})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:["Email ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"email",className:"input w-full",...g("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})}),y.email&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:y.email.message})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Telephone"}),r.jsx("input",{type:"tel",className:"input",value:b,onChange:A,placeholder:"(555) 555-5555"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Employee ID"}),r.jsx("input",{type:"text",className:"input w-full",...g("employee_id")})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:["Role ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{className:"input w-full",...g("role",{required:"Role is required"}),children:[r.jsx("option",{value:"",children:"Select a role"}),r.jsx("option",{value:"Sales Representative",children:"Sales Representative"}),r.jsx("option",{value:"Account Manager",children:"Account Manager"}),r.jsx("option",{value:"Sales Manager",children:"Sales Manager"}),r.jsx("option",{value:"Support Agent",children:"Support Agent"})]}),y.role&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:y.role.message})]}),r.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[r.jsx("button",{type:"button",onClick:()=>i(!1),className:"btn btn-secondary",children:"Cancel"}),r.jsx("button",{type:"submit",className:"btn btn-primary flex items-center space-x-2",children:r.jsx("span",{children:"Create Team Member"})})]})]})]})}),c&&o&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 w-full max-w-md",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Edit Team Member"}),r.jsxs("form",{onSubmit:x(async L=>{try{const{error:S}=await Ae.from("team_members").update({first_name:L.first_name,last_name:L.last_name,email:L.email,role:L.role,employee_id:L.employee_id||null,telephone:L.telephone||null}).eq("id",o.id);if(S)throw S;fe.success("Team member updated successfully"),d(!1),l(null),j(),E()}catch(S){console.error("Error updating team member:",S),fe.error("Failed to update team member")}}),className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:["First Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",className:"input w-full",defaultValue:o.first_name,...g("first_name",{required:"First name is required"})}),y.first_name&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:y.first_name.message})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:["Last Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",className:"input w-full",defaultValue:o.last_name,...g("last_name",{required:"Last name is required"})}),y.last_name&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:y.last_name.message})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:["Email ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"email",className:"input w-full",defaultValue:o.email,...g("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})}),y.email&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:y.email.message})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Telephone"}),r.jsx("input",{type:"tel",className:"input",value:b,onChange:A,placeholder:"(555) 555-5555"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Employee ID"}),r.jsx("input",{type:"text",className:"input w-full",defaultValue:o.employee_id,...g("employee_id")})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:["Role ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{className:"input w-full",defaultValue:o.role,...g("role",{required:"Role is required"}),children:[r.jsx("option",{value:"",children:"Select a role"}),r.jsx("option",{value:"Sales Representative",children:"Sales Representative"}),r.jsx("option",{value:"Account Manager",children:"Account Manager"}),r.jsx("option",{value:"Sales Manager",children:"Sales Manager"}),r.jsx("option",{value:"Support Agent",children:"Support Agent"})]}),y.role&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:y.role.message})]}),r.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[r.jsx("button",{type:"button",onClick:()=>{d(!1),l(null)},className:"btn btn-secondary",children:"Cancel"}),r.jsx("button",{type:"submit",className:"btn btn-primary flex items-center space-x-2",children:r.jsx("span",{children:"Update Team Member"})})]})]})]})}),r.jsx(Lc,{isOpen:u,onClose:()=>h(!1),onConfirm:P,title:"Remove Team Member",message:"Are you sure you want to remove this team member? This action cannot be undone.",confirmButtonText:"Remove",cancelButtonText:"Cancel",isDanger:!0})]})};class Ku{constructor(e=0,s="Network Error"){this.status=e,this.text=s}}const XC=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},ir={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:XC()},sy=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},QC=(t,e="https://api.emailjs.com")=>{if(!t)return;const s=sy(t);ir.publicKey=s.publicKey,ir.blockHeadless=s.blockHeadless,ir.storageProvider=s.storageProvider,ir.blockList=s.blockList,ir.limitRate=s.limitRate,ir.origin=s.origin||e},DN=async(t,e,s={})=>{const n=await fetch(ir.origin+t,{method:"POST",headers:s,body:e}),a=await n.text(),i=new Ku(n.status,a);if(n.ok)return i;throw i},LN=(t,e,s)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!s||typeof s!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},JC=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},IN=t=>t.webdriver||!t.languages||t.languages.length===0,MN=()=>new Ku(451,"Unavailable For Headless Browser"),ZC=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},e6=t=>!t.list?.length||!t.watchVariable,t6=(t,e)=>t instanceof FormData?t.get(e):t[e],TN=(t,e)=>{if(e6(t))return!1;ZC(t.list,t.watchVariable);const s=t6(e,t.watchVariable);return typeof s!="string"?!1:t.list.includes(s)},FN=()=>new Ku(403,"Forbidden"),s6=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},r6=async(t,e,s)=>{const n=Number(await s.get(t)||0);return e-Date.now()+n},ON=async(t,e,s)=>{if(!e.throttle||!s)return!1;s6(e.throttle,e.id);const n=e.id||t;return await r6(n,e.throttle,s)>0?!0:(await s.set(n,Date.now().toString()),!1)},RN=()=>new Ku(429,"Too Many Requests"),n6=async(t,e,s,n)=>{const a=sy(n),i=a.publicKey||ir.publicKey,o=a.blockHeadless||ir.blockHeadless,l=a.storageProvider||ir.storageProvider,c={...ir.blockList,...a.blockList},d={...ir.limitRate,...a.limitRate};return o&&IN(navigator)?Promise.reject(MN()):(LN(i,t,e),JC(s),s&&TN(c,s)?Promise.reject(FN()):await ON(location.pathname,d,l)?Promise.reject(RN()):DN("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:i,service_id:t,template_id:e,template_params:s}),{"Content-type":"application/json"}))},a6=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},i6=t=>typeof t=="string"?document.querySelector(t):t,o6=async(t,e,s,n)=>{const a=sy(n),i=a.publicKey||ir.publicKey,o=a.blockHeadless||ir.blockHeadless,l=ir.storageProvider||a.storageProvider,c={...ir.blockList,...a.blockList},d={...ir.limitRate,...a.limitRate};if(o&&IN(navigator))return Promise.reject(MN());const u=i6(s);LN(i,t,e),a6(u);const h=new FormData(u);return TN(c,h)?Promise.reject(FN()):await ON(location.pathname,d,l)?Promise.reject(RN()):(h.append("lib_version","4.4.1"),h.append("service_id",t),h.append("template_id",e),h.append("user_id",i),DN("/api/v1.0/email/send-form",h))},ry={init:QC,send:n6,sendForm:o6,EmailJSResponseStatus:Ku};ry.init("8EWVDKAGb6WUEW3UR");const Rv=()=>{Qt();const[t,e]=U.useState(!1),{register:s,handleSubmit:n,reset:a,formState:{errors:i}}=Ds(),o=async l=>{e(!0);try{const{error:c}=await Ae.from("waitlist").insert([{email:l.email,source:l.source,message:l.message,plan_type:"enterprise"}]);if(c)throw c;if((await ry.send("service_c6f51s2","template_pq8e2on",{to_email:"maniksharmawork@gmail.com",from_email:l.email,source:l.source,message:l.message||"No additional message",reply_to:l.email},"8EWVDKAGb6WUEW3UR")).status!==200)throw new Error("Failed to send email notification");fe.success("Successfully joined the waitlist! We'll be in touch soon."),a()}catch(c){console.error("Error submitting form:",c),fe.error("Failed to join waitlist. Please try again.")}finally{e(!1)}};return r.jsxs("div",{className:"min-h-screen bg-dark-950",children:[r.jsx("div",{className:"fixed top-4 right-4 z-50 transform transition-transform duration-200 hover:scale-105",children:r.jsxs(de,{to:"/login",className:"btn btn-secondary bg-dark-800/80 hover:bg-dark-700/80 backdrop-blur-sm flex items-center space-x-2 transition-all duration-200 hover:shadow-lg hover:shadow-primary-500/10",children:[r.jsx(vi,{className:"w-4 h-4"}),r.jsx("span",{children:"Developer Login"})]})}),r.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-b from-primary-900/90 to-dark-950 py-24 sm:py-32",children:[r.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top_right,rgba(99,102,241,0.15),transparent_50%)]"}),r.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%236366f1' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,opacity:.5}}),r.jsx("div",{className:"relative",children:r.jsxs("div",{className:"mx-auto max-w-7xl px-6 lg:px-8",children:[r.jsxs("div",{className:"mx-auto max-w-4xl text-center",children:[r.jsx("div",{className:"flex justify-center mb-8",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("img",{src:"/logo.svg",alt:"CxTrack Logo",className:"h-20 w-20 logo-glow"}),r.jsx("span",{className:"brand-logo text-5xl font-bold text-white brand-text",children:"CxTrack"})]})}),r.jsx("h1",{className:"text-4xl font-bold tracking-tight text-white sm:text-6xl bg-clip-text text-transparent bg-gradient-to-r from-primary-400 via-primary-300 to-primary-500",children:"The World's Most Powerful CRM"}),r.jsx("p",{className:"mt-6 text-lg leading-8 text-primary-200",children:"Platforming Vertical AI Integration for Your Next-Gen Workforce"})]}),r.jsx("div",{className:"mt-16 flow-root sm:mt-24",children:r.jsxs("div",{className:"rounded-xl bg-dark-800/50 border border-primary-800/50 backdrop-blur-sm p-8 lg:p-12",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-12",children:[r.jsxs("div",{className:"flex flex-col items-center text-center p-6 rounded-lg bg-dark-800/50 border border-dark-700 transition-all duration-300 hover:bg-dark-700/50 hover:border-primary-700/50 hover:transform hover:scale-105 hover:shadow-lg hover:shadow-primary-500/10",children:[r.jsx(Ge,{className:"h-10 w-10 text-primary-400 mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"AI-Powered Automation"}),r.jsx("p",{className:"text-gray-400",children:"Intelligent agents that work 24/7 to streamline your operations"})]}),r.jsxs("div",{className:"flex flex-col items-center text-center p-6 rounded-lg bg-dark-800/50 border border-dark-700 transition-all duration-300 hover:bg-dark-700/50 hover:border-primary-700/50 hover:transform hover:scale-105 hover:shadow-lg hover:shadow-primary-500/10",children:[r.jsx(Wa,{className:"h-10 w-10 text-primary-400 mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Smart Analytics"}),r.jsx("p",{className:"text-gray-400",children:"Deep insights and predictive analysis for better decision making"})]}),r.jsxs("div",{className:"flex flex-col items-center text-center p-6 rounded-lg bg-dark-800/50 border border-dark-700 transition-all duration-300 hover:bg-dark-700/50 hover:border-primary-700/50 hover:transform hover:scale-105 hover:shadow-lg hover:shadow-primary-500/10",children:[r.jsx(Ni,{className:"h-10 w-10 text-primary-400 mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Seamless Integration"}),r.jsx("p",{className:"text-gray-400",children:"CxTrack connects and scales your business model effortlessly"})]})]}),r.jsxs("form",{onSubmit:n(o),className:"space-y-6",children:[r.jsxs("div",{className:"flex space-x-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-1",children:["Email Address ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{id:"email",type:"email",className:"input",...s("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})}),i.email&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:i.email.message})]}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("label",{htmlFor:"source",className:"block text-sm font-medium text-gray-300 mb-1",children:["How did you hear about us? ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{id:"source",className:"input",...s("source",{required:"Please select an option"}),children:[r.jsx("option",{value:"",children:"Select an option"}),r.jsx("option",{value:"google",children:"Search Engine"}),r.jsx("option",{value:"social",children:"Social Media"}),r.jsx("option",{value:"referral",children:"Referral"}),r.jsx("option",{value:"advertisement",children:"Advertisement"}),r.jsx("option",{value:"other",children:"Other"})]}),i.source&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:i.source.message})]})]}),r.jsx("div",{className:"flex justify-center",children:r.jsx("button",{type:"submit",disabled:t,className:"btn btn-primary w-full max-w-md",children:t?r.jsxs("span",{className:"flex items-center",children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Submitting..."]}):"Join Waitlist"})})]})]})})]})})]})]})},$v=()=>{const t=Qt(),[e,s]=U.useState(!1),{register:n,handleSubmit:a,reset:i,formState:{errors:o}}=Ds(),l=async c=>{s(!0);try{if((await ry.send("service_c6f51s2","template_pq8e2on",{to_email:"maniksharmawork@gmail.com",from_name:c.full_name,from_email:c.email,phone:c.phone,company:c.company,location:c.location,source:c.source,interests:Array.isArray(c.interests)?c.interests.join(", "):c.interests,message:c.message||"No additional message provided",reply_to:c.email},"8EWVDKAGb6WUEW3UR")).status===200)fe.success("Thank you for your interest! We will contact you shortly about the demo."),i();else throw new Error("Failed to send demo request")}catch(d){console.error("Error submitting form:",d),fe.error("Failed to submit form. Please try again.")}finally{s(!1)}};return r.jsxs("div",{className:"min-h-screen bg-dark-950",children:[r.jsx("div",{className:"bg-gradient-to-b from-primary-900 to-primary-800 py-16",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-8",children:[r.jsxs("button",{onClick:()=>t(-1),className:"flex items-center space-x-2 text-white hover:text-primary-200",children:[r.jsx(ss,{size:20}),r.jsx("span",{children:"Back"})]}),r.jsxs(de,{to:"/",className:"flex items-center space-x-3",children:[r.jsx("img",{src:"/logo.svg",alt:"CxTrack Logo",className:"h-8 w-8 logo-glow"}),r.jsx("span",{className:"brand-logo text-xl font-bold text-white brand-text",children:"CxTrack"})]})]}),r.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[r.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Schedule a Demo"}),r.jsx("p",{className:"text-xl text-primary-200",children:"Join our demo program to experience the power of CxTrack's AI-driven business management platform."})]})]})}),r.jsx("div",{className:"container mx-auto px-4 py-16",children:r.jsx("div",{className:"max-w-2xl mx-auto",children:r.jsxs("div",{className:"bg-dark-800 rounded-xl border border-dark-700 p-8",children:[r.jsxs("div",{className:"flex items-center space-x-4 mb-8",children:[r.jsx("div",{className:"p-3 rounded-lg bg-primary-500/20",children:r.jsx(Ge,{className:"text-primary-400 h-6 w-6"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-white",children:"Request a Demo"}),r.jsx("p",{className:"text-gray-400",children:"Fill out the form below to schedule your personalized demo"})]})]}),r.jsxs("form",{onSubmit:a(l),className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"full_name",className:"block text-sm font-medium text-gray-300 mb-1",children:["Full Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{id:"full_name",type:"text",className:"input",...n("full_name",{required:"Full name is required"})}),o.full_name&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.full_name.message})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-1",children:["Email Address ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{id:"email",type:"email",className:"input",...n("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})}),o.email&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.email.message})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-300 mb-1",children:["Phone Number ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{id:"phone",type:"tel",className:"input",...n("phone",{required:"Phone number is required"})}),o.phone&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.phone.message})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"company",className:"block text-sm font-medium text-gray-300 mb-1",children:["Company Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{id:"company",type:"text",className:"input",...n("company",{required:"Company name is required"})}),o.company&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.company.message})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-300 mb-1",children:["Location ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{id:"location",type:"text",className:"input",placeholder:"City, Country",...n("location",{required:"Location is required"})}),o.location&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.location.message})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"source",className:"block text-sm font-medium text-gray-300 mb-1",children:["How did you hear about us? ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{id:"source",className:"input",...n("source",{required:"Please select an option"}),children:[r.jsx("option",{value:"",children:"Select an option"}),r.jsx("option",{value:"search",children:"Search Engine"}),r.jsx("option",{value:"social",children:"Social Media"}),r.jsx("option",{value:"referral",children:"Referral"}),r.jsx("option",{value:"advertisement",children:"Advertisement"}),r.jsx("option",{value:"other",children:"Other"})]}),o.source&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.source.message})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["What features are you most interested in? ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",value:"invoicing",...n("interests",{required:"Please select at least one feature"}),className:"h-4 w-4 rounded border-gray-600 bg-dark-800 text-primary-600 focus:ring-primary-500"}),r.jsx("span",{className:"ml-2 text-gray-300",children:"Smart Invoicing & Quotes"})]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",value:"crm",...n("interests"),className:"h-4 w-4 rounded border-gray-600 bg-dark-800 text-primary-600 focus:ring-primary-500"}),r.jsx("span",{className:"ml-2 text-gray-300",children:"CRM & Customer Management"})]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",value:"ai_agents",...n("interests"),className:"h-4 w-4 rounded border-gray-600 bg-dark-800 text-primary-600 focus:ring-primary-500"}),r.jsx("span",{className:"ml-2 text-gray-300",children:"AI Agents & Automation"})]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",value:"quotes",...n("interests"),className:"h-4 w-4 rounded border-gray-600 bg-dark-800 text-primary-600 focus:ring-primary-500"}),r.jsx("span",{className:"ml-2 text-gray-300",children:"Quote Management"})]})]}),o.interests&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.interests.message})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-300 mb-1",children:"Additional Information"}),r.jsx("textarea",{id:"message",rows:4,className:"input",placeholder:"Tell us about your business needs...",...n("message")})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(de,{to:"/register",className:"text-primary-400 hover:text-primary-300 text-sm",children:"Or start with a free trial instead"}),r.jsx("button",{type:"submit",disabled:e,className:"btn btn-primary",children:e?r.jsxs("span",{className:"flex items-center",children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Submitting..."]}):"Request Demo"})]})]})]})})})]})},l6=()=>r.jsxs("div",{className:"min-h-screen bg-dark-950",children:[r.jsx("div",{className:"bg-gradient-to-b from-primary-900 to-primary-800 py-16",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsxs(de,{to:"/",className:"inline-flex items-center text-white mb-8 hover:text-primary-200",children:[r.jsx(ss,{size:20,className:"mr-2"}),"Back to Home"]}),r.jsxs("div",{className:"max-w-3xl mx-auto",children:[r.jsxs("div",{className:"flex items-center mb-6",children:[r.jsx(Yf,{className:"text-primary-400 mr-3",size:32}),r.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white",children:"Privacy Policy"})]}),r.jsx("p",{className:"text-xl text-primary-200",children:"Last updated: March 17, 2025"})]})]})}),r.jsx("div",{className:"container mx-auto px-4 py-16",children:r.jsxs("div",{className:"max-w-3xl mx-auto prose prose-invert",children:[r.jsx("h2",{children:"1. Introduction"}),r.jsx("p",{children:'CxTrack ("we", "our", or "us") respects your privacy and is committed to protecting your personal data. This privacy policy explains how we collect, use, and protect your information when you use our business management platform.'}),r.jsx("h2",{children:"2. Information We Collect"}),r.jsx("h3",{children:"2.1 Information You Provide"}),r.jsxs("ul",{children:[r.jsx("li",{children:"Account information (name, email, password)"}),r.jsx("li",{children:"Business information (company name, address, tax numbers)"}),r.jsx("li",{children:"Customer data you input into our system"}),r.jsx("li",{children:"Payment information"}),r.jsx("li",{children:"Communication preferences"})]}),r.jsx("h3",{children:"2.2 Automatically Collected Information"}),r.jsxs("ul",{children:[r.jsx("li",{children:"Usage data and analytics"}),r.jsx("li",{children:"Device and browser information"}),r.jsx("li",{children:"IP address and location data"}),r.jsx("li",{children:"Cookies and similar technologies"})]}),r.jsx("h2",{children:"3. How We Use Your Information"}),r.jsxs("ul",{children:[r.jsx("li",{children:"To provide and maintain our services"}),r.jsx("li",{children:"To process your transactions"}),r.jsx("li",{children:"To send administrative information"}),r.jsx("li",{children:"To provide customer support"}),r.jsx("li",{children:"To send marketing communications (with consent)"}),r.jsx("li",{children:"To improve our services"}),r.jsx("li",{children:"To protect against fraud"})]}),r.jsx("h2",{children:"4. Data Storage and Security"}),r.jsx("p",{children:"We store your data in Canada and the United States. We implement appropriate technical and organizational security measures to protect your data against unauthorized access, alteration, disclosure, or destruction."}),r.jsx("h2",{children:"5. Data Sharing and Third Parties"}),r.jsx("p",{children:"We may share your information with:"}),r.jsxs("ul",{children:[r.jsx("li",{children:"Service providers and business partners"}),r.jsx("li",{children:"Payment processors"}),r.jsx("li",{children:"Analytics providers"}),r.jsx("li",{children:"Law enforcement when required by law"})]}),r.jsx("h2",{children:"6. Your Rights"}),r.jsx("p",{children:"Under applicable North American privacy laws, you have the right to:"}),r.jsxs("ul",{children:[r.jsx("li",{children:"Access your personal information"}),r.jsx("li",{children:"Correct inaccurate information"}),r.jsx("li",{children:"Request deletion of your information"}),r.jsx("li",{children:"Opt-out of marketing communications"}),r.jsx("li",{children:"Withdraw consent where applicable"})]}),r.jsx("h2",{children:"7. Data Retention"}),r.jsx("p",{children:"We retain your information for as long as necessary to provide our services and comply with legal obligations. When data is no longer needed, it is securely deleted."}),r.jsx("h2",{children:"8. Children's Privacy"}),r.jsx("p",{children:"Our services are not intended for children under 13. We do not knowingly collect or maintain information from children under 13."}),r.jsx("h2",{children:"9. Changes to This Policy"}),r.jsx("p",{children:'We may update this privacy policy from time to time. We will notify you of any changes by posting the new policy on this page and updating the "Last updated" date.'}),r.jsx("h2",{children:"10. Contact Us"}),r.jsx("p",{children:"If you have questions about this privacy policy or our practices, please contact us at:"}),r.jsxs("p",{children:["Email: privacy@cxtrack.com",r.jsx("br",{}),"Address: 123 Business Street, Toronto, ON M5V 2T6, Canada"]})]})})]}),c6=()=>r.jsxs("div",{className:"min-h-screen bg-dark-950",children:[r.jsx("div",{className:"bg-gradient-to-b from-primary-900 to-primary-800 py-16",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsxs(de,{to:"/",className:"inline-flex items-center text-white mb-8 hover:text-primary-200",children:[r.jsx(ss,{size:20,className:"mr-2"}),"Back to Home"]}),r.jsxs("div",{className:"max-w-3xl mx-auto",children:[r.jsxs("div",{className:"flex items-center mb-6",children:[r.jsx(wt,{className:"text-primary-400 mr-3",size:32}),r.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white",children:"Terms of Service"})]}),r.jsx("p",{className:"text-xl text-primary-200",children:"Last updated: March 17, 2025"})]})]})}),r.jsx("div",{className:"container mx-auto px-4 py-16",children:r.jsxs("div",{className:"max-w-3xl mx-auto prose prose-invert",children:[r.jsx("h2",{children:"1. Agreement to Terms"}),r.jsx("p",{children:"By accessing or using CxTrack's services, you agree to be bound by these Terms of Service and all applicable laws and regulations. If you do not agree with any of these terms, you are prohibited from using or accessing our services."}),r.jsx("h2",{children:"2. Use License"}),r.jsx("p",{children:"We grant you a limited, non-exclusive, non-transferable, revocable license to use our services for your business purposes in accordance with these Terms."}),r.jsx("h3",{children:"2.1 Restrictions"}),r.jsx("p",{children:"You may not:"}),r.jsxs("ul",{children:[r.jsx("li",{children:"Modify or copy our software"}),r.jsx("li",{children:"Use the service for any unlawful purpose"}),r.jsx("li",{children:"Transfer your account to another party"}),r.jsx("li",{children:"Attempt to decompile or reverse engineer any software"}),r.jsx("li",{children:"Remove any copyright or proprietary notations"})]}),r.jsx("h2",{children:"3. Account Terms"}),r.jsxs("ul",{children:[r.jsx("li",{children:"You must provide accurate and complete information"}),r.jsx("li",{children:"You are responsible for maintaining account security"}),r.jsx("li",{children:"You must notify us of any security breach"}),r.jsx("li",{children:"We reserve the right to terminate accounts"})]}),r.jsx("h2",{children:"4. Payment Terms"}),r.jsxs("ul",{children:[r.jsx("li",{children:"Subscription fees are billed in advance"}),r.jsx("li",{children:"All fees are non-refundable"}),r.jsx("li",{children:"30-day notice required for cancellation"}),r.jsx("li",{children:"Taxes are your responsibility"})]}),r.jsx("h2",{children:"5. Service Availability and Updates"}),r.jsx("p",{children:"We strive to maintain 99.9% uptime but do not guarantee uninterrupted service. We may modify, suspend, or discontinue any part of our service with or without notice."}),r.jsx("h2",{children:"6. Data Ownership and Privacy"}),r.jsx("p",{children:"You retain all rights to your data. Our privacy practices are governed by our Privacy Policy, which is incorporated into these Terms by reference."}),r.jsx("h2",{children:"7. Intellectual Property"}),r.jsx("p",{children:"All content, features, and functionality are owned by CxTrack and are protected by international copyright, trademark, and other intellectual property laws."}),r.jsx("h2",{children:"8. Limitation of Liability"}),r.jsx("p",{children:"CxTrack shall not be liable for any indirect, incidental, special, consequential, or punitive damages resulting from your use or inability to use the service."}),r.jsx("h2",{children:"9. Indemnification"}),r.jsx("p",{children:"You agree to indemnify and hold harmless CxTrack and its employees from any claims resulting from your use of our services."}),r.jsx("h2",{children:"10. Governing Law"}),r.jsx("p",{children:"These Terms shall be governed by the laws of Canada without regard to its conflict of law provisions."}),r.jsx("h2",{children:"11. Changes to Terms"}),r.jsx("p",{children:"We reserve the right to modify these terms at any time. We will notify you of any changes by posting the new Terms on this page."}),r.jsx("h2",{children:"12. Contact Information"}),r.jsxs("p",{children:["For any questions about these Terms, please contact us at:",r.jsx("br",{}),"Email: legal@cxtrack.com",r.jsx("br",{}),"Address: 123 Business Street, Toronto, ON M5V 2T6, Canada"]})]})})]}),d6=()=>r.jsxs("div",{className:"min-h-screen bg-dark-950",children:[r.jsx("div",{className:"bg-gradient-to-b from-primary-900 to-primary-800 py-16",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsxs(de,{to:"/",className:"inline-flex items-center text-white mb-8 hover:text-primary-200",children:[r.jsx(ss,{size:20,className:"mr-2"}),"Back to Home"]}),r.jsxs("div",{className:"max-w-3xl mx-auto",children:[r.jsxs("div",{className:"flex items-center mb-6",children:[r.jsx(nC,{className:"text-primary-400 mr-3",size:32}),r.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white",children:"Cookie Policy"})]}),r.jsx("p",{className:"text-xl text-primary-200",children:"Last updated: March 17, 2025"})]})]})}),r.jsx("div",{className:"container mx-auto px-4 py-16",children:r.jsxs("div",{className:"max-w-3xl mx-auto prose prose-invert",children:[r.jsx("h2",{children:"1. What Are Cookies"}),r.jsx("p",{children:"Cookies are small text files that are placed on your computer or mobile device when you visit our website. They are widely used to make websites work more efficiently and provide useful information to website owners."}),r.jsx("h2",{children:"2. How We Use Cookies"}),r.jsx("p",{children:"We use cookies for the following purposes:"}),r.jsx("h3",{children:"2.1 Essential Cookies"}),r.jsxs("ul",{children:[r.jsx("li",{children:"Authentication and security"}),r.jsx("li",{children:"Session management"}),r.jsx("li",{children:"Load balancing"}),r.jsx("li",{children:"Remember your preferences"})]}),r.jsx("h3",{children:"2.2 Performance Cookies"}),r.jsxs("ul",{children:[r.jsx("li",{children:"Analyze how you use our website"}),r.jsx("li",{children:"Improve website performance"}),r.jsx("li",{children:"Monitor error rates"}),r.jsx("li",{children:"Test new features"})]}),r.jsx("h3",{children:"2.3 Functionality Cookies"}),r.jsxs("ul",{children:[r.jsx("li",{children:"Remember your preferences"}),r.jsx("li",{children:"Customize your experience"}),r.jsx("li",{children:"Save your settings"})]}),r.jsx("h2",{children:"3. Types of Cookies We Use"}),r.jsx("h3",{children:"3.1 Session Cookies"}),r.jsx("p",{children:"These temporary cookies are erased when you close your browser. We use session cookies to maintain your session while using our services."}),r.jsx("h3",{children:"3.2 Persistent Cookies"}),r.jsx("p",{children:"These cookies remain on your device until they expire or you delete them. We use persistent cookies to remember your preferences and settings."}),r.jsx("h3",{children:"3.3 Third-Party Cookies"}),r.jsx("p",{children:"We use services from these third parties that may place cookies:"}),r.jsxs("ul",{children:[r.jsx("li",{children:"Google Analytics (analytics)"}),r.jsx("li",{children:"Stripe (payment processing)"}),r.jsx("li",{children:"Intercom (customer support)"})]}),r.jsx("h2",{children:"4. Cookie Management"}),r.jsx("h3",{children:"4.1 Browser Settings"}),r.jsx("p",{children:"You can control and manage cookies through your browser settings. Please note that removing or blocking cookies may impact your user experience and some features may not function as intended."}),r.jsx("h3",{children:"4.2 Third-Party Tools"}),r.jsx("p",{children:"You can also manage cookies through these third-party tools:"}),r.jsxs("ul",{children:[r.jsx("li",{children:"Google Analytics Opt-out Browser Add-on"}),r.jsx("li",{children:"Your Online Choices (for behavioral advertising)"}),r.jsx("li",{children:"Network Advertising Initiative"})]}),r.jsx("h2",{children:"5. Required Cookies"}),r.jsx("p",{children:"Some cookies are strictly necessary for our website to function properly. You can set your browser to block these cookies, but some parts of the site may not work properly."}),r.jsx("h2",{children:"6. Updates to This Policy"}),r.jsx("p",{children:'We may update this Cookie Policy from time to time. We will notify you of any changes by posting the new policy on this page and updating the "Last updated" date.'}),r.jsx("h2",{children:"7. Contact Us"}),r.jsx("p",{children:"If you have questions about our Cookie Policy, please contact us at:"}),r.jsxs("p",{children:["Email: privacy@cxtrack.com",r.jsx("br",{}),"Address: 123 Business Street, Toronto, ON M5V 2T6, Canada"]})]})})]}),u6=({plan:t,isHovered:e,onHover:s})=>{const n=window.innerWidth<768,a=Qt();return r.jsxs("div",{className:`relative bg-dark-800 rounded-2xl p-8 border-2 transition-all duration-300 cursor-pointer ${e?"border-primary-500 transform scale-105 shadow-xl":"border-dark-700 transform scale-100"}`,onMouseEnter:()=>s(t.name),onMouseLeave:()=>s(null),onClick:()=>a(t.link),children:[t.name==="Enterprise"&&r.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:r.jsx("span",{className:"bg-gradient-to-r from-primary-600 to-purple-600 text-white px-4 py-1 rounded-full text-sm font-medium",children:"AI-Powered"})}),r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:t.name}),r.jsxs("div",{className:"text-4xl font-bold text-white mb-2",children:["$",t.price,r.jsx("span",{className:"text-lg text-gray-400",children:"/mo"})]}),r.jsx("p",{className:"text-gray-400",children:t.description})]}),t.highlightFeatures&&r.jsx("div",{className:"mb-8 space-y-4",children:t.highlightFeatures.map((i,o)=>r.jsxs("div",{className:"flex items-center p-3 bg-dark-700/50 rounded-lg",children:[r.jsx(i.icon,{className:"text-primary-400 mr-3",size:24}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-white font-medium",children:i.title}),r.jsx("p",{className:"text-sm text-gray-400",children:i.description})]})]},o))}),r.jsxs("ul",{className:"space-y-3 mb-8",children:[(n?t.mobileFeatures:t.features).map((i,o)=>r.jsxs("li",{className:"flex items-start",children:[r.jsx(Dt,{className:"text-primary-500 mt-1 mr-2 flex-shrink-0",size:16}),r.jsx("span",{className:"text-gray-300 text-sm",children:i})]},o)),n&&t.features.length>t.mobileFeatures.length&&r.jsxs("li",{className:"text-center text-primary-400 mt-2",children:["+",t.features.length-t.mobileFeatures.length," more features"]})]}),r.jsxs(de,{to:t.link,className:"w-full btn btn-primary flex items-center justify-center space-x-2 group",children:[r.jsx("span",{children:t.price===0?"Sign Up Free":"Learn More"}),r.jsx(z0,{size:16,className:`transform transition-transform duration-300 ${e?"translate-x-1":""}`})]})]})},h6=[{name:"Free",price:0,description:"Basic features for small businesses",features:["Up to 5 invoices per month","Basic invoice templates","PDF generation & download","Single user access","Basic customer database","Simple reporting tools","Email notifications","Basic dashboard","Mobile app access","Standard documentation"],mobileFeatures:["Basic invoicing functionality","PDF invoice generation","Manual invoice downloads","Limited to 5 invoices per month","Single user account","Basic email support"],link:"/register"},{name:"Basic",price:19.99,description:"Essential features for growing businesses",features:["Unlimited invoices & quotes","Custom invoice templates","Automated payment reminders","Up to 25 customers","Basic inventory tracking","Email delivery system","Customer contact management","Basic CRM features","CSV data export","Standard support","Basic document storage","Simple workflow automation","Email templates","Basic task management"],mobileFeatures:["All Free Plan features","Email delivery to customers","Invoice templates","Recurring invoices","Up to 25 customers","Customer contact management"],link:"/features/basic-plan"},{name:"Business",price:99.99,description:"Advanced features for established businesses",features:["Unlimited customers & products","Advanced analytics dashboard","Team collaboration tools","Custom integrations & API","Multi-currency support","Inventory management","Automated workflows","Priority support","Custom branding options","Advanced reporting","Role-based access control","Bulk operations & imports","Advanced document management","Custom fields & forms","Advanced search capabilities","Audit logs & compliance"],mobileFeatures:["All Basic Plan features","Up to 50 customers","Customer segmentation","Advanced analytics","Team collaboration","Priority support"],link:"/features/business-plan"},{name:"Enterprise",price:399.99,description:"Complete AI-powered solution for large businesses",features:["AI-powered automation suite","Intelligent virtual assistant","Predictive analytics","Natural language processing","Automated follow-up system","AI revenue forecasting","Multi-language support","Enterprise-grade security","Dedicated success manager","Custom AI development"],mobileFeatures:["All Business Plan features","AI Virtual Assistant","Voice Collections","Smart Analytics","Custom AI Training","Dedicated Support"],highlightFeatures:[{icon:Ge,title:"AI Assistant",description:"Intelligent virtual assistant for customer interactions"},{icon:oo,title:"Voice Collections",description:"Automated, AI-powered collection calls"},{icon:Wa,title:"Smart Analytics",description:"Predictive analysis and insights"}],link:"/features/enterprise-plan"}],m6=()=>{const[t,e]=U.useState(null);return r.jsxs("section",{className:"relative",children:[r.jsxs("div",{className:"absolute inset-x-0 top-0 h-32 bg-gradient-to-b from-dark-900 to-transparent",children:[r.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,rgba(99,102,241,0.15),rgba(99,102,241,0)_100%)]"}),r.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%236366f1' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,opacity:.5}})]}),r.jsx("div",{className:"relative pt-32 pb-20 bg-dark-950",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsxs("div",{className:"text-center mb-16",children:[r.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:"Simple, Transparent Pricing"}),r.jsx("p",{className:"text-xl text-gray-400 max-w-2xl mx-auto",children:"Choose the plan that best fits your business needs. Premium plans coming soon!"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:h6.map(s=>r.jsx(u6,{plan:s,isHovered:t===s.name,onHover:e},s.name))}),r.jsx("div",{className:"text-center mt-12",children:r.jsxs("p",{className:"text-gray-400",children:["Need a custom solution?"," ",r.jsx(de,{to:"/contact",className:"text-primary-400 hover:text-primary-300",children:"Contact our sales team"})]})})]})})]})},va={default:{text:"I'd be happy to help you learn more about CxTrack! We offer AI-powered business management solutions to help your business grow. What would you like to know?",options:["Tell me about your features","How much does it cost?","Can I try it for free?","Schedule a demo"]},features:{text:"CxTrack offers a comprehensive suite of business management tools powered by AI:",options:["Smart Invoicing & Collections","Customer Relationship Management","Inventory & Stock Management","AI Growth Partner Features"]},invoicing:{text:"Our smart invoicing system helps you create, send and track professional invoices:",options:["Automated Payment Reminders","Multiple Payment Options","Invoice Templates","See Pricing Plans"]},customers:{text:"Our CRM system helps you build stronger customer relationships:",options:["360 Customer View","Communication Tracking","Customer Analytics","Learn More"]},inventory:{text:"Keep track of your inventory in real-time:",options:["Stock Level Monitoring","Low Stock Alerts","Purchase Order Management","View Features"]},pricing:{text:"We offer flexible plans to suit your business needs, starting with a free plan:",options:["Free Plan (Basic features)","Basic Plan ($19.99/mo)","Business Plan ($99.99/mo)","Enterprise (Custom Pricing)"]},ai:{text:"Our AI Growth Partner technology transforms your business operations:",options:["Voice Collection Calls","Smart Payment Reminders","Customer Service Assistant","Learn More About AI"]},trial:{text:"Start with our free plan today - no credit card required! You'll get:",options:["Basic Invoicing Features","Up to 5 Customers","PDF Invoice Generation","Start Free Trial"]},demo:{text:"I'd be happy to arrange a personalized demo of CxTrack for you! Our demos cover:",options:["Schedule Demo","View Features","Talk to Sales","Start Free Trial"]},support:{text:"I'm here to help! How can I assist you today?",options:["Technical Support","Billing Questions","Feature Requests","Contact Sales Team"]}},f6={type:"bot",text:" Hey there! I'm your AI sales assistant. I noticed you're checking us out - pretty exciting stuff we've got here at CxTrack! What brings you by today? I'd love to help you find the perfect solution for your business. ",options:["Tell me about the AI features","How can this help my business?","What are the pricing plans?","I need help with invoicing"]},$N=({isOpen:t,onClose:e})=>{const[s,n]=U.useState(!1),[a,i]=U.useState([]),[o,l]=U.useState(""),[c,d]=U.useState(!1);U.useState(!1);const u=U.useRef(null),h=Qt(),f=k=>{const A=k.toLowerCase();try{if(A.includes("ai")||A.includes("automation")||A.includes("robot")||A.includes("assistant"))return va.ai}catch(E){return console.error("Error in AI response:",E),{text:"I apologize, but I'm having technical difficulties at the moment. Please try again later or contact our support team.",options:["Contact Support","Try Again"]}}return A.includes("price")||A.includes("cost")||A.includes("plan")||A.includes("subscription")?va.pricing:A.includes("feature")||A.includes("what can")||A.includes("how does")||A.includes("capabilities")?va.features:A.includes("invoice")||A.includes("billing")||A.includes("payment")?va.invoicing:A.includes("customer")||A.includes("crm")||A.includes("client")?va.customers:A.includes("inventory")||A.includes("stock")||A.includes("product")?va.inventory:A.includes("trial")||A.includes("try")||A.includes("free")||A.includes("start")?va.trial:A.includes("demo")||A.includes("show")||A.includes("presentation")?va.demo:A.includes("help")||A.includes("support")||A.includes("question")?va.support:va.default};U.useEffect(()=>{s&&a.length===0&&m()},[s,a.length]);const m=()=>{d(!0),setTimeout(()=>{i([f6]),d(!1)},1e3)},g=()=>{u.current?.scrollIntoView({behavior:"smooth"})};U.useEffect(()=>{g()},[a]),U.useEffect(()=>{t!==void 0&&n(t)},[t]);const x=()=>{n(!1),e&&e()},j=async k=>{d(!0);const A=Math.min(Math.max(k.text.length*50,1e3),3e3);await new Promise(E=>setTimeout(E,A)),d(!1),i(E=>[...E,k])},y=async(k=o)=>{if(k.trim()){if(k.toLowerCase().includes("schedule demo")||k.toLowerCase().includes("schedule a demo")){h("/demo"),setShowChat(!1);return}i(A=>[...A,{type:"user",text:k}]),l("");try{if(k.toLowerCase().includes("free plan")||k.toLowerCase().includes("try it for free")||k.toLowerCase().includes("start free")){h("/register");return}if(k.toLowerCase().includes("talk to sales")||k.toLowerCase().includes("contact sales")){h("/contact");return}const A=f(k);await j(A),A.options?.includes("Schedule Now")&&(A.options=A.options.map(E=>E==="Schedule Now"?"Schedule Demo":E))}catch(A){console.error("Error handling message:",A),await j({type:"bot",text:"I apologize, but I'm having trouble right now. Please try again or contact our support team.",options:["Contact Support","Try Again"]})}}},b=()=>{n(!s),!s&&a.length===0&&m()};return r.jsxs(r.Fragment,{children:[t===void 0&&r.jsx("button",{onClick:b,className:"fixed bottom-4 right-4 bg-primary-600 text-white p-4 rounded-full shadow-lg hover:bg-primary-700 transition-colors z-50",children:s?r.jsx(or,{size:24}):r.jsx(io,{size:24})}),s&&r.jsxs("div",{className:"fixed bottom-20 right-4 w-96 bg-dark-800 rounded-lg shadow-xl border border-dark-700 z-50",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-dark-700",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Ge,{size:24,className:"text-primary-500 mr-2"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-white",children:"CxTrack Assistant"}),r.jsx("p",{className:"text-xs text-gray-400",children:"Online"})]})]}),r.jsx("button",{onClick:x,className:"text-gray-400 hover:text-white",children:r.jsx(or,{size:20})})]}),r.jsxs("div",{className:"h-96 overflow-y-auto p-4 space-y-4",children:[a.map((k,A)=>r.jsx("div",{className:`flex ${k.type==="user"?"justify-end":"justify-start"}`,children:r.jsxs("div",{className:`max-w-[80%] ${k.type==="user"?"bg-primary-600 text-white rounded-l-lg rounded-tr-lg":"bg-dark-700 text-gray-100 rounded-r-lg rounded-tl-lg"} p-3`,children:[r.jsx("p",{children:k.text}),k.options&&r.jsx("div",{className:"mt-2 space-y-2",children:k.options.map((E,I)=>r.jsx("button",{onClick:()=>y(E),className:"block w-full text-left px-3 py-2 rounded bg-dark-600 hover:bg-dark-500 transition-colors text-sm",children:E},I))})]})},A)),c&&r.jsx("div",{className:"flex justify-start",children:r.jsx("div",{className:"bg-dark-700 text-gray-100 rounded-r-lg rounded-tl-lg p-3",children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),r.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),r.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})}),r.jsx("div",{ref:u})]}),r.jsx("div",{className:"p-4 border-t border-dark-700",children:r.jsxs("form",{onSubmit:k=>{k.preventDefault(),y()},className:"flex space-x-2",children:[r.jsx("input",{type:"text",value:o,onChange:k=>l(k.target.value),placeholder:"Type your message...",className:"flex-1 bg-dark-700 text-white rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500"}),r.jsx("button",{type:"submit",className:"bg-primary-600 text-white p-2 rounded-lg hover:bg-primary-700 transition-colors",children:r.jsx(yc,{size:20})})]})})]})]})},Gl=({icon:t,title:e,description:s,link:n})=>r.jsxs(de,{to:n,className:"feature-card bg-primary-800/30 p-4 rounded-lg hover:bg-primary-700/30 transition-all transform hover:scale-105 duration-300",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx("div",{className:"p-2 rounded-lg bg-primary-500/20",children:r.jsx(t,{className:"text-primary-300",size:20})}),r.jsx("h3",{className:"text-lg font-semibold text-white",children:e})]}),r.jsx("p",{className:"text-primary-200 text-sm",children:s})]}),p6=()=>{const[t,e]=U.useState(!1);U.useEffect(()=>{const n=new IntersectionObserver(a=>{a.forEach(i=>{i.isIntersecting&&i.target.classList.add("animate")})},{threshold:.2,rootMargin:"50px"});return document.querySelectorAll(".feature-section").forEach(a=>{n.observe(a)}),()=>n.disconnect()},[]);const s=[{id:"expenses",title:"Smart Expense Management",description:"Effortlessly track and manage expenses with AI-powered receipt scanning.",icon:us,color:"emerald",benefits:["Instant receipt scanning & data extraction","Drag & drop document processing","Mobile camera integration","Automatic expense categorization","Real-time data validation","Smart expense analytics"],image:null,link:"/features/expenses"},{id:"invoicing",title:"Smart Invoicing",description:"Create and manage professional invoices with automated payment tracking and reminders.",icon:wt,color:"blue",benefits:["Professional invoice templates","Automated payment reminders","Online payment processing","Recurring billing automation","Real-time payment tracking","Multi-currency support"],image:"https://images.unsplash.com/photo-1554224155-6726b3ff858f?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=800&q=80",link:"/features/invoicing"},{id:"crm",title:"CRM System",description:"Build stronger customer relationships with our comprehensive CRM solution.",icon:dr,color:"purple",benefits:["360 customer view","Interaction tracking","Sales pipeline management","Customer segmentation","Communication history","Custom fields & tags"],image:"https://images.unsplash.com/photo-1552581234-26160f608093?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=800&q=80",link:"/features/customer-management"},{id:"calendar",title:"Calendar Integration",description:"Stay on top of important dates with our smart calendar system.",icon:Rs,color:"green",benefits:["Invoice due date tracking","Payment schedules","Task management","Holiday awareness","Event reminders","Multi-timezone support"],image:"https://images.unsplash.com/photo-1506784693919-ef06d93c28d2?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=800&q=80",link:"/features/calendar"},{id:"quotes",title:"Professional Quote Management",description:"Create, send, and track professional quotes to win more business.",icon:wt,color:"amber",benefits:["Beautiful quote templates","Quick quote generation","Automated follow-ups","Quote approval workflow","Convert quotes to invoices","Quote analytics & tracking"],image:"https://vmeomnmgqatezjqsrapj.supabase.co/storage/v1/object/public/public/images/quote-preview.jpg",link:"/features/quotes"},{id:"ai",title:"AI-Powered Automation",description:"Let our intelligent AI agents handle your routine tasks and communications.",icon:Wa,color:"indigo",benefits:["Automated collections","Smart payment reminders","Customer service AI","Voice call automation","Sentiment analysis","Predictive analytics"],image:"https://images.unsplash.com/photo-1677442136019-21780ecad995?auto=format&fit=crop&w=800&q=80",link:"/features/ai-growth-partner"}];return r.jsxs("div",{className:"min-h-screen flex flex-col",children:[r.jsx("div",{className:"fixed-header",children:r.jsx("div",{className:"container mx-auto px-4 py-2",children:r.jsxs("div",{className:"flex justify-end items-center space-x-4 pr-4",children:[r.jsxs(de,{to:"/login",className:"btn btn-secondary flex items-center space-x-2 bg-dark-800/80 hover:bg-dark-700/80",children:[r.jsx(gN,{size:16}),r.jsx("span",{children:"Sign In"})]}),r.jsxs(de,{to:"/register",className:"btn btn-primary flex items-center space-x-2 bg-primary-600/80 hover:bg-primary-700/80",children:[r.jsx(ra,{size:16}),r.jsx("span",{children:"Sign Up"})]}),r.jsx("svg",{viewBox:"0 0 375 375",className:"h-12 w-12 text-white opacity-80 flag-wave",fill:"currentColor",children:r.jsx("path",{d:"M 187.472656 112.507812 L 175.378906 135.132812 C 174.003906 137.59375 171.546875 137.363281 169.089844 135.992188 L 160.332031 131.441406 L 166.859375 166.191406 C 168.230469 172.542969 163.828125 172.542969 161.652344 169.796875 L 146.371094 152.644531 L 143.890625 161.355469 C 143.605469 162.5 142.347656 163.699219 140.457031 163.414062 L 121.136719 159.339844 L 126.210938 177.847656 C 127.296875 181.964844 128.144531 183.667969 125.113281 184.753906 L 118.226562 188.003906 L 151.492188 215.097656 C 152.808594 216.125 153.476562 217.96875 153.007812 219.636719 L 150.09375 229.21875 L 183.269531 225.386719 C 184.289062 225.375 184.953125 225.941406 184.945312 227.113281 L 182.902344 262.523438 L 192.050781 262.523438 L 190.007812 227.113281 C 190 225.941406 190.667969 225.375 191.6875 225.386719 L 224.863281 229.21875 L 221.949219 219.636719 C 221.480469 217.96875 222.144531 216.125 223.464844 215.097656 L 256.730469 188.003906 L 249.839844 184.753906 C 246.8125 183.667969 247.65625 181.964844 248.746094 177.847656 L 253.820312 159.339844 L 234.496094 163.414062 C 232.609375 163.699219 231.351562 162.5 231.066406 161.355469 L 228.582031 152.644531 L 213.300781 169.800781 C 211.128906 172.542969 206.722656 172.542969 208.097656 166.195312 L 214.625 131.445312 L 205.867188 135.992188 C 203.40625 137.367188 200.949219 137.59375 199.574219 135.136719 L 187.484375 112.515625 Z"})})]})})}),r.jsxs("div",{className:"relative bg-primary-900 overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top_right,rgba(99,102,241,0.15),transparent_50%)]"}),r.jsxs("div",{className:"container mx-auto px-6 pt-20 pb-24",children:[r.jsx("div",{className:"flex items-center justify-center md:justify-start mb-8",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"relative w-24 h-24",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary-500 to-primary-700 rounded-full animate-pulse"}),r.jsx("img",{src:"/logo.svg",alt:"CxTrack Logo",className:"relative w-full h-full logo-glow"})]}),r.jsx("h1",{className:"brand-logo text-5xl font-bold text-white brand-text",children:"CxTrack"})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-white mb-6",children:"Transform Your Business with AI-Powered Automation"}),r.jsx("p",{className:"text-xl text-primary-200 mb-8",children:"Streamline operations, boost sales, and deliver exceptional customer service with our integrated CRM platform and intelligent AI agents."}),r.jsxs("div",{className:"flex flex-wrap gap-4 mb-12",children:[r.jsx(de,{to:"/register",className:"btn btn-primary bg-white text-primary-900 hover:bg-gray-100 px-8 py-3 rounded-lg text-lg transform transition-transform duration-300",children:"Start Free"}),r.jsx(de,{to:"/demo",className:"btn btn-secondary border-2 border-white text-white px-8 py-3 rounded-lg text-lg hover:bg-white/10 transform transition-transform duration-300",children:"Schedule Demo"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(Gl,{icon:Ge,title:"AI Agents",description:"24/7 intelligent sales & support",link:"/features/ai-growth-partner"}),r.jsx(Gl,{icon:wt,title:"Smart Invoicing",description:"Automated billing & tracking",link:"/features/invoicing"}),r.jsx(Gl,{icon:dr,title:"CRM System",description:"Customer insights & automation",link:"/features/customer-management"}),r.jsx(Gl,{icon:cr,title:"Inventory",description:"Real-time stock management",link:"/features/inventory-tracking"}),r.jsx(Gl,{icon:us,title:"Expenses",description:"AI-powered receipt scanning",link:"/features/expenses"}),r.jsx(Gl,{icon:wt,title:"Quotes",description:"Professional quote management",link:"/features/quotes"})]})]}),r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:"https://images.unsplash.com/photo-1460925895917-afdab827c52f?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=800&q=80",alt:"Dashboard Preview",className:"rounded-lg shadow-2xl"}),r.jsx("div",{className:"absolute -bottom-4 -right-4 bg-primary-800 p-4 rounded-lg shadow-xl cursor-pointer hover:bg-primary-700 transition-colors group",onClick:()=>e(!0),role:"button",tabIndex:0,"aria-label":"Chat with AI Agent",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ge,{className:"text-primary-400 group-hover:text-primary-300",size:24}),r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-semibold group-hover:text-primary-50",children:"AI Agent Active"}),r.jsx("p",{className:"text-sm text-primary-300 group-hover:text-primary-200",children:"Click to chat with me"})]})]})})]})]})]})]}),s.map((n,a)=>r.jsx("section",{className:`feature-section py-24 ${a%2===0?"bg-dark-950":"bg-dark-900"}`,children:r.jsx("div",{className:"container mx-auto px-6",children:r.jsx("div",{className:`grid grid-cols-1 lg:grid-cols-2 gap-12 items-center ${a%2===0?"":"lg:flex-row-reverse"}`,children:a%2===0?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"feature-content space-y-8",children:[r.jsx("div",{className:`inline-flex items-center justify-center p-3 rounded-lg bg-${n.color}-500/20`,children:r.jsx(n.icon,{className:`h-8 w-8 text-${n.color}-400`})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:n.title}),r.jsx("p",{className:"text-xl text-gray-400 mb-8",children:n.description}),r.jsx("ul",{className:"space-y-4",children:n.benefits.map((i,o)=>r.jsxs("li",{className:"flex items-start",children:[r.jsx(Dt,{className:"text-primary-500 mt-1 mr-3",size:20}),r.jsx("span",{className:"text-gray-300",children:i})]},o))})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs(de,{to:n.link,className:"btn btn-primary flex items-center space-x-2",children:["Learn More",r.jsx(z0,{size:16})]}),r.jsx(de,{to:"/register",className:"btn btn-secondary",children:"Try It Free"})]})]}),r.jsx("div",{className:"feature-image-container",children:n.id==="expenses"?r.jsxs("div",{className:"relative bg-dark-800 rounded-lg p-8 border-2 border-dashed border-dark-600 hover:border-primary-500 transition-colors",children:[r.jsxs("div",{className:"text-center",children:[r.jsx(us,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Drag and Drop Receipts"}),r.jsx("p",{className:"text-gray-300 mb-6",children:"Drop your receipts here or use your device's camera"}),r.jsxs("div",{className:"flex justify-center space-x-4",children:[r.jsx("button",{className:"btn btn-primary",children:"Take a Photo"}),r.jsx("button",{className:"btn btn-secondary",children:"Browse Files"})]})]}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none opacity-0 hover:opacity-100 transition-opacity bg-primary-900/50 rounded-lg",children:r.jsx("div",{className:"text-white text-xl font-medium",children:"Drop your files here"})})]}):r.jsx("img",{src:n.image,alt:n.title,className:"feature-image rounded-lg shadow-xl"})})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"feature-image-container",children:r.jsx("img",{src:n.image,alt:n.title,className:"feature-image rounded-lg shadow-xl"})}),r.jsxs("div",{className:"feature-content space-y-8",children:[r.jsx("div",{className:`inline-flex items-center justify-center p-3 rounded-lg bg-${n.color}-500/20`,children:r.jsx(n.icon,{className:`h-8 w-8 text-${n.color}-400`})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:n.title}),r.jsx("p",{className:"text-xl text-gray-400 mb-8",children:n.description}),r.jsx("ul",{className:"space-y-4",children:n.benefits.map((i,o)=>r.jsxs("li",{className:"flex items-start",children:[r.jsx(Dt,{className:"text-primary-500 mt-1 mr-3",size:20}),r.jsx("span",{className:"text-gray-300",children:i})]},o))})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs(de,{to:n.link,className:"btn btn-primary flex items-center space-x-2",children:["Learn More",r.jsx(z0,{size:16})]}),r.jsx(de,{to:"/register",className:"btn btn-secondary",children:"Try It Free"})]})]})]})})})},n.id)),r.jsx(m6,{}),r.jsx($N,{isOpen:t,onClose:()=>e(!1)})]})},zN=Jr((t,e)=>({notifications:[],unreadCount:0,loading:!1,error:null,clearError:()=>t({error:null}),fetchNotifications:async()=>{t({loading:!0,error:null});try{const{data:s,error:n}=await Ae.from("notifications").select("*").order("created_at",{ascending:!1});if(n)throw n;const a=s||[],i=a.filter(o=>!o.read).length;t({notifications:a,unreadCount:i,loading:!1})}catch(s){console.error("Error fetching notifications:",s),t({error:s.message||"Failed to fetch notifications",loading:!1})}},markAsRead:async s=>{try{const{error:n}=await Ae.from("notifications").update({read:!0}).eq("id",s);if(n)throw n;const a=e().notifications.map(i=>i.id===s?{...i,read:!0}:i);t({notifications:a,unreadCount:a.filter(i=>!i.read).length})}catch(n){console.error("Error marking notification as read:",n),fe.error("Failed to mark notification as read")}},markAllAsRead:async()=>{try{const{error:s}=await Ae.from("notifications").update({read:!0}).eq("read",!1);if(s)throw s;const n=e().notifications.map(a=>({...a,read:!0}));t({notifications:n,unreadCount:0}),fe.success("All notifications marked as read")}catch(s){console.error("Error marking all notifications as read:",s),fe.error("Failed to mark all notifications as read")}}}));function bt(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function ls(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function BN(t,e){const s=bt(t);return isNaN(e)?ls(t,NaN):(e&&s.setDate(s.getDate()+e),s)}const qN=6048e5,x6=864e5,g6=6e4,y6=36e5,b6=1e3,om=43200,zv=1440;let v6={};function ul(){return v6}function wi(t,e){const s=ul(),n=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,a=bt(t),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function bc(t){return wi(t,{weekStartsOn:1})}function HN(t){const e=bt(t),s=e.getFullYear(),n=ls(t,0);n.setFullYear(s+1,0,4),n.setHours(0,0,0,0);const a=bc(n),i=ls(t,0);i.setFullYear(s,0,4),i.setHours(0,0,0,0);const o=bc(i);return e.getTime()>=a.getTime()?s+1:e.getTime()>=o.getTime()?s:s-1}function U0(t){const e=bt(t);return e.setHours(0,0,0,0),e}function vc(t){const e=bt(t),s=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return s.setUTCFullYear(e.getFullYear()),+t-+s}function w6(t,e){const s=U0(t),n=U0(e),a=+s-vc(s),i=+n-vc(n);return Math.round((a-i)/x6)}function j6(t){const e=HN(t),s=ls(t,0);return s.setFullYear(e,0,4),s.setHours(0,0,0,0),bc(s)}function Ym(t,e){const s=bt(t),n=bt(e),a=s.getTime()-n.getTime();return a<0?-1:a>0?1:a}function N6(t){return ls(t,Date.now())}function k6(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function _6(t){if(!k6(t)&&typeof t!="number")return!1;const e=bt(t);return!isNaN(Number(e))}function S6(t,e){const s=bt(t),n=bt(e),a=s.getFullYear()-n.getFullYear(),i=s.getMonth()-n.getMonth();return a*12+i}function A6(t){return e=>{const n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function C6(t,e){return+bt(t)-+bt(e)}function WN(t){const e=bt(t);return e.setHours(23,59,59,999),e}function P6(t){const e=bt(t),s=e.getMonth();return e.setFullYear(e.getFullYear(),s+1,0),e.setHours(23,59,59,999),e}function E6(t){const e=bt(t);return+WN(e)==+P6(e)}function D6(t,e){const s=bt(t),n=bt(e),a=Ym(s,n),i=Math.abs(S6(s,n));let o;if(i<1)o=0;else{s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-a*i);let l=Ym(s,n)===-a;E6(bt(t))&&i===1&&Ym(t,n)===1&&(l=!1),o=a*(i-Number(l))}return o===0?0:o}function L6(t,e,s){const n=C6(t,e)/1e3;return A6(s?.roundingMethod)(n)}function I6(t){const e=bt(t),s=ls(t,0);return s.setFullYear(e.getFullYear(),0,1),s.setHours(0,0,0,0),s}const M6={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},T6=(t,e,s)=>{let n;const a=M6[t];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),s?.addSuffix?s.comparison&&s.comparison>0?"in "+n:n+" ago":n};function zx(t){return(e={})=>{const s=e.width?String(e.width):t.defaultWidth;return t.formats[s]||t.formats[t.defaultWidth]}}const F6={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},O6={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},R6={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},$6={date:zx({formats:F6,defaultWidth:"full"}),time:zx({formats:O6,defaultWidth:"full"}),dateTime:zx({formats:R6,defaultWidth:"full"})},z6={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},B6=(t,e,s,n)=>z6[t];function Ad(t){return(e,s)=>{const n=s?.context?String(s.context):"standalone";let a;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=s?.width?String(s.width):o;a=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=s?.width?String(s.width):t.defaultWidth;a=t.values[l]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return a[i]}}const q6={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},H6={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},W6={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},U6={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},V6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Y6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},G6=(t,e)=>{const s=Number(t),n=s%100;if(n>20||n<10)switch(n%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},K6={ordinalNumber:G6,era:Ad({values:q6,defaultWidth:"wide"}),quarter:Ad({values:H6,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ad({values:W6,defaultWidth:"wide"}),day:Ad({values:U6,defaultWidth:"wide"}),dayPeriod:Ad({values:V6,defaultWidth:"wide",formattingValues:Y6,defaultFormattingWidth:"wide"})};function Cd(t){return(e,s={})=>{const n=s.width,a=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=e.match(a);if(!i)return null;const o=i[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?Q6(l,h=>h.test(o)):X6(l,h=>h.test(o));let d;d=t.valueCallback?t.valueCallback(c):c,d=s.valueCallback?s.valueCallback(d):d;const u=e.slice(o.length);return{value:d,rest:u}}}function X6(t,e){for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&e(t[s]))return s}function Q6(t,e){for(let s=0;s<t.length;s++)if(e(t[s]))return s}function J6(t){return(e,s={})=>{const n=e.match(t.matchPattern);if(!n)return null;const a=n[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=s.valueCallback?s.valueCallback(o):o;const l=e.slice(a.length);return{value:o,rest:l}}}const Z6=/^(\d+)(th|st|nd|rd)?/i,eP=/\d+/i,tP={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},sP={any:[/^b/i,/^(a|c)/i]},rP={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},nP={any:[/1/i,/2/i,/3/i,/4/i]},aP={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},iP={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},oP={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},lP={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},cP={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},dP={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},uP={ordinalNumber:J6({matchPattern:Z6,parsePattern:eP,valueCallback:t=>parseInt(t,10)}),era:Cd({matchPatterns:tP,defaultMatchWidth:"wide",parsePatterns:sP,defaultParseWidth:"any"}),quarter:Cd({matchPatterns:rP,defaultMatchWidth:"wide",parsePatterns:nP,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Cd({matchPatterns:aP,defaultMatchWidth:"wide",parsePatterns:iP,defaultParseWidth:"any"}),day:Cd({matchPatterns:oP,defaultMatchWidth:"wide",parsePatterns:lP,defaultParseWidth:"any"}),dayPeriod:Cd({matchPatterns:cP,defaultMatchWidth:"any",parsePatterns:dP,defaultParseWidth:"any"})},Kf={code:"en-US",formatDistance:T6,formatLong:$6,formatRelative:B6,localize:K6,match:uP,options:{weekStartsOn:0,firstWeekContainsDate:1}};function hP(t){const e=bt(t);return w6(e,I6(e))+1}function UN(t){const e=bt(t),s=+bc(e)-+j6(e);return Math.round(s/qN)+1}function ny(t,e){const s=bt(t),n=s.getFullYear(),a=ul(),i=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,o=ls(t,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=wi(o,e),c=ls(t,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const d=wi(c,e);return s.getTime()>=l.getTime()?n+1:s.getTime()>=d.getTime()?n:n-1}function mP(t,e){const s=ul(),n=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,a=ny(t,e),i=ls(t,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),wi(i,e)}function VN(t,e){const s=bt(t),n=+wi(s,e)-+mP(s,e);return Math.round(n/qN)+1}function $t(t,e){const s=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return s+n}const Bi={y(t,e){const s=t.getFullYear(),n=s>0?s:1-s;return $t(e==="yy"?n%100:n,e.length)},M(t,e){const s=t.getMonth();return e==="M"?String(s+1):$t(s+1,2)},d(t,e){return $t(t.getDate(),e.length)},a(t,e){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h(t,e){return $t(t.getHours()%12||12,e.length)},H(t,e){return $t(t.getHours(),e.length)},m(t,e){return $t(t.getMinutes(),e.length)},s(t,e){return $t(t.getSeconds(),e.length)},S(t,e){const s=e.length,n=t.getMilliseconds(),a=Math.trunc(n*Math.pow(10,s-3));return $t(a,e.length)}},Kl={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Bv={G:function(t,e,s){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return s.era(n,{width:"abbreviated"});case"GGGGG":return s.era(n,{width:"narrow"});case"GGGG":default:return s.era(n,{width:"wide"})}},y:function(t,e,s){if(e==="yo"){const n=t.getFullYear(),a=n>0?n:1-n;return s.ordinalNumber(a,{unit:"year"})}return Bi.y(t,e)},Y:function(t,e,s,n){const a=ny(t,n),i=a>0?a:1-a;if(e==="YY"){const o=i%100;return $t(o,2)}return e==="Yo"?s.ordinalNumber(i,{unit:"year"}):$t(i,e.length)},R:function(t,e){const s=HN(t);return $t(s,e.length)},u:function(t,e){const s=t.getFullYear();return $t(s,e.length)},Q:function(t,e,s){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return $t(n,2);case"Qo":return s.ordinalNumber(n,{unit:"quarter"});case"QQQ":return s.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,s){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return $t(n,2);case"qo":return s.ordinalNumber(n,{unit:"quarter"});case"qqq":return s.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,s){const n=t.getMonth();switch(e){case"M":case"MM":return Bi.M(t,e);case"Mo":return s.ordinalNumber(n+1,{unit:"month"});case"MMM":return s.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,s){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return $t(n+1,2);case"Lo":return s.ordinalNumber(n+1,{unit:"month"});case"LLL":return s.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,s,n){const a=VN(t,n);return e==="wo"?s.ordinalNumber(a,{unit:"week"}):$t(a,e.length)},I:function(t,e,s){const n=UN(t);return e==="Io"?s.ordinalNumber(n,{unit:"week"}):$t(n,e.length)},d:function(t,e,s){return e==="do"?s.ordinalNumber(t.getDate(),{unit:"date"}):Bi.d(t,e)},D:function(t,e,s){const n=hP(t);return e==="Do"?s.ordinalNumber(n,{unit:"dayOfYear"}):$t(n,e.length)},E:function(t,e,s){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return s.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(n,{width:"short",context:"formatting"});case"EEEE":default:return s.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,s,n){const a=t.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return $t(i,2);case"eo":return s.ordinalNumber(i,{unit:"day"});case"eee":return s.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(a,{width:"short",context:"formatting"});case"eeee":default:return s.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,s,n){const a=t.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return $t(i,e.length);case"co":return s.ordinalNumber(i,{unit:"day"});case"ccc":return s.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(a,{width:"narrow",context:"standalone"});case"cccccc":return s.day(a,{width:"short",context:"standalone"});case"cccc":default:return s.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,s){const n=t.getDay(),a=n===0?7:n;switch(e){case"i":return String(a);case"ii":return $t(a,e.length);case"io":return s.ordinalNumber(a,{unit:"day"});case"iii":return s.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(n,{width:"short",context:"formatting"});case"iiii":default:return s.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,s){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,s){const n=t.getHours();let a;switch(n===12?a=Kl.noon:n===0?a=Kl.midnight:a=n/12>=1?"pm":"am",e){case"b":case"bb":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,s){const n=t.getHours();let a;switch(n>=17?a=Kl.evening:n>=12?a=Kl.afternoon:n>=4?a=Kl.morning:a=Kl.night,e){case"B":case"BB":case"BBB":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,s){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),s.ordinalNumber(n,{unit:"hour"})}return Bi.h(t,e)},H:function(t,e,s){return e==="Ho"?s.ordinalNumber(t.getHours(),{unit:"hour"}):Bi.H(t,e)},K:function(t,e,s){const n=t.getHours()%12;return e==="Ko"?s.ordinalNumber(n,{unit:"hour"}):$t(n,e.length)},k:function(t,e,s){let n=t.getHours();return n===0&&(n=24),e==="ko"?s.ordinalNumber(n,{unit:"hour"}):$t(n,e.length)},m:function(t,e,s){return e==="mo"?s.ordinalNumber(t.getMinutes(),{unit:"minute"}):Bi.m(t,e)},s:function(t,e,s){return e==="so"?s.ordinalNumber(t.getSeconds(),{unit:"second"}):Bi.s(t,e)},S:function(t,e){return Bi.S(t,e)},X:function(t,e,s){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return Hv(n);case"XXXX":case"XX":return Io(n);case"XXXXX":case"XXX":default:return Io(n,":")}},x:function(t,e,s){const n=t.getTimezoneOffset();switch(e){case"x":return Hv(n);case"xxxx":case"xx":return Io(n);case"xxxxx":case"xxx":default:return Io(n,":")}},O:function(t,e,s){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+qv(n,":");case"OOOO":default:return"GMT"+Io(n,":")}},z:function(t,e,s){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+qv(n,":");case"zzzz":default:return"GMT"+Io(n,":")}},t:function(t,e,s){const n=Math.trunc(t.getTime()/1e3);return $t(n,e.length)},T:function(t,e,s){const n=t.getTime();return $t(n,e.length)}};function qv(t,e=""){const s=t>0?"-":"+",n=Math.abs(t),a=Math.trunc(n/60),i=n%60;return i===0?s+String(a):s+String(a)+e+$t(i,2)}function Hv(t,e){return t%60===0?(t>0?"-":"+")+$t(Math.abs(t)/60,2):Io(t,e)}function Io(t,e=""){const s=t>0?"-":"+",n=Math.abs(t),a=$t(Math.trunc(n/60),2),i=$t(n%60,2);return s+a+e+i}const Wv=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},YN=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},fP=(t,e)=>{const s=t.match(/(P+)(p+)?/)||[],n=s[1],a=s[2];if(!a)return Wv(t,e);let i;switch(n){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",Wv(n,e)).replace("{{time}}",YN(a,e))},V0={p:YN,P:fP},pP=/^D+$/,xP=/^Y+$/,gP=["D","DD","YY","YYYY"];function GN(t){return pP.test(t)}function KN(t){return xP.test(t)}function Y0(t,e,s){const n=yP(t,e,s);if(console.warn(n),gP.includes(t))throw new RangeError(n)}function yP(t,e,s){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const bP=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,vP=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,wP=/^'([^]*?)'?$/,jP=/''/g,NP=/[a-zA-Z]/;function yi(t,e,s){const n=ul(),a=s?.locale??n.locale??Kf,i=s?.firstWeekContainsDate??s?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=s?.weekStartsOn??s?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,l=bt(t);if(!_6(l))throw new RangeError("Invalid time value");let c=e.match(vP).map(u=>{const h=u[0];if(h==="p"||h==="P"){const f=V0[h];return f(u,a.formatLong)}return u}).join("").match(bP).map(u=>{if(u==="''")return{isToken:!1,value:"'"};const h=u[0];if(h==="'")return{isToken:!1,value:kP(u)};if(Bv[h])return{isToken:!0,value:u};if(h.match(NP))throw new RangeError("Format string contains an unescaped latin alphabet character `"+h+"`");return{isToken:!1,value:u}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(u=>{if(!u.isToken)return u.value;const h=u.value;(!s?.useAdditionalWeekYearTokens&&KN(h)||!s?.useAdditionalDayOfYearTokens&&GN(h))&&Y0(h,e,String(t));const f=Bv[h[0]];return f(l,h,a.localize,d)}).join("")}function kP(t){const e=t.match(wP);return e?e[1].replace(jP,"'"):t}function _P(t,e,s){const n=ul(),a=s?.locale??n.locale??Kf,i=2520,o=Ym(t,e);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},s,{addSuffix:s?.addSuffix,comparison:o});let c,d;o>0?(c=bt(e),d=bt(t)):(c=bt(t),d=bt(e));const u=L6(d,c),h=(vc(d)-vc(c))/1e3,f=Math.round((u-h)/60);let m;if(f<2)return s?.includeSeconds?u<5?a.formatDistance("lessThanXSeconds",5,l):u<10?a.formatDistance("lessThanXSeconds",10,l):u<20?a.formatDistance("lessThanXSeconds",20,l):u<40?a.formatDistance("halfAMinute",0,l):u<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):f===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",f,l);if(f<45)return a.formatDistance("xMinutes",f,l);if(f<90)return a.formatDistance("aboutXHours",1,l);if(f<zv){const g=Math.round(f/60);return a.formatDistance("aboutXHours",g,l)}else{if(f<i)return a.formatDistance("xDays",1,l);if(f<om){const g=Math.round(f/zv);return a.formatDistance("xDays",g,l)}else if(f<om*2)return m=Math.round(f/om),a.formatDistance("aboutXMonths",m,l)}if(m=D6(d,c),m<12){const g=Math.round(f/om);return a.formatDistance("xMonths",g,l)}else{const g=m%12,x=Math.trunc(m/12);return g<3?a.formatDistance("aboutXYears",x,l):g<9?a.formatDistance("overXYears",x,l):a.formatDistance("almostXYears",x+1,l)}}function SP(t,e){return _P(t,N6(t),e)}function AP(t){return bt(t).getDay()}function CP(){return Object.assign({},ul())}function PP(t){let s=bt(t).getDay();return s===0&&(s=7),s}function EP(t,e){const s=e instanceof Date?ls(e,0):new e(0);return s.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),s.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),s}const DP=10;class XN{subPriority=0;validate(e,s){return!0}}class LP extends XN{constructor(e,s,n,a,i){super(),this.value=e,this.validateValue=s,this.setValue=n,this.priority=a,i&&(this.subPriority=i)}validate(e,s){return this.validateValue(e,this.value,s)}set(e,s,n){return this.setValue(e,s,this.value,n)}}class IP extends XN{priority=DP;subPriority=-1;set(e,s){return s.timestampIsSet?e:ls(e,EP(e,Date))}}class Lt{run(e,s,n,a){const i=this.parse(e,s,n,a);return i?{setter:new LP(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(e,s,n){return!0}}class MP extends Lt{priority=140;parse(e,s,n){switch(s){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});case"GGGG":default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}}set(e,s,n){return s.era=n,e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["R","u","t","T"]}const As={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Ia={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Cs(t,e){return t&&{value:e(t.value),rest:t.rest}}function cs(t,e){const s=e.match(t);return s?{value:parseInt(s[0],10),rest:e.slice(s[0].length)}:null}function Ma(t,e){const s=e.match(t);if(!s)return null;if(s[0]==="Z")return{value:0,rest:e.slice(1)};const n=s[1]==="+"?1:-1,a=s[2]?parseInt(s[2],10):0,i=s[3]?parseInt(s[3],10):0,o=s[5]?parseInt(s[5],10):0;return{value:n*(a*y6+i*g6+o*b6),rest:e.slice(s[0].length)}}function QN(t){return cs(As.anyDigitsSigned,t)}function vs(t,e){switch(t){case 1:return cs(As.singleDigit,e);case 2:return cs(As.twoDigits,e);case 3:return cs(As.threeDigits,e);case 4:return cs(As.fourDigits,e);default:return cs(new RegExp("^\\d{1,"+t+"}"),e)}}function xf(t,e){switch(t){case 1:return cs(As.singleDigitSigned,e);case 2:return cs(As.twoDigitsSigned,e);case 3:return cs(As.threeDigitsSigned,e);case 4:return cs(As.fourDigitsSigned,e);default:return cs(new RegExp("^-?\\d{1,"+t+"}"),e)}}function ay(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function JN(t,e){const s=e>0,n=s?e:1-e;let a;if(n<=50)a=t||100;else{const i=n+50,o=Math.trunc(i/100)*100,l=t>=i%100;a=t+o-(l?100:0)}return s?a:1-a}function ZN(t){return t%400===0||t%4===0&&t%100!==0}class TP extends Lt{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(e,s,n){const a=i=>({year:i,isTwoDigitYear:s==="yy"});switch(s){case"y":return Cs(vs(4,e),a);case"yo":return Cs(n.ordinalNumber(e,{unit:"year"}),a);default:return Cs(vs(s.length,e),a)}}validate(e,s){return s.isTwoDigitYear||s.year>0}set(e,s,n){const a=e.getFullYear();if(n.isTwoDigitYear){const o=JN(n.year,a);return e.setFullYear(o,0,1),e.setHours(0,0,0,0),e}const i=!("era"in s)||s.era===1?n.year:1-n.year;return e.setFullYear(i,0,1),e.setHours(0,0,0,0),e}}class FP extends Lt{priority=130;parse(e,s,n){const a=i=>({year:i,isTwoDigitYear:s==="YY"});switch(s){case"Y":return Cs(vs(4,e),a);case"Yo":return Cs(n.ordinalNumber(e,{unit:"year"}),a);default:return Cs(vs(s.length,e),a)}}validate(e,s){return s.isTwoDigitYear||s.year>0}set(e,s,n,a){const i=ny(e,a);if(n.isTwoDigitYear){const l=JN(n.year,i);return e.setFullYear(l,0,a.firstWeekContainsDate),e.setHours(0,0,0,0),wi(e,a)}const o=!("era"in s)||s.era===1?n.year:1-n.year;return e.setFullYear(o,0,a.firstWeekContainsDate),e.setHours(0,0,0,0),wi(e,a)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class OP extends Lt{priority=130;parse(e,s){return xf(s==="R"?4:s.length,e)}set(e,s,n){const a=ls(e,0);return a.setFullYear(n,0,4),a.setHours(0,0,0,0),bc(a)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class RP extends Lt{priority=130;parse(e,s){return xf(s==="u"?4:s.length,e)}set(e,s,n){return e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class $P extends Lt{priority=120;parse(e,s,n){switch(s){case"Q":case"QQ":return vs(s.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,s){return s>=1&&s<=4}set(e,s,n){return e.setMonth((n-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class zP extends Lt{priority=120;parse(e,s,n){switch(s){case"q":case"qq":return vs(s.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,s){return s>=1&&s<=4}set(e,s,n){return e.setMonth((n-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class BP extends Lt{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(e,s,n){const a=i=>i-1;switch(s){case"M":return Cs(cs(As.month,e),a);case"MM":return Cs(vs(2,e),a);case"Mo":return Cs(n.ordinalNumber(e,{unit:"month"}),a);case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}}validate(e,s){return s>=0&&s<=11}set(e,s,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}}class qP extends Lt{priority=110;parse(e,s,n){const a=i=>i-1;switch(s){case"L":return Cs(cs(As.month,e),a);case"LL":return Cs(vs(2,e),a);case"Lo":return Cs(n.ordinalNumber(e,{unit:"month"}),a);case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}}validate(e,s){return s>=0&&s<=11}set(e,s,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function HP(t,e,s){const n=bt(t),a=VN(n,s)-e;return n.setDate(n.getDate()-a*7),n}class WP extends Lt{priority=100;parse(e,s,n){switch(s){case"w":return cs(As.week,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return vs(s.length,e)}}validate(e,s){return s>=1&&s<=53}set(e,s,n,a){return wi(HP(e,n,a),a)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function UP(t,e){const s=bt(t),n=UN(s)-e;return s.setDate(s.getDate()-n*7),s}class VP extends Lt{priority=100;parse(e,s,n){switch(s){case"I":return cs(As.week,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return vs(s.length,e)}}validate(e,s){return s>=1&&s<=53}set(e,s,n){return bc(UP(e,n))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const YP=[31,28,31,30,31,30,31,31,30,31,30,31],GP=[31,29,31,30,31,30,31,31,30,31,30,31];class KP extends Lt{priority=90;subPriority=1;parse(e,s,n){switch(s){case"d":return cs(As.date,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return vs(s.length,e)}}validate(e,s){const n=e.getFullYear(),a=ZN(n),i=e.getMonth();return a?s>=1&&s<=GP[i]:s>=1&&s<=YP[i]}set(e,s,n){return e.setDate(n),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class XP extends Lt{priority=90;subpriority=1;parse(e,s,n){switch(s){case"D":case"DD":return cs(As.dayOfYear,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return vs(s.length,e)}}validate(e,s){const n=e.getFullYear();return ZN(n)?s>=1&&s<=366:s>=1&&s<=365}set(e,s,n){return e.setMonth(0,n),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function iy(t,e,s){const n=ul(),a=s?.weekStartsOn??s?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=bt(t),o=i.getDay(),c=(e%7+7)%7,d=7-a,u=e<0||e>6?e-(o+d)%7:(c+d)%7-(o+d)%7;return BN(i,u)}class QP extends Lt{priority=90;parse(e,s,n){switch(s){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,s){return s>=0&&s<=6}set(e,s,n,a){return e=iy(e,n,a),e.setHours(0,0,0,0),e}incompatibleTokens=["D","i","e","c","t","T"]}class JP extends Lt{priority=90;parse(e,s,n,a){const i=o=>{const l=Math.floor((o-1)/7)*7;return(o+a.weekStartsOn+6)%7+l};switch(s){case"e":case"ee":return Cs(vs(s.length,e),i);case"eo":return Cs(n.ordinalNumber(e,{unit:"day"}),i);case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,s){return s>=0&&s<=6}set(e,s,n,a){return e=iy(e,n,a),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class ZP extends Lt{priority=90;parse(e,s,n,a){const i=o=>{const l=Math.floor((o-1)/7)*7;return(o+a.weekStartsOn+6)%7+l};switch(s){case"c":case"cc":return Cs(vs(s.length,e),i);case"co":return Cs(n.ordinalNumber(e,{unit:"day"}),i);case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}}validate(e,s){return s>=0&&s<=6}set(e,s,n,a){return e=iy(e,n,a),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function e8(t,e){const s=bt(t),n=PP(s),a=e-n;return BN(s,a)}class t8 extends Lt{priority=90;parse(e,s,n){const a=i=>i===0?7:i;switch(s){case"i":case"ii":return vs(s.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return Cs(n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),a);case"iiiii":return Cs(n.day(e,{width:"narrow",context:"formatting"}),a);case"iiiiii":return Cs(n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),a);case"iiii":default:return Cs(n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),a)}}validate(e,s){return s>=1&&s<=7}set(e,s,n){return e=e8(e,n),e.setHours(0,0,0,0),e}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class s8 extends Lt{priority=80;parse(e,s,n){switch(s){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,s,n){return e.setHours(ay(n),0,0,0),e}incompatibleTokens=["b","B","H","k","t","T"]}class r8 extends Lt{priority=80;parse(e,s,n){switch(s){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,s,n){return e.setHours(ay(n),0,0,0),e}incompatibleTokens=["a","B","H","k","t","T"]}class n8 extends Lt{priority=80;parse(e,s,n){switch(s){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,s,n){return e.setHours(ay(n),0,0,0),e}incompatibleTokens=["a","b","t","T"]}class a8 extends Lt{priority=70;parse(e,s,n){switch(s){case"h":return cs(As.hour12h,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return vs(s.length,e)}}validate(e,s){return s>=1&&s<=12}set(e,s,n){const a=e.getHours()>=12;return a&&n<12?e.setHours(n+12,0,0,0):!a&&n===12?e.setHours(0,0,0,0):e.setHours(n,0,0,0),e}incompatibleTokens=["H","K","k","t","T"]}class i8 extends Lt{priority=70;parse(e,s,n){switch(s){case"H":return cs(As.hour23h,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return vs(s.length,e)}}validate(e,s){return s>=0&&s<=23}set(e,s,n){return e.setHours(n,0,0,0),e}incompatibleTokens=["a","b","h","K","k","t","T"]}class o8 extends Lt{priority=70;parse(e,s,n){switch(s){case"K":return cs(As.hour11h,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return vs(s.length,e)}}validate(e,s){return s>=0&&s<=11}set(e,s,n){return e.getHours()>=12&&n<12?e.setHours(n+12,0,0,0):e.setHours(n,0,0,0),e}incompatibleTokens=["h","H","k","t","T"]}class l8 extends Lt{priority=70;parse(e,s,n){switch(s){case"k":return cs(As.hour24h,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return vs(s.length,e)}}validate(e,s){return s>=1&&s<=24}set(e,s,n){const a=n<=24?n%24:n;return e.setHours(a,0,0,0),e}incompatibleTokens=["a","b","h","H","K","t","T"]}class c8 extends Lt{priority=60;parse(e,s,n){switch(s){case"m":return cs(As.minute,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return vs(s.length,e)}}validate(e,s){return s>=0&&s<=59}set(e,s,n){return e.setMinutes(n,0,0),e}incompatibleTokens=["t","T"]}class d8 extends Lt{priority=50;parse(e,s,n){switch(s){case"s":return cs(As.second,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return vs(s.length,e)}}validate(e,s){return s>=0&&s<=59}set(e,s,n){return e.setSeconds(n,0),e}incompatibleTokens=["t","T"]}class u8 extends Lt{priority=30;parse(e,s){const n=a=>Math.trunc(a*Math.pow(10,-s.length+3));return Cs(vs(s.length,e),n)}set(e,s,n){return e.setMilliseconds(n),e}incompatibleTokens=["t","T"]}class h8 extends Lt{priority=10;parse(e,s){switch(s){case"X":return Ma(Ia.basicOptionalMinutes,e);case"XX":return Ma(Ia.basic,e);case"XXXX":return Ma(Ia.basicOptionalSeconds,e);case"XXXXX":return Ma(Ia.extendedOptionalSeconds,e);case"XXX":default:return Ma(Ia.extended,e)}}set(e,s,n){return s.timestampIsSet?e:ls(e,e.getTime()-vc(e)-n)}incompatibleTokens=["t","T","x"]}class m8 extends Lt{priority=10;parse(e,s){switch(s){case"x":return Ma(Ia.basicOptionalMinutes,e);case"xx":return Ma(Ia.basic,e);case"xxxx":return Ma(Ia.basicOptionalSeconds,e);case"xxxxx":return Ma(Ia.extendedOptionalSeconds,e);case"xxx":default:return Ma(Ia.extended,e)}}set(e,s,n){return s.timestampIsSet?e:ls(e,e.getTime()-vc(e)-n)}incompatibleTokens=["t","T","X"]}class f8 extends Lt{priority=40;parse(e){return QN(e)}set(e,s,n){return[ls(e,n*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class p8 extends Lt{priority=20;parse(e){return QN(e)}set(e,s,n){return[ls(e,n),{timestampIsSet:!0}]}incompatibleTokens="*"}const x8={G:new MP,y:new TP,Y:new FP,R:new OP,u:new RP,Q:new $P,q:new zP,M:new BP,L:new qP,w:new WP,I:new VP,d:new KP,D:new XP,E:new QP,e:new JP,c:new ZP,i:new t8,a:new s8,b:new r8,B:new n8,h:new a8,H:new i8,K:new o8,k:new l8,m:new c8,s:new d8,S:new u8,X:new h8,x:new m8,t:new f8,T:new p8},g8=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,y8=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,b8=/^'([^]*?)'?$/,v8=/''/g,w8=/\S/,j8=/[a-zA-Z]/;function N8(t,e,s,n){const a=CP(),i=n?.locale??a.locale??Kf,o=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,l=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0;if(e==="")return t===""?bt(s):ls(s,NaN);const c={firstWeekContainsDate:o,weekStartsOn:l,locale:i},d=[new IP],u=e.match(y8).map(x=>{const j=x[0];if(j in V0){const y=V0[j];return y(x,i.formatLong)}return x}).join("").match(g8),h=[];for(let x of u){!n?.useAdditionalWeekYearTokens&&KN(x)&&Y0(x,e,t),!n?.useAdditionalDayOfYearTokens&&GN(x)&&Y0(x,e,t);const j=x[0],y=x8[j];if(y){const{incompatibleTokens:b}=y;if(Array.isArray(b)){const A=h.find(E=>b.includes(E.token)||E.token===j);if(A)throw new RangeError(`The format string mustn't contain \`${A.fullToken}\` and \`${x}\` at the same time`)}else if(y.incompatibleTokens==="*"&&h.length>0)throw new RangeError(`The format string mustn't contain \`${x}\` and any other token at the same time`);h.push({token:j,fullToken:x});const k=y.run(t,x,i.match,c);if(!k)return ls(s,NaN);d.push(k.setter),t=k.rest}else{if(j.match(j8))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");if(x==="''"?x="'":j==="'"&&(x=k8(x)),t.indexOf(x)===0)t=t.slice(x.length);else return ls(s,NaN)}}if(t.length>0&&w8.test(t))return ls(s,NaN);const f=d.map(x=>x.priority).sort((x,j)=>j-x).filter((x,j,y)=>y.indexOf(x)===j).map(x=>d.filter(j=>j.priority===x).sort((j,y)=>y.subPriority-j.subPriority)).map(x=>x[0]);let m=bt(s);if(isNaN(m.getTime()))return ls(s,NaN);const g={};for(const x of f){if(!x.validate(m,c))return ls(s,NaN);const j=x.set(m,g,c);Array.isArray(j)?(m=j[0],Object.assign(g,j[1])):m=j}return ls(s,m)}function k8(t){return t.match(b8)[1].replace(v8,"'")}function _8(t,e){const s=+bt(t),[n,a]=[+bt(e.start),+bt(e.end)].sort((i,o)=>i-o);return s>=n&&s<=a}const S8=()=>{const[t,e]=U.useState(!1),{notifications:s,unreadCount:n,fetchNotifications:a,markAsRead:i,markAllAsRead:o}=zN(),{user:l}=Ar();U.useEffect(()=>{if(a(),!l)return;const d=Ae.channel("notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${l.id}`},()=>{a()}).subscribe();return()=>{d.unsubscribe()}},[a,l]);const c=d=>{i(d)};return r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>e(!t),className:"relative p-2 text-gray-400 hover:text-white focus:outline-none",children:[r.jsx(hN,{size:20}),n>0&&r.jsx("span",{className:"absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-primary-600 rounded-full",children:n})]}),t&&r.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-dark-800 rounded-lg shadow-lg border border-dark-700 z-50",children:[r.jsx("div",{className:"p-4 border-b border-dark-700",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Notifications"}),n>0&&r.jsx("button",{onClick:()=>o(),className:"text-sm text-primary-400 hover:text-primary-300",children:"Mark all as read"})]})}),r.jsx("div",{className:"max-h-96 overflow-y-auto",children:s.length>0?r.jsx("div",{className:"divide-y divide-dark-700",children:s.map(d=>r.jsx("div",{onClick:()=>c(d.id),className:`p-4 cursor-pointer transition-colors ${d.read?"bg-dark-800":"bg-dark-700"} hover:bg-dark-700`,children:r.jsxs("div",{className:"flex items-start",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:`text-sm font-medium ${d.read?"text-gray-300":"text-white"}`,children:d.title}),r.jsx("p",{className:"text-sm text-gray-400 mt-1",children:d.message}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:yi(new Date(d.created_at),"MMM d, yyyy h:mm a")})]}),!d.read&&r.jsx("span",{className:"w-2 h-2 bg-primary-500 rounded-full"})]})},d.id))}):r.jsx("div",{className:"p-4 text-center text-gray-400",children:"No notifications"})})]})]})},Gn={async getSubscriptionPlans(){try{const{data:t,error:e}=await Ae.from("subscription_plans").select("*").eq("is_active",!0).order("price",{ascending:!0});if(e)throw console.error("Error fetching subscription plans:",e),e;return t||[]}catch(t){throw console.error("Subscription service error:",t),t}},async getCurrentSubscription(){try{const{data:t}=await Ae.auth.getUser();if(!t?.user)throw new Error("User not authenticated");const{data:e,error:s}=await Ae.from("subscriptions").select("*").eq("user_id",t.user.id).eq("status","active").maybeSingle();if(s)throw console.error("Error fetching current subscription:",s),s;return e}catch(t){throw console.error("Subscription service error:",t),t}},async createCheckoutSession(t){try{const{data:e}=await Ae.auth.getUser();if(!e?.user)throw new Error("User not authenticated");const{data:{session:s},error:n}=await Ae.auth.getSession();if(n||!s)throw new Error("Failed to get authentication session");const{data:a,error:i}=await Ae.functions.invoke("create-checkout-session",{body:{planId:t,userId:e.user.id,email:e.user.email}});if(i)throw console.error("Error creating checkout session:",i),i;if(!a?.url)throw new Error("Invalid response from checkout session creation");return a}catch(e){throw console.error("Subscription service error:",e),e}},async getPaymentMethods(){try{const{data:t}=await Ae.auth.getUser();if(!t?.user)throw new Error("User not authenticated");const{data:e,error:s}=await Ae.from("payment_methods").select("*").eq("user_id",t.user.id).order("is_default",{ascending:!1});if(s)throw console.error("Error fetching payment methods:",s),s;return e||[]}catch(t){throw console.error("Subscription service error:",t),t}},async setDefaultPaymentMethod(t){try{const{data:e}=await Ae.auth.getUser();if(!e?.user)throw new Error("User not authenticated");const{error:s}=await Ae.from("payment_methods").update({is_default:!1}).eq("user_id",e.user.id);if(s)throw console.error("Error updating payment methods:",s),s;const{error:n}=await Ae.from("payment_methods").update({is_default:!0}).eq("id",t).eq("user_id",e.user.id);if(n)throw console.error("Error setting default payment method:",n),n}catch(e){throw console.error("Subscription service error:",e),e}},async removePaymentMethod(t){try{const{data:e}=await Ae.auth.getUser();if(!e?.user)throw new Error("User not authenticated");const{data:s,error:n}=await Ae.from("payment_methods").select("is_default").eq("id",t).eq("user_id",e.user.id).single();if(n)throw console.error("Error fetching payment method:",n),n;if(s.is_default)throw new Error("Cannot remove default payment method");const{error:a}=await Ae.from("payment_methods").delete().eq("id",t).eq("user_id",e.user.id);if(a)throw console.error("Error removing payment method:",a),a}catch(e){throw console.error("Subscription service error:",e),e}}},hl=Jr((t,e)=>({plans:[],currentSubscription:null,paymentMethods:[],loading:!1,error:null,clearError:()=>t({error:null}),fetchSubscriptionPlans:async()=>{t({loading:!0,error:null});try{const s=await Gn.getSubscriptionPlans();t({plans:s,loading:!1})}catch(s){console.error("Error in fetchSubscriptionPlans:",s),t({error:s.message||"Failed to fetch subscription plans",loading:!1})}},fetchCurrentSubscription:async()=>{t({loading:!0,error:null});try{const s=await Gn.getCurrentSubscription();t({currentSubscription:s,loading:!1})}catch(s){console.error("Error in fetchCurrentSubscription:",s),t({error:s.message||"Failed to fetch current subscription",loading:!1})}},fetchPaymentMethods:async()=>{t({loading:!0,error:null});try{const s=await Gn.getPaymentMethods();t({paymentMethods:s,loading:!1})}catch(s){console.error("Error in fetchPaymentMethods:",s),t({error:s.message||"Failed to fetch payment methods",loading:!1})}},createCheckoutSession:async s=>{t({loading:!0,error:null});try{const n=await Gn.createCheckoutSession(s);return t({loading:!1}),n}catch(n){throw console.error("Error in createCheckoutSession:",n),t({error:n.message||"Failed to create checkout session",loading:!1}),n}},cancelSubscription:async()=>{t({loading:!0,error:null});try{await Gn.cancelSubscription();const s=await Gn.getCurrentSubscription();t({currentSubscription:s,loading:!1})}catch(s){throw console.error("Error in cancelSubscription:",s),t({error:s.message||"Failed to cancel subscription",loading:!1}),s}},createSetupIntent:async()=>{t({loading:!0,error:null});try{const s=await Gn.createSetupIntent();return t({loading:!1}),s}catch(s){throw console.error("Error in createSetupIntent:",s),t({error:s.message||"Failed to create setup intent",loading:!1}),s}},setDefaultPaymentMethod:async s=>{t({loading:!0,error:null});try{await Gn.setDefaultPaymentMethod(s);const n=await Gn.getPaymentMethods();t({paymentMethods:n,loading:!1})}catch(n){throw console.error("Error in setDefaultPaymentMethod:",n),t({error:n.message||"Failed to set default payment method",loading:!1}),n}},removePaymentMethod:async s=>{t({loading:!0,error:null});try{await Gn.removePaymentMethod(s);const n=await Gn.getPaymentMethods();t({paymentMethods:n,loading:!1})}catch(n){throw console.error("Error in removePaymentMethod:",n),t({error:n.message||"Failed to remove payment method",loading:!1}),n}}})),e5=Jr((t,e)=>({activeTemplate:"small-business",loading:!1,error:null,clearError:()=>t({error:null}),getActiveTemplate:async()=>{t({loading:!0,error:null});try{const{data:s}=await Ae.from("user_settings").select("dashboard_settings").single();s?.dashboard_settings?.activeTemplate&&t({activeTemplate:s.dashboard_settings.activeTemplate}),t({loading:!1})}catch(s){console.error("Error getting active template:",s),t({error:s.message||"Failed to get active template",loading:!1})}},setActiveTemplate:async s=>{t({loading:!0,error:null});try{const{data:n}=await Ae.from("user_settings").select("dashboard_settings").single(),a={...n?.dashboard_settings,activeTemplate:s},{error:i}=await Ae.from("user_settings").update({dashboard_settings:a}).eq("user_id",(await Ae.auth.getUser()).data.user?.id);if(i)throw i;t({activeTemplate:s,loading:!1})}catch(n){throw console.error("Error setting active template:",n),t({error:n.message||"Failed to set active template",loading:!1}),n}}})),Uv={name:"Small Business",sidebarItems:[{label:"Dashboard",icon:"LayoutDashboard",path:"/dashboard"},{label:"CRM",icon:"Users",path:"/crm"},{label:"Customers",icon:"Users",path:"/customers"},{label:"Suppliers",icon:"Users",path:"/suppliers"},{label:"Calls",icon:"Phone",path:"/calls"},{label:"Quotes",icon:"Quote",path:"/quotes",section:"sales"},{label:"Invoices",icon:"FileText",path:"/invoices",section:"sales"},{label:"Revenue",icon:"DollarSign",path:"/revenue",section:"finance"},{label:"Expenses",icon:"Receipt",path:"/expenses",section:"finance"},{label:"Products",icon:"Package",path:"/products",section:"finance"},{label:"Inventory",icon:"Layers",path:"/inventory",section:"finance"},{label:"Purchases",icon:"ShoppingCart",path:"/purchases",section:"finance"}],dashboardCards:[{title:"Total Revenue",icon:"DollarSign",value:"0",change:"0%",trend:"up",color:"text-green-500",path:"/revenue"},{title:"Total Customers",icon:"Users",value:"0",change:"0%",trend:"up",color:"text-blue-500"},{title:"Total Products",icon:"Package",value:"0",change:"0%",trend:"up",color:"text-purple-500"},{title:"Pending Orders",icon:"ShoppingCart",value:"0",change:"0%",trend:"up",color:"text-amber-500"}],dashboardSections:{showPipeline:!0,showInventory:!0,showExpenses:!0,showCalendar:!0}},Vv={name:"Realtors",sidebarItems:[{label:"Dashboard",icon:"LayoutDashboard",path:"/dashboard"},{label:"Properties",icon:"Home",path:"/properties"},{label:"Clients",icon:"Users",path:"/customers"},{label:"Listings",icon:"FileText",path:"/listings",section:"sales"},{label:"Showings",icon:"Calendar",path:"/showings",section:"sales"},{label:"Commissions",icon:"DollarSign",path:"/revenue",section:"finance"},{label:"Expenses",icon:"Receipt",path:"/expenses",section:"finance"}],dashboardCards:[{title:"Total Commissions",icon:"DollarSign",value:"0",change:"0%",trend:"up",color:"text-green-500",path:"/revenue"},{title:"Active Listings",icon:"Home",value:"0",change:"0%",trend:"up",color:"text-blue-500"},{title:"Active Clients",icon:"Users",value:"0",change:"0%",trend:"up",color:"text-purple-500"},{title:"Showings This Week",icon:"Calendar",value:"0",change:"0%",trend:"up",color:"text-amber-500"}],dashboardSections:{showPipeline:!0,showInventory:!1,showExpenses:!0,showCalendar:!0}},A8=Jr(()=>({configs:{"small-business":Uv,realtors:Vv},getConfig:t=>t==="realtors"?Vv:Uv}));function _t(t){"@babel/helpers - typeof";return _t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_t(t)}function C8(t,e){if(_t(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,e||"default");if(_t(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function t5(t){var e=C8(t,"string");return _t(e)=="symbol"?e:e+""}function Ro(t,e,s){return(e=t5(e))in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function Yv(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function Vt(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?Yv(Object(s),!0).forEach(function(n){Ro(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Yv(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function Xf(t,e){if(t==null)return{};var s={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;s[n]=t[n]}return s}function Ha(t,e){if(t==null)return{};var s,n,a=Xf(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)s=i[n],e.indexOf(s)===-1&&{}.propertyIsEnumerable.call(t,s)&&(a[s]=t[s])}return a}function Gs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gv(t,e){for(var s=0;s<e.length;s++){var n=e[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,t5(n.key),n)}}function Ks(t,e,s){return e&&Gv(t.prototype,e),s&&Gv(t,s),Object.defineProperty(t,"prototype",{writable:!1}),t}function gf(t){return gf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},gf(t)}function s5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s5=function(){return!!t})()}function P8(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E8(t,e){if(e&&(_t(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P8(t)}function Cr(t,e,s){return e=gf(e),E8(t,s5()?Reflect.construct(e,s||[],gf(t).constructor):e.apply(t,s))}function yf(t,e){return yf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,n){return s.__proto__=n,s},yf(t,e)}function Pr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yf(t,e)}function r5(t){if(Array.isArray(t))return t}function D8(t,e){var s=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(s!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(s=s.call(t)).next,e!==0)for(;!(c=(n=i.call(s)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function G0(t,e){(e==null||e>t.length)&&(e=t.length);for(var s=0,n=Array(e);s<e;s++)n[s]=t[s];return n}function oy(t,e){if(t){if(typeof t=="string")return G0(t,e);var s={}.toString.call(t).slice(8,-1);return s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set"?Array.from(t):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?G0(t,e):void 0}}function n5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function el(t,e){return r5(t)||D8(t,e)||oy(t,e)||n5()}function a5(t){var e,s,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(s=a5(t[e]))&&(n&&(n+=" "),n+=s);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function ys(){for(var t,e,s=0,n="";s<arguments.length;)(t=arguments[s++])&&(e=a5(t))&&(n&&(n+=" "),n+=e);return n}function gs(){return gs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)({}).hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},gs.apply(null,arguments)}var L8=function(t,e,s,n,a,i,o,l){if(!t){var c;if(e===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[s,n,a,i,o,l],u=0;c=new Error(e.replace(/%s/g,function(){return d[u++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}},I8=L8;const bu=Qr(I8);var M8=function(){};function T8(t,e){var s={};return Object.keys(t).forEach(function(n){s[Gm(n)]=M8}),s}function Kv(t,e){return t[e]!==void 0}function Gm(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function F8(t){return!!t&&(typeof t!="function"||t.prototype&&t.prototype.isReactComponent)}function O8(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,yf(t,e)}function i5(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function o5(t){function e(s){var n=this.constructor.getDerivedStateFromProps(t,s);return n??null}this.setState(e.bind(this))}function l5(t,e){try{var s=this.props,n=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(s,n)}finally{this.props=s,this.state=n}}i5.__suppressDeprecationWarning=!0;o5.__suppressDeprecationWarning=!0;l5.__suppressDeprecationWarning=!0;function R8(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var s=null,n=null,a=null;if(typeof e.componentWillMount=="function"?s="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(s="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?n="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(n="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?a="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(a="UNSAFE_componentWillUpdate"),s!==null||n!==null||a!==null){var i=t.displayName||t.name,o=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+i+" uses "+o+" but also contains the following legacy lifecycles:"+(s!==null?`
  `+s:"")+(n!==null?`
  `+n:"")+(a!==null?`
  `+a:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=i5,e.componentWillReceiveProps=o5),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=l5;var l=e.componentDidUpdate;e.componentDidUpdate=function(d,u,h){var f=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:h;l.call(this,d,u,f)}}return t}var $8="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function c5(t,e,s){s===void 0&&(s=[]);var n=t.displayName||t.name||"Component",a=F8(t),i=Object.keys(e),o=i.map(Gm);a||!s.length||bu(!1);var l=function(d){O8(u,d);function u(){for(var f,m=arguments.length,g=new Array(m),x=0;x<m;x++)g[x]=arguments[x];f=d.call.apply(d,[this].concat(g))||this,f.handlers=Object.create(null),i.forEach(function(y){var b=e[y],k=function(E){if(f.props[b]){var I;f._notifying=!0;for(var _=arguments.length,v=new Array(_>1?_-1:0),P=1;P<_;P++)v[P-1]=arguments[P];(I=f.props)[b].apply(I,[E].concat(v)),f._notifying=!1}f.unmounted||f.setState(function(L){var S,C=L.values;return{values:gs(Object.create(null),C,(S={},S[y]=E,S))}})};f.handlers[b]=k}),s.length&&(f.attachRef=function(y){f.inner=y});var j=Object.create(null);return i.forEach(function(y){j[y]=f.props[Gm(y)]}),f.state={values:j,prevProps:{}},f}var h=u.prototype;return h.shouldComponentUpdate=function(){return!this._notifying},u.getDerivedStateFromProps=function(m,g){var x=g.values,j=g.prevProps,y={values:gs(Object.create(null),x),prevProps:{}};return i.forEach(function(b){y.prevProps[b]=m[b],!Kv(m,b)&&Kv(j,b)&&(y.values[b]=m[Gm(b)])}),y},h.componentWillUnmount=function(){this.unmounted=!0},h.render=function(){var m=this,g=this.props,x=g.innerRef,j=Xf(g,["innerRef"]);o.forEach(function(b){delete j[b]});var y={};return i.forEach(function(b){var k=m.props[b];y[b]=k!==void 0?k:m.state.values[b]}),ce.createElement(t,gs({},j,y,this.handlers,{ref:x||this.attachRef}))},u}(ce.Component);R8(l),l.displayName="Uncontrolled("+n+")",l.propTypes=gs({innerRef:function(){}},T8(e)),s.forEach(function(d){l.prototype[d]=function(){var h;return(h=this.inner)[d].apply(h,arguments)}});var c=l;return ce.forwardRef&&(c=ce.forwardRef(function(d,u){return ce.createElement(l,gs({},d,{innerRef:u,__source:{fileName:$8,lineNumber:128},__self:this}))}),c.propTypes=l.propTypes),c.ControlledComponent=t,c.deferControlTo=function(d,u,h){return u===void 0&&(u={}),c5(d,gs({},e,u),h)},c}var d5={exports:{}},z8="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",B8=z8,q8=B8;function u5(){}function h5(){}h5.resetWarningCache=u5;var H8=function(){function t(n,a,i,o,l,c){if(c!==q8){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function e(){return t}var s={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:h5,resetWarningCache:u5};return s.PropTypes=s,s};d5.exports=H8();var W8=d5.exports;const Te=Qr(W8);var bf="milliseconds",vu="seconds",wu="minutes",ju="hours",tl="day",wc="week",Nu="month",sl="year",rl="decade",nl="century",m5={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:60*60*1e3,day:24*60*60*1e3,week:7*24*60*60*1e3},U8={month:1,year:12,decade:10*12,century:100*12};function V8(t){return[31,Y8(t),31,30,31,30,31,31,30,31,30,31]}function Y8(t){return t%4===0&&t%100!==0||t%400===0?29:28}function ia(t,e,s){switch(t=new Date(t),s){case bf:case vu:case wu:case ju:case tl:case wc:return G8(t,e*m5[s]);case Nu:case sl:case rl:case nl:return K8(t,e*U8[s])}throw new TypeError('Invalid units: "'+s+'"')}function G8(t,e){var s=new Date(+t+e);return X8(t,s)}function K8(t,e){var s=t.getFullYear(),n=t.getMonth(),a=t.getDate(),i=s*12+n+e,o=Math.trunc(i/12),l=i%12,c=Math.min(a,V8(o)[l]),d=new Date(t);return d.setFullYear(o),d.setDate(1),d.setMonth(l),d.setDate(c),d}function X8(t,e){var s=t.getTimezoneOffset(),n=e.getTimezoneOffset(),a=n-s;return new Date(+e+a*m5.minutes)}function ku(t,e,s){return ia(t,-e,s)}function ur(t,e,s){switch(t=new Date(t),e){case nl:case rl:case sl:t=wf(t,0);case Nu:t=y5(t,1);case wc:case tl:t=Au(t,0);case ju:t=jc(t,0);case wu:t=Su(t,0);case vu:t=_u(t,0)}return e===rl&&(t=ku(t,al(t)%10,"year")),e===nl&&(t=ku(t,al(t)%100,"year")),e===wc&&(t=b5(t,0,s)),t}function vf(t,e,s){switch(t=new Date(t),t=ur(t,e,s),e){case nl:case rl:case sl:case Nu:case wc:t=ia(t,1,e),t=ku(t,1,tl),t.setHours(23,59,59,999);break;case tl:t.setHours(23,59,59,999);break;case ju:case wu:case vu:t=ia(t,1,e),t=ku(t,1,bf)}return t}var Ic=Tc(function(t,e){return t===e}),ly=Tc(function(t,e){return t!==e}),Qf=Tc(function(t,e){return t>e}),Xu=Tc(function(t,e){return t>=e}),cy=Tc(function(t,e){return t<e}),Mc=Tc(function(t,e){return t<=e});function f5(){return new Date(Math.min.apply(Math,arguments))}function p5(){return new Date(Math.max.apply(Math,arguments))}function x5(t,e,s,n){return n=n||"day",(!e||Xu(t,e,n))&&(!s||Mc(t,s,n))}var _u=lo("Milliseconds"),Su=lo("Seconds"),jc=lo("Minutes"),Au=lo("Hours"),g5=lo("Day"),y5=lo("Date"),wf=lo("Month"),al=lo("FullYear");function Q8(t,e){return e===void 0?al(ur(t,rl)):ia(t,e+10,sl)}function J8(t,e){return e===void 0?al(ur(t,nl)):ia(t,e+100,sl)}function b5(t,e,s){var n=(g5(t)+7-(s||0))%7;return e===void 0?n:ia(t,e-n,tl)}function Z8(t,e,s,n){var a,i,o;switch(s){case bf:case vu:case wu:case ju:case tl:case wc:a=e.getTime()-t.getTime();break;case Nu:case sl:case rl:case nl:a=(al(e)-al(t))*12+wf(e)-wf(t);break;default:throw new TypeError('Invalid units: "'+s+'"')}switch(s){case bf:i=1;break;case vu:i=1e3;break;case wu:i=1e3*60;break;case ju:i=1e3*60*60;break;case tl:i=1e3*60*60*24;break;case wc:i=1e3*60*60*24*7;break;case Nu:i=1;break;case sl:i=12;break;case rl:i=120;break;case nl:i=1200;break;default:throw new TypeError('Invalid units: "'+s+'"')}return o=a/i,n?o:Math.round(o)}function lo(t){var e=function(s){switch(s){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(t);return function(s,n){if(n===void 0)return s["get"+t]();var a=new Date(s);return a["set"+t](n),e&&a["get"+t]()!=n&&(t==="Hours"||n>=e&&a.getHours()-s.getHours()<Math.floor(n/e))&&a["set"+t](n+e),a}}function Tc(t){return function(e,s,n){return t(+ur(e,n),+ur(s,n))}}const Xv=Object.freeze(Object.defineProperty({__proto__:null,add:ia,century:J8,date:y5,day:g5,decade:Q8,diff:Z8,endOf:vf,eq:Ic,gt:Qf,gte:Xu,hours:Au,inRange:x5,lt:cy,lte:Mc,max:p5,milliseconds:_u,min:f5,minutes:jc,month:wf,neq:ly,seconds:Su,startOf:ur,subtract:ku,weekday:b5,year:al},Symbol.toStringTag,{value:"Module"}));function eE(t){if(Array.isArray(t))return G0(t)}function v5(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tE(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Km(t){return eE(t)||v5(t)||oy(t)||tE()}function sE(t,e,s){var n=-1,a=t.length;e<0&&(e=-e>a?0:a+e),s=s>a?a:s,s<0&&(s+=a),a=e>s?0:s-e>>>0,e>>>=0;for(var i=Array(a);++n<a;)i[n]=t[n+e];return i}var w5=sE;function rE(t,e){return t===e||t!==t&&e!==e}var Qu=rE,nE=typeof Fr=="object"&&Fr&&Fr.Object===Object&&Fr,j5=nE,aE=j5,iE=typeof self=="object"&&self&&self.Object===Object&&self,oE=aE||iE||Function("return this")(),Ua=oE,lE=Ua,cE=lE.Symbol,Fc=cE,Qv=Fc,N5=Object.prototype,dE=N5.hasOwnProperty,uE=N5.toString,Pd=Qv?Qv.toStringTag:void 0;function hE(t){var e=dE.call(t,Pd),s=t[Pd];try{t[Pd]=void 0;var n=!0}catch{}var a=uE.call(t);return n&&(e?t[Pd]=s:delete t[Pd]),a}var mE=hE,fE=Object.prototype,pE=fE.toString;function xE(t){return pE.call(t)}var gE=xE,Jv=Fc,yE=mE,bE=gE,vE="[object Null]",wE="[object Undefined]",Zv=Jv?Jv.toStringTag:void 0;function jE(t){return t==null?t===void 0?wE:vE:Zv&&Zv in Object(t)?yE(t):bE(t)}var Oc=jE;function NE(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var ki=NE,kE=Oc,_E=ki,SE="[object AsyncFunction]",AE="[object Function]",CE="[object GeneratorFunction]",PE="[object Proxy]";function EE(t){if(!_E(t))return!1;var e=kE(t);return e==AE||e==CE||e==SE||e==PE}var dy=EE,DE=9007199254740991;function LE(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=DE}var uy=LE,IE=dy,ME=uy;function TE(t){return t!=null&&ME(t.length)&&!IE(t)}var Ju=TE,FE=9007199254740991,OE=/^(?:0|[1-9]\d*)$/;function RE(t,e){var s=typeof t;return e=e??FE,!!e&&(s=="number"||s!="symbol"&&OE.test(t))&&t>-1&&t%1==0&&t<e}var hy=RE,$E=Qu,zE=Ju,BE=hy,qE=ki;function HE(t,e,s){if(!qE(s))return!1;var n=typeof e;return(n=="number"?zE(s)&&BE(e,s.length):n=="string"&&e in s)?$E(s[e],t):!1}var Jf=HE,WE=/\s/;function UE(t){for(var e=t.length;e--&&WE.test(t.charAt(e)););return e}var VE=UE,YE=VE,GE=/^\s+/;function KE(t){return t&&t.slice(0,YE(t)+1).replace(GE,"")}var XE=KE;function QE(t){return t!=null&&typeof t=="object"}var co=QE,JE=Oc,ZE=co,eD="[object Symbol]";function tD(t){return typeof t=="symbol"||ZE(t)&&JE(t)==eD}var Zu=tD,sD=XE,e1=ki,rD=Zu,t1=NaN,nD=/^[-+]0x[0-9a-f]+$/i,aD=/^0b[01]+$/i,iD=/^0o[0-7]+$/i,oD=parseInt;function lD(t){if(typeof t=="number")return t;if(rD(t))return t1;if(e1(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=e1(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=sD(t);var s=aD.test(t);return s||iD.test(t)?oD(t.slice(2),s?2:8):nD.test(t)?t1:+t}var cD=lD,dD=cD,s1=1/0,uD=17976931348623157e292;function hD(t){if(!t)return t===0?t:0;if(t=dD(t),t===s1||t===-s1){var e=t<0?-1:1;return e*uD}return t===t?t:0}var k5=hD,mD=k5;function fD(t){var e=mD(t),s=e%1;return e===e?s?e-s:e:0}var _5=fD,pD=w5,xD=Jf,gD=_5,yD=Math.ceil,bD=Math.max;function vD(t,e,s){(s?xD(t,e,s):e===void 0)?e=1:e=bD(gD(e),0);var n=t==null?0:t.length;if(!n||e<1)return[];for(var a=0,i=0,o=Array(yD(n/e));a<n;)o[i++]=pD(t,a,a+=e);return o}var wD=vD;const jD=Qr(wD);function eh(t){return t&&t.ownerDocument||document}function ND(t){var e=eh(t);return e&&e.defaultView||window}function kD(t,e){return ND(t).getComputedStyle(t,e)}var _D=/([A-Z])/g;function SD(t){return t.replace(_D,"-$1").toLowerCase()}var AD=/^ms-/;function lm(t){return SD(t).replace(AD,"-ms-")}var CD=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function PD(t){return!!(t&&CD.test(t))}function nc(t,e){var s="",n="";if(typeof e=="string")return t.style.getPropertyValue(lm(e))||kD(t).getPropertyValue(lm(e));Object.keys(e).forEach(function(a){var i=e[a];!i&&i!==0?t.style.removeProperty(lm(a)):PD(a)?n+=a+"("+i+") ":s+=lm(a)+": "+i+";"}),n&&(s+="transform: "+n+";"),t.style.cssText+=";"+s}function Cu(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}function ED(t){return"nodeType"in t&&t.nodeType===document.DOCUMENT_NODE}function my(t){return"window"in t&&t.window===t?t:ED(t)&&t.defaultView||!1}function S5(t){var e=t==="pageXOffset"?"scrollLeft":"scrollTop";function s(n,a){var i=my(n);if(a===void 0)return i?i[t]:n[e];i?i.scrollTo(i[t],a):n[e]=a}return s}const A5=S5("pageXOffset"),C5=S5("pageYOffset");function Vo(t){var e=eh(t),s={top:0,left:0,height:0,width:0},n=e&&e.documentElement;return!n||!Cu(n,t)||(t.getBoundingClientRect!==void 0&&(s=t.getBoundingClientRect()),s={top:s.top+C5(n)-(n.clientTop||0),left:s.left+A5(n)-(n.clientLeft||0),width:s.width,height:s.height}),s}var DD=function(e){return!!e&&"offsetParent"in e};function LD(t){for(var e=eh(t),s=t&&t.offsetParent;DD(s)&&s.nodeName!=="HTML"&&nc(s,"position")==="static";)s=s.offsetParent;return s||e.documentElement}var ID=function(e){return e.nodeName&&e.nodeName.toLowerCase()};function P5(t,e){var s={top:0,left:0},n;if(nc(t,"position")==="fixed")n=t.getBoundingClientRect();else{var a=e||LD(t);n=Vo(t),ID(a)!=="html"&&(s=Vo(a));var i=String(nc(a,"borderTopWidth")||0);s.top+=parseInt(i,10)-C5(a)||0;var o=String(nc(a,"borderLeftWidth")||0);s.left+=parseInt(o,10)-A5(a)||0}var l=String(nc(t,"marginTop")||0),c=String(nc(t,"marginLeft")||0);return gs({},n,{top:n.top-s.top-(parseInt(l,10)||0),left:n.left-s.left-(parseInt(c,10)||0)})}const fy=!!(typeof window<"u"&&window.document&&window.document.createElement);var r1=new Date().getTime();function MD(t){var e=new Date().getTime(),s=Math.max(0,16-(e-r1)),n=setTimeout(t,s);return r1=e,n}var TD=["","webkit","moz","o","ms"],K0="clearTimeout",X0=MD,n1=function(e,s){return e+(e?s[0].toUpperCase()+s.substr(1):s)+"AnimationFrame"};fy&&TD.some(function(t){var e=n1(t,"request");return e in window&&(K0=n1(t,"cancel"),X0=function(n){return window[e](n)}),!!X0});var a1=function(e){typeof window[K0]=="function"&&window[K0](e)},E5=X0,Bx;function FD(t,e){if(!Bx){var s=document.body,n=s.matches||s.matchesSelector||s.webkitMatchesSelector||s.mozMatchesSelector||s.msMatchesSelector;Bx=function(i,o){return n.call(i,o)}}return Bx(t,e)}var OD=Function.prototype.bind.call(Function.prototype.call,[].slice);function RD(t,e){return OD(t.querySelectorAll(e))}var Q0=!1,J0=!1;try{var qx={get passive(){return Q0=!0},get once(){return J0=Q0=!0}};fy&&(window.addEventListener("test",qx,qx),window.removeEventListener("test",qx,!0))}catch{}function $D(t,e,s,n){if(n&&typeof n!="boolean"&&!J0){var a=n.once,i=n.capture,o=s;!J0&&a&&(o=s.__once||function l(c){this.removeEventListener(e,l,i),s.call(this,c)},s.__once=o),t.addEventListener(e,o,Q0?n:i)}t.addEventListener(e,s,n)}function zD(t){const e=U.useRef(t);return U.useEffect(()=>{e.current=t},[t]),e}function i1(t){const e=zD(t);return U.useCallback(function(...s){return e.current&&e.current(...s)},[e])}function o1(){return U.useState(null)}function BD(){const t=U.useRef(!0),e=U.useRef(()=>t.current);return U.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function qD(t){const e=BD();return[t[0],U.useCallback(s=>{if(e())return t[1](s)},[e,t[1]])]}var Gr="top",Dn="bottom",Ln="right",Kr="left",py="auto",th=[Gr,Dn,Ln,Kr],Nc="start",Pu="end",HD="clippingParents",D5="viewport",Ed="popper",WD="reference",l1=th.reduce(function(t,e){return t.concat([e+"-"+Nc,e+"-"+Pu])},[]),xy=[].concat(th,[py]).reduce(function(t,e){return t.concat([e,e+"-"+Nc,e+"-"+Pu])},[]),UD="beforeRead",VD="read",YD="afterRead",GD="beforeMain",KD="main",XD="afterMain",QD="beforeWrite",JD="write",ZD="afterWrite",e7=[UD,VD,YD,GD,KD,XD,QD,JD,ZD];function $a(t){return t.split("-")[0]}function pn(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function il(t){var e=pn(t).Element;return t instanceof e||t instanceof Element}function za(t){var e=pn(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function gy(t){if(typeof ShadowRoot>"u")return!1;var e=pn(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}var Yo=Math.max,jf=Math.min,kc=Math.round;function Z0(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function L5(){return!/^((?!chrome|android).)*safari/i.test(Z0())}function _c(t,e,s){e===void 0&&(e=!1),s===void 0&&(s=!1);var n=t.getBoundingClientRect(),a=1,i=1;e&&za(t)&&(a=t.offsetWidth>0&&kc(n.width)/t.offsetWidth||1,i=t.offsetHeight>0&&kc(n.height)/t.offsetHeight||1);var o=il(t)?pn(t):window,l=o.visualViewport,c=!L5()&&s,d=(n.left+(c&&l?l.offsetLeft:0))/a,u=(n.top+(c&&l?l.offsetTop:0))/i,h=n.width/a,f=n.height/i;return{width:h,height:f,top:u,right:d+h,bottom:u+f,left:d,x:d,y:u}}function yy(t){var e=_c(t),s=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-s)<=1&&(s=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:s,height:n}}function I5(t,e){var s=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(s&&gy(s)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Zi(t){return t?(t.nodeName||"").toLowerCase():null}function ji(t){return pn(t).getComputedStyle(t)}function t7(t){return["table","td","th"].indexOf(Zi(t))>=0}function uo(t){return((il(t)?t.ownerDocument:t.document)||window.document).documentElement}function Zf(t){return Zi(t)==="html"?t:t.assignedSlot||t.parentNode||(gy(t)?t.host:null)||uo(t)}function c1(t){return!za(t)||ji(t).position==="fixed"?null:t.offsetParent}function s7(t){var e=/firefox/i.test(Z0()),s=/Trident/i.test(Z0());if(s&&za(t)){var n=ji(t);if(n.position==="fixed")return null}var a=Zf(t);for(gy(a)&&(a=a.host);za(a)&&["html","body"].indexOf(Zi(a))<0;){var i=ji(a);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||e&&i.willChange==="filter"||e&&i.filter&&i.filter!=="none")return a;a=a.parentNode}return null}function sh(t){for(var e=pn(t),s=c1(t);s&&t7(s)&&ji(s).position==="static";)s=c1(s);return s&&(Zi(s)==="html"||Zi(s)==="body"&&ji(s).position==="static")?e:s||s7(t)||e}function by(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function su(t,e,s){return Yo(t,jf(e,s))}function r7(t,e,s){var n=su(t,e,s);return n>s?s:n}function M5(){return{top:0,right:0,bottom:0,left:0}}function T5(t){return Object.assign({},M5(),t)}function F5(t,e){return e.reduce(function(s,n){return s[n]=t,s},{})}var n7=function(e,s){return e=typeof e=="function"?e(Object.assign({},s.rects,{placement:s.placement})):e,T5(typeof e!="number"?e:F5(e,th))};function a7(t){var e,s=t.state,n=t.name,a=t.options,i=s.elements.arrow,o=s.modifiersData.popperOffsets,l=$a(s.placement),c=by(l),d=[Kr,Ln].indexOf(l)>=0,u=d?"height":"width";if(!(!i||!o)){var h=n7(a.padding,s),f=yy(i),m=c==="y"?Gr:Kr,g=c==="y"?Dn:Ln,x=s.rects.reference[u]+s.rects.reference[c]-o[c]-s.rects.popper[u],j=o[c]-s.rects.reference[c],y=sh(i),b=y?c==="y"?y.clientHeight||0:y.clientWidth||0:0,k=x/2-j/2,A=h[m],E=b-f[u]-h[g],I=b/2-f[u]/2+k,_=su(A,I,E),v=c;s.modifiersData[n]=(e={},e[v]=_,e.centerOffset=_-I,e)}}function i7(t){var e=t.state,s=t.options,n=s.element,a=n===void 0?"[data-popper-arrow]":n;a!=null&&(typeof a=="string"&&(a=e.elements.popper.querySelector(a),!a)||I5(e.elements.popper,a)&&(e.elements.arrow=a))}const o7={name:"arrow",enabled:!0,phase:"main",fn:a7,effect:i7,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Sc(t){return t.split("-")[1]}var l7={top:"auto",right:"auto",bottom:"auto",left:"auto"};function c7(t,e){var s=t.x,n=t.y,a=e.devicePixelRatio||1;return{x:kc(s*a)/a||0,y:kc(n*a)/a||0}}function d1(t){var e,s=t.popper,n=t.popperRect,a=t.placement,i=t.variation,o=t.offsets,l=t.position,c=t.gpuAcceleration,d=t.adaptive,u=t.roundOffsets,h=t.isFixed,f=o.x,m=f===void 0?0:f,g=o.y,x=g===void 0?0:g,j=typeof u=="function"?u({x:m,y:x}):{x:m,y:x};m=j.x,x=j.y;var y=o.hasOwnProperty("x"),b=o.hasOwnProperty("y"),k=Kr,A=Gr,E=window;if(d){var I=sh(s),_="clientHeight",v="clientWidth";if(I===pn(s)&&(I=uo(s),ji(I).position!=="static"&&l==="absolute"&&(_="scrollHeight",v="scrollWidth")),I=I,a===Gr||(a===Kr||a===Ln)&&i===Pu){A=Dn;var P=h&&I===E&&E.visualViewport?E.visualViewport.height:I[_];x-=P-n.height,x*=c?1:-1}if(a===Kr||(a===Gr||a===Dn)&&i===Pu){k=Ln;var L=h&&I===E&&E.visualViewport?E.visualViewport.width:I[v];m-=L-n.width,m*=c?1:-1}}var S=Object.assign({position:l},d&&l7),C=u===!0?c7({x:m,y:x},pn(s)):{x:m,y:x};if(m=C.x,x=C.y,c){var O;return Object.assign({},S,(O={},O[A]=b?"0":"",O[k]=y?"0":"",O.transform=(E.devicePixelRatio||1)<=1?"translate("+m+"px, "+x+"px)":"translate3d("+m+"px, "+x+"px, 0)",O))}return Object.assign({},S,(e={},e[A]=b?x+"px":"",e[k]=y?m+"px":"",e.transform="",e))}function d7(t){var e=t.state,s=t.options,n=s.gpuAcceleration,a=n===void 0?!0:n,i=s.adaptive,o=i===void 0?!0:i,l=s.roundOffsets,c=l===void 0?!0:l,d={placement:$a(e.placement),variation:Sc(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:a,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,d1(Object.assign({},d,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,d1(Object.assign({},d,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const u7={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:d7,data:{}};var cm={passive:!0};function h7(t){var e=t.state,s=t.instance,n=t.options,a=n.scroll,i=a===void 0?!0:a,o=n.resize,l=o===void 0?!0:o,c=pn(e.elements.popper),d=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&d.forEach(function(u){u.addEventListener("scroll",s.update,cm)}),l&&c.addEventListener("resize",s.update,cm),function(){i&&d.forEach(function(u){u.removeEventListener("scroll",s.update,cm)}),l&&c.removeEventListener("resize",s.update,cm)}}const m7={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:h7,data:{}};var f7={left:"right",right:"left",bottom:"top",top:"bottom"};function Xm(t){return t.replace(/left|right|bottom|top/g,function(e){return f7[e]})}var p7={start:"end",end:"start"};function u1(t){return t.replace(/start|end/g,function(e){return p7[e]})}function vy(t){var e=pn(t),s=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:s,scrollTop:n}}function wy(t){return _c(uo(t)).left+vy(t).scrollLeft}function x7(t,e){var s=pn(t),n=uo(t),a=s.visualViewport,i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;var d=L5();(d||!d&&e==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l+wy(t),y:c}}function g7(t){var e,s=uo(t),n=vy(t),a=(e=t.ownerDocument)==null?void 0:e.body,i=Yo(s.scrollWidth,s.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),o=Yo(s.scrollHeight,s.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),l=-n.scrollLeft+wy(t),c=-n.scrollTop;return ji(a||s).direction==="rtl"&&(l+=Yo(s.clientWidth,a?a.clientWidth:0)-i),{width:i,height:o,x:l,y:c}}function jy(t){var e=ji(t),s=e.overflow,n=e.overflowX,a=e.overflowY;return/auto|scroll|overlay|hidden/.test(s+a+n)}function O5(t){return["html","body","#document"].indexOf(Zi(t))>=0?t.ownerDocument.body:za(t)&&jy(t)?t:O5(Zf(t))}function ru(t,e){var s;e===void 0&&(e=[]);var n=O5(t),a=n===((s=t.ownerDocument)==null?void 0:s.body),i=pn(n),o=a?[i].concat(i.visualViewport||[],jy(n)?n:[]):n,l=e.concat(o);return a?l:l.concat(ru(Zf(o)))}function eg(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function y7(t,e){var s=_c(t,!1,e==="fixed");return s.top=s.top+t.clientTop,s.left=s.left+t.clientLeft,s.bottom=s.top+t.clientHeight,s.right=s.left+t.clientWidth,s.width=t.clientWidth,s.height=t.clientHeight,s.x=s.left,s.y=s.top,s}function h1(t,e,s){return e===D5?eg(x7(t,s)):il(e)?y7(e,s):eg(g7(uo(t)))}function b7(t){var e=ru(Zf(t)),s=["absolute","fixed"].indexOf(ji(t).position)>=0,n=s&&za(t)?sh(t):t;return il(n)?e.filter(function(a){return il(a)&&I5(a,n)&&Zi(a)!=="body"}):[]}function v7(t,e,s,n){var a=e==="clippingParents"?b7(t):[].concat(e),i=[].concat(a,[s]),o=i[0],l=i.reduce(function(c,d){var u=h1(t,d,n);return c.top=Yo(u.top,c.top),c.right=jf(u.right,c.right),c.bottom=jf(u.bottom,c.bottom),c.left=Yo(u.left,c.left),c},h1(t,o,n));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function R5(t){var e=t.reference,s=t.element,n=t.placement,a=n?$a(n):null,i=n?Sc(n):null,o=e.x+e.width/2-s.width/2,l=e.y+e.height/2-s.height/2,c;switch(a){case Gr:c={x:o,y:e.y-s.height};break;case Dn:c={x:o,y:e.y+e.height};break;case Ln:c={x:e.x+e.width,y:l};break;case Kr:c={x:e.x-s.width,y:l};break;default:c={x:e.x,y:e.y}}var d=a?by(a):null;if(d!=null){var u=d==="y"?"height":"width";switch(i){case Nc:c[d]=c[d]-(e[u]/2-s[u]/2);break;case Pu:c[d]=c[d]+(e[u]/2-s[u]/2);break}}return c}function Eu(t,e){e===void 0&&(e={});var s=e,n=s.placement,a=n===void 0?t.placement:n,i=s.strategy,o=i===void 0?t.strategy:i,l=s.boundary,c=l===void 0?HD:l,d=s.rootBoundary,u=d===void 0?D5:d,h=s.elementContext,f=h===void 0?Ed:h,m=s.altBoundary,g=m===void 0?!1:m,x=s.padding,j=x===void 0?0:x,y=T5(typeof j!="number"?j:F5(j,th)),b=f===Ed?WD:Ed,k=t.rects.popper,A=t.elements[g?b:f],E=v7(il(A)?A:A.contextElement||uo(t.elements.popper),c,u,o),I=_c(t.elements.reference),_=R5({reference:I,element:k,strategy:"absolute",placement:a}),v=eg(Object.assign({},k,_)),P=f===Ed?v:I,L={top:E.top-P.top+y.top,bottom:P.bottom-E.bottom+y.bottom,left:E.left-P.left+y.left,right:P.right-E.right+y.right},S=t.modifiersData.offset;if(f===Ed&&S){var C=S[a];Object.keys(L).forEach(function(O){var z=[Ln,Dn].indexOf(O)>=0?1:-1,Z=[Gr,Dn].indexOf(O)>=0?"y":"x";L[O]+=C[Z]*z})}return L}function w7(t,e){e===void 0&&(e={});var s=e,n=s.placement,a=s.boundary,i=s.rootBoundary,o=s.padding,l=s.flipVariations,c=s.allowedAutoPlacements,d=c===void 0?xy:c,u=Sc(n),h=u?l?l1:l1.filter(function(g){return Sc(g)===u}):th,f=h.filter(function(g){return d.indexOf(g)>=0});f.length===0&&(f=h);var m=f.reduce(function(g,x){return g[x]=Eu(t,{placement:x,boundary:a,rootBoundary:i,padding:o})[$a(x)],g},{});return Object.keys(m).sort(function(g,x){return m[g]-m[x]})}function j7(t){if($a(t)===py)return[];var e=Xm(t);return[u1(t),e,u1(e)]}function N7(t){var e=t.state,s=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var a=s.mainAxis,i=a===void 0?!0:a,o=s.altAxis,l=o===void 0?!0:o,c=s.fallbackPlacements,d=s.padding,u=s.boundary,h=s.rootBoundary,f=s.altBoundary,m=s.flipVariations,g=m===void 0?!0:m,x=s.allowedAutoPlacements,j=e.options.placement,y=$a(j),b=y===j,k=c||(b||!g?[Xm(j)]:j7(j)),A=[j].concat(k).reduce(function(B,K){return B.concat($a(K)===py?w7(e,{placement:K,boundary:u,rootBoundary:h,padding:d,flipVariations:g,allowedAutoPlacements:x}):K)},[]),E=e.rects.reference,I=e.rects.popper,_=new Map,v=!0,P=A[0],L=0;L<A.length;L++){var S=A[L],C=$a(S),O=Sc(S)===Nc,z=[Gr,Dn].indexOf(C)>=0,Z=z?"width":"height",q=Eu(e,{placement:S,boundary:u,rootBoundary:h,altBoundary:f,padding:d}),R=z?O?Ln:Kr:O?Dn:Gr;E[Z]>I[Z]&&(R=Xm(R));var X=Xm(R),$=[];if(i&&$.push(q[C]<=0),l&&$.push(q[R]<=0,q[X]<=0),$.every(function(B){return B})){P=S,v=!1;break}_.set(S,$)}if(v)for(var J=g?3:1,se=function(K){var Y=A.find(function(re){var ie=_.get(re);if(ie)return ie.slice(0,K).every(function(he){return he})});if(Y)return P=Y,"break"},M=J;M>0;M--){var T=se(M);if(T==="break")break}e.placement!==P&&(e.modifiersData[n]._skip=!0,e.placement=P,e.reset=!0)}}const k7={name:"flip",enabled:!0,phase:"main",fn:N7,requiresIfExists:["offset"],data:{_skip:!1}};function m1(t,e,s){return s===void 0&&(s={x:0,y:0}),{top:t.top-e.height-s.y,right:t.right-e.width+s.x,bottom:t.bottom-e.height+s.y,left:t.left-e.width-s.x}}function f1(t){return[Gr,Ln,Dn,Kr].some(function(e){return t[e]>=0})}function _7(t){var e=t.state,s=t.name,n=e.rects.reference,a=e.rects.popper,i=e.modifiersData.preventOverflow,o=Eu(e,{elementContext:"reference"}),l=Eu(e,{altBoundary:!0}),c=m1(o,n),d=m1(l,a,i),u=f1(c),h=f1(d);e.modifiersData[s]={referenceClippingOffsets:c,popperEscapeOffsets:d,isReferenceHidden:u,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":h})}const S7={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:_7};function A7(t,e,s){var n=$a(t),a=[Kr,Gr].indexOf(n)>=0?-1:1,i=typeof s=="function"?s(Object.assign({},e,{placement:t})):s,o=i[0],l=i[1];return o=o||0,l=(l||0)*a,[Kr,Ln].indexOf(n)>=0?{x:l,y:o}:{x:o,y:l}}function C7(t){var e=t.state,s=t.options,n=t.name,a=s.offset,i=a===void 0?[0,0]:a,o=xy.reduce(function(u,h){return u[h]=A7(h,e.rects,i),u},{}),l=o[e.placement],c=l.x,d=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=d),e.modifiersData[n]=o}const P7={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:C7};function E7(t){var e=t.state,s=t.name;e.modifiersData[s]=R5({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const D7={name:"popperOffsets",enabled:!0,phase:"read",fn:E7,data:{}};function L7(t){return t==="x"?"y":"x"}function I7(t){var e=t.state,s=t.options,n=t.name,a=s.mainAxis,i=a===void 0?!0:a,o=s.altAxis,l=o===void 0?!1:o,c=s.boundary,d=s.rootBoundary,u=s.altBoundary,h=s.padding,f=s.tether,m=f===void 0?!0:f,g=s.tetherOffset,x=g===void 0?0:g,j=Eu(e,{boundary:c,rootBoundary:d,padding:h,altBoundary:u}),y=$a(e.placement),b=Sc(e.placement),k=!b,A=by(y),E=L7(A),I=e.modifiersData.popperOffsets,_=e.rects.reference,v=e.rects.popper,P=typeof x=="function"?x(Object.assign({},e.rects,{placement:e.placement})):x,L=typeof P=="number"?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),S=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,C={x:0,y:0};if(I){if(i){var O,z=A==="y"?Gr:Kr,Z=A==="y"?Dn:Ln,q=A==="y"?"height":"width",R=I[A],X=R+j[z],$=R-j[Z],J=m?-v[q]/2:0,se=b===Nc?_[q]:v[q],M=b===Nc?-v[q]:-_[q],T=e.elements.arrow,B=m&&T?yy(T):{width:0,height:0},K=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:M5(),Y=K[z],re=K[Z],ie=su(0,_[q],B[q]),he=k?_[q]/2-J-ie-Y-L.mainAxis:se-ie-Y-L.mainAxis,Ce=k?-_[q]/2+J+ie+re+L.mainAxis:M+ie+re+L.mainAxis,be=e.elements.arrow&&sh(e.elements.arrow),Fe=be?A==="y"?be.clientTop||0:be.clientLeft||0:0,Re=(O=S?.[A])!=null?O:0,He=R+he-Re-Fe,ke=R+Ce-Re,ae=su(m?jf(X,He):X,R,m?Yo($,ke):$);I[A]=ae,C[A]=ae-R}if(l){var et,te=A==="x"?Gr:Kr,oe=A==="x"?Dn:Ln,ue=I[E],_e=E==="y"?"height":"width",we=ue+j[te],Se=ue-j[oe],De=[Gr,Kr].indexOf(y)!==-1,ze=(et=S?.[E])!=null?et:0,Ue=De?we:ue-_[_e]-v[_e]-ze+L.altAxis,Xe=De?ue+_[_e]+v[_e]-ze-L.altAxis:Se,it=m&&De?r7(Ue,ue,Xe):su(m?Ue:we,ue,m?Xe:Se);I[E]=it,C[E]=it-ue}e.modifiersData[n]=C}}const M7={name:"preventOverflow",enabled:!0,phase:"main",fn:I7,requiresIfExists:["offset"]};function T7(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function F7(t){return t===pn(t)||!za(t)?vy(t):T7(t)}function O7(t){var e=t.getBoundingClientRect(),s=kc(e.width)/t.offsetWidth||1,n=kc(e.height)/t.offsetHeight||1;return s!==1||n!==1}function R7(t,e,s){s===void 0&&(s=!1);var n=za(e),a=za(e)&&O7(e),i=uo(e),o=_c(t,a,s),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(n||!n&&!s)&&((Zi(e)!=="body"||jy(i))&&(l=F7(e)),za(e)?(c=_c(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):i&&(c.x=wy(i))),{x:o.left+l.scrollLeft-c.x,y:o.top+l.scrollTop-c.y,width:o.width,height:o.height}}function $7(t){var e=new Map,s=new Set,n=[];t.forEach(function(i){e.set(i.name,i)});function a(i){s.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(l){if(!s.has(l)){var c=e.get(l);c&&a(c)}}),n.push(i)}return t.forEach(function(i){s.has(i.name)||a(i)}),n}function z7(t){var e=$7(t);return e7.reduce(function(s,n){return s.concat(e.filter(function(a){return a.phase===n}))},[])}function B7(t){var e;return function(){return e||(e=new Promise(function(s){Promise.resolve().then(function(){e=void 0,s(t())})})),e}}function q7(t){var e=t.reduce(function(s,n){var a=s[n.name];return s[n.name]=a?Object.assign({},a,n,{options:Object.assign({},a.options,n.options),data:Object.assign({},a.data,n.data)}):n,s},{});return Object.keys(e).map(function(s){return e[s]})}var p1={placement:"bottom",modifiers:[],strategy:"absolute"};function x1(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function H7(t){t===void 0&&(t={});var e=t,s=e.defaultModifiers,n=s===void 0?[]:s,a=e.defaultOptions,i=a===void 0?p1:a;return function(l,c,d){d===void 0&&(d=i);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},p1,i),modifiersData:{},elements:{reference:l,popper:c},attributes:{},styles:{}},h=[],f=!1,m={state:u,setOptions:function(y){var b=typeof y=="function"?y(u.options):y;x(),u.options=Object.assign({},i,u.options,b),u.scrollParents={reference:il(l)?ru(l):l.contextElement?ru(l.contextElement):[],popper:ru(c)};var k=z7(q7([].concat(n,u.options.modifiers)));return u.orderedModifiers=k.filter(function(A){return A.enabled}),g(),m.update()},forceUpdate:function(){if(!f){var y=u.elements,b=y.reference,k=y.popper;if(x1(b,k)){u.rects={reference:R7(b,sh(k),u.options.strategy==="fixed"),popper:yy(k)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(L){return u.modifiersData[L.name]=Object.assign({},L.data)});for(var A=0;A<u.orderedModifiers.length;A++){if(u.reset===!0){u.reset=!1,A=-1;continue}var E=u.orderedModifiers[A],I=E.fn,_=E.options,v=_===void 0?{}:_,P=E.name;typeof I=="function"&&(u=I({state:u,options:v,name:P,instance:m})||u)}}}},update:B7(function(){return new Promise(function(j){m.forceUpdate(),j(u)})}),destroy:function(){x(),f=!0}};if(!x1(l,c))return m;m.setOptions(d).then(function(j){!f&&d.onFirstUpdate&&d.onFirstUpdate(j)});function g(){u.orderedModifiers.forEach(function(j){var y=j.name,b=j.options,k=b===void 0?{}:b,A=j.effect;if(typeof A=="function"){var E=A({state:u,name:y,instance:m,options:k}),I=function(){};h.push(E||I)}})}function x(){h.forEach(function(j){return j()}),h=[]}return m}}var W7=H7({defaultModifiers:[S7,D7,u7,m7,P7,k7,M7,o7]}),g1=function(e){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},U7={name:"applyStyles",enabled:!1},V7={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var s=e.state;return function(){var n=s.elements,a=n.reference,i=n.popper;if("removeAttribute"in a){var o=(a.getAttribute("aria-describedby")||"").split(",").filter(function(l){return l.trim()!==i.id});o.length?a.setAttribute("aria-describedby",o.join(",")):a.removeAttribute("aria-describedby")}}},fn:function(e){var s,n=e.state,a=n.elements,i=a.popper,o=a.reference,l=(s=i.getAttribute("role"))==null?void 0:s.toLowerCase();if(i.id&&l==="tooltip"&&"setAttribute"in o){var c=o.getAttribute("aria-describedby");if(c&&c.split(",").indexOf(i.id)!==-1)return;o.setAttribute("aria-describedby",c?c+","+i.id:i.id)}}},Y7=[];function G7(t,e,s){var n=s===void 0?{}:s,a=n.enabled,i=a===void 0?!0:a,o=n.placement,l=o===void 0?"bottom":o,c=n.strategy,d=c===void 0?"absolute":c,u=n.modifiers,h=u===void 0?Y7:u,f=Xf(n,["enabled","placement","strategy","modifiers"]),m=U.useRef(),g=U.useCallback(function(){var A;(A=m.current)==null||A.update()},[]),x=U.useCallback(function(){var A;(A=m.current)==null||A.forceUpdate()},[]),j=qD(U.useState({placement:l,update:g,forceUpdate:x,attributes:{},styles:{popper:g1(d),arrow:{}}})),y=j[0],b=j[1],k=U.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(E){var I=E.state,_={},v={};Object.keys(I.elements).forEach(function(P){_[P]=I.styles[P],v[P]=I.attributes[P]}),b({state:I,styles:_,attributes:v,update:g,forceUpdate:x,placement:I.placement})}}},[g,x,b]);return U.useEffect(function(){!m.current||!i||m.current.setOptions({placement:l,strategy:d,modifiers:[].concat(h,[k,U7])})},[d,l,k,i]),U.useEffect(function(){if(!(!i||t==null||e==null))return m.current=W7(t,e,gs({},f,{placement:l,strategy:d,modifiers:[].concat(h,[V7,k])})),function(){m.current!=null&&(m.current.destroy(),m.current=void 0,b(function(A){return gs({},A,{attributes:{},styles:{popper:g1(d)}})}))}},[i,t,e]),y}function K7(t,e,s,n){var a=n&&typeof n!="boolean"?n.capture:n;t.removeEventListener(e,s,a),s.__once&&t.removeEventListener(e,s.__once,a)}function Hd(t,e,s,n){return $D(t,e,s,n),function(){K7(t,e,s,n)}}var X7=function(){},Q7=X7;const J7=Qr(Q7);function Z7(t){return t&&"setState"in t?Xj.findDOMNode(t):t??null}const eL=function(t){return eh(Z7(t))};var tL=27,y1=function(){};function sL(t){return t.button===0}function rL(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}var b1=function(e){return e&&("current"in e?e.current:e)};function nL(t,e,s){var n=s===void 0?{}:s,a=n.disabled,i=n.clickTrigger,o=i===void 0?"click":i,l=U.useRef(!1),c=e||y1,d=U.useCallback(function(f){var m,g=b1(t);J7(!!g,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),l.current=!g||rL(f)||!sL(f)||!!Cu(g,(m=f.composedPath==null?void 0:f.composedPath()[0])!=null?m:f.target)},[t]),u=i1(function(f){l.current||c(f)}),h=i1(function(f){f.keyCode===tL&&c(f)});U.useEffect(function(){if(!(a||t==null)){var f=window.event,m=eL(b1(t)),g=Hd(m,o,d,!0),x=Hd(m,o,function(b){if(b===f){f=void 0;return}u(b)}),j=Hd(m,"keyup",function(b){if(b===f){f=void 0;return}h(b)}),y=[];return"ontouchstart"in m.documentElement&&(y=[].slice.call(m.body.children).map(function(b){return Hd(b,"mousemove",y1)})),function(){g(),x(),j(),y.forEach(function(b){return b()})}}},[t,a,o,d,u,h])}function aL(t){var e={};return Array.isArray(t)?(t?.forEach(function(s){e[s.name]=s}),e):t||e}function iL(t){return t===void 0&&(t={}),Array.isArray(t)?t:Object.keys(t).map(function(e){return t[e].name=e,t[e]})}function oL(t){var e,s,n,a,i=t.enabled,o=t.enableEvents,l=t.placement,c=t.flip,d=t.offset,u=t.fixed,h=t.containerPadding,f=t.arrowElement,m=t.popperConfig,g=m===void 0?{}:m,x=aL(g.modifiers);return gs({},g,{placement:l,enabled:i,strategy:u?"fixed":g.strategy,modifiers:iL(gs({},x,{eventListeners:{enabled:o},preventOverflow:gs({},x.preventOverflow,{options:h?gs({padding:h},(e=x.preventOverflow)==null?void 0:e.options):(s=x.preventOverflow)==null?void 0:s.options}),offset:{options:gs({offset:d},(n=x.offset)==null?void 0:n.options)},arrow:gs({},x.arrow,{enabled:!!f,options:gs({},(a=x.arrow)==null?void 0:a.options,{element:f})}),flip:gs({enabled:!!c},x.flip)}))})}function lL(t,e){return t.classList?t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function cL(t,e){t.classList?t.classList.add(e):lL(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function v1(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function dL(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=v1(t.className,e):t.setAttribute("class",v1(t.className&&t.className.baseVal||"",e))}var dm;function Ny(t){if((!dm&&dm!==0||t)&&fy){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),dm=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return dm}var Hx=function(e){var s;return typeof document>"u"?null:e==null?eh().body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),(s=e)!=null&&s.nodeType&&e||null)};function w1(t,e){var s=U.useState(function(){return Hx(t)}),n=s[0],a=s[1];if(!n){var i=Hx(t);i&&a(i)}return U.useEffect(function(){},[e,n]),U.useEffect(function(){var o=Hx(t);o!==n&&a(o)},[t,n]),n}const j1=t=>!t||typeof t=="function"?t:e=>{t.current=e};function uL(t,e){const s=j1(t),n=j1(e);return a=>{s&&s(a),n&&n(a)}}function hL(t,e){return U.useMemo(()=>uL(t,e),[t,e])}var ky=ce.forwardRef(function(t,e){var s=t.flip,n=t.offset,a=t.placement,i=t.containerPadding,o=i===void 0?5:i,l=t.popperConfig,c=l===void 0?{}:l,d=t.transition,u=o1(),h=u[0],f=u[1],m=o1(),g=m[0],x=m[1],j=hL(f,e),y=w1(t.container),b=w1(t.target),k=U.useState(!t.show),A=k[0],E=k[1],I=G7(b,h,oL({placement:a,enableEvents:!!t.show,containerPadding:o||5,flip:s,offset:n,arrowElement:g,popperConfig:c})),_=I.styles,v=I.attributes,P=Xf(I,["styles","attributes"]);t.show?A&&E(!1):!t.transition&&!A&&E(!0);var L=function(){E(!0),t.onExited&&t.onExited.apply(t,arguments)},S=t.show||d&&!A;if(nL(h,t.onHide,{disabled:!t.rootClose||t.rootCloseDisabled,clickTrigger:t.rootCloseEvent}),!S)return null;var C=t.children(gs({},P,{show:!!t.show,props:gs({},v.popper,{style:_.popper,ref:j}),arrowProps:gs({},v.arrow,{style:_.arrow,ref:x})}));if(d){var O=t.onExit,z=t.onExiting,Z=t.onEnter,q=t.onEntering,R=t.onEntered;C=ce.createElement(d,{in:t.show,appear:!0,onExit:O,onExiting:z,onExited:L,onEnter:Z,onEntering:q,onEntered:R},C)}return y?Xj.createPortal(C,y):null});ky.displayName="Overlay";ky.propTypes={show:Te.bool,placement:Te.oneOf(xy),target:Te.any,container:Te.any,flip:Te.bool,children:Te.func.isRequired,containerPadding:Te.number,popperConfig:Te.object,rootClose:Te.bool,rootCloseEvent:Te.oneOf(["click","mousedown"]),rootCloseDisabled:Te.bool,onHide:function(e){for(var s=arguments.length,n=new Array(s>1?s-1:0),a=1;a<s;a++)n[a-1]=arguments[a];if(e.rootClose){var i;return(i=Te.func).isRequired.apply(i,[e].concat(n))}return Te.func.apply(Te,[e].concat(n))},transition:Te.elementType,onEnter:Te.func,onEntering:Te.func,onEntered:Te.func,onExit:Te.func,onExiting:Te.func,onExited:Te.func};function mL(){this.__data__=[],this.size=0}var fL=mL,pL=Qu;function xL(t,e){for(var s=t.length;s--;)if(pL(t[s][0],e))return s;return-1}var ep=xL,gL=ep,yL=Array.prototype,bL=yL.splice;function vL(t){var e=this.__data__,s=gL(e,t);if(s<0)return!1;var n=e.length-1;return s==n?e.pop():bL.call(e,s,1),--this.size,!0}var wL=vL,jL=ep;function NL(t){var e=this.__data__,s=jL(e,t);return s<0?void 0:e[s][1]}var kL=NL,_L=ep;function SL(t){return _L(this.__data__,t)>-1}var AL=SL,CL=ep;function PL(t,e){var s=this.__data__,n=CL(s,t);return n<0?(++this.size,s.push([t,e])):s[n][1]=e,this}var EL=PL,DL=fL,LL=wL,IL=kL,ML=AL,TL=EL;function Rc(t){var e=-1,s=t==null?0:t.length;for(this.clear();++e<s;){var n=t[e];this.set(n[0],n[1])}}Rc.prototype.clear=DL;Rc.prototype.delete=LL;Rc.prototype.get=IL;Rc.prototype.has=ML;Rc.prototype.set=TL;var tp=Rc,FL=tp;function OL(){this.__data__=new FL,this.size=0}var RL=OL;function $L(t){var e=this.__data__,s=e.delete(t);return this.size=e.size,s}var zL=$L;function BL(t){return this.__data__.get(t)}var qL=BL;function HL(t){return this.__data__.has(t)}var WL=HL,UL=Ua,VL=UL["__core-js_shared__"],YL=VL,Wx=YL,N1=function(){var t=/[^.]+$/.exec(Wx&&Wx.keys&&Wx.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function GL(t){return!!N1&&N1 in t}var KL=GL,XL=Function.prototype,QL=XL.toString;function JL(t){if(t!=null){try{return QL.call(t)}catch{}try{return t+""}catch{}}return""}var $5=JL,ZL=dy,eI=KL,tI=ki,sI=$5,rI=/[\\^$.*+?()[\]{}|]/g,nI=/^\[object .+?Constructor\]$/,aI=Function.prototype,iI=Object.prototype,oI=aI.toString,lI=iI.hasOwnProperty,cI=RegExp("^"+oI.call(lI).replace(rI,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function dI(t){if(!tI(t)||eI(t))return!1;var e=ZL(t)?cI:nI;return e.test(sI(t))}var uI=dI;function hI(t,e){return t?.[e]}var mI=hI,fI=uI,pI=mI;function xI(t,e){var s=pI(t,e);return fI(s)?s:void 0}var ml=xI,gI=ml,yI=Ua,bI=gI(yI,"Map"),_y=bI,vI=ml,wI=vI(Object,"create"),sp=wI,k1=sp;function jI(){this.__data__=k1?k1(null):{},this.size=0}var NI=jI;function kI(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var _I=kI,SI=sp,AI="__lodash_hash_undefined__",CI=Object.prototype,PI=CI.hasOwnProperty;function EI(t){var e=this.__data__;if(SI){var s=e[t];return s===AI?void 0:s}return PI.call(e,t)?e[t]:void 0}var DI=EI,LI=sp,II=Object.prototype,MI=II.hasOwnProperty;function TI(t){var e=this.__data__;return LI?e[t]!==void 0:MI.call(e,t)}var FI=TI,OI=sp,RI="__lodash_hash_undefined__";function $I(t,e){var s=this.__data__;return this.size+=this.has(t)?0:1,s[t]=OI&&e===void 0?RI:e,this}var zI=$I,BI=NI,qI=_I,HI=DI,WI=FI,UI=zI;function $c(t){var e=-1,s=t==null?0:t.length;for(this.clear();++e<s;){var n=t[e];this.set(n[0],n[1])}}$c.prototype.clear=BI;$c.prototype.delete=qI;$c.prototype.get=HI;$c.prototype.has=WI;$c.prototype.set=UI;var VI=$c,_1=VI,YI=tp,GI=_y;function KI(){this.size=0,this.__data__={hash:new _1,map:new(GI||YI),string:new _1}}var XI=KI;function QI(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var JI=QI,ZI=JI;function eM(t,e){var s=t.__data__;return ZI(e)?s[typeof e=="string"?"string":"hash"]:s.map}var rp=eM,tM=rp;function sM(t){var e=tM(this,t).delete(t);return this.size-=e?1:0,e}var rM=sM,nM=rp;function aM(t){return nM(this,t).get(t)}var iM=aM,oM=rp;function lM(t){return oM(this,t).has(t)}var cM=lM,dM=rp;function uM(t,e){var s=dM(this,t),n=s.size;return s.set(t,e),this.size+=s.size==n?0:1,this}var hM=uM,mM=XI,fM=rM,pM=iM,xM=cM,gM=hM;function zc(t){var e=-1,s=t==null?0:t.length;for(this.clear();++e<s;){var n=t[e];this.set(n[0],n[1])}}zc.prototype.clear=mM;zc.prototype.delete=fM;zc.prototype.get=pM;zc.prototype.has=xM;zc.prototype.set=gM;var Sy=zc,yM=tp,bM=_y,vM=Sy,wM=200;function jM(t,e){var s=this.__data__;if(s instanceof yM){var n=s.__data__;if(!bM||n.length<wM-1)return n.push([t,e]),this.size=++s.size,this;s=this.__data__=new vM(n)}return s.set(t,e),this.size=s.size,this}var NM=jM,kM=tp,_M=RL,SM=zL,AM=qL,CM=WL,PM=NM;function Bc(t){var e=this.__data__=new kM(t);this.size=e.size}Bc.prototype.clear=_M;Bc.prototype.delete=SM;Bc.prototype.get=AM;Bc.prototype.has=CM;Bc.prototype.set=PM;var Ay=Bc,EM="__lodash_hash_undefined__";function DM(t){return this.__data__.set(t,EM),this}var LM=DM;function IM(t){return this.__data__.has(t)}var MM=IM,TM=Sy,FM=LM,OM=MM;function Nf(t){var e=-1,s=t==null?0:t.length;for(this.__data__=new TM;++e<s;)this.add(t[e])}Nf.prototype.add=Nf.prototype.push=FM;Nf.prototype.has=OM;var RM=Nf;function $M(t,e){for(var s=-1,n=t==null?0:t.length;++s<n;)if(e(t[s],s,t))return!0;return!1}var zM=$M;function BM(t,e){return t.has(e)}var qM=BM,HM=RM,WM=zM,UM=qM,VM=1,YM=2;function GM(t,e,s,n,a,i){var o=s&VM,l=t.length,c=e.length;if(l!=c&&!(o&&c>l))return!1;var d=i.get(t),u=i.get(e);if(d&&u)return d==e&&u==t;var h=-1,f=!0,m=s&YM?new HM:void 0;for(i.set(t,e),i.set(e,t);++h<l;){var g=t[h],x=e[h];if(n)var j=o?n(x,g,h,e,t,i):n(g,x,h,t,e,i);if(j!==void 0){if(j)continue;f=!1;break}if(m){if(!WM(e,function(y,b){if(!UM(m,b)&&(g===y||a(g,y,s,n,i)))return m.push(b)})){f=!1;break}}else if(!(g===x||a(g,x,s,n,i))){f=!1;break}}return i.delete(t),i.delete(e),f}var z5=GM,KM=Ua,XM=KM.Uint8Array,B5=XM;function QM(t){var e=-1,s=Array(t.size);return t.forEach(function(n,a){s[++e]=[a,n]}),s}var JM=QM;function ZM(t){var e=-1,s=Array(t.size);return t.forEach(function(n){s[++e]=n}),s}var eT=ZM,S1=Fc,A1=B5,tT=Qu,sT=z5,rT=JM,nT=eT,aT=1,iT=2,oT="[object Boolean]",lT="[object Date]",cT="[object Error]",dT="[object Map]",uT="[object Number]",hT="[object RegExp]",mT="[object Set]",fT="[object String]",pT="[object Symbol]",xT="[object ArrayBuffer]",gT="[object DataView]",C1=S1?S1.prototype:void 0,Ux=C1?C1.valueOf:void 0;function yT(t,e,s,n,a,i,o){switch(s){case gT:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case xT:return!(t.byteLength!=e.byteLength||!i(new A1(t),new A1(e)));case oT:case lT:case uT:return tT(+t,+e);case cT:return t.name==e.name&&t.message==e.message;case hT:case fT:return t==e+"";case dT:var l=rT;case mT:var c=n&aT;if(l||(l=nT),t.size!=e.size&&!c)return!1;var d=o.get(t);if(d)return d==e;n|=iT,o.set(t,e);var u=sT(l(t),l(e),n,a,i,o);return o.delete(t),u;case pT:if(Ux)return Ux.call(t)==Ux.call(e)}return!1}var bT=yT;function vT(t,e){for(var s=-1,n=e.length,a=t.length;++s<n;)t[a+s]=e[s];return t}var Cy=vT,wT=Array.isArray,Fn=wT,jT=Cy,NT=Fn;function kT(t,e,s){var n=e(t);return NT(t)?n:jT(n,s(t))}var q5=kT;function _T(t,e){for(var s=-1,n=t==null?0:t.length,a=0,i=[];++s<n;){var o=t[s];e(o,s,t)&&(i[a++]=o)}return i}var ST=_T;function AT(){return[]}var H5=AT,CT=ST,PT=H5,ET=Object.prototype,DT=ET.propertyIsEnumerable,P1=Object.getOwnPropertySymbols,LT=P1?function(t){return t==null?[]:(t=Object(t),CT(P1(t),function(e){return DT.call(t,e)}))}:PT,Py=LT;function IT(t,e){for(var s=-1,n=Array(t);++s<t;)n[s]=e(s);return n}var MT=IT,TT=Oc,FT=co,OT="[object Arguments]";function RT(t){return FT(t)&&TT(t)==OT}var $T=RT,E1=$T,zT=co,W5=Object.prototype,BT=W5.hasOwnProperty,qT=W5.propertyIsEnumerable,HT=E1(function(){return arguments}())?E1:function(t){return zT(t)&&BT.call(t,"callee")&&!qT.call(t,"callee")},Ey=HT,kf={exports:{}};function WT(){return!1}var UT=WT;kf.exports;(function(t,e){var s=Ua,n=UT,a=e&&!e.nodeType&&e,i=a&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===a,l=o?s.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||n;t.exports=d})(kf,kf.exports);var np=kf.exports,VT=Oc,YT=uy,GT=co,KT="[object Arguments]",XT="[object Array]",QT="[object Boolean]",JT="[object Date]",ZT="[object Error]",eF="[object Function]",tF="[object Map]",sF="[object Number]",rF="[object Object]",nF="[object RegExp]",aF="[object Set]",iF="[object String]",oF="[object WeakMap]",lF="[object ArrayBuffer]",cF="[object DataView]",dF="[object Float32Array]",uF="[object Float64Array]",hF="[object Int8Array]",mF="[object Int16Array]",fF="[object Int32Array]",pF="[object Uint8Array]",xF="[object Uint8ClampedArray]",gF="[object Uint16Array]",yF="[object Uint32Array]",Jt={};Jt[dF]=Jt[uF]=Jt[hF]=Jt[mF]=Jt[fF]=Jt[pF]=Jt[xF]=Jt[gF]=Jt[yF]=!0;Jt[KT]=Jt[XT]=Jt[lF]=Jt[QT]=Jt[cF]=Jt[JT]=Jt[ZT]=Jt[eF]=Jt[tF]=Jt[sF]=Jt[rF]=Jt[nF]=Jt[aF]=Jt[iF]=Jt[oF]=!1;function bF(t){return GT(t)&&YT(t.length)&&!!Jt[VT(t)]}var vF=bF;function wF(t){return function(e){return t(e)}}var ap=wF,_f={exports:{}};_f.exports;(function(t,e){var s=j5,n=e&&!e.nodeType&&e,a=n&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===n,o=i&&s.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();t.exports=l})(_f,_f.exports);var Dy=_f.exports,jF=vF,NF=ap,D1=Dy,L1=D1&&D1.isTypedArray,kF=L1?NF(L1):jF,Ly=kF,_F=MT,SF=Ey,AF=Fn,CF=np,PF=hy,EF=Ly,DF=Object.prototype,LF=DF.hasOwnProperty;function IF(t,e){var s=AF(t),n=!s&&SF(t),a=!s&&!n&&CF(t),i=!s&&!n&&!a&&EF(t),o=s||n||a||i,l=o?_F(t.length,String):[],c=l.length;for(var d in t)(e||LF.call(t,d))&&!(o&&(d=="length"||a&&(d=="offset"||d=="parent")||i&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||PF(d,c)))&&l.push(d);return l}var U5=IF,MF=Object.prototype;function TF(t){var e=t&&t.constructor,s=typeof e=="function"&&e.prototype||MF;return t===s}var Iy=TF;function FF(t,e){return function(s){return t(e(s))}}var V5=FF,OF=V5,RF=OF(Object.keys,Object),$F=RF,zF=Iy,BF=$F,qF=Object.prototype,HF=qF.hasOwnProperty;function WF(t){if(!zF(t))return BF(t);var e=[];for(var s in Object(t))HF.call(t,s)&&s!="constructor"&&e.push(s);return e}var UF=WF,VF=U5,YF=UF,GF=Ju;function KF(t){return GF(t)?VF(t):YF(t)}var rh=KF,XF=q5,QF=Py,JF=rh;function ZF(t){return XF(t,JF,QF)}var Y5=ZF,I1=Y5,eO=1,tO=Object.prototype,sO=tO.hasOwnProperty;function rO(t,e,s,n,a,i){var o=s&eO,l=I1(t),c=l.length,d=I1(e),u=d.length;if(c!=u&&!o)return!1;for(var h=c;h--;){var f=l[h];if(!(o?f in e:sO.call(e,f)))return!1}var m=i.get(t),g=i.get(e);if(m&&g)return m==e&&g==t;var x=!0;i.set(t,e),i.set(e,t);for(var j=o;++h<c;){f=l[h];var y=t[f],b=e[f];if(n)var k=o?n(b,y,f,e,t,i):n(y,b,f,t,e,i);if(!(k===void 0?y===b||a(y,b,s,n,i):k)){x=!1;break}j||(j=f=="constructor")}if(x&&!j){var A=t.constructor,E=e.constructor;A!=E&&"constructor"in t&&"constructor"in e&&!(typeof A=="function"&&A instanceof A&&typeof E=="function"&&E instanceof E)&&(x=!1)}return i.delete(t),i.delete(e),x}var nO=rO,aO=ml,iO=Ua,oO=aO(iO,"DataView"),lO=oO,cO=ml,dO=Ua,uO=cO(dO,"Promise"),hO=uO,mO=ml,fO=Ua,pO=mO(fO,"Set"),xO=pO,gO=ml,yO=Ua,bO=gO(yO,"WeakMap"),vO=bO,tg=lO,sg=_y,rg=hO,ng=xO,ag=vO,G5=Oc,qc=$5,M1="[object Map]",wO="[object Object]",T1="[object Promise]",F1="[object Set]",O1="[object WeakMap]",R1="[object DataView]",jO=qc(tg),NO=qc(sg),kO=qc(rg),_O=qc(ng),SO=qc(ag),Mo=G5;(tg&&Mo(new tg(new ArrayBuffer(1)))!=R1||sg&&Mo(new sg)!=M1||rg&&Mo(rg.resolve())!=T1||ng&&Mo(new ng)!=F1||ag&&Mo(new ag)!=O1)&&(Mo=function(t){var e=G5(t),s=e==wO?t.constructor:void 0,n=s?qc(s):"";if(n)switch(n){case jO:return R1;case NO:return M1;case kO:return T1;case _O:return F1;case SO:return O1}return e});var ip=Mo,Vx=Ay,AO=z5,CO=bT,PO=nO,$1=ip,z1=Fn,B1=np,EO=Ly,DO=1,q1="[object Arguments]",H1="[object Array]",um="[object Object]",LO=Object.prototype,W1=LO.hasOwnProperty;function IO(t,e,s,n,a,i){var o=z1(t),l=z1(e),c=o?H1:$1(t),d=l?H1:$1(e);c=c==q1?um:c,d=d==q1?um:d;var u=c==um,h=d==um,f=c==d;if(f&&B1(t)){if(!B1(e))return!1;o=!0,u=!1}if(f&&!u)return i||(i=new Vx),o||EO(t)?AO(t,e,s,n,a,i):CO(t,e,c,s,n,a,i);if(!(s&DO)){var m=u&&W1.call(t,"__wrapped__"),g=h&&W1.call(e,"__wrapped__");if(m||g){var x=m?t.value():t,j=g?e.value():e;return i||(i=new Vx),a(x,j,s,n,i)}}return f?(i||(i=new Vx),PO(t,e,s,n,a,i)):!1}var MO=IO,TO=MO,U1=co;function K5(t,e,s,n,a){return t===e?!0:t==null||e==null||!U1(t)&&!U1(e)?t!==t&&e!==e:TO(t,e,s,n,K5,a)}var My=K5,FO=My;function OO(t,e){return FO(t,e)}var RO=OO;const $O=Qr(RO);function Yx(t,e){var s=my(t);return s?s.innerHeight:Vo(t).height}function X5(t,e,s){t.closest&&!s&&t.closest(e);var n=t;do{if(FD(n,e))return n;n=n.parentElement}while(n&&n!==s&&n.nodeType===document.ELEMENT_NODE);return null}function zO(t,e,s,n){for(var a=t.length,i=s+(n?1:-1);n?i--:++i<a;)if(e(t[i],i,t))return i;return-1}var BO=zO,qO=Ay,HO=My,WO=1,UO=2;function VO(t,e,s,n){var a=s.length,i=a,o=!n;if(t==null)return!i;for(t=Object(t);a--;){var l=s[a];if(o&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++a<i;){l=s[a];var c=l[0],d=t[c],u=l[1];if(o&&l[2]){if(d===void 0&&!(c in t))return!1}else{var h=new qO;if(n)var f=n(d,u,c,t,e,h);if(!(f===void 0?HO(u,d,WO|UO,n,h):f))return!1}}return!0}var YO=VO,GO=ki;function KO(t){return t===t&&!GO(t)}var Q5=KO,XO=Q5,QO=rh;function JO(t){for(var e=QO(t),s=e.length;s--;){var n=e[s],a=t[n];e[s]=[n,a,XO(a)]}return e}var ZO=JO;function eR(t,e){return function(s){return s==null?!1:s[t]===e&&(e!==void 0||t in Object(s))}}var J5=eR,tR=YO,sR=ZO,rR=J5;function nR(t){var e=sR(t);return e.length==1&&e[0][2]?rR(e[0][0],e[0][1]):function(s){return s===t||tR(s,t,e)}}var aR=nR,iR=Fn,oR=Zu,lR=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,cR=/^\w*$/;function dR(t,e){if(iR(t))return!1;var s=typeof t;return s=="number"||s=="symbol"||s=="boolean"||t==null||oR(t)?!0:cR.test(t)||!lR.test(t)||e!=null&&t in Object(e)}var Ty=dR,Z5=Sy,uR="Expected a function";function Fy(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(uR);var s=function(){var n=arguments,a=e?e.apply(this,n):n[0],i=s.cache;if(i.has(a))return i.get(a);var o=t.apply(this,n);return s.cache=i.set(a,o)||i,o};return s.cache=new(Fy.Cache||Z5),s}Fy.Cache=Z5;var hR=Fy,mR=hR,fR=500;function pR(t){var e=mR(t,function(n){return s.size===fR&&s.clear(),n}),s=e.cache;return e}var xR=pR,gR=xR,yR=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,bR=/\\(\\)?/g,vR=gR(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(yR,function(s,n,a,i){e.push(a?i.replace(bR,"$1"):n||s)}),e}),wR=vR;function jR(t,e){for(var s=-1,n=t==null?0:t.length,a=Array(n);++s<n;)a[s]=e(t[s],s,t);return a}var Oy=jR,V1=Fc,NR=Oy,kR=Fn,_R=Zu,SR=1/0,Y1=V1?V1.prototype:void 0,G1=Y1?Y1.toString:void 0;function e4(t){if(typeof t=="string")return t;if(kR(t))return NR(t,e4)+"";if(_R(t))return G1?G1.call(t):"";var e=t+"";return e=="0"&&1/t==-SR?"-0":e}var AR=e4,CR=AR;function PR(t){return t==null?"":CR(t)}var ER=PR,DR=Fn,LR=Ty,IR=wR,MR=ER;function TR(t,e){return DR(t)?t:LR(t,e)?[t]:IR(MR(t))}var op=TR,FR=Zu,OR=1/0;function RR(t){if(typeof t=="string"||FR(t))return t;var e=t+"";return e=="0"&&1/t==-OR?"-0":e}var nh=RR,$R=op,zR=nh;function BR(t,e){e=$R(e,t);for(var s=0,n=e.length;t!=null&&s<n;)t=t[zR(e[s++])];return s&&s==n?t:void 0}var lp=BR,qR=lp;function HR(t,e,s){var n=t==null?void 0:qR(t,e);return n===void 0?s:n}var WR=HR;function UR(t,e){return t!=null&&e in Object(t)}var VR=UR,YR=op,GR=Ey,KR=Fn,XR=hy,QR=uy,JR=nh;function ZR(t,e,s){e=YR(e,t);for(var n=-1,a=e.length,i=!1;++n<a;){var o=JR(e[n]);if(!(i=t!=null&&s(t,o)))break;t=t[o]}return i||++n!=a?i:(a=t==null?0:t.length,!!a&&QR(a)&&XR(o,a)&&(KR(t)||GR(t)))}var e9=ZR,t9=VR,s9=e9;function r9(t,e){return t!=null&&s9(t,e,t9)}var n9=r9,a9=My,i9=WR,o9=n9,l9=Ty,c9=Q5,d9=J5,u9=nh,h9=1,m9=2;function f9(t,e){return l9(t)&&c9(e)?d9(u9(t),e):function(s){var n=i9(s,t);return n===void 0&&n===e?o9(s,t):a9(e,n,h9|m9)}}var p9=f9;function x9(t){return t}var cp=x9;function g9(t){return function(e){return e?.[t]}}var y9=g9,b9=lp;function v9(t){return function(e){return b9(e,t)}}var w9=v9,j9=y9,N9=w9,k9=Ty,_9=nh;function S9(t){return k9(t)?j9(_9(t)):N9(t)}var A9=S9,C9=aR,P9=p9,E9=cp,D9=Fn,L9=A9;function I9(t){return typeof t=="function"?t:t==null?E9:typeof t=="object"?D9(t)?P9(t[0],t[1]):C9(t):L9(t)}var dp=I9,M9=BO,T9=dp,F9=_5,O9=Math.max;function R9(t,e,s){var n=t==null?0:t.length;if(!n)return-1;var a=s==null?0:F9(s);return a<0&&(a=O9(n+a,0)),M9(t,T9(e),a)}var $9=R9;const z9=Qr($9);var B9=Math.ceil,q9=Math.max;function H9(t,e,s,n){for(var a=-1,i=q9(B9((e-t)/(s||1)),0),o=Array(i);i--;)o[n?i:++a]=t,t+=s;return o}var W9=H9,U9=W9,V9=Jf,Gx=k5;function Y9(t){return function(e,s,n){return n&&typeof n!="number"&&V9(e,s,n)&&(s=n=void 0),e=Gx(e),s===void 0?(s=e,e=0):s=Gx(s),n=n===void 0?e<s?1:-1:Gx(n),U9(e,s,n,t)}}var G9=Y9,K9=G9,X9=K9(),Q9=X9;const J9=Qr(Q9);var K1=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Z9(t,e){return!!(t===e||K1(t)&&K1(e))}function e$(t,e){if(t.length!==e.length)return!1;for(var s=0;s<t.length;s++)if(!Z9(t[s],e[s]))return!1;return!0}function t4(t,e){e===void 0&&(e=e$);var s=null;function n(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];if(s&&s.lastThis===this&&e(a,s.lastArgs))return s.lastResult;var o=t.apply(this,a);return s={lastResult:o,lastArgs:a,lastThis:this},o}return n.clear=function(){s=null},n}function ig(t,e){var s=my(t);return s?s.innerWidth:Vo(t).width}var X1=Fc,t$=Ey,s$=Fn,Q1=X1?X1.isConcatSpreadable:void 0;function r$(t){return s$(t)||t$(t)||!!(Q1&&t&&t[Q1])}var n$=r$,a$=Cy,i$=n$;function s4(t,e,s,n,a){var i=-1,o=t.length;for(s||(s=i$),a||(a=[]);++i<o;){var l=t[i];e>0&&s(l)?e>1?s4(l,e-1,s,n,a):a$(a,l):n||(a[a.length]=l)}return a}var r4=s4;function o$(t){return function(e,s,n){for(var a=-1,i=Object(e),o=n(e),l=o.length;l--;){var c=o[t?l:++a];if(s(i[c],c,i)===!1)break}return e}}var l$=o$,c$=l$,d$=c$(),u$=d$,h$=u$,m$=rh;function f$(t,e){return t&&h$(t,e,m$)}var Ry=f$,p$=Ju;function x$(t,e){return function(s,n){if(s==null)return s;if(!p$(s))return t(s,n);for(var a=s.length,i=e?a:-1,o=Object(s);(e?i--:++i<a)&&n(o[i],i,o)!==!1;);return s}}var g$=x$,y$=Ry,b$=g$,v$=b$(y$),w$=v$,j$=w$,N$=Ju;function k$(t,e){var s=-1,n=N$(t)?Array(t.length):[];return j$(t,function(a,i,o){n[++s]=e(a,i,o)}),n}var _$=k$;function S$(t,e){var s=t.length;for(t.sort(e);s--;)t[s]=t[s].value;return t}var A$=S$,J1=Zu;function C$(t,e){if(t!==e){var s=t!==void 0,n=t===null,a=t===t,i=J1(t),o=e!==void 0,l=e===null,c=e===e,d=J1(e);if(!l&&!d&&!i&&t>e||i&&o&&c&&!l&&!d||n&&o&&c||!s&&c||!a)return 1;if(!n&&!i&&!d&&t<e||d&&s&&a&&!n&&!i||l&&s&&a||!o&&a||!c)return-1}return 0}var P$=C$,E$=P$;function D$(t,e,s){for(var n=-1,a=t.criteria,i=e.criteria,o=a.length,l=s.length;++n<o;){var c=E$(a[n],i[n]);if(c){if(n>=l)return c;var d=s[n];return c*(d=="desc"?-1:1)}}return t.index-e.index}var L$=D$,Kx=Oy,I$=lp,M$=dp,T$=_$,F$=A$,O$=ap,R$=L$,$$=cp,z$=Fn;function B$(t,e,s){e.length?e=Kx(e,function(i){return z$(i)?function(o){return I$(o,i.length===1?i[0]:i)}:i}):e=[$$];var n=-1;e=Kx(e,O$(M$));var a=T$(t,function(i,o,l){var c=Kx(e,function(d){return d(i)});return{criteria:c,index:++n,value:i}});return F$(a,function(i,o){return R$(i,o,s)})}var q$=B$;function H$(t,e,s){switch(s.length){case 0:return t.call(e);case 1:return t.call(e,s[0]);case 2:return t.call(e,s[0],s[1]);case 3:return t.call(e,s[0],s[1],s[2])}return t.apply(e,s)}var W$=H$,U$=W$,Z1=Math.max;function V$(t,e,s){return e=Z1(e===void 0?t.length-1:e,0),function(){for(var n=arguments,a=-1,i=Z1(n.length-e,0),o=Array(i);++a<i;)o[a]=n[e+a];a=-1;for(var l=Array(e+1);++a<e;)l[a]=n[a];return l[e]=s(o),U$(t,this,l)}}var n4=V$;function Y$(t){return function(){return t}}var G$=Y$,K$=ml,X$=function(){try{var t=K$(Object,"defineProperty");return t({},"",{}),t}catch{}}(),a4=X$,Q$=G$,e2=a4,J$=cp,Z$=e2?function(t,e){return e2(t,"toString",{configurable:!0,enumerable:!1,value:Q$(e),writable:!0})}:J$,ez=Z$,tz=800,sz=16,rz=Date.now;function nz(t){var e=0,s=0;return function(){var n=rz(),a=sz-(n-s);if(s=n,a>0){if(++e>=tz)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var az=nz,iz=ez,oz=az,lz=oz(iz),i4=lz,cz=cp,dz=n4,uz=i4;function hz(t,e){return uz(dz(t,e,cz),t+"")}var o4=hz,mz=r4,fz=q$,pz=o4,t2=Jf,xz=pz(function(t,e){if(t==null)return[];var s=e.length;return s>1&&t2(t,e[0],e[1])?e=[]:s>2&&t2(e[0],e[1],e[2])&&(e=[e[0]]),fz(t,mz(e,1),[])}),gz=xz;const yz=Qr(gz);function l4(t){return r5(t)||v5(t)||oy(t)||n5()}function bz(t){var e=[];if(t!=null)for(var s in Object(t))e.push(s);return e}var vz=bz,wz=ki,jz=Iy,Nz=vz,kz=Object.prototype,_z=kz.hasOwnProperty;function Sz(t){if(!wz(t))return Nz(t);var e=jz(t),s=[];for(var n in t)n=="constructor"&&(e||!_z.call(t,n))||s.push(n);return s}var Az=Sz,Cz=U5,Pz=Az,Ez=Ju;function Dz(t){return Ez(t)?Cz(t,!0):Pz(t)}var up=Dz,Lz=o4,Iz=Qu,Mz=Jf,Tz=up,c4=Object.prototype,Fz=c4.hasOwnProperty,Oz=Lz(function(t,e){t=Object(t);var s=-1,n=e.length,a=n>2?e[2]:void 0;for(a&&Mz(e[0],e[1],a)&&(n=1);++s<n;)for(var i=e[s],o=Tz(i),l=-1,c=o.length;++l<c;){var d=o[l],u=t[d];(u===void 0||Iz(u,c4[d])&&!Fz.call(t,d))&&(t[d]=i[d])}return t}),Rz=Oz;const $z=Qr(Rz);var s2=a4;function zz(t,e,s){e=="__proto__"&&s2?s2(t,e,{configurable:!0,enumerable:!0,value:s,writable:!0}):t[e]=s}var $y=zz,Bz=$y,qz=Ry,Hz=dp;function Wz(t,e){var s={};return e=Hz(e),qz(t,function(n,a,i){Bz(s,a,e(n,a,i))}),s}var Uz=Wz;const Vz=Qr(Uz);function Yz(t,e){for(var s=-1,n=t==null?0:t.length;++s<n&&e(t[s],s,t)!==!1;);return t}var d4=Yz,Gz=$y,Kz=Qu,Xz=Object.prototype,Qz=Xz.hasOwnProperty;function Jz(t,e,s){var n=t[e];(!(Qz.call(t,e)&&Kz(n,s))||s===void 0&&!(e in t))&&Gz(t,e,s)}var u4=Jz,Zz=u4,eB=$y;function tB(t,e,s,n){var a=!s;s||(s={});for(var i=-1,o=e.length;++i<o;){var l=e[i],c=n?n(s[l],t[l],l,s,t):void 0;c===void 0&&(c=t[l]),a?eB(s,l,c):Zz(s,l,c)}return s}var ah=tB,sB=ah,rB=rh;function nB(t,e){return t&&sB(e,rB(e),t)}var aB=nB,iB=ah,oB=up;function lB(t,e){return t&&iB(e,oB(e),t)}var cB=lB,Sf={exports:{}};Sf.exports;(function(t,e){var s=Ua,n=e&&!e.nodeType&&e,a=n&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===n,o=i?s.Buffer:void 0,l=o?o.allocUnsafe:void 0;function c(d,u){if(u)return d.slice();var h=d.length,f=l?l(h):new d.constructor(h);return d.copy(f),f}t.exports=c})(Sf,Sf.exports);var dB=Sf.exports;function uB(t,e){var s=-1,n=t.length;for(e||(e=Array(n));++s<n;)e[s]=t[s];return e}var hB=uB,mB=ah,fB=Py;function pB(t,e){return mB(t,fB(t),e)}var xB=pB,gB=V5,yB=gB(Object.getPrototypeOf,Object),hp=yB,bB=Cy,vB=hp,wB=Py,jB=H5,NB=Object.getOwnPropertySymbols,kB=NB?function(t){for(var e=[];t;)bB(e,wB(t)),t=vB(t);return e}:jB,h4=kB,_B=ah,SB=h4;function AB(t,e){return _B(t,SB(t),e)}var CB=AB,PB=q5,EB=h4,DB=up;function LB(t){return PB(t,DB,EB)}var m4=LB,IB=Object.prototype,MB=IB.hasOwnProperty;function TB(t){var e=t.length,s=new t.constructor(e);return e&&typeof t[0]=="string"&&MB.call(t,"index")&&(s.index=t.index,s.input=t.input),s}var FB=TB,r2=B5;function OB(t){var e=new t.constructor(t.byteLength);return new r2(e).set(new r2(t)),e}var zy=OB,RB=zy;function $B(t,e){var s=e?RB(t.buffer):t.buffer;return new t.constructor(s,t.byteOffset,t.byteLength)}var zB=$B,BB=/\w*$/;function qB(t){var e=new t.constructor(t.source,BB.exec(t));return e.lastIndex=t.lastIndex,e}var HB=qB,n2=Fc,a2=n2?n2.prototype:void 0,i2=a2?a2.valueOf:void 0;function WB(t){return i2?Object(i2.call(t)):{}}var UB=WB,VB=zy;function YB(t,e){var s=e?VB(t.buffer):t.buffer;return new t.constructor(s,t.byteOffset,t.length)}var GB=YB,KB=zy,XB=zB,QB=HB,JB=UB,ZB=GB,eq="[object Boolean]",tq="[object Date]",sq="[object Map]",rq="[object Number]",nq="[object RegExp]",aq="[object Set]",iq="[object String]",oq="[object Symbol]",lq="[object ArrayBuffer]",cq="[object DataView]",dq="[object Float32Array]",uq="[object Float64Array]",hq="[object Int8Array]",mq="[object Int16Array]",fq="[object Int32Array]",pq="[object Uint8Array]",xq="[object Uint8ClampedArray]",gq="[object Uint16Array]",yq="[object Uint32Array]";function bq(t,e,s){var n=t.constructor;switch(e){case lq:return KB(t);case eq:case tq:return new n(+t);case cq:return XB(t,s);case dq:case uq:case hq:case mq:case fq:case pq:case xq:case gq:case yq:return ZB(t,s);case sq:return new n;case rq:case iq:return new n(t);case nq:return QB(t);case aq:return new n;case oq:return JB(t)}}var vq=bq,wq=ki,o2=Object.create,jq=function(){function t(){}return function(e){if(!wq(e))return{};if(o2)return o2(e);t.prototype=e;var s=new t;return t.prototype=void 0,s}}(),f4=jq,Nq=f4,kq=hp,_q=Iy;function Sq(t){return typeof t.constructor=="function"&&!_q(t)?Nq(kq(t)):{}}var Aq=Sq,Cq=ip,Pq=co,Eq="[object Map]";function Dq(t){return Pq(t)&&Cq(t)==Eq}var Lq=Dq,Iq=Lq,Mq=ap,l2=Dy,c2=l2&&l2.isMap,Tq=c2?Mq(c2):Iq,Fq=Tq,Oq=ip,Rq=co,$q="[object Set]";function zq(t){return Rq(t)&&Oq(t)==$q}var Bq=zq,qq=Bq,Hq=ap,d2=Dy,u2=d2&&d2.isSet,Wq=u2?Hq(u2):qq,Uq=Wq,Vq=Ay,Yq=d4,Gq=u4,Kq=aB,Xq=cB,Qq=dB,Jq=hB,Zq=xB,eH=CB,tH=Y5,sH=m4,rH=ip,nH=FB,aH=vq,iH=Aq,oH=Fn,lH=np,cH=Fq,dH=ki,uH=Uq,hH=rh,mH=up,fH=1,pH=2,xH=4,p4="[object Arguments]",gH="[object Array]",yH="[object Boolean]",bH="[object Date]",vH="[object Error]",x4="[object Function]",wH="[object GeneratorFunction]",jH="[object Map]",NH="[object Number]",g4="[object Object]",kH="[object RegExp]",_H="[object Set]",SH="[object String]",AH="[object Symbol]",CH="[object WeakMap]",PH="[object ArrayBuffer]",EH="[object DataView]",DH="[object Float32Array]",LH="[object Float64Array]",IH="[object Int8Array]",MH="[object Int16Array]",TH="[object Int32Array]",FH="[object Uint8Array]",OH="[object Uint8ClampedArray]",RH="[object Uint16Array]",$H="[object Uint32Array]",Xt={};Xt[p4]=Xt[gH]=Xt[PH]=Xt[EH]=Xt[yH]=Xt[bH]=Xt[DH]=Xt[LH]=Xt[IH]=Xt[MH]=Xt[TH]=Xt[jH]=Xt[NH]=Xt[g4]=Xt[kH]=Xt[_H]=Xt[SH]=Xt[AH]=Xt[FH]=Xt[OH]=Xt[RH]=Xt[$H]=!0;Xt[vH]=Xt[x4]=Xt[CH]=!1;function Qm(t,e,s,n,a,i){var o,l=e&fH,c=e&pH,d=e&xH;if(s&&(o=a?s(t,n,a,i):s(t)),o!==void 0)return o;if(!dH(t))return t;var u=oH(t);if(u){if(o=nH(t),!l)return Jq(t,o)}else{var h=rH(t),f=h==x4||h==wH;if(lH(t))return Qq(t,l);if(h==g4||h==p4||f&&!a){if(o=c||f?{}:iH(t),!l)return c?eH(t,Xq(o,t)):Zq(t,Kq(o,t))}else{if(!Xt[h])return a?t:{};o=aH(t,h,l)}}i||(i=new Vq);var m=i.get(t);if(m)return m;i.set(t,o),uH(t)?t.forEach(function(j){o.add(Qm(j,e,s,j,t,i))}):cH(t)&&t.forEach(function(j,y){o.set(y,Qm(j,e,s,y,t,i))});var g=d?c?sH:tH:c?mH:hH,x=u?void 0:g(t);return Yq(x||t,function(j,y){x&&(y=j,j=t[y]),Gq(o,y,Qm(j,e,s,y,t,i))}),o}var zH=Qm;function BH(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var qH=BH,HH=lp,WH=w5;function UH(t,e){return e.length<2?t:HH(t,WH(e,0,-1))}var VH=UH,YH=op,GH=qH,KH=VH,XH=nh;function QH(t,e){return e=YH(e,t),t=KH(t,e),t==null||delete t[XH(GH(e))]}var JH=QH,ZH=Oc,eW=hp,tW=co,sW="[object Object]",rW=Function.prototype,nW=Object.prototype,y4=rW.toString,aW=nW.hasOwnProperty,iW=y4.call(Object);function oW(t){if(!tW(t)||ZH(t)!=sW)return!1;var e=eW(t);if(e===null)return!0;var s=aW.call(e,"constructor")&&e.constructor;return typeof s=="function"&&s instanceof s&&y4.call(s)==iW}var lW=oW,cW=lW;function dW(t){return cW(t)?void 0:t}var uW=dW,hW=r4;function mW(t){var e=t==null?0:t.length;return e?hW(t,1):[]}var fW=mW,pW=fW,xW=n4,gW=i4;function yW(t){return gW(xW(t,void 0,pW),t+"")}var bW=yW,vW=Oy,wW=zH,jW=JH,NW=op,kW=ah,_W=uW,SW=bW,AW=m4,CW=1,PW=2,EW=4,DW=SW(function(t,e){var s={};if(t==null)return s;var n=!1;e=vW(e,function(i){return i=NW(i,t),n||(n=i.length>1),i}),kW(t,AW(t),s),n&&(s=wW(s,CW|PW|EW,_W));for(var a=e.length;a--;)jW(s,e[a]);return s}),LW=DW;const IW=Qr(LW);var MW=d4,TW=f4,FW=Ry,OW=dp,RW=hp,$W=Fn,zW=np,BW=dy,qW=ki,HW=Ly;function WW(t,e,s){var n=$W(t),a=n||zW(t)||HW(t);if(e=OW(e),s==null){var i=t&&t.constructor;a?s=n?new i:[]:qW(t)?s=BW(i)?TW(RW(t)):{}:s={}}return(a?MW:FW)(t,function(o,l,c){return e(s,o,l,c)}),s}var UW=WW;const VW=Qr(UW);var YW={exports:{}};(function(t,e){(function(s,n){t.exports=n()})(Fr,function(){return function(s,n,a){n.prototype.isBetween=function(i,o,l,c){var d=a(i),u=a(o),h=(c=c||"()")[0]==="(",f=c[1]===")";return(h?this.isAfter(d,l):!this.isBefore(d,l))&&(f?this.isBefore(u,l):!this.isAfter(u,l))||(h?this.isBefore(d,l):!this.isAfter(d,l))&&(f?this.isAfter(u,l):!this.isBefore(u,l))}}})})(YW);var GW={exports:{}};(function(t,e){(function(s,n){t.exports=n()})(Fr,function(){return function(s,n){n.prototype.isSameOrAfter=function(a,i){return this.isSame(a,i)||this.isAfter(a,i)}}})})(GW);var KW={exports:{}};(function(t,e){(function(s,n){t.exports=n()})(Fr,function(){return function(s,n){n.prototype.isSameOrBefore=function(a,i){return this.isSame(a,i)||this.isBefore(a,i)}}})})(KW);var XW={exports:{}};(function(t,e){(function(s,n){t.exports=n()})(Fr,function(){return function(s,n,a){var i=n.prototype,o=function(h){return h&&(h.indexOf?h:h.s)},l=function(h,f,m,g,x){var j=h.name?h:h.$locale(),y=o(j[f]),b=o(j[m]),k=y||b.map(function(E){return E.slice(0,g)});if(!x)return k;var A=j.weekStart;return k.map(function(E,I){return k[(I+(A||0))%7]})},c=function(){return a.Ls[a.locale()]},d=function(h,f){return h.formats[f]||function(m){return m.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(g,x,j){return x||j.slice(1)})}(h.formats[f.toUpperCase()])},u=function(){var h=this;return{months:function(f){return f?f.format("MMMM"):l(h,"months")},monthsShort:function(f){return f?f.format("MMM"):l(h,"monthsShort","months",3)},firstDayOfWeek:function(){return h.$locale().weekStart||0},weekdays:function(f){return f?f.format("dddd"):l(h,"weekdays")},weekdaysMin:function(f){return f?f.format("dd"):l(h,"weekdaysMin","weekdays",2)},weekdaysShort:function(f){return f?f.format("ddd"):l(h,"weekdaysShort","weekdays",3)},longDateFormat:function(f){return d(h.$locale(),f)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};i.localeData=function(){return u.bind(this)()},a.localeData=function(){var h=c();return{firstDayOfWeek:function(){return h.weekStart||0},weekdays:function(){return a.weekdays()},weekdaysShort:function(){return a.weekdaysShort()},weekdaysMin:function(){return a.weekdaysMin()},months:function(){return a.months()},monthsShort:function(){return a.monthsShort()},longDateFormat:function(f){return d(h,f)},meridiem:h.meridiem,ordinal:h.ordinal}},a.months=function(){return l(c(),"months")},a.monthsShort=function(){return l(c(),"monthsShort","months",3)},a.weekdays=function(h){return l(c(),"weekdays",null,null,h)},a.weekdaysShort=function(h){return l(c(),"weekdaysShort","weekdays",3,h)},a.weekdaysMin=function(h){return l(c(),"weekdaysMin","weekdays",2,h)}}})})(XW);var QW={exports:{}};(function(t,e){(function(s,n){t.exports=n()})(Fr,function(){var s={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(n,a,i){var o=a.prototype,l=o.format;i.en.formats=s,o.format=function(c){c===void 0&&(c="YYYY-MM-DDTHH:mm:ssZ");var d=this.$locale().formats,u=function(h,f){return h.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(m,g,x){var j=x&&x.toUpperCase();return g||f[x]||s[x]||f[j].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(y,b,k){return b||k.slice(1)})})}(c,d===void 0?{}:d);return l.call(this,u)}}})})(QW);var JW={exports:{}};(function(t,e){(function(s,n){t.exports=n()})(Fr,function(){return function(s,n,a){var i=function(o,l){if(!l||!l.length||l.length===1&&!l[0]||l.length===1&&Array.isArray(l[0])&&!l[0].length)return null;var c;l.length===1&&l[0].length>0&&(l=l[0]),c=(l=l.filter(function(u){return u}))[0];for(var d=1;d<l.length;d+=1)l[d].isValid()&&!l[d][o](c)||(c=l[d]);return c};a.max=function(){var o=[].slice.call(arguments,0);return i("isAfter",o)},a.min=function(){var o=[].slice.call(arguments,0);return i("isBefore",o)}}})})(JW);var ZW={exports:{}};(function(t,e){(function(s,n){t.exports=n()})(Fr,function(){var s="minute",n=/[+-]\d\d(?::?\d\d)?/g,a=/([+-]|\d\d)/g;return function(i,o,l){var c=o.prototype;l.utc=function(x){var j={date:x,utc:!0,args:arguments};return new o(j)},c.utc=function(x){var j=l(this.toDate(),{locale:this.$L,utc:!0});return x?j.add(this.utcOffset(),s):j},c.local=function(){return l(this.toDate(),{locale:this.$L,utc:!1})};var d=c.parse;c.parse=function(x){x.utc&&(this.$u=!0),this.$utils().u(x.$offset)||(this.$offset=x.$offset),d.call(this,x)};var u=c.init;c.init=function(){if(this.$u){var x=this.$d;this.$y=x.getUTCFullYear(),this.$M=x.getUTCMonth(),this.$D=x.getUTCDate(),this.$W=x.getUTCDay(),this.$H=x.getUTCHours(),this.$m=x.getUTCMinutes(),this.$s=x.getUTCSeconds(),this.$ms=x.getUTCMilliseconds()}else u.call(this)};var h=c.utcOffset;c.utcOffset=function(x,j){var y=this.$utils().u;if(y(x))return this.$u?0:y(this.$offset)?h.call(this):this.$offset;if(typeof x=="string"&&(x=function(E){E===void 0&&(E="");var I=E.match(n);if(!I)return null;var _=(""+I[0]).match(a)||["-",0,0],v=_[0],P=60*+_[1]+ +_[2];return P===0?0:v==="+"?P:-P}(x),x===null))return this;var b=Math.abs(x)<=16?60*x:x,k=this;if(j)return k.$offset=b,k.$u=x===0,k;if(x!==0){var A=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(k=this.local().add(b+A,s)).$offset=b,k.$x.$localOffset=A}else k=this.utc();return k};var f=c.format;c.format=function(x){var j=x||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return f.call(this,j)},c.valueOf=function(){var x=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*x},c.isUTC=function(){return!!this.$u},c.toISOString=function(){return this.toDate().toISOString()},c.toString=function(){return this.toDate().toUTCString()};var m=c.toDate;c.toDate=function(x){return x==="s"&&this.$offset?l(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():m.call(this)};var g=c.diff;c.diff=function(x,j,y){if(x&&this.$u===x.$u)return g.call(this,x,j,y);var b=this.local(),k=l(x).local();return g.call(b,k,j,y)}}})})(ZW);function fi(t){return t.children}var Xr={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},Tr={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},h2=Object.keys(Tr).map(function(t){return Tr[t]});Te.oneOfType([Te.string,Te.func]);Te.any;Te.func;Te.oneOfType([Te.arrayOf(Te.oneOf(h2)),Te.objectOf(function(t,e){var s=h2.indexOf(e)!==-1&&typeof t[e]=="boolean";if(s)return null;for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];return Te.elementType.apply(Te,[t,e].concat(a))})]);Te.oneOfType([Te.oneOf(["overlap","no-overlap"]),Te.func]);var m2={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function b4(t,e){var s=ur(t,"month");return ur(s,"week",e.startOfWeek())}function v4(t,e){var s=vf(t,"month");return vf(s,"week",e.startOfWeek())}function eU(t,e){for(var s=b4(t,e),n=v4(t,e),a=[];Mc(s,n,"day");)a.push(s),s=ia(s,1,"day");return a}function tU(t,e){var s=ur(t,e);return Ic(s,t)?s:ia(s,1,e)}function sU(t,e){for(var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",n=t,a=[];Mc(n,e,s);)a.push(n),n=ia(n,1,s);return a}function rU(t,e){return e==null&&t==null?null:(e==null&&(e=new Date),t==null&&(t=new Date),t=ur(t,"day"),t=Au(t,Au(e)),t=jc(t,jc(e)),t=Su(t,Su(e)),_u(t,_u(e)))}function f2(t){return Au(t)===0&&jc(t)===0&&Su(t)===0&&_u(t)===0}function nU(t,e,s,n){return s==="day"&&(s="date"),Math.abs(Xv[s](t,void 0,n)-Xv[s](e,void 0,n))}function By(t,e,s){return!s||s==="milliseconds"?Math.abs(+t-+e):Math.round(Math.abs(+ur(t,s)/m2[s]-+ur(e,s)/m2[s]))}var aU=Te.oneOfType([Te.string,Te.func]);function iU(t,e,s,n,a){var i=typeof n=="function"?n(s,a,t):e.call(t,s,n,a);return bu(i==null||typeof i=="string","`localizer format(..)` must return a string, null, or undefined"),i}function oU(t,e,s){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,e+s,0,0)}function qy(t,e){return t.getTimezoneOffset()-e.getTimezoneOffset()}function lU(t,e){return By(t,e,"minutes")+qy(t,e)}function cU(t){var e=ur(t,"day");return By(e,t,"minutes")+qy(e,t)}function dU(t,e){return cy(t,e,"day")}function uU(t,e,s){var n=Ic(t,e,"minutes");return n?Xu(e,s,"minutes"):Qf(e,s,"minutes")}function og(t,e){return nU(t,e,"day")}function hU(t){var e=t.evtA,s=e.start,n=e.end,a=e.allDay,i=t.evtB,o=i.start,l=i.end,c=i.allDay,d=+ur(s,"day")-+ur(o,"day"),u=og(s,n),h=og(o,l);return d||h-u||!!c-!!a||+s-+o||+n-+l}function mU(t){var e=t.event,s=e.start,n=e.end,a=t.range,i=a.start,o=a.end,l=ur(s,"day"),c=Mc(l,o,"day"),d=ly(l,n,"minutes"),u=d?Qf(n,i,"minutes"):Xu(n,i,"minutes");return c&&u}function fU(t,e){return Ic(t,e,"day")}function pU(t,e){return f2(t)&&f2(e)}var xU=Ks(function t(e){var s=this;Gs(this,t),bu(typeof e.format=="function","date localizer `format(..)` must be a function"),bu(typeof e.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=e.propType||aU,this.formats=e.formats,this.format=function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return iU.apply(void 0,[s,e.format].concat(a))},this.startOfWeek=e.firstOfWeek,this.merge=e.merge||rU,this.inRange=e.inRange||x5,this.lt=e.lt||cy,this.lte=e.lte||Mc,this.gt=e.gt||Qf,this.gte=e.gte||Xu,this.eq=e.eq||Ic,this.neq=e.neq||ly,this.startOf=e.startOf||ur,this.endOf=e.endOf||vf,this.add=e.add||ia,this.range=e.range||sU,this.diff=e.diff||By,this.ceil=e.ceil||tU,this.min=e.min||f5,this.max=e.max||p5,this.minutes=e.minutes||jc,this.daySpan=e.daySpan||og,this.firstVisibleDay=e.firstVisibleDay||b4,this.lastVisibleDay=e.lastVisibleDay||v4,this.visibleDays=e.visibleDays||eU,this.getSlotDate=e.getSlotDate||oU,this.getTimezoneOffset=e.getTimezoneOffset||function(n){return n.getTimezoneOffset()},this.getDstOffset=e.getDstOffset||qy,this.getTotalMin=e.getTotalMin||lU,this.getMinutesFromMidnight=e.getMinutesFromMidnight||cU,this.continuesPrior=e.continuesPrior||dU,this.continuesAfter=e.continuesAfter||uU,this.sortEvents=e.sortEvents||hU,this.inEventRange=e.inEventRange||mU,this.isSameDate=e.isSameDate||fU,this.startAndEndAreDateOnly=e.startAndEndAreDateOnly||pU,this.segmentOffset=e.browserTZOffset?e.browserTZOffset():0});function gU(t,e,s,n){var a=Vt(Vt({},t.formats),s);return Vt(Vt({},t),{},{messages:n,startOfWeek:function(){return t.startOfWeek(e)},format:function(o,l){return t.format(o,a[l]||l,e)}})}var yU=function(t){function e(){var s;Gs(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return s=Cr(this,e,[].concat(a)),s.navigate=function(o){s.props.onNavigate(o)},s.view=function(o){s.props.onView(o)},s}return Pr(e,t),Ks(e,[{key:"render",value:function(){var n=this.props,a=n.localizer.messages,i=n.label;return ce.createElement("div",{className:"rbc-toolbar"},ce.createElement("span",{className:"rbc-btn-group"},ce.createElement("button",{type:"button",onClick:this.navigate.bind(null,Xr.TODAY)},a.today),ce.createElement("button",{type:"button",onClick:this.navigate.bind(null,Xr.PREVIOUS)},a.previous),ce.createElement("button",{type:"button",onClick:this.navigate.bind(null,Xr.NEXT)},a.next)),ce.createElement("span",{className:"rbc-toolbar-label"},i),ce.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(a)))}},{key:"viewNamesGroup",value:function(n){var a=this,i=this.props.views,o=this.props.view;if(i.length>1)return i.map(function(l){return ce.createElement("button",{type:"button",key:l,className:ys({"rbc-active":o===l}),onClick:a.view.bind(null,l)},n[l])})}}])}(ce.Component);function es(t,e){t&&t.apply(null,[].concat(e))}var bU={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(e){return"+".concat(e," more")}};function vU(t){return Vt(Vt({},bU),t)}function wU(t){var e=t.ref,s=t.callback;U.useEffect(function(){var n=function(i){e.current&&!e.current.contains(i.target)&&s()};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}},[e,s])}var jU=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],w4=function(t){function e(){return Gs(this,e),Cr(this,e,arguments)}return Pr(e,t),Ks(e,[{key:"render",value:function(){var n=this.props,a=n.style,i=n.className,o=n.event,l=n.selected,c=n.isAllDay,d=n.onSelect,u=n.onDoubleClick,h=n.onKeyPress,f=n.localizer,m=n.continuesPrior,g=n.continuesAfter,x=n.accessors,j=n.getters,y=n.children,b=n.components,k=b.event,A=b.eventWrapper,E=n.slotStart,I=n.slotEnd,_=Ha(n,jU);delete _.resizable;var v=x.title(o),P=x.tooltip(o),L=x.end(o),S=x.start(o),C=x.allDay(o),O=c||C||f.diff(S,f.ceil(L,"day"),"day")>1,z=j.eventProp(o,S,L,l),Z=ce.createElement("div",{className:"rbc-event-content",title:P||void 0},k?ce.createElement(k,{event:o,continuesPrior:m,continuesAfter:g,title:v,isAllDay:C,localizer:f,slotStart:E,slotEnd:I}):v);return ce.createElement(A,Object.assign({},this.props,{type:"date"}),ce.createElement("div",Object.assign({},_,{style:Vt(Vt({},z.style),a),className:ys("rbc-event",i,z.className,{"rbc-selected":l,"rbc-event-allday":O,"rbc-event-continues-prior":m,"rbc-event-continues-after":g}),onClick:function(R){return d&&d(o,R)},onDoubleClick:function(R){return u&&u(o,R)},onKeyDown:function(R){return h&&h(o,R)}}),typeof y=="function"?y(Z):Z))}}])}(ce.Component);function mp(t,e){return!t||e==null?!1:$O(t,e)}function j4(t,e){var s=t.right-t.left,n=s/e;return n}function N4(t,e,s,n){var a=j4(t,n);return s?n-1-Math.floor((e-t.left)/a):Math.floor((e-t.left)/a)}function NU(t,e){var s=e.x,n=e.y;return n>=t.top&&n<=t.bottom&&s>=t.left&&s<=t.right}function kU(t,e,s,n,a){var i=-1,o=-1,l=n-1,c=j4(e,n),d=N4(e,s.x,a,n),u=e.top<s.y&&e.bottom>s.y,h=e.top<t.y&&e.bottom>t.y,f=t.y>e.bottom,m=e.top>t.y,g=s.top<e.top&&s.bottom>e.bottom;return g&&(i=0,o=l),u&&(m?(i=0,o=d):f&&(i=d,o=l)),h&&(i=o=a?l-Math.floor((t.x-e.left)/c):Math.floor((t.x-e.left)/c),u?d<i?i=d:o=d:t.y<s.y?o=l:i=0),{startIdx:i,endIdx:o}}function _U(t){var e=t.target,s=t.offset,n=t.container,a=t.box,i=Vo(e),o=i.top,l=i.left,c=i.width,d=i.height,u=Vo(n),h=u.top,f=u.left,m=u.width,g=u.height,x=Vo(a),j=x.width,y=x.height,b=h+g,k=f+m,A=o+y,E=l+j,I=s.x,_=s.y,v=A>b?o-y-_:o+_+d,P=E>k?l+I-j+c:l+I;return{topOffset:v,leftOffset:P}}function SU(t){var e=t.containerRef,s=t.accessors,n=t.getters,a=t.selected,i=t.components,o=t.localizer,l=t.position,c=t.show,d=t.events,u=t.slotStart,h=t.slotEnd,f=t.onSelect,m=t.onDoubleClick,g=t.onKeyPress,x=t.handleDragStart,j=t.popperRef,y=t.target,b=t.offset;wU({ref:j,callback:c}),U.useLayoutEffect(function(){var E=_U({target:y,offset:b,container:e.current,box:j.current}),I=E.topOffset,_=E.leftOffset;j.current.style.top="".concat(I,"px"),j.current.style.left="".concat(_,"px")},[b.x,b.y,y]);var k=l.width,A={minWidth:k+k/2};return ce.createElement("div",{style:A,className:"rbc-overlay",ref:j},ce.createElement("div",{className:"rbc-overlay-header"},o.format(u,"dayHeaderFormat")),d.map(function(E,I){return ce.createElement(w4,{key:I,type:"popup",localizer:o,event:E,getters:n,onSelect:f,accessors:s,components:i,onDoubleClick:m,onKeyPress:g,continuesPrior:o.lt(s.end(E),u,"day"),continuesAfter:o.gte(s.start(E),h,"day"),slotStart:u,slotEnd:h,selected:mp(E,a),draggable:!0,onDragStart:function(){return x(E)},onDragEnd:function(){return c()}})}))}var k4=ce.forwardRef(function(t,e){return ce.createElement(SU,Object.assign({},t,{popperRef:e}))});k4.propTypes={accessors:Te.object.isRequired,getters:Te.object.isRequired,selected:Te.object,components:Te.object.isRequired,localizer:Te.object.isRequired,position:Te.object.isRequired,show:Te.func.isRequired,events:Te.array.isRequired,slotStart:Te.instanceOf(Date).isRequired,slotEnd:Te.instanceOf(Date),onSelect:Te.func,onDoubleClick:Te.func,onKeyPress:Te.func,handleDragStart:Te.func,style:Te.object,offset:Te.shape({x:Te.number,y:Te.number})};function AU(t){var e=t.containerRef,s=t.popupOffset,n=s===void 0?5:s,a=t.overlay,i=t.accessors,o=t.localizer,l=t.components,c=t.getters,d=t.selected,u=t.handleSelectEvent,h=t.handleDoubleClickEvent,f=t.handleKeyPressEvent,m=t.handleDragStart,g=t.onHide,x=t.overlayDisplay,j=U.useRef(null);if(!a.position)return null;var y=n;isNaN(n)||(y={x:n,y:n});var b=a.position,k=a.events,A=a.date,E=a.end;return ce.createElement(ky,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:g,target:a.target},function(I){var _=I.props;return ce.createElement(k4,Object.assign({},_,{containerRef:e,ref:j,target:a.target,offset:y,accessors:i,getters:c,selected:d,components:l,localizer:o,position:b,show:x,events:k,slotStart:A,slotEnd:E,onSelect:u,onDoubleClick:h,onKeyPress:f,handleDragStart:m}))})}var Hy=ce.forwardRef(function(t,e){return ce.createElement(AU,Object.assign({},t,{containerRef:e}))});Hy.propTypes={popupOffset:Te.oneOfType([Te.number,Te.shape({x:Te.number,y:Te.number})]),overlay:Te.shape({position:Te.object,events:Te.array,date:Te.instanceOf(Date),end:Te.instanceOf(Date)}),accessors:Te.object.isRequired,localizer:Te.object.isRequired,components:Te.object.isRequired,getters:Te.object.isRequired,selected:Te.object,handleSelectEvent:Te.func,handleDoubleClickEvent:Te.func,handleKeyPressEvent:Te.func,handleDragStart:Te.func,onHide:Te.func,overlayDisplay:Te.func};function xr(t,e){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return Hd(s,t,e,{passive:!1})}function CU(t,e,s){return!t||Cu(t,document.elementFromPoint(e,s))}function PU(t,e){var s=e.clientX,n=e.clientY,a=document.elementFromPoint(s,n);return X5(a,".rbc-event",t)}function EU(t,e){var s=e.clientX,n=e.clientY,a=document.elementFromPoint(s,n);return X5(a,".rbc-show-more",t)}function Af(t,e){return!!PU(t,e)}function DU(t,e){return!!EU(t,e)}function Dd(t){var e=t;return t.touches&&t.touches.length&&(e=t.touches[0]),{clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY}}var p2=5,LU=250,_4=function(){function t(e){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=s.global,a=n===void 0?!1:n,i=s.longPressThreshold,o=i===void 0?250:i,l=s.validContainers,c=l===void 0?[]:l;Gs(this,t),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=e,this.globalMouse=!e||a,this.longPressThreshold=o,this.validContainers=c,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=xr("touchmove",function(){},window),this._removeKeyDownListener=xr("keydown",this._keyListener),this._removeKeyUpListener=xr("keyup",this._keyListener),this._removeDropFromOutsideListener=xr("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=xr("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return Ks(t,[{key:"on",value:function(s,n){var a=this._listeners[s]||(this._listeners[s]=[]);return a.push(n),{remove:function(){var o=a.indexOf(n);o!==-1&&a.splice(o,1)}}}},{key:"emit",value:function(s){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];var o,l=this._listeners[s]||[];return l.forEach(function(c){o===void 0&&(o=c.apply(void 0,a))}),o}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(s){var n=this._selectRect;return!n||!this.selecting?!1:x2(n,ol(s))}},{key:"filter",value:function(s){var n=this._selectRect;return!n||!this.selecting?[]:s.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(s,n){var a=this,i=null,o=null,l=null,c=function(f){i=setTimeout(function(){u(),s(f)},a.longPressThreshold),o=xr("touchmove",function(){return u()}),l=xr("touchend",function(){return u()})},d=xr("touchstart",c),u=function(){i&&clearTimeout(i),o&&o(),l&&l(),i=null,o=null,l=null};return n&&c(n),function(){u(),d()}}},{key:"_addInitialEventListener",value:function(){var s=this,n=xr("mousedown",function(i){s._removeInitialEventListener(),s._handleInitialEvent(i),s._removeInitialEventListener=xr("mousedown",s._handleInitialEvent)}),a=xr("touchstart",function(i){s._removeInitialEventListener(),s._removeInitialEventListener=s._addLongPressListener(s._handleInitialEvent,i)});this._removeInitialEventListener=function(){n(),a()}}},{key:"_dropFromOutsideListener",value:function(s){var n=Dd(s),a=n.pageX,i=n.pageY,o=n.clientX,l=n.clientY;this.emit("dropFromOutside",{x:a,y:i,clientX:o,clientY:l}),s.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(s){var n=Dd(s),a=n.pageX,i=n.pageY,o=n.clientX,l=n.clientY;this.emit("dragOverFromOutside",{x:a,y:i,clientX:o,clientY:l}),s.preventDefault()}},{key:"_handleInitialEvent",value:function(s){if(this._initialEvent=s,!this.isDetached){var n=Dd(s),a=n.clientX,i=n.clientY,o=n.pageX,l=n.pageY,c=this.container(),d,u;if(!(s.which===3||s.button===2||!CU(c,a,i))){if(!this.globalMouse&&c&&!Cu(c,s.target)){var h=IU(0),f=h.top,m=h.left,g=h.bottom,x=h.right;if(u=ol(c),d=x2({top:u.top-f,left:u.left-m,bottom:u.bottom+g,right:u.right+x},{top:l,left:o}),!d)return}var j=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(s.type),x:o,y:l,clientX:a,clientY:i});if(j!==!1)switch(s.type){case"mousedown":this._removeEndListener=xr("mouseup",this._handleTerminatingEvent),this._onEscListener=xr("keydown",this._handleTerminatingEvent),this._removeMoveListener=xr("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(s),this._removeEndListener=xr("touchend",this._handleTerminatingEvent),this._removeMoveListener=xr("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(s){var n=s.target,a=this.validContainers;return!a||!a.length||!n?!0:a.some(function(i){return!!n.closest(i)})}},{key:"_handleTerminatingEvent",value:function(s){var n=this.selecting,a=this._selectRect;if(!n&&s.type.includes("key")&&(s=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!s){var i=!this.container||Cu(this.container(),s.target),o=this._isWithinValidContainer(s);return s.key==="Escape"||!o?this.emit("reset"):!n&&i?this._handleClickEvent(s):n?this.emit("select",a):this.emit("reset")}}},{key:"_handleClickEvent",value:function(s){var n=Dd(s),a=n.pageX,i=n.pageY,o=n.clientX,l=n.clientY,c=new Date().getTime();return this._lastClickData&&c-this._lastClickData.timestamp<LU?(this._lastClickData=null,this.emit("doubleClick",{x:a,y:i,clientX:o,clientY:l})):(this._lastClickData={timestamp:c},this.emit("click",{x:a,y:i,clientX:o,clientY:l}))}},{key:"_handleMoveEvent",value:function(s){if(!(this._initialEventData===null||this.isDetached)){var n=this._initialEventData,a=n.x,i=n.y,o=Dd(s),l=o.pageX,c=o.pageY,d=Math.abs(a-l),u=Math.abs(i-c),h=Math.min(l,a),f=Math.min(c,i),m=this.selecting,g=this.isClick(l,c);g&&!m&&!(d||u)||(!m&&!g&&this.emit("selectStart",this._initialEventData),g||(this.selecting=!0,this._selectRect={top:f,left:h,x:l,y:c,right:h+d,bottom:f+u},this.emit("selecting",this._selectRect)),s.preventDefault())}}},{key:"_keyListener",value:function(s){this.ctrl=s.metaKey||s.ctrlKey}},{key:"isClick",value:function(s,n){var a=this._initialEventData,i=a.x,o=a.y,l=a.isTouch;return!l&&Math.abs(s-i)<=p2&&Math.abs(n-o)<=p2}}])}();function IU(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return _t(t)!=="object"&&(t={top:t,left:t,right:t,bottom:t}),t}function x2(t,e){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=ol(t),a=n.top,i=n.left,o=n.right,l=o===void 0?i:o,c=n.bottom,d=c===void 0?a:c,u=ol(e),h=u.top,f=u.left,m=u.right,g=m===void 0?f:m,x=u.bottom,j=x===void 0?h:x;return!(d-s<h||a+s>j||l-s<f||i+s>g)}function ol(t){if(!t.getBoundingClientRect)return t;var e=t.getBoundingClientRect(),s=e.left+g2("left"),n=e.top+g2("top");return{top:n,left:s,right:(t.offsetWidth||0)+s,bottom:(t.offsetHeight||0)+n}}function g2(t){if(t==="left")return window.pageXOffset||document.body.scrollLeft||0;if(t==="top")return window.pageYOffset||document.body.scrollTop||0}var MU=function(t){function e(s,n){var a;return Gs(this,e),a=Cr(this,e,[s,n]),a.state={selecting:!1},a.containerRef=U.createRef(),a}return Pr(e,t),Ks(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(n){!n.selectable&&this.props.selectable&&this._selectable(),n.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var n=this.props,a=n.range,i=n.getNow,o=n.getters,l=n.date,c=n.components.dateCellWrapper,d=n.localizer,u=this.state,h=u.selecting,f=u.startIdx,m=u.endIdx,g=i();return ce.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},a.map(function(x,j){var y=h&&j>=f&&j<=m,b=o.dayProp(x),k=b.className,A=b.style;return ce.createElement(c,{key:j,value:x,range:a},ce.createElement("div",{style:A,className:ys("rbc-day-bg",k,y&&"rbc-selected-cell",d.isSameDate(x,g)&&"rbc-today",l&&d.neq(l,x,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var n=this,a=this.containerRef.current,i=this._selector=new _4(this.props.container,{longPressThreshold:this.props.longPressThreshold}),o=function(c,d){if(!Af(a,c)&&!DU(a,c)){var u=ol(a),h=n.props,f=h.range,m=h.rtl;if(NU(u,c)){var g=N4(u,c.x,m,f.length);n._selectSlot({startIdx:g,endIdx:g,action:d,box:c})}}n._initial={},n.setState({selecting:!1})};i.on("selecting",function(l){var c=n.props,d=c.range,u=c.rtl,h=-1,f=-1;if(n.state.selecting||(es(n.props.onSelectStart,[l]),n._initial={x:l.x,y:l.y}),i.isSelected(a)){var m=ol(a),g=kU(n._initial,m,l,d.length,u);h=g.startIdx,f=g.endIdx}n.setState({selecting:!0,startIdx:h,endIdx:f})}),i.on("beforeSelect",function(l){if(n.props.selectable==="ignoreEvents")return!Af(n.containerRef.current,l)}),i.on("click",function(l){return o(l,"click")}),i.on("doubleClick",function(l){return o(l,"doubleClick")}),i.on("select",function(l){n._selectSlot(Vt(Vt({},n.state),{},{action:"select",bounds:l})),n._initial={},n.setState({selecting:!1}),es(n.props.onSelectEnd,[n.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(n){var a=n.endIdx,i=n.startIdx,o=n.action,l=n.bounds,c=n.box;a!==-1&&i!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:i,end:a,action:o,bounds:l,box:c,resourceId:this.props.resourceId})}}])}(ce.Component),Ta={propTypes:{slotMetrics:Te.object.isRequired,selected:Te.object,isAllDay:Te.bool,accessors:Te.object.isRequired,localizer:Te.object.isRequired,components:Te.object.isRequired,getters:Te.object.isRequired,onSelect:Te.func,onDoubleClick:Te.func,onKeyPress:Te.func},defaultProps:{segments:[],selected:{}},renderEvent:function(e,s){var n=e.selected;e.isAllDay;var a=e.accessors,i=e.getters,o=e.onSelect,l=e.onDoubleClick,c=e.onKeyPress,d=e.localizer,u=e.slotMetrics,h=e.components,f=e.resizable,m=u.continuesPrior(s),g=u.continuesAfter(s);return ce.createElement(w4,{event:s,getters:i,localizer:d,accessors:a,components:h,onSelect:o,onDoubleClick:l,onKeyPress:c,continuesPrior:m,continuesAfter:g,slotStart:u.first,slotEnd:u.last,selected:mp(s,n),resizable:f})},renderSpan:function(e,s,n){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",i=Math.abs(s)/e*100+"%";return ce.createElement("div",{key:n,className:"rbc-row-segment",style:{WebkitFlexBasis:i,flexBasis:i,maxWidth:i}},a)}},S4=function(t){function e(){return Gs(this,e),Cr(this,e,arguments)}return Pr(e,t),Ks(e,[{key:"render",value:function(){var n=this,a=this.props,i=a.segments,o=a.slotMetrics.slots,l=a.className,c=1;return ce.createElement("div",{className:ys(l,"rbc-row")},i.reduce(function(d,u,h){var f=u.event,m=u.left,g=u.right,x=u.span,j="_lvl_"+h,y=m-c,b=Ta.renderEvent(n.props,f);return y&&d.push(Ta.renderSpan(o,y,"".concat(j,"_gap"))),d.push(Ta.renderSpan(o,x,j,b)),c=g+1,d},[]))}}])}(ce.Component);S4.defaultProps=Vt({},Ta.defaultProps);function A4(t){var e=t.dateRange,s=t.unit,n=s===void 0?"day":s,a=t.localizer;return{first:e[0],last:a.add(e[e.length-1],1,n)}}function TU(t,e,s,n){var a=A4({dateRange:e,localizer:n}),i=a.first,o=a.last,l=n.diff(i,o,"day"),c=n.max(n.startOf(s.start(t),"day"),i),d=n.min(n.ceil(s.end(t),"day"),o),u=z9(e,function(f){return n.isSameDate(f,c)}),h=n.diff(c,d,"day");return h=Math.min(h,l),h=Math.max(h-n.segmentOffset,1),{event:t,span:h,left:u+1,right:Math.max(u+h,1)}}function C4(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,s,n,a,i=[],o=[];for(s=0;s<t.length;s++){for(a=t[s],n=0;n<i.length&&FU(a,i[n]);n++);n>=e?o.push(a):(i[n]||(i[n]=[])).push(a)}for(s=0;s<i.length;s++)i[s].sort(function(l,c){return l.left-c.left});return{levels:i,extra:o}}function Du(t,e,s,n,a){var i={start:n.start(t),end:n.end(t)},o={start:e,end:s};return a.inEventRange({event:i,range:o})}function FU(t,e){return e.some(function(s){return s.left<=t.right&&s.right>=t.left})}function OU(t,e,s){var n=Km(t),a=[],i=[];n.forEach(function(c){var d=e.start(c),u=e.end(c);s.daySpan(d,u)>1?a.push(c):i.push(c)});var o=a.sort(function(c,d){return lg(c,d,e,s)}),l=i.sort(function(c,d){return lg(c,d,e,s)});return[].concat(Km(o),Km(l))}function lg(t,e,s,n){var a={start:s.start(t),end:s.end(t),allDay:s.allDay(t)},i={start:s.start(e),end:s.end(e),allDay:s.allDay(e)};return n.sortEvents({evtA:a,evtB:i})}var P4=function(e,s){return e.left<=s&&e.right>=s},y2=function(e,s){return e.filter(function(n){return P4(n,s)}).map(function(n){return n.event})},E4=function(t){function e(){return Gs(this,e),Cr(this,e,arguments)}return Pr(e,t),Ks(e,[{key:"render",value:function(){for(var n=this.props,a=n.segments,i=n.slotMetrics.slots,o=C4(a).levels[0],l=1,c=1,d=[];l<=i;){var u="_lvl_"+l,h=o.filter(function(b){return P4(b,l)})[0]||{},f=h.event,m=h.left,g=h.right,x=h.span;if(!f){l++;continue}var j=Math.max(0,m-c);if(this.canRenderSlotEvent(m,x)){var y=Ta.renderEvent(this.props,f);j&&d.push(Ta.renderSpan(i,j,u+"_gap")),d.push(Ta.renderSpan(i,x,u,y)),c=l=g+1}else j&&d.push(Ta.renderSpan(i,j,u+"_gap")),d.push(Ta.renderSpan(i,1,u,this.renderShowMore(a,l))),c=l=l+1}return ce.createElement("div",{className:"rbc-row"},d)}},{key:"canRenderSlotEvent",value:function(n,a){var i=this.props.segments;return J9(n,n+a).every(function(o){var l=y2(i,o).length;return l===1})}},{key:"renderShowMore",value:function(n,a){var i=this,o=this.props,l=o.localizer,c=o.slotMetrics,d=o.components,u=c.getEventsForSlot(a),h=y2(n,a),f=h.length;if(d!=null&&d.showMore){var m=d.showMore,g=c.getDateForSlot(a-1);return f?ce.createElement(m,{localizer:l,slotDate:g,slot:a,count:f,events:u,remainingEvents:h}):!1}return f?ce.createElement("button",{type:"button",key:"sm_"+a,className:ys("rbc-button-link","rbc-show-more"),onClick:function(j){return i.showMore(a,j)}},l.messages.showMore(f,h,u)):!1}},{key:"showMore",value:function(n,a){a.preventDefault(),a.stopPropagation(),this.props.onShowMore(n,a.target)}}])}(ce.Component);E4.defaultProps=Vt({},Ta.defaultProps);var RU=function(e){var s=e.children;return ce.createElement("div",{className:"rbc-row-content-scroll-container"},s)},$U=function(e,s){return e.left<=s&&e.right>=s},zU=function(e,s){return e[0].range===s[0].range&&e[0].events===s[0].events};function D4(){return t4(function(t){for(var e=t.range,s=t.events,n=t.maxRows,a=t.minRows,i=t.accessors,o=t.localizer,l=A4({dateRange:e,localizer:o}),c=l.first,d=l.last,u=s.map(function(x){return TU(x,e,i,o)}),h=C4(u,Math.max(n-1,1)),f=h.levels,m=h.extra,g=m.length>0?a-1:a;f.length<g;)f.push([]);return{first:c,last:d,levels:f,extra:m,range:e,slots:e.length,clone:function(j){var y=D4();return y(Vt(Vt({},t),j))},getDateForSlot:function(j){return e[j]},getSlotForDate:function(j){return e.find(function(y){return o.isSameDate(y,j)})},getEventsForSlot:function(j){return u.filter(function(y){return $U(y,j)}).map(function(y){return y.event})},continuesPrior:function(j){return o.continuesPrior(i.start(j),c)},continuesAfter:function(j){var y=i.start(j),b=i.end(j);return o.continuesAfter(y,b,d)}}},zU)}var Lu=function(t){function e(){var s;Gs(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return s=Cr(this,e,[].concat(a)),s.handleSelectSlot=function(o){var l=s.props,c=l.range,d=l.onSelectSlot;d(c.slice(o.start,o.end+1),o)},s.handleShowMore=function(o,l){var c=s.props,d=c.range,u=c.onShowMore,h=s.slotMetrics(s.props),f=RD(s.containerRef.current,".rbc-row-bg")[0],m;f&&(m=f.children[o-1]);var g=h.getEventsForSlot(o);u(g,d[o-1],m,o,l)},s.getContainer=function(){var o=s.props.container;return o?o():s.containerRef.current},s.renderHeadingCell=function(o,l){var c=s.props,d=c.renderHeader,u=c.getNow,h=c.localizer;return d({date:o,key:"header_".concat(l),className:ys("rbc-date-cell",h.isSameDate(o,u())&&"rbc-now")})},s.renderDummy=function(){var o=s.props,l=o.className,c=o.range,d=o.renderHeader,u=o.showAllEvents;return ce.createElement("div",{className:l,ref:s.containerRef},ce.createElement("div",{className:ys("rbc-row-content",u&&"rbc-row-content-scrollable")},d&&ce.createElement("div",{className:"rbc-row",ref:s.headingRowRef},c.map(s.renderHeadingCell)),ce.createElement("div",{className:"rbc-row",ref:s.eventRowRef},ce.createElement("div",{className:"rbc-row-segment"},ce.createElement("div",{className:"rbc-event"},ce.createElement("div",{className:"rbc-event-content"},""))))))},s.containerRef=U.createRef(),s.headingRowRef=U.createRef(),s.eventRowRef=U.createRef(),s.slotMetrics=D4(),s}return Pr(e,t),Ks(e,[{key:"getRowLimit",value:function(){var n,a=Yx(this.eventRowRef.current),i=(n=this.headingRowRef)!==null&&n!==void 0&&n.current?Yx(this.headingRowRef.current):0,o=Yx(this.containerRef.current)-i;return Math.max(Math.floor(o/a),1)}},{key:"render",value:function(){var n=this.props,a=n.date,i=n.rtl,o=n.range,l=n.className,c=n.selected,d=n.selectable,u=n.renderForMeasure,h=n.accessors,f=n.getters,m=n.components,g=n.getNow,x=n.renderHeader,j=n.onSelect,y=n.localizer,b=n.onSelectStart,k=n.onSelectEnd,A=n.onDoubleClick,E=n.onKeyPress,I=n.resourceId,_=n.longPressThreshold,v=n.isAllDay,P=n.resizable,L=n.showAllEvents;if(u)return this.renderDummy();var S=this.slotMetrics(this.props),C=S.levels,O=S.extra,z=L?RU:fi,Z=m.weekWrapper,q={selected:c,accessors:h,getters:f,localizer:y,components:m,onSelect:j,onDoubleClick:A,onKeyPress:E,resourceId:I,slotMetrics:S,resizable:P};return ce.createElement("div",{className:l,role:"rowgroup",ref:this.containerRef},ce.createElement(MU,{localizer:y,date:a,getNow:g,rtl:i,range:o,selectable:d,container:this.getContainer,getters:f,onSelectStart:b,onSelectEnd:k,onSelectSlot:this.handleSelectSlot,components:m,longPressThreshold:_,resourceId:I}),ce.createElement("div",{className:ys("rbc-row-content",L&&"rbc-row-content-scrollable"),role:"row"},x&&ce.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},o.map(this.renderHeadingCell)),ce.createElement(z,null,ce.createElement(Z,Object.assign({isAllDay:v},q,{rtl:this.props.rtl}),C.map(function(R,X){return ce.createElement(S4,Object.assign({key:X,segments:R},q))}),!!O.length&&ce.createElement(E4,Object.assign({segments:O,onShowMore:this.handleShowMore},q))))))}}])}(ce.Component);Lu.defaultProps={minRows:0,maxRows:1/0};var Wy=function(e){var s=e.label;return ce.createElement("span",{role:"columnheader","aria-sort":"none"},s)},BU=function(e){var s=e.label,n=e.drilldownView,a=e.onDrillDown;return n?ce.createElement("button",{type:"button",className:"rbc-button-link",onClick:a},s):ce.createElement("span",null,s)},qU=["date","className"],HU=function(e,s,n,a,i){return e.filter(function(o){return Du(o,s,n,a,i)})},fp=function(t){function e(){var s;Gs(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return s=Cr(this,e,[].concat(a)),s.getContainer=function(){return s.containerRef.current},s.renderWeek=function(o,l){var c=s.props,d=c.events,u=c.components,h=c.selectable,f=c.getNow,m=c.selected,g=c.date,x=c.localizer,j=c.longPressThreshold,y=c.accessors,b=c.getters,k=c.showAllEvents,A=s.state,E=A.needLimitMeasure,I=A.rowLimit,_=HU(Km(d),o[0],o[o.length-1],y,x),v=OU(_,y,x);return ce.createElement(Lu,{key:l,ref:l===0?s.slotRowRef:void 0,container:s.getContainer,className:"rbc-month-row",getNow:f,date:g,range:o,events:v,maxRows:k?1/0:I,selected:m,selectable:h,components:u,accessors:y,getters:b,localizer:x,renderHeader:s.readerDateHeading,renderForMeasure:E,onShowMore:s.handleShowMore,onSelect:s.handleSelectEvent,onDoubleClick:s.handleDoubleClickEvent,onKeyPress:s.handleKeyPressEvent,onSelectSlot:s.handleSelectSlot,longPressThreshold:j,rtl:s.props.rtl,resizable:s.props.resizable,showAllEvents:k})},s.readerDateHeading=function(o){var l=o.date,c=o.className,d=Ha(o,qU),u=s.props,h=u.date,f=u.getDrilldownView,m=u.localizer,g=m.neq(l,h,"month"),x=m.isSameDate(l,h),j=f(l),y=m.format(l,"dateFormat"),b=s.props.components.dateHeader||BU;return ce.createElement("div",Object.assign({},d,{className:ys(c,g&&"rbc-off-range",x&&"rbc-current"),role:"cell"}),ce.createElement(b,{label:y,date:l,drilldownView:j,isOffRange:g,onDrillDown:function(A){return s.handleHeadingClick(l,j,A)}}))},s.handleSelectSlot=function(o,l){s._pendingSelection=s._pendingSelection.concat(o),clearTimeout(s._selectTimer),s._selectTimer=setTimeout(function(){return s.selectDates(l)})},s.handleHeadingClick=function(o,l,c){c.preventDefault(),s.clearSelection(),es(s.props.onDrillDown,[o,l])},s.handleSelectEvent=function(){s.clearSelection();for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];es(s.props.onSelectEvent,l)},s.handleDoubleClickEvent=function(){s.clearSelection();for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];es(s.props.onDoubleClickEvent,l)},s.handleKeyPressEvent=function(){s.clearSelection();for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];es(s.props.onKeyPressEvent,l)},s.handleShowMore=function(o,l,c,d,u){var h=s.props,f=h.popup,m=h.onDrillDown,g=h.onShowMore,x=h.getDrilldownView,j=h.doShowMoreDrillDown;if(s.clearSelection(),f){var y=P5(c,s.containerRef.current);s.setState({overlay:{date:l,events:o,position:y,target:u}})}else j&&es(m,[l,x(l)||Tr.DAY]);es(g,[o,l,d])},s.overlayDisplay=function(){s.setState({overlay:null})},s.state={rowLimit:5,needLimitMeasure:!0,date:null},s.containerRef=U.createRef(),s.slotRowRef=U.createRef(),s._bgRows=[],s._pendingSelection=[],s}return Pr(e,t),Ks(e,[{key:"componentDidMount",value:function(){var n=this,a;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){a||E5(function(){a=!1,n.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var n=this.props,a=n.date,i=n.localizer,o=n.className,l=i.visibleDays(a,i),c=jD(l,7);return this._weekCount=c.length,ce.createElement("div",{className:ys("rbc-month-view",o),role:"table","aria-label":"Month View",ref:this.containerRef},ce.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(c[0])),c.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(n){var a=this.props,i=a.localizer,o=a.components,l=n[0],c=n[n.length-1],d=o.header||Wy;return i.range(l,c,"day").map(function(u,h){return ce.createElement("div",{key:"header_"+h,className:"rbc-header"},ce.createElement(d,{date:u,localizer:i,label:i.format(u,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var n,a,i=this,o=(n=(a=this.state)===null||a===void 0?void 0:a.overlay)!==null&&n!==void 0?n:{},l=this.props,c=l.accessors,d=l.localizer,u=l.components,h=l.getters,f=l.selected,m=l.popupOffset,g=l.handleDragStart,x=function(){return i.setState({overlay:null})};return ce.createElement(Hy,{overlay:o,accessors:c,localizer:d,components:u,getters:h,selected:f,popupOffset:m,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:g,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:x})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(n){var a=this._pendingSelection.slice();this._pendingSelection=[],a.sort(function(l,c){return+l-+c});var i=new Date(a[0]),o=new Date(a[a.length-1]);o.setDate(a[a.length-1].getDate()+1),es(this.props.onSelectSlot,{slots:a,start:i,end:o,action:n.action,bounds:n.bounds,box:n.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(n,a){var i=n.date,o=n.localizer;return{date:i,needLimitMeasure:o.neq(i,a.date,"month")}}}])}(ce.Component);fp.range=function(t,e){var s=e.localizer,n=s.firstVisibleDay(t,s),a=s.lastVisibleDay(t,s);return{start:n,end:a}};fp.navigate=function(t,e,s){var n=s.localizer;switch(e){case Xr.PREVIOUS:return n.add(t,-1,"month");case Xr.NEXT:return n.add(t,1,"month");default:return t}};fp.title=function(t,e){var s=e.localizer;return s.format(t,"monthHeaderFormat")};var b2=function(e){var s=e.min,n=e.max,a=e.step,i=e.slots,o=e.localizer;return"".concat(+o.startOf(s,"minutes"))+"".concat(+o.startOf(n,"minutes"))+"".concat(a,"-").concat(i)};function Uy(t){for(var e=t.min,s=t.max,n=t.step,a=t.timeslots,i=t.localizer,o=b2({start:e,end:s,step:n,timeslots:a,localizer:i}),l=1+i.getTotalMin(e,s),c=i.getMinutesFromMidnight(e),d=Math.ceil((l-1)/(n*a)),u=d*a,h=new Array(d),f=new Array(u),m=0;m<d;m++){h[m]=new Array(a);for(var g=0;g<a;g++){var x=m*a+g,j=x*n;f[x]=h[m][g]=i.getSlotDate(e,c,j)}}var y=f.length*n;f.push(i.getSlotDate(e,c,y));function b(k){var A=i.diff(e,k,"minutes")+i.getDstOffset(e,k);return Math.min(A,l)}return{groups:h,update:function(A){return b2(A)!==o?Uy(A):this},dateIsInGroup:function(A,E){var I=h[E+1];return i.inRange(A,h[E][0],I?I[0]:s,"minutes")},nextSlot:function(A){var E=f[Math.min(f.findIndex(function(I){return I===A||i.eq(I,A)})+1,f.length-1)];return i.eq(E,A)&&(E=i.add(A,n,"minutes")),E},closestSlotToPosition:function(A){var E=Math.min(f.length-1,Math.max(0,Math.floor(A*u)));return f[E]},closestSlotFromPoint:function(A,E){var I=Math.abs(E.top-E.bottom);return this.closestSlotToPosition((A.y-E.top)/I)},closestSlotFromDate:function(A){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(i.lt(A,e,"minutes"))return f[0];if(i.gt(A,s,"minutes"))return f[f.length-1];var I=i.diff(e,A,"minutes");return f[(I-I%n)/n+E]},startsBeforeDay:function(A){return i.lt(A,e,"day")},startsAfterDay:function(A){return i.gt(A,s,"day")},startsBefore:function(A){return i.lt(i.merge(e,A),e,"minutes")},startsAfter:function(A){return i.gt(i.merge(s,A),s,"minutes")},getRange:function(A,E,I,_){I||(A=i.min(s,i.max(e,A))),_||(E=i.min(s,i.max(e,E)));var v=b(A),P=b(E),L=P>n*u&&!i.eq(s,E)?(v-n)/(n*u)*100:v/(n*u)*100;return{top:L,height:P/(n*u)*100-L,start:b(A),startDate:A,end:b(E),endDate:E}},getCurrentTimePosition:function(A){var E=b(A),I=E/(n*u)*100;return I}}}var WU=function(){function t(e,s){var n=s.accessors,a=s.slotMetrics;Gs(this,t);var i=a.getRange(n.start(e),n.end(e)),o=i.start,l=i.startDate,c=i.end,d=i.endDate,u=i.top,h=i.height;this.start=o,this.end=c,this.startMs=+l,this.endMs=+d,this.top=u,this.height=h,this.data=e}return Ks(t,[{key:"_width",get:function(){if(this.rows){var s=this.rows.reduce(function(a,i){return Math.max(a,i.leaves.length+1)},0)+1;return 100/s}if(this.leaves){var n=100-this.container._width;return n/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var s=this._width,n=Math.min(100,this._width*1.7);if(this.rows)return n;if(this.leaves)return this.leaves.length>0?n:s;var a=this.row.leaves,i=a.indexOf(this);return i===a.length-1?s:n}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var s=this.row,n=s.leaves,a=s.xOffset,i=s._width,o=n.indexOf(this)+1;return a+o*i}}])}();function UU(t,e,s){return Math.abs(e.start-t.start)<s||e.start>t.start&&e.start<t.end}function VU(t){for(var e=yz(t,["startMs",function(l){return-l.endMs}]),s=[];e.length>0;){var n=e.shift();s.push(n);for(var a=0;a<e.length;a++){var i=e[a];if(!(n.endMs>i.startMs)){if(a>0){var o=e.splice(a,1)[0];s.push(o)}break}}}return s}function L4(t){for(var e=t.events,s=t.minimumStartDifference,n=t.slotMetrics,a=t.accessors,i=e.map(function(u){return new WU(u,{slotMetrics:n,accessors:a})}),o=VU(i),l=[],c=function(){var h=o[d],f=l.find(function(x){return x.end>h.start||Math.abs(h.start-x.start)<s});if(!f)return h.rows=[],l.push(h),1;h.container=f;for(var m=null,g=f.rows.length-1;!m&&g>=0;g--)UU(f.rows[g],h,s)&&(m=f.rows[g]);m?(m.leaves.push(h),h.row=m):(h.leaves=[],f.rows.push(h))},d=0;d<o.length;d++)c();return o.map(function(u){return{event:u.data,style:{top:u.top,height:u.height,width:u.width,xOffset:Math.max(0,u.xOffset)}}})}function I4(t,e,s){for(var n=0;n<t.friends.length;++n)if(!(s.indexOf(t.friends[n])>-1)){e=e>t.friends[n].idx?e:t.friends[n].idx,s.push(t.friends[n]);var a=I4(t.friends[n],e,s);e=e>a?e:a}return e}function YU(t){var e=t.events,s=t.minimumStartDifference,n=t.slotMetrics,a=t.accessors,i=L4({events:e,minimumStartDifference:s,slotMetrics:n,accessors:a});i.sort(function(Z,q){return Z=Z.style,q=q.style,Z.top!==q.top?Z.top>q.top?1:-1:Z.height!==q.height?Z.top+Z.height<q.top+q.height?1:-1:0});for(var o=0;o<i.length;++o)i[o].friends=[],delete i[o].style.left,delete i[o].style.left,delete i[o].idx,delete i[o].size;for(var l=0;l<i.length-1;++l)for(var c=i[l],d=c.style.top,u=c.style.top+c.style.height,h=l+1;h<i.length;++h){var f=i[h],m=f.style.top,g=f.style.top+f.style.height;(m>=d&&g<=u||g>d&&g<=u||m>=d&&m<u)&&(c.friends.push(f),f.friends.push(c))}for(var x=0;x<i.length;++x){for(var j=i[x],y=[],b=0;b<100;++b)y.push(1);for(var k=0;k<j.friends.length;++k)j.friends[k].idx!==void 0&&(y[j.friends[k].idx]=0);j.idx=y.indexOf(1)}for(var A=0;A<i.length;++A){var E=0;if(!i[A].size){var I=[],_=I4(i[A],0,I);E=100/(_+1),i[A].size=E;for(var v=0;v<I.length;++v)I[v].size=E}}for(var P=0;P<i.length;++P){var L=i[P];L.style.left=L.idx*L.size;for(var S=0,C=0;C<L.friends.length;++C){var O=L.friends[C].idx;S=S>O?S:O}S<=L.idx&&(L.size=100-L.idx*L.size);var z=L.idx===0?0:3;L.style.width="calc(".concat(L.size,"% - ").concat(z,"px)"),L.style.height="calc(".concat(L.style.height,"% - 2px)"),L.style.xOffset="calc(".concat(L.style.left,"% + ").concat(z,"px)")}return i}var v2={overlap:L4,"no-overlap":YU};function GU(t){return!!(t&&t.constructor&&t.call&&t.apply)}function KU(t){t.events,t.minimumStartDifference,t.slotMetrics,t.accessors;var e=t.dayLayoutAlgorithm,s=e;return e in v2&&(s=v2[e]),GU(s)?s.apply(this,arguments):[]}var M4=function(t){function e(){return Gs(this,e),Cr(this,e,arguments)}return Pr(e,t),Ks(e,[{key:"render",value:function(){var n=this.props,a=n.renderSlot,i=n.resource,o=n.group,l=n.getters,c=n.components,d=c===void 0?{}:c,u=d.timeSlotWrapper,h=u===void 0?fi:u,f=l?l.slotGroupProp(o):{};return ce.createElement("div",Object.assign({className:"rbc-timeslot-group"},f),o.map(function(m,g){var x=l?l.slotProp(m,i):{};return ce.createElement(h,{key:g,value:m,resource:i},ce.createElement("div",Object.assign({},x,{className:ys("rbc-time-slot",x.className)}),a&&a(m,g)))}))}}])}(U.Component);function hm(t){return typeof t=="string"?t:t+"%"}function XU(t){var e=t.style,s=t.className,n=t.event,a=t.accessors,i=t.rtl,o=t.selected,l=t.label,c=t.continuesPrior,d=t.continuesAfter,u=t.getters,h=t.onClick,f=t.onDoubleClick,m=t.isBackgroundEvent,g=t.onKeyPress,x=t.components,j=x.event,y=x.eventWrapper,b=a.title(n),k=a.tooltip(n),A=a.end(n),E=a.start(n),I=u.eventProp(n,E,A,o),_=[ce.createElement("div",{key:"1",className:"rbc-event-label"},l),ce.createElement("div",{key:"2",className:"rbc-event-content"},j?ce.createElement(j,{event:n,title:b}):b)],v=e.height,P=e.top,L=e.width,S=e.xOffset,C=Vt(Vt({},I.style),{},Ro({top:hm(P),height:hm(v),width:hm(L)},i?"right":"left",hm(S)));return ce.createElement(y,Object.assign({type:"time"},t),ce.createElement("div",{role:"button",tabIndex:0,onClick:h,onDoubleClick:f,style:C,onKeyDown:g,title:k?(typeof l=="string"?l+": ":"")+k:void 0,className:ys(m?"rbc-background-event":"rbc-event",s,I.className,{"rbc-selected":o,"rbc-event-continues-earlier":c,"rbc-event-continues-later":d})},_))}var QU=function(e){var s=e.children,n=e.className,a=e.style,i=e.innerRef;return ce.createElement("div",{className:n,style:a,ref:i},s)},JU=ce.forwardRef(function(t,e){return ce.createElement(QU,Object.assign({},t,{innerRef:e}))}),ZU=["dayProp"],eV=["eventContainerWrapper"],T4=function(t){function e(){var s;Gs(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return s=Cr(this,e,[].concat(a)),s.state={selecting:!1,timeIndicatorPosition:null},s.intervalTriggered=!1,s.renderEvents=function(o){var l=o.events,c=o.isBackgroundEvent,d=s.props,u=d.rtl,h=d.selected,f=d.accessors,m=d.localizer,g=d.getters,x=d.components,j=d.step,y=d.timeslots,b=d.dayLayoutAlgorithm,k=d.resizable,A=s,E=A.slotMetrics,I=m.messages,_=KU({events:l,accessors:f,slotMetrics:E,minimumStartDifference:Math.ceil(j*y/2),dayLayoutAlgorithm:b});return _.map(function(v,P){var L,S=v.event,C=v.style,O=f.end(S),z=f.start(S),Z=(L=f.eventId(S))!==null&&L!==void 0?L:"evt_"+P,q="eventTimeRangeFormat",R,X=E.startsBeforeDay(z),$=E.startsAfterDay(O);X?q="eventTimeRangeEndFormat":$&&(q="eventTimeRangeStartFormat"),X&&$?R=I.allDay:R=m.format({start:z,end:O},q);var J=X||E.startsBefore(z),se=$||E.startsAfter(O);return ce.createElement(XU,{style:C,event:S,label:R,key:Z,getters:g,rtl:u,components:x,continuesPrior:J,continuesAfter:se,accessors:f,resource:s.props.resource,selected:mp(S,h),onClick:function(T){return s._select(Vt(Vt(Vt({},S),s.props.resource&&{sourceResource:s.props.resource}),c&&{isBackgroundEvent:!0}),T)},onDoubleClick:function(T){return s._doubleClick(S,T)},isBackgroundEvent:c,onKeyPress:function(T){return s._keyPress(S,T)},resizable:k})})},s._selectable=function(){var o=s.containerRef.current,l=s.props,c=l.longPressThreshold,d=l.localizer,u=s._selector=new _4(function(){return o},{longPressThreshold:c}),h=function(x){var j=s.props.onSelecting,y=s.state||{},b=f(x),k=b.startDate,A=b.endDate;j&&(d.eq(y.startDate,k,"minutes")&&d.eq(y.endDate,A,"minutes")||j({start:k,end:A,resourceId:s.props.resource})===!1)||(s.state.start!==b.start||s.state.end!==b.end||s.state.selecting!==b.selecting)&&s.setState(b)},f=function(x){var j=s.slotMetrics.closestSlotFromPoint(x,ol(o));s.state.selecting||(s._initialSlot=j);var y=s._initialSlot;d.lte(y,j)?j=s.slotMetrics.nextSlot(j):d.gt(y,j)&&(y=s.slotMetrics.nextSlot(y));var b=s.slotMetrics.getRange(d.min(y,j),d.max(y,j));return Vt(Vt({},b),{},{selecting:!0,top:"".concat(b.top,"%"),height:"".concat(b.height,"%")})},m=function(x,j){if(!Af(s.containerRef.current,x)){var y=f(x),b=y.startDate,k=y.endDate;s._selectSlot({startDate:b,endDate:k,action:j,box:x})}s.setState({selecting:!1})};u.on("selecting",h),u.on("selectStart",h),u.on("beforeSelect",function(g){if(s.props.selectable==="ignoreEvents")return!Af(s.containerRef.current,g)}),u.on("click",function(g){return m(g,"click")}),u.on("doubleClick",function(g){return m(g,"doubleClick")}),u.on("select",function(g){s.state.selecting&&(s._selectSlot(Vt(Vt({},s.state),{},{action:"select",bounds:g})),s.setState({selecting:!1}))}),u.on("reset",function(){s.state.selecting&&s.setState({selecting:!1})})},s._teardownSelectable=function(){s._selector&&(s._selector.teardown(),s._selector=null)},s._selectSlot=function(o){for(var l=o.startDate,c=o.endDate,d=o.action,u=o.bounds,h=o.box,f=l,m=[];s.props.localizer.lte(f,c);)m.push(f),f=new Date(+f+s.props.step*60*1e3);es(s.props.onSelectSlot,{slots:m,start:l,end:c,resourceId:s.props.resource,action:d,bounds:u,box:h})},s._select=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];es(s.props.onSelectEvent,l)},s._doubleClick=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];es(s.props.onDoubleClickEvent,l)},s._keyPress=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];es(s.props.onKeyPressEvent,l)},s.slotMetrics=Uy(s.props),s.containerRef=U.createRef(),s}return Pr(e,t),Ks(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(n,a){this.props.selectable&&!n.selectable&&this._selectable(),!this.props.selectable&&n.selectable&&this._teardownSelectable();var i=this.props,o=i.getNow,l=i.isNow,c=i.localizer,d=i.date,u=i.min,h=i.max,f=c.neq(n.getNow(),o(),"minutes");if(n.isNow!==l||f){if(this.clearTimeIndicatorInterval(),l){var m=!f&&c.eq(n.date,d,"minutes")&&a.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(m)}}else l&&(c.neq(n.min,u,"minutes")||c.neq(n.max,h,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var n=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!a&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){n.intervalTriggered=!0,n.positionTimeIndicator(),n.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var n=this.props,a=n.min,i=n.max,o=n.getNow,l=o();if(l>=a&&l<=i){var c=this.slotMetrics.getCurrentTimePosition(l);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:c})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var n=this.props,a=n.date,i=n.max,o=n.rtl,l=n.isNow,c=n.resource,d=n.accessors,u=n.localizer,h=n.getters,f=h.dayProp,m=Ha(h,ZU),g=n.components,x=g.eventContainerWrapper,j=Ha(g,eV);this.slotMetrics=this.slotMetrics.update(this.props);var y=this.slotMetrics,b=this.state,k=b.selecting,A=b.top,E=b.height,I=b.startDate,_=b.endDate,v={start:I,end:_},P=f(i,c),L=P.className,S=P.style,C=j.dayColumnWrapper||JU;return ce.createElement(C,{ref:this.containerRef,date:a,style:S,className:ys(L,"rbc-day-slot","rbc-time-column",l&&"rbc-now",l&&"rbc-today",k&&"rbc-slot-selecting"),slotMetrics:y,resource:c},y.groups.map(function(O,z){return ce.createElement(M4,{key:z,group:O,resource:c,getters:m,components:j})}),ce.createElement(x,{localizer:u,resource:c,accessors:d,getters:m,components:j,slotMetrics:y},ce.createElement("div",{className:ys("rbc-events-container",o&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),k&&ce.createElement("div",{className:"rbc-slot-selection",style:{top:A,height:E}},ce.createElement("span",null,u.format(v,"selectRangeFormat"))),l&&this.intervalTriggered&&ce.createElement("div",{className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}}))}}])}(ce.Component);T4.defaultProps={dragThroughEvents:!0,timeslots:2};var F4=function(e){var s=e.label;return ce.createElement(ce.Fragment,null,s)},tV=function(t){function e(){var s;Gs(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return s=Cr(this,e,[].concat(a)),s.handleHeaderClick=function(o,l,c){c.preventDefault(),es(s.props.onDrillDown,[o,l])},s.renderRow=function(o){var l=s.props,c=l.events,d=l.rtl,u=l.selectable,h=l.getNow,f=l.range,m=l.getters,g=l.localizer,x=l.accessors,j=l.components,y=l.resizable,b=x.resourceId(o),k=o?c.filter(function(A){return x.resource(A)===b}):c;return ce.createElement(Lu,{isAllDay:!0,rtl:d,getNow:h,minRows:2,maxRows:s.props.allDayMaxRows+1,range:f,events:k,resourceId:b,className:"rbc-allday-cell",selectable:u,selected:s.props.selected,components:j,accessors:x,getters:m,localizer:g,onSelect:s.props.onSelectEvent,onShowMore:s.props.onShowMore,onDoubleClick:s.props.onDoubleClickEvent,onKeyPress:s.props.onKeyPressEvent,onSelectSlot:s.props.onSelectSlot,longPressThreshold:s.props.longPressThreshold,resizable:y})},s}return Pr(e,t),Ks(e,[{key:"renderHeaderCells",value:function(n){var a=this,i=this.props,o=i.localizer,l=i.getDrilldownView,c=i.getNow,d=i.getters.dayProp,u=i.components.header,h=u===void 0?Wy:u,f=c();return n.map(function(m,g){var x=l(m),j=o.format(m,"dayFormat"),y=d(m),b=y.className,k=y.style,A=ce.createElement(h,{date:m,label:j,localizer:o});return ce.createElement("div",{key:g,style:k,className:ys("rbc-header",b,o.isSameDate(m,f)&&"rbc-today")},x?ce.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(I){return a.handleHeaderClick(m,x,I)}},A):ce.createElement("span",null,A))})}},{key:"render",value:function(){var n=this,a=this.props,i=a.width,o=a.rtl,l=a.resources,c=a.range,d=a.events,u=a.getNow,h=a.accessors,f=a.selectable,m=a.components,g=a.getters,x=a.scrollRef,j=a.localizer,y=a.isOverflowing,b=a.components,k=b.timeGutterHeader,A=b.resourceHeader,E=A===void 0?F4:A,I=a.resizable,_={};y&&(_[o?"marginLeft":"marginRight"]="".concat(Ny()-1,"px"));var v=l.groupEvents(d);return ce.createElement("div",{style:_,ref:x,className:ys("rbc-time-header",y&&"rbc-overflowing")},ce.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:i,minWidth:i,maxWidth:i}},k&&ce.createElement(k,null)),l.map(function(P,L){var S=el(P,2),C=S[0],O=S[1];return ce.createElement("div",{className:"rbc-time-header-content",key:C||L},O&&ce.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(L)},ce.createElement("div",{className:"rbc-header"},ce.createElement(E,{index:L,label:h.resourceTitle(O),resource:O}))),ce.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(c.length<=1?" rbc-time-header-cell-single-day":"")},n.renderHeaderCells(c)),ce.createElement(Lu,{isAllDay:!0,rtl:o,getNow:u,minRows:2,maxRows:n.props.allDayMaxRows+1,range:c,events:v.get(C)||[],resourceId:O&&C,className:"rbc-allday-cell",selectable:f,selected:n.props.selected,components:m,accessors:h,getters:g,localizer:j,onSelect:n.props.onSelectEvent,onShowMore:n.props.onShowMore,onDoubleClick:n.props.onDoubleClickEvent,onKeyDown:n.props.onKeyPressEvent,onSelectSlot:n.props.onSelectSlot,longPressThreshold:n.props.longPressThreshold,resizable:I}))}))}}])}(ce.Component),sV=function(t){function e(){var s;Gs(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return s=Cr(this,e,[].concat(a)),s.handleHeaderClick=function(o,l,c){c.preventDefault(),es(s.props.onDrillDown,[o,l])},s}return Pr(e,t),Ks(e,[{key:"renderHeaderCells",value:function(n){var a=this,i=this.props,o=i.localizer,l=i.getDrilldownView,c=i.getNow,d=i.getters.dayProp,u=i.components,h=u.header,f=h===void 0?Wy:h,m=u.resourceHeader,g=m===void 0?F4:m,x=i.resources,j=i.accessors,y=i.events,b=i.rtl,k=i.selectable,A=i.components,E=i.getters,I=i.resizable,_=c(),v=x.groupEvents(y);return n.map(function(P,L){var S=l(P),C=o.format(P,"dayFormat"),O=d(P),z=O.className,Z=O.style,q=ce.createElement(f,{date:P,label:C,localizer:o});return ce.createElement("div",{key:L,className:"rbc-time-header-content rbc-resource-grouping"},ce.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(n.length<=1?" rbc-time-header-cell-single-day":"")},ce.createElement("div",{style:Z,className:ys("rbc-header",z,o.isSameDate(P,_)&&"rbc-today")},S?ce.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(X){return a.handleHeaderClick(P,S,X)}},q):ce.createElement("span",null,q))),ce.createElement("div",{className:"rbc-row"},x.map(function(R,X){var $=el(R,2),J=$[0],se=$[1];return ce.createElement("div",{key:"resource_".concat(J,"_").concat(X),className:ys("rbc-header",z,o.isSameDate(P,_)&&"rbc-today")},ce.createElement(g,{index:X,label:j.resourceTitle(se),resource:se}))})),ce.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},x.map(function(R,X){var $=el(R,2),J=$[0],se=$[1],M=(v.get(J)||[]).filter(function(T){return o.isSameDate(T.start,P)||o.isSameDate(T.end,P)});return ce.createElement(Lu,{key:"resource_".concat(J,"_").concat(X),isAllDay:!0,rtl:b,getNow:c,minRows:2,maxRows:a.props.allDayMaxRows+1,range:[P],events:M,resourceId:se&&J,className:"rbc-allday-cell",selectable:k,selected:a.props.selected,components:A,accessors:j,getters:E,localizer:o,onSelect:a.props.onSelectEvent,onShowMore:a.props.onShowMore,onDoubleClick:a.props.onDoubleClickEvent,onKeyDown:a.props.onKeyPressEvent,onSelectSlot:a.props.onSelectSlot,longPressThreshold:a.props.longPressThreshold,resizable:I})})))})}},{key:"render",value:function(){var n=this.props,a=n.width,i=n.rtl,o=n.range,l=n.scrollRef,c=n.isOverflowing,d=n.components.timeGutterHeader,u={};return c&&(u[i?"marginLeft":"marginRight"]="".concat(Ny()-1,"px")),ce.createElement("div",{style:u,ref:l,className:ys("rbc-time-header",c&&"rbc-overflowing")},ce.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:a,minWidth:a,maxWidth:a}},d&&ce.createElement(d,null)),this.renderHeaderCells(o))}}])}(ce.Component);function rV(t){var e=t.min,s=t.max,n=t.localizer;return n.getTimezoneOffset(e)!==n.getTimezoneOffset(s)?{start:n.add(e,-1,"day"),end:n.add(s,-1,"day")}:{start:e,end:s}}var nV=function(e){var s=e.min,n=e.max,a=e.timeslots,i=e.step,o=e.localizer,l=e.getNow,c=e.resource,d=e.components,u=e.getters,h=e.gutterRef,f=d.timeGutterWrapper,m=U.useMemo(function(){return rV({min:s,max:n,localizer:o})},[s?.toISOString(),n?.toISOString(),o]),g=m.start,x=m.end,j=U.useState(Uy({min:g,max:x,timeslots:a,step:i,localizer:o})),y=el(j,2),b=y[0],k=y[1];U.useEffect(function(){b&&k(b.update({min:g,max:x,timeslots:a,step:i,localizer:o}))},[g?.toISOString(),x?.toISOString(),a,i]);var A=U.useCallback(function(E,I){if(I)return null;var _=b.dateIsInGroup(l(),I);return ce.createElement("span",{className:ys("rbc-label",_&&"rbc-now")},o.format(E,"timeGutterFormat"))},[b,o,l]);return ce.createElement(f,{slotMetrics:b},ce.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:h},b.groups.map(function(E,I){return ce.createElement(M4,{key:I,group:E,resource:c,components:d,renderSlot:A,getters:u})})))},aV=ce.forwardRef(function(t,e){return ce.createElement(nV,Object.assign({gutterRef:e},t))}),Xx={};function iV(t,e){return{map:function(n){return t?t.map(function(a,i){return n([e.resourceId(a),a],i)}):[n([Xx,null],0)]},groupEvents:function(n){var a=new Map;return t?(n.forEach(function(i){var o=e.resource(i)||Xx;if(Array.isArray(o))o.forEach(function(c){var d=a.get(c)||[];d.push(i),a.set(c,d)});else{var l=a.get(o)||[];l.push(i),a.set(o,l)}}),a):(a.set(Xx,n),a)}}}var Hc=function(t){function e(s){var n;return Gs(this,e),n=Cr(this,e,[s]),n.handleScroll=function(a){n.scrollRef.current&&(n.scrollRef.current.scrollLeft=a.target.scrollLeft)},n.handleResize=function(){a1(n.rafHandle),n.rafHandle=E5(n.checkOverflow)},n.handleKeyPressEvent=function(){n.clearSelection();for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];es(n.props.onKeyPressEvent,i)},n.handleSelectEvent=function(){n.clearSelection();for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];es(n.props.onSelectEvent,i)},n.handleDoubleClickEvent=function(){n.clearSelection();for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];es(n.props.onDoubleClickEvent,i)},n.handleShowMore=function(a,i,o,l,c){var d=n.props,u=d.popup,h=d.onDrillDown,f=d.onShowMore,m=d.getDrilldownView,g=d.doShowMoreDrillDown;if(n.clearSelection(),u){var x=P5(o,n.containerRef.current);n.setState({overlay:{date:i,events:a,position:Vt(Vt({},x),{},{width:"200px"}),target:c}})}else g&&es(h,[i,m(i)||Tr.DAY]);es(f,[a,i,l])},n.handleSelectAllDaySlot=function(a,i){var o=n.props.onSelectSlot,l=new Date(a[0]),c=new Date(a[a.length-1]);c.setDate(a[a.length-1].getDate()+1),es(o,{slots:a,start:l,end:c,action:i.action,resourceId:i.resourceId})},n.overlayDisplay=function(){n.setState({overlay:null})},n.checkOverflow=function(){if(!n._updatingOverflow){var a=n.contentRef.current;if(a!=null&&a.scrollHeight){var i=a.scrollHeight>a.clientHeight;n.state.isOverflowing!==i&&(n._updatingOverflow=!0,n.setState({isOverflowing:i},function(){n._updatingOverflow=!1}))}}},n.memoizedResources=t4(function(a,i){return iV(a,i)}),n.state={gutterWidth:void 0,isOverflowing:null},n.scrollRef=ce.createRef(),n.contentRef=ce.createRef(),n.containerRef=ce.createRef(),n._scrollRatio=null,n.gutterRef=U.createRef(),n}return Pr(e,t),Ks(e,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),a1(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(n,a,i,o,l,c,d,u,h,f){var m=this.props,g=m.min,x=m.max,j=(o.get(a)||[]).filter(function(b){return c.inRange(n,d.start(b),d.end(b),"day")}),y=(l.get(a)||[]).filter(function(b){return c.inRange(n,d.start(b),d.end(b),"day")});return ce.createElement(T4,Object.assign({},this.props,{localizer:c,min:c.merge(n,g),max:c.merge(n,x),resource:i&&a,components:u,isNow:c.isSameDate(n,f),key:"".concat(a,"-").concat(n),date:n,events:j,backgroundEvents:y,dayLayoutAlgorithm:h}))}},{key:"renderResourcesFirst",value:function(n,a,i,o,l,c,d,u,h){var f=this;return a.map(function(m){var g=el(m,2),x=g[0],j=g[1];return n.map(function(y){return f.renderDayColumn(y,x,j,i,o,l,c,u,h,d)})})}},{key:"renderRangeFirst",value:function(n,a,i,o,l,c,d,u,h){var f=this;return n.map(function(m){return ce.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:m},a.map(function(g){var x=el(g,2),j=x[0],y=x[1];return ce.createElement("div",{style:{flex:1},key:c.resourceId(y)},f.renderDayColumn(m,j,y,i,o,l,c,u,h,d))}))})}},{key:"renderEvents",value:function(n,a,i,o){var l=this.props,c=l.accessors,d=l.localizer,u=l.resourceGroupingLayout,h=l.components,f=l.dayLayoutAlgorithm,m=this.memoizedResources(this.props.resources,c),g=m.groupEvents(a),x=m.groupEvents(i);return u?this.renderRangeFirst(n,m,g,x,d,c,o,h,f):this.renderResourcesFirst(n,m,g,x,d,c,o,h,f)}},{key:"render",value:function(){var n,a=this.props,i=a.events,o=a.backgroundEvents,l=a.range,c=a.width,d=a.rtl,u=a.selected,h=a.getNow,f=a.resources,m=a.components,g=a.accessors,x=a.getters,j=a.localizer,y=a.min,b=a.max,k=a.showMultiDayTimes,A=a.longPressThreshold,E=a.resizable,I=a.resourceGroupingLayout;c=c||this.state.gutterWidth;var _=l[0],v=l[l.length-1];this.slots=l.length;var P=[],L=[],S=[];i.forEach(function(O){if(Du(O,_,v,g,j)){var z=g.start(O),Z=g.end(O);g.allDay(O)||j.startAndEndAreDateOnly(z,Z)||!k&&!j.isSameDate(z,Z)?P.push(O):L.push(O)}}),o.forEach(function(O){Du(O,_,v,g,j)&&S.push(O)}),P.sort(function(O,z){return lg(O,z,g,j)});var C={range:l,events:P,width:c,rtl:d,getNow:h,localizer:j,selected:u,allDayMaxRows:this.props.showAllEvents?1/0:(n=this.props.allDayMaxRows)!==null&&n!==void 0?n:1/0,resources:this.memoizedResources(f,g),selectable:this.props.selectable,accessors:g,getters:x,components:m,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:A,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:E};return ce.createElement("div",{className:ys("rbc-time-view",f&&"rbc-time-view-resources"),ref:this.containerRef},f&&f.length>1&&I?ce.createElement(sV,C):ce.createElement(tV,C),this.props.popup&&this.renderOverlay(),ce.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},ce.createElement(aV,{date:_,ref:this.gutterRef,localizer:j,min:j.merge(_,y),max:j.merge(_,b),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:m,className:"rbc-time-gutter",getters:x}),this.renderEvents(l,L,S,h())))}},{key:"renderOverlay",value:function(){var n,a,i=this,o=(n=(a=this.state)===null||a===void 0?void 0:a.overlay)!==null&&n!==void 0?n:{},l=this.props,c=l.accessors,d=l.localizer,u=l.components,h=l.getters,f=l.selected,m=l.popupOffset,g=l.handleDragStart,x=function(){return i.setState({overlay:null})};return ce.createElement(Hy,{overlay:o,accessors:c,localizer:d,components:u,getters:h,selected:f,popupOffset:m,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:g,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:x})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var n=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var a,i=(a=n.gutterRef)!==null&&a!==void 0&&a.current?ig(n.gutterRef.current):void 0;i&&n.state.gutterWidth!==i&&n.setState({gutterWidth:i})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var n=this.contentRef.current;n.scrollTop=n.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,a=n.min,i=n.max,o=n.scrollToTime,l=n.localizer,c=l.diff(l.merge(o,a),o,"milliseconds"),d=l.diff(a,i,"milliseconds");this._scrollRatio=c/d}}])}(U.Component);Hc.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var oV=["date","localizer","min","max","scrollToTime","enableAutoScroll"],pp=function(t){function e(){return Gs(this,e),Cr(this,e,arguments)}return Pr(e,t),Ks(e,[{key:"render",value:function(){var n=this.props,a=n.date,i=n.localizer,o=n.min,l=o===void 0?i.startOf(new Date,"day"):o,c=n.max,d=c===void 0?i.endOf(new Date,"day"):c,u=n.scrollToTime,h=u===void 0?i.startOf(new Date,"day"):u,f=n.enableAutoScroll,m=f===void 0?!0:f,g=Ha(n,oV),x=e.range(a,{localizer:i});return ce.createElement(Hc,Object.assign({},g,{range:x,eventOffset:10,localizer:i,min:l,max:d,scrollToTime:h,enableAutoScroll:m}))}}])}(ce.Component);pp.range=function(t,e){var s=e.localizer;return[s.startOf(t,"day")]};pp.navigate=function(t,e,s){var n=s.localizer;switch(e){case Xr.PREVIOUS:return n.add(t,-1,"day");case Xr.NEXT:return n.add(t,1,"day");default:return t}};pp.title=function(t,e){var s=e.localizer;return s.format(t,"dayHeaderFormat")};var lV=["date","localizer","min","max","scrollToTime","enableAutoScroll"],eo=function(t){function e(){return Gs(this,e),Cr(this,e,arguments)}return Pr(e,t),Ks(e,[{key:"render",value:function(){var n=this.props,a=n.date,i=n.localizer,o=n.min,l=o===void 0?i.startOf(new Date,"day"):o,c=n.max,d=c===void 0?i.endOf(new Date,"day"):c,u=n.scrollToTime,h=u===void 0?i.startOf(new Date,"day"):u,f=n.enableAutoScroll,m=f===void 0?!0:f,g=Ha(n,lV),x=e.range(a,this.props);return ce.createElement(Hc,Object.assign({},g,{range:x,eventOffset:15,localizer:i,min:l,max:d,scrollToTime:h,enableAutoScroll:m}))}}])}(ce.Component);eo.defaultProps=Hc.defaultProps;eo.navigate=function(t,e,s){var n=s.localizer;switch(e){case Xr.PREVIOUS:return n.add(t,-1,"week");case Xr.NEXT:return n.add(t,1,"week");default:return t}};eo.range=function(t,e){var s=e.localizer,n=s.startOfWeek(),a=s.startOf(t,"week",n),i=s.endOf(t,"week",n);return s.range(a,i)};eo.title=function(t,e){var s=e.localizer,n=eo.range(t,{localizer:s}),a=l4(n),i=a[0],o=a.slice(1);return s.format({start:i,end:o.pop()},"dayRangeHeaderFormat")};var cV=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function Vy(t,e){return eo.range(t,e).filter(function(s){return[6,0].indexOf(s.getDay())===-1})}var ih=function(t){function e(){return Gs(this,e),Cr(this,e,arguments)}return Pr(e,t),Ks(e,[{key:"render",value:function(){var n=this.props,a=n.date,i=n.localizer,o=n.min,l=o===void 0?i.startOf(new Date,"day"):o,c=n.max,d=c===void 0?i.endOf(new Date,"day"):c,u=n.scrollToTime,h=u===void 0?i.startOf(new Date,"day"):u,f=n.enableAutoScroll,m=f===void 0?!0:f,g=Ha(n,cV),x=Vy(a,this.props);return ce.createElement(Hc,Object.assign({},g,{range:x,eventOffset:15,localizer:i,min:l,max:d,scrollToTime:h,enableAutoScroll:m}))}}])}(ce.Component);ih.defaultProps=Hc.defaultProps;ih.range=Vy;ih.navigate=eo.navigate;ih.title=function(t,e){var s=e.localizer,n=Vy(t,{localizer:s}),a=l4(n),i=a[0],o=a.slice(1);return s.format({start:i,end:o.pop()},"dayRangeHeaderFormat")};var xp=30;function gp(t){var e=t.accessors,s=t.components,n=t.date,a=t.events,i=t.getters,o=t.length,l=o===void 0?xp:o,c=t.localizer,d=t.onDoubleClickEvent,u=t.onSelectEvent,h=t.selected,f=U.useRef(null),m=U.useRef(null),g=U.useRef(null),x=U.useRef(null),j=U.useRef(null);U.useEffect(function(){k()});var y=function(v,P,L){var S=s.event,C=s.date;return P=P.filter(function(O){return Du(O,c.startOf(v,"day"),c.endOf(v,"day"),e,c)}),P.map(function(O,z){var Z=e.title(O),q=e.end(O),R=e.start(O),X=i.eventProp(O,R,q,mp(O,h)),$=z===0&&c.format(v,"agendaDateFormat"),J=z===0?ce.createElement("td",{rowSpan:P.length,className:"rbc-agenda-date-cell"},C?ce.createElement(C,{day:v,label:$}):$):!1;return ce.createElement("tr",{key:L+"_"+z,className:X.className,style:X.style},J,ce.createElement("td",{className:"rbc-agenda-time-cell"},b(v,O)),ce.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(M){return u&&u(O,M)},onDoubleClick:function(M){return d&&d(O,M)}},S?ce.createElement(S,{event:O,title:Z}):Z))},[])},b=function(v,P){var L="",S=s.time,C=c.messages.allDay,O=e.end(P),z=e.start(P);return e.allDay(P)||(c.eq(z,O)?C=c.format(z,"agendaTimeFormat"):c.isSameDate(z,O)?C=c.format({start:z,end:O},"agendaTimeRangeFormat"):c.isSameDate(v,z)?C=c.format(z,"agendaTimeFormat"):c.isSameDate(v,O)&&(C=c.format(O,"agendaTimeFormat"))),c.gt(v,z,"day")&&(L="rbc-continues-prior"),c.lt(v,O,"day")&&(L+=" rbc-continues-after"),ce.createElement("span",{className:L.trim()},S?ce.createElement(S,{event:P,day:v,label:C}):C)},k=function(){if(j.current){var v=f.current,P=j.current.firstChild;if(P){var L=x.current.scrollHeight>x.current.clientHeight,S=[],C=S;S=[ig(P.children[0]),ig(P.children[1])],(C[0]!==S[0]||C[1]!==S[1])&&(m.current.style.width=S[0]+"px",g.current.style.width=S[1]+"px"),L?(cL(v,"rbc-header-overflowing"),v.style.marginRight=Ny()+"px"):dL(v,"rbc-header-overflowing")}}},A=c.messages,E=c.add(n,l,"day"),I=c.range(n,E,"day");return a=a.filter(function(_){return Du(_,c.startOf(n,"day"),c.endOf(E,"day"),e,c)}),a.sort(function(_,v){return+e.start(_)-+e.start(v)}),ce.createElement("div",{className:"rbc-agenda-view"},a.length!==0?ce.createElement(ce.Fragment,null,ce.createElement("table",{ref:f,className:"rbc-agenda-table"},ce.createElement("thead",null,ce.createElement("tr",null,ce.createElement("th",{className:"rbc-header",ref:m},A.date),ce.createElement("th",{className:"rbc-header",ref:g},A.time),ce.createElement("th",{className:"rbc-header"},A.event)))),ce.createElement("div",{className:"rbc-agenda-content",ref:x},ce.createElement("table",{className:"rbc-agenda-table"},ce.createElement("tbody",{ref:j},I.map(function(_,v){return y(_,a,v)}))))):ce.createElement("span",{className:"rbc-agenda-empty"},A.noEventsInRange))}gp.range=function(t,e){var s=e.length,n=s===void 0?xp:s,a=e.localizer,i=a.add(t,n,"day");return{start:t,end:i}};gp.navigate=function(t,e,s){var n=s.length,a=n===void 0?xp:n,i=s.localizer;switch(e){case Xr.PREVIOUS:return i.add(t,-a,"day");case Xr.NEXT:return i.add(t,a,"day");default:return t}};gp.title=function(t,e){var s=e.length,n=s===void 0?xp:s,a=e.localizer,i=a.add(t,n,"day");return a.format({start:t,end:i},"agendaHeaderFormat")};var Jm=Ro(Ro(Ro(Ro(Ro({},Tr.MONTH,fp),Tr.WEEK,eo),Tr.WORK_WEEK,ih),Tr.DAY,pp),Tr.AGENDA,gp),dV=["action","date","today"];function uV(t,e){var s=e.action,n=e.date,a=e.today,i=Ha(e,dV);switch(t=typeof t=="string"?Jm[t]:t,s){case Xr.TODAY:n=a||new Date;break;case Xr.DATE:break;default:bu(t&&typeof t.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),n=t.navigate(n,s,i)}return n}function hV(t,e){var s=null;return typeof e=="function"?s=e(t):typeof e=="string"&&_t(t)==="object"&&t!=null&&e in t&&(s=t[e]),s}var ii=function(e){return function(s){return hV(s,e)}},mV=["view","date","getNow","onNavigate"],fV=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function O4(t){if(Array.isArray(t))return t;for(var e=[],s=0,n=Object.entries(t);s<n.length;s++){var a=el(n[s],2),i=a[0],o=a[1];o&&e.push(i)}return e}function pV(t,e){var s=e.views,n=O4(s);return n.indexOf(t)!==-1}var R4=function(t){function e(){var s;Gs(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return s=Cr(this,e,[].concat(a)),s.getViews=function(){var o=s.props.views;return Array.isArray(o)?VW(o,function(l,c){return l[c]=Jm[c]},{}):_t(o)==="object"?Vz(o,function(l,c){return l===!0?Jm[c]:l}):Jm},s.getView=function(){var o=s.getViews();return o[s.props.view]},s.getDrilldownView=function(o){var l=s.props,c=l.view,d=l.drilldownView,u=l.getDrilldownView;return u?u(o,c,Object.keys(s.getViews())):d},s.handleRangeChange=function(o,l,c){var d=s.props,u=d.onRangeChange,h=d.localizer;u&&l.range&&u(l.range(o,{localizer:h}),c)},s.handleNavigate=function(o,l){var c=s.props,d=c.view,u=c.date,h=c.getNow,f=c.onNavigate,m=Ha(c,mV),g=s.getView(),x=h();u=uV(g,Vt(Vt({},m),{},{action:o,date:l||u||x,today:x})),f(u,d,o),s.handleRangeChange(u,g)},s.handleViewChange=function(o){o!==s.props.view&&pV(o,s.props)&&s.props.onView(o);var l=s.getViews();s.handleRangeChange(s.props.date||s.props.getNow(),l[o],o)},s.handleSelectEvent=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];es(s.props.onSelectEvent,l)},s.handleDoubleClickEvent=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];es(s.props.onDoubleClickEvent,l)},s.handleKeyPressEvent=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];es(s.props.onKeyPressEvent,l)},s.handleSelectSlot=function(o){es(s.props.onSelectSlot,o)},s.handleDrillDown=function(o,l){var c=s.props.onDrillDown;if(c){c(o,l,s.drilldownView);return}l&&s.handleViewChange(l),s.handleNavigate(Xr.DATE,o)},s.state={context:e.getContext(s.props)},s}return Pr(e,t),Ks(e,[{key:"render",value:function(){var n=this.props,a=n.view,i=n.toolbar,o=n.events,l=n.backgroundEvents,c=n.resourceGroupingLayout,d=n.style,u=n.className,h=n.elementProps,f=n.date,m=n.getNow,g=n.length,x=n.showMultiDayTimes,j=n.onShowMore,y=n.doShowMoreDrillDown;n.components,n.formats,n.messages,n.culture;var b=Ha(n,fV);f=f||m();var k=this.getView(),A=this.state.context,E=A.accessors,I=A.components,_=A.getters,v=A.localizer,P=A.viewNames,L=I.toolbar||yU,S=k.title(f,{localizer:v,length:g});return ce.createElement("div",Object.assign({},h,{className:ys(u,"rbc-calendar",b.rtl&&"rbc-rtl"),style:d}),i&&ce.createElement(L,{date:f,view:a,views:P,label:S,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:v}),ce.createElement(k,Object.assign({},b,{events:o,backgroundEvents:l,date:f,getNow:m,length:g,localizer:v,getters:_,components:I,accessors:E,showMultiDayTimes:x,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:j,doShowMoreDrillDown:y,resourceGroupingLayout:c})))}}],[{key:"getDerivedStateFromProps",value:function(n){return{context:e.getContext(n)}}},{key:"getContext",value:function(n){var a=n.startAccessor,i=n.endAccessor,o=n.allDayAccessor,l=n.tooltipAccessor,c=n.titleAccessor,d=n.resourceAccessor,u=n.resourceIdAccessor,h=n.resourceTitleAccessor,f=n.eventIdAccessor,m=n.eventPropGetter,g=n.backgroundEventPropGetter,x=n.slotPropGetter,j=n.slotGroupPropGetter,y=n.dayPropGetter,b=n.view,k=n.views,A=n.localizer,E=n.culture,I=n.messages,_=I===void 0?{}:I,v=n.components,P=v===void 0?{}:v,L=n.formats,S=L===void 0?{}:L,C=O4(k),O=vU(_);return{viewNames:C,localizer:gU(A,E,S,O),getters:{eventProp:function(){return m&&m.apply(void 0,arguments)||{}},backgroundEventProp:function(){return g&&g.apply(void 0,arguments)||{}},slotProp:function(){return x&&x.apply(void 0,arguments)||{}},slotGroupProp:function(){return j&&j.apply(void 0,arguments)||{}},dayProp:function(){return y&&y.apply(void 0,arguments)||{}}},components:$z(P[b]||{},IW(P,C),{eventWrapper:fi,backgroundEventWrapper:fi,eventContainerWrapper:fi,dateCellWrapper:fi,weekWrapper:fi,timeSlotWrapper:fi,timeGutterWrapper:fi}),accessors:{start:ii(a),end:ii(i),allDay:ii(o),tooltip:ii(l),title:ii(c),resource:ii(d),resourceId:ii(u),resourceTitle:ii(h),eventId:ii(f)}}}}])}(ce.Component);R4.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:Tr.MONTH,views:[Tr.MONTH,Tr.WEEK,Tr.DAY,Tr.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:Tr.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var xV=c5(R4,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),gV=function(e,s,n){var a=e.start,i=e.end;return"".concat(n.format(a,"P",s),"  ").concat(n.format(i,"P",s))},Qx=function(e,s,n){var a=e.start,i=e.end;return"".concat(n.format(a,"p",s),"  ").concat(n.format(i,"p",s))},yV=function(e,s,n){var a=e.start;return"".concat(n.format(a,"h:mma",s),"  ")},bV=function(e,s,n){var a=e.end;return"  ".concat(n.format(a,"h:mma",s))},vV=function(e,s,n){var a=e.start,i=e.end;return"".concat(n.format(a,"MMMM dd",s),"  ").concat(n.format(i,Ic(a,i,"month")?"dd":"MMMM dd",s))},wV={dateFormat:"dd",dayFormat:"dd eee",weekdayFormat:"ccc",selectRangeFormat:Qx,eventTimeRangeFormat:Qx,eventTimeRangeStartFormat:yV,eventTimeRangeEndFormat:bV,timeGutterFormat:"p",monthHeaderFormat:"MMMM yyyy",dayHeaderFormat:"cccc MMM dd",dayRangeHeaderFormat:vV,agendaHeaderFormat:gV,agendaDateFormat:"ccc MMM dd",agendaTimeFormat:"p",agendaTimeRangeFormat:Qx},jV=function(e){var s=e.startOfWeek,n=e.getDay,a=e.format,i=e.locales;return new xU({formats:wV,firstOfWeek:function(l){return n(s(new Date,{locale:i[l]}))},format:function(l,c,d){return a(new Date(l),c,{locale:i[d]})}})};const oh=Jr((t,e)=>({events:[],loading:!1,error:null,currentDate:new Date,view:"month",clearError:()=>t({error:null}),setView:s=>t({view:s}),setCurrentDate:s=>t({currentDate:s}),fetchEvents:async()=>{t({loading:!0,error:null});try{const{data:s,error:n}=await Ae.from("calendar_events").select("*").order("start",{ascending:!0});if(n)throw n;const a=(s||[]).map(i=>({...i,start:new Date(i.start),end:new Date(i.end)}));t({events:a,loading:!1})}catch(s){console.error("Error in fetchEvents:",s),t({error:s.message||"Failed to fetch calendar events",loading:!1})}},addEvent:async s=>{t({loading:!0,error:null});try{const{data:{user:n}}=await Ae.auth.getUser();if(!n)throw new Error("User not authenticated");const{data:a,error:i}=await Ae.from("calendar_events").insert([{...s,user_id:n.id,start:s.start?.toISOString(),end:s.end?.toISOString()}]).select().single();if(i)throw i;const o={...a,start:new Date(a.start),end:new Date(a.end)};return t({events:[...e().events,o],loading:!1}),o}catch(n){throw console.error("Error in addEvent:",n),t({error:n.message||"Failed to add event",loading:!1}),n}},updateEvent:async(s,n)=>{t({loading:!0,error:null});try{const{data:a,error:i}=await Ae.from("calendar_events").update({...n,start:n.start?.toISOString(),end:n.end?.toISOString()}).eq("id",s).select().single();if(i)throw i;const o={...a,start:new Date(a.start),end:new Date(a.end)};return t({events:e().events.map(l=>l.id===s?o:l),loading:!1}),o}catch(a){throw console.error("Error in updateEvent:",a),t({error:a.message||"Failed to update event",loading:!1}),a}},deleteEvent:async s=>{t({loading:!0,error:null});try{const{error:n}=await Ae.from("calendar_events").delete().eq("id",s);if(n)throw n;t({events:e().events.filter(a=>a.id!==s),loading:!1})}catch(n){throw console.error("Error in deleteEvent:",n),t({error:n.message||"Failed to delete event",loading:!1}),n}}})),NV={"en-US":Kf},kV=jV({format:yi,parse:N8,startOfWeek:wi,getDay:AP,locales:NV}),_V=({className:t,isMaximized:e=!1,onToggleMaximize:s,onOpenNewWindow:n})=>{const{events:a,fetchEvents:i,addEvent:o,updateEvent:l,deleteEvent:c}=oh();Dc();const[d,u]=U.useState("month"),[h,f]=U.useState(new Date),[m,g]=U.useState(!1),[x,j]=U.useState(null),[y,b]=U.useState(["custom","invoice"]),[k,A]=U.useState({title:"",start:new Date,end:new Date,description:"",type:"custom"});U.useEffect(()=>{i()},[i]);const E=a.filter(S=>{const C=new Date,O=_8(new Date(S.start),{start:U0(C),end:WN(C)});return y.includes(S.type)&&O}),I=S=>{j(S),g(!0),S.type==="invoice"&&S.invoice_id&&navigate(`/invoices/${S.invoice_id}`)},_=({start:S,end:C})=>{A({title:"",start:S,end:C,description:"",type:"custom"}),g(!0)},v=async()=>{try{x?(await l(x.id,k),fe.success("Event updated successfully")):(await o(k),fe.success("Event added successfully")),g(!1),j(null),A({title:"",start:new Date,end:new Date,description:"",type:"custom"})}catch{fe.error("Failed to save event")}},P=async()=>{if(x)try{await c(x.id),fe.success("Event deleted successfully"),g(!1),j(null)}catch{fe.error("Failed to delete event")}},L=S=>{let C="";switch(S.type){case"invoice":C="#4f46e5";break;case"expense":C="#dc2626";break;case"task":C="#2563eb";break;case"holiday":C="#9333ea";break;default:C="#059669"}return{style:{backgroundColor:C,borderRadius:"4px",opacity:.8,color:"white",border:"0",display:"block"}}};return r.jsxs("div",{className:`bg-dark-800 rounded-lg border border-dark-700 p-4 ${t}`,children:[r.jsxs("div",{className:"flex flex-col space-y-4",children:[r.jsx("div",{className:"text-center",children:r.jsx("h2",{className:"text-2xl font-bold text-white",children:yi(h,"MMMM yyyy")})}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("button",{onClick:()=>u("month"),className:`px-3 py-1 rounded ${d==="month"?"bg-primary-600 text-white":"bg-dark-700 text-gray-300"}`,children:"Month"}),r.jsx("button",{onClick:()=>u("week"),className:`px-3 py-1 rounded ${d==="week"?"bg-primary-600 text-white":"bg-dark-700 text-gray-300"}`,children:"Week"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>f(new Date(h.setMonth(h.getMonth()-1))),className:"p-1 hover:bg-dark-700 rounded",children:r.jsx(pN,{className:"text-gray-400",size:20})}),r.jsx("button",{onClick:()=>f(new Date),className:"px-3 py-1 text-sm text-gray-300 hover:bg-dark-700 rounded",children:"Today"}),r.jsx("button",{onClick:()=>f(new Date(h.setMonth(h.getMonth()+1))),className:"p-1 hover:bg-dark-700 rounded",children:r.jsx(ct,{className:"text-gray-400",size:20})}),s&&r.jsx("button",{onClick:s,className:"p-1 hover:bg-dark-700 rounded",title:e?"Minimize":"Maximize",children:e?r.jsx(bC,{className:"text-gray-400",size:20}):r.jsx(gC,{className:"text-gray-400",size:20})}),n&&r.jsx("button",{onClick:n,className:"p-1 hover:bg-dark-700 rounded",title:"Open in new window",children:r.jsx(aC,{className:"text-gray-400",size:20})})]})]}),r.jsx("div",{className:`transition-all duration-300 ${e?"h-[calc(100vh-200px)]":"h-[calc(100vh-250px)]"}`,children:r.jsx(xV,{localizer:kV,events:E,startAccessor:"start",endAccessor:"end",view:d,onView:S=>u(S),date:h,onNavigate:f,onSelectEvent:I,onSelectSlot:_,selectable:!0,eventPropGetter:L,className:"calendar-dark",components:{toolbar:()=>null}})})]}),m&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 w-full max-w-md",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:x?"Edit Event":"New Event"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Title"}),r.jsx("input",{type:"text",className:"input w-full",value:k.title,onChange:S=>A({...k,title:S.target.value}),placeholder:"Event title"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Type"}),r.jsxs("select",{className:"input w-full",value:k.type,onChange:S=>A({...k,type:S.target.value}),children:[r.jsx("option",{value:"custom",children:"Custom Event"}),r.jsx("option",{value:"task",children:"Task"}),r.jsx("option",{value:"invoice",children:"Invoice Due"}),r.jsx("option",{value:"expense",children:"Expense"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Start Date & Time"}),r.jsx("input",{type:"datetime-local",className:"input w-full",value:yi(k.start,"yyyy-MM-dd'T'HH:mm"),onChange:S=>A({...k,start:new Date(S.target.value)})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"End Date & Time"}),r.jsx("input",{type:"datetime-local",className:"input w-full",value:yi(k.end,"yyyy-MM-dd'T'HH:mm"),onChange:S=>A({...k,end:new Date(S.target.value)})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Description"}),r.jsx("textarea",{className:"input w-full",value:k.description,onChange:S=>A({...k,description:S.target.value}),rows:3,placeholder:"Event description"})]})]}),r.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[x&&r.jsx("button",{onClick:P,className:"btn btn-danger",children:"Delete"}),r.jsx("button",{onClick:()=>{g(!1),j(null)},className:"btn btn-secondary",children:"Cancel"}),r.jsx("button",{onClick:v,className:"btn btn-primary",children:x?"Update":"Create"})]})]})})]})},SV=()=>{const[t,e]=U.useState(!0),[s,n]=U.useState(!1),[a,i]=U.useState(!1),[o,l]=U.useState(!1),[c,d]=U.useState({sales:!0,finance:!0,team:!0,system:!0}),{user:u,signOut:h}=Ar(),{currentSubscription:f}=hl(),{activeTemplate:m}=e5(),{getConfig:g}=A8(),x=g(m),j=Qt(),y=Yg(),b=f?.plan_id&&["business","enterprise"].includes(f.plan_id),k=()=>{e(!t)},A=()=>{l(!o),o||e(!1)};U.useEffect(()=>{o&&e(!1)},[o]),U.useEffect(()=>{t&&o&&l(!1)},[t]);const E=()=>e(!1);U.useEffect(()=>{window.innerWidth<768&&E()},[y.pathname]);const I=async()=>{await h(),j("/login")},_=L=>{d(S=>({...S,[L]:!S[L]}))},v=y.pathname==="/settings"&&y.search==="?tab=ai-agents",P=()=>{const L=window.open("","CxTrack Calendar","width=1024,height=768,menubar=no,toolbar=no,location=no,status=no");L&&(L.document.write(`
        <!DOCTYPE html>
        <html class="dark">
          <head>
            <title>CxTrack Calendar</title>
            <link rel="icon" type="image/svg+xml" href="/logo.svg" />
            <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
            <style>
              ${document.querySelector("style")?.innerHTML||""}
              body { 
                margin: 0;
                padding: 20px;
                background-color: #020617;
                font-family: 'Inter', sans-serif;
              }
              .calendar-wrapper {
                background-color: rgb(30, 41, 59);
                border: 1px solid rgb(51, 65, 85);
                border-radius: 0.5rem;
                padding: 1rem;
                height: calc(100vh - 40px);
              }
              .calendar-dark .rbc-toolbar button {
                color: #fff;
                border: 1px solid rgb(51, 65, 85);
                background-color: rgb(30, 41, 59);
              }
              .calendar-dark .rbc-toolbar button:hover {
                background-color: rgb(51, 65, 85);
              }
              .calendar-dark .rbc-toolbar button.rbc-active {
                background-color: #4f46e5;
                border-color: #4f46e5;
              }
              .calendar-dark .rbc-month-view,
              .calendar-dark .rbc-time-view {
                border-color: rgb(51, 65, 85);
              }
              .calendar-dark .rbc-header,
              .calendar-dark .rbc-time-header-cell {
                border-color: rgb(51, 65, 85);
              }
              .calendar-dark .rbc-day-bg {
                border-color: rgb(51, 65, 85);
              }
              .calendar-dark .rbc-today {
                background-color: rgba(79, 70, 229, 0.1);
              }
            </style>
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
          </head>
          <body class="bg-dark-950">
            <div id="calendar-container" class="calendar-wrapper">
              ${document.getElementById("calendar-wrapper")?.innerHTML||""}
            </div>
          </body>
        </html>
      `),L.document.close())};return r.jsxs("div",{className:"min-h-screen bg-dark-950 flex",children:[t&&r.jsx("div",{className:"fixed inset-0 bg-black/50 z-20 md:hidden",onClick:E}),r.jsx("aside",{className:`fixed top-0 left-0 z-30 h-full bg-dark-900 transform transition-transform duration-200 ease-in-out md:relative ${t?"translate-x-0 w-64":"-translate-x-full w-0 md:w-20"}`,children:r.jsxs("div",{className:"flex flex-col h-full",children:[r.jsxs("div",{className:"flex items-center justify-between px-4 py-5 border-b border-dark-800",children:[r.jsxs(de,{to:"/dashboard",className:"flex items-center space-x-3",children:[r.jsx("img",{src:"/logo.svg",alt:"CxTrack Logo",className:"h-10 w-10 logo-glow"}),t&&r.jsx("span",{className:"brand-logo text-2xl font-bold text-white brand-text",children:"CxTrack"})]}),r.jsx("button",{onClick:k,className:"text-gray-400 hover:text-white p-1 rounded-lg hover:bg-dark-700 md:block",title:t?"Collapse sidebar":"Expand sidebar",children:r.jsx(pN,{size:20,className:`transform transition-transform duration-200 ${t?"":"rotate-180"}`})})]}),r.jsxs("nav",{className:"flex-1 py-4 px-2 space-y-1 overflow-y-auto",children:[x.sidebarItems.map((L,S)=>{let C;switch(L.icon){case"LayoutDashboard":C=fC;break;case"Users":C=dr;break;case"FileText":C=wt;break;case"Package":C=cr;break;case"ShoppingCart":C=un;break;case"Receipt":C=Ea;break;case"DollarSign":C=us;break;default:C=wt}return L.section?null:r.jsxs(an,{to:L.path,className:({isActive:O})=>`sidebar-link ${O?"active":""}`,children:[r.jsx(C,{size:20}),t&&r.jsx("span",{children:L.label})]},S)}),t&&r.jsxs("div",{className:"pt-4 pb-2 px-4 flex items-center justify-between cursor-pointer group",onClick:()=>_("sales"),children:[r.jsx("span",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Sales"}),r.jsx(Da,{size:14,className:`text-gray-400 transform transition-transform duration-200 ${c.sales?"rotate-180":""}`})]}),(!t||c.sales)&&r.jsx(r.Fragment,{children:x.sidebarItems.filter(L=>L.section==="sales").map((L,S)=>{let C;switch(L.icon){case"Quote":C=wt;break;case"FileText":C=wt;break;default:C=wt}return r.jsxs(an,{to:L.path,className:({isActive:O})=>`sidebar-link ${O?"active":""}`,children:[r.jsx(C,{size:20}),t&&r.jsx("span",{children:L.label})]},S)})}),t&&r.jsxs("div",{className:"pt-4 pb-2 px-4 flex items-center justify-between cursor-pointer group",onClick:()=>_("team"),children:[r.jsx("span",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Team"}),r.jsx(Da,{size:14,className:`text-gray-400 transform transition-transform duration-200 ${c.team?"rotate-180":""}`})]}),(!t||c.team)&&r.jsxs(r.Fragment,{children:[r.jsxs(an,{to:"/team",className:({isActive:L})=>`sidebar-link ${L?"active":""}`,children:[r.jsx(dr,{size:20}),t&&r.jsx("span",{children:"Direct Reports"})]}),r.jsxs(an,{to:"/settings?tab=ai-agents",className:({isActive:L})=>`sidebar-link ${L&&v?"active":""}`,children:[r.jsx(Ge,{size:20}),t&&r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"ml-3",children:"AI Agents"}),!b&&r.jsx(vi,{size:14,className:"ml-2 text-yellow-400 fill-yellow-400","data-tooltip-id":"premium-feature","data-tooltip-content":"Premium Feature"})]})]})]}),t&&r.jsxs("div",{className:"pt-4 pb-2 px-4 flex items-center justify-between cursor-pointer group",onClick:()=>_("finance"),children:[r.jsx("span",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Finance"}),r.jsx(Da,{size:14,className:`text-gray-400 transform transition-transform duration-200 ${c.finance?"rotate-180":""}`})]}),(!t||c.finance)&&r.jsxs(r.Fragment,{children:[r.jsxs(an,{to:"/revenue",className:({isActive:L})=>`sidebar-link ${L?"active":""}`,children:[r.jsx(us,{size:20}),t&&r.jsx("span",{children:"Revenue"})]}),r.jsxs(an,{to:"/expenses",className:({isActive:L})=>`sidebar-link ${L?"active":""}`,children:[r.jsx(Ea,{size:20}),t&&r.jsx("span",{children:"Expenses"})]}),r.jsxs(an,{to:"/products",className:({isActive:L})=>`sidebar-link ${L?"active":""}`,children:[r.jsx(cr,{size:20}),t&&r.jsx("span",{children:"Products"})]}),r.jsxs(an,{to:"/inventory",className:({isActive:L})=>`sidebar-link ${L?"active":""}`,children:[r.jsx(Um,{size:20}),t&&r.jsx("span",{children:"Inventory"})]}),r.jsxs(an,{to:"/purchases",className:({isActive:L})=>`sidebar-link ${L?"active":""}`,children:[r.jsx(un,{size:20}),t&&r.jsx("span",{children:"Purchases"})]})]}),t&&r.jsxs("div",{className:"pt-4 pb-2 px-4 flex items-center justify-between cursor-pointer group",onClick:()=>_("system"),children:[r.jsx("span",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"System"}),r.jsx(Da,{size:14,className:`text-gray-400 transform transition-transform duration-200 ${c.system?"rotate-180":""}`})]}),(!t||c.system)&&r.jsxs(r.Fragment,{children:[r.jsxs(an,{to:"/settings",end:!0,className:({isActive:L})=>`sidebar-link ${L&&!v?"active":""}`,children:[r.jsx(Vf,{size:20}),t&&r.jsx("span",{children:"Settings"})]}),r.jsxs(an,{to:"/settings?tab=integrations",className:({isActive:L})=>`sidebar-link ${y.pathname==="/settings"&&y.search==="?tab=integrations"?"active":""}`,children:[r.jsx(En,{size:20}),t&&r.jsx("span",{children:"Integrations"})]}),r.jsxs(an,{to:"/templates",className:({isActive:L})=>`sidebar-link ${L?"active":""}`,children:[r.jsx(wt,{size:20}),t&&r.jsx("span",{children:"Templates"})]})]}),r.jsxs("button",{onClick:()=>{i(!a),!a&&window.innerWidth<1280&&e(!1)},className:`sidebar-link w-full text-left ${a?"bg-primary-600 text-white":""}`,children:[r.jsx(Rs,{size:20}),t&&r.jsx("span",{children:"Calendar"})]}),r.jsxs("button",{onClick:I,className:"sidebar-link text-red-400 hover:text-red-300 w-full text-left",children:[r.jsx(xC,{size:20}),t&&r.jsx("span",{children:"Sign Out"})]})]})]})}),r.jsxs("div",{className:"flex-1 flex flex-col min-w-0 overflow-hidden",children:[r.jsx("header",{className:"bg-dark-900 border-b border-dark-800 sticky top-0 z-10",children:r.jsxs("div",{className:"flex items-center justify-between h-16 px-4",children:[r.jsx("div",{className:"flex items-center space-x-4",children:r.jsx("button",{onClick:k,className:"text-gray-400 hover:text-white md:hidden","aria-label":"Toggle menu",children:r.jsx(yC,{size:24})})}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(S8,{}),r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>n(!s),className:"flex items-center space-x-2 text-gray-300 hover:text-white focus:outline-none","aria-label":"User menu",children:[r.jsx("div",{className:"h-8 w-8 rounded-full bg-primary-700 flex items-center justify-center text-white",children:u?.user_metadata?.full_name?.charAt(0)||u?.email?.charAt(0)||"U"}),t&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"hidden md:inline-block font-medium",children:u?.user_metadata?.full_name||u?.email?.split("@")[0]}),r.jsx(Da,{size:16,className:"hidden md:block"})]})]}),s&&r.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-dark-800 rounded-md shadow-lg py-1 z-50",children:[r.jsx(an,{to:"/settings",className:"block px-4 py-2 text-sm text-gray-300 hover:bg-dark-700",onClick:()=>n(!1),children:"Profile Settings"}),r.jsx("button",{onClick:()=>{n(!1),I()},className:"block w-full text-left px-4 py-2 text-sm text-red-400 hover:bg-dark-700",children:"Sign Out"})]})]})]})]})}),a&&r.jsxs("div",{id:"calendar-wrapper",className:`fixed right-0 top-16 bottom-0 bg-dark-900 border-l border-dark-800 z-20 overflow-hidden transition-all duration-200 flex flex-col ${o?"left-64 md:left-20":"w-96"}`,children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-dark-700",children:[r.jsx("h2",{className:"text-lg font-semibold text-white",children:"Calendar"}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsx("button",{onClick:()=>i(!1),className:"text-gray-400 hover:text-white p-1 rounded-lg hover:bg-dark-700",title:"Close Calendar",children:r.jsx(or,{size:20})})})]}),r.jsx("div",{className:"flex-1 p-4",children:r.jsx(_V,{isMaximized:o,onToggleMaximize:A,onOpenNewWindow:P})})]}),!t&&o&&r.jsx("button",{onClick:k,className:"fixed left-4 top-20 z-30 bg-dark-800 text-gray-400 hover:text-white p-2 rounded-lg hover:bg-dark-700 shadow-lg",title:"Show Sidebar",children:r.jsx(ct,{size:20})}),r.jsx("main",{className:`flex-1 overflow-y-auto bg-dark-950 p-4 md:p-6 transition-all duration-200 ${a?o?"mr-[calc(100%-16rem)]":"mr-96":""}`,children:r.jsx(Qj,{})})]})]})},AV=()=>{const{register:t,handleSubmit:e,formState:{errors:s}}=Ds(),{signIn:n,signInWithGoogle:a,loading:i,error:o,clearError:l}=Ar(),c=Qt(),[d,u]=U.useState(!1),[h,f]=U.useState(!1),[m,g]=U.useState(!1),[x,j]=U.useState(0);U.useEffect(()=>{l()},[l]);const y=async k=>{try{g(!0),j(A=>A+1),await n(k.email,k.password),fe.success("Logged in successfully"),setTimeout(()=>{c("/dashboard")},300)}catch(A){console.error("Login error in component:",A),x>=2&&fe.error("Having trouble logging in? Try using a different browser or clearing your cookies.")}},b=/iPad|iPhone|iPod/.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1;return r.jsxs("div",{className:"min-h-screen bg-dark-950 flex flex-col",children:[r.jsx("div",{className:"bg-dark-900 border-b border-dark-800",children:r.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:r.jsxs(de,{to:"/",className:"flex items-center space-x-2 text-gray-400 hover:text-white transition-colors",children:[r.jsx(ss,{size:20}),r.jsx("span",{children:"Back to Home"})]})})}),r.jsx("div",{className:"flex-1 flex items-center justify-center px-4 py-12",children:r.jsxs("div",{className:"w-full max-w-md",children:[r.jsxs("div",{className:"flex flex-col items-center mb-8",children:[r.jsxs(de,{to:"/",className:"flex items-center space-x-3 mb-8",children:[r.jsx("img",{src:"/logo.svg",alt:"CxTrack Logo",className:"h-12 w-12 logo-glow"}),r.jsx("span",{className:"brand-logo text-3xl font-bold text-white brand-text",children:"CxTrack"})]}),r.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Welcome back"}),r.jsx("p",{className:"text-gray-400",children:"Sign in to your account to continue"})]}),o&&r.jsxs("div",{className:"bg-red-900/50 border border-red-800 text-red-300 px-4 py-3 rounded-lg mb-6",children:[o,b&&x>=1&&r.jsx("p",{className:"mt-2 text-sm",children:`iOS users: If you're having trouble, try enabling "Cross-Website Tracking" in Safari Settings  Privacy & Security.`})]}),r.jsxs("form",{onSubmit:e(y),className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-1",children:"Email Address"}),r.jsx("input",{id:"email",type:"email",inputMode:"email",className:"input w-full bg-dark-800 border-dark-700",placeholder:"you@example.com",autoComplete:"email",autoCapitalize:"none",...t("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})}),s.email&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:s.email.message})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-1",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{id:"password",type:h?"text":"password",className:"input w-full pr-10 bg-dark-800 border-dark-700",placeholder:"",autoComplete:"current-password",...t("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}})}),r.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-300",onClick:()=>f(!h),tabIndex:-1,children:h?r.jsx(uf,{size:18}):r.jsx(Pn,{size:18})})]}),s.password&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:s.password.message})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{id:"remember-me",type:"checkbox",className:"h-4 w-4 rounded border-gray-600 bg-dark-800 text-primary-600 focus:ring-primary-500"}),r.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-300",children:"Remember me"})]}),r.jsx("div",{className:"text-sm",children:r.jsxs(de,{to:"/forgot-password",className:"text-primary-400 hover:text-primary-300 flex items-center",onClick:()=>l(),children:[r.jsx(aa,{size:14,className:"mr-1"}),"Forgot password?"]})})]}),r.jsx("button",{type:"submit",disabled:i,className:"btn btn-primary w-full flex justify-center py-3",children:i?r.jsxs("span",{className:"flex items-center",children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):r.jsxs("span",{className:"flex items-center",children:[r.jsx(gN,{size:18,className:"mr-2"}),"Sign In"]})}),r.jsxs("div",{className:"relative py-3",children:[r.jsx("div",{className:"absolute inset-0 flex items-center",children:r.jsx("div",{className:"w-full border-t border-dark-700"})}),r.jsx("div",{className:"relative flex justify-center text-sm",children:r.jsx("span",{className:"px-2 bg-dark-950 text-gray-400",children:"Or continue with"})})]}),r.jsx("div",{className:"flex justify-center",children:r.jsxs("button",{type:"button",onClick:async()=>{try{u(!0),await a()}catch(k){console.error("Google sign in error:",k),fe.error("Failed to sign in with Google")}finally{u(!1)}},disabled:i||d,className:"btn btn-secondary flex items-center justify-center space-x-2 py-2.5 relative w-full max-w-xs",children:[d&&r.jsx("div",{className:"absolute inset-0 bg-dark-800/50 flex items-center justify-center",children:r.jsx(hf,{className:"animate-spin h-5 w-5"})}),r.jsxs("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:[r.jsx("path",{d:"M12.0003 4.75C13.7703 4.75 15.3553 5.36002 16.6053 6.54998L20.0303 3.125C17.9502 1.19 15.2353 0 12.0003 0C7.31028 0 3.25527 2.69 1.28027 6.60998L5.27028 9.70498C6.21525 6.86002 8.87028 4.75 12.0003 4.75Z",fill:"#EA4335"}),r.jsx("path",{d:"M23.49 12.275C23.49 11.49 23.415 10.73 23.3 10H12V14.51H18.47C18.18 15.99 17.34 17.25 16.08 18.1L19.945 21.1C22.2 19.01 23.49 15.92 23.49 12.275Z",fill:"#4285F4"}),r.jsx("path",{d:"M5.26498 14.2949C5.02498 13.5699 4.88501 12.7999 4.88501 11.9999C4.88501 11.1999 5.01998 10.4299 5.26498 9.70492L1.27498 6.60992C0.46498 8.22992 0 10.0599 0 11.9999C0 13.9399 0.46498 15.7699 1.28498 17.3899L5.26498 14.2949Z",fill:"#FBBC05"}),r.jsx("path",{d:"M12.0004 24.0001C15.2404 24.0001 17.9654 22.935 19.9454 21.095L16.0804 18.095C15.0054 18.855 13.6204 19.325 12.0004 19.325C8.8704 19.325 6.21537 17.215 5.2654 14.295L1.2754 17.385C3.25537 21.31 7.3104 24.0001 12.0004 24.0001Z",fill:"#34A853"})]}),r.jsx("span",{children:"Google"})]})})]}),r.jsxs("p",{className:"mt-8 text-center text-sm text-gray-400",children:["Don't have an account?"," ",r.jsx(de,{to:"/register",className:"text-primary-400 hover:text-primary-300 font-medium",children:"Sign up for free"})]})]})})]})},CV=()=>{const t=Qt(),[e,s]=U.useState(!1);return U.useEffect(()=>{fetch("https://ipapi.co/json/").then(n=>n.json()).then(n=>{["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE"].includes(n.country_code)&&(s(!0),setTimeout(()=>{t("/")},5e3))}).catch(n=>{console.error("Error checking location:",n)})},[t]),r.jsxs("div",{className:"min-h-screen bg-dark-950",children:[r.jsx("div",{className:"bg-gradient-to-b from-primary-900 to-primary-800 py-16",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsxs(de,{to:"/",className:"inline-flex items-center text-white mb-8 hover:text-primary-200",children:[r.jsx(ss,{size:20,className:"mr-2"}),"Back to Home"]}),r.jsxs("div",{className:"max-w-3xl mx-auto",children:[r.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Regional Availability Notice"}),r.jsx("p",{className:"text-xl text-primary-200",children:"Important information about CxTrack's regional availability and data handling."})]})]})}),r.jsx("div",{className:"container mx-auto px-4 py-16",children:e?r.jsx("div",{className:"bg-red-900/50 border border-red-800 rounded-lg p-8 mb-8",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx(uN,{size:24,className:"text-red-400 mr-3 mt-1"}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Service Not Available in Your Region"}),r.jsx("p",{className:"text-red-200",children:"We've detected that you're accessing CxTrack from a European Union member state. Unfortunately, our services are not available in your region. You will be redirected to the homepage in a few seconds."})]})]})}):r.jsxs("div",{className:"bg-dark-800 rounded-lg border border-dark-700 p-8",children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"North American Service Only"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Regional Availability"}),r.jsx("p",{className:"text-gray-300",children:"CxTrack's services are exclusively available to users in North America (United States and Canada). We do not operate in or provide services to users in the European Union or other regions governed by GDPR regulations."})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Data Handling Notice"}),r.jsx("p",{className:"text-gray-300",children:"Our platform is designed for North American business operations and complies with applicable North American data protection laws. We do not claim GDPR compliance and do not offer GDPR-mandated data subject rights or protections."})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Access Restrictions"}),r.jsx("p",{className:"text-gray-300",children:"Users attempting to access our services from European Union member states will be automatically blocked. This includes registration, login, and use of our platform's features."})]}),r.jsxs("div",{className:"bg-dark-700 rounded-lg p-6 mt-8",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"By using CxTrack, you acknowledge that:"}),r.jsxs("ul",{className:"space-y-3 text-gray-300",children:[r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"text-primary-400 mr-2",children:""}),"You are located in and accessing our services from North America"]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"text-primary-400 mr-2",children:""}),"Your use of our services is not subject to GDPR regulations"]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"text-primary-400 mr-2",children:""}),"Data handling and privacy practices follow North American standards"]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"text-primary-400 mr-2",children:""}),"You will not attempt to circumvent regional access restrictions"]})]})]})]})]})})]})},PV=()=>{Yg();const t=Qt(),{updatePassword:e,loading:s,error:n,clearError:a}=Ar(),[i,o]=U.useState(!1),[l,c]=U.useState(!1),{register:d,handleSubmit:u,watch:h,formState:{errors:f}}=Ds(),m=h("password"),g=async x=>{a();try{const y=new URLSearchParams(window.location.hash.substring(1)).get("access_token");if(!y)throw new Error("Invalid or expired reset link");await e(y,x.password),fe.success("Password reset successfully"),setTimeout(()=>{t("/login")},1500)}catch(j){console.error("Password reset error:",j);const y=n?.includes("Invalid")||n?.includes("expired")?"This password reset link has expired. Please request a new one.":n||"Failed to reset password. Please try again.";fe.error(y),(y.includes("expired")||y.includes("Invalid"))&&setTimeout(()=>t("/forgot-password"),2e3)}};return r.jsxs("div",{className:"min-h-screen bg-dark-950 flex flex-col",children:[r.jsx("div",{className:"bg-dark-900 border-b border-dark-800",children:r.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("button",{onClick:()=>t(-1),className:"flex items-center space-x-2 text-gray-400 hover:text-white transition-colors",children:[r.jsx(ss,{size:20}),r.jsx("span",{children:"Back"})]}),r.jsxs(de,{to:"/",className:"flex items-center space-x-3",children:[r.jsx("img",{src:"/logo.svg",alt:"CxTrack Logo",className:"h-8 w-8 logo-glow"}),r.jsx("span",{className:"brand-logo text-xl font-bold text-white brand-text",children:"CxTrack"})]})]})})}),r.jsx("div",{className:"flex-1 flex items-center justify-center px-4 py-12",children:r.jsxs("div",{className:"w-full max-w-md",children:[r.jsxs("div",{className:"flex flex-col items-center mb-8",children:[r.jsxs(de,{to:"/",className:"flex items-center space-x-3 mb-8",children:[r.jsx("img",{src:"/logo.svg",alt:"CxTrack Logo",className:"h-12 w-12 logo-glow"}),r.jsx("span",{className:"brand-logo text-3xl font-bold text-white brand-text",children:"CxTrack"})]}),r.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Reset Your Password"}),r.jsx("p",{className:"text-gray-400",children:"Enter your new password below"})]}),n&&r.jsx("div",{className:"bg-red-900/50 border border-red-800 text-red-300 px-4 py-3 rounded-lg mb-6",children:n}),r.jsxs("form",{onSubmit:u(g),className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-1",children:"New Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{id:"password",type:i?"text":"password",className:"input w-full pr-10 bg-dark-800 border-dark-700",placeholder:"",...d("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}})}),r.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-300",onClick:()=>o(!i),tabIndex:-1,children:i?r.jsx(uf,{size:18}):r.jsx(Pn,{size:18})})]}),f.password&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:f.password.message})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-300 mb-1",children:"Confirm New Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{id:"confirmPassword",type:l?"text":"password",className:"input w-full pr-10 bg-dark-800 border-dark-700",placeholder:"",...d("confirmPassword",{required:"Please confirm your password",validate:x=>x===m||"Passwords do not match"})}),r.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-300",onClick:()=>c(!l),tabIndex:-1,children:l?r.jsx(uf,{size:18}):r.jsx(Pn,{size:18})})]}),f.confirmPassword&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:f.confirmPassword.message})]}),r.jsx("button",{type:"submit",disabled:s,className:"btn btn-primary w-full py-3",children:s?r.jsxs("span",{className:"flex items-center justify-center",children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Resetting Password..."]}):"Reset Password"})]})]})})]})},EV=()=>{const{resetPassword:t,loading:e,error:s,clearError:n}=Ar(),a=Qt(),[i,o]=U.useState(!1),{register:l,handleSubmit:c,formState:{errors:d}}=Ds(),u=async h=>{n();try{await t(h.email),o(!0),fe.success("Password reset instructions sent to your email")}catch(f){console.error("Password reset error:",f)}};return r.jsxs("div",{className:"min-h-screen bg-dark-950 flex flex-col",children:[r.jsx("div",{className:"bg-dark-900 border-b border-dark-800",children:r.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("button",{onClick:()=>a(-1),className:"flex items-center space-x-2 text-gray-400 hover:text-white transition-colors",children:[r.jsx(ss,{size:20}),r.jsx("span",{children:"Back"})]}),r.jsxs(de,{to:"/",className:"flex items-center space-x-3",children:[r.jsx("img",{src:"/logo.svg",alt:"CxTrack Logo",className:"h-8 w-8 logo-glow"}),r.jsx("span",{className:"brand-logo text-xl font-bold text-white brand-text",children:"CxTrack"})]})]})})}),r.jsx("div",{className:"flex-1 flex items-center justify-center px-4 py-12",children:r.jsxs("div",{className:"w-full max-w-md",children:[r.jsxs("div",{className:"flex flex-col items-center mb-8",children:[r.jsxs(de,{to:"/",className:"flex items-center space-x-3 mb-8",children:[r.jsx("img",{src:"/logo.svg",alt:"CxTrack Logo",className:"h-12 w-12 logo-glow"}),r.jsx("span",{className:"brand-logo text-3xl font-bold text-white brand-text",children:"CxTrack"})]}),r.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Reset Password"}),r.jsx("p",{className:"text-gray-400",children:"Enter your email to receive reset instructions"})]}),s&&r.jsx("div",{className:"bg-red-900/50 border border-red-800 text-red-300 px-4 py-3 rounded-lg mb-6",children:s}),i?r.jsxs("div",{className:"bg-primary-900/50 border border-primary-800 rounded-lg p-6 text-center",children:[r.jsx(aa,{className:"w-12 h-12 text-primary-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Check Your Email"}),r.jsx("p",{className:"text-gray-400 mb-6",children:"We've sent password reset instructions to your email address. Please check your inbox."}),r.jsx(de,{to:"/login",className:"btn btn-primary w-full",children:"Return to Login"})]}):r.jsxs("form",{onSubmit:c(u),className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-1",children:"Email Address"}),r.jsx("input",{id:"email",type:"email",className:"input w-full bg-dark-800 border-dark-700",placeholder:"you@example.com",autoComplete:"email",...l("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})}),d.email&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:d.email.message})]}),r.jsx("button",{type:"submit",disabled:e,className:"btn btn-primary w-full py-3",children:e?r.jsxs("span",{className:"flex items-center justify-center",children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending Reset Instructions..."]}):"Send Reset Instructions"}),r.jsxs("p",{className:"text-center text-sm text-gray-400",children:["Remember your password?"," ",r.jsx(de,{to:"/login",className:"text-primary-400 hover:text-primary-300 font-medium",children:"Sign in"})]})]})]})})]})},mm={async getCustomers(){try{const{data:t,error:e}=await Ae.from("customers").select("*").order("created_at",{ascending:!1});if(e)throw console.error("Error fetching customers:",e),e;return t||[]}catch(t){throw console.error("Customer service error:",t),t}},async getCustomerById(t){try{const{data:e,error:s}=await Ae.from("customers").select("*").eq("id",t).single();if(s)throw console.error("Error fetching customer:",s),s;return e}catch(e){throw console.error("Customer service error:",e),e}},async createCustomer(t){try{const{data:e}=await Ae.auth.getUser();if(!e?.user)throw new Error("User not authenticated");const s={...t,user_id:e.user.id,status:"Active",total_spent:0},{data:n,error:a}=await Ae.from("customers").insert([s]).select().single();if(a)throw console.error("Error creating customer:",a),a;return n}catch(e){throw console.error("Customer service error:",e),e}},async updateCustomer(t,e){try{const{street:s,city:n,state:a,postalCode:i,country:o,...l}=e,c=s?[s,n,a,i].filter(Boolean).join(", "):null,{data:d,error:u}=await Ae.from("customers").update({...l,address:c,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(u)throw console.error("Error updating customer:",u),u;return d}catch(s){throw console.error("Customer service error:",s),s}},async deleteCustomer(t){try{const{error:e}=await Ae.from("customers").delete().eq("id",t);if(e)throw console.error("Error deleting customer:",e),e}catch(e){throw console.error("Customer service error:",e),e}}},On=Jr((t,e)=>({customers:[],loading:!1,error:null,clearError:()=>t({error:null}),fetchCustomers:async()=>{t({loading:!0,error:null});try{const s=await mm.getCustomers();t({customers:s,loading:!1})}catch(s){console.error("Error in fetchCustomers:",s),t({error:s.message||"Failed to fetch customers",loading:!1})}},getCustomerById:async s=>{t({loading:!0,error:null});try{const n=await mm.getCustomerById(s);return t({loading:!1}),n}catch(n){return console.error("Error in getCustomerById:",n),t({error:n.message||"Failed to fetch customer details",loading:!1}),null}},createCustomer:async s=>{t({loading:!0,error:null});try{const{data:{user:n}}=await Ae.auth.getUser();if(!n)throw new Error("User not authenticated");const a=await mm.createCustomer(s);await Ae.rpc("add_activity",{p_user_id:n.id,p_type:"customer",p_title:"Customer Added",p_customer:s.name});const i=[...e().customers,a];return t({customers:i,loading:!1}),a}catch(n){throw console.error("Error in createCustomer:",n),t({error:n.message||"Failed to create customer",loading:!1}),n}},updateCustomer:async(s,n)=>{t({loading:!0,error:null});try{const{data:a,error:i}=await Ae.from("customers").update({...n,updated_at:new Date().toISOString()}).eq("id",s).select().single();if(i)throw console.error("Error updating customer:",i),i;const o=e().customers.map(l=>l.id===s?{...l,...a}:l);return t({customers:o,loading:!1}),a}catch(a){throw console.error("Customer service error:",a),a}},deleteCustomer:async s=>{t({loading:!0,error:null});try{await mm.deleteCustomer(s);const n=e().customers.filter(a=>a.id!==s);t({customers:n,loading:!1})}catch(n){throw console.error("Error in deleteCustomer:",n),t({error:n.message||"Failed to delete customer",loading:!1}),n}}})),fm={async getSuppliers(){try{const{data:t,error:e}=await Ae.from("suppliers").select("*").order("created_at",{ascending:!1});if(e)throw console.error("Error fetching supplier:",e),e;return t||[]}catch(t){throw console.error("Supplier service error:",t),t}},async getSupplierById(t){try{const{data:e,error:s}=await Ae.from("suppliers").select("*").eq("id",t).single();if(s)throw console.error("Error fetching supplier:",s),s;return e}catch(e){throw console.error("Supplier service error:",e),e}},async createSupplier(t){try{const{data:e}=await Ae.auth.getUser();if(!e?.user)throw new Error("User not authenticated");const s={...t,user_id:e.user.id,total_spent:0};console.log(s);const{data:n,error:a}=await Ae.from("suppliers").insert([s]).select().single();if(a)throw console.error("Error creating supplier:",a),a;return n}catch(e){throw console.error("Supplier service error:",e),e}},async updateSUpplier(t,e){try{const{street:s,city:n,state:a,postal_code:i,country:o,...l}=e,c=s?[s,n,a,i].filter(Boolean).join(", "):null,{data:d,error:u}=await Ae.from("customers").update({...l,address:c,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(u)throw console.error("Error updating supplier:",u),u;return d}catch(s){throw console.error("Supplier service error:",s),s}},async deleteSupplier(t){try{const{error:e}=await Ae.from("suppliers").delete().eq("id",t);if(e)throw console.error("Error deleting supplier:",e),e}catch(e){throw console.error("Supplier service error:",e),e}}},yp=Jr((t,e)=>({suppliers:[],loading:!1,error:null,clearError:()=>t({error:null}),fetchSuppliers:async()=>{t({loading:!0,error:null});try{const s=await fm.getSuppliers();t({suppliers:s,loading:!1})}catch(s){console.error("Error in fetch suppliers:",s),t({error:s.message||"Failed to fetch suppliers",loading:!1})}},getSupplierById:async s=>{t({loading:!0,error:null});try{const n=await fm.getSupplierById(s);return t({loading:!1}),n}catch(n){return console.error("Error in getSupplierById:",n),t({error:n.message||"Failed to fetch customer details",loading:!1}),null}},createSupplier:async s=>{t({loading:!0,error:null});try{const{data:{user:n}}=await Ae.auth.getUser();if(!n)throw new Error("User not authenticated");const a=await fm.createSupplier(s);await Ae.rpc("add_activity",{p_user_id:n.id,p_type:"supplier",p_title:"Supplier Added",p_customer:s.user_id});const i=[...e().suppliers,a];return t({suppliers:i,loading:!1}),a}catch(n){throw console.error("Error in createSupplier:",n),t({error:n.message||"Failed to create supplier",loading:!1}),n}},updateSupplier:async(s,n)=>{t({loading:!0,error:null});try{console.log(s);const{data:a,error:i}=await Ae.from("suppliers").update({...n,updated_at:new Date().toISOString()}).eq("id",s).select().single();if(i)throw console.error("Error updating supplier:",i),i;const o=e().suppliers.map(l=>l.id===s?{...l,...a}:l);return t({suppliers:o,loading:!1}),a}catch(a){throw console.error("Supplier service error:",a),a}},deleteSupplier:async s=>{t({loading:!0,error:null});try{await fm.deleteSupplier(s);const n=e().suppliers.filter(a=>a.id!==s);t({suppliers:n,loading:!1})}catch(n){throw console.error("Error in delete supplier:",n),t({error:n.message||"Failed to delete supplier",loading:!1}),n}}})),Xl={async getProducts(){try{const{data:t,error:e}=await Ae.from("products").select("*").order("created_at",{ascending:!1});if(e)throw console.error("Error fetching products:",e),e;return t||[]}catch(t){throw console.error("Product service error:",t),t}},async getProductById(t){try{const{data:e,error:s}=await Ae.from("products").select("*").eq("id",t).single();if(s)throw console.error("Error fetching product:",s),s;return e}catch(e){throw console.error("Product service error:",e),e}},async createProduct(t){try{const{data:e}=await Ae.auth.getUser();if(!e?.user)throw new Error("User not authenticated");const s={...t,user_id:e.user.id,status:t.stock&&t.stock>0?"In Stock":"Out of Stock",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{data:n,error:a}=await Ae.from("products").insert([s]).select().single();if(a)throw console.error("Error creating product:",a),a;return n}catch(e){throw console.error("Product service error:",e),e}},async updateProduct(t,e){try{let s={...e};if("stock"in e){const i=e.stock||0;i<=0?s.status="Out of Stock":i<=10?s.status="Low Stock":s.status="In Stock"}s.updated_at=new Date().toISOString();const{data:n,error:a}=await Ae.from("products").update(s).eq("id",t).select().single();if(a)throw console.error("Error updating product:",a),a;return n}catch(s){throw console.error("Product service error:",s),s}},async deleteProduct(t){try{const{error:e}=await Ae.from("products").delete().eq("id",t);if(e)throw console.error("Error deleting product:",e),e}catch(e){throw console.error("Product service error:",e),e}},async updateStock(t,e){try{const{data:s,error:n}=await Ae.from("products").select("stock").eq("id",t).single();if(n)throw console.error("Error fetching product for stock update:",n),n;if(!s)throw new Error("Product not found");const i=(s.stock||0)+e;let o;i<=0?o="Out of Stock":i<=10?o="Low Stock":o="In Stock";const{data:l,error:c}=await Ae.from("products").update({stock:i,status:o,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(c)throw console.error("Error updating product stock:",c),c;return l}catch(s){throw console.error("Product service error:",s),s}}},xn=Jr((t,e)=>({products:[],loading:!1,error:null,totalProducts:0,clearError:()=>t({error:null}),fetchProducts:async()=>{t({loading:!0,error:null});try{const{data:{user:s}}=await Ae.auth.getUser(),n=await Xl.getProducts();t({products:n,totalProducts:n.length,loading:!1})}catch(s){throw console.error("Error in fetchProducts:",s),t({error:s.message==="User not authenticated"?"Please sign in to access products":s.message||"Failed to fetch products",loading:!1}),s}},getProductById:async s=>{t({loading:!0,error:null});try{const n=await Xl.getProductById(s);return t({loading:!1}),n}catch(n){return console.error("Error in getProductById:",n),t({error:n.message||"Failed to fetch product details",loading:!1}),null}},createProduct:async s=>{t({loading:!0,error:null});try{const n=await Xl.createProduct(s);await Ae.rpc("add_activity",{p_user_id:(await Ae.auth.getUser()).data.user?.id,p_type:"product",p_title:"Product Created",p_product:s.name,p_quantity:s.stock});const a=[...e().products,n];return t({products:a,totalProducts:a.length,loading:!1}),n}catch(n){throw console.error("Error in createProduct:",n),t({error:n.message||"Failed to create product",loading:!1}),n}},updateProduct:async(s,n)=>{t({loading:!0,error:null});try{const a=e().products.find(l=>l.id===s),i=await Xl.updateProduct(s,n);if("stock"in n&&a){const l=(n.stock||0)-(a.stock||0);await Ae.rpc("add_activity",{p_user_id:(await Ae.auth.getUser()).data.user?.id,p_type:"product",p_title:`Stock ${l>0?"Increased":"Decreased"}`,p_product:a.name,p_quantity:Math.abs(l)})}const o=e().products.map(l=>l.id===s?i:l);return t({products:o,totalProducts:o.length,loading:!1}),i}catch(a){throw console.error("Error in updateProduct:",a),t({error:a.message||"Failed to update product",loading:!1}),a}},deleteProduct:async s=>{t({loading:!0,error:null});try{await Xl.deleteProduct(s);const n=e().products.filter(a=>a.id!==s);t({products:n,totalProducts:n.length,loading:!1})}catch(n){throw console.error("Error in deleteProduct:",n),t({error:n.message||"Failed to delete product",loading:!1}),n}},updateStock:async(s,n)=>{t({loading:!0,error:null});try{const a=await Xl.updateStock(s,n),i=e().products.map(o=>o.id===s?a:o);return t({products:i,totalProducts:i.length,loading:!1}),a}catch(a){throw console.error("Error in updateStock:",a),t({error:a.message||"Failed to update product stock",loading:!1}),a}}})),oi={async getInvoices(){try{const{data:t,error:e}=await Ae.from("invoices").select("*").order("created_at",{ascending:!1});if(e)throw console.error("Error fetching invoices:",e),e;return t||[]}catch(t){throw console.error("Invoice service error:",t),t}},async getInvoiceById(t){try{const{data:e,error:s}=await Ae.from("invoices").select("*").eq("id",t).single();if(s)throw console.error("Error fetching invoice:",s),s;return e}catch(e){throw console.error("Invoice service error:",e),e}},async generateInvoiceNumber(t){try{const{data:e}=await Ae.auth.getUser();if(!e?.user)throw new Error("User not authenticated");const{data:s,error:n}=await Ae.from("invoices").select("invoice_number").eq("user_id",e.user.id).order("invoice_number",{ascending:!1}).limit(1);if(n)throw console.error("Error fetching invoice numbers:",n),n;let a=1;if(s&&s.length>0){const l=s[0].invoice_number.match(/INV-(\d+)/);l&&l[1]&&(a=parseInt(l[1],10)+1)}return`INV-${a.toString().padStart(6,"0")}`}catch(e){return console.error("Error generating invoice number:",e),"INV-000001"}},async createInvoice(t){try{const e=await this.generateInvoiceNumber(""),{data:s}=await Ae.auth.getUser();if(!s?.user)throw new Error("User not authenticated");let n=t.customer||null,a="",i=null,o=null;if(t.newCustomer&&!n){const{data:x,error:j}=await Ae.from("customers").insert([{name:t.newCustomer.name,email:t.newCustomer.email,phone:t.newCustomer.phone,address:t.newCustomer.address,type:"Individual",status:"Active",total_spent:0,user_id:s.user.id}]).select().single();if(j)throw console.error("Error creating customer:",j),new Error("Failed to create customer");n=x.id,a=x.name,i=x.email,o=x.address}else if(n){const{data:x}=await Ae.from("customers").select("name, email, address").eq("id",n).single();x&&(a=x.name,i=x.email,o=x.address)}const l=t.items.map(x=>({product_id:x.product||null,description:x.description,quantity:x.quantity,unit_price:x.unitPrice,total:x.quantity*x.unitPrice})),c=l.reduce((x,j)=>x+j.total,0),d=parseFloat(t.taxRate.toString())/100,u=c*d,h=c+u,f={invoice_number:e,customer_id:n,customer_name:a,customer_email:i,customer_address:o,date:t.invoiceDate,due_date:t.dueDate,items:l,subtotal:c,tax_rate:d,tax:u,total:h,notes:t.notes||null,status:"Draft",user_id:s.user.id},{data:m,error:g}=await Ae.from("invoices").insert([f]).select().single();if(g)throw console.error("Error creating invoice:",g),g;return m}catch(e){throw console.error("Invoice service error:",e),e}},async updateInvoice(t,e){try{const s={...e,updated_at:new Date().toISOString()};e.customer_email!==void 0&&(s.customer_email=e.customer_email),e.customer_address!==void 0&&(s.customer_address=e.customer_address);const{data:n,error:a}=await Ae.from("invoices").update(s).eq("id",t).select().single();if(a)throw console.error("Error updating invoice:",a),a;return n}catch(s){throw console.error("Invoice service error:",s),s}},async updateInvoiceStatus(t,e){try{const s={status:e};e==="Paid"&&(s.payment_date=new Date().toISOString());const{data:n,error:a}=await Ae.from("invoices").update(s).eq("id",t).select().single();if(a)throw console.error("Error updating invoice status:",a),a;return n}catch(s){throw console.error("Invoice service error:",s),s}},async deleteInvoice(t){try{const{error:e}=await Ae.from("invoices").delete().eq("id",t);if(e)throw console.error("Error deleting invoice:",e),e}catch(e){throw console.error("Invoice service error:",e),e}},async generatePublicLink(t){try{return`${window.location.origin}/public/invoice/${t}`}catch(e){throw console.error("Invoice service error:",e),e}},async generatePaymentLink(t){try{return`${window.location.origin}/pay/invoice/${t}`}catch(e){throw console.error("Invoice service error:",e),e}},async duplicateInvoice(t){try{const{data:e,error:s}=await Ae.from("invoices").select("*").eq("id",t).single();if(s)throw console.error("Error fetching invoice to duplicate:",s),s;if(!e)throw new Error("Invoice not found");const n=await this.generateInvoiceNumber(e.customer_id||"new"),a={...e,id:void 0,invoice_number:n,date:new Date().toISOString(),due_date:new Date(Date.now()+30*24*60*60*1e3).toISOString(),status:"Draft",payment_date:null,created_at:void 0,updated_at:void 0},{data:i,error:o}=await Ae.from("invoices").insert([a]).select().single();if(o)throw console.error("Error duplicating invoice:",o),o;return i}catch(e){throw console.error("Invoice service error:",e),e}}},ho=Jr((t,e)=>({invoices:[],loading:!1,error:null,clearError:()=>t({error:null}),fetchInvoices:async()=>{t({loading:!0,error:null});try{const s=await oi.getInvoices();t({invoices:s,loading:!1})}catch(s){console.error("Error in fetchInvoices:",s),t({error:s.message||"Failed to fetch invoices",loading:!1})}},getInvoiceById:async s=>{t({loading:!0,error:null});try{const n=await oi.getInvoiceById(s);return t({loading:!1}),n}catch(n){return console.error("Error in getInvoiceById:",n),t({error:n.message||"Failed to fetch invoice details",loading:!1}),null}},createInvoice:async s=>{t({loading:!0,error:null});try{const n=await oi.createInvoice(s);try{const{data:i}=await Ae.auth.getUser();i?.user&&await Ae.rpc("add_activity",{p_user_id:i.user.id,p_type:"invoice",p_title:"Invoice Created",p_customer:n.customer_name,p_amount:n.total})}catch(i){console.error("Error logging activity:",i)}const a=[...e().invoices,n];return t({invoices:a,loading:!1}),n}catch(n){throw console.error("Error in createInvoice:",n),t({error:n.message||"Failed to create invoice",loading:!1}),n}},updateInvoice:async(s,n)=>{t({loading:!0,error:null});try{const a=await oi.updateInvoice(s,n),i=e().invoices.map(o=>o.id===s?a:o);return t({invoices:i,loading:!1}),a}catch(a){throw console.error("Error in updateInvoice:",a),t({error:a.message||"Failed to update invoice",loading:!1}),a}},updateInvoiceStatus:async(s,n)=>{t({loading:!0,error:null});try{const a=await oi.updateInvoiceStatus(s,n),i=e().invoices.map(o=>o.id===s?a:o);return t({invoices:i,loading:!1}),a}catch(a){throw console.error("Error in updateInvoiceStatus:",a),t({error:a.message||"Failed to update invoice status",loading:!1}),a}},deleteInvoice:async s=>{t({loading:!0,error:null});try{await oi.deleteInvoice(s);const n=e().invoices.filter(a=>a.id!==s);t({invoices:n,loading:!1})}catch(n){throw console.error("Error in deleteInvoice:",n),t({error:n.message||"Failed to delete invoice",loading:!1}),n}},duplicateInvoice:async s=>{t({loading:!0,error:null});try{const n=await oi.duplicateInvoice(s),a=[...e().invoices,n];return t({invoices:a,loading:!1}),n}catch(n){throw console.error("Error in duplicateInvoice:",n),t({error:n.message||"Failed to duplicate invoice",loading:!1}),n}},generatePublicLink:async s=>{try{return await oi.generatePublicLink(s)}catch(n){throw console.error("Error generating public link:",n),n}},generatePaymentLink:async s=>{try{return await oi.generatePaymentLink(s)}catch(n){throw console.error("Error generating payment link:",n),n}}})),Yy=UA((t,e)=>({calls:[],agents:[],totalCallsDuration:0,loading:!1,error:null,fetchCalls:async()=>{t({loading:!0,error:null});try{const s="key_b8e3bfa4516f4064f59d0eb60b8f";let n=[],a="1000";do{const u=await fetch("https://api.retellai.com/v2/list-calls",{method:"POST",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"},body:JSON.stringify({limit:1e3,call_type:["phone_call"],sort_order:"descending"})});if(!u.ok){const f=await u.text();throw new Error(`Failed to fetch calls from Retell API: ${u.status} - ${u.statusText}. Response body: ${f}`)}const h=await u.json();h&&Array.isArray(h)&&(n=n.concat(h),console.log(n)),a=h[0].pagination_key||null}while(a);const o=n.map(u=>{const h=u.start_timestamp?new Date(u.start_timestamp).toISOString():null,f=u.end_timestamp?new Date(u.end_timestamp).toISOString():null;return{id:u.call_id,call_agent_id:u.agent_id,start_time:h,end_time:f,recording_url:u.recording_url,pagination_key:u.pagination_key,disconnection_reason:u.end_reason,from_number:u.from_number||"N/A",to_number:u.to_number||"N/A"}}),l=[...new Set(o.map(u=>u.call_agent_id).filter(u=>u!==null&&u!=="N/A"))],c=o.reduce((u,h)=>{if(h.start_time&&h.end_time){const f=new Date(h.start_time).getTime(),x=(new Date(h.end_time).getTime()-f)/1e3/60;return u+x}return u},0),d=parseFloat(c.toFixed(2));t({calls:o,agents:l,totalCallsDuration:d,loading:!1})}catch(s){console.error("Error fetching calls:",s),t({error:s.message,loading:!1})}}})),DV=t=>{try{return SP(new Date(t),{addSuffix:!0})}catch(e){return console.error("Error formatting date:",e),yi(new Date(t),"MMM d, yyyy h:mm a")}},LV=()=>{const{user:t}=Ar(),[e,s]=U.useState([]),[n,a]=U.useState(new Date),[i,o]=U.useState(!1),{customers:l,fetchCustomers:c}=On(),{products:d,fetchProducts:u}=xn(),{invoices:h,fetchInvoices:f,loading:m}=ho(),{events:g,fetchEvents:x}=oh(),{totalProducts:j}=xn(),{suppliers:y,fetchSuppliers:b}=yp(),{calls:k}=Yy(),[A,E]=U.useState(!0),[I,_]=U.useState(0),[v,P]=U.useState([]),[L,S]=U.useState([]),[C,O]=U.useState(!1),[z,Z]=U.useState({showSalesChart:!0,showPurchasesChart:!0,showInventoryStatus:!0,showTodayEvents:!0});U.useEffect(()=>{const R=setInterval(()=>{a(new Date)},1e3);return()=>clearInterval(R)},[]),U.useEffect(()=>{(async()=>{E(!0);try{const{data:X,error:$}=await Ae.from("expenses").select("*").order("created_at",{ascending:!1}).limit(5);if($)throw $;S(X||[]);const{data:J,error:se}=await Ae.rpc("get_pipeline_summary",{p_user_id:t?.id});if(se)throw se;s(J||[]);const{data:M,error:T}=await Ae.from("recent_activities").select("*").order("created_at",{ascending:!1}).limit(50);if(T)throw T;P(M||[]);const B=h.filter(Y=>Y.status==="Paid").reduce((Y,re)=>Y+(re.total||0),0);_(B),await Promise.all([c(),u(),f(),x(),b()]);const{data:K}=await Ae.from("user_settings").select("dashboard_settings").eq("user_id",t?.id).single();K?.dashboard_settings&&Z(K.dashboard_settings)}catch(X){console.error("Error loading dashboard data:",X)}finally{E(!1)}})()},[c,u,f,x,t?.id]);const q=async R=>{try{const{data:X}=await Ae.from("user_settings").select("id").eq("user_id",t?.id).single();X?await Ae.from("user_settings").update({dashboard_settings:R}).eq("user_id",t?.id):await Ae.from("user_settings").insert([{user_id:t?.id,dashboard_settings:R}]),Z(R),fe.success("Dashboard settings saved")}catch(X){console.error("Error saving dashboard settings:",X),fe.error("Failed to save dashboard settings")}};return A?r.jsxs("div",{className:"flex items-center justify-center min-h-[60vh]",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"}),r.jsx("span",{className:"ml-3 text-gray-400",children:"Loading dashboard data..."})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h1",{className:"text-2xl font-bold text-white",children:"Dashboard"}),r.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[r.jsx("div",{className:"text-2xl font-bold text-white",id:"time",children:n.toLocaleTimeString()}),r.jsx("div",{className:"text-gray-400",id:"date",children:n.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),r.jsx("button",{onClick:()=>O(!0),className:"btn btn-secondary p-2",title:"Customize Dashboard",children:r.jsx(Vf,{size:20})})]}),r.jsxs("div",{className:"md:hidden relative",children:[r.jsxs("button",{onClick:()=>o(!i),className:"btn btn-primary flex items-center space-x-2",children:[r.jsx(as,{size:16}),r.jsx("span",{children:"Select Option"})]}),i&&r.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-dark-800 rounded-md shadow-lg py-1 z-50 border border-dark-700",children:[r.jsx(de,{to:"/invoices/create",className:"block px-4 py-2 text-sm text-gray-300 hover:bg-dark-700",onClick:()=>o(!1),children:"New Invoice"}),r.jsx(de,{to:"/purchases/create",className:"block px-4 py-2 text-sm text-gray-300 hover:bg-dark-700",onClick:()=>o(!1),children:"New Purchase"}),r.jsx(de,{to:"/expenses",className:"block px-4 py-2 text-sm text-gray-300 hover:bg-dark-700",onClick:()=>o(!1),children:"New Expense"}),r.jsx(de,{to:"/quotes/create",className:"block px-4 py-2 text-sm text-gray-300 hover:bg-dark-700",onClick:()=>o(!1),children:"New Quote"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx(de,{to:"/revenue",className:"card bg-dark-800 border border-dark-700 hover:bg-dark-700/50 transition-colors",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Total Revenue"}),r.jsxs("h3",{className:"text-2xl font-bold text-white mt-1",children:["$",I.toLocaleString()]})]}),r.jsx("div",{className:"p-3 rounded-lg bg-green-500/20 text-green-500",children:r.jsx(us,{size:24})})]})}),r.jsx(de,{to:"/customers",className:"card bg-dark-800 border border-dark-700 hover:bg-dark-700/50 transition-colors",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Total Customers"}),r.jsx("h3",{className:"text-2xl font-bold text-white mt-1",children:l.length})]}),r.jsx("div",{className:"p-3 rounded-lg bg-blue-500/20 text-blue-500",children:r.jsx(dr,{size:24})})]})}),r.jsx(de,{to:"/products",className:"card bg-dark-800 border border-dark-700 hover:bg-dark-700/50 transition-colors",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Total Products"}),r.jsx("h3",{className:"text-2xl font-bold text-white mt-1",children:j})]}),r.jsx("div",{className:"p-3 rounded-lg bg-purple-500/20 text-purple-500",children:r.jsx(cr,{size:24})})]})}),r.jsx(de,{to:"/invoices",className:"card bg-dark-800 border border-dark-700 hover:bg-dark-700/50 transition-colors",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Pending Orders"}),r.jsx("h3",{className:"text-2xl font-bold text-white mt-1",children:h.filter(R=>!["Paid","Cancelled"].includes(R.status)).length})]}),r.jsx("div",{className:"p-3 rounded-lg bg-amber-500/20 text-amber-500",children:r.jsx(un,{size:24})})]})}),r.jsx(de,{to:"/suppliers",className:"card bg-dark-800 border border-dark-700 hover:bg-dark-700/50 transition-colors",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Suppliers"}),r.jsx("h3",{className:"text-2xl font-bold text-white mt-1",children:y.length})]}),r.jsx("div",{className:"p-3 rounded-lg bg-orange-500/20 text-orange-500",children:r.jsx(vN,{size:24})})]})}),r.jsx(de,{to:"/calls",className:"card bg-dark-800 border border-dark-700 hover:bg-dark-700/50 transition-colors",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Total Calls"}),r.jsx("h3",{className:"text-2xl font-bold text-white mt-1",children:k.length})]}),r.jsx("div",{className:"p-3 rounded-lg bg-orange-500/20 text-orange-500",children:r.jsx(oo,{size:24})})]})})]}),r.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("h2",{className:"text-lg font-semibold text-white flex items-center",children:[r.jsx("span",{children:"Pipeline Overview"}),r.jsxs("div",{className:"ml-2 px-2 py-1 text-xs bg-primary-500/20 text-primary-400 rounded-full",children:[e?.length||0," Stages"]})]}),r.jsxs(de,{to:"/pipeline",className:"btn btn-secondary flex items-center space-x-2",children:[r.jsx(wt,{size:16}),r.jsx("span",{children:"View Details"})]})]}),r.jsx("div",{className:"space-y-4",children:[{stage:"lead",label:"Leads",color:"bg-gray-500"},{stage:"opportunity",label:"Opportunities",color:"bg-blue-500"},{stage:"quote",label:"Quotes",color:"bg-yellow-500"},{stage:"invoice_sent",label:"Invoices (Sent)",color:"bg-orange-500"},{stage:"invoice_pending",label:"Invoices (Pending)",color:"bg-purple-500"},{stage:"closed_won",label:"Closed (Won)",color:"bg-green-500"}].map(R=>{const X=e?.find(M=>M.pipeline_stage===R.stage)||{total_value:0,deal_count:0,completion_percentage:0},$=X?.total_value||0,J=X?.deal_count||0,se=X?.completion_percentage||0;return r.jsxs(de,{to:`/pipeline/${R.stage}`,className:"group relative block p-2 rounded-lg transition-all duration-300 hover:bg-dark-700/50 hover:shadow-lg hover:scale-[1.02] transform",children:[r.jsxs("div",{className:"flex justify-between mb-1",children:[r.jsx("span",{className:"text-sm text-gray-300",children:R.label}),r.jsxs("span",{className:"text-sm text-gray-400",children:[J," ",J===1?"deal":"deals","  $",$.toLocaleString()]})]}),r.jsx("div",{className:"h-2 bg-dark-700 rounded-full overflow-hidden",children:r.jsx("div",{className:`h-full ${R.color} transition-all duration-500 group-hover:opacity-90 group-hover:shadow-md`,style:{width:`${se*100}%`}})}),r.jsx("div",{className:"absolute inset-0 rounded-lg border-2 border-transparent transition-colors duration-300 group-hover:border-primary-500/30"})]},R.stage)})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"card bg-dark-800 border border-dark-700 transform transition-all duration-300 hover:shadow-lg hover:border-primary-500/30",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-white",children:"Low Stock Items"}),r.jsxs(de,{to:"/inventory",className:"btn btn-secondary flex items-center space-x-2",children:[r.jsx(cr,{size:16}),r.jsx("span",{children:"View All"})]})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-dark-700",children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Product"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Stock"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Status"})]})}),r.jsxs("tbody",{className:"divide-y divide-dark-700",children:[d.filter(R=>R.stock<=10).slice(0,5).map(R=>r.jsxs("tr",{className:"hover:bg-dark-700/50",children:[r.jsx("td",{className:"px-4 py-3 whitespace-nowrap group",children:r.jsxs(de,{to:`/products/${R.id}`,className:"text-sm font-medium text-white hover:text-primary-400",children:[R.name,r.jsx("span",{className:"ml-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 text-primary-400",children:"View Details "})]})}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-right",children:r.jsx("span",{className:"text-sm text-gray-300",children:R.stock})}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-right",children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${R.stock===0?"bg-red-900/30 text-red-400":R.stock<=5?"bg-yellow-900/30 text-yellow-400":"bg-orange-900/30 text-orange-400"}`,children:R.stock===0?"Out of Stock":R.stock<=5?"Critical":"Low Stock"})})]},R.id)),d.filter(R=>R.stock<=10).length===0&&r.jsx("tr",{children:r.jsx("td",{colSpan:3,className:"px-4 py-8 text-center text-gray-400",children:"No low stock items found"})})]})]})})]}),r.jsxs("div",{className:"card bg-dark-800 border border-dark-700 transform transition-all duration-300 hover:shadow-lg hover:border-primary-500/30",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-white",children:"Recent Expenses"}),r.jsxs(de,{to:"/expenses",className:"btn btn-secondary flex items-center space-x-2",children:[r.jsx(Ea,{size:16}),r.jsx("span",{children:"View All"})]})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-dark-700",children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Date"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Description"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Amount"})]})}),r.jsxs("tbody",{className:"divide-y divide-dark-700",children:[L.slice(0,5).map(R=>r.jsxs("tr",{className:"hover:bg-dark-700/50",children:[r.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-300 group",children:new Date(R.date).toLocaleDateString()}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap group",children:r.jsxs(de,{to:`/expenses/${R.id}`,className:"text-sm font-medium text-white hover:text-primary-400",children:[R.description,r.jsx("span",{className:"ml-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 text-primary-400",children:"View Details "})]})}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-right",children:r.jsxs("span",{className:"text-sm text-gray-300",children:["$",R.amount.toFixed(2)]})})]},R.id)),L.length===0&&r.jsx("tr",{children:r.jsx("td",{colSpan:3,className:"px-4 py-8 text-center text-gray-400",children:"No recent expenses found"})})]})]})})]})]}),z.showTodayEvents&&r.jsxs("div",{className:"card bg-dark-800 border border-dark-700 p-6",children:[r.jsx("div",{className:"flex justify-between items-center mb-4",children:r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Today's Events"})}),g.filter(R=>{const X=new Date,$=new Date(R.start);return $.getDate()===X.getDate()&&$.getMonth()===X.getMonth()&&$.getFullYear()===X.getFullYear()}).length>0?r.jsx("div",{className:"space-y-4",children:g.filter(R=>{const X=new Date,$=new Date(R.start);return $.getDate()===X.getDate()&&$.getMonth()===X.getMonth()&&$.getFullYear()===X.getFullYear()}).map((R,X)=>r.jsxs("div",{className:"flex items-center space-x-4 p-3 rounded-lg bg-dark-700/50 hover:bg-dark-700 transition-colors",children:[r.jsx("div",{className:`p-2 rounded-lg ${R.type==="invoice"?"bg-primary-500/20 text-primary-400":"bg-gray-500/20 text-gray-400"}`,children:R.type==="invoice"?r.jsx(wt,{size:20}):r.jsx(Rs,{size:20})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-white font-medium",children:R.title}),r.jsx("p",{className:"text-sm text-gray-400",children:new Date(R.start).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),R.type==="invoice"&&R.invoice_id&&r.jsx(de,{to:`/invoices/${R.invoice_id}`,className:"btn btn-secondary",children:"View Invoice"})]},X))}):r.jsxs("div",{className:"text-center py-6",children:[r.jsx(Rs,{size:48,className:"text-gray-600 mb-4 mx-auto"}),r.jsx("p",{className:"text-gray-400",children:"No events scheduled for today"})]})]}),r.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[r.jsx("div",{className:"flex justify-between items-center mb-4",children:r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Recent Activity"})}),v.length>0?r.jsx("div",{className:"space-y-4 max-h-80 overflow-y-auto pr-2",children:v.map(R=>r.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-md bg-dark-700/50 hover:bg-dark-700 transition-colors",children:[r.jsxs("div",{className:`p-2 rounded-md ${R.type==="invoice"?"bg-blue-500/20 text-blue-500":R.type==="purchase"?"bg-purple-500/20 text-purple-500":R.type==="customer"?"bg-green-500/20 text-green-500":"bg-amber-500/20 text-amber-500"}`,children:[R.type==="invoice"&&r.jsx(wt,{size:18}),R.type==="purchase"&&r.jsx(un,{size:18}),R.type==="customer"&&r.jsx(dr,{size:18}),R.type==="product"&&r.jsx(cr,{size:18})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-white font-medium",children:R.title}),r.jsxs("div",{className:"text-sm text-gray-400 mt-1",children:[R.customer&&r.jsxs("div",{children:["Customer: ",R.customer]}),R.supplier&&r.jsxs("div",{children:["Supplier: ",R.supplier]}),R.product&&r.jsxs("div",{children:["Product: ",R.product]}),R.amount&&r.jsxs("div",{children:["Amount: $",R.amount.toLocaleString()]}),R.quantity&&r.jsxs("div",{children:["Quantity: ",R.quantity.toLocaleString()]})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:DV(R.created_at)})]})]},R.id))}):r.jsx("div",{className:"text-center py-6",children:r.jsxs("div",{className:"flex flex-col items-center justify-center",children:[r.jsx(wt,{size:48,className:"text-gray-600 mb-4"}),r.jsx("p",{className:"text-gray-400 text-lg mb-2",children:"No recent activity"}),r.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Your recent activities will appear here"})]})})]}),C&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 w-full max-w-md",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Dashboard Settings"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("label",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-300",children:"Show Sales Chart"}),r.jsx("input",{type:"checkbox",checked:z.showSalesChart,onChange:R=>Z({...z,showSalesChart:R.target.checked}),className:"form-checkbox h-5 w-5 text-primary-600 rounded border-gray-600"})]}),r.jsxs("label",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-300",children:"Show Purchases Chart"}),r.jsx("input",{type:"checkbox",checked:z.showPurchasesChart,onChange:R=>Z({...z,showPurchasesChart:R.target.checked}),className:"form-checkbox h-5 w-5 text-primary-600 rounded border-gray-600"})]}),r.jsxs("label",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-300",children:"Show Inventory Status"}),r.jsx("input",{type:"checkbox",checked:z.showInventoryStatus,onChange:R=>Z({...z,showInventoryStatus:R.target.checked}),className:"form-checkbox h-5 w-5 text-primary-600 rounded border-gray-600"})]}),r.jsxs("label",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-gray-300",children:"Show Today's Events"}),r.jsx("input",{type:"checkbox",checked:z.showTodayEvents,onChange:R=>Z({...z,showTodayEvents:R.target.checked}),className:"form-checkbox h-5 w-5 text-primary-600 rounded border-gray-600"})]})]}),r.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[r.jsx("button",{onClick:()=>O(!1),className:"btn btn-secondary",children:"Cancel"}),r.jsx("button",{onClick:()=>{q(z),O(!1)},className:"btn btn-primary",children:"Save Changes"})]})]})})]})},IV=({onClose:t})=>{const{register:e,handleSubmit:s,formState:{errors:n}}=Ds(),[a,i]=U.useState(""),{addEvent:o}=oh(),{createCustomer:l}=On(),[c,d]=U.useState(!1),u=async h=>{try{d(!0);const f=await l({name:`${h.first_name} ${h.last_name}`,email:h.email,phone:h.phone,company:h.company,type:"Individual",status:"Active",notes:h.notes}),m=new Date;m.setDate(m.getDate()+3),await o({title:`Follow up with ${f.name}`,description:`Follow up with new lead from ${f.company||"N/A"}

Notes: ${f.notes||"None"}`,start:m,end:new Date(m.getTime()+30*6e4),type:"task"}),fe.success("Lead created successfully"),t()}catch(f){console.error("Error creating calendar event:",f),fe.error("Failed to create lead")}finally{d(!1)}};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 w-full max-w-md",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Add New Lead"}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white",children:r.jsx(or,{size:20})})]}),r.jsxs("form",{onSubmit:s(u),className:"space-y-4",children:[r.jsx("div",{children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:["First Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",className:"input w-full",...e("first_name",{required:"First name is required"})}),n.first_name&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:n.first_name.message})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:["Last Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",className:"input w-full",...e("last_name",{required:"Last name is required"})}),n.last_name&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:n.last_name.message})]})]})}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:["Email ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"email",className:"input w-full",...e("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})}),n.email&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:n.email.message})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Company"}),r.jsx("input",{type:"text",className:"input w-full",...e("company")})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Phone Number"}),r.jsx("input",{type:"tel",className:"input w-full",value:a,onChange:h=>{const m=h.target.value.replace(/\D/g,"").slice(0,10),g=m.replace(/(\d{3})(\d{3})(\d{4})/,"($1) $2-$3");i(g),e("phone").onChange({target:{value:m,name:"phone"}})},placeholder:"(555) 555-5555"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Source"}),r.jsxs("select",{className:"input w-full",...e("source"),children:[r.jsx("option",{value:"website",children:"Website"}),r.jsx("option",{value:"referral",children:"Referral"}),r.jsx("option",{value:"social",children:"Social Media"}),r.jsx("option",{value:"other",children:"Other"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Notes"}),r.jsx("textarea",{className:"input w-full",rows:3,...e("notes")})]}),r.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[r.jsx("button",{type:"button",onClick:t,disabled:c,className:"btn btn-secondary",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:c,className:"btn btn-primary",children:c?r.jsxs("span",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white"}),r.jsx("span",{children:"Adding..."})]}):"Add Lead"})]})]})]})})},MV=({onClose:t,onSubmit:e})=>{const{register:s,handleSubmit:n,formState:{errors:a}}=Ds(),{addEvent:i}=oh(),o=async l=>{try{await i({title:l.title,description:l.description||"",start:new Date(l.dueDate),end:new Date(new Date(l.dueDate).getTime()+60*6e4),type:"task"}),e(l)}catch(c){console.error("Error creating calendar event:",c)}};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 w-full max-w-md",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Add New Task"}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white",children:r.jsx(or,{size:20})})]}),r.jsxs("form",{onSubmit:n(o),className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:["Title ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",className:"input w-full",...s("title",{required:"Title is required"})}),a.title&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:a.title.message})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:["Due Date ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"datetime-local",className:"input w-full",...s("dueDate",{required:"Due date is required"})}),a.dueDate&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:a.dueDate.message})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Priority"}),r.jsxs("select",{className:"input w-full",...s("priority"),children:[r.jsx("option",{value:"low",children:"Low"}),r.jsx("option",{value:"medium",children:"Medium"}),r.jsx("option",{value:"high",children:"High"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Assigned To"}),r.jsxs("select",{className:"input w-full",...s("assignedTo"),children:[r.jsx("option",{value:"self",children:"Myself"}),r.jsx("option",{value:"team",children:"Team"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Description"}),r.jsx("textarea",{className:"input w-full",rows:3,...s("description")})]}),r.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[r.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary",children:"Cancel"}),r.jsx("button",{type:"submit",className:"btn btn-primary",children:"Add Task"})]})]})]})})},TV=({onClose:t,onSubmit:e})=>{const{register:s,handleSubmit:n,formState:{errors:a}}=Ds(),{addEvent:i}=oh(),o=async l=>{try{await i({title:`${l.name} - Expected Close`,description:`Opportunity: ${l.name}
Value: $${l.value}
Probability: ${l.probability}%

Notes: ${l.notes||"None"}`,start:new Date(l.closeDate),end:new Date(new Date(l.closeDate).getTime()+60*6e4),type:"task"}),e(l)}catch(c){console.error("Error creating calendar event:",c)}};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 w-full max-w-md",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Add New Opportunity"}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white",children:r.jsx(or,{size:20})})]}),r.jsxs("form",{onSubmit:n(o),className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:["Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",className:"input w-full",...s("name",{required:"Name is required"})}),a.name&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:a.name.message})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:["Value ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx("span",{className:"text-gray-400",children:"$"})}),r.jsx("input",{type:"number",className:"input w-full pl-8",step:"0.01",min:"0",...s("value",{required:"Value is required",min:{value:0,message:"Value must be positive"}})})]}),a.value&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:a.value.message})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Stage"}),r.jsxs("select",{className:"input w-full",...s("stage"),children:[r.jsx("option",{value:"lead",children:"Lead"}),r.jsx("option",{value:"opportunity",children:"Opportunity"}),r.jsx("option",{value:"quote",children:"Quote"}),r.jsx("option",{value:"negotiation",children:"Negotiation"}),r.jsx("option",{value:"closing",children:"Closing"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Expected Close Date"}),r.jsx("input",{type:"date",className:"input w-full",...s("closeDate")})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Probability (%)"}),r.jsx("input",{type:"number",className:"input w-full",min:"0",max:"100",...s("probability")})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Notes"}),r.jsx("textarea",{className:"input w-full",rows:3,...s("notes")})]}),r.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[r.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary",children:"Cancel"}),r.jsx("button",{type:"submit",className:"btn btn-primary",children:"Add Opportunity"})]})]})]})})},FV=/^\d{10}$/,OV=({lead:t,onClose:e})=>{const{updateCustomer:s}=On(),[n,a]=U.useState(!1),[i,o]=U.useState(t.phone||""),[l,c]=U.useState(!1),{register:d,handleSubmit:u,formState:{errors:h},watch:f}=Ds({defaultValues:{first_name:t.name.split(" ")[0],last_name:t.name.split(" ").slice(1).join(" "),email:t.email||"",company:t.company||"",phone:t.phone||"",type:t.type||"Individual",notes:t.notes||"",pipeline_stage:t.pipeline_stage||"lead",value:"",probability:50,expected_close:yi(new Date().setDate(new Date().getDate()+30),"yyyy-MM-dd")}}),m=f("pipeline_stage");U.useEffect(()=>{c(m==="opportunity")},[m]);const g=async x=>{try{a(!0);const{data:{user:j}}=await Ae.auth.getUser();if(!j)throw new Error("User not authenticated");if(x.pipeline_stage==="opportunity"){if(!x.value||x.value<=0)throw new Error("Please enter a valid opportunity value");if(!x.expected_close)throw new Error("Please enter an expected close date")}await s(t.id,{name:`${x.first_name} ${x.last_name}`,email:x.email,phone:x.phone,company:x.company,type:x.type,notes:x.notes,pipeline_stage:x.pipeline_stage,...x.pipeline_stage==="opportunity"&&{opportunity_value:parseFloat(x.value),opportunity_probability:x.probability,opportunity_close_date:x.expected_close}}),fe.success(x.pipeline_stage==="opportunity"?"Lead converted to opportunity successfully":"Lead updated successfully"),e()}catch(j){console.error("Error updating lead:",j),fe.error(j.message||"Failed to update lead")}finally{a(!1)}};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 w-full max-w-md",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Edit Lead"}),r.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white",children:r.jsx(or,{size:20})})]}),r.jsxs("form",{onSubmit:u(g),className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:["First Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{"aria-label":"First Name",type:"text",className:"input w-full",...d("first_name",{required:"First name is required"})}),h.first_name&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:h.first_name.message})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:["Last Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{"aria-label":"Last Name",type:"text",className:"input w-full",...d("last_name",{required:"Last name is required"})}),h.last_name&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:h.last_name.message})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Email"}),r.jsx("input",{type:"email",className:"input w-full",...d("email",{pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})}),h.email&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:h.email.message})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Company"}),r.jsx("input",{type:"text",className:"input w-full",...d("company")})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Phone Number"}),r.jsx("input",{"aria-label":"Phone Number",type:"tel",className:"input w-full",value:i,onChange:x=>{const y=x.target.value.replace(/\D/g,"").slice(0,10),b=y.replace(/(\d{3})(\d{3})(\d{4})/,"($1) $2-$3");o(b),d("phone").onChange({target:{value:y,name:"phone"}})},...d("phone",{pattern:{value:FV,message:"Please enter a valid 10-digit phone number"}}),placeholder:"(555) 555-5555"}),h.phone&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:h.phone.message})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Pipeline Stage"}),r.jsxs("select",{"aria-label":"Pipeline Stage",className:"input w-full",...d("pipeline_stage"),children:[r.jsx("option",{value:"lead",children:"Lead"}),r.jsx("option",{value:"opportunity",children:"Convert to Opportunity"}),r.jsx("option",{value:"quote",children:"Quote"}),r.jsx("option",{value:"invoice_pending",children:"Invoice Pending"}),r.jsx("option",{value:"invoice_sent",children:"Invoice Sent"}),r.jsx("option",{value:"closed_won",children:"Closed Won"}),r.jsx("option",{value:"closed_lost",children:"Closed Lost"})]})]}),l&&r.jsxs("div",{className:"space-y-4 mt-4 p-4 bg-dark-700/50 rounded-lg border border-dark-600",children:[r.jsx("h4",{className:"text-sm font-medium text-white",children:"Opportunity Details"}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:["Value ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(us,{size:16,className:"text-gray-400"})}),r.jsx("input",{type:"number",step:"0.01",min:"0",className:"input pl-8",placeholder:"0.00",...d("value",{required:l?"Value is required":!1,min:{value:0,message:"Value must be positive"}})})]}),h.value&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:h.value.message})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Probability (%)"}),r.jsx("input",{type:"number",min:"0",max:"100",className:"input",...d("probability",{min:{value:0,message:"Minimum probability is 0%"},max:{value:100,message:"Maximum probability is 100%"}})}),h.probability&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:h.probability.message})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:["Expected Close Date ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(Rs,{size:16,className:"text-gray-400"})}),r.jsx("input",{type:"date",className:"input pl-8",...d("expected_close",{required:l?"Expected close date is required":!1})})]}),h.expected_close&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:h.expected_close.message})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Type"}),r.jsxs("select",{className:"input w-full",...d("type"),children:[r.jsx("option",{value:"Individual",children:"Individual"}),r.jsx("option",{value:"Business",children:"Business"}),r.jsx("option",{value:"Government",children:"Government"}),r.jsx("option",{value:"Non-Profit",children:"Non-Profit"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Notes"}),r.jsx("textarea",{className:"input w-full",rows:3,...d("notes")})]}),r.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[r.jsx("button",{type:"button",onClick:e,disabled:n,className:"btn btn-secondary",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:n,className:"btn btn-primary flex items-center space-x-2 relative",children:n?r.jsxs("span",{className:"flex items-center justify-center space-x-2",children:[r.jsx("span",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2",children:r.jsx("span",{className:"block w-5 h-5",children:r.jsx("span",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 block w-3 h-3 rounded-full border-2 border-white border-t-transparent animate-spin"})})}),r.jsx("span",{children:"Saving..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(oa,{size:16}),r.jsx("span",{children:"Save Changes"})]})})]})]})]})})},RV=()=>{const{customers:t,fetchCustomers:e}=On(),[s,n]=U.useState("leads"),[a,i]=U.useState(!1),[o,l]=U.useState(!1),[c,d]=U.useState(!1),[u,h]=U.useState(null),[f,m]=U.useState(""),g=t.filter(b=>b.pipeline_stage==="lead"&&(b.name.toLowerCase().includes(f.toLowerCase())||b.email?.toLowerCase().includes(f.toLowerCase())||b.company?.toLowerCase().includes(f.toLowerCase()))),x=t.filter(b=>b.pipeline_stage==="opportunity"&&(b.name.toLowerCase().includes(f.toLowerCase())||b.email?.toLowerCase().includes(f.toLowerCase())||b.company?.toLowerCase().includes(f.toLowerCase())));U.useEffect(()=>{e()},[e]);const j={leads:{total:g.length,new:12,change:"+8%",trend:"up"},tasks:{total:45,completed:28,change:"-5%",trend:"down"},opportunities:{total:x.length,value:`$${x.reduce((b,k)=>b+(k.opportunity_value||0),0).toLocaleString()}`,change:"+12%",trend:"up"}},y=()=>{switch(s){case"leads":return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"p-3 rounded-lg bg-primary-500/20 text-primary-500",children:r.jsx(dr,{size:24})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Active Leads"}),r.jsxs("div",{className:"flex items-center mt-1",children:[r.jsx("span",{className:"text-2xl font-bold text-white",children:j.leads.total}),r.jsxs("div",{className:"flex items-center ml-2 text-green-500",children:[r.jsx(Bo,{size:16}),r.jsx("span",{className:"ml-1",children:j.leads.change})]})]})]})]}),r.jsxs("button",{onClick:()=>i(!0),className:"btn btn-primary flex items-center space-x-2",children:[r.jsx(as,{size:16}),r.jsx("span",{children:"Add Lead"})]})]}),r.jsxs("div",{className:"bg-dark-800 rounded-lg border border-dark-700 p-6",children:[g.length===0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(dr,{size:48,className:"text-gray-600 mb-4 mx-auto"}),r.jsx("p",{className:"text-gray-400 text-lg mb-2",children:"No leads found"}),r.jsx("p",{className:"text-gray-500 text-sm mb-6",children:f?"No leads match your search":"Get started by adding your first lead"}),r.jsxs("button",{onClick:()=>i(!0),className:"btn btn-primary flex items-center space-x-2 mx-auto",children:[r.jsx(as,{size:16}),r.jsx("span",{children:"Add Lead"})]})]}),g.length>0&&r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-dark-700",children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Name"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Company"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Email"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Phone"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Created"})]})}),r.jsx("tbody",{className:"divide-y divide-dark-700",children:g.map(b=>r.jsxs("tr",{className:"hover:bg-dark-700/50 cursor-pointer",onClick:()=>h(b),children:[r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm font-medium text-white",children:b.name})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-300",children:b.company||"-"})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-300",children:b.email||"-"})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-300",children:b.phone||"-"})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:new Date(b.created_at).toLocaleDateString()})]},b.id))})]})})]})]});case"tasks":return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"p-3 rounded-lg bg-yellow-500/20 text-yellow-500",children:r.jsx(Cx,{size:24})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Tasks"}),r.jsxs("div",{className:"flex items-center mt-1",children:[r.jsxs("span",{className:"text-2xl font-bold text-white",children:[j.tasks.completed,"/",j.tasks.total]}),r.jsxs("div",{className:"flex items-center ml-2 text-red-500",children:[r.jsx(df,{size:16}),r.jsx("span",{className:"ml-1",children:j.tasks.change})]})]})]})]}),r.jsxs("button",{onClick:()=>l(!0),className:"btn btn-primary flex items-center space-x-2",children:[r.jsx(as,{size:16}),r.jsx("span",{children:"Add Task"})]})]}),r.jsxs("div",{className:"bg-dark-800 rounded-lg border border-dark-700 p-6",children:[r.jsx("div",{className:"overflow-x-auto mb-6",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-dark-700",children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Title"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Due Date"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Priority"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Assigned To"})]})}),r.jsx("tbody",{className:"divide-y divide-dark-700"})]})}),r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Cx,{size:48,className:"text-gray-600 mb-4 mx-auto"}),r.jsx("p",{className:"text-gray-400 text-lg mb-2",children:"No tasks found"}),r.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Get started by adding your first task"}),r.jsxs("button",{onClick:()=>l(!0),className:"btn btn-primary flex items-center space-x-2 mx-auto",children:[r.jsx(as,{size:16}),r.jsx("span",{children:"Add Task"})]})]})]})]});case"opportunities":return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"p-3 rounded-lg bg-green-500/20 text-green-500",children:r.jsx(eu,{size:24})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Opportunities"}),r.jsxs("div",{className:"flex items-center mt-1",children:[r.jsx("span",{className:"text-2xl font-bold text-white",children:j.opportunities.value}),r.jsxs("div",{className:"flex items-center ml-2 text-green-500",children:[r.jsx(Bo,{size:16}),r.jsx("span",{className:"ml-1",children:j.opportunities.change})]})]})]})]}),r.jsxs("button",{onClick:()=>d(!0),className:"btn btn-primary flex items-center space-x-2",children:[r.jsx(as,{size:16}),r.jsx("span",{children:"Add Opportunity"})]})]}),r.jsx("div",{className:"bg-dark-800 rounded-lg border border-dark-700 p-6",children:r.jsx("div",{className:"overflow-x-auto mb-6",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-dark-700",children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Name"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Stage"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Value"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Probability"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Expected Close"})]})}),r.jsx("tbody",{className:"divide-y divide-dark-700",children:x.length===0?r.jsx("tr",{children:r.jsxs("td",{colSpan:5,className:"text-center py-12",children:[r.jsx(eu,{size:48,className:"text-gray-600 mb-4 mx-auto"}),r.jsx("p",{className:"text-gray-400 text-lg mb-2",children:"No opportunities found"}),r.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Convert leads to opportunities or add a new opportunity"}),r.jsxs("button",{onClick:()=>d(!0),className:"btn btn-primary flex items-center space-x-2 mx-auto",children:[r.jsx(as,{size:16}),r.jsx("span",{children:"Add Opportunity"})]})]})}):x.map(b=>r.jsxs("tr",{className:"hover:bg-dark-700/50",children:[r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm font-medium text-white",children:b.name})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-300",children:b.pipeline_stage})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-right",children:r.jsxs("div",{className:"text-sm text-gray-300",children:["$",b.opportunity_value?.toLocaleString()||"0"]})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-right",children:r.jsxs("div",{className:"text-sm text-gray-300",children:[b.opportunity_probability||0,"%"]})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:b.opportunity_close_date?new Date(b.opportunity_close_date).toLocaleDateString():"-"})]},b.id))})]})})})]})}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h1",{className:"text-2xl font-bold text-white",children:"CRM Dashboard"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(er,{size:18,className:"text-gray-400"})}),r.jsx("input",{type:"text",placeholder:"Search...",className:"input pl-10 w-64"})]}),r.jsxs("button",{className:"btn btn-secondary flex items-center space-x-2",children:[r.jsx(ao,{size:16}),r.jsx("span",{children:"Filter"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsx("div",{className:"card bg-dark-800 border border-dark-700",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Total Leads"}),r.jsx("h3",{className:"text-2xl font-bold text-white mt-1",children:j.leads.total}),r.jsxs("div",{className:"flex items-center mt-2",children:[r.jsx(Bo,{size:16,className:"text-green-500"}),r.jsx("span",{className:"text-sm ml-1 text-green-500",children:j.leads.change}),r.jsx("span",{className:"text-gray-500 text-sm ml-1",children:"vs last month"})]})]}),r.jsx("div",{className:"p-3 rounded-lg bg-primary-500/20 text-primary-500",children:r.jsx(dr,{size:24})})]})}),r.jsx("div",{className:"card bg-dark-800 border border-dark-700",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Tasks"}),r.jsxs("h3",{className:"text-2xl font-bold text-white mt-1",children:[j.tasks.completed,"/",j.tasks.total]}),r.jsxs("div",{className:"flex items-center mt-2",children:[r.jsx(df,{size:16,className:"text-red-500"}),r.jsx("span",{className:"text-sm ml-1 text-red-500",children:j.tasks.change}),r.jsx("span",{className:"text-gray-500 text-sm ml-1",children:"completion rate"})]})]}),r.jsx("div",{className:"p-3 rounded-lg bg-yellow-500/20 text-yellow-500",children:r.jsx(Cx,{size:24})})]})}),r.jsx("div",{className:"card bg-dark-800 border border-dark-700",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Pipeline Value"}),r.jsx("h3",{className:"text-2xl font-bold text-white mt-1",children:j.opportunities.value}),r.jsxs("div",{className:"flex items-center mt-2",children:[r.jsx(Bo,{size:16,className:"text-green-500"}),r.jsx("span",{className:"text-sm ml-1 text-green-500",children:j.opportunities.change}),r.jsx("span",{className:"text-gray-500 text-sm ml-1",children:"vs last month"})]})]}),r.jsx("div",{className:"p-3 rounded-lg bg-green-500/20 text-green-500",children:r.jsx(eu,{size:24})})]})})]}),r.jsx("div",{className:"border-b border-dark-700",children:r.jsxs("nav",{className:"-mb-px flex space-x-8",children:[r.jsx("button",{onClick:()=>n("leads"),className:`py-4 px-1 border-b-2 font-medium text-sm ${s==="leads"?"border-primary-500 text-primary-500":"border-transparent text-gray-400 hover:text-gray-300 hover:border-gray-300"}`,children:"Leads"}),r.jsx("button",{onClick:()=>n("tasks"),className:`py-4 px-1 border-b-2 font-medium text-sm ${s==="tasks"?"border-primary-500 text-primary-500":"border-transparent text-gray-400 hover:text-gray-300 hover:border-gray-300"}`,children:"Tasks"}),r.jsx("button",{onClick:()=>n("opportunities"),className:`py-4 px-1 border-b-2 font-medium text-sm ${s==="opportunities"?"border-primary-500 text-primary-500":"border-transparent text-gray-400 hover:text-gray-300 hover:border-gray-300"}`,children:"Opportunities"})]})}),y(),u&&r.jsx(OV,{lead:u,onClose:()=>{h(null),e()}}),a&&r.jsx(IV,{onClose:()=>{i(!1),e()}}),o&&r.jsx(MV,{onClose:()=>l(!1),onSubmit:b=>{console.log("New task:",b),l(!1)}}),c&&r.jsx(TV,{onClose:()=>d(!1),onSubmit:b=>{console.log("New opportunity:",b),d(!1)}})]})},$V=()=>{const{customers:t,loading:e,error:s,fetchCustomers:n,deleteCustomer:a}=On(),[i,o]=U.useState(""),[l,c]=U.useState([]);U.useEffect(()=>{n().catch(m=>{fe.error("Failed to load customers")})},[n]);const d=t.filter(m=>m?.name?.toLowerCase().includes(i.toLowerCase())||m?.email?.toLowerCase().includes(i.toLowerCase())||m?.phone?.includes(i)),u=()=>{l.length===d.length?c([]):c(d.map(m=>m.id))},h=m=>{l.includes(m)?c(l.filter(g=>g!==m)):c([...l,m])},f=async m=>{if(window.confirm("Are you sure you want to delete this customer?"))try{await a(m),fe.success("Customer deleted successfully")}catch{fe.error("Failed to delete customer")}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h1",{className:"text-2xl font-bold text-white",children:"Customers"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(de,{to:"/settings?tab=integrations",className:"hidden md:flex btn btn-secondary items-center space-x-2",children:[r.jsx(En,{size:16}),r.jsx("span",{children:"Import CSV"})]}),r.jsxs(de,{to:"/customers/new",className:"btn btn-primary flex items-center space-x-2",children:[r.jsx(ra,{size:16}),r.jsx("span",{children:"Add Customer"})]})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(er,{size:18,className:"text-gray-400"})}),r.jsx("input",{type:"text",placeholder:"Search customers...",className:"input pl-10",value:i,onChange:m=>o(m.target.value)})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{className:"btn btn-secondary flex items-center space-x-2",children:[r.jsx(ao,{size:16}),r.jsx("span",{children:"Filter"})]}),r.jsxs("button",{className:"btn btn-secondary flex items-center space-x-2",children:[r.jsx(lr,{size:16}),r.jsx("span",{children:"Export"})]})]})]}),s&&r.jsx("div",{className:"bg-red-900/50 border border-red-800 text-red-300 px-4 py-3 rounded-md",children:s}),e&&r.jsxs("div",{className:"text-center py-4",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-500 mx-auto"}),r.jsx("p",{className:"mt-2 text-gray-400",children:"Loading customers..."})]}),r.jsxs("div",{className:"bg-dark-800 rounded-lg border border-dark-700 overflow-hidden",children:[!e&&d.length>0?r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-dark-700",children:[r.jsx("th",{className:"px-4 py-3 text-left",children:r.jsx("div",{className:"flex items-center",children:r.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-600 bg-dark-800 text-primary-600 focus:ring-primary-500",checked:l.length===d.length&&d.length>0,onChange:u})})}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Customer"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Contact"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Type"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Total Spent"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Last Purchase"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-dark-700",children:d.map(m=>r.jsxs("tr",{className:"hover:bg-dark-700/50",children:[r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-600 bg-dark-800 text-primary-600 focus:ring-primary-500",checked:l.includes(m.id),onChange:()=>h(m.id)})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsx(de,{to:`/customers/${m.id}`,className:"text-white font-medium hover:text-primary-400",children:m.name})}),r.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm text-gray-300",children:m.email||"No email"}),r.jsx("div",{className:"text-sm text-gray-400",children:m.phone||"No phone"})]}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsx("span",{className:"text-sm text-gray-300",children:m.type||"Individual"})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${m.status==="Active"?"bg-green-900/30 text-green-400":"bg-gray-700/30 text-gray-400"}`,children:m.status||"Active"})}),r.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:["$",m.total_spent?.toLocaleString()||"0.00"]}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:m.last_purchase?new Date(m.last_purchase).toLocaleDateString():"Never"}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-right text-sm font-medium",children:r.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[r.jsx(de,{to:`/customers/${m.id}`,className:"text-gray-400 hover:text-white",children:r.jsx(Pn,{size:16})}),r.jsx(de,{to:`/customers/${m.id}/edit`,className:"text-gray-400 hover:text-white",children:r.jsx(Or,{size:16})}),r.jsx("button",{className:"text-gray-400 hover:text-red-500",onClick:()=>f(m.id),children:r.jsx(Ys,{size:16})})]})})]},m.id))})]})}):!e&&r.jsx("div",{className:"text-center py-12",children:r.jsxs("div",{className:"flex flex-col items-center justify-center",children:[r.jsx(ra,{size:48,className:"text-gray-600 mb-4"}),r.jsx("p",{className:"text-gray-400 text-lg mb-2",children:"No customers found"}),r.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Get started by adding your first customer"}),r.jsxs(de,{to:"/customers/new",className:"btn btn-primary flex items-center space-x-2",children:[r.jsx(ra,{size:16}),r.jsx("span",{children:"Add Customer"})]})]})}),d.length>0&&r.jsxs("div",{className:"bg-dark-800 px-4 py-3 flex items-center justify-between border-t border-dark-700",children:[r.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[r.jsx("button",{className:"btn btn-secondary",children:"Previous"}),r.jsx("button",{className:"btn btn-secondary",children:"Next"})]}),r.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[r.jsx("div",{children:r.jsxs("p",{className:"text-sm text-gray-400",children:["Showing ",r.jsx("span",{className:"font-medium",children:"1"})," to ",r.jsx("span",{className:"font-medium",children:d.length})," of"," ",r.jsx("span",{className:"font-medium",children:d.length})," results"]})}),r.jsx("div",{children:r.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[r.jsxs("button",{className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-dark-600 bg-dark-700 text-sm font-medium text-gray-400 hover:bg-dark-600",children:[r.jsx("span",{className:"sr-only",children:"Previous"}),r.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:r.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),r.jsx("button",{className:"relative inline-flex items-center px-4 py-2 border border-dark-600 bg-dark-700 text-sm font-medium text-gray-400 hover:bg-dark-600",children:"1"}),r.jsxs("button",{className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-dark-600 bg-dark-700 text-sm font-medium text-gray-400 hover:bg-dark-600",children:[r.jsx("span",{className:"sr-only",children:"Next"}),r.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:r.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})})]})]})]})]})},zV=()=>{const{id:t}=Mn(),e=Qt(),{getCustomerById:s,updateCustomer:n,deleteCustomer:a,loading:i,error:o}=On(),[l,c]=U.useState(null),[d,u]=U.useState(null),[h,f]=U.useState("");U.useEffect(()=>{t&&s(t).then(y=>{y?c(y):(fe.error("Customer not found"),e("/customers"))}).catch(y=>{fe.error("Failed to load customer details")})},[t,s,e]);const m=async()=>{if(t&&window.confirm("Are you sure you want to delete this customer?"))try{await a(t),fe.success("Customer deleted successfully"),e("/customers")}catch{fe.error("Failed to delete customer")}},g=(y,b)=>{u(y),f(b)},x=async y=>{if(!(!t||!l))try{const b=await n(t,{[y]:h});c(b),u(null),f(""),fe.success("Updated successfully")}catch{fe.error("Failed to update")}},j=(y,b)=>{y.key==="Enter"?x(b):y.key==="Escape"&&(u(null),f(""))};return i?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-400",children:"Loading customer details..."})]}):o?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("p",{className:"text-red-400 text-lg",children:o}),r.jsx(de,{to:"/customers",className:"btn btn-primary mt-4",children:"Back to Customers"})]}):l?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(de,{to:"/customers",className:"btn btn-secondary p-2",children:r.jsx(ss,{size:20})}),r.jsx("h1",{className:"text-2xl font-bold text-white",children:l.name})]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsxs(de,{to:`/customers/${t}/edit`,className:"btn btn-primary flex items-center space-x-2",children:[r.jsx(Or,{size:16}),r.jsx("span",{children:"Edit Customer"})]}),r.jsxs(de,{to:`/crm?customer=${t}&action=create-lead`,className:"btn btn-secondary flex items-center space-x-2",children:[r.jsx(ra,{size:16}),r.jsx("span",{children:"Create Lead"})]}),r.jsxs(de,{to:`/invoices/create?customer=${t}`,className:"btn btn-secondary flex items-center space-x-2",children:[r.jsx(wt,{size:16}),r.jsx("span",{children:"Create Invoice"})]}),r.jsxs("button",{className:"btn btn-danger flex items-center space-x-2",onClick:m,children:[r.jsx(Ys,{size:16}),r.jsx("span",{children:"Delete"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[r.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Customer Information"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"text-gray-400",children:l.type==="Business"?r.jsx(xu,{size:18}):r.jsx(Qg,{size:18})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Type"}),r.jsx("div",{className:"cursor-pointer",onClick:()=>g("name",l.name),children:d==="name"?r.jsx("input",{type:"text",className:"input py-1 px-2",value:h,onChange:y=>f(y.target.value),onBlur:()=>x("name"),onKeyDown:y=>j(y,"name"),autoFocus:!0}):r.jsx("p",{className:"text-white font-medium hover:text-primary-400",children:l.name})})]})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"text-gray-400",children:r.jsx(xu,{size:18})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Company"}),r.jsx("div",{className:"cursor-pointer",onClick:()=>g("company",l.company||""),children:d==="company"?r.jsx("input",{type:"text",className:"input py-1 px-2",value:h,onChange:y=>f(y.target.value),onBlur:()=>x("company"),onKeyDown:y=>j(y,"company"),autoFocus:!0}):r.jsx("p",{className:"text-white hover:text-primary-400",children:l.company||"No company"})})]})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"text-gray-400",children:r.jsx(mN,{size:18})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Title"}),r.jsx("div",{className:"cursor-pointer",onClick:()=>g("title",l.title||""),children:d==="title"?r.jsx("input",{type:"text",className:"input py-1 px-2",value:h,onChange:y=>f(y.target.value),onBlur:()=>x("title"),onKeyDown:y=>j(y,"title"),autoFocus:!0}):r.jsx("p",{className:"text-white hover:text-primary-400",children:l.title||"No title"})})]})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"text-gray-400",children:r.jsx(aa,{size:18})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Email"}),r.jsx("div",{className:"cursor-pointer",onClick:()=>g("email",l.email||""),children:d==="email"?r.jsx("input",{type:"email",className:"input py-1 px-2",value:h,onChange:y=>f(y.target.value),onBlur:()=>x("email"),onKeyDown:y=>j(y,"email"),autoFocus:!0}):r.jsx("p",{className:"text-white hover:text-primary-400",children:l.email||"No email provided"})})]})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"text-gray-400",children:r.jsx(oo,{size:18})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Phone"}),r.jsx("div",{className:"cursor-pointer",onClick:()=>g("phone",l.phone||""),children:d==="phone"?r.jsx("input",{type:"tel",className:"input py-1 px-2",value:h,onChange:y=>f(y.target.value),onBlur:()=>x("phone"),onKeyDown:y=>j(y,"phone"),autoFocus:!0}):r.jsx("p",{className:"text-white hover:text-primary-400",children:Uo(l.phone)||"No phone provided"})})]})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"text-gray-400",children:r.jsx(Kg,{size:18})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Address"}),r.jsx("div",{className:"cursor-pointer",onClick:()=>g("type",l.type),children:d==="type"?r.jsxs("select",{className:"input py-1 px-2",value:h,onChange:y=>f(y.target.value),onBlur:()=>x("type"),autoFocus:!0,children:[r.jsx("option",{value:"Individual",children:"Individual"}),r.jsx("option",{value:"Business",children:"Business"}),r.jsx("option",{value:"Government",children:"Government"}),r.jsx("option",{value:"Non-Profit",children:"Non-Profit"})]}):r.jsx("p",{className:"text-white hover:text-primary-400",children:l.type})})]})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"text-gray-400",children:r.jsx(vi,{size:18})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Priority"}),r.jsx("div",{className:"cursor-pointer",onClick:()=>g("priority",l.priority||"Low"),children:d==="priority"?r.jsxs("select",{className:"input py-1 px-2",value:h,onChange:y=>f(y.target.value),onBlur:()=>x("priority"),autoFocus:!0,children:[r.jsx("option",{value:"Low",children:"Low"}),r.jsx("option",{value:"Medium",children:"Medium"}),r.jsx("option",{value:"High",children:"High"})]}):r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${l.priority==="High"?"bg-red-900/30 text-red-400":l.priority==="Medium"?"bg-yellow-900/30 text-yellow-400":"bg-blue-900/30 text-blue-400"}`,children:l.priority||"Low"})})]})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"text-gray-400",children:r.jsx(Rs,{size:18})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Customer Since"}),r.jsx("p",{className:"text-white",children:l.created_at?new Date(l.created_at).toLocaleDateString():"N/A"})]})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"text-gray-400",children:r.jsx(Tn,{size:18})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Status"}),r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${l.status==="Active"?"bg-green-900/30 text-green-400":"bg-gray-700/30 text-gray-400"}`,children:l.status||"Active"})]})]})]}),r.jsxs("div",{className:"mt-6",children:[r.jsx("h3",{className:"text-md font-medium text-white mb-2",children:"Notes"}),r.jsx("p",{className:"text-gray-300 text-sm",children:l.notes||"No notes available"})]})]}),r.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[r.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Financial Summary"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-dark-700 rounded-md p-4",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 rounded-md bg-primary-500/20 text-primary-500",children:r.jsx(us,{size:20})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Total Spent"}),r.jsxs("p",{className:"text-xl font-semibold text-white",children:["$",l.total_spent?.toLocaleString()||"0.00"]})]})]})}),r.jsx("div",{className:"bg-dark-700 rounded-md p-4",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 rounded-md bg-green-500/20 text-green-500",children:r.jsx(wt,{size:20})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Total Invoices"}),r.jsx("p",{className:"text-xl font-semibold text-white",children:"0"})]})]})}),r.jsx("div",{className:"bg-dark-700 rounded-md p-4",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 rounded-md bg-blue-500/20 text-blue-500",children:r.jsx(un,{size:20})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Total Purchases"}),r.jsx("p",{className:"text-xl font-semibold text-white",children:"0"})]})]})}),r.jsx("div",{className:"bg-dark-700 rounded-md p-4",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 rounded-md bg-purple-500/20 text-purple-500",children:r.jsx(Rs,{size:20})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Last Purchase"}),r.jsx("p",{className:"text-white",children:l.last_purchase?new Date(l.last_purchase).toLocaleDateString():"Never"})]})]})})]})]}),r.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[r.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Recent Activity"}),r.jsx("div",{className:"text-center py-6",children:r.jsx("p",{className:"text-gray-400",children:"No recent activity"})})]})]}),r.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-white",children:"Invoices"}),r.jsxs(de,{to:`/invoices/create?customer=${t}`,className:"btn btn-primary flex items-center space-x-2",children:[r.jsx(wt,{size:16}),r.jsx("span",{children:"Create Invoice"})]})]}),r.jsx("div",{className:"text-center py-6",children:r.jsx("p",{className:"text-gray-400",children:"No invoices found for this customer"})})]}),r.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[r.jsx("div",{className:"flex justify-between items-center mb-4",children:r.jsx("h2",{className:"text-lg font-semibold text-white",children:"Purchase History"})}),r.jsx("div",{className:"text-center py-6",children:r.jsx("p",{className:"text-gray-400",children:"No purchase history found for this customer"})})]})]}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx("p",{className:"text-gray-400 text-lg",children:"Customer not found"}),r.jsx(de,{to:"/customers",className:"btn btn-primary mt-4",children:"Back to Customers"})]})},Jx=[{code:"CA",name:"Canada",states:["Alberta","British Columbia","Manitoba","New Brunswick","Newfoundland and Labrador","Nova Scotia","Ontario","Prince Edward Island","Quebec","Saskatchewan","Northwest Territories","Nunavut","Yukon"]},{code:"US",name:"United States",states:["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"]},{code:"UK",name:"United Kingdom"},{code:"AU",name:"Australia"},{code:"NZ",name:"New Zealand"}],w2=()=>{const{id:t}=Mn(),e=Qt(),{createCustomer:s,updateCustomer:n,getCustomerById:a,loading:i,error:o,clearError:l}=On(),[c,d]=U.useState("CA"),[u,h]=U.useState("Individual"),[f,m]=U.useState(!1),[g,x]=U.useState(""),[j,y]=U.useState(!1),[b,k]=U.useState(null),{register:A,handleSubmit:E,formState:{errors:I},reset:_}=Ds({defaultValues:{type:"Individual",priority:"Low",name:"",email:"",phone:"",company:"",title:"",notes:""}});U.useEffect(()=>{(async()=>{if(t){const L=await a(t);if(L){const S=L.name.split(" "),C=S[0],O=S.slice(1).join(" ");_({first_name:C,last_name:O,email:L.email||"",phone:L.phone||"",company:L.company||"",title:L.title||"",type:L.type,priority:L.priority||"Low",notes:L.notes||"",street:L.street||"",city:L.city||"",state:L.state||"",country:L.country||"CA",postal_code:L.postal_code||""}),h(L.type)}}})()},[t,a,_]);const v=async P=>{m(!0),l();try{const L={...P,name:`${P.first_name} ${P.last_name}`.trim(),first_name:void 0,last_name:void 0};let S;if(t)S=await n(t,L),fe.success("Customer updated successfully!");else{S=await s(L),fe.success("Customer created successfully!"),k(S.id),y(!0);return}e(`/customers/${S.id}`)}catch(L){console.error("Error creating customer:",L),fe.error("Failed to create customer. Please try again.")}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(de,{to:"/customers",className:"btn btn-secondary p-2",children:r.jsx(ss,{size:20})}),r.jsx("h1",{className:"text-2xl font-bold text-white",children:t?"Edit Customer":"Add New Customer"})]}),o&&r.jsx("div",{className:"bg-red-900/50 border border-red-800 text-red-300 px-4 py-3 rounded-md",children:o}),r.jsxs("form",{onSubmit:E(v),className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[r.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Basic Information"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"first_name",className:"block text-sm font-medium text-gray-300 mb-1",children:["First Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{id:"first_name",type:"text",className:"input",placeholder:"First name",...A("first_name",{required:"First name is required"})}),I.first_name&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:I.first_name.message})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"last_name",className:"block text-sm font-medium text-gray-300 mb-1",children:["Last Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{id:"last_name",type:"text",className:"input",placeholder:"Last name",...A("last_name",{required:"Last name is required"})}),I.last_name&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:I.last_name.message})]})]})}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"company",className:"block text-sm font-medium text-gray-300 mb-1",children:"Company"}),r.jsx("input",{id:"company",type:"text",className:"input",placeholder:"Company name",...A("company")})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-300 mb-1",children:"Title"}),r.jsx("input",{id:"title",type:"text",className:"input",placeholder:"Job title",...A("title")})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-300 mb-1",children:"Customer Type"}),r.jsxs("select",{id:"type",className:"input",...A("type"),value:u,onChange:P=>h(P.target.value),children:[r.jsx("option",{value:"Individual",children:"Individual"}),r.jsx("option",{value:"Business",children:"Business"}),r.jsx("option",{value:"Government",children:"Government"}),r.jsx("option",{value:"Non-Profit",children:"Non-Profit"})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-1",children:"Email"}),r.jsx("input",{id:"email",type:"email",className:"input",placeholder:"customer@example.com",...A("email",{pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})}),I.email&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:I.email.message})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-300 mb-1",children:"Phone Number"}),r.jsx("input",{id:"phone",type:"tel",className:"input",value:g,onChange:P=>{const S=P.target.value.replace(/\D/g,"").slice(0,10),C=S.replace(/(\d{3})(\d{3})(\d{4})/,"($1) $2-$3");x(C),A("phone").onChange({target:{value:S,name:"phone"}})},placeholder:"(555) 555-5555"})]})]})]}),r.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[r.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Address Information"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-300 mb-1",children:["Country ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("select",{id:"country",className:"input",value:c,onChange:P=>d(P.target.value),...A("country",{required:"Country is required"}),children:Jx.map(P=>r.jsx("option",{value:P.code,children:P.name},P.code))})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"street",className:"block text-sm font-medium text-gray-300 mb-1",children:"Street Address"}),r.jsx("input",{id:"street",type:"text",className:"input",placeholder:"123 Main St",...A("street")})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-300 mb-1",children:"City"}),r.jsx("input",{id:"city",type:"text",className:"input",placeholder:"City",...A("city")})]}),c==="CA"&&r.jsxs("div",{children:[r.jsx("label",{htmlFor:"province",className:"block text-sm font-medium text-gray-300 mb-1",children:"Province"}),r.jsxs("select",{id:"province",className:"input",...A("state"),children:[r.jsx("option",{value:"",children:"Select Province"}),Jx.find(P=>P.code==="CA")?.states.map(P=>r.jsx("option",{value:P,children:P},P))]})]}),c==="US"&&r.jsxs("div",{children:[r.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-300 mb-1",children:"State"}),r.jsxs("select",{id:"state",className:"input",...A("state"),children:[r.jsx("option",{value:"",children:"Select State"}),Jx.find(P=>P.code==="US")?.states.map(P=>r.jsx("option",{value:P,children:P},P))]})]}),["UK","AU","NZ"].includes(c)&&r.jsxs("div",{children:[r.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-300 mb-1",children:c==="UK"?"County":c==="AU"?"State/Territory":"Region"}),r.jsx("input",{id:"state",type:"text",className:"input",placeholder:c==="UK"?"County":c==="AU"?"State/Territory":"Region",...A("state")})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"postal_code",className:"block text-sm font-medium text-gray-300 mb-1",children:c==="US"?"ZIP Code":c==="UK"?"Post Code":"Postal Code"}),r.jsx("input",{id:"postal_code",type:"text",className:"input",placeholder:c==="US"?"12345":c==="CA"?"A1A 1A1":c==="UK"?"SW1A 1AA":"Postal Code",...A("postal_code",{pattern:c==="CA"?{value:/^[A-Za-z]\d[A-Za-z][ -]?\d[A-Za-z]\d$/,message:"Please enter a valid Canadian postal code"}:c==="US"?{value:/^\d{5}(-\d{4})?$/,message:"Please enter a valid US ZIP code"}:c==="UK"?{value:/^[A-Z]{1,2}\d[A-Z\d]? ?\d[A-Z]{2}$/i,message:"Please enter a valid UK post code"}:void 0})}),I.postal_code&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:I.postal_code.message})]})]})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{type:"submit",className:"btn btn-primary flex items-center space-x-2",disabled:i,children:i?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white"}),r.jsx("span",{children:"Saving..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(oa,{size:16}),r.jsx("span",{children:"Save Customer"})]})})})]}),j&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 w-full max-w-md",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Create Lead"}),r.jsx("button",{onClick:()=>{y(!1),e(`/customers/${b}`)},className:"text-gray-400 hover:text-white",children:r.jsx(or,{size:20})})]}),r.jsx("p",{className:"text-gray-300 mb-6",children:"Would you like to create a lead for this customer? This will add them to your sales pipeline."}),r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx("button",{onClick:()=>{y(!1),e(`/customers/${b}`)},className:"btn btn-secondary",children:"Skip"}),r.jsxs(de,{to:`/crm?customer=${b}&action=create-lead`,className:"btn btn-primary flex items-center space-x-2",children:[r.jsx(as,{size:16}),r.jsx("span",{children:"Create Lead"})]})]})]})})]})};var $4={exports:{}};/* @license
Papa Parse
v5.5.2
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){((s,n)=>{t.exports=n()})(Fr,function s(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},a,i=!n.document&&!!n.postMessage,o=n.IS_PAPA_WORKER||!1,l={},c=0,d={};function u(v){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(P){var L=E(P);L.chunkSize=parseInt(L.chunkSize),P.step||P.chunk||(L.chunkSize=null),this._handle=new x(L),(this._handle.streamer=this)._config=L}.call(this,v),this.parseChunk=function(P,L){var S=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<S){let O=this._config.newline;O||(C=this._config.quoteChar||'"',O=this._handle.guessLineEndings(P,C)),P=[...P.split(O).slice(S)].join(O)}this.isFirstChunk&&_(this._config.beforeFirstChunk)&&(C=this._config.beforeFirstChunk(P))!==void 0&&(P=C),this.isFirstChunk=!1,this._halted=!1;var S=this._partialLine+P,C=(this._partialLine="",this._handle.parse(S,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(P=C.meta.cursor,S=(this._finished||(this._partialLine=S.substring(P-this._baseIndex),this._baseIndex=P),C&&C.data&&(this._rowCount+=C.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)n.postMessage({results:C,workerId:d.WORKER_ID,finished:S});else if(_(this._config.chunk)&&!L){if(this._config.chunk(C,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=C=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(C.data),this._completeResults.errors=this._completeResults.errors.concat(C.errors),this._completeResults.meta=C.meta),this._completed||!S||!_(this._config.complete)||C&&C.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),S||C&&C.meta.paused||this._nextChunk(),C}this._halted=!0},this._sendError=function(P){_(this._config.error)?this._config.error(P):o&&this._config.error&&n.postMessage({workerId:d.WORKER_ID,error:P,finished:!1})}}function h(v){var P;(v=v||{}).chunkSize||(v.chunkSize=d.RemoteChunkSize),u.call(this,v),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(L){this._input=L,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(P=new XMLHttpRequest,this._config.withCredentials&&(P.withCredentials=this._config.withCredentials),i||(P.onload=I(this._chunkLoaded,this),P.onerror=I(this._chunkError,this)),P.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var L,S=this._config.downloadRequestHeaders;for(L in S)P.setRequestHeader(L,S[L])}var C;this._config.chunkSize&&(C=this._start+this._config.chunkSize-1,P.setRequestHeader("Range","bytes="+this._start+"-"+C));try{P.send(this._config.downloadRequestBody)}catch(O){this._chunkError(O.message)}i&&P.status===0&&this._chunkError()}},this._chunkLoaded=function(){P.readyState===4&&(P.status<200||400<=P.status?this._chunkError():(this._start+=this._config.chunkSize||P.responseText.length,this._finished=!this._config.chunkSize||this._start>=(L=>(L=L.getResponseHeader("Content-Range"))!==null?parseInt(L.substring(L.lastIndexOf("/")+1)):-1)(P),this.parseChunk(P.responseText)))},this._chunkError=function(L){L=P.statusText||L,this._sendError(new Error(L))}}function f(v){(v=v||{}).chunkSize||(v.chunkSize=d.LocalChunkSize),u.call(this,v);var P,L,S=typeof FileReader<"u";this.stream=function(C){this._input=C,L=C.slice||C.webkitSlice||C.mozSlice,S?((P=new FileReader).onload=I(this._chunkLoaded,this),P.onerror=I(this._chunkError,this)):P=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var C=this._input,O=(this._config.chunkSize&&(O=Math.min(this._start+this._config.chunkSize,this._input.size),C=L.call(C,this._start,O)),P.readAsText(C,this._config.encoding));S||this._chunkLoaded({target:{result:O}})},this._chunkLoaded=function(C){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(C.target.result)},this._chunkError=function(){this._sendError(P.error)}}function m(v){var P;u.call(this,v=v||{}),this.stream=function(L){return P=L,this._nextChunk()},this._nextChunk=function(){var L,S;if(!this._finished)return L=this._config.chunkSize,P=L?(S=P.substring(0,L),P.substring(L)):(S=P,""),this._finished=!P,this.parseChunk(S)}}function g(v){u.call(this,v=v||{});var P=[],L=!0,S=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(C){this._input=C,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){S&&P.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),P.length?this.parseChunk(P.shift()):L=!0},this._streamData=I(function(C){try{P.push(typeof C=="string"?C:C.toString(this._config.encoding)),L&&(L=!1,this._checkIsFinished(),this.parseChunk(P.shift()))}catch(O){this._streamError(O)}},this),this._streamError=I(function(C){this._streamCleanUp(),this._sendError(C)},this),this._streamEnd=I(function(){this._streamCleanUp(),S=!0,this._streamData("")},this),this._streamCleanUp=I(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function x(v){var P,L,S,C,O=Math.pow(2,53),z=-O,Z=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,q=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,R=this,X=0,$=0,J=!1,se=!1,M=[],T={data:[],errors:[],meta:{}};function B(ie){return v.skipEmptyLines==="greedy"?ie.join("").trim()==="":ie.length===1&&ie[0].length===0}function K(){if(T&&S&&(re("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+d.DefaultDelimiter+"'"),S=!1),v.skipEmptyLines&&(T.data=T.data.filter(function(be){return!B(be)})),Y()){let be=function(Fe,Re){_(v.transformHeader)&&(Fe=v.transformHeader(Fe,Re)),M.push(Fe)};if(T)if(Array.isArray(T.data[0])){for(var ie=0;Y()&&ie<T.data.length;ie++)T.data[ie].forEach(be);T.data.splice(0,1)}else T.data.forEach(be)}function he(be,Fe){for(var Re=v.header?{}:[],He=0;He<be.length;He++){var ke=He,ae=be[He],ae=((et,te)=>(oe=>(v.dynamicTypingFunction&&v.dynamicTyping[oe]===void 0&&(v.dynamicTyping[oe]=v.dynamicTypingFunction(oe)),(v.dynamicTyping[oe]||v.dynamicTyping)===!0))(et)?te==="true"||te==="TRUE"||te!=="false"&&te!=="FALSE"&&((oe=>{if(Z.test(oe)&&(oe=parseFloat(oe),z<oe&&oe<O))return 1})(te)?parseFloat(te):q.test(te)?new Date(te):te===""?null:te):te)(ke=v.header?He>=M.length?"__parsed_extra":M[He]:ke,ae=v.transform?v.transform(ae,ke):ae);ke==="__parsed_extra"?(Re[ke]=Re[ke]||[],Re[ke].push(ae)):Re[ke]=ae}return v.header&&(He>M.length?re("FieldMismatch","TooManyFields","Too many fields: expected "+M.length+" fields but parsed "+He,$+Fe):He<M.length&&re("FieldMismatch","TooFewFields","Too few fields: expected "+M.length+" fields but parsed "+He,$+Fe)),Re}var Ce;T&&(v.header||v.dynamicTyping||v.transform)&&(Ce=1,!T.data.length||Array.isArray(T.data[0])?(T.data=T.data.map(he),Ce=T.data.length):T.data=he(T.data,0),v.header&&T.meta&&(T.meta.fields=M),$+=Ce)}function Y(){return v.header&&M.length===0}function re(ie,he,Ce,be){ie={type:ie,code:he,message:Ce},be!==void 0&&(ie.row=be),T.errors.push(ie)}_(v.step)&&(C=v.step,v.step=function(ie){T=ie,Y()?K():(K(),T.data.length!==0&&(X+=ie.data.length,v.preview&&X>v.preview?L.abort():(T.data=T.data[0],C(T,R))))}),this.parse=function(ie,he,Ce){var be=v.quoteChar||'"',be=(v.newline||(v.newline=this.guessLineEndings(ie,be)),S=!1,v.delimiter?_(v.delimiter)&&(v.delimiter=v.delimiter(ie),T.meta.delimiter=v.delimiter):((be=((Fe,Re,He,ke,ae)=>{var et,te,oe,ue;ae=ae||[",","	","|",";",d.RECORD_SEP,d.UNIT_SEP];for(var _e=0;_e<ae.length;_e++){for(var we,Se=ae[_e],De=0,ze=0,Ue=0,Xe=(oe=void 0,new y({comments:ke,delimiter:Se,newline:Re,preview:10}).parse(Fe)),it=0;it<Xe.data.length;it++)He&&B(Xe.data[it])?Ue++:(we=Xe.data[it].length,ze+=we,oe===void 0?oe=we:0<we&&(De+=Math.abs(we-oe),oe=we));0<Xe.data.length&&(ze/=Xe.data.length-Ue),(te===void 0||De<=te)&&(ue===void 0||ue<ze)&&1.99<ze&&(te=De,et=Se,ue=ze)}return{successful:!!(v.delimiter=et),bestDelimiter:et}})(ie,v.newline,v.skipEmptyLines,v.comments,v.delimitersToGuess)).successful?v.delimiter=be.bestDelimiter:(S=!0,v.delimiter=d.DefaultDelimiter),T.meta.delimiter=v.delimiter),E(v));return v.preview&&v.header&&be.preview++,P=ie,L=new y(be),T=L.parse(P,he,Ce),K(),J?{meta:{paused:!0}}:T||{meta:{paused:!1}}},this.paused=function(){return J},this.pause=function(){J=!0,L.abort(),P=_(v.chunk)?"":P.substring(L.getCharIndex())},this.resume=function(){R.streamer._halted?(J=!1,R.streamer.parseChunk(P,!0)):setTimeout(R.resume,3)},this.aborted=function(){return se},this.abort=function(){se=!0,L.abort(),T.meta.aborted=!0,_(v.complete)&&v.complete(T),P=""},this.guessLineEndings=function(Fe,be){Fe=Fe.substring(0,1048576);var be=new RegExp(j(be)+"([^]*?)"+j(be),"gm"),Ce=(Fe=Fe.replace(be,"")).split("\r"),be=Fe.split(`
`),Fe=1<be.length&&be[0].length<Ce[0].length;if(Ce.length===1||Fe)return`
`;for(var Re=0,He=0;He<Ce.length;He++)Ce[He][0]===`
`&&Re++;return Re>=Ce.length/2?`\r
`:"\r"}}function j(v){return v.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function y(v){var P=(v=v||{}).delimiter,L=v.newline,S=v.comments,C=v.step,O=v.preview,z=v.fastMode,Z=null,q=!1,R=v.quoteChar==null?'"':v.quoteChar,X=R;if(v.escapeChar!==void 0&&(X=v.escapeChar),(typeof P!="string"||-1<d.BAD_DELIMITERS.indexOf(P))&&(P=","),S===P)throw new Error("Comment character same as delimiter");S===!0?S="#":(typeof S!="string"||-1<d.BAD_DELIMITERS.indexOf(S))&&(S=!1),L!==`
`&&L!=="\r"&&L!==`\r
`&&(L=`
`);var $=0,J=!1;this.parse=function(se,M,T){if(typeof se!="string")throw new Error("Input must be a string");var B=se.length,K=P.length,Y=L.length,re=S.length,ie=_(C),he=[],Ce=[],be=[],Fe=$=0;if(!se)return De();if(z||z!==!1&&se.indexOf(R)===-1){for(var Re=se.split(L),He=0;He<Re.length;He++){if(be=Re[He],$+=be.length,He!==Re.length-1)$+=L.length;else if(T)return De();if(!S||be.substring(0,re)!==S){if(ie){if(he=[],ue(be.split(P)),ze(),J)return De()}else ue(be.split(P));if(O&&O<=He)return he=he.slice(0,O),De(!0)}}return De()}for(var ke=se.indexOf(P,$),ae=se.indexOf(L,$),et=new RegExp(j(X)+j(R),"g"),te=se.indexOf(R,$);;)if(se[$]===R)for(te=$,$++;;){if((te=se.indexOf(R,te+1))===-1)return T||Ce.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:he.length,index:$}),we();if(te===B-1)return we(se.substring($,te).replace(et,R));if(R===X&&se[te+1]===X)te++;else if(R===X||te===0||se[te-1]!==X){ke!==-1&&ke<te+1&&(ke=se.indexOf(P,te+1));var oe=_e((ae=ae!==-1&&ae<te+1?se.indexOf(L,te+1):ae)===-1?ke:Math.min(ke,ae));if(se.substr(te+1+oe,K)===P){be.push(se.substring($,te).replace(et,R)),se[$=te+1+oe+K]!==R&&(te=se.indexOf(R,$)),ke=se.indexOf(P,$),ae=se.indexOf(L,$);break}if(oe=_e(ae),se.substring(te+1+oe,te+1+oe+Y)===L){if(be.push(se.substring($,te).replace(et,R)),Se(te+1+oe+Y),ke=se.indexOf(P,$),te=se.indexOf(R,$),ie&&(ze(),J))return De();if(O&&he.length>=O)return De(!0);break}Ce.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:he.length,index:$}),te++}}else if(S&&be.length===0&&se.substring($,$+re)===S){if(ae===-1)return De();$=ae+Y,ae=se.indexOf(L,$),ke=se.indexOf(P,$)}else if(ke!==-1&&(ke<ae||ae===-1))be.push(se.substring($,ke)),$=ke+K,ke=se.indexOf(P,$);else{if(ae===-1)break;if(be.push(se.substring($,ae)),Se(ae+Y),ie&&(ze(),J))return De();if(O&&he.length>=O)return De(!0)}return we();function ue(Ue){he.push(Ue),Fe=$}function _e(Ue){var Xe=0;return Xe=Ue!==-1&&(Ue=se.substring(te+1,Ue))&&Ue.trim()===""?Ue.length:Xe}function we(Ue){return T||(Ue===void 0&&(Ue=se.substring($)),be.push(Ue),$=B,ue(be),ie&&ze()),De()}function Se(Ue){$=Ue,ue(be),be=[],ae=se.indexOf(L,$)}function De(Ue){if(v.header&&!M&&he.length&&!q){var Xe=he[0],it={},rt=new Set(Xe);let ut=!1;for(let qe=0;qe<Xe.length;qe++){let Ft=Xe[qe];if(it[Ft=_(v.transformHeader)?v.transformHeader(Ft,qe):Ft]){let gt,mr=it[Ft];for(;gt=Ft+"_"+mr,mr++,rt.has(gt););rt.add(gt),Xe[qe]=gt,it[Ft]++,ut=!0,(Z=Z===null?{}:Z)[gt]=Ft}else it[Ft]=1,Xe[qe]=Ft;rt.add(Ft)}ut&&console.warn("Duplicate headers found and renamed."),q=!0}return{data:he,errors:Ce,meta:{delimiter:P,linebreak:L,aborted:J,truncated:!!Ue,cursor:Fe+(M||0),renamedHeaders:Z}}}function ze(){C(De()),he=[],Ce=[]}},this.abort=function(){J=!0},this.getCharIndex=function(){return $}}function b(v){var P=v.data,L=l[P.workerId],S=!1;if(P.error)L.userError(P.error,P.file);else if(P.results&&P.results.data){var C={abort:function(){S=!0,k(P.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:A,resume:A};if(_(L.userStep)){for(var O=0;O<P.results.data.length&&(L.userStep({data:P.results.data[O],errors:P.results.errors,meta:P.results.meta},C),!S);O++);delete P.results}else _(L.userChunk)&&(L.userChunk(P.results,C,P.file),delete P.results)}P.finished&&!S&&k(P.workerId,P.results)}function k(v,P){var L=l[v];_(L.userComplete)&&L.userComplete(P),L.terminate(),delete l[v]}function A(){throw new Error("Not implemented.")}function E(v){if(typeof v!="object"||v===null)return v;var P,L=Array.isArray(v)?[]:{};for(P in v)L[P]=E(v[P]);return L}function I(v,P){return function(){v.apply(P,arguments)}}function _(v){return typeof v=="function"}return d.parse=function(v,P){var L=(P=P||{}).dynamicTyping||!1;if(_(L)&&(P.dynamicTypingFunction=L,L={}),P.dynamicTyping=L,P.transform=!!_(P.transform)&&P.transform,!P.worker||!d.WORKERS_SUPPORTED)return L=null,d.NODE_STREAM_INPUT,typeof v=="string"?(v=(S=>S.charCodeAt(0)!==65279?S:S.slice(1))(v),L=new(P.download?h:m)(P)):v.readable===!0&&_(v.read)&&_(v.on)?L=new g(P):(n.File&&v instanceof File||v instanceof Object)&&(L=new f(P)),L.stream(v);(L=(()=>{var S;return!!d.WORKERS_SUPPORTED&&(S=(()=>{var C=n.URL||n.webkitURL||null,O=s.toString();return d.BLOB_URL||(d.BLOB_URL=C.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",O,")();"],{type:"text/javascript"})))})(),(S=new n.Worker(S)).onmessage=b,S.id=c++,l[S.id]=S)})()).userStep=P.step,L.userChunk=P.chunk,L.userComplete=P.complete,L.userError=P.error,P.step=_(P.step),P.chunk=_(P.chunk),P.complete=_(P.complete),P.error=_(P.error),delete P.worker,L.postMessage({input:v,config:P,workerId:L.id})},d.unparse=function(v,P){var L=!1,S=!0,C=",",O=`\r
`,z='"',Z=z+z,q=!1,R=null,X=!1,$=((()=>{if(typeof P=="object"){if(typeof P.delimiter!="string"||d.BAD_DELIMITERS.filter(function(M){return P.delimiter.indexOf(M)!==-1}).length||(C=P.delimiter),typeof P.quotes!="boolean"&&typeof P.quotes!="function"&&!Array.isArray(P.quotes)||(L=P.quotes),typeof P.skipEmptyLines!="boolean"&&typeof P.skipEmptyLines!="string"||(q=P.skipEmptyLines),typeof P.newline=="string"&&(O=P.newline),typeof P.quoteChar=="string"&&(z=P.quoteChar),typeof P.header=="boolean"&&(S=P.header),Array.isArray(P.columns)){if(P.columns.length===0)throw new Error("Option columns is empty");R=P.columns}P.escapeChar!==void 0&&(Z=P.escapeChar+z),P.escapeFormulae instanceof RegExp?X=P.escapeFormulae:typeof P.escapeFormulae=="boolean"&&P.escapeFormulae&&(X=/^[=+\-@\t\r].*$/)}})(),new RegExp(j(z),"g"));if(typeof v=="string"&&(v=JSON.parse(v)),Array.isArray(v)){if(!v.length||Array.isArray(v[0]))return J(null,v,q);if(typeof v[0]=="object")return J(R||Object.keys(v[0]),v,q)}else if(typeof v=="object")return typeof v.data=="string"&&(v.data=JSON.parse(v.data)),Array.isArray(v.data)&&(v.fields||(v.fields=v.meta&&v.meta.fields||R),v.fields||(v.fields=Array.isArray(v.data[0])?v.fields:typeof v.data[0]=="object"?Object.keys(v.data[0]):[]),Array.isArray(v.data[0])||typeof v.data[0]=="object"||(v.data=[v.data])),J(v.fields||[],v.data||[],q);throw new Error("Unable to serialize unrecognized input");function J(M,T,B){var K="",Y=(typeof M=="string"&&(M=JSON.parse(M)),typeof T=="string"&&(T=JSON.parse(T)),Array.isArray(M)&&0<M.length),re=!Array.isArray(T[0]);if(Y&&S){for(var ie=0;ie<M.length;ie++)0<ie&&(K+=C),K+=se(M[ie],ie);0<T.length&&(K+=O)}for(var he=0;he<T.length;he++){var Ce=(Y?M:T[he]).length,be=!1,Fe=Y?Object.keys(T[he]).length===0:T[he].length===0;if(B&&!Y&&(be=B==="greedy"?T[he].join("").trim()==="":T[he].length===1&&T[he][0].length===0),B==="greedy"&&Y){for(var Re=[],He=0;He<Ce;He++){var ke=re?M[He]:He;Re.push(T[he][ke])}be=Re.join("").trim()===""}if(!be){for(var ae=0;ae<Ce;ae++){0<ae&&!Fe&&(K+=C);var et=Y&&re?M[ae]:ae;K+=se(T[he][et],ae)}he<T.length-1&&(!B||0<Ce&&!Fe)&&(K+=O)}}return K}function se(M,T){var B,K;return M==null?"":M.constructor===Date?JSON.stringify(M).slice(1,25):(K=!1,X&&typeof M=="string"&&X.test(M)&&(M="'"+M,K=!0),B=M.toString().replace($,Z),(K=K||L===!0||typeof L=="function"&&L(M,T)||Array.isArray(L)&&L[T]||((Y,re)=>{for(var ie=0;ie<re.length;ie++)if(-1<Y.indexOf(re[ie]))return!0;return!1})(B,d.BAD_DELIMITERS)||-1<B.indexOf(C)||B.charAt(0)===" "||B.charAt(B.length-1)===" ")?z+B+z:B)}},d.RECORD_SEP="",d.UNIT_SEP="",d.BYTE_ORDER_MARK="\uFEFF",d.BAD_DELIMITERS=["\r",`
`,'"',d.BYTE_ORDER_MARK],d.WORKERS_SUPPORTED=!i&&!!n.Worker,d.NODE_STREAM_INPUT=1,d.LocalChunkSize=10485760,d.RemoteChunkSize=5242880,d.DefaultDelimiter=",",d.Parser=y,d.ParserHandle=x,d.NetworkStreamer=h,d.FileStreamer=f,d.StringStreamer=m,d.ReadableStreamStreamer=g,n.jQuery&&((a=n.jQuery).fn.parse=function(v){var P=v.config||{},L=[];return this.each(function(O){if(!(a(this).prop("tagName").toUpperCase()==="INPUT"&&a(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var z=0;z<this.files.length;z++)L.push({file:this.files[z],inputElem:this,instanceConfig:a.extend({},P)})}),S(),this;function S(){if(L.length===0)_(v.complete)&&v.complete();else{var O,z,Z,q,R=L[0];if(_(v.before)){var X=v.before(R.file,R.inputElem);if(typeof X=="object"){if(X.action==="abort")return O="AbortError",z=R.file,Z=R.inputElem,q=X.reason,void(_(v.error)&&v.error({name:O},z,Z,q));if(X.action==="skip")return void C();typeof X.config=="object"&&(R.instanceConfig=a.extend(R.instanceConfig,X.config))}else if(X==="skip")return void C()}var $=R.instanceConfig.complete;R.instanceConfig.complete=function(J){_($)&&$(J,R.file,R.inputElem),C()},d.parse(R.file,R.instanceConfig)}}function C(){L.splice(0,1),S()}}),o&&(n.onmessage=function(v){v=v.data,d.WORKER_ID===void 0&&v&&(d.WORKER_ID=v.workerId),typeof v.input=="string"?n.postMessage({workerId:d.WORKER_ID,results:d.parse(v.input,v.config),finished:!0}):(n.File&&v.input instanceof File||v.input instanceof Object)&&(v=d.parse(v.input,v.config))&&n.postMessage({workerId:d.WORKER_ID,results:v,finished:!0})}),(h.prototype=Object.create(u.prototype)).constructor=h,(f.prototype=Object.create(u.prototype)).constructor=f,(m.prototype=Object.create(m.prototype)).constructor=m,(g.prototype=Object.create(u.prototype)).constructor=g,d})})($4);var BV=$4.exports;const fl=Qr(BV),qV=()=>{const{products:t,loading:e,error:s,fetchProducts:n,deleteProduct:a}=xn(),[i,o]=U.useState(""),[l,c]=U.useState([]),[d,u]=U.useState("all"),[h,f]=U.useState("all"),[m,g]=U.useState(null);xn(),U.useEffect(()=>{n().catch(v=>{fe.error("Failed to load products")})},[n]);const[x,j]=U.useState(!1),y=["all",...new Set(t.map(v=>v.category||"Uncategorized").filter(Boolean))],b=t.filter(v=>{const P=v.name?.toLowerCase().includes(i.toLowerCase())||v.sku?.toLowerCase().includes(i.toLowerCase())||v.description?.toLowerCase().includes(i.toLowerCase())||v.category?.toLowerCase().includes(i.toLowerCase()),L=d==="all"||v.category===d||d==="Uncategorized"&&!v.category,S=h==="all"||v.status===h;return P&&L&&S}),k=()=>{l.length===b.length?c([]):c(b.map(v=>v.id))},A=v=>{l.includes(v)?c(l.filter(P=>P!==v)):c([...l,v])},E=async v=>{g(v)},I=async()=>{if(m)try{await a(m),fe.success("Product deleted successfully")}catch{fe.error("Failed to delete product")}},_=async v=>{const P=v.target.files?.[0];if(P){j(!0);try{const L=await P.text();fl.parse(L,{header:!0,skipEmptyLines:!0,complete:async S=>{const{data:C,errors:O}=S;if(O.length>0){fe.error("Error parsing CSV file"),console.error("CSV parsing errors:",O);return}let z=0,Z=0;for(const q of C)try{const R={name:q.name||q.product_name,sku:q.sku||q.product_sku,description:q.description,price:parseFloat(q.price)||0,cost:parseFloat(q.cost)||0,stock:parseInt(q.stock)||0,category:q.category};if(!R.name||!R.sku)throw new Error("Name and SKU are required");await createProduct(R),z++}catch(R){console.error("Error importing product:",R),Z++}fe.success(`Imported ${z} products successfully${Z>0?` (${Z} failed)`:""}`),n()},error:S=>{console.error("CSV parsing error:",S),fe.error("Failed to parse CSV file")}})}catch(L){console.error("File upload error:",L),fe.error("Failed to upload file")}finally{j(!1),v.target.value=""}}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h1",{className:"text-2xl font-bold text-white",children:"Products"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("div",{className:"relative hidden md:block",children:[r.jsx("input",{type:"file",accept:".csv",onChange:_,className:"hidden",id:"csv-upload",disabled:x}),r.jsxs("label",{htmlFor:"csv-upload",className:"btn btn-secondary flex items-center space-x-2 cursor-pointer",children:[r.jsx(En,{size:16,className:x?"animate-bounce":""}),r.jsx("span",{children:x?"Importing...":"Import CSV"})]})]}),r.jsxs(de,{to:"/products/new",className:"btn btn-primary flex items-center space-x-2",children:[r.jsx(cr,{size:16}),r.jsx("span",{children:"Add Product"})]})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(er,{size:18,className:"text-gray-400"})}),r.jsx("input",{type:"text",placeholder:"Search products...",className:"input pl-10",value:i,onChange:v=>o(v.target.value)})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("select",{className:"bg-dark-800 border border-dark-700 text-white rounded-md px-3 py-2",value:d,onChange:v=>u(v.target.value),children:[r.jsx("option",{value:"all",children:"All Categories"}),y.filter(v=>v!=="all").map(v=>r.jsx("option",{value:v,children:v},v))]}),r.jsxs("select",{className:"bg-dark-800 border border-dark-700 text-white rounded-md px-3 py-2",value:h,onChange:v=>f(v.target.value),children:[r.jsx("option",{value:"all",children:"All Statuses"}),r.jsx("option",{value:"In Stock",children:"In Stock"}),r.jsx("option",{value:"Low Stock",children:"Low Stock"}),r.jsx("option",{value:"Out of Stock",children:"Out of Stock"})]}),r.jsxs("button",{className:"btn btn-secondary flex items-center space-x-2",children:[r.jsx(lr,{size:16}),r.jsx("span",{children:"Export"})]})]})]}),s&&r.jsx("div",{className:"bg-red-900/50 border border-red-800 text-red-300 px-4 py-3 rounded-md",children:s}),e&&r.jsxs("div",{className:"text-center py-4",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-500 mx-auto"}),r.jsx("p",{className:"mt-2 text-gray-400",children:"Loading products..."})]}),r.jsxs("div",{className:"bg-dark-800 rounded-lg border border-dark-700 overflow-hidden",children:[!e&&b.length>0?r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-dark-700",children:[r.jsx("th",{className:"px-4 py-3 text-left",children:r.jsx("div",{className:"flex items-center",children:r.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-600 bg-dark-800 text-primary-600 focus:ring-primary-500",checked:l.length===b.length&&b.length>0,onChange:k})})}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Product"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Category"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Price"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Cost"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Stock"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-dark-700",children:b.map(v=>r.jsxs("tr",{className:"hover:bg-dark-700/50",children:[r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-600 bg-dark-800 text-primary-600 focus:ring-primary-500",checked:l.includes(v.id),onChange:()=>A(v.id)})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsx("div",{className:"flex items-center",children:r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-white",children:r.jsx(de,{to:`/products/${v.id}`,className:"hover:text-primary-400",children:v.name})}),r.jsxs("div",{className:"text-sm text-gray-400",children:["SKU: ",v.sku]})]})})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsx("span",{className:"text-sm text-gray-300",children:v.category||"Uncategorized"})}),r.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:["$",v.price?.toFixed(2)||"0.00"]}),r.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:["$",v.cost?.toFixed(2)||"0.00"]}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:v.stock||"0"}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${v.status==="In Stock"?"bg-green-900/30 text-green-400":v.status==="Low Stock"?"bg-yellow-900/30 text-yellow-400":"bg-red-900/30 text-red-400"}`,children:v.status})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-right text-sm font-medium",children:r.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[r.jsx(de,{to:`/products/${v.id}`,className:"text-gray-400 hover:text-white",children:r.jsx(Pn,{size:16})}),r.jsx(de,{to:`/products/${v.id}/edit`,className:"text-gray-400 hover:text-white",children:r.jsx(Or,{size:16})}),r.jsx("button",{className:"text-gray-400 hover:text-red-500",onClick:()=>E(v.id),children:r.jsx(Ys,{size:16})})]})})]},v.id))})]})}):!e&&r.jsx("div",{className:"text-center py-12",children:r.jsxs("div",{className:"flex flex-col items-center justify-center",children:[r.jsx(cr,{size:48,className:"text-gray-600 mb-4"}),r.jsx("p",{className:"text-gray-400 text-lg mb-2",children:"No products found"}),r.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Get started by adding your first product"}),r.jsxs(de,{to:"/products/new",className:"btn btn-primary flex items-center space-x-2",children:[r.jsx(cr,{size:16}),r.jsx("span",{children:"Add Product"})]})]})}),b.length>0&&r.jsxs("div",{className:"bg-dark-800 px-4 py-3 flex items-center justify-between border-t border-dark-700",children:[r.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[r.jsx("button",{className:"btn btn-secondary",children:"Previous"}),r.jsx("button",{className:"btn btn-secondary",children:"Next"})]}),r.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[r.jsx("div",{children:r.jsxs("p",{className:"text-sm text-gray-400",children:["Showing ",r.jsx("span",{className:"font-medium",children:"1"})," to ",r.jsx("span",{className:"font-medium",children:b.length})," of"," ",r.jsx("span",{className:"font-medium",children:b.length})," results"]})}),r.jsx("div",{children:r.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[r.jsxs("button",{className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-dark-600 bg-dark-700 text-sm font-medium text-gray-400 hover:bg-dark-600",children:[r.jsx("span",{className:"sr-only",children:"Previous"}),r.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:r.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),r.jsx("button",{className:"relative inline-flex items-center px-4 py-2 border border-dark-600 bg-dark-700 text-sm font-medium text-gray-400 hover:bg-dark-600",children:"1"}),r.jsxs("button",{className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-dark-600 bg-dark-700 text-sm font-medium text-gray-400 hover:bg-dark-600",children:[r.jsx("span",{className:"sr-only",children:"Next"}),r.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:r.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})})]})]})]}),r.jsx(Lc,{isOpen:!!m,onClose:()=>g(null),onConfirm:I,title:"Delete item?",message:"Are you sure?",confirmButtonText:"Delete",cancelButtonText:"Cancel",isDanger:!0})]})},HV=()=>{const t=Qt(),{createProduct:e,loading:s,error:n,clearError:a}=xn(),{register:i,handleSubmit:o,formState:{errors:l}}=Ds({defaultValues:{name:"",sku:"SKU-",description:"",price:0,cost:0,stock:0,category:""}}),c=async d=>{a();try{const u=await e(d);fe.success("Product created successfully!"),t("/products")}catch(u){console.error("Error creating product:",u),fe.error("Failed to create product. Please try again.")}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(de,{to:"/products",className:"btn btn-secondary p-2",children:r.jsx(ss,{size:20})}),r.jsx("h1",{className:"text-2xl font-bold text-white",children:"Add New Product"})]}),n&&r.jsx("div",{className:"bg-red-900/50 border border-red-800 text-red-300 px-4 py-3 rounded-md",children:n}),r.jsxs("form",{onSubmit:o(c),className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[r.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Basic Information"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-300 mb-1",children:["Product Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{id:"name",type:"text",className:"input",placeholder:"Product name",...i("name",{required:"Product name is required"})}),l.name&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:l.name.message})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"sku",className:"block text-sm font-medium text-gray-300 mb-1",children:["SKU ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{id:"sku",type:"text",className:"input",...i("sku",{required:"SKU is required",maxLength:{value:20,message:"SKU cannot exceed 20 characters"},validate:{hasPrefix:d=>d.startsWith("SKU-")||'SKU must start with "SKU-"',validLength:d=>d.length-4<=16||"SKU number cannot exceed 16 characters"},onChange:d=>{d.target.value.startsWith("SKU-")||(d.target.value="SKU-"+d.target.value.replace("SKU-","")),d.target.value==="SKU"&&(d.target.value="SKU-")}}),onKeyDown:d=>{(d.key==="Backspace"||d.key==="Delete")&&d.target.value.length<=4&&d.preventDefault()}}),l.sku&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:l.sku.message})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-300 mb-1",children:"Category"}),r.jsx("input",{id:"category",type:"text",className:"input",placeholder:"Category",...i("category")})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-300 mb-1",children:"Description"}),r.jsx("textarea",{id:"description",rows:4,className:"input",placeholder:"Product description",...i("description")})]})]})]}),r.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[r.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Pricing & Inventory"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-300 mb-1",children:["Selling Price ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx("span",{className:"text-gray-400",children:"$"})}),r.jsx("input",{id:"price",type:"number",step:"0.01",min:"0",className:"input pl-8",placeholder:"0.00",...i("price",{required:"Price is required",min:{value:0,message:"Price cannot be negative"},valueAsNumber:!0})})]}),l.price&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:l.price.message})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"cost",className:"block text-sm font-medium text-gray-300 mb-1",children:"Cost Price"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx("span",{className:"text-gray-400",children:"$"})}),r.jsx("input",{id:"cost",type:"number",step:"0.01",min:"0",className:"input pl-8",placeholder:"0.00",...i("cost",{min:{value:0,message:"Cost cannot be negative"},valueAsNumber:!0})})]}),l.cost&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:l.cost.message})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"stock",className:"block text-sm font-medium text-gray-300 mb-1",children:"Initial Stock"}),r.jsx("input",{id:"stock",type:"number",min:"0",step:"1",className:"input",placeholder:"0",...i("stock",{min:{value:0,message:"Stock cannot be negative"},valueAsNumber:!0})}),l.stock&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:l.stock.message})]}),r.jsxs("div",{className:"pt-4",children:[r.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Stock Status"}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-900/30 text-green-400",children:"Will be set automatically based on stock level"})})]})]})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{type:"submit",className:"btn btn-primary flex items-center space-x-2",disabled:s,children:s?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white"}),r.jsx("span",{children:"Saving..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(oa,{size:16}),r.jsx("span",{children:"Save Product"})]})})})]})]})},WV=()=>{const{id:t}=Mn(),e=Qt(),{getProductById:s,deleteProduct:n,updateStock:a,loading:i,error:o}=xn(),[l,c]=U.useState(null),[d,u]=U.useState(0),[h,f]=U.useState(!1),[m,g]=U.useState(!1);U.useEffect(()=>{t&&s(t).then(b=>{b?c(b):(fe.error("Product not found"),e("/products"))}).catch(b=>{fe.error("Failed to load product details")})},[t,s,e]);const x=async()=>{g(!0)},j=async()=>{if(t)try{await n(t),fe.success("Product deleted successfully"),e("/products")}catch{fe.error("Failed to delete product")}},y=async()=>{if(!(!t||!d))try{const b=await a(t,d);c(b),fe.success(`Stock ${d>0?"increased":"decreased"} successfully`),u(0),f(!1)}catch{fe.error("Failed to adjust stock")}};return i?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-400",children:"Loading product details..."})]}):o?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("p",{className:"text-red-400 text-lg",children:o}),r.jsx(de,{to:"/products",className:"btn btn-primary mt-4",children:"Back to Products"})]}):l?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(de,{to:"/products",className:"btn btn-secondary p-2",children:r.jsx(ss,{size:20})}),r.jsx("h1",{className:"text-2xl font-bold text-white",children:l.name})]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsxs(de,{to:`/products/${t}/edit`,className:"btn btn-primary flex items-center space-x-2",children:[r.jsx(Or,{size:16}),r.jsx("span",{children:"Edit Product"})]}),r.jsxs("button",{className:"btn btn-secondary flex items-center space-x-2",onClick:()=>f(!h),children:[r.jsx(Um,{size:16}),r.jsx("span",{children:"Adjust Stock"})]}),r.jsxs("button",{className:"btn btn-danger flex items-center space-x-2",onClick:x,children:[r.jsx(Ys,{size:16}),r.jsx("span",{children:"Delete"})]})]}),h&&r.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[r.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Adjust Stock"}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{children:[r.jsx("label",{htmlFor:"adjustQuantity",className:"block text-sm font-medium text-gray-300 mb-1",children:"Quantity Change"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("input",{id:"adjustQuantity",type:"number",className:"input",value:d,onChange:b=>u(parseInt(b.target.value)),placeholder:"Enter quantity (positive to add, negative to remove)"}),r.jsx("button",{className:"btn btn-primary",onClick:y,disabled:!d,children:"Apply"})]}),r.jsx("p",{className:"mt-1 text-sm text-gray-400",children:"Use positive numbers to add stock, negative to remove."})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[r.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Product Information"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"text-gray-400",children:r.jsx(cr,{size:18})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Name"}),r.jsx("p",{className:"text-white",children:l.name})]})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"text-gray-400",children:r.jsx(kC,{size:18})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"SKU"}),r.jsx("p",{className:"text-white",children:l.sku})]})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"text-gray-400",children:r.jsx(Um,{size:18})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Category"}),r.jsx("p",{className:"text-white",children:l.category||"Uncategorized"})]})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"text-gray-400",children:r.jsx(Uf,{size:18})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Status"}),r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${l.status==="In Stock"?"bg-green-900/30 text-green-400":l.status==="Low Stock"?"bg-yellow-900/30 text-yellow-400":"bg-red-900/30 text-red-400"}`,children:l.status})]})]})]}),r.jsxs("div",{className:"mt-6",children:[r.jsx("h3",{className:"text-md font-medium text-white mb-2",children:"Description"}),r.jsx("p",{className:"text-gray-300 text-sm",children:l.description||"No description available"})]})]}),r.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[r.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Pricing & Inventory"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-dark-700 rounded-md p-4",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 rounded-md bg-green-500/20 text-green-500",children:r.jsx(us,{size:20})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Selling Price"}),r.jsxs("p",{className:"text-xl font-semibold text-white",children:["$",l.price?.toFixed(2)||"0.00"]})]})]})}),r.jsx("div",{className:"bg-dark-700 rounded-md p-4",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 rounded-md bg-blue-500/20 text-blue-500",children:r.jsx(us,{size:20})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Cost Price"}),r.jsxs("p",{className:"text-xl font-semibold text-white",children:["$",l.cost?.toFixed(2)||"0.00"]})]})]})}),r.jsx("div",{className:"bg-dark-700 rounded-md p-4",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 rounded-md bg-purple-500/20 text-purple-500",children:r.jsx(Um,{size:20})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Current Stock"}),r.jsxs("p",{className:"text-xl font-semibold text-white",children:[l.stock||0," units"]})]})]})}),r.jsx("div",{className:"bg-dark-700 rounded-md p-4",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 rounded-md bg-yellow-500/20 text-yellow-500",children:r.jsx(un,{size:20})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Stock Value"}),r.jsxs("p",{className:"text-xl font-semibold text-white",children:["$",((l.stock||0)*(l.cost||0)).toFixed(2)]})]})]})})]})]})]}),r.jsx(Lc,{isOpen:m,onClose:()=>g(!1),onConfirm:j,title:"Delete item?",message:"Are you sure?",confirmButtonText:"Delete",cancelButtonText:"Cancel",isDanger:!0}),r.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[r.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Stock Movement History"}),r.jsx("div",{className:"text-center py-6",children:r.jsx("p",{className:"text-gray-400",children:"No stock movement history available yet"})})]})]}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx("p",{className:"text-gray-400 text-lg",children:"Product not found"}),r.jsx(de,{to:"/products",className:"btn btn-primary mt-4",children:"Back to Products"})]})},UV=()=>{const{id:t}=Mn(),e=Qt(),{getProductById:s,updateProduct:n,loading:a,error:i,clearError:o}=xn(),[l,c]=U.useState(null),{register:d,handleSubmit:u,formState:{errors:h},reset:f}=Ds();U.useEffect(()=>{t&&s(t).then(g=>{g?(c(g),f(g)):(fe.error("Product not found"),e("/products"))}).catch(g=>{fe.error("Failed to load product details")})},[t,s,e,f]);const m=async g=>{if(t){o();try{await n(t,g),fe.success("Product updated successfully!"),e(`/products/${t}`)}catch(x){console.error("Error updating product:",x),fe.error("Failed to update product. Please try again.")}}};return a&&!l?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-400",children:"Loading product details..."})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(de,{to:`/products/${t}`,className:"btn btn-secondary p-2",children:r.jsx(ss,{size:20})}),r.jsx("h1",{className:"text-2xl font-bold text-white",children:"Edit Product"})]}),i&&r.jsx("div",{className:"bg-red-900/50 border border-red-800 text-red-300 px-4 py-3 rounded-md",children:i}),l&&r.jsxs("form",{onSubmit:u(m),className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[r.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Basic Information"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-300 mb-1",children:["Product Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{id:"name",type:"text",className:"input",placeholder:"Product name",...d("name",{required:"Product name is required"})}),h.name&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:h.name.message})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"sku",className:"block text-sm font-medium text-gray-300 mb-1",children:["SKU ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{id:"sku",type:"text",className:"input",placeholder:"SKU-12345",...d("sku",{required:"SKU is required"})}),h.sku&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:h.sku.message})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-300 mb-1",children:"Category"}),r.jsx("input",{id:"category",type:"text",className:"input",placeholder:"Category",...d("category")})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-300 mb-1",children:"Description"}),r.jsx("textarea",{id:"description",rows:4,className:"input",placeholder:"Product description",...d("description")})]})]})]}),r.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[r.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Pricing & Inventory"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-300 mb-1",children:["Selling Price ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx("span",{className:"text-gray-400",children:"$"})}),r.jsx("input",{id:"price",type:"number",step:"0.01",min:"0",className:"input pl-8",placeholder:"0.00",...d("price",{required:"Price is required",min:{value:0,message:"Price cannot be negative"},valueAsNumber:!0})})]}),h.price&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:h.price.message})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"cost",className:"block text-sm font-medium text-gray-300 mb-1",children:"Cost Price"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx("span",{className:"text-gray-400",children:"$"})}),r.jsx("input",{id:"cost",type:"number",step:"0.01",min:"0",className:"input pl-8",placeholder:"0.00",...d("cost",{min:{value:0,message:"Cost cannot be negative"},valueAsNumber:!0})})]}),h.cost&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:h.cost.message})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"stock",className:"block text-sm font-medium text-gray-300 mb-1",children:"Current Stock"}),r.jsx("input",{id:"stock",type:"number",min:"0",step:"1",className:"input",placeholder:"0",...d("stock",{min:{value:0,message:"Stock cannot be negative"},valueAsNumber:!0})}),h.stock&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:h.stock.message})]}),r.jsxs("div",{className:"pt-4",children:[r.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Stock Status"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${l.status==="In Stock"?"bg-green-900/30 text-green-400":l.status==="Low Stock"?"bg-yellow-900/30 text-yellow-400":"bg-red-900/30 text-red-400"}`,children:l.status}),r.jsx("span",{className:"text-xs text-gray-400",children:"(Will update automatically based on stock level)"})]})]})]})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{type:"submit",className:"btn btn-primary flex items-center space-x-2",disabled:a,children:a?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white"}),r.jsx("span",{children:"Saving..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(oa,{size:16}),r.jsx("span",{children:"Update Product"})]})})})]})]})},VV=()=>{const{products:t,loading:e,error:s,fetchProducts:n,deleteProduct:a,updateProduct:i}=xn(),[o,l]=U.useState("");U.useState([]);const[c,d]=U.useState(null),[u,h]=U.useState(""),{totalProducts:f}=xn(),[m,g]=U.useState(!1);U.useEffect(()=>{n().catch(E=>{fe.error("Failed to load products")})},[n]);const x=t.filter(E=>E?.name?.toLowerCase().includes(o.toLowerCase())||E?.sku?.toLowerCase().includes(o.toLowerCase())||E?.category?.toLowerCase().includes(o.toLowerCase())),j=async E=>{const I=E.target.files?.[0];if(I){g(!0);try{const _=await I.text();fl.parse(_,{header:!0,skipEmptyLines:!0,complete:async v=>{const{data:P,errors:L}=v;if(L.length>0){fe.error("Error parsing CSV file"),console.error("CSV parsing errors:",L);return}let S=0,C=0;for(const O of P)try{const z={product_id:O.product_id,quantity:parseInt(O.quantity)||0,location:O.location,notes:O.notes};S++}catch(z){console.error("Error importing inventory:",z),C++}fe.success(`Imported ${S} items successfully${C>0?` (${C} failed)`:""}`)}})}catch(_){console.error("File upload error:",_),fe.error("Failed to upload file")}finally{g(!1),E.target.value=""}}},y=(E,I,_)=>{d({id:E,field:I}),h(_.toString())},b=async(E,I)=>{try{const _=I==="stock"?parseInt(u):u;await i(E,{[I]:_,updated_at:new Date().toISOString()}),d(null),h(""),fe.success("Updated successfully")}catch(_){console.error("Error updating product:",_),fe.error("Failed to update")}},k=(E,I,_)=>{E.key==="Enter"?b(I,_):E.key==="Escape"&&(d(null),h(""))},A=async(E,I)=>{const _=t.find(P=>P.id===E);if(!_)return;const v=Math.max(0,(_.stock||0)+I);try{await i(E,{stock:v,updated_at:new Date().toISOString()}),fe.success(`Stock ${I>0?"increased":"decreased"} successfully`)}catch(P){console.error("Error adjusting stock:",P),fe.error("Failed to adjust stock")}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h1",{className:"text-2xl font-bold text-white",children:"Inventory Management"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"file",accept:".csv",onChange:j,className:"hidden",id:"csv-upload",disabled:m}),r.jsxs("label",{htmlFor:"csv-upload",className:"btn btn-secondary flex items-center space-x-2 cursor-pointer",children:[r.jsx(En,{size:16,className:m?"animate-bounce":""}),r.jsx("span",{children:m?"Importing...":"Import CSV"})]})]}),r.jsxs("button",{className:"btn btn-secondary flex items-center space-x-2",children:[r.jsx(cr,{size:16}),r.jsx("span",{children:"Adjust Stock"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsx("div",{className:"card bg-dark-800 border border-dark-700",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Total Products"}),r.jsx("h3",{className:"text-2xl font-bold text-white mt-1",children:f})]}),r.jsx("div",{className:"p-3 rounded-lg bg-blue-500/20 text-blue-500",children:r.jsx(cr,{size:24})})]})}),r.jsx("div",{className:"card bg-dark-800 border border-dark-700",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Low Stock Items"}),r.jsx("h3",{className:"text-2xl font-bold text-white mt-1",children:"0"})]}),r.jsx("div",{className:"p-3 rounded-lg bg-yellow-500/20 text-yellow-500",children:r.jsx(Ax,{size:24})})]})}),r.jsx("div",{className:"card bg-dark-800 border border-dark-700",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Out of Stock Items"}),r.jsx("h3",{className:"text-2xl font-bold text-white mt-1",children:"0"})]}),r.jsx("div",{className:"p-3 rounded-lg bg-red-500/20 text-red-500",children:r.jsx(Ax,{size:24})})]})})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(er,{size:18,className:"text-gray-400"})}),r.jsx("input",{type:"text",placeholder:"Search inventory...",className:"input pl-10",value:o,onChange:E=>l(E.target.value)})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{className:"btn btn-secondary flex items-center space-x-2",children:[r.jsx(ao,{size:16}),r.jsx("span",{children:"Filter"})]}),r.jsxs("button",{className:"btn btn-secondary flex items-center space-x-2",children:[r.jsx(lr,{size:16}),r.jsx("span",{children:"Export"})]})]})]}),r.jsxs("div",{className:"bg-dark-800 rounded-lg border border-dark-700 overflow-hidden",children:[x.length>0?r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-dark-700",children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Product"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Category"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Current Stock"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Min Stock"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Reorder Point"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Last Updated"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-dark-700",children:x.map(E=>r.jsxs("tr",{className:"hover:bg-dark-700/50",children:[r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsx("div",{className:"flex items-center",children:r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-white cursor-pointer hover:text-primary-400",onClick:()=>y(E.id,"name",E.name),children:c?.id===E.id&&c.field==="name"?r.jsx("input",{type:"text",className:"input py-1 px-2",value:u,onChange:I=>h(I.target.value),onBlur:()=>b(E.id,"name"),onKeyDown:I=>k(I,E.id,"name"),autoFocus:!0}):E.name}),r.jsxs("div",{className:"text-sm text-gray-400",children:["SKU: ",E.sku]})]})})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-300 cursor-pointer hover:text-primary-400",onClick:()=>y(E.id,"category",E.category||""),children:c?.id===E.id&&c.field==="category"?r.jsx("input",{type:"text",className:"input py-1 px-2",value:u,onChange:I=>h(I.target.value),onBlur:()=>b(E.id,"category"),onKeyDown:I=>k(I,E.id,"category"),autoFocus:!0}):E.category||"Uncategorized"})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:r.jsx("div",{className:"cursor-pointer hover:text-primary-400",onClick:()=>y(E.id,"stock",E.stock||0),children:c?.id===E.id&&c.field==="stock"?r.jsx("input",{type:"number",min:"0",className:"input py-1 px-2 w-24 text-right",value:u,onChange:I=>h(I.target.value),onBlur:()=>b(E.id,"stock"),onKeyDown:I=>k(I,E.id,"stock"),autoFocus:!0}):E.stock||0})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:r.jsx("div",{className:"cursor-pointer hover:text-primary-400",onClick:()=>y(E.id,"minStock",E.minStock||0),children:c?.id===E.id&&c.field==="minStock"?r.jsx("input",{type:"number",min:"0",className:"input py-1 px-2 w-24 text-right",value:u,onChange:I=>h(I.target.value),onBlur:()=>b(E.id,"minStock"),onKeyDown:I=>k(I,E.id,"minStock"),autoFocus:!0}):E.minStock||0})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:r.jsx("div",{className:"cursor-pointer hover:text-primary-400",onClick:()=>y(E.id,"reorderPoint",E.reorderPoint||0),children:c?.id===E.id&&c.field==="reorderPoint"?r.jsx("input",{type:"number",min:"0",className:"input py-1 px-2 w-24 text-right",value:u,onChange:I=>h(I.target.value),onBlur:()=>b(E.id,"reorderPoint"),onKeyDown:I=>k(I,E.id,"reorderPoint"),autoFocus:!0}):E.reorderPoint||0})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:E.updated_at?new Date(E.updated_at).toLocaleDateString():"-"}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${E.status==="In Stock"?"bg-green-900/30 text-green-400":E.status==="Low Stock"?"bg-yellow-900/30 text-yellow-400":"bg-red-900/30 text-red-400"}`,children:E.status})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-right text-sm font-medium",children:r.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[r.jsx("button",{className:"text-gray-400 hover:text-green-500",onClick:()=>A(E.id,1),title:"Increase stock",children:r.jsx(eC,{size:16})}),r.jsx("button",{className:"text-gray-400 hover:text-red-500",onClick:()=>A(E.id,-1),title:"Decrease stock",children:r.jsx(Ax,{size:16})}),r.jsx("button",{className:"text-gray-400 hover:text-white",children:r.jsx(Or,{size:16})})]})})]},E.id))})]})}):r.jsx("div",{className:"text-center py-12",children:r.jsxs("div",{className:"flex flex-col items-center justify-center",children:[r.jsx(cr,{size:48,className:"text-gray-600 mb-4"}),r.jsx("p",{className:"text-gray-400 text-lg mb-2",children:"No inventory items found"}),r.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Add products to your inventory to get started"}),r.jsxs(de,{to:"/products/new",className:"btn btn-primary flex items-center space-x-2",children:[r.jsx(cr,{size:16}),r.jsx("span",{children:"Add Product"})]})]})}),x.length>0&&r.jsxs("div",{className:"bg-dark-800 px-4 py-3 flex items-center justify-between border-t border-dark-700",children:[r.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[r.jsx("button",{className:"btn btn-secondary",children:"Previous"}),r.jsx("button",{className:"btn btn-secondary",children:"Next"})]}),r.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[r.jsx("div",{children:r.jsxs("p",{className:"text-sm text-gray-400",children:["Showing ",r.jsx("span",{className:"font-medium",children:"1"})," to ",r.jsx("span",{className:"font-medium",children:x.length})," of"," ",r.jsx("span",{className:"font-medium",children:x.length})," results"]})}),r.jsx("div",{children:r.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[r.jsxs("button",{className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-dark-600 bg-dark-700 text-sm font-medium text-gray-400 hover:bg-dark-600",children:[r.jsx("span",{className:"sr-only",children:"Previous"}),r.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:r.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),r.jsx("button",{className:"relative inline-flex items-center px-4 py-2 border border-dark-600 bg-dark-700 text-sm font-medium text-gray-400 hover:bg-dark-600",children:"1"}),r.jsxs("button",{className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-dark-600 bg-dark-700 text-sm font-medium text-gray-400 hover:bg-dark-600",children:[r.jsx("span",{className:"sr-only",children:"Next"}),r.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:r.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})})]})]})]})]})},z4=({status:t})=>{let e="",s="";switch(t){case"Draft":e="bg-gray-700/30",s="text-gray-400";break;case"Issued":e="bg-blue-900/30",s="text-blue-400";break;case"Paid":e="bg-green-900/30",s="text-green-400";break;case"Part paid":e="bg-yellow-900/30",s="text-yellow-400";break;case"Cancelled":e="bg-red-900/30",s="text-red-400";break;case"Disputed":e="bg-purple-900/30",s="text-purple-400";break;case"On hold":e="bg-orange-900/30",s="text-orange-400";break;default:e="bg-gray-700/30",s="text-gray-400"}return r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${e} ${s}`,children:t})},YV=()=>{const{invoices:t,loading:e,error:s,fetchInvoices:n,deleteInvoice:a}=ho(),[i,o]=U.useState(""),[l,c]=U.useState([]),[d,u]=U.useState("all"),[h,f]=U.useState(!1),[m,g]=U.useState(null);U.useEffect(()=>{n().catch(I=>{fe.error("Failed to load invoices")})},[n]);const x=t.filter(I=>{const _=I.invoice_number?.toLowerCase().includes(i.toLowerCase())||I.customer_name?.toLowerCase().includes(i.toLowerCase()),v=d==="all"||I.status===d;return _&&v}),j=()=>{l.length===x.length?c([]):c(x.map(I=>I.id))},y=I=>{l.includes(I)?c(l.filter(_=>_!==I)):c([...l,I])},b=async I=>{g(I)},k=async()=>{if(m)try{await a(m),fe.success("Invoice deleted successfully"),g(null)}catch{fe.error("Failed to delete invoice")}},A=async()=>{if(l.length!==0&&window.confirm(`Are you sure you want to delete ${l.length} invoice${l.length>1?"s":""}?`))try{await Promise.all(l.map(I=>a(I))),fe.success(`Successfully deleted ${l.length} invoice${l.length>1?"s":""}`),c([])}catch(I){console.error("Error deleting invoices:",I),fe.error("Failed to delete some invoices")}},E=async I=>{const _=I.target.files?.[0];if(_){f(!0);try{const v=await _.text();fl.parse(v,{header:!0,skipEmptyLines:!0,complete:async P=>{const{data:L,errors:S}=P;if(S.length>0){fe.error("Error parsing CSV file"),console.error("CSV parsing errors:",S);return}let C=0,O=0;for(const z of L)try{const Z={customer_name:z.customer_name,customer_email:z.customer_email,date:z.date,due_date:z.due_date,items:JSON.parse(z.items||"[]"),tax_rate:parseFloat(z.tax_rate)||0,notes:z.notes};C++}catch(Z){console.error("Error importing invoice:",Z),O++}fe.success(`Imported ${C} invoices successfully${O>0?` (${O} failed)`:""}`)}})}catch(v){console.error("File upload error:",v),fe.error("Failed to upload file")}finally{f(!1),I.target.value=""}}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h1",{className:"text-2xl font-bold text-white",children:"Invoices"}),r.jsxs("div",{className:"flex space-x-2",children:[l.length>0&&r.jsxs("button",{onClick:A,className:"btn btn-danger flex items-center space-x-2",children:[r.jsx(Ys,{size:16}),r.jsxs("span",{children:["Delete Selected (",l.length,")"]})]}),r.jsxs("div",{className:"relative hidden md:block",children:[r.jsx("input",{type:"file",accept:".csv",onChange:E,className:"hidden",id:"csv-upload",disabled:h}),r.jsxs("label",{htmlFor:"csv-upload",className:"btn btn-secondary flex items-center space-x-2 cursor-pointer",children:[r.jsx(En,{size:16,className:h?"animate-bounce":""}),r.jsx("span",{children:h?"Importing...":"Import CSV"})]})]}),r.jsxs(de,{to:"/invoices/create",className:"btn btn-primary flex items-center space-x-2",children:[r.jsx(as,{size:16}),r.jsx("span",{children:"Create Invoice"})]})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(er,{size:18,className:"text-gray-400"})}),r.jsx("input",{type:"text",placeholder:"Search invoices...",className:"input pl-10",value:i,onChange:I=>o(I.target.value)})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("select",{className:"bg-dark-800 border border-dark-700 text-white rounded-md px-3 py-2",value:d,onChange:I=>u(I.target.value),children:[r.jsx("option",{value:"all",children:"All Statuses"}),r.jsx("option",{value:"Draft",children:"Draft"}),r.jsx("option",{value:"Issued",children:"Issued"}),r.jsx("option",{value:"Paid",children:"Paid"}),r.jsx("option",{value:"Part paid",children:"Part paid"}),r.jsx("option",{value:"Cancelled",children:"Cancelled"}),r.jsx("option",{value:"Disputed",children:"Disputed"}),r.jsx("option",{value:"On hold",children:"On hold"})]}),r.jsxs("button",{className:"btn btn-secondary flex items-center space-x-2",children:[r.jsx(lr,{size:16}),r.jsx("span",{children:"Export"})]})]})]}),s&&r.jsx("div",{className:"bg-red-900/50 border border-red-800 text-red-300 px-4 py-3 rounded-md",children:s}),e&&r.jsxs("div",{className:"text-center py-4",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-500 mx-auto"}),r.jsx("p",{className:"mt-2 text-gray-400",children:"Loading invoices..."})]}),r.jsxs("div",{className:"bg-dark-800 rounded-lg border border-dark-700 overflow-hidden",children:[!e&&x.length>0?r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-dark-700",children:[r.jsx("th",{className:"px-4 py-3 text-left",children:r.jsx("div",{className:"flex items-center",children:r.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-600 bg-dark-800 text-primary-600 focus:ring-primary-500",checked:l.length===x.length&&x.length>0,onChange:j})})}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Invoice #"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Customer"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Date"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Due Date"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Amount"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-dark-700",children:x.map(I=>r.jsxs("tr",{className:"hover:bg-dark-700/50",children:[r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-600 bg-dark-800 text-primary-600 focus:ring-primary-500",checked:l.includes(I.id),onChange:()=>y(I.id)})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsx(de,{to:`/invoices/${I.id}`,className:"text-white font-medium hover:text-primary-400",children:I.invoice_number})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsx("span",{className:"text-sm text-gray-300",children:I.customer_name})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:I.date?new Date(I.date).toLocaleDateString():"-"}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:I.due_date?new Date(I.due_date).toLocaleDateString():"-"}),r.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:["$",I.total.toLocaleString()]}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsx(z4,{status:I.status})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-right text-sm font-medium",children:r.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[r.jsx(de,{to:`/invoices/${I.id}`,className:"text-gray-400 hover:text-white",children:r.jsx(Pn,{size:16})}),r.jsx(de,{to:`/invoices/${I.id}/edit`,className:"text-gray-400 hover:text-white",children:r.jsx(Or,{size:16})}),r.jsx("button",{className:"text-gray-400 hover:text-red-500",onClick:()=>b(I.id),children:r.jsx(Ys,{size:16})})]})})]},I.id))})]})}):!e&&r.jsx("div",{className:"text-center py-12",children:r.jsxs("div",{className:"flex flex-col items-center justify-center",children:[r.jsx(wt,{size:48,className:"text-gray-600 mb-4"}),r.jsx("p",{className:"text-gray-400 text-lg mb-2",children:"No invoices found"}),r.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Get started by creating your first invoice"}),r.jsxs(de,{to:"/invoices/create",className:"btn btn-primary flex items-center space-x-2",children:[r.jsx(as,{size:16}),r.jsx("span",{children:"Create Invoice"})]})]})}),x.length>0&&r.jsxs("div",{className:"bg-dark-800 px-4 py-3 flex items-center justify-between border-t border-dark-700",children:[r.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[r.jsx("button",{className:"btn btn-secondary",children:"Previous"}),r.jsx("button",{className:"btn btn-secondary",children:"Next"})]}),r.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[r.jsx("div",{children:r.jsxs("p",{className:"text-sm text-gray-400",children:["Showing ",r.jsx("span",{className:"font-medium",children:"1"})," to ",r.jsx("span",{className:"font-medium",children:x.length})," of"," ",r.jsx("span",{className:"font-medium",children:x.length})," results"]})}),r.jsx("div",{children:r.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[r.jsxs("button",{className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-dark-600 bg-dark-700 text-sm font-medium text-gray-400 hover:bg-dark-600",children:[r.jsx("span",{className:"sr-only",children:"Previous"}),r.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:r.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),r.jsx("button",{className:"relative inline-flex items-center px-4 py-2 border border-dark-600 bg-dark-700 text-sm font-medium text-gray-400 hover:bg-dark-600",children:"1"}),r.jsxs("button",{className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-dark-600 bg-dark-700 text-sm font-medium text-gray-400 hover:bg-dark-600",children:[r.jsx("span",{className:"sr-only",children:"Next"}),r.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:r.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})})]})]})]}),r.jsx(Lc,{isOpen:!!m,onClose:()=>g(null),onConfirm:k,title:"Delete item?",message:"Are you sure?",confirmButtonText:"Delete",cancelButtonText:"Cancel",isDanger:!0})]})},j2=()=>{const{suppliers:t,loading:e,error:s,fetchSuppliers:n,deleteSupplier:a}=yp(),[i,o]=U.useState(""),[l,c]=U.useState([]);U.useEffect(()=>{n().catch(m=>{fe.error("Failed to load suppliers")})},[n]);const d=t.filter(m=>m?.name?.toLowerCase().includes(i.toLowerCase())||m?.email?.toLowerCase().includes(i.toLowerCase())||m?.phone?.includes(i)),u=()=>{l.length===d.length?c([]):c(d.map(m=>m.id))},h=m=>{l.includes(m)?c(l.filter(g=>g!==m)):c([...l,m])},f=async m=>{if(window.confirm("Are you sure you want to delete this supplier?"))try{await a(m),fe.success("Supplier deleted successfully")}catch{fe.error("Failed to delete supplier")}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h1",{className:"text-2xl font-bold text-white",children:"Suppliers"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(de,{to:"/settings?tab=integrations",className:"hidden md:flex btn btn-secondary items-center space-x-2",children:[r.jsx(En,{size:16}),r.jsx("span",{children:"Import CSV"})]}),r.jsxs(de,{to:"/suppliers/new",className:"btn btn-primary flex items-center space-x-2",children:[r.jsx(ra,{size:16}),r.jsx("span",{children:"Add Supplier"})]})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(er,{size:18,className:"text-gray-400"})}),r.jsx("input",{type:"text",placeholder:"Search suppliers...",className:"input pl-10",value:i,onChange:m=>o(m.target.value)})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{className:"btn btn-secondary flex items-center space-x-2",children:[r.jsx(ao,{size:16}),r.jsx("span",{children:"Filter"})]}),r.jsxs("button",{className:"btn btn-secondary flex items-center space-x-2",children:[r.jsx(lr,{size:16}),r.jsx("span",{children:"Export"})]})]})]}),s&&r.jsx("div",{className:"bg-red-900/50 border border-red-800 text-red-300 px-4 py-3 rounded-md",children:s}),e&&r.jsxs("div",{className:"text-center py-4",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-500 mx-auto"}),r.jsx("p",{className:"mt-2 text-gray-400",children:"Loading suppliers..."})]}),r.jsxs("div",{className:"bg-dark-800 rounded-lg border border-dark-700 overflow-hidden",children:[!e&&d.length>0?r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-dark-700",children:[r.jsx("th",{className:"px-4 py-3 text-left",children:r.jsx("div",{className:"flex items-center",children:r.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-600 bg-dark-800 text-primary-600 focus:ring-primary-500",checked:l.length===d.length&&d.length>0,onChange:u})})}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Supplier Name"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Contact"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-dark-700",children:d.map(m=>r.jsxs("tr",{className:"hover:bg-dark-700/50",children:[r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-600 bg-dark-800 text-primary-600 focus:ring-primary-500",checked:l.includes(m.id),onChange:()=>h(m.id)})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsx(de,{to:`/suppliers/${m.id}`,className:"text-white font-medium hover:text-primary-400",children:m.company})}),r.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm text-gray-300",children:m.email||"No email"}),r.jsx("div",{className:"text-sm text-gray-400",children:m.phone||"No phone"})]}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-right text-sm font-medium",children:r.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[r.jsx(de,{to:`/suppliers/${m.id}`,className:"text-gray-400 hover:text-white",children:r.jsx(Pn,{size:16})}),r.jsx(de,{to:`/suppliers/${m.id}/edit`,className:"text-gray-400 hover:text-white",children:r.jsx(Or,{size:16})}),r.jsx("button",{className:"text-gray-400 hover:text-red-500",onClick:()=>f(m.id),children:r.jsx(Ys,{size:16})})]})})]},m.id))})]})}):!e&&r.jsx("div",{className:"text-center py-12",children:r.jsxs("div",{className:"flex flex-col items-center justify-center",children:[r.jsx(ra,{size:48,className:"text-gray-600 mb-4"}),r.jsx("p",{className:"text-gray-400 text-lg mb-2",children:"No suppliers found"}),r.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Get started by adding your first supplier"}),r.jsxs(de,{to:"/suppliers/new",className:"btn btn-primary flex items-center space-x-2",children:[r.jsx(ra,{size:16}),r.jsx("span",{children:"Add Supplier"})]})]})}),d.length>0&&r.jsxs("div",{className:"bg-dark-800 px-4 py-3 flex items-center justify-between border-t border-dark-700",children:[r.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[r.jsx("button",{className:"btn btn-secondary",children:"Previous"}),r.jsx("button",{className:"btn btn-secondary",children:"Next"})]}),r.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[r.jsx("div",{children:r.jsxs("p",{className:"text-sm text-gray-400",children:["Showing ",r.jsx("span",{className:"font-medium",children:"1"})," to ",r.jsx("span",{className:"font-medium",children:d.length})," of"," ",r.jsx("span",{className:"font-medium",children:d.length})," results"]})}),r.jsx("div",{children:r.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[r.jsxs("button",{className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-dark-600 bg-dark-700 text-sm font-medium text-gray-400 hover:bg-dark-600",children:[r.jsx("span",{className:"sr-only",children:"Previous"}),r.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:r.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),r.jsx("button",{className:"relative inline-flex items-center px-4 py-2 border border-dark-600 bg-dark-700 text-sm font-medium text-gray-400 hover:bg-dark-600",children:"1"}),r.jsxs("button",{className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-dark-600 bg-dark-700 text-sm font-medium text-gray-400 hover:bg-dark-600",children:[r.jsx("span",{className:"sr-only",children:"Next"}),r.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:r.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})})]})]})]})]})},GV=({currentStatus:t,onStatusChange:e,disabled:s=!1})=>{const[n,a]=U.useState(!1),i=U.useRef(null),o=["Draft","Issued","Paid","Part paid","Cancelled","Disputed","On hold"];U.useEffect(()=>{const d=u=>{i.current&&!i.current.contains(u.target)&&a(!1)};return document.addEventListener("mousedown",d),()=>{document.removeEventListener("mousedown",d)}},[]);const l=d=>{switch(d){case"Draft":return"bg-gray-400";case"Issued":return"bg-blue-400";case"Paid":return"bg-green-400";case"Part paid":return"bg-yellow-400";case"Cancelled":return"bg-red-400";case"Disputed":return"bg-purple-400";case"On hold":return"bg-orange-400";default:return"bg-gray-400"}},c=d=>{e(d),a(!1)};return r.jsxs("div",{className:"relative",ref:i,children:[r.jsxs("button",{type:"button",className:"btn btn-secondary flex items-center space-x-2",onClick:()=>!s&&a(!n),disabled:s,children:[r.jsx("span",{children:"Mark as..."}),r.jsx(Da,{className:"h-4 w-4","aria-hidden":"true"})]}),n&&r.jsx("div",{className:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-dark-800 ring-1 ring-black ring-opacity-5 z-10 border border-dark-700",children:r.jsx("div",{className:"py-1",role:"menu","aria-orientation":"vertical","aria-labelledby":"options-menu",children:o.map(d=>r.jsx("button",{onClick:()=>c(d),className:`block w-full text-left px-4 py-2 text-sm hover:bg-dark-700 ${d===t?"bg-dark-700":""}`,role:"menuitem",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:`h-2 w-2 rounded-full ${l(d)} mr-2`}),r.jsx("span",{className:"text-white",children:d})]})},d))})})]})};var Nr=Uint8Array,mn=Uint16Array,Gy=Int32Array,bp=new Nr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),vp=new Nr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),cg=new Nr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),B4=function(t,e){for(var s=new mn(31),n=0;n<31;++n)s[n]=e+=1<<t[n-1];for(var a=new Gy(s[30]),n=1;n<30;++n)for(var i=s[n];i<s[n+1];++i)a[i]=i-s[n]<<5|n;return{b:s,r:a}},q4=B4(bp,2),H4=q4.b,dg=q4.r;H4[28]=258,dg[258]=28;var W4=B4(vp,0),KV=W4.b,N2=W4.r,ug=new mn(32768);for(var ts=0;ts<32768;++ts){var qi=(ts&43690)>>1|(ts&21845)<<1;qi=(qi&52428)>>2|(qi&13107)<<2,qi=(qi&61680)>>4|(qi&3855)<<4,ug[ts]=((qi&65280)>>8|(qi&255)<<8)>>1}var Ba=function(t,e,s){for(var n=t.length,a=0,i=new mn(e);a<n;++a)t[a]&&++i[t[a]-1];var o=new mn(e);for(a=1;a<e;++a)o[a]=o[a-1]+i[a-1]<<1;var l;if(s){l=new mn(1<<e);var c=15-e;for(a=0;a<n;++a)if(t[a])for(var d=a<<4|t[a],u=e-t[a],h=o[t[a]-1]++<<u,f=h|(1<<u)-1;h<=f;++h)l[ug[h]>>c]=d}else for(l=new mn(n),a=0;a<n;++a)t[a]&&(l[a]=ug[o[t[a]-1]++]>>15-t[a]);return l},to=new Nr(288);for(var ts=0;ts<144;++ts)to[ts]=8;for(var ts=144;ts<256;++ts)to[ts]=9;for(var ts=256;ts<280;++ts)to[ts]=7;for(var ts=280;ts<288;++ts)to[ts]=8;var Iu=new Nr(32);for(var ts=0;ts<32;++ts)Iu[ts]=5;var XV=Ba(to,9,0),QV=Ba(to,9,1),JV=Ba(Iu,5,0),ZV=Ba(Iu,5,1),Zx=function(t){for(var e=t[0],s=1;s<t.length;++s)t[s]>e&&(e=t[s]);return e},Kn=function(t,e,s){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(e&7)&s},e0=function(t,e){var s=e/8|0;return(t[s]|t[s+1]<<8|t[s+2]<<16)>>(e&7)},Ky=function(t){return(t+7)/8|0},U4=function(t,e,s){return(s==null||s>t.length)&&(s=t.length),new Nr(t.subarray(e,s))},eY=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Zn=function(t,e,s){var n=new Error(e||eY[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,Zn),!s)throw n;return n},tY=function(t,e,s,n){var a=t.length,i=0;if(!a||e.f&&!e.l)return s||new Nr(0);var o=!s,l=o||e.i!=2,c=e.i;o&&(s=new Nr(a*3));var d=function(be){var Fe=s.length;if(be>Fe){var Re=new Nr(Math.max(Fe*2,be));Re.set(s),s=Re}},u=e.f||0,h=e.p||0,f=e.b||0,m=e.l,g=e.d,x=e.m,j=e.n,y=a*8;do{if(!m){u=Kn(t,h,1);var b=Kn(t,h+1,3);if(h+=3,b)if(b==1)m=QV,g=ZV,x=9,j=5;else if(b==2){var I=Kn(t,h,31)+257,_=Kn(t,h+10,15)+4,v=I+Kn(t,h+5,31)+1;h+=14;for(var P=new Nr(v),L=new Nr(19),S=0;S<_;++S)L[cg[S]]=Kn(t,h+S*3,7);h+=_*3;for(var C=Zx(L),O=(1<<C)-1,z=Ba(L,C,1),S=0;S<v;){var Z=z[Kn(t,h,O)];h+=Z&15;var k=Z>>4;if(k<16)P[S++]=k;else{var q=0,R=0;for(k==16?(R=3+Kn(t,h,3),h+=2,q=P[S-1]):k==17?(R=3+Kn(t,h,7),h+=3):k==18&&(R=11+Kn(t,h,127),h+=7);R--;)P[S++]=q}}var X=P.subarray(0,I),$=P.subarray(I);x=Zx(X),j=Zx($),m=Ba(X,x,1),g=Ba($,j,1)}else Zn(1);else{var k=Ky(h)+4,A=t[k-4]|t[k-3]<<8,E=k+A;if(E>a){c&&Zn(0);break}l&&d(f+A),s.set(t.subarray(k,E),f),e.b=f+=A,e.p=h=E*8,e.f=u;continue}if(h>y){c&&Zn(0);break}}l&&d(f+131072);for(var J=(1<<x)-1,se=(1<<j)-1,M=h;;M=h){var q=m[e0(t,h)&J],T=q>>4;if(h+=q&15,h>y){c&&Zn(0);break}if(q||Zn(2),T<256)s[f++]=T;else if(T==256){M=h,m=null;break}else{var B=T-254;if(T>264){var S=T-257,K=bp[S];B=Kn(t,h,(1<<K)-1)+H4[S],h+=K}var Y=g[e0(t,h)&se],re=Y>>4;Y||Zn(3),h+=Y&15;var $=KV[re];if(re>3){var K=vp[re];$+=e0(t,h)&(1<<K)-1,h+=K}if(h>y){c&&Zn(0);break}l&&d(f+131072);var ie=f+B;if(f<$){var he=i-$,Ce=Math.min($,ie);for(he+f<0&&Zn(3);f<Ce;++f)s[f]=n[he+f]}for(;f<ie;++f)s[f]=s[f-$]}}e.l=m,e.p=M,e.b=f,e.f=u,m&&(u=1,e.m=x,e.d=g,e.n=j)}while(!u);return f!=s.length&&o?U4(s,0,f):s.subarray(0,f)},li=function(t,e,s){s<<=e&7;var n=e/8|0;t[n]|=s,t[n+1]|=s>>8},Ld=function(t,e,s){s<<=e&7;var n=e/8|0;t[n]|=s,t[n+1]|=s>>8,t[n+2]|=s>>16},t0=function(t,e){for(var s=[],n=0;n<t.length;++n)t[n]&&s.push({s:n,f:t[n]});var a=s.length,i=s.slice();if(!a)return{t:Y4,l:0};if(a==1){var o=new Nr(s[0].s+1);return o[s[0].s]=1,{t:o,l:1}}s.sort(function(E,I){return E.f-I.f}),s.push({s:-1,f:25001});var l=s[0],c=s[1],d=0,u=1,h=2;for(s[0]={s:-1,f:l.f+c.f,l,r:c};u!=a-1;)l=s[s[d].f<s[h].f?d++:h++],c=s[d!=u&&s[d].f<s[h].f?d++:h++],s[u++]={s:-1,f:l.f+c.f,l,r:c};for(var f=i[0].s,n=1;n<a;++n)i[n].s>f&&(f=i[n].s);var m=new mn(f+1),g=hg(s[u-1],m,0);if(g>e){var n=0,x=0,j=g-e,y=1<<j;for(i.sort(function(I,_){return m[_.s]-m[I.s]||I.f-_.f});n<a;++n){var b=i[n].s;if(m[b]>e)x+=y-(1<<g-m[b]),m[b]=e;else break}for(x>>=j;x>0;){var k=i[n].s;m[k]<e?x-=1<<e-m[k]++-1:++n}for(;n>=0&&x;--n){var A=i[n].s;m[A]==e&&(--m[A],++x)}g=e}return{t:new Nr(m),l:g}},hg=function(t,e,s){return t.s==-1?Math.max(hg(t.l,e,s+1),hg(t.r,e,s+1)):e[t.s]=s},k2=function(t){for(var e=t.length;e&&!t[--e];);for(var s=new mn(++e),n=0,a=t[0],i=1,o=function(c){s[n++]=c},l=1;l<=e;++l)if(t[l]==a&&l!=e)++i;else{if(!a&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(a),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(a);i=1,a=t[l]}return{c:s.subarray(0,n),n:e}},Id=function(t,e){for(var s=0,n=0;n<e.length;++n)s+=t[n]*e[n];return s},V4=function(t,e,s){var n=s.length,a=Ky(e+2);t[a]=n&255,t[a+1]=n>>8,t[a+2]=t[a]^255,t[a+3]=t[a+1]^255;for(var i=0;i<n;++i)t[a+i+4]=s[i];return(a+4+n)*8},_2=function(t,e,s,n,a,i,o,l,c,d,u){li(e,u++,s),++a[256];for(var h=t0(a,15),f=h.t,m=h.l,g=t0(i,15),x=g.t,j=g.l,y=k2(f),b=y.c,k=y.n,A=k2(x),E=A.c,I=A.n,_=new mn(19),v=0;v<b.length;++v)++_[b[v]&31];for(var v=0;v<E.length;++v)++_[E[v]&31];for(var P=t0(_,7),L=P.t,S=P.l,C=19;C>4&&!L[cg[C-1]];--C);var O=d+5<<3,z=Id(a,to)+Id(i,Iu)+o,Z=Id(a,f)+Id(i,x)+o+14+3*C+Id(_,L)+2*_[16]+3*_[17]+7*_[18];if(c>=0&&O<=z&&O<=Z)return V4(e,u,t.subarray(c,c+d));var q,R,X,$;if(li(e,u,1+(Z<z)),u+=2,Z<z){q=Ba(f,m,0),R=f,X=Ba(x,j,0),$=x;var J=Ba(L,S,0);li(e,u,k-257),li(e,u+5,I-1),li(e,u+10,C-4),u+=14;for(var v=0;v<C;++v)li(e,u+3*v,L[cg[v]]);u+=3*C;for(var se=[b,E],M=0;M<2;++M)for(var T=se[M],v=0;v<T.length;++v){var B=T[v]&31;li(e,u,J[B]),u+=L[B],B>15&&(li(e,u,T[v]>>5&127),u+=T[v]>>12)}}else q=XV,R=to,X=JV,$=Iu;for(var v=0;v<l;++v){var K=n[v];if(K>255){var B=K>>18&31;Ld(e,u,q[B+257]),u+=R[B+257],B>7&&(li(e,u,K>>23&31),u+=bp[B]);var Y=K&31;Ld(e,u,X[Y]),u+=$[Y],Y>3&&(Ld(e,u,K>>5&8191),u+=vp[Y])}else Ld(e,u,q[K]),u+=R[K]}return Ld(e,u,q[256]),u+R[256]},sY=new Gy([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Y4=new Nr(0),rY=function(t,e,s,n,a,i){var o=i.z||t.length,l=new Nr(n+o+5*(1+Math.ceil(o/7e3))+a),c=l.subarray(n,l.length-a),d=i.l,u=(i.r||0)&7;if(e){u&&(c[0]=i.r>>3);for(var h=sY[e-1],f=h>>13,m=h&8191,g=(1<<s)-1,x=i.p||new mn(32768),j=i.h||new mn(g+1),y=Math.ceil(s/3),b=2*y,k=function(He){return(t[He]^t[He+1]<<y^t[He+2]<<b)&g},A=new Gy(25e3),E=new mn(288),I=new mn(32),_=0,v=0,P=i.i||0,L=0,S=i.w||0,C=0;P+2<o;++P){var O=k(P),z=P&32767,Z=j[O];if(x[z]=Z,j[O]=z,S<=P){var q=o-P;if((_>7e3||L>24576)&&(q>423||!d)){u=_2(t,c,0,A,E,I,v,L,C,P-C,u),L=_=v=0,C=P;for(var R=0;R<286;++R)E[R]=0;for(var R=0;R<30;++R)I[R]=0}var X=2,$=0,J=m,se=z-Z&32767;if(q>2&&O==k(P-se))for(var M=Math.min(f,q)-1,T=Math.min(32767,P),B=Math.min(258,q);se<=T&&--J&&z!=Z;){if(t[P+X]==t[P+X-se]){for(var K=0;K<B&&t[P+K]==t[P+K-se];++K);if(K>X){if(X=K,$=se,K>M)break;for(var Y=Math.min(se,K-2),re=0,R=0;R<Y;++R){var ie=P-se+R&32767,he=x[ie],Ce=ie-he&32767;Ce>re&&(re=Ce,Z=ie)}}}z=Z,Z=x[z],se+=z-Z&32767}if($){A[L++]=268435456|dg[X]<<18|N2[$];var be=dg[X]&31,Fe=N2[$]&31;v+=bp[be]+vp[Fe],++E[257+be],++I[Fe],S=P+X,++_}else A[L++]=t[P],++E[t[P]]}}for(P=Math.max(P,S);P<o;++P)A[L++]=t[P],++E[t[P]];u=_2(t,c,d,A,E,I,v,L,C,P-C,u),d||(i.r=u&7|c[u/8|0]<<3,u-=7,i.h=j,i.p=x,i.i=P,i.w=S)}else{for(var P=i.w||0;P<o+d;P+=65535){var Re=P+65535;Re>=o&&(c[u/8|0]=d,Re=o),u=V4(c,u+1,t.subarray(P,Re))}i.i=o}return U4(l,0,n+Ky(u)+a)},G4=function(){var t=1,e=0;return{p:function(s){for(var n=t,a=e,i=s.length|0,o=0;o!=i;){for(var l=Math.min(o+2655,i);o<l;++o)a+=n+=s[o];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}t=n,e=a},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},nY=function(t,e,s,n,a){if(!a&&(a={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),o=new Nr(i.length+t.length);o.set(i),o.set(t,i.length),t=o,a.w=i.length}return rY(t,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,s,n,a)},K4=function(t,e,s){for(;s;++e)t[e]=s,s>>>=8},aY=function(t,e){var s=e.level,n=s==0?0:s<6?1:s==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var a=G4();a.p(e.dictionary),K4(t,2,a.d())}},iY=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Zn(6,"invalid zlib data"),(t[1]>>5&1)==+!e&&Zn(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function mg(t,e){e||(e={});var s=G4();s.p(t);var n=nY(t,e,e.dictionary?6:2,4);return aY(n,e),K4(n,n.length-4,s.d()),n}function oY(t,e){return tY(t.subarray(iY(t,e),-4),{i:2},e,e)}var lY=typeof TextDecoder<"u"&&new TextDecoder,cY=0;try{lY.decode(Y4,{stream:!0}),cY=1}catch{}var lt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function s0(){lt.console&&typeof lt.console.log=="function"&&lt.console.log.apply(lt.console,arguments)}var Ut={log:s0,warn:function(t){lt.console&&(typeof lt.console.warn=="function"?lt.console.warn.apply(lt.console,arguments):s0.call(null,arguments))},error:function(t){lt.console&&(typeof lt.console.error=="function"?lt.console.error.apply(lt.console,arguments):s0(t))}};function r0(t,e,s){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){To(n.response,e,s)},n.onerror=function(){Ut.error("could not download file")},n.send()}function S2(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function pm(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var nu,fg,To=lt.saveAs||((typeof window>"u"?"undefined":_t(window))!=="object"||window!==lt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,s){var n=lt.URL||lt.webkitURL,a=document.createElement("a");e=e||t.name||"download",a.download=e,a.rel="noopener",typeof t=="string"?(a.href=t,a.origin!==location.origin?S2(a.href)?r0(t,e,s):pm(a,a.target="_blank"):pm(a)):(a.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){pm(a)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,s){if(e=e||t.name||"download",typeof t=="string")if(S2(t))r0(t,e,s);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){pm(n)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:_t(i)!=="object"&&(Ut.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(t,s),e)}:function(t,e,s,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return r0(t,e,s);var a=t.type==="application/octet-stream",i=/constructor/i.test(lt.HTMLElement)||lt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&i)&&(typeof FileReader>"u"?"undefined":_t(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var u=l.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},l.readAsDataURL(t)}else{var c=lt.URL||lt.webkitURL,d=c.createObjectURL(t);n?n.location=d:location.href=d,n=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function X4(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var s=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<s.length;n++){var a=s[n].re,i=s[n].process,o=a.exec(t);o&&(e=i(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+l+c+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function n0(t,e){var s=t[0],n=t[1],a=t[2],i=t[3];s=gr(s,n,a,i,e[0],7,-680876936),i=gr(i,s,n,a,e[1],12,-389564586),a=gr(a,i,s,n,e[2],17,606105819),n=gr(n,a,i,s,e[3],22,-1044525330),s=gr(s,n,a,i,e[4],7,-176418897),i=gr(i,s,n,a,e[5],12,1200080426),a=gr(a,i,s,n,e[6],17,-1473231341),n=gr(n,a,i,s,e[7],22,-45705983),s=gr(s,n,a,i,e[8],7,1770035416),i=gr(i,s,n,a,e[9],12,-1958414417),a=gr(a,i,s,n,e[10],17,-42063),n=gr(n,a,i,s,e[11],22,-1990404162),s=gr(s,n,a,i,e[12],7,1804603682),i=gr(i,s,n,a,e[13],12,-40341101),a=gr(a,i,s,n,e[14],17,-1502002290),s=yr(s,n=gr(n,a,i,s,e[15],22,1236535329),a,i,e[1],5,-165796510),i=yr(i,s,n,a,e[6],9,-1069501632),a=yr(a,i,s,n,e[11],14,643717713),n=yr(n,a,i,s,e[0],20,-373897302),s=yr(s,n,a,i,e[5],5,-701558691),i=yr(i,s,n,a,e[10],9,38016083),a=yr(a,i,s,n,e[15],14,-660478335),n=yr(n,a,i,s,e[4],20,-405537848),s=yr(s,n,a,i,e[9],5,568446438),i=yr(i,s,n,a,e[14],9,-1019803690),a=yr(a,i,s,n,e[3],14,-187363961),n=yr(n,a,i,s,e[8],20,1163531501),s=yr(s,n,a,i,e[13],5,-1444681467),i=yr(i,s,n,a,e[2],9,-51403784),a=yr(a,i,s,n,e[7],14,1735328473),s=br(s,n=yr(n,a,i,s,e[12],20,-1926607734),a,i,e[5],4,-378558),i=br(i,s,n,a,e[8],11,-2022574463),a=br(a,i,s,n,e[11],16,1839030562),n=br(n,a,i,s,e[14],23,-35309556),s=br(s,n,a,i,e[1],4,-1530992060),i=br(i,s,n,a,e[4],11,1272893353),a=br(a,i,s,n,e[7],16,-155497632),n=br(n,a,i,s,e[10],23,-1094730640),s=br(s,n,a,i,e[13],4,681279174),i=br(i,s,n,a,e[0],11,-358537222),a=br(a,i,s,n,e[3],16,-722521979),n=br(n,a,i,s,e[6],23,76029189),s=br(s,n,a,i,e[9],4,-640364487),i=br(i,s,n,a,e[12],11,-421815835),a=br(a,i,s,n,e[15],16,530742520),s=vr(s,n=br(n,a,i,s,e[2],23,-995338651),a,i,e[0],6,-198630844),i=vr(i,s,n,a,e[7],10,1126891415),a=vr(a,i,s,n,e[14],15,-1416354905),n=vr(n,a,i,s,e[5],21,-57434055),s=vr(s,n,a,i,e[12],6,1700485571),i=vr(i,s,n,a,e[3],10,-1894986606),a=vr(a,i,s,n,e[10],15,-1051523),n=vr(n,a,i,s,e[1],21,-2054922799),s=vr(s,n,a,i,e[8],6,1873313359),i=vr(i,s,n,a,e[15],10,-30611744),a=vr(a,i,s,n,e[6],15,-1560198380),n=vr(n,a,i,s,e[13],21,1309151649),s=vr(s,n,a,i,e[4],6,-145523070),i=vr(i,s,n,a,e[11],10,-1120210379),a=vr(a,i,s,n,e[2],15,718787259),n=vr(n,a,i,s,e[9],21,-343485551),t[0]=Gi(s,t[0]),t[1]=Gi(n,t[1]),t[2]=Gi(a,t[2]),t[3]=Gi(i,t[3])}function wp(t,e,s,n,a,i){return e=Gi(Gi(e,t),Gi(n,i)),Gi(e<<a|e>>>32-a,s)}function gr(t,e,s,n,a,i,o){return wp(e&s|~e&n,t,e,a,i,o)}function yr(t,e,s,n,a,i,o){return wp(e&n|s&~n,t,e,a,i,o)}function br(t,e,s,n,a,i,o){return wp(e^s^n,t,e,a,i,o)}function vr(t,e,s,n,a,i,o){return wp(s^(e|~n),t,e,a,i,o)}function Q4(t){var e,s=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)n0(n,dY(t.substring(e-64,e)));t=t.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)a[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(n0(n,a),e=0;e<16;e++)a[e]=0;return a[14]=8*s,n0(n,a),n}function dY(t){var e,s=[];for(e=0;e<64;e+=4)s[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return s}nu=lt.atob.bind(lt),fg=lt.btoa.bind(lt);var A2="0123456789abcdef".split("");function uY(t){for(var e="",s=0;s<4;s++)e+=A2[t>>8*s+4&15]+A2[t>>8*s&15];return e}function hY(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function pg(t){return Q4(t).map(hY).join("")}var mY=function(t){for(var e=0;e<t.length;e++)t[e]=uY(t[e]);return t.join("")}(Q4("hello"))!="5d41402abc4b2a76b9719d911017c592";function Gi(t,e){if(mY){var s=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(s>>16)<<16|65535&s}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function xg(t,e){var s,n,a,i;if(t!==s){for(var o=(a=t,i=1+(256/t.length>>0),new Array(i+1).join(a)),l=[],c=0;c<256;c++)l[c]=c;var d=0;for(c=0;c<256;c++){var u=l[c];d=(d+u+o.charCodeAt(c))%256,l[c]=l[d],l[d]=u}s=t,n=l}else l=n;var h=e.length,f=0,m=0,g="";for(c=0;c<h;c++)m=(m+(u=l[f=(f+1)%256]))%256,l[f]=l[m],l[m]=u,o=l[(l[f]+l[m])%256],g+=String.fromCharCode(e.charCodeAt(c)^o);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var C2={print:4,modify:8,copy:16,"annot-forms":32};function ac(t,e,s,n){this.v=1,this.r=2;var a=192;t.forEach(function(l){if(C2.perm!==void 0)throw new Error("Invalid permission: "+l);a+=C2[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(e+this.padding).substr(0,32),o=(s+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^a)),this.encryptionKey=pg(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=xg(this.encryptionKey,this.padding)}function ic(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",s=t.length,n=0;n<s;n++){var a=t.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?e+="#"+("0"+a.toString(16)).slice(-2):e+=t[n]}return e}function P2(t){if(_t(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(s,n,a){if(a=a||!1,typeof s!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(s)||(e[s]={});var i=Math.random().toString(35);return e[s][i]=[n,!!a],i},this.unsubscribe=function(s){for(var n in e)if(e[n][s])return delete e[n][s],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(s){if(e.hasOwnProperty(s)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in e[s]){var o=e[s][i];try{o[0].apply(t,n)}catch(l){lt.console&&Ut.error("jsPDF PubSub Error",l.message,l)}o[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Mu(t){if(!(this instanceof Mu))return new Mu(t);var e="opacity,stroke-opacity".split(",");for(var s in t)t.hasOwnProperty(s)&&e.indexOf(s)>=0&&(this[s]=t[s]);this.id="",this.objectNumber=-1}function J4(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Yi(t,e,s,n,a){if(!(this instanceof Yi))return new Yi(t,e,s,n,a);this.type=t==="axial"?2:3,this.coords=e,this.colors=s,J4.call(this,n,a)}function Ho(t,e,s,n,a){if(!(this instanceof Ho))return new Ho(t,e,s,n,a);this.boundingBox=t,this.xStep=e,this.yStep=s,this.stream="",this.cloneIndex=0,J4.call(this,n,a)}function nt(t){var e,s=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],o=[],l=1,c=16,d="S",u=null;_t(t=t||{})==="object"&&(s=t.orientation,n=t.unit||n,a=t.format||a,i=t.compress||t.compressPdf||i,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),l=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),d=t.defaultPathOperation||"S"),o=t.filters||(i===!0?["FlateEncode"]:o),n=n||"mm",s=(""+(s||"P")).toLowerCase();var h=t.putOnlyUsedFonts||!1,f={},m={internal:{},__private__:{}};m.__private__.PubSub=P2;var g="1.3",x=m.__private__.getPdfVersion=function(){return g};m.__private__.setPdfVersion=function(N){g=N};var j={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return j};var y=m.__private__.getPageFormat=function(N){return j[N]};a=a||"a4";var b={COMPAT:"compat",ADVANCED:"advanced"},k=b.COMPAT;function A(){this.saveGraphicsState(),ae(new ot(qe,0,0,-qe,0,Ci()*qe).toString()+" cm"),this.setFontSize(this.getFontSize()/qe),d="n",k=b.ADVANCED}function E(){this.restoreGraphicsState(),d="S",k=b.COMPAT}var I=m.__private__.combineFontStyleAndFontWeight=function(N,W){if(N=="bold"&&W=="normal"||N=="bold"&&W==400||N=="normal"&&W=="italic"||N=="bold"&&W=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return W&&(N=W==400||W==="normal"?N==="italic"?"italic":"normal":W!=700&&W!=="bold"||N!=="normal"?(W==700?"bold":W)+""+N:"bold"),N};m.advancedAPI=function(N){var W=k===b.COMPAT;return W&&A.call(this),typeof N!="function"||(N(this),W&&E.call(this)),this},m.compatAPI=function(N){var W=k===b.ADVANCED;return W&&E.call(this),typeof N!="function"||(N(this),W&&A.call(this)),this},m.isAdvancedAPI=function(){return k===b.ADVANCED};var _,v=function(N){if(k!==b.ADVANCED)throw new Error(N+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},P=m.roundToPrecision=m.__private__.roundToPrecision=function(N,W){var le=e||W;if(isNaN(N)||isNaN(le))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return N.toFixed(le).replace(/0+$/,"")};_=m.hpf=m.__private__.hpf=typeof c=="number"?function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return P(N,c)}:c==="smart"?function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return P(N,N>-1&&N<1?16:5)}:function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return P(N,16)};var L=m.f2=m.__private__.f2=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.f2");return P(N,2)},S=m.__private__.f3=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.f3");return P(N,3)},C=m.scale=m.__private__.scale=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.scale");return k===b.COMPAT?N*qe:k===b.ADVANCED?N:void 0},O=function(N){return k===b.COMPAT?Ci()-N:k===b.ADVANCED?N:void 0},z=function(N){return C(O(N))};m.__private__.setPrecision=m.setPrecision=function(N){typeof parseInt(N,10)=="number"&&(e=parseInt(N,10))};var Z,q="00000000000000000000000000000000",R=m.__private__.getFileId=function(){return q},X=m.__private__.setFileId=function(N){return q=N!==void 0&&/^[a-fA-F0-9]{32}$/.test(N)?N.toUpperCase():q.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(fr=new ac(u.userPermissions,u.userPassword,u.ownerPassword,q)),q};m.setFileId=function(N){return X(N),this},m.getFileId=function(){return R()};var $=m.__private__.convertDateToPDFDate=function(N){var W=N.getTimezoneOffset(),le=W<0?"+":"-",me=Math.floor(Math.abs(W/60)),ve=Math.abs(W%60),Ee=[le,B(me),"'",B(ve),"'"].join("");return["D:",N.getFullYear(),B(N.getMonth()+1),B(N.getDate()),B(N.getHours()),B(N.getMinutes()),B(N.getSeconds()),Ee].join("")},J=m.__private__.convertPDFDateToDate=function(N){var W=parseInt(N.substr(2,4),10),le=parseInt(N.substr(6,2),10)-1,me=parseInt(N.substr(8,2),10),ve=parseInt(N.substr(10,2),10),Ee=parseInt(N.substr(12,2),10),$e=parseInt(N.substr(14,2),10);return new Date(W,le,me,ve,Ee,$e,0)},se=m.__private__.setCreationDate=function(N){var W;if(N===void 0&&(N=new Date),N instanceof Date)W=$(N);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(N))throw new Error("Invalid argument passed to jsPDF.setCreationDate");W=N}return Z=W},M=m.__private__.getCreationDate=function(N){var W=Z;return N==="jsDate"&&(W=J(Z)),W};m.setCreationDate=function(N){return se(N),this},m.getCreationDate=function(N){return M(N)};var T,B=m.__private__.padd2=function(N){return("0"+parseInt(N)).slice(-2)},K=m.__private__.padd2Hex=function(N){return("00"+(N=N.toString())).substr(N.length)},Y=0,re=[],ie=[],he=0,Ce=[],be=[],Fe=!1,Re=ie,He=function(){Y=0,he=0,ie=[],re=[],Ce=[],Ga=Ls(),zn=Ls()};m.__private__.setCustomOutputDestination=function(N){Fe=!0,Re=N};var ke=function(N){Fe||(Re=N)};m.__private__.resetCustomOutputDestination=function(){Fe=!1,Re=ie};var ae=m.__private__.out=function(N){return N=N.toString(),he+=N.length+1,Re.push(N),Re},et=m.__private__.write=function(N){return ae(arguments.length===1?N.toString():Array.prototype.join.call(arguments," "))},te=m.__private__.getArrayBuffer=function(N){for(var W=N.length,le=new ArrayBuffer(W),me=new Uint8Array(le);W--;)me[W]=N.charCodeAt(W);return le},oe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return oe};var ue=t.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(N){return ue=k===b.ADVANCED?N/qe:N,this};var _e,we=m.__private__.getFontSize=m.getFontSize=function(){return k===b.COMPAT?ue:ue*qe},Se=t.R2L||!1;m.__private__.setR2L=m.setR2L=function(N){return Se=N,this},m.__private__.getR2L=m.getR2L=function(){return Se};var De,ze=m.__private__.setZoomMode=function(N){var W=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(N))_e=N;else if(isNaN(N)){if(W.indexOf(N)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+N+'" is not recognized.');_e=N}else _e=parseInt(N,10)};m.__private__.getZoomMode=function(){return _e};var Ue,Xe=m.__private__.setPageMode=function(N){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(N)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+N+'" is not recognized.');De=N};m.__private__.getPageMode=function(){return De};var it=m.__private__.setLayoutMode=function(N){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(N)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+N+'" is not recognized.');Ue=N};m.__private__.getLayoutMode=function(){return Ue},m.__private__.setDisplayMode=m.setDisplayMode=function(N,W,le){return ze(N),it(W),Xe(le),this};var rt={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(N){if(Object.keys(rt).indexOf(N)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return rt[N]},m.__private__.getDocumentProperties=function(){return rt},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(N){for(var W in rt)rt.hasOwnProperty(W)&&N[W]&&(rt[W]=N[W]);return this},m.__private__.setDocumentProperty=function(N,W){if(Object.keys(rt).indexOf(N)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return rt[N]=W};var ut,qe,Ft,gt,mr,It={},rs={},da=[],Mt={},fo={},hs={},Rn={},Ya=null,ms=0,ht=[],Tt=new P2(m),po=t.hotfixes||[],tr={},ua={},ha=[],ot=function N(W,le,me,ve,Ee,$e){if(!(this instanceof N))return new N(W,le,me,ve,Ee,$e);isNaN(W)&&(W=1),isNaN(le)&&(le=0),isNaN(me)&&(me=0),isNaN(ve)&&(ve=1),isNaN(Ee)&&(Ee=0),isNaN($e)&&($e=0),this._matrix=[W,le,me,ve,Ee,$e]};Object.defineProperty(ot.prototype,"sx",{get:function(){return this._matrix[0]},set:function(N){this._matrix[0]=N}}),Object.defineProperty(ot.prototype,"shy",{get:function(){return this._matrix[1]},set:function(N){this._matrix[1]=N}}),Object.defineProperty(ot.prototype,"shx",{get:function(){return this._matrix[2]},set:function(N){this._matrix[2]=N}}),Object.defineProperty(ot.prototype,"sy",{get:function(){return this._matrix[3]},set:function(N){this._matrix[3]=N}}),Object.defineProperty(ot.prototype,"tx",{get:function(){return this._matrix[4]},set:function(N){this._matrix[4]=N}}),Object.defineProperty(ot.prototype,"ty",{get:function(){return this._matrix[5]},set:function(N){this._matrix[5]=N}}),Object.defineProperty(ot.prototype,"a",{get:function(){return this._matrix[0]},set:function(N){this._matrix[0]=N}}),Object.defineProperty(ot.prototype,"b",{get:function(){return this._matrix[1]},set:function(N){this._matrix[1]=N}}),Object.defineProperty(ot.prototype,"c",{get:function(){return this._matrix[2]},set:function(N){this._matrix[2]=N}}),Object.defineProperty(ot.prototype,"d",{get:function(){return this._matrix[3]},set:function(N){this._matrix[3]=N}}),Object.defineProperty(ot.prototype,"e",{get:function(){return this._matrix[4]},set:function(N){this._matrix[4]=N}}),Object.defineProperty(ot.prototype,"f",{get:function(){return this._matrix[5]},set:function(N){this._matrix[5]=N}}),Object.defineProperty(ot.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ot.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ot.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ot.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ot.prototype.join=function(N){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(_).join(N)},ot.prototype.multiply=function(N){var W=N.sx*this.sx+N.shy*this.shx,le=N.sx*this.shy+N.shy*this.sy,me=N.shx*this.sx+N.sy*this.shx,ve=N.shx*this.shy+N.sy*this.sy,Ee=N.tx*this.sx+N.ty*this.shx+this.tx,$e=N.tx*this.shy+N.ty*this.sy+this.ty;return new ot(W,le,me,ve,Ee,$e)},ot.prototype.decompose=function(){var N=this.sx,W=this.shy,le=this.shx,me=this.sy,ve=this.tx,Ee=this.ty,$e=Math.sqrt(N*N+W*W),Ke=(N/=$e)*le+(W/=$e)*me;le-=N*Ke,me-=W*Ke;var st=Math.sqrt(le*le+me*me);return Ke/=st,N*(me/=st)<W*(le/=st)&&(N=-N,W=-W,Ke=-Ke,$e=-$e),{scale:new ot($e,0,0,st,0,0),translate:new ot(1,0,0,1,ve,Ee),rotate:new ot(N,W,-W,N,0,0),skew:new ot(1,0,Ke,1,0,0)}},ot.prototype.toString=function(N){return this.join(" ")},ot.prototype.inversed=function(){var N=this.sx,W=this.shy,le=this.shx,me=this.sy,ve=this.tx,Ee=this.ty,$e=1/(N*me-W*le),Ke=me*$e,st=-W*$e,pt=-le*$e,mt=N*$e;return new ot(Ke,st,pt,mt,-Ke*ve-pt*Ee,-st*ve-mt*Ee)},ot.prototype.applyToPoint=function(N){var W=N.x*this.sx+N.y*this.shx+this.tx,le=N.x*this.shy+N.y*this.sy+this.ty;return new El(W,le)},ot.prototype.applyToRectangle=function(N){var W=this.applyToPoint(N),le=this.applyToPoint(new El(N.x+N.w,N.y+N.h));return new ad(W.x,W.y,le.x-W.x,le.y-W.y)},ot.prototype.clone=function(){var N=this.sx,W=this.shy,le=this.shx,me=this.sy,ve=this.tx,Ee=this.ty;return new ot(N,W,le,me,ve,Ee)},m.Matrix=ot;var $n=m.matrixMult=function(N,W){return W.multiply(N)},ma=new ot(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=ma;var Rr=function(N,W){if(!fo[N]){var le=(W instanceof Yi?"Sh":"P")+(Object.keys(Mt).length+1).toString(10);W.id=le,fo[N]=le,Mt[le]=W,Tt.publish("addPattern",W)}};m.ShadingPattern=Yi,m.TilingPattern=Ho,m.addShadingPattern=function(N,W){return v("addShadingPattern()"),Rr(N,W),this},m.beginTilingPattern=function(N){v("beginTilingPattern()"),Mh(N.boundingBox[0],N.boundingBox[1],N.boundingBox[2]-N.boundingBox[0],N.boundingBox[3]-N.boundingBox[1],N.matrix)},m.endTilingPattern=function(N,W){v("endTilingPattern()"),W.stream=be[T].join(`
`),Rr(N,W),Tt.publish("endTilingPattern",W),ha.pop().restore()};var Bs=m.__private__.newObject=function(){var N=Ls();return en(N,!0),N},Ls=m.__private__.newObjectDeferred=function(){return Y++,re[Y]=function(){return he},Y},en=function(N,W){return W=typeof W=="boolean"&&W,re[N]=he,W&&ae(N+" 0 obj"),N},gl=m.__private__.newAdditionalObject=function(){var N={objId:Ls(),content:""};return Ce.push(N),N},Ga=Ls(),zn=Ls(),Bn=m.__private__.decodeColorString=function(N){var W=N.split(" ");if(W.length!==2||W[1]!=="g"&&W[1]!=="G")W.length===5&&(W[4]==="k"||W[4]==="K")&&(W=[(1-W[0])*(1-W[3]),(1-W[1])*(1-W[3]),(1-W[2])*(1-W[3]),"r"]);else{var le=parseFloat(W[0]);W=[le,le,le,"r"]}for(var me="#",ve=0;ve<3;ve++)me+=("0"+Math.floor(255*parseFloat(W[ve])).toString(16)).slice(-2);return me},qn=m.__private__.encodeColorString=function(N){var W;typeof N=="string"&&(N={ch1:N});var le=N.ch1,me=N.ch2,ve=N.ch3,Ee=N.ch4,$e=N.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof le=="string"&&le.charAt(0)!=="#"){var Ke=new X4(le);if(Ke.ok)le=Ke.toHex();else if(!/^\d*\.?\d*$/.test(le))throw new Error('Invalid color "'+le+'" passed to jsPDF.encodeColorString.')}if(typeof le=="string"&&/^#[0-9A-Fa-f]{3}$/.test(le)&&(le="#"+le[1]+le[1]+le[2]+le[2]+le[3]+le[3]),typeof le=="string"&&/^#[0-9A-Fa-f]{6}$/.test(le)){var st=parseInt(le.substr(1),16);le=st>>16&255,me=st>>8&255,ve=255&st}if(me===void 0||Ee===void 0&&le===me&&me===ve)if(typeof le=="string")W=le+" "+$e[0];else switch(N.precision){case 2:W=L(le/255)+" "+$e[0];break;case 3:default:W=S(le/255)+" "+$e[0]}else if(Ee===void 0||_t(Ee)==="object"){if(Ee&&!isNaN(Ee.a)&&Ee.a===0)return W=["1.","1.","1.",$e[1]].join(" ");if(typeof le=="string")W=[le,me,ve,$e[1]].join(" ");else switch(N.precision){case 2:W=[L(le/255),L(me/255),L(ve/255),$e[1]].join(" ");break;default:case 3:W=[S(le/255),S(me/255),S(ve/255),$e[1]].join(" ")}}else if(typeof le=="string")W=[le,me,ve,Ee,$e[2]].join(" ");else switch(N.precision){case 2:W=[L(le),L(me),L(ve),L(Ee),$e[2]].join(" ");break;case 3:default:W=[S(le),S(me),S(ve),S(Ee),$e[2]].join(" ")}return W},fa=m.__private__.getFilters=function(){return o},yn=m.__private__.putStream=function(N){var W=(N=N||{}).data||"",le=N.filters||fa(),me=N.alreadyAppliedFilters||[],ve=N.addLength1||!1,Ee=W.length,$e=N.objectId,Ke=function(pr){return pr};if(u!==null&&$e===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Ke=fr.encryptor($e,0));var st={};le===!0&&(le=["FlateEncode"]);var pt=N.additionalKeyValues||[],mt=(st=nt.API.processDataByFilters!==void 0?nt.API.processDataByFilters(W,le):{data:W,reverseChain:[]}).reverseChain+(Array.isArray(me)?me.join(" "):me.toString());if(st.data.length!==0&&(pt.push({key:"Length",value:st.data.length}),ve===!0&&pt.push({key:"Length1",value:Ee})),mt.length!=0)if(mt.split("/").length-1==1)pt.push({key:"Filter",value:mt});else{pt.push({key:"Filter",value:"["+mt+"]"});for(var At=0;At<pt.length;At+=1)if(pt[At].key==="DecodeParms"){for(var is=[],fs=0;fs<st.reverseChain.split("/").length-1;fs+=1)is.push("null");is.push(pt[At].value),pt[At].value="["+is.join(" ")+"]"}}ae("<<");for(var Is=0;Is<pt.length;Is++)ae("/"+pt[Is].key+" "+pt[Is].value);ae(">>"),st.data.length!==0&&(ae("stream"),ae(Ke(st.data)),ae("endstream"))},pa=m.__private__.putPage=function(N){var W=N.number,le=N.data,me=N.objId,ve=N.contentsObjId;en(me,!0),ae("<</Type /Page"),ae("/Parent "+N.rootDictionaryObjId+" 0 R"),ae("/Resources "+N.resourceDictionaryObjId+" 0 R"),ae("/MediaBox ["+parseFloat(_(N.mediaBox.bottomLeftX))+" "+parseFloat(_(N.mediaBox.bottomLeftY))+" "+_(N.mediaBox.topRightX)+" "+_(N.mediaBox.topRightY)+"]"),N.cropBox!==null&&ae("/CropBox ["+_(N.cropBox.bottomLeftX)+" "+_(N.cropBox.bottomLeftY)+" "+_(N.cropBox.topRightX)+" "+_(N.cropBox.topRightY)+"]"),N.bleedBox!==null&&ae("/BleedBox ["+_(N.bleedBox.bottomLeftX)+" "+_(N.bleedBox.bottomLeftY)+" "+_(N.bleedBox.topRightX)+" "+_(N.bleedBox.topRightY)+"]"),N.trimBox!==null&&ae("/TrimBox ["+_(N.trimBox.bottomLeftX)+" "+_(N.trimBox.bottomLeftY)+" "+_(N.trimBox.topRightX)+" "+_(N.trimBox.topRightY)+"]"),N.artBox!==null&&ae("/ArtBox ["+_(N.artBox.bottomLeftX)+" "+_(N.artBox.bottomLeftY)+" "+_(N.artBox.topRightX)+" "+_(N.artBox.topRightY)+"]"),typeof N.userUnit=="number"&&N.userUnit!==1&&ae("/UserUnit "+N.userUnit),Tt.publish("putPage",{objId:me,pageContext:ht[W],pageNumber:W,page:le}),ae("/Contents "+ve+" 0 R"),ae(">>"),ae("endobj");var Ee=le.join(`
`);return k===b.ADVANCED&&(Ee+=`
Q`),en(ve,!0),yn({data:Ee,filters:fa(),objectId:ve}),ae("endobj"),me},xo=m.__private__.putPages=function(){var N,W,le=[];for(N=1;N<=ms;N++)ht[N].objId=Ls(),ht[N].contentsObjId=Ls();for(N=1;N<=ms;N++)le.push(pa({number:N,data:be[N],objId:ht[N].objId,contentsObjId:ht[N].contentsObjId,mediaBox:ht[N].mediaBox,cropBox:ht[N].cropBox,bleedBox:ht[N].bleedBox,trimBox:ht[N].trimBox,artBox:ht[N].artBox,userUnit:ht[N].userUnit,rootDictionaryObjId:Ga,resourceDictionaryObjId:zn}));en(Ga,!0),ae("<</Type /Pages");var me="/Kids [";for(W=0;W<ms;W++)me+=le[W]+" 0 R ";ae(me+"]"),ae("/Count "+ms),ae(">>"),ae("endobj"),Tt.publish("postPutPages")},yl=function(N){Tt.publish("putFont",{font:N,out:ae,newObject:Bs,putStream:yn}),N.isAlreadyPutted!==!0&&(N.objectNumber=Bs(),ae("<<"),ae("/Type /Font"),ae("/BaseFont /"+ic(N.postScriptName)),ae("/Subtype /Type1"),typeof N.encoding=="string"&&ae("/Encoding /"+N.encoding),ae("/FirstChar 32"),ae("/LastChar 255"),ae(">>"),ae("endobj"))},bl=function(){for(var N in It)It.hasOwnProperty(N)&&(h===!1||h===!0&&f.hasOwnProperty(N))&&yl(It[N])},vl=function(N){N.objectNumber=Bs();var W=[];W.push({key:"Type",value:"/XObject"}),W.push({key:"Subtype",value:"/Form"}),W.push({key:"BBox",value:"["+[_(N.x),_(N.y),_(N.x+N.width),_(N.y+N.height)].join(" ")+"]"}),W.push({key:"Matrix",value:"["+N.matrix.toString()+"]"});var le=N.pages[1].join(`
`);yn({data:le,additionalKeyValues:W,objectId:N.objectNumber}),ae("endobj")},wl=function(){for(var N in tr)tr.hasOwnProperty(N)&&vl(tr[N])},xh=function(N,W){var le,me=[],ve=1/(W-1);for(le=0;le<1;le+=ve)me.push(le);if(me.push(1),N[0].offset!=0){var Ee={offset:0,color:N[0].color};N.unshift(Ee)}if(N[N.length-1].offset!=1){var $e={offset:1,color:N[N.length-1].color};N.push($e)}for(var Ke="",st=0,pt=0;pt<me.length;pt++){for(le=me[pt];le>N[st+1].offset;)st++;var mt=N[st].offset,At=(le-mt)/(N[st+1].offset-mt),is=N[st].color,fs=N[st+1].color;Ke+=K(Math.round((1-At)*is[0]+At*fs[0]).toString(16))+K(Math.round((1-At)*is[1]+At*fs[1]).toString(16))+K(Math.round((1-At)*is[2]+At*fs[2]).toString(16))}return Ke.trim()},Rp=function(N,W){W||(W=21);var le=Bs(),me=xh(N.colors,W),ve=[];ve.push({key:"FunctionType",value:"0"}),ve.push({key:"Domain",value:"[0.0 1.0]"}),ve.push({key:"Size",value:"["+W+"]"}),ve.push({key:"BitsPerSample",value:"8"}),ve.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ve.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),yn({data:me,additionalKeyValues:ve,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:le}),ae("endobj"),N.objectNumber=Bs(),ae("<< /ShadingType "+N.type),ae("/ColorSpace /DeviceRGB");var Ee="/Coords ["+_(parseFloat(N.coords[0]))+" "+_(parseFloat(N.coords[1]))+" ";N.type===2?Ee+=_(parseFloat(N.coords[2]))+" "+_(parseFloat(N.coords[3])):Ee+=_(parseFloat(N.coords[2]))+" "+_(parseFloat(N.coords[3]))+" "+_(parseFloat(N.coords[4]))+" "+_(parseFloat(N.coords[5])),ae(Ee+="]"),N.matrix&&ae("/Matrix ["+N.matrix.toString()+"]"),ae("/Function "+le+" 0 R"),ae("/Extend [true true]"),ae(">>"),ae("endobj")},$p=function(N,W){var le=Ls(),me=Bs();W.push({resourcesOid:le,objectOid:me}),N.objectNumber=me;var ve=[];ve.push({key:"Type",value:"/Pattern"}),ve.push({key:"PatternType",value:"1"}),ve.push({key:"PaintType",value:"1"}),ve.push({key:"TilingType",value:"1"}),ve.push({key:"BBox",value:"["+N.boundingBox.map(_).join(" ")+"]"}),ve.push({key:"XStep",value:_(N.xStep)}),ve.push({key:"YStep",value:_(N.yStep)}),ve.push({key:"Resources",value:le+" 0 R"}),N.matrix&&ve.push({key:"Matrix",value:"["+N.matrix.toString()+"]"}),yn({data:N.stream,additionalKeyValues:ve,objectId:N.objectNumber}),ae("endobj")},jl=function(N){var W;for(W in Mt)Mt.hasOwnProperty(W)&&(Mt[W]instanceof Yi?Rp(Mt[W]):Mt[W]instanceof Ho&&$p(Mt[W],N))},gh=function(N){for(var W in N.objectNumber=Bs(),ae("<<"),N)switch(W){case"opacity":ae("/ca "+L(N[W]));break;case"stroke-opacity":ae("/CA "+L(N[W]))}ae(">>"),ae("endobj")},zp=function(){var N;for(N in hs)hs.hasOwnProperty(N)&&gh(hs[N])},Kc=function(){for(var N in ae("/XObject <<"),tr)tr.hasOwnProperty(N)&&tr[N].objectNumber>=0&&ae("/"+N+" "+tr[N].objectNumber+" 0 R");Tt.publish("putXobjectDict"),ae(">>")},Bp=function(){fr.oid=Bs(),ae("<<"),ae("/Filter /Standard"),ae("/V "+fr.v),ae("/R "+fr.r),ae("/U <"+fr.toHexString(fr.U)+">"),ae("/O <"+fr.toHexString(fr.O)+">"),ae("/P "+fr.P),ae(">>"),ae("endobj")},yh=function(){for(var N in ae("/Font <<"),It)It.hasOwnProperty(N)&&(h===!1||h===!0&&f.hasOwnProperty(N))&&ae("/"+N+" "+It[N].objectNumber+" 0 R");ae(">>")},qp=function(){if(Object.keys(Mt).length>0){for(var N in ae("/Shading <<"),Mt)Mt.hasOwnProperty(N)&&Mt[N]instanceof Yi&&Mt[N].objectNumber>=0&&ae("/"+N+" "+Mt[N].objectNumber+" 0 R");Tt.publish("putShadingPatternDict"),ae(">>")}},Nl=function(N){if(Object.keys(Mt).length>0){for(var W in ae("/Pattern <<"),Mt)Mt.hasOwnProperty(W)&&Mt[W]instanceof m.TilingPattern&&Mt[W].objectNumber>=0&&Mt[W].objectNumber<N&&ae("/"+W+" "+Mt[W].objectNumber+" 0 R");Tt.publish("putTilingPatternDict"),ae(">>")}},Hp=function(){if(Object.keys(hs).length>0){var N;for(N in ae("/ExtGState <<"),hs)hs.hasOwnProperty(N)&&hs[N].objectNumber>=0&&ae("/"+N+" "+hs[N].objectNumber+" 0 R");Tt.publish("putGStateDict"),ae(">>")}},ws=function(N){en(N.resourcesOid,!0),ae("<<"),ae("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),yh(),qp(),Nl(N.objectOid),Hp(),Kc(),ae(">>"),ae("endobj")},bh=function(){var N=[];bl(),zp(),wl(),jl(N),Tt.publish("putResources"),N.forEach(ws),ws({resourcesOid:zn,objectOid:Number.MAX_SAFE_INTEGER}),Tt.publish("postPutResources")},vh=function(){Tt.publish("putAdditionalObjects");for(var N=0;N<Ce.length;N++){var W=Ce[N];en(W.objId,!0),ae(W.content),ae("endobj")}Tt.publish("postPutAdditionalObjects")},wh=function(N){rs[N.fontName]=rs[N.fontName]||{},rs[N.fontName][N.fontStyle]=N.id},Xc=function(N,W,le,me,ve){var Ee={id:"F"+(Object.keys(It).length+1).toString(10),postScriptName:N,fontName:W,fontStyle:le,encoding:me,isStandardFont:ve||!1,metadata:{}};return Tt.publish("addFont",{font:Ee,instance:this}),It[Ee.id]=Ee,wh(Ee),Ee.id},Wp=function(N){for(var W=0,le=oe.length;W<le;W++){var me=Xc.call(this,N[W][0],N[W][1],N[W][2],oe[W][3],!0);h===!1&&(f[me]=!0);var ve=N[W][0].split("-");wh({id:me,fontName:ve[0],fontStyle:ve[1]||""})}Tt.publish("addFonts",{fonts:It,dictionary:rs})},Hn=function(N){return N.foo=function(){try{return N.apply(this,arguments)}catch(me){var W=me.stack||"";~W.indexOf(" at ")&&(W=W.split(" at ")[1]);var le="Error in function "+W.split(`
`)[0].split("<")[0]+": "+me.message;if(!lt.console)throw new Error(le);lt.console.error(le,me),lt.alert&&alert(le)}},N.foo.bar=N,N.foo},kl=function(N,W){var le,me,ve,Ee,$e,Ke,st,pt,mt;if(ve=(W=W||{}).sourceEncoding||"Unicode",$e=W.outputEncoding,(W.autoencode||$e)&&It[ut].metadata&&It[ut].metadata[ve]&&It[ut].metadata[ve].encoding&&(Ee=It[ut].metadata[ve].encoding,!$e&&It[ut].encoding&&($e=It[ut].encoding),!$e&&Ee.codePages&&($e=Ee.codePages[0]),typeof $e=="string"&&($e=Ee[$e]),$e)){for(st=!1,Ke=[],le=0,me=N.length;le<me;le++)(pt=$e[N.charCodeAt(le)])?Ke.push(String.fromCharCode(pt)):Ke.push(N[le]),Ke[le].charCodeAt(0)>>8&&(st=!0);N=Ke.join("")}for(le=N.length;st===void 0&&le!==0;)N.charCodeAt(le-1)>>8&&(st=!0),le--;if(!st)return N;for(Ke=W.noBOM?[]:[254,255],le=0,me=N.length;le<me;le++){if((mt=(pt=N.charCodeAt(le))>>8)>>8)throw new Error("Character at position "+le+" of string '"+N+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ke.push(mt),Ke.push(pt-(mt<<8))}return String.fromCharCode.apply(void 0,Ke)},$r=m.__private__.pdfEscape=m.pdfEscape=function(N,W){return kl(N,W).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Qc=m.__private__.beginPage=function(N){be[++ms]=[],ht[ms]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(N[0]),topRightY:Number(N[1])}},Nh(ms),ke(be[T])},jh=function(N,W){var le,me,ve;switch(s=W||s,typeof N=="string"&&(le=y(N.toLowerCase()),Array.isArray(le)&&(me=le[0],ve=le[1])),Array.isArray(N)&&(me=N[0]*qe,ve=N[1]*qe),isNaN(me)&&(me=a[0],ve=a[1]),(me>14400||ve>14400)&&(Ut.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),me=Math.min(14400,me),ve=Math.min(14400,ve)),a=[me,ve],s.substr(0,1)){case"l":ve>me&&(a=[ve,me]);break;case"p":me>ve&&(a=[ve,me])}Qc(a),Ph(td),ae(Wn),rd!==0&&ae(rd+" J"),nd!==0&&ae(nd+" j"),Tt.publish("addPage",{pageNumber:ms})},Up=function(N){N>0&&N<=ms&&(be.splice(N,1),ht.splice(N,1),ms--,T>ms&&(T=ms),this.setPage(T))},Nh=function(N){N>0&&N<=ms&&(T=N)},Vp=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return be.length-1},kh=function(N,W,le){var me,ve=void 0;return le=le||{},N=N!==void 0?N:It[ut].fontName,W=W!==void 0?W:It[ut].fontStyle,me=N.toLowerCase(),rs[me]!==void 0&&rs[me][W]!==void 0?ve=rs[me][W]:rs[N]!==void 0&&rs[N][W]!==void 0?ve=rs[N][W]:le.disableWarning===!1&&Ut.warn("Unable to look up font label for font '"+N+"', '"+W+"'. Refer to getFontList() for available fonts."),ve||le.noFallback||(ve=rs.times[W])==null&&(ve=rs.times.normal),ve},Yp=m.__private__.putInfo=function(){var N=Bs(),W=function(me){return me};for(var le in u!==null&&(W=fr.encryptor(N,0)),ae("<<"),ae("/Producer ("+$r(W("jsPDF "+nt.version))+")"),rt)rt.hasOwnProperty(le)&&rt[le]&&ae("/"+le.substr(0,1).toUpperCase()+le.substr(1)+" ("+$r(W(rt[le]))+")");ae("/CreationDate ("+$r(W(Z))+")"),ae(">>"),ae("endobj")},Jc=m.__private__.putCatalog=function(N){var W=(N=N||{}).rootDictionaryObjId||Ga;switch(Bs(),ae("<<"),ae("/Type /Catalog"),ae("/Pages "+W+" 0 R"),_e||(_e="fullwidth"),_e){case"fullwidth":ae("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ae("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ae("/OpenAction [3 0 R /Fit]");break;case"original":ae("/OpenAction [3 0 R /XYZ null null 1]");break;default:var le=""+_e;le.substr(le.length-1)==="%"&&(_e=parseInt(_e)/100),typeof _e=="number"&&ae("/OpenAction [3 0 R /XYZ null null "+L(_e)+"]")}switch(Ue||(Ue="continuous"),Ue){case"continuous":ae("/PageLayout /OneColumn");break;case"single":ae("/PageLayout /SinglePage");break;case"two":case"twoleft":ae("/PageLayout /TwoColumnLeft");break;case"tworight":ae("/PageLayout /TwoColumnRight")}De&&ae("/PageMode /"+De),Tt.publish("putCatalog"),ae(">>"),ae("endobj")},Gp=m.__private__.putTrailer=function(){ae("trailer"),ae("<<"),ae("/Size "+(Y+1)),ae("/Root "+Y+" 0 R"),ae("/Info "+(Y-1)+" 0 R"),u!==null&&ae("/Encrypt "+fr.oid+" 0 R"),ae("/ID [ <"+q+"> <"+q+"> ]"),ae(">>")},Kp=m.__private__.putHeader=function(){ae("%PDF-"+g),ae("%")},Xp=m.__private__.putXRef=function(){var N="0000000000";ae("xref"),ae("0 "+(Y+1)),ae("0000000000 65535 f ");for(var W=1;W<=Y;W++)typeof re[W]=="function"?ae((N+re[W]()).slice(-10)+" 00000 n "):re[W]!==void 0?ae((N+re[W]).slice(-10)+" 00000 n "):ae("0000000000 00000 n ")},Ka=m.__private__.buildDocument=function(){He(),ke(ie),Tt.publish("buildDocument"),Kp(),xo(),vh(),bh(),u!==null&&Bp(),Yp(),Jc();var N=he;return Xp(),Gp(),ae("startxref"),ae(""+N),ae("%%EOF"),ke(be[T]),ie.join(`
`)},_l=m.__private__.getBlob=function(N){return new Blob([te(N)],{type:"application/pdf"})},Sl=m.output=m.__private__.output=Hn(function(N,W){switch(typeof(W=W||{})=="string"?W={filename:W}:W.filename=W.filename||"generated.pdf",N){case void 0:return Ka();case"save":m.save(W.filename);break;case"arraybuffer":return te(Ka());case"blob":return _l(Ka());case"bloburi":case"bloburl":if(lt.URL!==void 0&&typeof lt.URL.createObjectURL=="function")return lt.URL&&lt.URL.createObjectURL(_l(Ka()))||void 0;Ut.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var le="",me=Ka();try{le=fg(me)}catch{le=fg(unescape(encodeURIComponent(me)))}return"data:application/pdf;filename="+W.filename+";base64,"+le;case"pdfobjectnewwindow":if(Object.prototype.toString.call(lt)==="[object Window]"){var ve="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ee=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';W.pdfObjectUrl&&(ve=W.pdfObjectUrl,Ee="");var $e='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ve+'"'+Ee+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(W)+");<\/script></body></html>",Ke=lt.open();return Ke!==null&&Ke.document.write($e),Ke}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(lt)==="[object Window]"){var st='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(W.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+W.filename+'" width="500px" height="400px" /></body></html>',pt=lt.open();if(pt!==null){pt.document.write(st);var mt=this;pt.document.documentElement.querySelector("#pdfViewer").onload=function(){pt.document.title=W.filename,pt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(mt.output("bloburl"))}}return pt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(lt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var At='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",W)+'"></iframe></body></html>',is=lt.open();if(is!==null&&(is.document.write(At),is.document.title=W.filename),is||typeof safari>"u")return is;break;case"datauri":case"dataurl":return lt.document.location.href=this.output("datauristring",W);default:return null}}),_h=function(N){return Array.isArray(po)===!0&&po.indexOf(N)>-1};switch(n){case"pt":qe=1;break;case"mm":qe=72/25.4;break;case"cm":qe=72/2.54;break;case"in":qe=72;break;case"px":qe=_h("px_scaling")==1?.75:96/72;break;case"pc":case"em":qe=12;break;case"ex":qe=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);qe=n}var fr=null;se(),X();var Qp=function(N){return u!==null?fr.encryptor(N,0):function(W){return W}},Sh=m.__private__.getPageInfo=m.getPageInfo=function(N){if(isNaN(N)||N%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ht[N].objId,pageNumber:N,pageContext:ht[N]}},dt=m.__private__.getPageInfoByObjId=function(N){if(isNaN(N)||N%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var W in ht)if(ht[W].objId===N)break;return Sh(W)},Jp=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:ht[T].objId,pageNumber:T,pageContext:ht[T]}};m.addPage=function(){return jh.apply(this,arguments),this},m.setPage=function(){return Nh.apply(this,arguments),ke.call(this,be[T]),this},m.insertPage=function(N){return this.addPage(),this.movePage(T,N),this},m.movePage=function(N,W){var le,me;if(N>W){le=be[N],me=ht[N];for(var ve=N;ve>W;ve--)be[ve]=be[ve-1],ht[ve]=ht[ve-1];be[W]=le,ht[W]=me,this.setPage(W)}else if(N<W){le=be[N],me=ht[N];for(var Ee=N;Ee<W;Ee++)be[Ee]=be[Ee+1],ht[Ee]=ht[Ee+1];be[W]=le,ht[W]=me,this.setPage(W)}return this},m.deletePage=function(){return Up.apply(this,arguments),this},m.__private__.text=m.text=function(N,W,le,me,ve){var Ee,$e,Ke,st,pt,mt,At,is,fs,Is=(me=me||{}).scope||this;if(typeof N=="number"&&typeof W=="number"&&(typeof le=="string"||Array.isArray(le))){var pr=le;le=W,W=N,N=pr}if(arguments[3]instanceof ot?(v("The transform parameter of text() with a Matrix value"),fs=ve):(Ke=arguments[4],st=arguments[5],_t(At=arguments[3])==="object"&&At!==null||(typeof Ke=="string"&&(st=Ke,Ke=null),typeof At=="string"&&(st=At,At=null),typeof At=="number"&&(Ke=At,At=null),me={flags:At,angle:Ke,align:st})),isNaN(W)||isNaN(le)||N==null)throw new Error("Invalid arguments passed to jsPDF.text");if(N.length===0)return Is;var Xs="",Un=!1,tn=typeof me.lineHeightFactor=="number"?me.lineHeightFactor:yo,ya=Is.internal.scaleFactor;function Th(Gt){return Gt=Gt.split("	").join(Array(me.TabLen||9).join(" ")),$r(Gt,At)}function cd(Gt){for(var Kt,Ns=Gt.concat(),qs=[],ei=Ns.length;ei--;)typeof(Kt=Ns.shift())=="string"?qs.push(Kt):Array.isArray(Gt)&&(Kt.length===1||Kt[1]===void 0&&Kt[2]===void 0)?qs.push(Kt[0]):qs.push([Kt[0],Kt[1],Kt[2]]);return qs}function dd(Gt,Kt){var Ns;if(typeof Gt=="string")Ns=Kt(Gt)[0];else if(Array.isArray(Gt)){for(var qs,ei,yd=Gt.concat(),Bl=[],zh=yd.length;zh--;)typeof(qs=yd.shift())=="string"?Bl.push(Kt(qs)[0]):Array.isArray(qs)&&typeof qs[0]=="string"&&(ei=Kt(qs[0],qs[1],qs[2]),Bl.push([ei[0],ei[1],ei[2]]));Ns=Bl}return Ns}var Ll=!1,ud=!0;if(typeof N=="string")Ll=!0;else if(Array.isArray(N)){var hd=N.concat();$e=[];for(var Il,sr=hd.length;sr--;)(typeof(Il=hd.shift())!="string"||Array.isArray(Il)&&typeof Il[0]!="string")&&(ud=!1);Ll=ud}if(Ll===!1)throw new Error('Type of text must be string or Array. "'+N+'" is not recognized.');typeof N=="string"&&(N=N.match(/[\r?\n]/)?N.split(/\r\n|\r|\n/g):[N]);var Ml=ue/Is.internal.scaleFactor,Tl=Ml*(tn-1);switch(me.baseline){case"bottom":le-=Tl;break;case"top":le+=Ml-Tl;break;case"hanging":le+=Ml-2*Tl;break;case"middle":le+=Ml/2-Tl}if((mt=me.maxWidth||0)>0&&(typeof N=="string"?N=Is.splitTextToSize(N,mt):Object.prototype.toString.call(N)==="[object Array]"&&(N=N.reduce(function(Gt,Kt){return Gt.concat(Is.splitTextToSize(Kt,mt))},[]))),Ee={text:N,x:W,y:le,options:me,mutex:{pdfEscape:$r,activeFontKey:ut,fonts:It,activeFontSize:ue}},Tt.publish("preProcessText",Ee),N=Ee.text,Ke=(me=Ee.options).angle,!(fs instanceof ot)&&Ke&&typeof Ke=="number"){Ke*=Math.PI/180,me.rotationDirection===0&&(Ke=-Ke),k===b.ADVANCED&&(Ke=-Ke);var Fl=Math.cos(Ke),md=Math.sin(Ke);fs=new ot(Fl,md,-md,Fl,0,0)}else Ke&&Ke instanceof ot&&(fs=Ke);k!==b.ADVANCED||fs||(fs=ma),(pt=me.charSpace||Pl)!==void 0&&(Xs+=_(C(pt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(is=me.horizontalScale)!==void 0&&(Xs+=_(100*is)+` Tz
`),me.lang;var zr=-1,lx=me.renderingMode!==void 0?me.renderingMode:me.stroke,fd=Is.internal.getCurrentPageInfo().pageContext;switch(lx){case 0:case!1:case"fill":zr=0;break;case 1:case!0:case"stroke":zr=1;break;case 2:case"fillThenStroke":zr=2;break;case 3:case"invisible":zr=3;break;case 4:case"fillAndAddForClipping":zr=4;break;case 5:case"strokeAndAddPathForClipping":zr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":zr=6;break;case 7:case"addToPathForClipping":zr=7}var Fh=fd.usedRenderingMode!==void 0?fd.usedRenderingMode:-1;zr!==-1?Xs+=zr+` Tr
`:Fh!==-1&&(Xs+=`0 Tr
`),zr!==-1&&(fd.usedRenderingMode=zr),st=me.align||"left";var bn,Ol=ue*tn,Oh=Is.internal.pageSize.getWidth(),Rh=It[ut];pt=me.charSpace||Pl,mt=me.maxWidth||0,At=Object.assign({autoencode:!0,noBOM:!0},me.flags);var Pi=[],wo=function(Gt){return Is.getStringUnitWidth(Gt,{font:Rh,charSpace:pt,fontSize:ue,doKerning:!1})*ue/ya};if(Object.prototype.toString.call(N)==="[object Array]"){var Br;$e=cd(N),st!=="left"&&(bn=$e.map(wo));var Er,Ei=0;if(st==="right"){W-=bn[0],N=[],sr=$e.length;for(var Qa=0;Qa<sr;Qa++)Qa===0?(Er=ga(W),Br=Xa(le)):(Er=C(Ei-bn[Qa]),Br=-Ol),N.push([$e[Qa],Er,Br]),Ei=bn[Qa]}else if(st==="center"){W-=bn[0]/2,N=[],sr=$e.length;for(var Ja=0;Ja<sr;Ja++)Ja===0?(Er=ga(W),Br=Xa(le)):(Er=C((Ei-bn[Ja])/2),Br=-Ol),N.push([$e[Ja],Er,Br]),Ei=bn[Ja]}else if(st==="left"){N=[],sr=$e.length;for(var Rl=0;Rl<sr;Rl++)N.push($e[Rl])}else if(st==="justify"&&Rh.encoding==="Identity-H"){N=[],sr=$e.length,mt=mt!==0?mt:Oh;for(var Za=0,js=0;js<sr;js++)if(Br=js===0?Xa(le):-Ol,Er=js===0?ga(W):Za,js<sr-1){var pd=C((mt-bn[js])/($e[js].split(" ").length-1)),Dr=$e[js].split(" ");N.push([Dr[0]+" ",Er,Br]),Za=0;for(var vn=1;vn<Dr.length;vn++){var $l=(wo(Dr[vn-1]+" "+Dr[vn])-wo(Dr[vn]))*ya+pd;vn==Dr.length-1?N.push([Dr[vn],$l,0]):N.push([Dr[vn]+" ",$l,0]),Za-=$l}}else N.push([$e[js],Er,Br]);N.push(["",Za,0])}else{if(st!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(N=[],sr=$e.length,mt=mt!==0?mt:Oh,js=0;js<sr;js++)Br=js===0?Xa(le):-Ol,Er=js===0?ga(W):0,js<sr-1?Pi.push(_(C((mt-bn[js])/($e[js].split(" ").length-1)))):Pi.push(0),N.push([$e[js],Er,Br])}}var $h=typeof me.R2L=="boolean"?me.R2L:Se;$h===!0&&(N=dd(N,function(Gt,Kt,Ns){return[Gt.split("").reverse().join(""),Kt,Ns]})),Ee={text:N,x:W,y:le,options:me,mutex:{pdfEscape:$r,activeFontKey:ut,fonts:It,activeFontSize:ue}},Tt.publish("postProcessText",Ee),N=Ee.text,Un=Ee.mutex.isHex||!1;var xd=It[ut].encoding;xd!=="WinAnsiEncoding"&&xd!=="StandardEncoding"||(N=dd(N,function(Gt,Kt,Ns){return[Th(Gt),Kt,Ns]})),$e=cd(N),N=[];for(var jo,No,Di,ko=0,zl=1,_o=Array.isArray($e[0])?zl:ko,Li="",gd=function(Gt,Kt,Ns){var qs="";return Ns instanceof ot?(Ns=typeof me.angle=="number"?$n(Ns,new ot(1,0,0,1,Gt,Kt)):$n(new ot(1,0,0,1,Gt,Kt),Ns),k===b.ADVANCED&&(Ns=$n(new ot(1,0,0,-1,0,0),Ns)),qs=Ns.join(" ")+` Tm
`):qs=_(Gt)+" "+_(Kt)+` Td
`,qs},wn=0;wn<$e.length;wn++){switch(Li="",_o){case zl:Di=(Un?"<":"(")+$e[wn][0]+(Un?">":")"),jo=parseFloat($e[wn][1]),No=parseFloat($e[wn][2]);break;case ko:Di=(Un?"<":"(")+$e[wn]+(Un?">":")"),jo=ga(W),No=Xa(le)}Pi!==void 0&&Pi[wn]!==void 0&&(Li=Pi[wn]+` Tw
`),wn===0?N.push(Li+gd(jo,No,fs)+Di):_o===ko?N.push(Li+Di):_o===zl&&N.push(Li+gd(jo,No,fs)+Di)}N=_o===ko?N.join(` Tj
T* `):N.join(` Tj
`),N+=` Tj
`;var jn=`BT
/`;return jn+=ut+" "+ue+` Tf
`,jn+=_(ue*tn)+` TL
`,jn+=bo+`
`,jn+=Xs,jn+=N,ae(jn+="ET"),f[ut]=!0,Is};var Zp=m.__private__.clip=m.clip=function(N){return ae(N==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return Zp("evenodd")},m.__private__.discardPath=m.discardPath=function(){return ae("n"),this};var xa=m.__private__.isValidStyle=function(N){var W=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(N)!==-1&&(W=!0),W};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(N){return xa(N)&&(d=N),this};var Ah=m.__private__.getStyle=m.getStyle=function(N){var W=d;switch(N){case"D":case"S":W="S";break;case"F":W="f";break;case"FD":case"DF":W="B";break;case"f":case"f*":case"B":case"B*":W=N}return W},Ch=m.close=function(){return ae("h"),this};m.stroke=function(){return ae("S"),this},m.fill=function(N){return Al("f",N),this},m.fillEvenOdd=function(N){return Al("f*",N),this},m.fillStroke=function(N){return Al("B",N),this},m.fillStrokeEvenOdd=function(N){return Al("B*",N),this};var Al=function(N,W){_t(W)==="object"?tx(W,N):ae(N)},Zc=function(N){N===null||k===b.ADVANCED&&N===void 0||(N=Ah(N),ae(N))};function ex(N,W,le,me,ve){var Ee=new Ho(W||this.boundingBox,le||this.xStep,me||this.yStep,this.gState,ve||this.matrix);Ee.stream=this.stream;var $e=N+"$$"+this.cloneIndex+++"$$";return Rr($e,Ee),Ee}var tx=function(N,W){var le=fo[N.key],me=Mt[le];if(me instanceof Yi)ae("q"),ae(sx(W)),me.gState&&m.setGState(me.gState),ae(N.matrix.toString()+" cm"),ae("/"+le+" sh"),ae("Q");else if(me instanceof Ho){var ve=new ot(1,0,0,-1,0,Ci());N.matrix&&(ve=ve.multiply(N.matrix||ma),le=ex.call(me,N.key,N.boundingBox,N.xStep,N.yStep,ve).id),ae("q"),ae("/Pattern cs"),ae("/"+le+" scn"),me.gState&&m.setGState(me.gState),ae(W),ae("Q")}},sx=function(N){switch(N){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},ed=m.moveTo=function(N,W){return ae(_(C(N))+" "+_(z(W))+" m"),this},go=m.lineTo=function(N,W){return ae(_(C(N))+" "+_(z(W))+" l"),this},Si=m.curveTo=function(N,W,le,me,ve,Ee){return ae([_(C(N)),_(z(W)),_(C(le)),_(z(me)),_(C(ve)),_(z(Ee)),"c"].join(" ")),this};m.__private__.line=m.line=function(N,W,le,me,ve){if(isNaN(N)||isNaN(W)||isNaN(le)||isNaN(me)||!xa(ve))throw new Error("Invalid arguments passed to jsPDF.line");return k===b.COMPAT?this.lines([[le-N,me-W]],N,W,[1,1],ve||"S"):this.lines([[le-N,me-W]],N,W,[1,1]).stroke()},m.__private__.lines=m.lines=function(N,W,le,me,ve,Ee){var $e,Ke,st,pt,mt,At,is,fs,Is,pr,Xs,Un;if(typeof N=="number"&&(Un=le,le=W,W=N,N=Un),me=me||[1,1],Ee=Ee||!1,isNaN(W)||isNaN(le)||!Array.isArray(N)||!Array.isArray(me)||!xa(ve)||typeof Ee!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ed(W,le),$e=me[0],Ke=me[1],pt=N.length,pr=W,Xs=le,st=0;st<pt;st++)(mt=N[st]).length===2?(pr=mt[0]*$e+pr,Xs=mt[1]*Ke+Xs,go(pr,Xs)):(At=mt[0]*$e+pr,is=mt[1]*Ke+Xs,fs=mt[2]*$e+pr,Is=mt[3]*Ke+Xs,pr=mt[4]*$e+pr,Xs=mt[5]*Ke+Xs,Si(At,is,fs,Is,pr,Xs));return Ee&&Ch(),Zc(ve),this},m.path=function(N){for(var W=0;W<N.length;W++){var le=N[W],me=le.c;switch(le.op){case"m":ed(me[0],me[1]);break;case"l":go(me[0],me[1]);break;case"c":Si.apply(this,me);break;case"h":Ch()}}return this},m.__private__.rect=m.rect=function(N,W,le,me,ve){if(isNaN(N)||isNaN(W)||isNaN(le)||isNaN(me)||!xa(ve))throw new Error("Invalid arguments passed to jsPDF.rect");return k===b.COMPAT&&(me=-me),ae([_(C(N)),_(z(W)),_(C(le)),_(C(me)),"re"].join(" ")),Zc(ve),this},m.__private__.triangle=m.triangle=function(N,W,le,me,ve,Ee,$e){if(isNaN(N)||isNaN(W)||isNaN(le)||isNaN(me)||isNaN(ve)||isNaN(Ee)||!xa($e))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[le-N,me-W],[ve-le,Ee-me],[N-ve,W-Ee]],N,W,[1,1],$e,!0),this},m.__private__.roundedRect=m.roundedRect=function(N,W,le,me,ve,Ee,$e){if(isNaN(N)||isNaN(W)||isNaN(le)||isNaN(me)||isNaN(ve)||isNaN(Ee)||!xa($e))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ke=4/3*(Math.SQRT2-1);return ve=Math.min(ve,.5*le),Ee=Math.min(Ee,.5*me),this.lines([[le-2*ve,0],[ve*Ke,0,ve,Ee-Ee*Ke,ve,Ee],[0,me-2*Ee],[0,Ee*Ke,-ve*Ke,Ee,-ve,Ee],[2*ve-le,0],[-ve*Ke,0,-ve,-Ee*Ke,-ve,-Ee],[0,2*Ee-me],[0,-Ee*Ke,ve*Ke,-Ee,ve,-Ee]],N+ve,W,[1,1],$e,!0),this},m.__private__.ellipse=m.ellipse=function(N,W,le,me,ve){if(isNaN(N)||isNaN(W)||isNaN(le)||isNaN(me)||!xa(ve))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ee=4/3*(Math.SQRT2-1)*le,$e=4/3*(Math.SQRT2-1)*me;return ed(N+le,W),Si(N+le,W-$e,N+Ee,W-me,N,W-me),Si(N-Ee,W-me,N-le,W-$e,N-le,W),Si(N-le,W+$e,N-Ee,W+me,N,W+me),Si(N+Ee,W+me,N+le,W+$e,N+le,W),Zc(ve),this},m.__private__.circle=m.circle=function(N,W,le,me){if(isNaN(N)||isNaN(W)||isNaN(le)||!xa(me))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(N,W,le,le,me)},m.setFont=function(N,W,le){return le&&(W=I(W,le)),ut=kh(N,W,{disableWarning:!1}),this};var rx=m.__private__.getFont=m.getFont=function(){return It[kh.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var N,W,le={};for(N in rs)if(rs.hasOwnProperty(N))for(W in le[N]=[],rs[N])rs[N].hasOwnProperty(W)&&le[N].push(W);return le},m.addFont=function(N,W,le,me,ve){var Ee=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ee.indexOf(arguments[3])!==-1?ve=arguments[3]:arguments[3]&&Ee.indexOf(arguments[3])==-1&&(le=I(le,me)),ve=ve||"Identity-H",Xc.call(this,N,W,le,ve)};var yo,td=t.lineWidth||.200025,Cl=m.__private__.getLineWidth=m.getLineWidth=function(){return td},Ph=m.__private__.setLineWidth=m.setLineWidth=function(N){return td=N,ae(_(C(N))+" w"),this};m.__private__.setLineDash=nt.API.setLineDash=nt.API.setLineDashPattern=function(N,W){if(N=N||[],W=W||0,isNaN(W)||!Array.isArray(N))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return N=N.map(function(le){return _(C(le))}).join(" "),W=_(C(W)),ae("["+N+"] "+W+" d"),this};var Eh=m.__private__.getLineHeight=m.getLineHeight=function(){return ue*yo};m.__private__.getLineHeight=m.getLineHeight=function(){return ue*yo};var Dh=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(N){return typeof(N=N||1.15)=="number"&&(yo=N),this},Lh=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return yo};Dh(t.lineHeight);var ga=m.__private__.getHorizontalCoordinate=function(N){return C(N)},Xa=m.__private__.getVerticalCoordinate=function(N){return k===b.ADVANCED?N:ht[T].mediaBox.topRightY-ht[T].mediaBox.bottomLeftY-C(N)},nx=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(N){return _(ga(N))},Ai=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(N){return _(Xa(N))},Wn=t.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return Bn(Wn)},m.__private__.setStrokeColor=m.setDrawColor=function(N,W,le,me){return Wn=qn({ch1:N,ch2:W,ch3:le,ch4:me,pdfColorType:"draw",precision:2}),ae(Wn),this};var sd=t.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return Bn(sd)},m.__private__.setFillColor=m.setFillColor=function(N,W,le,me){return sd=qn({ch1:N,ch2:W,ch3:le,ch4:me,pdfColorType:"fill",precision:2}),ae(sd),this};var bo=t.textColor||"0 g",ax=m.__private__.getTextColor=m.getTextColor=function(){return Bn(bo)};m.__private__.setTextColor=m.setTextColor=function(N,W,le,me){return bo=qn({ch1:N,ch2:W,ch3:le,ch4:me,pdfColorType:"text",precision:3}),this};var Pl=t.charSpace,ix=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(Pl||0)};m.__private__.setCharSpace=m.setCharSpace=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Pl=N,this};var rd=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(N){var W=m.CapJoinStyles[N];if(W===void 0)throw new Error("Line cap style of '"+N+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return rd=W,ae(W+" J"),this};var nd=0;m.__private__.setLineJoin=m.setLineJoin=function(N){var W=m.CapJoinStyles[N];if(W===void 0)throw new Error("Line join style of '"+N+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return nd=W,ae(W+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(N){if(N=N||0,isNaN(N))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ae(_(C(N))+" M"),this},m.GState=Mu,m.setGState=function(N){(N=typeof N=="string"?hs[Rn[N]]:Ih(null,N)).equals(Ya)||(ae("/"+N.id+" gs"),Ya=N)};var Ih=function(N,W){if(!N||!Rn[N]){var le=!1;for(var me in hs)if(hs.hasOwnProperty(me)&&hs[me].equals(W)){le=!0;break}if(le)W=hs[me];else{var ve="GS"+(Object.keys(hs).length+1).toString(10);hs[ve]=W,W.id=ve}return N&&(Rn[N]=W.id),Tt.publish("addGState",W),W}};m.addGState=function(N,W){return Ih(N,W),this},m.saveGraphicsState=function(){return ae("q"),da.push({key:ut,size:ue,color:bo}),this},m.restoreGraphicsState=function(){ae("Q");var N=da.pop();return ut=N.key,ue=N.size,bo=N.color,Ya=null,this},m.setCurrentTransformationMatrix=function(N){return ae(N.toString()+" cm"),this},m.comment=function(N){return ae("#"+N),this};var El=function(N,W){var le=N||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return le},set:function(Ee){isNaN(Ee)||(le=parseFloat(Ee))}});var me=W||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return me},set:function(Ee){isNaN(Ee)||(me=parseFloat(Ee))}});var ve="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ve},set:function(Ee){ve=Ee.toString()}}),this},ad=function(N,W,le,me){El.call(this,N,W),this.type="rect";var ve=le||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ve},set:function($e){isNaN($e)||(ve=parseFloat($e))}});var Ee=me||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ee},set:function($e){isNaN($e)||(Ee=parseFloat($e))}}),this},id=function(){this.page=ms,this.currentPage=T,this.pages=be.slice(0),this.pagesContext=ht.slice(0),this.x=Ft,this.y=gt,this.matrix=mr,this.width=vo(T),this.height=Ci(T),this.outputDestination=Re,this.id="",this.objectNumber=-1};id.prototype.restore=function(){ms=this.page,T=this.currentPage,ht=this.pagesContext,be=this.pages,Ft=this.x,gt=this.y,mr=this.matrix,od(T,this.width),ld(T,this.height),Re=this.outputDestination};var Mh=function(N,W,le,me,ve){ha.push(new id),ms=T=0,be=[],Ft=N,gt=W,mr=ve,Qc([le,me])},ox=function(N){if(ua[N])ha.pop().restore();else{var W=new id,le="Xo"+(Object.keys(tr).length+1).toString(10);W.id=le,ua[N]=le,tr[le]=W,Tt.publish("addFormObject",W),ha.pop().restore()}};for(var Dl in m.beginFormObject=function(N,W,le,me,ve){return Mh(N,W,le,me,ve),this},m.endFormObject=function(N){return ox(N),this},m.doFormObject=function(N,W){var le=tr[ua[N]];return ae("q"),ae(W.toString()+" cm"),ae("/"+le.id+" Do"),ae("Q"),this},m.getFormObject=function(N){var W=tr[ua[N]];return{x:W.x,y:W.y,width:W.width,height:W.height,matrix:W.matrix}},m.save=function(N,W){return N=N||"generated.pdf",(W=W||{}).returnPromise=W.returnPromise||!1,W.returnPromise===!1?(To(_l(Ka()),N),typeof To.unload=="function"&&lt.setTimeout&&setTimeout(To.unload,911),this):new Promise(function(le,me){try{var ve=To(_l(Ka()),N);typeof To.unload=="function"&&lt.setTimeout&&setTimeout(To.unload,911),le(ve)}catch(Ee){me(Ee.message)}})},nt.API)nt.API.hasOwnProperty(Dl)&&(Dl==="events"&&nt.API.events.length?function(N,W){var le,me,ve;for(ve=W.length-1;ve!==-1;ve--)le=W[ve][0],me=W[ve][1],N.subscribe.apply(N,[le].concat(typeof me=="function"?[me]:me))}(Tt,nt.API.events):m[Dl]=nt.API[Dl]);var vo=m.getPageWidth=function(N){return(ht[N=N||T].mediaBox.topRightX-ht[N].mediaBox.bottomLeftX)/qe},od=m.setPageWidth=function(N,W){ht[N].mediaBox.topRightX=W*qe+ht[N].mediaBox.bottomLeftX},Ci=m.getPageHeight=function(N){return(ht[N=N||T].mediaBox.topRightY-ht[N].mediaBox.bottomLeftY)/qe},ld=m.setPageHeight=function(N,W){ht[N].mediaBox.topRightY=W*qe+ht[N].mediaBox.bottomLeftY};return m.internal={pdfEscape:$r,getStyle:Ah,getFont:rx,getFontSize:we,getCharSpace:ix,getTextColor:ax,getLineHeight:Eh,getLineHeightFactor:Lh,getLineWidth:Cl,write:et,getHorizontalCoordinate:ga,getVerticalCoordinate:Xa,getCoordinateString:nx,getVerticalCoordinateString:Ai,collections:{},newObject:Bs,newAdditionalObject:gl,newObjectDeferred:Ls,newObjectDeferredBegin:en,getFilters:fa,putStream:yn,events:Tt,scaleFactor:qe,pageSize:{getWidth:function(){return vo(T)},setWidth:function(N){od(T,N)},getHeight:function(){return Ci(T)},setHeight:function(N){ld(T,N)}},encryptionOptions:u,encryption:fr,getEncryptor:Qp,output:Sl,getNumberOfPages:Vp,pages:be,out:ae,f2:L,f3:S,getPageInfo:Sh,getPageInfoByObjId:dt,getCurrentPageInfo:Jp,getPDFVersion:x,Point:El,Rectangle:ad,Matrix:ot,hasHotfix:_h},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return vo(T)},set:function(N){od(T,N)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return Ci(T)},set:function(N){ld(T,N)},enumerable:!0,configurable:!0}),Wp.call(m,oe),ut="F1",jh(a,s),Tt.publish("initialized"),m}ac.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},ac.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ac.prototype.hexToBytes=function(t){for(var e=[],s=0;s<t.length;s+=2)e.push(String.fromCharCode(parseInt(t.substr(s,2),16)));return e.join("")},ac.prototype.processOwnerPassword=function(t,e){return xg(pg(e).substr(0,5),t)},ac.prototype.encryptor=function(t,e){var s=pg(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return xg(s,n)}},Mu.prototype.equals=function(t){var e,s="id,objectNumber,equals";if(!t||_t(t)!==_t(this))return!1;var n=0;for(e in this)if(!(s.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&s.indexOf(e)<0&&n--;return n===0},nt.API={events:[]},nt.version="2.5.2";var xs=nt.API,Xy=1,pl=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ql=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ft=function(t){return t.toFixed(2)},Hi=function(t){return t.toFixed(5)};xs.__acroform__={};var Zr=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},E2=function(t){return t*Xy},Na=function(t){var e=new e3,s=Ze.internal.getHeight(t)||0,n=Ze.internal.getWidth(t)||0;return e.BBox=[0,0,Number(ft(n)),Number(ft(s))],e},fY=xs.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},pY=xs.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},xY=xs.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},ks=xs.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return xY(t,e-1)},_s=xs.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return fY(t,e-1)},Ss=xs.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return pY(t,e-1)},gY=xs.__acroform__.calculateCoordinates=function(t,e){var s=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,a=t[0],i=t[1],o=t[2],l=t[3],c={};return c.lowerLeft_X=s(a)||0,c.lowerLeft_Y=n(i+l)||0,c.upperRight_X=s(a+o)||0,c.upperRight_Y=n(i)||0,[Number(ft(c.lowerLeft_X)),Number(ft(c.lowerLeft_Y)),Number(ft(c.upperRight_X)),Number(ft(c.upperRight_Y))]},yY=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],s=t._V||t.DV,n=gg(t,s),a=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+a+" "+ft(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=Na(t);return i.scope=t.scope,i.stream=e.join(`
`),i}},gg=function(t,e){var s=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=t.multiline?a.map(function(S){return S.split(`
`)}):a.map(function(S){return[S]});var i=s,o=Ze.internal.getHeight(t)||0;o=o<0?-o:o;var l=Ze.internal.getWidth(t)||0;l=l<0?-l:l;var c=function(S,C,O){if(S+1<a.length){var z=C+" "+a[S+1][0];return xm(z,t,O).width<=l-4}return!1};i++;e:for(;i>0;){e="",i--;var d,u,h=xm("3",t,i).height,f=t.multiline?o-i:(o-h)/2,m=f+=2,g=0,x=0,j=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+xm(e,t,i=12).width+", FieldWidth:"+l+`
`;break}for(var y="",b=0,k=0;k<a.length;k++)if(a.hasOwnProperty(k)){var A=!1;if(a[k].length!==1&&j!==a[k].length-1){if((h+2)*(b+2)+2>o)continue e;y+=a[k][j],A=!0,x=k,k--}else{y=(y+=a[k][j]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var E=parseInt(k),I=c(E,y,i),_=k>=a.length-1;if(I&&!_){y+=" ",j=0;continue}if(I||_){if(_)x=E;else if(t.multiline&&(h+2)*(b+2)+2>o)continue e}else{if(!t.multiline||(h+2)*(b+2)+2>o)continue e;x=E}}for(var v="",P=g;P<=x;P++){var L=a[P];if(t.multiline){if(P===x){v+=L[j]+" ",j=(j+1)%L.length;continue}if(P===g){v+=L[L.length-1]+" ";continue}}v+=L[0]+" "}switch(v=v.substr(v.length-1)==" "?v.substr(0,v.length-1):v,u=xm(v,t,i).width,t.textAlign){case"right":d=l-u-2;break;case"center":d=(l-u)/2;break;case"left":default:d=2}e+=ft(d)+" "+ft(m)+` Td
`,e+="("+pl(v)+`) Tj
`,e+=-ft(d)+` 0 Td
`,m=-(i+2),u=0,g=A?x:x+1,b++,y=""}break}return n.text=e,n.fontSize=i,n},xm=function(t,e,s){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(s),charSpace:0})*parseFloat(s);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(s),charSpace:0})*parseFloat(s)*1.5,width:a}},bY={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},vY=function(t,e){var s={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===s.type&&n.object===s.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(s)},wY=function(t,e){for(var s in t)if(t.hasOwnProperty(s)){var n=s,a=t[s];e.internal.newObjectDeferredBegin(a.objId,!0),_t(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete t[n]}},jY=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(la.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(bY)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Xy=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new t3,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(s){s.internal.events.unsubscribe(s.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete s.internal.acroformPlugin.acroFormDictionaryRoot._eventID,s.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(s){s.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=s.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&vY(i,s)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(s){if(s.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");s.internal.write("/AcroForm "+s.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(s){(function(n,a){var i=!n;for(var o in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],c=[],d=l.Rect;if(l.Rect&&(l.Rect=gY(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Ze.createDefaultAppearanceStream(l),_t(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var u=yY(l);c.push({key:"AP",value:"<</N "+u+">>"}),a.internal.acroformPlugin.xForms.push(u)}if(l.appearanceStreamContent){var h="";for(var f in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(f)){var m=l.appearanceStreamContent[f];if(h+="/"+f+" ",h+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var o in m)if(m.hasOwnProperty(o)){var g=m[o];typeof g=="function"&&(g=g.call(a,l)),h+="/"+o+" "+g+" ",a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g)}}else typeof(g=m)=="function"&&(g=g.call(a,l)),h+="/"+o+" "+g,a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g);h+=">>"}c.push({key:"AP",value:`<<
`+h+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:l.objId}),a.internal.out("endobj")}i&&wY(a.internal.acroformPlugin.xForms,a)})(s,t)}),t.internal.acroformPlugin.isInitialized=!0}},Z4=xs.__acroform__.arrayToPdfArray=function(t,e,s){var n=function(o){return o};if(Array.isArray(t)){for(var a="[",i=0;i<t.length;i++)switch(i!==0&&(a+=" "),_t(t[i])){case"boolean":case"number":case"object":a+=t[i].toString();break;case"string":t[i].substr(0,1)!=="/"?(e!==void 0&&s&&(n=s.internal.getEncryptor(e)),a+="("+pl(n(t[i].toString()))+")"):a+=t[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},a0=function(t,e,s){var n=function(a){return a};return e!==void 0&&s&&(n=s.internal.getEncryptor(e)),(t=t||"").toString(),t="("+pl(n(t))+")"},Oa=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Oa.prototype.toString=function(){return this.objId+" 0 R"},Oa.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Oa.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var s in e)if(Object.getOwnPropertyDescriptor(this,e[s]).configurable===!1){var n=e[s],a=this[n];a&&(Array.isArray(a)?t.push({key:n,value:Z4(a,this.objId,this.scope)}):a instanceof Oa?(a.scope=this.scope,t.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&t.push({key:n,value:a}))}return t};var e3=function(){Oa.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(s){t=s.trim()},get:function(){return t||null}})};Zr(e3,Oa);var t3=function(){Oa.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var s=function(n){return n};return this.scope&&(s=this.scope.internal.getEncryptor(this.objId)),"("+pl(s(t))+")"}},set:function(s){t=s}})};Zr(t3,Oa);var la=function t(){Oa.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');e=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ks(e,3)},set:function(y){y?this.F=_s(e,3):this.F=Ss(e,3)}});var s=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return s},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');s=y}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(y){n=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(y){n[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(y){n[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(y){n[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(y){n[3]=y}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Cf)return;i="FieldObject"+t.FieldNum++}var y=function(b){return b};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+pl(y(i))+")"},set:function(y){i=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(y){i=y}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(y){c=y}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/Xy:d},set:function(y){d=y}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(y){u=y}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof Cf||this instanceof Qi))return a0(h,this.objId,this.scope)},set:function(y){y=y.toString(),h=y}});var f=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Us?f:a0(f,this.objId,this.scope)},set:function(y){y=y.toString(),f=this instanceof Us?y:y.substr(0,1)==="("?Ql(y.substr(1,y.length-2)):Ql(y)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Us?Ql(f.substr(1,f.length-1)):f},set:function(y){y=y.toString(),f=this instanceof Us?"/"+y:y}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Us?m:a0(m,this.objId,this.scope)},set:function(y){y=y.toString(),m=this instanceof Us?y:y.substr(0,1)==="("?Ql(y.substr(1,y.length-2)):Ql(y)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Us?Ql(m.substr(1,m.length-1)):m},set:function(y){y=y.toString(),m=this instanceof Us?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return x},set:function(y){y=!!y,x=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(y){g=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ks(this.Ff,1)},set:function(y){y?this.Ff=_s(this.Ff,1):this.Ff=Ss(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ks(this.Ff,2)},set:function(y){y?this.Ff=_s(this.Ff,2):this.Ff=Ss(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ks(this.Ff,3)},set:function(y){y?this.Ff=_s(this.Ff,3):this.Ff=Ss(this.Ff,3)}});var j=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(j!==null)return j},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');j=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(j){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:j=2;break;case"center":case 1:j=1;break;case"left":case 0:default:j=0}}})};Zr(la,Oa);var Go=function(){la.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(s){t=s}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Z4(e,this.objId,this.scope)},set:function(s){var n,a;a=[],typeof(n=s)=="string"&&(a=function(i,o,l){l||(l=1);for(var c,d=[];c=o.exec(i);)d.push(c[l]);return d}(n,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(s){e=s,this.sort&&e.sort()},this.addOption=function(s){s=(s=s||"").toString(),e.push(s),this.sort&&e.sort()},this.removeOption=function(s,n){for(n=n||!1,s=(s=s||"").toString();e.indexOf(s)!==-1&&(e.splice(e.indexOf(s),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ks(this.Ff,18)},set:function(s){s?this.Ff=_s(this.Ff,18):this.Ff=Ss(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ks(this.Ff,19)},set:function(s){this.combo===!0&&(s?this.Ff=_s(this.Ff,19):this.Ff=Ss(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ks(this.Ff,20)},set:function(s){s?(this.Ff=_s(this.Ff,20),e.sort()):this.Ff=Ss(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ks(this.Ff,22)},set:function(s){s?this.Ff=_s(this.Ff,22):this.Ff=Ss(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ks(this.Ff,23)},set:function(s){s?this.Ff=_s(this.Ff,23):this.Ff=Ss(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ks(this.Ff,27)},set:function(s){s?this.Ff=_s(this.Ff,27):this.Ff=Ss(this.Ff,27)}}),this.hasAppearanceStream=!1};Zr(Go,la);var Ko=function(){Go.call(this),this.fontName="helvetica",this.combo=!1};Zr(Ko,Go);var Xo=function(){Ko.call(this),this.combo=!0};Zr(Xo,Ko);var au=function(){Xo.call(this),this.edit=!0};Zr(au,Xo);var Us=function(){la.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ks(this.Ff,15)},set:function(s){s?this.Ff=_s(this.Ff,15):this.Ff=Ss(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ks(this.Ff,16)},set:function(s){s?this.Ff=_s(this.Ff,16):this.Ff=Ss(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ks(this.Ff,17)},set:function(s){s?this.Ff=_s(this.Ff,17):this.Ff=Ss(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ks(this.Ff,26)},set:function(s){s?this.Ff=_s(this.Ff,26):this.Ff=Ss(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(i){return i};if(this.scope&&(s=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,a=[];for(n in a.push("<<"),e)a.push("/"+n+" ("+pl(s(e[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(s){_t(s)==="object"&&(e=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(s){typeof s=="string"&&(e.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(s){t="/"+s}})};Zr(Us,la);var iu=function(){Us.call(this),this.pushButton=!0};Zr(iu,Us);var Qo=function(){Us.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Zr(Qo,Us);var Cf=function(){var t,e;la.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var s,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),n)o.push("/"+i+" ("+pl(a(n[i]))+")");return o.push(">>"),o.join(`
`)},set:function(a){_t(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return s},set:function(a){s=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return s.substr(1,s.length-1)},set:function(a){s="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ze.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Zr(Cf,la),Qo.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var s=this.Kids[e];s.appearanceStreamContent=t.createAppearanceStream(s.optionName),s.caption=t.getCA()}},Qo.prototype.createOption=function(t){var e=new Cf;return e.Parent=this,e.optionName=t,this.Kids.push(e),NY.call(this.scope,e),e};var ou=function(){Us.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ze.CheckBox.createAppearanceStream()};Zr(ou,Us);var Qi=function(){la.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ks(this.Ff,13)},set:function(e){e?this.Ff=_s(this.Ff,13):this.Ff=Ss(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ks(this.Ff,21)},set:function(e){e?this.Ff=_s(this.Ff,21):this.Ff=Ss(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ks(this.Ff,23)},set:function(e){e?this.Ff=_s(this.Ff,23):this.Ff=Ss(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ks(this.Ff,24)},set:function(e){e?this.Ff=_s(this.Ff,24):this.Ff=Ss(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ks(this.Ff,25)},set:function(e){e?this.Ff=_s(this.Ff,25):this.Ff=Ss(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ks(this.Ff,26)},set:function(e){e?this.Ff=_s(this.Ff,26):this.Ff=Ss(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Zr(Qi,la);var lu=function(){Qi.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ks(this.Ff,14)},set:function(t){t?this.Ff=_s(this.Ff,14):this.Ff=Ss(this.Ff,14)}}),this.password=!0};Zr(lu,Qi);var Ze={CheckBox:{createAppearanceStream:function(){return{N:{On:Ze.CheckBox.YesNormal},D:{On:Ze.CheckBox.YesPushDown,Off:Ze.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Na(t);e.scope=t.scope;var s=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),i=gg(t,t.caption);return s.push("0.749023 g"),s.push("0 0 "+ft(Ze.internal.getWidth(t))+" "+ft(Ze.internal.getHeight(t))+" re"),s.push("f"),s.push("BMC"),s.push("q"),s.push("0 0 1 rg"),s.push("/"+n+" "+ft(i.fontSize)+" Tf "+a),s.push("BT"),s.push(i.text),s.push("ET"),s.push("Q"),s.push("EMC"),e.stream=s.join(`
`),e},YesNormal:function(t){var e=Na(t);e.scope=t.scope;var s=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),a=[],i=Ze.internal.getHeight(t),o=Ze.internal.getWidth(t),l=gg(t,t.caption);return a.push("1 g"),a.push("0 0 "+ft(o)+" "+ft(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+ft(o-1)+" "+ft(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+s+" "+ft(l.fontSize)+" Tf "+n),a.push(l.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(t){var e=Na(t);e.scope=t.scope;var s=[];return s.push("0.749023 g"),s.push("0 0 "+ft(Ze.internal.getWidth(t))+" "+ft(Ze.internal.getHeight(t))+" re"),s.push("f"),e.stream=s.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Ze.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Ze.RadioButton.Circle.YesNormal,e.D[t]=Ze.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Na(t);e.scope=t.scope;var s=[],n=Ze.internal.getWidth(t)<=Ze.internal.getHeight(t)?Ze.internal.getWidth(t)/4:Ze.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Ze.internal.Bezier_C,i=Number((n*a).toFixed(5));return s.push("q"),s.push("1 0 0 1 "+Hi(Ze.internal.getWidth(t)/2)+" "+Hi(Ze.internal.getHeight(t)/2)+" cm"),s.push(n+" 0 m"),s.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),s.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),s.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),s.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),s.push("f"),s.push("Q"),e.stream=s.join(`
`),e},YesPushDown:function(t){var e=Na(t);e.scope=t.scope;var s=[],n=Ze.internal.getWidth(t)<=Ze.internal.getHeight(t)?Ze.internal.getWidth(t)/4:Ze.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Ze.internal.Bezier_C).toFixed(5)),o=Number((n*Ze.internal.Bezier_C).toFixed(5));return s.push("0.749023 g"),s.push("q"),s.push("1 0 0 1 "+Hi(Ze.internal.getWidth(t)/2)+" "+Hi(Ze.internal.getHeight(t)/2)+" cm"),s.push(a+" 0 m"),s.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),s.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),s.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),s.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),s.push("f"),s.push("Q"),s.push("0 g"),s.push("q"),s.push("1 0 0 1 "+Hi(Ze.internal.getWidth(t)/2)+" "+Hi(Ze.internal.getHeight(t)/2)+" cm"),s.push(n+" 0 m"),s.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),s.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),s.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),s.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),s.push("f"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(t){var e=Na(t);e.scope=t.scope;var s=[],n=Ze.internal.getWidth(t)<=Ze.internal.getHeight(t)?Ze.internal.getWidth(t)/4:Ze.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Ze.internal.Bezier_C).toFixed(5));return s.push("0.749023 g"),s.push("q"),s.push("1 0 0 1 "+Hi(Ze.internal.getWidth(t)/2)+" "+Hi(Ze.internal.getHeight(t)/2)+" cm"),s.push(a+" 0 m"),s.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),s.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),s.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),s.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),s.push("f"),s.push("Q"),e.stream=s.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Ze.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Ze.RadioButton.Cross.YesNormal,e.D[t]=Ze.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Na(t);e.scope=t.scope;var s=[],n=Ze.internal.calculateCross(t);return s.push("q"),s.push("1 1 "+ft(Ze.internal.getWidth(t)-2)+" "+ft(Ze.internal.getHeight(t)-2)+" re"),s.push("W"),s.push("n"),s.push(ft(n.x1.x)+" "+ft(n.x1.y)+" m"),s.push(ft(n.x2.x)+" "+ft(n.x2.y)+" l"),s.push(ft(n.x4.x)+" "+ft(n.x4.y)+" m"),s.push(ft(n.x3.x)+" "+ft(n.x3.y)+" l"),s.push("s"),s.push("Q"),e.stream=s.join(`
`),e},YesPushDown:function(t){var e=Na(t);e.scope=t.scope;var s=Ze.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+ft(Ze.internal.getWidth(t))+" "+ft(Ze.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+ft(Ze.internal.getWidth(t)-2)+" "+ft(Ze.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(ft(s.x1.x)+" "+ft(s.x1.y)+" m"),n.push(ft(s.x2.x)+" "+ft(s.x2.y)+" l"),n.push(ft(s.x4.x)+" "+ft(s.x4.y)+" m"),n.push(ft(s.x3.x)+" "+ft(s.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Na(t);e.scope=t.scope;var s=[];return s.push("0.749023 g"),s.push("0 0 "+ft(Ze.internal.getWidth(t))+" "+ft(Ze.internal.getHeight(t))+" re"),s.push("f"),e.stream=s.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,s=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+s}};Ze.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Ze.internal.getWidth(t),s=Ze.internal.getHeight(t),n=Math.min(e,s);return{x1:{x:(e-n)/2,y:(s-n)/2+n},x2:{x:(e-n)/2+n,y:(s-n)/2},x3:{x:(e-n)/2,y:(s-n)/2},x4:{x:(e-n)/2+n,y:(s-n)/2+n}}}},Ze.internal.getWidth=function(t){var e=0;return _t(t)==="object"&&(e=E2(t.Rect[2])),e},Ze.internal.getHeight=function(t){var e=0;return _t(t)==="object"&&(e=E2(t.Rect[3])),e};var NY=xs.addField=function(t){if(jY(this,t),!(t instanceof la))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};xs.AcroFormChoiceField=Go,xs.AcroFormListBox=Ko,xs.AcroFormComboBox=Xo,xs.AcroFormEditBox=au,xs.AcroFormButton=Us,xs.AcroFormPushButton=iu,xs.AcroFormRadioButton=Qo,xs.AcroFormCheckBox=ou,xs.AcroFormTextField=Qi,xs.AcroFormPasswordField=lu,xs.AcroFormAppearance=Ze,xs.AcroForm={ChoiceField:Go,ListBox:Ko,ComboBox:Xo,EditBox:au,Button:Us,PushButton:iu,RadioButton:Qo,CheckBox:ou,TextField:Qi,PasswordField:lu,Appearance:Ze},nt.AcroForm={ChoiceField:Go,ListBox:Ko,ComboBox:Xo,EditBox:au,Button:Us,PushButton:iu,RadioButton:Qo,CheckBox:ou,TextField:Qi,PasswordField:lu,Appearance:Ze};var kY=nt.AcroForm;function s3(t){return t.reduce(function(e,s,n){return e[s]=n,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",s={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=t.__addimage__.getImageFileTypeByImageData=function(S,C){var O,z,Z,q,R,X=e;if((C=C||e)==="RGBA"||S.data!==void 0&&S.data instanceof Uint8ClampedArray&&"height"in S&&"width"in S)return"RGBA";if(I(S))for(R in s)for(Z=s[R],O=0;O<Z.length;O+=1){for(q=!0,z=0;z<Z[O].length;z+=1)if(Z[O][z]!==void 0&&Z[O][z]!==S[z]){q=!1;break}if(q===!0){X=R;break}}else for(R in s)for(Z=s[R],O=0;O<Z.length;O+=1){for(q=!0,z=0;z<Z[O].length;z+=1)if(Z[O][z]!==void 0&&Z[O][z]!==S.charCodeAt(z)){q=!1;break}if(q===!0){X=R;break}}return X===e&&C!==e&&(X=C),X},a=function S(C){for(var O=this.internal.write,z=this.internal.putStream,Z=(0,this.internal.getFilters)();Z.indexOf("FlateEncode")!==-1;)Z.splice(Z.indexOf("FlateEncode"),1);C.objectId=this.internal.newObject();var q=[];if(q.push({key:"Type",value:"/XObject"}),q.push({key:"Subtype",value:"/Image"}),q.push({key:"Width",value:C.width}),q.push({key:"Height",value:C.height}),C.colorSpace===j.INDEXED?q.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(C.palette.length/3-1)+" "+("sMask"in C&&C.sMask!==void 0?C.objectId+2:C.objectId+1)+" 0 R]"}):(q.push({key:"ColorSpace",value:"/"+C.colorSpace}),C.colorSpace===j.DEVICE_CMYK&&q.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),q.push({key:"BitsPerComponent",value:C.bitsPerComponent}),"decodeParameters"in C&&C.decodeParameters!==void 0&&q.push({key:"DecodeParms",value:"<<"+C.decodeParameters+">>"}),"transparency"in C&&Array.isArray(C.transparency)){for(var R="",X=0,$=C.transparency.length;X<$;X++)R+=C.transparency[X]+" "+C.transparency[X]+" ";q.push({key:"Mask",value:"["+R+"]"})}C.sMask!==void 0&&q.push({key:"SMask",value:C.objectId+1+" 0 R"});var J=C.filter!==void 0?["/"+C.filter]:void 0;if(z({data:C.data,additionalKeyValues:q,alreadyAppliedFilters:J,objectId:C.objectId}),O("endobj"),"sMask"in C&&C.sMask!==void 0){var se="/Predictor "+C.predictor+" /Colors 1 /BitsPerComponent "+C.bitsPerComponent+" /Columns "+C.width,M={width:C.width,height:C.height,colorSpace:"DeviceGray",bitsPerComponent:C.bitsPerComponent,decodeParameters:se,data:C.sMask};"filter"in C&&(M.filter=C.filter),S.call(this,M)}if(C.colorSpace===j.INDEXED){var T=this.internal.newObject();z({data:v(new Uint8Array(C.palette)),objectId:T}),O("endobj")}},i=function(){var S=this.internal.collections.addImage_images;for(var C in S)a.call(this,S[C])},o=function(){var S,C=this.internal.collections.addImage_images,O=this.internal.write;for(var z in C)O("/I"+(S=C[z]).index,S.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var S=this.internal.collections.addImage_images;return l.call(this),S},d=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(S){return typeof t["process"+S.toUpperCase()]=="function"},h=function(S){return _t(S)==="object"&&S.nodeType===1},f=function(S,C){if(S.nodeName==="IMG"&&S.hasAttribute("src")){var O=""+S.getAttribute("src");if(O.indexOf("data:image/")===0)return nu(unescape(O).split("base64,").pop());var z=t.loadFile(O,!0);if(z!==void 0)return z}if(S.nodeName==="CANVAS"){if(S.width===0||S.height===0)throw new Error("Given canvas must have data. Canvas width: "+S.width+", height: "+S.height);var Z;switch(C){case"PNG":Z="image/png";break;case"WEBP":Z="image/webp";break;case"JPEG":case"JPG":default:Z="image/jpeg"}return nu(S.toDataURL(Z,1).split("base64,").pop())}},m=function(S){var C=this.internal.collections.addImage_images;if(C){for(var O in C)if(S===C[O].alias)return C[O]}},g=function(S,C,O){return S||C||(S=-96,C=-96),S<0&&(S=-1*O.width*72/S/this.internal.scaleFactor),C<0&&(C=-1*O.height*72/C/this.internal.scaleFactor),S===0&&(S=C*O.width/O.height),C===0&&(C=S*O.height/O.width),[S,C]},x=function(S,C,O,z,Z,q){var R=g.call(this,O,z,Z),X=this.internal.getCoordinateString,$=this.internal.getVerticalCoordinateString,J=c.call(this);if(O=R[0],z=R[1],J[Z.index]=Z,q){q*=Math.PI/180;var se=Math.cos(q),M=Math.sin(q),T=function(K){return K.toFixed(4)},B=[T(se),T(M),T(-1*M),T(se),0,0,"cm"]}this.internal.write("q"),q?(this.internal.write([1,"0","0",1,X(S),$(C+z),"cm"].join(" ")),this.internal.write(B.join(" ")),this.internal.write([X(O),"0","0",X(z),"0","0","cm"].join(" "))):this.internal.write([X(O),"0","0",X(z),X(S),$(C+z),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Z.index+" Do"),this.internal.write("Q")},j=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=t.__addimage__.sHashCode=function(S){var C,O,z=0;if(typeof S=="string")for(O=S.length,C=0;C<O;C++)z=(z<<5)-z+S.charCodeAt(C),z|=0;else if(I(S))for(O=S.byteLength/2,C=0;C<O;C++)z=(z<<5)-z+S[C],z|=0;return z},k=t.__addimage__.validateStringAsBase64=function(S){(S=S||"").toString().trim();var C=!0;return S.length===0&&(C=!1),S.length%4!=0&&(C=!1),/^[A-Za-z0-9+/]+$/.test(S.substr(0,S.length-2))===!1&&(C=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(S.substr(-2))===!1&&(C=!1),C},A=t.__addimage__.extractImageFromDataUrl=function(S){var C=(S=S||"").split("base64,"),O=null;if(C.length===2){var z=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(C[0]);Array.isArray(z)&&(O={mimeType:z[1],charset:z[2],data:C[1]})}return O},E=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(S){return E()&&S instanceof ArrayBuffer};var I=t.__addimage__.isArrayBufferView=function(S){return E()&&typeof Uint32Array<"u"&&(S instanceof Int8Array||S instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&S instanceof Uint8ClampedArray||S instanceof Int16Array||S instanceof Uint16Array||S instanceof Int32Array||S instanceof Uint32Array||S instanceof Float32Array||S instanceof Float64Array)},_=t.__addimage__.binaryStringToUint8Array=function(S){for(var C=S.length,O=new Uint8Array(C),z=0;z<C;z++)O[z]=S.charCodeAt(z);return O},v=t.__addimage__.arrayBufferToBinaryString=function(S){for(var C="",O=I(S)?S:new Uint8Array(S),z=0;z<O.length;z+=8192)C+=String.fromCharCode.apply(null,O.subarray(z,z+8192));return C};t.addImage=function(){var S,C,O,z,Z,q,R,X,$;if(typeof arguments[1]=="number"?(C=e,O=arguments[1],z=arguments[2],Z=arguments[3],q=arguments[4],R=arguments[5],X=arguments[6],$=arguments[7]):(C=arguments[1],O=arguments[2],z=arguments[3],Z=arguments[4],q=arguments[5],R=arguments[6],X=arguments[7],$=arguments[8]),_t(S=arguments[0])==="object"&&!h(S)&&"imageData"in S){var J=S;S=J.imageData,C=J.format||C||e,O=J.x||O||0,z=J.y||z||0,Z=J.w||J.width||Z,q=J.h||J.height||q,R=J.alias||R,X=J.compression||X,$=J.rotation||J.angle||$}var se=this.internal.getFilters();if(X===void 0&&se.indexOf("FlateEncode")!==-1&&(X="SLOW"),isNaN(O)||isNaN(z))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var M=P.call(this,S,C,R,X);return x.call(this,O,z,Z,q,M,$),this};var P=function(S,C,O,z){var Z,q,R;if(typeof S=="string"&&n(S)===e){S=unescape(S);var X=L(S,!1);(X!==""||(X=t.loadFile(S,!0))!==void 0)&&(S=X)}if(h(S)&&(S=f(S,C)),C=n(S,C),!u(C))throw new Error("addImage does not support files of type '"+C+"', please ensure that a plugin for '"+C+"' support is added.");if(((R=O)==null||R.length===0)&&(O=function($){return typeof $=="string"||I($)?b($):I($.data)?b($.data):null}(S)),(Z=m.call(this,O))||(E()&&(S instanceof Uint8Array||C==="RGBA"||(q=S,S=_(S))),Z=this["process"+C.toUpperCase()](S,d.call(this),O,function($){return $&&typeof $=="string"&&($=$.toUpperCase()),$ in t.image_compression?$:y.NONE}(z),q)),!Z)throw new Error("An unknown error occurred whilst processing the image.");return Z},L=t.__addimage__.convertBase64ToBinaryString=function(S,C){var O;C=typeof C!="boolean"||C;var z,Z="";if(typeof S=="string"){z=(O=A(S))!==null?O.data:S;try{Z=nu(z)}catch(q){if(C)throw k(z)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+q.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Z};t.getImageProperties=function(S){var C,O,z="";if(h(S)&&(S=f(S)),typeof S=="string"&&n(S)===e&&((z=L(S,!1))===""&&(z=t.loadFile(S)||""),S=z),O=n(S),!u(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(!E()||S instanceof Uint8Array||(S=_(S)),!(C=this["process"+O.toUpperCase()](S)))throw new Error("An unknown error occurred whilst processing the image");return C.fileType=O,C}})(nt.API),function(t){var e=function(s){if(s!==void 0&&s!="")return!0};nt.API.events.push(["addPage",function(s){this.internal.getPageInfo(s.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(s){for(var n,a,i,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(s.objId),d=s.pageContext.annotations,u=!1,h=0;h<d.length&&!u;h++)switch((n=d[h]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var f=0;f<d.length;f++){n=d[f];var m=this.internal.pdfEscape,g=this.internal.getEncryptor(s.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var x=this.internal.newAdditionalObject(),j=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(x.objId),b=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+m(y(n.contents))+")",i+=" /Popup "+j.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+m(y(b))+") >>",x.content=i;var k=x.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+k,n.open&&(i+=" /Open true"),i+=" >>",j.content=i,this.internal.write(x.objId,"0 R",j.objId,"0 R");break;case"freetext":a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var A=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+m(g(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+A+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var E=this.annotations._nameMap[n.options.name];n.options.pageNumber=E.page,n.options.top=E.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+m(g(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var I=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+I+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(s){var n=this.internal.getCurrentPageInfo();switch(s.type){case"link":this.link(s.bounds.x,s.bounds.y,s.bounds.w,s.bounds.h,s);break;case"text":case"freetext":n.pageContext.annotations.push(s)}},t.link=function(s,n,a,i,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(s),y:d(n),w:c(s+a),h:d(n+i)},options:o,type:"link"})},t.textWithLink=function(s,n,a,i){var o,l,c=this.getTextWidth(s),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var u=this.splitTextToSize(s,l).length;o=Math.ceil(d*u)}else l=c,o=d;return this.text(s,n,a,i),a+=.2*d,i.align==="center"&&(n-=c/2),i.align==="right"&&(n-=c),this.link(n,a-d,l,o,i),c},t.getTextWidth=function(s){var n=this.internal.getFontSize();return this.getStringUnitWidth(s)*n/this.internal.scaleFactor}}(nt.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},s={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(x){return e[x.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(x){return typeof x=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(x)},l=t.__arabicParser__.isArabicEndLetter=function(x){return o(x)&&i(x)&&e[x.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(x){return o(x)&&a.indexOf(x.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(x){return o(x)&&i(x)&&e[x.charCodeAt(0)].length>=1};var d=t.__arabicParser__.arabicLetterHasFinalForm=function(x){return o(x)&&i(x)&&e[x.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(x){return o(x)&&i(x)&&e[x.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(x){return o(x)&&i(x)&&e[x.charCodeAt(0)].length==4},h=t.__arabicParser__.resolveLigatures=function(x){var j=0,y=s,b="",k=0;for(j=0;j<x.length;j+=1)y[x.charCodeAt(j)]!==void 0?(k++,typeof(y=y[x.charCodeAt(j)])=="number"&&(b+=String.fromCharCode(y),y=s,k=0),j===x.length-1&&(y=s,b+=x.charAt(j-(k-1)),j-=k-1,k=0)):(y=s,b+=x.charAt(j-k),j-=k,k=0);return b};t.__arabicParser__.isArabicDiacritic=function(x){return x!==void 0&&n[x.charCodeAt(0)]!==void 0};var f=t.__arabicParser__.getCorrectForm=function(x,j,y){return o(x)?i(x)===!1?-1:!d(x)||!o(j)&&!o(y)||!o(y)&&l(j)||l(x)&&!o(j)||l(x)&&c(j)||l(x)&&l(j)?0:u(x)&&o(j)&&!l(j)&&o(y)&&d(y)?3:l(x)||!o(y)?1:2:-1},m=function(x){var j=0,y=0,b=0,k="",A="",E="",I=(x=x||"").split("\\s+"),_=[];for(j=0;j<I.length;j+=1){for(_.push(""),y=0;y<I[j].length;y+=1)k=I[j][y],A=I[j][y-1],E=I[j][y+1],o(k)?(b=f(k,A,E),_[j]+=b!==-1?String.fromCharCode(e[k.charCodeAt(0)][b]):k):_[j]+=k;_[j]=h(_[j])}return _.join(" ")},g=t.__arabicParser__.processArabic=t.processArabic=function(){var x,j=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(j)){var b=0;for(y=[],b=0;b<j.length;b+=1)Array.isArray(j[b])?y.push([m(j[b][0]),j[b][1],j[b][2]]):y.push([m(j[b])]);x=y}else x=m(j);return typeof arguments[0]=="string"?x:(arguments[0].text=x,arguments[0])};t.events.push(["preProcessText",g])}(nt.API),nt.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var s=void 0;Object.defineProperty(this,"pdf",{get:function(){return s},set:function(l){s=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(s,n){var a;if((s=s||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(nt.API),function(t){var e={left:0,top:0,bottom:0,right:0},s=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(x){c=x}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(x){d=x}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(x){u=x}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(x){h=x}});var f=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return f},set:function(x){f=x}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(x){m=x}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(x){g=x}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,d){n.call(this);var u=(d=d||{}).fontSize||this.getFontSize(),h=d.font||this.getFont(),f=d.scaleFactor||this.internal.scaleFactor,m=0,g=0,x=0,j=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var y=d.maxWidth;y>0?typeof c=="string"?c=this.splitTextToSize(c,y):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(k,A){return k.concat(j.splitTextToSize(A,y))},[])):c=Array.isArray(c)?c:[c];for(var b=0;b<c.length;b++)m<(x=this.getStringUnitWidth(c[b],{font:h})*u)&&(m=x);return m!==0&&(g=c.length),{w:m/=f,h:Math.max((g*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/f,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var d=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,f=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=h.top,m&&f&&(this.printHeaderRow(c.lineNumber,!0),c.y+=f[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,s===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-u,c.y+u,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+u,{align:"center",baseline:"top",maxWidth:c.width-u-u}):this.text(c.text,c.x+u,c.y+u,{align:"left",baseline:"top",maxWidth:c.width-u-u})),this.internal.__cell__.lastCell=c,this};t.table=function(c,d,u,h,f){if(n.call(this),!u)throw new Error("No data for PDF table.");var m,g,x,j,y=[],b=[],k=[],A={},E={},I=[],_=[],v=(f=f||{}).autoSize||!1,P=f.printHeaders!==!1,L=f.css&&f.css["font-size"]!==void 0?16*f.css["font-size"]:f.fontSize||12,S=f.margins||Object.assign({width:this.getPageWidth()},e),C=typeof f.padding=="number"?f.padding:3,O=f.headerBackgroundColor||"#c8c8c8",z=f.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=P,this.internal.__cell__.margins=S,this.internal.__cell__.table_font_size=L,this.internal.__cell__.padding=C,this.internal.__cell__.headerBackgroundColor=O,this.internal.__cell__.headerTextColor=z,this.setFontSize(L),h==null)b=y=Object.keys(u[0]),k=y.map(function(){return"left"});else if(Array.isArray(h)&&_t(h[0])==="object")for(y=h.map(function(J){return J.name}),b=h.map(function(J){return J.prompt||J.name||""}),k=h.map(function(J){return J.align||"left"}),m=0;m<h.length;m+=1)E[h[m].name]=h[m].width*(19.049976/25.4);else Array.isArray(h)&&typeof h[0]=="string"&&(b=y=h,k=y.map(function(){return"left"}));if(v||Array.isArray(h)&&typeof h[0]=="string")for(m=0;m<y.length;m+=1){for(A[j=y[m]]=u.map(function(J){return J[j]}),this.setFont(void 0,"bold"),I.push(this.getTextDimensions(b[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=A[j],this.setFont(void 0,"normal"),x=0;x<g.length;x+=1)I.push(this.getTextDimensions(g[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);E[j]=Math.max.apply(null,I)+C+C,I=[]}if(P){var Z={};for(m=0;m<y.length;m+=1)Z[y[m]]={},Z[y[m]].text=b[m],Z[y[m]].align=k[m];var q=l.call(this,Z,E);_=y.map(function(J){return new i(c,d,E[J],q,Z[J].text,void 0,Z[J].align)}),this.setTableHeaderRow(_),this.printHeaderRow(1,!1)}var R=h.reduce(function(J,se){return J[se.name]=se.align,J},{});for(m=0;m<u.length;m+=1){"rowStart"in f&&f.rowStart instanceof Function&&f.rowStart({row:m,data:u[m]},this);var X=l.call(this,u[m],E);for(x=0;x<y.length;x+=1){var $=u[m][y[x]];"cellStart"in f&&f.cellStart instanceof Function&&f.cellStart({row:m,col:x,data:$},this),o.call(this,new i(c,d,E[y[x]],X,$,m+2,R[y[x]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var l=function(c,d){var u=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,f=this.internal.scaleFactor;return Object.keys(c).map(function(m){var g=c[m];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,d[m]-u-u)},this).map(function(m){return this.getLineHeightFactor()*m.length*h/f+u+u},this).reduce(function(m,g){return Math.max(m,g)},0)};t.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,d){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(s=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var f=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){u=this.internal.__cell__.tableHeaderRow[m].clone(),d&&(u.y=this.internal.__cell__.margins.top||0,f.push(u)),u.lineNumber=c;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(g)}f.length>0&&this.setTableHeaderRow(f),this.setFont(void 0,"normal"),s=!1}}(nt.API);var r3={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},n3=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],yg=s3(n3),a3=[100,200,300,400,500,600,700,800,900],_Y=s3(a3);function bg(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),s=function(i){return r3[i=i||"normal"]?i:"normal"}(t.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(t.weight),a=function(i){return typeof yg[i=i||"normal"]=="number"?i:"normal"}(t.stretch);return{family:e,style:s,weight:n,stretch:a,src:t.src||[],ref:t.ref||{name:e,style:[a,s,n].join(" ")}}}function D2(t,e,s,n){var a;for(a=s;a>=0&&a<e.length;a+=n)if(t[e[a]])return t[e[a]];for(a=s;a>=0&&a<e.length;a-=n)if(t[e[a]])return t[e[a]]}var SY={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},L2={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function I2(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function AY(t,e,s){for(var n=(s=s||{}).defaultFontFamily||"times",a=Object.assign({},SY,s.genericFontFamilies||{}),i=null,o=null,l=0;l<e.length;++l)if(a[(i=bg(e[l])).family]&&(i.family=a[i.family]),t.hasOwnProperty(i.family)){o=t[i.family];break}if(!(o=o||t[n]))throw new Error("Could not find a font-family for the rule '"+I2(i)+"' and default family '"+n+"'.");if(o=function(c,d){if(d[c])return d[c];var u=yg[c],h=u<=yg.normal?-1:1,f=D2(d,n3,u,h);if(!f)throw new Error("Could not find a matching font-stretch value for "+c);return f}(i.stretch,o),o=function(c,d){if(d[c])return d[c];for(var u=r3[c],h=0;h<u.length;++h)if(d[u[h]])return d[u[h]];throw new Error("Could not find a matching font-style for "+c)}(i.style,o),!(o=function(c,d){if(d[c])return d[c];if(c===400&&d[500])return d[500];if(c===500&&d[400])return d[400];var u=_Y[c],h=D2(d,a3,u,c<400?-1:1);if(!h)throw new Error("Could not find a matching font-weight for value "+c);return h}(i.weight,o)))throw new Error("Failed to resolve a font for the rule '"+I2(i)+"'.");return o}function M2(t){return t.trimLeft()}function CY(t,e){for(var s=0;s<t.length;){if(t.charAt(s)===e)return[t.substring(0,s),t.substring(s+1)];s+=1}return null}function PY(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var gm,T2,F2,i0=["times"];(function(t){var e,s,n,a,i,o,l,c,d,u=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new c,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new o,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new o,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,s=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,d=new u}]);var h=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var T=M;Object.defineProperty(this,"pdf",{get:function(){return T}});var B=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return B},set:function(ke){B=!!ke}});var K=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return K},set:function(ke){K=!!ke}});var Y=0;Object.defineProperty(this,"posX",{get:function(){return Y},set:function(ke){isNaN(ke)||(Y=ke)}});var re=0;Object.defineProperty(this,"posY",{get:function(){return re},set:function(ke){isNaN(ke)||(re=ke)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(ke){var ae;typeof ke=="number"?ae=[ke,ke,ke,ke]:((ae=new Array(4))[0]=ke[0],ae[1]=ke.length>=2?ke[1]:ae[0],ae[2]=ke.length>=3?ke[2]:ae[0],ae[3]=ke.length>=4?ke[3]:ae[1]),d.margin=ae}});var ie=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ie},set:function(ke){ie=ke}});var he=0;Object.defineProperty(this,"lastBreak",{get:function(){return he},set:function(ke){he=ke}});var Ce=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ce},set:function(ke){Ce=ke}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(ke){ke instanceof u&&(d=ke)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(ke){d.path=ke}});var be=[];Object.defineProperty(this,"ctxStack",{get:function(){return be},set:function(ke){be=ke}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ke){var ae;ae=f(ke),this.ctx.fillStyle=ae.style,this.ctx.isFillTransparent=ae.a===0,this.ctx.fillOpacity=ae.a,this.pdf.setFillColor(ae.r,ae.g,ae.b,{a:ae.a}),this.pdf.setTextColor(ae.r,ae.g,ae.b,{a:ae.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ke){var ae=f(ke);this.ctx.strokeStyle=ae.style,this.ctx.isStrokeTransparent=ae.a===0,this.ctx.strokeOpacity=ae.a,ae.a===0?this.pdf.setDrawColor(255,255,255):(ae.a,this.pdf.setDrawColor(ae.r,ae.g,ae.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ke){["butt","round","square"].indexOf(ke)!==-1&&(this.ctx.lineCap=ke,this.pdf.setLineCap(ke))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ke){isNaN(ke)||(this.ctx.lineWidth=ke,this.pdf.setLineWidth(ke))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ke){["bevel","round","miter"].indexOf(ke)!==-1&&(this.ctx.lineJoin=ke,this.pdf.setLineJoin(ke))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ke){isNaN(ke)||(this.ctx.miterLimit=ke,this.pdf.setMiterLimit(ke))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ke){this.ctx.textBaseline=ke}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ke){["right","end","center","left","start"].indexOf(ke)!==-1&&(this.ctx.textAlign=ke)}});var Fe=null;function Re(ke,ae){if(Fe===null){var et=function(te){var oe=[];return Object.keys(te).forEach(function(ue){te[ue].forEach(function(_e){var we=null;switch(_e){case"bold":we={family:ue,weight:"bold"};break;case"italic":we={family:ue,style:"italic"};break;case"bolditalic":we={family:ue,weight:"bold",style:"italic"};break;case"":case"normal":we={family:ue}}we!==null&&(we.ref={name:ue,style:_e},oe.push(we))})}),oe}(ke.getFontList());Fe=function(te){for(var oe={},ue=0;ue<te.length;++ue){var _e=bg(te[ue]),we=_e.family,Se=_e.stretch,De=_e.style,ze=_e.weight;oe[we]=oe[we]||{},oe[we][Se]=oe[we][Se]||{},oe[we][Se][De]=oe[we][Se][De]||{},oe[we][Se][De][ze]=_e}return oe}(et.concat(ae))}return Fe}var He=null;Object.defineProperty(this,"fontFaces",{get:function(){return He},set:function(ke){Fe=null,He=ke}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ke){var ae;if(this.ctx.font=ke,(ae=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ke))!==null){var et=ae[1],te=(ae[2],ae[3]),oe=ae[4],ue=(ae[5],ae[6]),_e=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(oe)[2];oe=Math.floor(_e==="px"?parseFloat(oe)*this.pdf.internal.scaleFactor:_e==="em"?parseFloat(oe)*this.pdf.getFontSize():parseFloat(oe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(oe);var we=function(rt){var ut,qe,Ft=[],gt=rt.trim();if(gt==="")return i0;if(gt in L2)return[L2[gt]];for(;gt!=="";){switch(qe=null,ut=(gt=M2(gt)).charAt(0)){case'"':case"'":qe=CY(gt.substring(1),ut);break;default:qe=PY(gt)}if(qe===null||(Ft.push(qe[0]),(gt=M2(qe[1]))!==""&&gt.charAt(0)!==","))return i0;gt=gt.replace(/^,/,"")}return Ft}(ue);if(this.fontFaces){var Se=AY(Re(this.pdf,this.fontFaces),we.map(function(rt){return{family:rt,stretch:"normal",weight:te,style:et}}));this.pdf.setFont(Se.ref.name,Se.ref.style)}else{var De="";(te==="bold"||parseInt(te,10)>=700||et==="bold")&&(De="bold"),et==="italic"&&(De+="italic"),De.length===0&&(De="normal");for(var ze="",Ue={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Xe=0;Xe<we.length;Xe++){if(this.pdf.internal.getFont(we[Xe],De,{noFallback:!0,disableWarning:!0})!==void 0){ze=we[Xe];break}if(De==="bolditalic"&&this.pdf.internal.getFont(we[Xe],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ze=we[Xe],De="bold";else if(this.pdf.internal.getFont(we[Xe],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ze=we[Xe],De="normal";break}}if(ze===""){for(var it=0;it<we.length;it++)if(Ue[we[it]]){ze=Ue[we[it]];break}}ze=ze===""?"Times":ze,this.pdf.setFont(ze,De)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ke){this.ctx.globalCompositeOperation=ke}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ke){this.ctx.globalAlpha=ke}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ke){this.ctx.lineDashOffset=ke,se.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ke){this.ctx.lineDash=ke,se.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ke){this.ctx.ignoreClearRect=!!ke}})};h.prototype.setLineDash=function(M){this.lineDash=M},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){A.call(this,"fill",!1)},h.prototype.stroke=function(){A.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(M,T){if(isNaN(M)||isNaN(T))throw Ut.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var B=this.ctx.transform.applyToPoint(new o(M,T));this.path.push({type:"mt",x:B.x,y:B.y}),this.ctx.lastPoint=new o(M,T)},h.prototype.closePath=function(){var M=new o(0,0),T=0;for(T=this.path.length-1;T!==-1;T--)if(this.path[T].type==="begin"&&_t(this.path[T+1])==="object"&&typeof this.path[T+1].x=="number"){M=new o(this.path[T+1].x,this.path[T+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(M.x,M.y)},h.prototype.lineTo=function(M,T){if(isNaN(M)||isNaN(T))throw Ut.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var B=this.ctx.transform.applyToPoint(new o(M,T));this.path.push({type:"lt",x:B.x,y:B.y}),this.ctx.lastPoint=new o(B.x,B.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),A.call(this,null,!0)},h.prototype.quadraticCurveTo=function(M,T,B,K){if(isNaN(B)||isNaN(K)||isNaN(M)||isNaN(T))throw Ut.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Y=this.ctx.transform.applyToPoint(new o(B,K)),re=this.ctx.transform.applyToPoint(new o(M,T));this.path.push({type:"qct",x1:re.x,y1:re.y,x:Y.x,y:Y.y}),this.ctx.lastPoint=new o(Y.x,Y.y)},h.prototype.bezierCurveTo=function(M,T,B,K,Y,re){if(isNaN(Y)||isNaN(re)||isNaN(M)||isNaN(T)||isNaN(B)||isNaN(K))throw Ut.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ie=this.ctx.transform.applyToPoint(new o(Y,re)),he=this.ctx.transform.applyToPoint(new o(M,T)),Ce=this.ctx.transform.applyToPoint(new o(B,K));this.path.push({type:"bct",x1:he.x,y1:he.y,x2:Ce.x,y2:Ce.y,x:ie.x,y:ie.y}),this.ctx.lastPoint=new o(ie.x,ie.y)},h.prototype.arc=function(M,T,B,K,Y,re){if(isNaN(M)||isNaN(T)||isNaN(B)||isNaN(K)||isNaN(Y))throw Ut.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(re=!!re,!this.ctx.transform.isIdentity){var ie=this.ctx.transform.applyToPoint(new o(M,T));M=ie.x,T=ie.y;var he=this.ctx.transform.applyToPoint(new o(0,B)),Ce=this.ctx.transform.applyToPoint(new o(0,0));B=Math.sqrt(Math.pow(he.x-Ce.x,2)+Math.pow(he.y-Ce.y,2))}Math.abs(Y-K)>=2*Math.PI&&(K=0,Y=2*Math.PI),this.path.push({type:"arc",x:M,y:T,radius:B,startAngle:K,endAngle:Y,counterclockwise:re})},h.prototype.arcTo=function(M,T,B,K,Y){throw new Error("arcTo not implemented.")},h.prototype.rect=function(M,T,B,K){if(isNaN(M)||isNaN(T)||isNaN(B)||isNaN(K))throw Ut.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,T),this.lineTo(M+B,T),this.lineTo(M+B,T+K),this.lineTo(M,T+K),this.lineTo(M,T),this.lineTo(M+B,T),this.lineTo(M,T)},h.prototype.fillRect=function(M,T,B,K){if(isNaN(M)||isNaN(T)||isNaN(B)||isNaN(K))throw Ut.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var Y={};this.lineCap!=="butt"&&(Y.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Y.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,T,B,K),this.fill(),Y.hasOwnProperty("lineCap")&&(this.lineCap=Y.lineCap),Y.hasOwnProperty("lineJoin")&&(this.lineJoin=Y.lineJoin)}},h.prototype.strokeRect=function(M,T,B,K){if(isNaN(M)||isNaN(T)||isNaN(B)||isNaN(K))throw Ut.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(M,T,B,K),this.stroke())},h.prototype.clearRect=function(M,T,B,K){if(isNaN(M)||isNaN(T)||isNaN(B)||isNaN(K))throw Ut.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,T,B,K))},h.prototype.save=function(M){M=typeof M!="boolean"||M;for(var T=this.pdf.internal.getCurrentPageInfo().pageNumber,B=0;B<this.pdf.internal.getNumberOfPages();B++)this.pdf.setPage(B+1),this.pdf.internal.out("q");if(this.pdf.setPage(T),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var K=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=K}},h.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var T=this.pdf.internal.getCurrentPageInfo().pageNumber,B=0;B<this.pdf.internal.getNumberOfPages();B++)this.pdf.setPage(B+1),this.pdf.internal.out("Q");this.pdf.setPage(T),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function(M){var T,B,K,Y;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))T=0,B=0,K=0,Y=0;else{var re=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(re!==null)T=parseInt(re[1]),B=parseInt(re[2]),K=parseInt(re[3]),Y=1;else if((re=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)T=parseInt(re[1]),B=parseInt(re[2]),K=parseInt(re[3]),Y=parseFloat(re[4]);else{if(Y=1,typeof M=="string"&&M.charAt(0)!=="#"){var ie=new X4(M);M=ie.ok?ie.toHex():"#000000"}M.length===4?(T=M.substring(1,2),T+=T,B=M.substring(2,3),B+=B,K=M.substring(3,4),K+=K):(T=M.substring(1,3),B=M.substring(3,5),K=M.substring(5,7)),T=parseInt(T,16),B=parseInt(B,16),K=parseInt(K,16)}}return{r:T,g:B,b:K,a:Y,style:M}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(M,T,B,K){if(isNaN(T)||isNaN(B)||typeof M!="string")throw Ut.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(K=isNaN(K)?void 0:K,!m.call(this)){var Y=X(this.ctx.transform.rotation),re=this.ctx.transform.scaleX;C.call(this,{text:M,x:T,y:B,scale:re,angle:Y,align:this.textAlign,maxWidth:K})}},h.prototype.strokeText=function(M,T,B,K){if(isNaN(T)||isNaN(B)||typeof M!="string")throw Ut.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){K=isNaN(K)?void 0:K;var Y=X(this.ctx.transform.rotation),re=this.ctx.transform.scaleX;C.call(this,{text:M,x:T,y:B,scale:re,renderingMode:"stroke",angle:Y,align:this.textAlign,maxWidth:K})}},h.prototype.measureText=function(M){if(typeof M!="string")throw Ut.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var T=this.pdf,B=this.pdf.internal.scaleFactor,K=T.internal.getFontSize(),Y=T.getStringUnitWidth(M)*K/T.internal.scaleFactor,re=function(ie){var he=(ie=ie||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return he}}),this};return new re({width:Y*=Math.round(96*B/72*1e4)/1e4})},h.prototype.scale=function(M,T){if(isNaN(M)||isNaN(T))throw Ut.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var B=new c(M,0,0,T,0,0);this.ctx.transform=this.ctx.transform.multiply(B)},h.prototype.rotate=function(M){if(isNaN(M))throw Ut.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var T=new c(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(T)},h.prototype.translate=function(M,T){if(isNaN(M)||isNaN(T))throw Ut.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var B=new c(1,0,0,1,M,T);this.ctx.transform=this.ctx.transform.multiply(B)},h.prototype.transform=function(M,T,B,K,Y,re){if(isNaN(M)||isNaN(T)||isNaN(B)||isNaN(K)||isNaN(Y)||isNaN(re))throw Ut.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ie=new c(M,T,B,K,Y,re);this.ctx.transform=this.ctx.transform.multiply(ie)},h.prototype.setTransform=function(M,T,B,K,Y,re){M=isNaN(M)?1:M,T=isNaN(T)?0:T,B=isNaN(B)?0:B,K=isNaN(K)?1:K,Y=isNaN(Y)?0:Y,re=isNaN(re)?0:re,this.ctx.transform=new c(M,T,B,K,Y,re)};var x=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(M,T,B,K,Y,re,ie,he,Ce){var be=this.pdf.getImageProperties(M),Fe=1,Re=1,He=1,ke=1;K!==void 0&&he!==void 0&&(He=he/K,ke=Ce/Y,Fe=be.width/K*he/K,Re=be.height/Y*Ce/Y),re===void 0&&(re=T,ie=B,T=0,B=0),K!==void 0&&he===void 0&&(he=K,Ce=Y),K===void 0&&he===void 0&&(he=be.width,Ce=be.height);for(var ae,et=this.ctx.transform.decompose(),te=X(et.rotate.shx),oe=new c,ue=(oe=(oe=(oe=oe.multiply(et.translate)).multiply(et.skew)).multiply(et.scale)).applyToRectangle(new l(re-T*He,ie-B*ke,K*Fe,Y*Re)),_e=j.call(this,ue),we=[],Se=0;Se<_e.length;Se+=1)we.indexOf(_e[Se])===-1&&we.push(_e[Se]);if(k(we),this.autoPaging)for(var De=we[0],ze=we[we.length-1],Ue=De;Ue<ze+1;Ue++){this.pdf.setPage(Ue);var Xe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],it=Ue===1?this.posY+this.margin[0]:this.margin[0],rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ut=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],qe=Ue===1?0:rt+(Ue-2)*ut;if(this.ctx.clip_path.length!==0){var Ft=this.path;ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(ae,this.posX+this.margin[3],-qe+it+this.ctx.prevPageLastElemOffset),E.call(this,"fill",!0),this.path=Ft}var gt=JSON.parse(JSON.stringify(ue));gt=b([gt],this.posX+this.margin[3],-qe+it+this.ctx.prevPageLastElemOffset)[0];var mr=(Ue>De||Ue<ze)&&x.call(this);mr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Xe,ut,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",gt.x,gt.y,gt.w,gt.h,null,null,te),mr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(M,"JPEG",ue.x,ue.y,ue.w,ue.h,null,null,te)};var j=function(M,T,B){var K=[];T=T||this.pdf.internal.pageSize.width,B=B||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Y=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":K.push(Math.floor((M.y+Y)/B)+1);break;case"arc":K.push(Math.floor((M.y+Y-M.radius)/B)+1),K.push(Math.floor((M.y+Y+M.radius)/B)+1);break;case"qct":var re=$(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);K.push(Math.floor((re.y+Y)/B)+1),K.push(Math.floor((re.y+re.h+Y)/B)+1);break;case"bct":var ie=J(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);K.push(Math.floor((ie.y+Y)/B)+1),K.push(Math.floor((ie.y+ie.h+Y)/B)+1);break;case"rect":K.push(Math.floor((M.y+Y)/B)+1),K.push(Math.floor((M.y+M.h+Y)/B)+1)}for(var he=0;he<K.length;he+=1)for(;this.pdf.internal.getNumberOfPages()<K[he];)y.call(this);return K},y=function(){var M=this.fillStyle,T=this.strokeStyle,B=this.font,K=this.lineCap,Y=this.lineWidth,re=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=T,this.font=B,this.lineCap=K,this.lineWidth=Y,this.lineJoin=re},b=function(M,T,B){for(var K=0;K<M.length;K++)switch(M[K].type){case"bct":M[K].x2+=T,M[K].y2+=B;case"qct":M[K].x1+=T,M[K].y1+=B;case"mt":case"lt":case"arc":default:M[K].x+=T,M[K].y+=B}return M},k=function(M){return M.sort(function(T,B){return T-B})},A=function(M,T){for(var B,K,Y=this.fillStyle,re=this.strokeStyle,ie=this.lineCap,he=this.lineWidth,Ce=Math.abs(he*this.ctx.transform.scaleX),be=this.lineJoin,Fe=JSON.parse(JSON.stringify(this.path)),Re=JSON.parse(JSON.stringify(this.path)),He=[],ke=0;ke<Re.length;ke++)if(Re[ke].x!==void 0)for(var ae=j.call(this,Re[ke]),et=0;et<ae.length;et+=1)He.indexOf(ae[et])===-1&&He.push(ae[et]);for(var te=0;te<He.length;te++)for(;this.pdf.internal.getNumberOfPages()<He[te];)y.call(this);if(k(He),this.autoPaging)for(var oe=He[0],ue=He[He.length-1],_e=oe;_e<ue+1;_e++){this.pdf.setPage(_e),this.fillStyle=Y,this.strokeStyle=re,this.lineCap=ie,this.lineWidth=Ce,this.lineJoin=be;var we=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Se=_e===1?this.posY+this.margin[0]:this.margin[0],De=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ze=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ue=_e===1?0:De+(_e-2)*ze;if(this.ctx.clip_path.length!==0){var Xe=this.path;B=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(B,this.posX+this.margin[3],-Ue+Se+this.ctx.prevPageLastElemOffset),E.call(this,M,!0),this.path=Xe}if(K=JSON.parse(JSON.stringify(Fe)),this.path=b(K,this.posX+this.margin[3],-Ue+Se+this.ctx.prevPageLastElemOffset),T===!1||_e===0){var it=(_e>oe||_e<ue)&&x.call(this);it&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],we,ze,null).clip().discardPath()),E.call(this,M,T),it&&this.pdf.restoreGraphicsState()}this.lineWidth=he}else this.lineWidth=Ce,E.call(this,M,T),this.lineWidth=he;this.path=Fe},E=function(M,T){if((M!=="stroke"||T||!g.call(this))&&(M==="stroke"||T||!m.call(this))){for(var B,K,Y=[],re=this.path,ie=0;ie<re.length;ie++){var he=re[ie];switch(he.type){case"begin":Y.push({begin:!0});break;case"close":Y.push({close:!0});break;case"mt":Y.push({start:he,deltas:[],abs:[]});break;case"lt":var Ce=Y.length;if(re[ie-1]&&!isNaN(re[ie-1].x)&&(B=[he.x-re[ie-1].x,he.y-re[ie-1].y],Ce>0)){for(;Ce>=0;Ce--)if(Y[Ce-1].close!==!0&&Y[Ce-1].begin!==!0){Y[Ce-1].deltas.push(B),Y[Ce-1].abs.push(he);break}}break;case"bct":B=[he.x1-re[ie-1].x,he.y1-re[ie-1].y,he.x2-re[ie-1].x,he.y2-re[ie-1].y,he.x-re[ie-1].x,he.y-re[ie-1].y],Y[Y.length-1].deltas.push(B);break;case"qct":var be=re[ie-1].x+2/3*(he.x1-re[ie-1].x),Fe=re[ie-1].y+2/3*(he.y1-re[ie-1].y),Re=he.x+2/3*(he.x1-he.x),He=he.y+2/3*(he.y1-he.y),ke=he.x,ae=he.y;B=[be-re[ie-1].x,Fe-re[ie-1].y,Re-re[ie-1].x,He-re[ie-1].y,ke-re[ie-1].x,ae-re[ie-1].y],Y[Y.length-1].deltas.push(B);break;case"arc":Y.push({deltas:[],abs:[],arc:!0}),Array.isArray(Y[Y.length-1].abs)&&Y[Y.length-1].abs.push(he)}}K=T?null:M==="stroke"?"stroke":"fill";for(var et=!1,te=0;te<Y.length;te++)if(Y[te].arc)for(var oe=Y[te].abs,ue=0;ue<oe.length;ue++){var _e=oe[ue];_e.type==="arc"?v.call(this,_e.x,_e.y,_e.radius,_e.startAngle,_e.endAngle,_e.counterclockwise,void 0,T,!et):O.call(this,_e.x,_e.y),et=!0}else if(Y[te].close===!0)this.pdf.internal.out("h"),et=!1;else if(Y[te].begin!==!0){var we=Y[te].start.x,Se=Y[te].start.y;z.call(this,Y[te].deltas,we,Se),et=!0}K&&P.call(this,K),T&&L.call(this)}},I=function(M){var T=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,B=T*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-B;case"top":return M+T-B;case"hanging":return M+T-2*B;case"middle":return M+T/2-B;case"ideographic":return M;case"alphabetic":default:return M}},_=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(T,B){this.colorStops.push([T,B])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var v=function(M,T,B,K,Y,re,ie,he,Ce){for(var be=q.call(this,B,K,Y,re),Fe=0;Fe<be.length;Fe++){var Re=be[Fe];Fe===0&&(Ce?S.call(this,Re.x1+M,Re.y1+T):O.call(this,Re.x1+M,Re.y1+T)),Z.call(this,M,T,Re.x2,Re.y2,Re.x3,Re.y3,Re.x4,Re.y4)}he?L.call(this):P.call(this,ie)},P=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},L=function(){this.pdf.clip(),this.pdf.discardPath()},S=function(M,T){this.pdf.internal.out(s(M)+" "+n(T)+" m")},C=function(M){var T;switch(M.align){case"right":case"end":T="right";break;case"center":T="center";break;case"left":case"start":default:T="left"}var B=this.pdf.getTextDimensions(M.text),K=I.call(this,M.y),Y=_.call(this,K)-B.h,re=this.ctx.transform.applyToPoint(new o(M.x,K)),ie=this.ctx.transform.decompose(),he=new c;he=(he=(he=he.multiply(ie.translate)).multiply(ie.skew)).multiply(ie.scale);for(var Ce,be,Fe,Re=this.ctx.transform.applyToRectangle(new l(M.x,K,B.w,B.h)),He=he.applyToRectangle(new l(M.x,Y,B.w,B.h)),ke=j.call(this,He),ae=[],et=0;et<ke.length;et+=1)ae.indexOf(ke[et])===-1&&ae.push(ke[et]);if(k(ae),this.autoPaging)for(var te=ae[0],oe=ae[ae.length-1],ue=te;ue<oe+1;ue++){this.pdf.setPage(ue);var _e=ue===1?this.posY+this.margin[0]:this.margin[0],we=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Se=this.pdf.internal.pageSize.height-this.margin[2],De=Se-this.margin[0],ze=this.pdf.internal.pageSize.width-this.margin[1],Ue=ze-this.margin[3],Xe=ue===1?0:we+(ue-2)*De;if(this.ctx.clip_path.length!==0){var it=this.path;Ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(Ce,this.posX+this.margin[3],-1*Xe+_e),E.call(this,"fill",!0),this.path=it}var rt=b([JSON.parse(JSON.stringify(He))],this.posX+this.margin[3],-Xe+_e+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(be=this.pdf.internal.getFontSize(),this.pdf.setFontSize(be*M.scale),Fe=this.lineWidth,this.lineWidth=Fe*M.scale);var ut=this.autoPaging!=="text";if(ut||rt.y+rt.h<=Se){if(ut||rt.y>=_e&&rt.x<=ze){var qe=ut?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||ze-rt.x)[0],Ft=b([JSON.parse(JSON.stringify(Re))],this.posX+this.margin[3],-Xe+_e+this.ctx.prevPageLastElemOffset)[0],gt=ut&&(ue>te||ue<oe)&&x.call(this);gt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ue,De,null).clip().discardPath()),this.pdf.text(qe,Ft.x,Ft.y,{angle:M.angle,align:T,renderingMode:M.renderingMode}),gt&&this.pdf.restoreGraphicsState()}}else rt.y<Se&&(this.ctx.prevPageLastElemOffset+=Se-rt.y);M.scale>=.01&&(this.pdf.setFontSize(be),this.lineWidth=Fe)}else M.scale>=.01&&(be=this.pdf.internal.getFontSize(),this.pdf.setFontSize(be*M.scale),Fe=this.lineWidth,this.lineWidth=Fe*M.scale),this.pdf.text(M.text,re.x+this.posX,re.y+this.posY,{angle:M.angle,align:T,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(be),this.lineWidth=Fe)},O=function(M,T,B,K){B=B||0,K=K||0,this.pdf.internal.out(s(M+B)+" "+n(T+K)+" l")},z=function(M,T,B){return this.pdf.lines(M,T,B,null,null)},Z=function(M,T,B,K,Y,re,ie,he){this.pdf.internal.out([e(a(B+M)),e(i(K+T)),e(a(Y+M)),e(i(re+T)),e(a(ie+M)),e(i(he+T)),"c"].join(" "))},q=function(M,T,B,K){for(var Y=2*Math.PI,re=Math.PI/2;T>B;)T-=Y;var ie=Math.abs(B-T);ie<Y&&K&&(ie=Y-ie);for(var he=[],Ce=K?-1:1,be=T;ie>1e-5;){var Fe=be+Ce*Math.min(ie,re);he.push(R.call(this,M,be,Fe)),ie-=Math.abs(Fe-be),be=Fe}return he},R=function(M,T,B){var K=(B-T)/2,Y=M*Math.cos(K),re=M*Math.sin(K),ie=Y,he=-re,Ce=ie*ie+he*he,be=Ce+ie*Y+he*re,Fe=4/3*(Math.sqrt(2*Ce*be)-be)/(ie*re-he*Y),Re=ie-Fe*he,He=he+Fe*ie,ke=Re,ae=-He,et=K+T,te=Math.cos(et),oe=Math.sin(et);return{x1:M*Math.cos(T),y1:M*Math.sin(T),x2:Re*te-He*oe,y2:Re*oe+He*te,x3:ke*te-ae*oe,y3:ke*oe+ae*te,x4:M*Math.cos(B),y4:M*Math.sin(B)}},X=function(M){return 180*M/Math.PI},$=function(M,T,B,K,Y,re){var ie=M+.5*(B-M),he=T+.5*(K-T),Ce=Y+.5*(B-Y),be=re+.5*(K-re),Fe=Math.min(M,Y,ie,Ce),Re=Math.max(M,Y,ie,Ce),He=Math.min(T,re,he,be),ke=Math.max(T,re,he,be);return new l(Fe,He,Re-Fe,ke-He)},J=function(M,T,B,K,Y,re,ie,he){var Ce,be,Fe,Re,He,ke,ae,et,te,oe,ue,_e,we,Se,De=B-M,ze=K-T,Ue=Y-B,Xe=re-K,it=ie-Y,rt=he-re;for(be=0;be<41;be++)te=(ae=(Fe=M+(Ce=be/40)*De)+Ce*((He=B+Ce*Ue)-Fe))+Ce*(He+Ce*(Y+Ce*it-He)-ae),oe=(et=(Re=T+Ce*ze)+Ce*((ke=K+Ce*Xe)-Re))+Ce*(ke+Ce*(re+Ce*rt-ke)-et),be==0?(ue=te,_e=oe,we=te,Se=oe):(ue=Math.min(ue,te),_e=Math.min(_e,oe),we=Math.max(we,te),Se=Math.max(Se,oe));return new l(Math.round(ue),Math.round(_e),Math.round(we-ue),Math.round(Se-_e))},se=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,T,B=(M=this.ctx.lineDash,T=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:T}));this.prevLineDash!==B&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=B)}}})(nt.API),function(t){var e=function(i){var o,l,c,d,u,h,f,m,g,x;for(l=[],c=0,d=(i+=o="\0\0\0\0".slice(i.length%4||4)).length;d>c;c+=4)(u=(i.charCodeAt(c)<<24)+(i.charCodeAt(c+1)<<16)+(i.charCodeAt(c+2)<<8)+i.charCodeAt(c+3))!==0?(h=(u=((u=((u=((u=(u-(x=u%85))/85)-(g=u%85))/85)-(m=u%85))/85)-(f=u%85))/85)%85,l.push(h+33,f+33,m+33,g+33,x+33)):l.push(122);return function(j,y){for(var b=y;b>0;b--)j.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},s=function(i){var o,l,c,d,u,h=String,f="length",m=255,g="charCodeAt",x="slice",j="replace";for(i[x](-2),i=i[x](0,-2)[j](/\s/g,"")[j]("z","!!!!!"),c=[],d=0,u=(i+=o="uuuuu"[x](i[f]%5||5))[f];u>d;d+=5)l=52200625*(i[g](d)-33)+614125*(i[g](d+1)-33)+7225*(i[g](d+2)-33)+85*(i[g](d+3)-33)+(i[g](d+4)-33),c.push(m&l>>24,m&l>>16,m&l>>8,m&l);return function(y,b){for(var k=b;k>0;k--)y.pop()}(c,o[f]),h.fromCharCode.apply(h,c)},n=function(i){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),o.test(i)===!1)return"";for(var l="",c=0;c<i.length;c+=2)l+=String.fromCharCode("0x"+(i[c]+i[c+1]));return l},a=function(i){for(var o=new Uint8Array(i.length),l=i.length;l--;)o[l]=i.charCodeAt(l);return i=(o=mg(o)).reduce(function(c,d){return c+String.fromCharCode(d)},"")};t.processDataByFilters=function(i,o){var l=0,c=i||"",d=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=s(c),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:d.reverse().join(" ")}}}(nt.API),function(t){t.loadFile=function(e,s,n){return function(a,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(c,d,u){var h=new XMLHttpRequest,f=0,m=function(g){var x=g.length,j=[],y=String.fromCharCode;for(f=0;f<x;f+=1)j.push(y(255&g.charCodeAt(f)));return j.join("")};if(h.open("GET",c,!d),h.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(h.onload=function(){h.status===200?u(m(this.responseText)):u(void 0)}),h.send(null),d&&h.status===200)return m(h.responseText)}(a,i,o)}catch{}return l}(e,s,n)},t.loadImageFile=t.loadFile}(nt.API),function(t){function e(){return(lt.html2canvas?Promise.resolve(lt.html2canvas):O0(()=>import("./html2canvas.esm-BfxBtG_O.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function s(){return(lt.DOMPurify?Promise.resolve(lt.DOMPurify):O0(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=_t(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},a=function(o,l){var c=document.createElement(o);for(var d in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[d]=l.style[d];return c},i=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),d=o.convert(Promise.resolve(),c);return d=(d=d.setProgress(1,o,1,[o])).set(l)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(o,l){return o.__proto__=l||i.prototype,o},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(s).then(function(c){return this.set({src:a("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},i.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function c(d,u){for(var h=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),f=d.firstChild;f;f=f.nextSibling)u!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||h.appendChild(c(f,u));return d.nodeType===1&&(d.nodeName==="CANVAS"?(h.width=d.width,h.height=d.height,h.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(h.value=d.value),h.addEventListener("load",function(){h.scrollTop=d.scrollTop,h.scrollLeft=d.scrollLeft},!0)),h}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=this.opt.jsPDF,d=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=d,d)for(var f=0;f<d.length;++f){var m=d[f],g=m.src.find(function(x){return x.format==="truetype"});g&&c.addFont(g.url,m.ref.name,m.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,c.context2d.save(!0),l(this.prop.container,h)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},i.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},i.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},i.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in i.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},i.prototype.get=function(o,l){return this.then(function(){var c=o in i.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},i.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},i.prototype.setPageSize=function(o){function l(c,d){return Math.floor(c*d/72*96)}return this.then(function(){(o=o||nt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},i.prototype.setProgress=function(o,l,c,d){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(o,l,c,d){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,d?this.progress.stack.concat(d):null)},i.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(d,u){return c.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(h){return c.updateProgress(null,d),h}).then(d,u).then(function(h){return c.updateProgress(1),h})})},i.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then,o&&(o=o.bind(this)),l&&(l=l.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),u=c.call(d,o,l);return i.convert(u,this.__proto__)},i.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},i.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},i.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return i.convert(l,this)},i.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},i.prototype.error=function(o){return this.then(function(){throw new Error(o)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,nt.getPageSize=function(o,l,c){if(_t(o)==="object"){var d=o;o=d.orientation,l=d.unit||l,c=d.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var u,h=(""+c).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+l}var m,g=0,x=0;if(f.hasOwnProperty(h))g=f[h][1]/u,x=f[h][0]/u;else try{g=c[1],x=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",x>g&&(m=x,x=g,g=m);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",g>x&&(m=x,x=g,g=m)}return{width:x,height:g,unit:l,k:u,orientation:o}},t.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(bg):null;var c=new i(l);return l.worker?c:c.from(o).doCallback()}}(nt.API),nt.API.addJS=function(t){return F2=t,this.internal.events.subscribe("postPutResources",function(){gm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(gm+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),T2=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+F2+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){gm!==void 0&&T2!==void 0&&this.internal.out("/Names <</JavaScript "+gm+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var s=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=s.outline.render().split(/\r\n/),i=0;i<a.length;i++){var o=a[i],l=n.exec(o);if(l!=null){var c=l[1];s.internal.newObjectDeferredBegin(c,!1)}s.internal.write(o)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,u=[];for(i=0;i<d;i++){var h=s.internal.newObject();u.push(h);var f=s.internal.getPageInfo(i+1);s.internal.write("<< /D["+f.objId+" 0 R /XYZ null null null]>> endobj")}var m=s.internal.newObject();for(s.internal.write("<< /Names [ "),i=0;i<u.length;i++)s.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");s.internal.write(" ] >>","endobj"),e=s.internal.newObject(),s.internal.write("<< /Dests "+m+" 0 R"),s.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var s=this;s.outline={createNamedDestinations:!1,root:{children:[]}},s.outline.add=function(n,a,i){var o={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(o),o},s.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=s,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},s.outline.genIds_r=function(n){n.id=s.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},s.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},s.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var o=n.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=s.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var d=0;d<n.children.length;d++)this.renderItems(n.children[d])},s.outline.line=function(n){this.ctx.val+=n+`\r
`},s.outline.makeRef=function(n){return n.id+" 0 R"},s.outline.makeString=function(n){return"("+s.internal.pdfEscape(n)+")"},s.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},s.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},s.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])}(nt.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(s,n,a,i,o,l){var c,d=this.decode.DCT_DECODE,u=null;if(typeof s=="string"||this.__addimage__.isArrayBuffer(s)||this.__addimage__.isArrayBufferView(s)){switch(s=o||s,s=this.__addimage__.isArrayBuffer(s)?new Uint8Array(s):s,(c=function(h){for(var f,m=256*h.charCodeAt(4)+h.charCodeAt(5),g=h.length,x={width:0,height:0,numcomponents:1},j=4;j<g;j+=2){if(j+=m,e.indexOf(h.charCodeAt(j+1))!==-1){f=256*h.charCodeAt(j+5)+h.charCodeAt(j+6),x={width:256*h.charCodeAt(j+7)+h.charCodeAt(j+8),height:f,numcomponents:h.charCodeAt(j+9)};break}m=256*h.charCodeAt(j+2)+h.charCodeAt(j+3)}return x}(s=this.__addimage__.isArrayBufferView(s)?this.__addimage__.arrayBufferToBinaryString(s):s)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}u={data:s,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:d,index:n,alias:a}}return u}}(nt.API);var Jl,ym,O2,R2,$2,EY=function(){var t,e,s;function n(i){var o,l,c,d,u,h,f,m,g,x,j,y,b,k;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},h=null;;){switch(o=this.readUInt32(),g=function(){var A,E;for(E=[],A=0;A<4;++A)E.push(String.fromCharCode(this.data[this.pos++]));return E}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":h&&this.animation.frames.push(h),this.pos+=4,h={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),d=this.readUInt16()||100,h.delay=1e3*u/d,h.disposeOp=this.data[this.pos++],h.blendOp=this.data[this.pos++],h.data=[];break;case"IDAT":case"fdAT":for(g==="fdAT"&&(this.pos+=4,o-=4),i=h?.data||this.imgData,y=0;0<=o?y<o:y>o;0<=o?++y:--y)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((x=c-this.transparency.indexed.length)>0)for(b=0;0<=x?b<x:b>x;0<=x?++b:--b)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":f=(j=this.read(o)).indexOf(0),m=String.fromCharCode.apply(String,j.slice(0,f)),this.text[m]=String.fromCharCode.apply(String,j.slice(f+1));break;case"IEND":return h&&this.animation.frames.push(h),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=(k=this.colorType)===4||k===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var o,l;for(l=[],o=0;0<=i?o<i:o>i;0<=i?++o:--o)l.push(this.data[this.pos++]);return l},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var o=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*o),c=0,d=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function u(h,f,m,g){var x,j,y,b,k,A,E,I,_,v,P,L,S,C,O,z,Z,q,R,X,$,J=Math.ceil((d.width-h)/m),se=Math.ceil((d.height-f)/g),M=d.width==J&&d.height==se;for(C=o*J,L=M?l:new Uint8Array(C*se),A=i.length,S=0,j=0;S<se&&c<A;){switch(i[c++]){case 0:for(b=Z=0;Z<C;b=Z+=1)L[j++]=i[c++];break;case 1:for(b=q=0;q<C;b=q+=1)x=i[c++],k=b<o?0:L[j-o],L[j++]=(x+k)%256;break;case 2:for(b=R=0;R<C;b=R+=1)x=i[c++],y=(b-b%o)/o,O=S&&L[(S-1)*C+y*o+b%o],L[j++]=(O+x)%256;break;case 3:for(b=X=0;X<C;b=X+=1)x=i[c++],y=(b-b%o)/o,k=b<o?0:L[j-o],O=S&&L[(S-1)*C+y*o+b%o],L[j++]=(x+Math.floor((k+O)/2))%256;break;case 4:for(b=$=0;$<C;b=$+=1)x=i[c++],y=(b-b%o)/o,k=b<o?0:L[j-o],S===0?O=z=0:(O=L[(S-1)*C+y*o+b%o],z=y&&L[(S-1)*C+(y-1)*o+b%o]),E=k+O-z,I=Math.abs(E-k),v=Math.abs(E-O),P=Math.abs(E-z),_=I<=v&&I<=P?k:v<=P?O:z,L[j++]=(x+_)%256;break;default:throw new Error("Invalid filter algorithm: "+i[c-1])}if(!M){var T=((f+S*g)*d.width+h)*o,B=S*C;for(b=0;b<J;b+=1){for(var K=0;K<o;K+=1)l[T++]=L[B++];T+=(m-1)*o}}S++}}return i=oY(i),d.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),l},n.prototype.decodePalette=function(){var i,o,l,c,d,u,h,f,m;for(l=this.palette,u=this.transparency.indexed||[],d=new Uint8Array((u.length||0)+l.length),c=0,i=0,o=h=0,f=l.length;h<f;o=h+=3)d[c++]=l[o],d[c++]=l[o+1],d[c++]=l[o+2],d[c++]=(m=u[i++])!=null?m:255;return d},n.prototype.copyToImageData=function(i,o){var l,c,d,u,h,f,m,g,x,j,y;if(c=this.colors,x=null,l=this.hasAlphaChannel,this.palette.length&&(x=(y=this._decodedPalette)!=null?y:this._decodedPalette=this.decodePalette(),c=4,l=!0),g=(d=i.data||i).length,h=x||o,u=f=0,c===1)for(;u<g;)m=x?4*o[u/4]:f,j=h[m++],d[u++]=j,d[u++]=j,d[u++]=j,d[u++]=l?h[m++]:255,f=m;else for(;u<g;)m=x?4*o[u/4]:f,d[u++]=h[m++],d[u++]=h[m++],d[u++]=h[m++],d[u++]=l?h[m++]:255,f=m},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(lt)==="[object Window]"){try{e=lt.document.createElement("canvas"),s=e.getContext("2d")}catch{return!1}return!0}return!1};return a(),t=function(i){var o;if(a()===!0)return s.width=i.width,s.height=i.height,s.clearRect(0,0,i.width,i.height),s.putImageData(i,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var o,l,c,d,u,h,f,m;if(this.animation){for(m=[],l=u=0,h=(f=this.animation.frames).length;u<h;l=++u)o=f[l],c=i.createImageData(o.width,o.height),d=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(c,d),o.imageData=c,m.push(o.image=t(c));return m}},n.prototype.renderFrame=function(i,o){var l,c,d;return l=(c=this.animation.frames)[o],d=c[o-1],o===0&&i.clearRect(0,0,this.width,this.height),d?.disposeOp===1?i.clearRect(d.xOffset,d.yOffset,d.width,d.height):d?.disposeOp===2&&i.putImageData(d.imageData,d.xOffset,d.yOffset),l.blendOp===0&&i.clearRect(l.xOffset,l.yOffset,l.width,l.height),i.drawImage(l.image,l.xOffset,l.yOffset)},n.prototype.animate=function(i){var o,l,c,d,u,h,f=this;return l=0,h=this.animation,d=h.numFrames,c=h.frames,u=h.numPlays,(o=function(){var m,g;if(m=l++%d,g=c[m],f.renderFrame(i,m),d>1&&l/d<u)return f.animation._timeout=setTimeout(o,g.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var o,l;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,o=i.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(l=o.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),o.putImageData(l,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function DY(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var s=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,a=t[e++],i=a>>7,o=1<<(7&a)+1;t[e++],t[e++];var l=null,c=null;i&&(l=e,c=o,e+=3*o);var d=!0,u=[],h=0,f=null,m=0,g=null;for(this.width=s,this.height=n;d&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,g=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((S=t[e++])>=0))throw Error("Invalid block size");if(S===0)break;e+=S}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var x=t[e++];h=t[e++]|t[e++]<<8,f=t[e++],!(1&x)&&(f=null),m=x>>2&7,e++;break;case 254:for(;;){if(!((S=t[e++])>=0))throw Error("Invalid block size");if(S===0)break;e+=S}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var j=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,k=t[e++]|t[e++]<<8,A=t[e++],E=A>>6&1,I=1<<(7&A)+1,_=l,v=c,P=!1;A>>7&&(P=!0,_=e,v=I,e+=3*I);var L=e;for(e++;;){var S;if(!((S=t[e++])>=0))throw Error("Invalid block size");if(S===0)break;e+=S}u.push({x:j,y,width:b,height:k,has_local_palette:P,palette_offset:_,palette_size:v,data_offset:L,data_length:e-L,transparent_index:f,interlaced:!!E,delay:h,disposal:m});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return g},this.frameInfo=function(C){if(C<0||C>=u.length)throw new Error("Frame index out of range.");return u[C]},this.decodeAndBlitFrameBGRA=function(C,O){var z=this.frameInfo(C),Z=z.width*z.height,q=new Uint8Array(Z);z2(t,z.data_offset,q,Z);var R=z.palette_offset,X=z.transparent_index;X===null&&(X=256);var $=z.width,J=s-$,se=$,M=4*(z.y*s+z.x),T=4*((z.y+z.height)*s+z.x),B=M,K=4*J;z.interlaced===!0&&(K+=4*s*7);for(var Y=8,re=0,ie=q.length;re<ie;++re){var he=q[re];if(se===0&&(se=$,(B+=K)>=T&&(K=4*J+4*s*(Y-1),B=M+($+J)*(Y<<1),Y>>=1)),he===X)B+=4;else{var Ce=t[R+3*he],be=t[R+3*he+1],Fe=t[R+3*he+2];O[B++]=Fe,O[B++]=be,O[B++]=Ce,O[B++]=255}--se}},this.decodeAndBlitFrameRGBA=function(C,O){var z=this.frameInfo(C),Z=z.width*z.height,q=new Uint8Array(Z);z2(t,z.data_offset,q,Z);var R=z.palette_offset,X=z.transparent_index;X===null&&(X=256);var $=z.width,J=s-$,se=$,M=4*(z.y*s+z.x),T=4*((z.y+z.height)*s+z.x),B=M,K=4*J;z.interlaced===!0&&(K+=4*s*7);for(var Y=8,re=0,ie=q.length;re<ie;++re){var he=q[re];if(se===0&&(se=$,(B+=K)>=T&&(K=4*J+4*s*(Y-1),B=M+($+J)*(Y<<1),Y>>=1)),he===X)B+=4;else{var Ce=t[R+3*he],be=t[R+3*he+1],Fe=t[R+3*he+2];O[B++]=Ce,O[B++]=be,O[B++]=Fe,O[B++]=255}--se}}}function z2(t,e,s,n){for(var a=t[e++],i=1<<a,o=i+1,l=o+1,c=a+1,d=(1<<c)-1,u=0,h=0,f=0,m=t[e++],g=new Int32Array(4096),x=null;;){for(;u<16&&m!==0;)h|=t[e++]<<u,u+=8,m===1?m=t[e++]:--m;if(u<c)break;var j=h&d;if(h>>=c,u-=c,j!==i){if(j===o)break;for(var y=j<l?j:x,b=0,k=y;k>i;)k=g[k]>>8,++b;var A=k;if(f+b+(y!==j?1:0)>n)return void Ut.log("Warning, gif stream longer than expected.");s[f++]=A;var E=f+=b;for(y!==j&&(s[f++]=A),k=y;b--;)k=g[k],s[--E]=255&k,k>>=8;x!==null&&l<4096&&(g[l++]=x<<8|A,l>=d+1&&c<12&&(++c,d=d<<1|1)),x=j}else l=o+1,d=(1<<(c=a+1))-1,x=null}return f!==n&&Ut.log("Warning, gif stream shorter than expected."),s}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function o0(t){var e,s,n,a,i,o=Math.floor,l=new Array(64),c=new Array(64),d=new Array(64),u=new Array(64),h=new Array(65535),f=new Array(65535),m=new Array(64),g=new Array(64),x=[],j=0,y=7,b=new Array(64),k=new Array(64),A=new Array(64),E=new Array(256),I=new Array(2048),_=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],v=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],L=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],S=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],C=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],z=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Z=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function q(M,T){for(var B=0,K=0,Y=new Array,re=1;re<=16;re++){for(var ie=1;ie<=M[re];ie++)Y[T[K]]=[],Y[T[K]][0]=B,Y[T[K]][1]=re,K++,B++;B*=2}return Y}function R(M){for(var T=M[0],B=M[1]-1;B>=0;)T&1<<B&&(j|=1<<y),B--,--y<0&&(j==255?(X(255),X(0)):X(j),y=7,j=0)}function X(M){x.push(M)}function $(M){X(M>>8&255),X(255&M)}function J(M,T,B,K,Y){for(var re,ie=Y[0],he=Y[240],Ce=function(oe,ue){var _e,we,Se,De,ze,Ue,Xe,it,rt,ut,qe=0;for(rt=0;rt<8;++rt){_e=oe[qe],we=oe[qe+1],Se=oe[qe+2],De=oe[qe+3],ze=oe[qe+4],Ue=oe[qe+5],Xe=oe[qe+6];var Ft=_e+(it=oe[qe+7]),gt=_e-it,mr=we+Xe,It=we-Xe,rs=Se+Ue,da=Se-Ue,Mt=De+ze,fo=De-ze,hs=Ft+Mt,Rn=Ft-Mt,Ya=mr+rs,ms=mr-rs;oe[qe]=hs+Ya,oe[qe+4]=hs-Ya;var ht=.707106781*(ms+Rn);oe[qe+2]=Rn+ht,oe[qe+6]=Rn-ht;var Tt=.382683433*((hs=fo+da)-(ms=It+gt)),po=.5411961*hs+Tt,tr=1.306562965*ms+Tt,ua=.707106781*(Ya=da+It),ha=gt+ua,ot=gt-ua;oe[qe+5]=ot+po,oe[qe+3]=ot-po,oe[qe+1]=ha+tr,oe[qe+7]=ha-tr,qe+=8}for(qe=0,rt=0;rt<8;++rt){_e=oe[qe],we=oe[qe+8],Se=oe[qe+16],De=oe[qe+24],ze=oe[qe+32],Ue=oe[qe+40],Xe=oe[qe+48];var $n=_e+(it=oe[qe+56]),ma=_e-it,Rr=we+Xe,Bs=we-Xe,Ls=Se+Ue,en=Se-Ue,gl=De+ze,Ga=De-ze,zn=$n+gl,Bn=$n-gl,qn=Rr+Ls,fa=Rr-Ls;oe[qe]=zn+qn,oe[qe+32]=zn-qn;var yn=.707106781*(fa+Bn);oe[qe+16]=Bn+yn,oe[qe+48]=Bn-yn;var pa=.382683433*((zn=Ga+en)-(fa=Bs+ma)),xo=.5411961*zn+pa,yl=1.306562965*fa+pa,bl=.707106781*(qn=en+Bs),vl=ma+bl,wl=ma-bl;oe[qe+40]=wl+xo,oe[qe+24]=wl-xo,oe[qe+8]=vl+yl,oe[qe+56]=vl-yl,qe++}for(rt=0;rt<64;++rt)ut=oe[rt]*ue[rt],m[rt]=ut>0?ut+.5|0:ut-.5|0;return m}(M,T),be=0;be<64;++be)g[_[be]]=Ce[be];var Fe=g[0]-B;B=g[0],Fe==0?R(K[0]):(R(K[f[re=32767+Fe]]),R(h[re]));for(var Re=63;Re>0&&g[Re]==0;)Re--;if(Re==0)return R(ie),B;for(var He,ke=1;ke<=Re;){for(var ae=ke;g[ke]==0&&ke<=Re;)++ke;var et=ke-ae;if(et>=16){He=et>>4;for(var te=1;te<=He;++te)R(he);et&=15}re=32767+g[ke],R(Y[(et<<4)+f[re]]),R(h[re]),ke++}return Re!=63&&R(ie),B}function se(M){M=Math.min(Math.max(M,1),100),i!=M&&(function(T){for(var B=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],K=0;K<64;K++){var Y=o((B[K]*T+50)/100);Y=Math.min(Math.max(Y,1),255),l[_[K]]=Y}for(var re=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ie=0;ie<64;ie++){var he=o((re[ie]*T+50)/100);he=Math.min(Math.max(he,1),255),c[_[ie]]=he}for(var Ce=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],be=0,Fe=0;Fe<8;Fe++)for(var Re=0;Re<8;Re++)d[be]=1/(l[_[be]]*Ce[Fe]*Ce[Re]*8),u[be]=1/(c[_[be]]*Ce[Fe]*Ce[Re]*8),be++}(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),i=M)}this.encode=function(M,T){T&&se(T),x=new Array,j=0,y=7,$(65496),$(65504),$(16),X(74),X(70),X(73),X(70),X(0),X(1),X(1),X(0),$(1),$(1),X(0),X(0),function(){$(65499),$(132),X(0);for(var we=0;we<64;we++)X(l[we]);X(1);for(var Se=0;Se<64;Se++)X(c[Se])}(),function(we,Se){$(65472),$(17),X(8),$(Se),$(we),X(3),X(1),X(17),X(0),X(2),X(17),X(1),X(3),X(17),X(1)}(M.width,M.height),function(){$(65476),$(418),X(0);for(var we=0;we<16;we++)X(v[we+1]);for(var Se=0;Se<=11;Se++)X(P[Se]);X(16);for(var De=0;De<16;De++)X(L[De+1]);for(var ze=0;ze<=161;ze++)X(S[ze]);X(1);for(var Ue=0;Ue<16;Ue++)X(C[Ue+1]);for(var Xe=0;Xe<=11;Xe++)X(O[Xe]);X(17);for(var it=0;it<16;it++)X(z[it+1]);for(var rt=0;rt<=161;rt++)X(Z[rt])}(),$(65498),$(12),X(3),X(1),X(0),X(2),X(17),X(3),X(17),X(0),X(63),X(0);var B=0,K=0,Y=0;j=0,y=7,this.encode.displayName="_encode_";for(var re,ie,he,Ce,be,Fe,Re,He,ke,ae=M.data,et=M.width,te=M.height,oe=4*et,ue=0;ue<te;){for(re=0;re<oe;){for(be=oe*ue+re,Re=-1,He=0,ke=0;ke<64;ke++)Fe=be+(He=ke>>3)*oe+(Re=4*(7&ke)),ue+He>=te&&(Fe-=oe*(ue+1+He-te)),re+Re>=oe&&(Fe-=re+Re-oe+4),ie=ae[Fe++],he=ae[Fe++],Ce=ae[Fe++],b[ke]=(I[ie]+I[he+256>>0]+I[Ce+512>>0]>>16)-128,k[ke]=(I[ie+768>>0]+I[he+1024>>0]+I[Ce+1280>>0]>>16)-128,A[ke]=(I[ie+1280>>0]+I[he+1536>>0]+I[Ce+1792>>0]>>16)-128;B=J(b,d,B,e,n),K=J(k,u,K,s,a),Y=J(A,u,Y,s,a),re+=32}ue+=8}if(y>=0){var _e=[];_e[1]=y+1,_e[0]=(1<<y+1)-1,R(_e)}return $(65497),new Uint8Array(x)},t=t||50,function(){for(var M=String.fromCharCode,T=0;T<256;T++)E[T]=M(T)}(),e=q(v,P),s=q(C,O),n=q(L,S),a=q(z,Z),function(){for(var M=1,T=2,B=1;B<=15;B++){for(var K=M;K<T;K++)f[32767+K]=B,h[32767+K]=[],h[32767+K][1]=B,h[32767+K][0]=K;for(var Y=-(T-1);Y<=-M;Y++)f[32767+Y]=B,h[32767+Y]=[],h[32767+Y][1]=B,h[32767+Y][0]=T-1+Y;M<<=1,T<<=1}}(),function(){for(var M=0;M<256;M++)I[M]=19595*M,I[M+256>>0]=38470*M,I[M+512>>0]=7471*M+32768,I[M+768>>0]=-11059*M,I[M+1024>>0]=-21709*M,I[M+1280>>0]=32768*M+8421375,I[M+1536>>0]=-27439*M,I[M+1792>>0]=-5329*M}(),se(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Xn(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function B2(t){function e(v){if(!v)throw Error("assert :P")}function s(v,P,L){for(var S=0;4>S;S++)if(v[P+S]!=L.charCodeAt(S))return!0;return!1}function n(v,P,L,S,C){for(var O=0;O<C;O++)v[P+O]=L[S+O]}function a(v,P,L,S){for(var C=0;C<S;C++)v[P+C]=L}function i(v){return new Int32Array(v)}function o(v,P){for(var L=[],S=0;S<v;S++)L.push(new P);return L}function l(v,P){var L=[];return function S(C,O,z){for(var Z=z[O],q=0;q<Z&&(C.push(z.length>O+1?[]:new P),!(z.length<O+1));q++)S(C[q],O+1,z)}(L,0,v),L}var c=function(){var v=this;function P(p,w){for(var D=1<<w-1>>>0;p&D;)D>>>=1;return D?(p&D-1)+D:p}function L(p,w,D,F,H){e(!(F%D));do p[w+(F-=D)]=H;while(0<F)}function S(p,w,D,F,H){if(e(2328>=H),512>=H)var V=i(512);else if((V=i(H))==null)return 0;return function(G,Q,ee,ne,pe,je){var Ne,ye,Me=Q,Pe=1<<ee,xe=i(16),ge=i(16);for(e(pe!=0),e(ne!=null),e(G!=null),e(0<ee),ye=0;ye<pe;++ye){if(15<ne[ye])return 0;++xe[ne[ye]]}if(xe[0]==pe)return 0;for(ge[1]=0,Ne=1;15>Ne;++Ne){if(xe[Ne]>1<<Ne)return 0;ge[Ne+1]=ge[Ne]+xe[Ne]}for(ye=0;ye<pe;++ye)Ne=ne[ye],0<ne[ye]&&(je[ge[Ne]++]=ye);if(ge[15]==1)return(ne=new C).g=0,ne.value=je[0],L(G,Me,1,Pe,ne),Pe;var Le,Oe=-1,Ie=Pe-1,Qe=0,Ve=1,at=1,Ye=1<<ee;for(ye=0,Ne=1,pe=2;Ne<=ee;++Ne,pe<<=1){if(Ve+=at<<=1,0>(at-=xe[Ne]))return 0;for(;0<xe[Ne];--xe[Ne])(ne=new C).g=Ne,ne.value=je[ye++],L(G,Me+Qe,pe,Ye,ne),Qe=P(Qe,Ne)}for(Ne=ee+1,pe=2;15>=Ne;++Ne,pe<<=1){if(Ve+=at<<=1,0>(at-=xe[Ne]))return 0;for(;0<xe[Ne];--xe[Ne]){if(ne=new C,(Qe&Ie)!=Oe){for(Me+=Ye,Le=1<<(Oe=Ne)-ee;15>Oe&&!(0>=(Le-=xe[Oe]));)++Oe,Le<<=1;Pe+=Ye=1<<(Le=Oe-ee),G[Q+(Oe=Qe&Ie)].g=Le+ee,G[Q+Oe].value=Me-Q-Oe}ne.g=Ne-ee,ne.value=je[ye++],L(G,Me+(Qe>>ee),pe,Ye,ne),Qe=P(Qe,Ne)}}return Ve!=2*ge[15]-1?0:Pe}(p,w,D,F,H,V)}function C(){this.value=this.g=0}function O(){this.value=this.g=0}function z(){this.G=o(5,C),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(sr,O)}function Z(p,w,D,F){e(p!=null),e(w!=null),e(2147483648>F),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=w,p.pa=D,p.Jd=w,p.Yc=D+F,p.Zc=4<=F?D+F-4+1:D,re(p)}function q(p,w){for(var D=0;0<w--;)D|=he(p,128)<<w;return D}function R(p,w){var D=q(p,w);return ie(p)?-D:D}function X(p,w,D,F){var H,V=0;for(e(p!=null),e(w!=null),e(4294967288>F),p.Sb=F,p.Ra=0,p.u=0,p.h=0,4<F&&(F=4),H=0;H<F;++H)V+=w[D+H]<<8*H;p.Ra=V,p.bb=F,p.oa=w,p.pa=D}function $(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<Fl-8>>>0,++p.bb,p.u-=8;B(p)&&(p.h=1,p.u=0)}function J(p,w){if(e(0<=w),!p.h&&w<=Tl){var D=T(p)&Ml[w];return p.u+=w,$(p),D}return p.h=1,p.u=0}function se(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function M(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function T(p){return p.Ra>>>(p.u&Fl-1)>>>0}function B(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>Fl}function K(p,w){p.u=w,p.h=B(p)}function Y(p){p.u>=md&&(e(p.u>=md),$(p))}function re(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function ie(p){return q(p,1)}function he(p,w){var D=p.Ca;0>p.b&&re(p);var F=p.b,H=D*w>>>8,V=(p.I>>>F>H)+0;for(V?(D-=H,p.I-=H+1<<F>>>0):D=H+1,F=D,H=0;256<=F;)H+=8,F>>=8;return F=7^H+zr[F],p.b-=F,p.Ca=(D<<F)-1,V}function Ce(p,w,D){p[w+0]=D>>24&255,p[w+1]=D>>16&255,p[w+2]=D>>8&255,p[w+3]=D>>0&255}function be(p,w){return p[w+0]<<0|p[w+1]<<8}function Fe(p,w){return be(p,w)|p[w+2]<<16}function Re(p,w){return be(p,w)|be(p,w+2)<<16}function He(p,w){var D=1<<w;return e(p!=null),e(0<w),p.X=i(D),p.X==null?0:(p.Mb=32-w,p.Xa=w,1)}function ke(p,w){e(p!=null),e(w!=null),e(p.Xa==w.Xa),n(w.X,0,p.X,0,1<<w.Xa)}function ae(){this.X=[],this.Xa=this.Mb=0}function et(p,w,D,F){e(D!=null),e(F!=null);var H=D[0],V=F[0];return H==0&&(H=(p*V+w/2)/w),V==0&&(V=(w*H+p/2)/p),0>=H||0>=V?0:(D[0]=H,F[0]=V,1)}function te(p,w){return p+(1<<w)-1>>>w}function oe(p,w){return((4278255360&p)+(4278255360&w)>>>0&4278255360)+((16711935&p)+(16711935&w)>>>0&16711935)>>>0}function ue(p,w){v[w]=function(D,F,H,V,G,Q,ee){var ne;for(ne=0;ne<G;++ne){var pe=v[p](Q[ee+ne-1],H,V+ne);Q[ee+ne]=oe(D[F+ne],pe)}}}function _e(){this.ud=this.hd=this.jd=0}function we(p,w){return((4278124286&(p^w))>>>1)+(p&w)>>>0}function Se(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function De(p,w){return Se(p+(p-w+.5>>1))}function ze(p,w,D){return Math.abs(w-D)-Math.abs(p-D)}function Ue(p,w,D,F,H,V,G){for(F=V[G-1],D=0;D<H;++D)V[G+D]=F=oe(p[w+D],F)}function Xe(p,w,D,F,H){var V;for(V=0;V<D;++V){var G=p[w+V],Q=G>>8&255,ee=16711935&(ee=(ee=16711935&G)+((Q<<16)+Q));F[H+V]=(4278255360&G)+ee>>>0}}function it(p,w){w.jd=p>>0&255,w.hd=p>>8&255,w.ud=p>>16&255}function rt(p,w,D,F,H,V){var G;for(G=0;G<F;++G){var Q=w[D+G],ee=Q>>>8,ne=Q,pe=255&(pe=(pe=Q>>>16)+((p.jd<<24>>24)*(ee<<24>>24)>>>5));ne=255&(ne=(ne=ne+((p.hd<<24>>24)*(ee<<24>>24)>>>5))+((p.ud<<24>>24)*(pe<<24>>24)>>>5)),H[V+G]=(4278255360&Q)+(pe<<16)+ne}}function ut(p,w,D,F,H){v[w]=function(V,G,Q,ee,ne,pe,je,Ne,ye){for(ee=je;ee<Ne;++ee)for(je=0;je<ye;++je)ne[pe++]=H(Q[F(V[G++])])},v[p]=function(V,G,Q,ee,ne,pe,je){var Ne=8>>V.b,ye=V.Ea,Me=V.K[0],Pe=V.w;if(8>Ne)for(V=(1<<V.b)-1,Pe=(1<<Ne)-1;G<Q;++G){var xe,ge=0;for(xe=0;xe<ye;++xe)xe&V||(ge=F(ee[ne++])),pe[je++]=H(Me[ge&Pe]),ge>>=Ne}else v["VP8LMapColor"+D](ee,ne,Me,Pe,pe,je,G,Q,ye)}}function qe(p,w,D,F,H){for(D=w+D;w<D;){var V=p[w++];F[H++]=V>>16&255,F[H++]=V>>8&255,F[H++]=V>>0&255}}function Ft(p,w,D,F,H){for(D=w+D;w<D;){var V=p[w++];F[H++]=V>>16&255,F[H++]=V>>8&255,F[H++]=V>>0&255,F[H++]=V>>24&255}}function gt(p,w,D,F,H){for(D=w+D;w<D;){var V=(G=p[w++])>>16&240|G>>12&15,G=G>>0&240|G>>28&15;F[H++]=V,F[H++]=G}}function mr(p,w,D,F,H){for(D=w+D;w<D;){var V=(G=p[w++])>>16&248|G>>13&7,G=G>>5&224|G>>3&31;F[H++]=V,F[H++]=G}}function It(p,w,D,F,H){for(D=w+D;w<D;){var V=p[w++];F[H++]=V>>0&255,F[H++]=V>>8&255,F[H++]=V>>16&255}}function rs(p,w,D,F,H,V){if(V==0)for(D=w+D;w<D;)Ce(F,((V=p[w++])[0]>>24|V[1]>>8&65280|V[2]<<8&16711680|V[3]<<24)>>>0),H+=32;else n(F,H,p,w,D)}function da(p,w){v[w][0]=v[p+"0"],v[w][1]=v[p+"1"],v[w][2]=v[p+"2"],v[w][3]=v[p+"3"],v[w][4]=v[p+"4"],v[w][5]=v[p+"5"],v[w][6]=v[p+"6"],v[w][7]=v[p+"7"],v[w][8]=v[p+"8"],v[w][9]=v[p+"9"],v[w][10]=v[p+"10"],v[w][11]=v[p+"11"],v[w][12]=v[p+"12"],v[w][13]=v[p+"13"],v[w][14]=v[p+"0"],v[w][15]=v[p+"0"]}function Mt(p){return p==ux||p==hx||p==Vh||p==mx}function fo(){this.eb=[],this.size=this.A=this.fb=0}function hs(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Rn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new fo,this.f.kb=new hs,this.sd=null}function Ya(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ms(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ht(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function Tt(p,w){var D=p.T,F=w.ba.f.RGBA,H=F.eb,V=F.fb+p.ka*F.A,G=kn[w.ba.S],Q=p.y,ee=p.O,ne=p.f,pe=p.N,je=p.ea,Ne=p.W,ye=w.cc,Me=w.dc,Pe=w.Mc,xe=w.Nc,ge=p.ka,Le=p.ka+p.T,Oe=p.U,Ie=Oe+1>>1;for(ge==0?G(Q,ee,null,null,ne,pe,je,Ne,ne,pe,je,Ne,H,V,null,null,Oe):(G(w.ec,w.fc,Q,ee,ye,Me,Pe,xe,ne,pe,je,Ne,H,V-F.A,H,V,Oe),++D);ge+2<Le;ge+=2)ye=ne,Me=pe,Pe=je,xe=Ne,pe+=p.Rc,Ne+=p.Rc,V+=2*F.A,G(Q,(ee+=2*p.fa)-p.fa,Q,ee,ye,Me,Pe,xe,ne,pe,je,Ne,H,V-F.A,H,V,Oe);return ee+=p.fa,p.j+Le<p.o?(n(w.ec,w.fc,Q,ee,Oe),n(w.cc,w.dc,ne,pe,Ie),n(w.Mc,w.Nc,je,Ne,Ie),D--):1&Le||G(Q,ee,null,null,ne,pe,je,Ne,ne,pe,je,Ne,H,V+F.A,null,null,Oe),D}function po(p,w,D){var F=p.F,H=[p.J];if(F!=null){var V=p.U,G=w.ba.S,Q=G==Uh||G==Vh;w=w.ba.f.RGBA;var ee=[0],ne=p.ka;ee[0]=p.T,p.Kb&&(ne==0?--ee[0]:(--ne,H[0]-=p.width),p.j+p.ka+p.T==p.o&&(ee[0]=p.o-p.j-ne));var pe=w.eb;ne=w.fb+ne*w.A,p=Kt(F,H[0],p.width,V,ee,pe,ne+(Q?0:3),w.A),e(D==ee),p&&Mt(G)&&jn(pe,ne,Q,V,ee,w.A)}return 0}function tr(p){var w=p.ma,D=w.ba.S,F=11>D,H=D==Hh||D==Wh||D==Uh||D==dx||D==12||Mt(D);if(w.memory=null,w.Ib=null,w.Jb=null,w.Nd=null,!ud(w.Oa,p,H?11:12))return 0;if(H&&Mt(D)&&$e(),p.da)alert("todo:use_scaling");else{if(F){if(w.Ib=ht,p.Kb){if(D=p.U+1>>1,w.memory=i(p.U+2*D),w.memory==null)return 0;w.ec=w.memory,w.fc=0,w.cc=w.ec,w.dc=w.fc+p.U,w.Mc=w.cc,w.Nc=w.dc+D,w.Ib=Tt,$e()}}else alert("todo:EmitYUV");H&&(w.Jb=po,F&&ve())}if(F&&!av){for(p=0;256>p;++p)Q_[p]=89858*(p-128)+Gh>>Yh,eS[p]=-22014*(p-128)+Gh,Z_[p]=-45773*(p-128),J_[p]=113618*(p-128)+Gh>>Yh;for(p=vd;p<xx;++p)w=76283*(p-16)+Gh>>Yh,tS[p-vd]=tn(w,255),sS[p-vd]=tn(w+8>>4,15);av=1}return 1}function ua(p){var w=p.ma,D=p.U,F=p.T;return e(!(1&p.ka)),0>=D||0>=F?0:(D=w.Ib(p,w),w.Jb!=null&&w.Jb(p,w,D),w.Dc+=D,1)}function ha(p){p.ma.memory=null}function ot(p,w,D,F){return J(p,8)!=47?0:(w[0]=J(p,14)+1,D[0]=J(p,14)+1,F[0]=J(p,1),J(p,3)!=0?0:!p.h)}function $n(p,w){if(4>p)return p+1;var D=p-2>>1;return(2+(1&p)<<D)+J(w,D)+1}function ma(p,w){return 120<w?w-120:1<=(D=((D=O_[w-1])>>4)*p+(8-(15&D)))?D:1;var D}function Rr(p,w,D){var F=T(D),H=p[w+=255&F].g-8;return 0<H&&(K(D,D.u+8),F=T(D),w+=p[w].value,w+=F&(1<<H)-1),K(D,D.u+p[w].g),p[w].value}function Bs(p,w,D){return D.g+=p.g,D.value+=p.value<<w>>>0,e(8>=D.g),p.g}function Ls(p,w,D){var F=p.xc;return e((w=F==0?0:p.vc[p.md*(D>>F)+(w>>F)])<p.Wb),p.Ya[w]}function en(p,w,D,F){var H=p.ab,V=p.c*w,G=p.C;w=G+w;var Q=D,ee=F;for(F=p.Ta,D=p.Ua;0<H--;){var ne=p.gc[H],pe=G,je=w,Ne=Q,ye=ee,Me=(ee=F,Q=D,ne.Ea);switch(e(pe<je),e(je<=ne.nc),ne.hc){case 2:Fh(Ne,ye,(je-pe)*Me,ee,Q);break;case 0:var Pe=pe,xe=je,ge=ee,Le=Q,Oe=(Ye=ne).Ea;Pe==0&&(lx(Ne,ye,null,null,1,ge,Le),Ue(Ne,ye+1,0,0,Oe-1,ge,Le+1),ye+=Oe,Le+=Oe,++Pe);for(var Ie=1<<Ye.b,Qe=Ie-1,Ve=te(Oe,Ye.b),at=Ye.K,Ye=Ye.w+(Pe>>Ye.b)*Ve;Pe<xe;){var Et=at,Ot=Ye,Ct=1;for(fd(Ne,ye,ge,Le-Oe,1,ge,Le);Ct<Oe;){var jt=(Ct&~Qe)+Ie;jt>Oe&&(jt=Oe),(0,Pi[Et[Ot++]>>8&15])(Ne,ye+ +Ct,ge,Le+Ct-Oe,jt-Ct,ge,Le+Ct),Ct=jt}ye+=Oe,Le+=Oe,++Pe&Qe||(Ye+=Ve)}je!=ne.nc&&n(ee,Q-Me,ee,Q+(je-pe-1)*Me,Me);break;case 1:for(Me=Ne,xe=ye,Oe=(Ne=ne.Ea)-(Le=Ne&~(ge=(ye=1<<ne.b)-1)),Pe=te(Ne,ne.b),Ie=ne.K,ne=ne.w+(pe>>ne.b)*Pe;pe<je;){for(Qe=Ie,Ve=ne,at=new _e,Ye=xe+Le,Et=xe+Ne;xe<Ye;)it(Qe[Ve++],at),wo(at,Me,xe,ye,ee,Q),xe+=ye,Q+=ye;xe<Et&&(it(Qe[Ve++],at),wo(at,Me,xe,Oe,ee,Q),xe+=Oe,Q+=Oe),++pe&ge||(ne+=Pe)}break;case 3:if(Ne==ee&&ye==Q&&0<ne.b){for(xe=ee,Ne=Me=Q+(je-pe)*Me-(Le=(je-pe)*te(ne.Ea,ne.b)),ye=ee,ge=Q,Pe=[],Le=(Oe=Le)-1;0<=Le;--Le)Pe[Le]=ye[ge+Le];for(Le=Oe-1;0<=Le;--Le)xe[Ne+Le]=Pe[Le];bn(ne,pe,je,ee,Me,ee,Q)}else bn(ne,pe,je,Ne,ye,ee,Q)}Q=F,ee=D}ee!=D&&n(F,D,Q,ee,V)}function gl(p,w){var D=p.V,F=p.Ba+p.c*p.C,H=w-p.C;if(e(w<=p.l.o),e(16>=H),0<H){var V=p.l,G=p.Ta,Q=p.Ua,ee=V.width;if(en(p,H,D,F),H=Q=[Q],e((D=p.C)<(F=w)),e(V.v<V.va),F>V.o&&(F=V.o),D<V.j){var ne=V.j-D;D=V.j,H[0]+=ne*ee}if(D>=F?D=0:(H[0]+=4*V.v,V.ka=D-V.j,V.U=V.va-V.v,V.T=F-D,D=1),D){if(Q=Q[0],11>(D=p.ca).S){var pe=D.f.RGBA,je=(F=D.S,H=V.U,V=V.T,ne=pe.eb,pe.A),Ne=V;for(pe=pe.fb+p.Ma*pe.A;0<Ne--;){var ye=G,Me=Q,Pe=H,xe=ne,ge=pe;switch(F){case qh:Br(ye,Me,Pe,xe,ge);break;case Hh:Er(ye,Me,Pe,xe,ge);break;case ux:Er(ye,Me,Pe,xe,ge),jn(xe,ge,0,Pe,1,0);break;case Kb:Ja(ye,Me,Pe,xe,ge);break;case Wh:rs(ye,Me,Pe,xe,ge,1);break;case hx:rs(ye,Me,Pe,xe,ge,1),jn(xe,ge,0,Pe,1,0);break;case Uh:rs(ye,Me,Pe,xe,ge,0);break;case Vh:rs(ye,Me,Pe,xe,ge,0),jn(xe,ge,1,Pe,1,0);break;case dx:Ei(ye,Me,Pe,xe,ge);break;case mx:Ei(ye,Me,Pe,xe,ge),Gt(xe,ge,Pe,1,0);break;case Xb:Qa(ye,Me,Pe,xe,ge);break;default:e(0)}Q+=ee,pe+=je}p.Ma+=V}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=D.height)}}p.C=w,e(p.C<=p.i)}function Ga(p){var w;if(0<p.ua)return 0;for(w=0;w<p.Wb;++w){var D=p.Ya[w].G,F=p.Ya[w].H;if(0<D[1][F[1]+0].g||0<D[2][F[2]+0].g||0<D[3][F[3]+0].g)return 0}return 1}function zn(p,w,D,F,H,V){if(p.Z!=0){var G=p.qd,Q=p.rd;for(e(Mi[p.Z]!=null);w<D;++w)Mi[p.Z](G,Q,F,H,F,H,V),G=F,Q=H,H+=V;p.qd=G,p.rd=Q}}function Bn(p,w){var D=p.l.ma,F=D.Z==0||D.Z==1?p.l.j:p.C;if(F=p.C<F?F:p.C,e(w<=p.l.o),w>F){var H=p.l.width,V=D.ca,G=D.tb+H*F,Q=p.V,ee=p.Ba+p.c*F,ne=p.gc;e(p.ab==1),e(ne[0].hc==3),Oh(ne[0],F,w,Q,ee,V,G),zn(D,F,w,V,G,H)}p.C=p.Ma=w}function qn(p,w,D,F,H,V,G){var Q=p.$/F,ee=p.$%F,ne=p.m,pe=p.s,je=D+p.$,Ne=je;H=D+F*H;var ye=D+F*V,Me=280+pe.ua,Pe=p.Pb?Q:16777216,xe=0<pe.ua?pe.Wa:null,ge=pe.wc,Le=je<ye?Ls(pe,ee,Q):null;e(p.C<V),e(ye<=H);var Oe=!1;e:for(;;){for(;Oe||je<ye;){var Ie=0;if(Q>=Pe){var Qe=je-D;e((Pe=p).Pb),Pe.wd=Pe.m,Pe.xd=Qe,0<Pe.s.ua&&ke(Pe.s.Wa,Pe.s.vb),Pe=Q+$_}if(ee&ge||(Le=Ls(pe,ee,Q)),e(Le!=null),Le.Qb&&(w[je]=Le.qb,Oe=!0),!Oe)if(Y(ne),Le.jc){Ie=ne,Qe=w;var Ve=je,at=Le.pd[T(Ie)&sr-1];e(Le.jc),256>at.g?(K(Ie,Ie.u+at.g),Qe[Ve]=at.value,Ie=0):(K(Ie,Ie.u+at.g-256),e(256<=at.value),Ie=at.value),Ie==0&&(Oe=!0)}else Ie=Rr(Le.G[0],Le.H[0],ne);if(ne.h)break;if(Oe||256>Ie){if(!Oe)if(Le.nd)w[je]=(Le.qb|Ie<<8)>>>0;else{if(Y(ne),Oe=Rr(Le.G[1],Le.H[1],ne),Y(ne),Qe=Rr(Le.G[2],Le.H[2],ne),Ve=Rr(Le.G[3],Le.H[3],ne),ne.h)break;w[je]=(Ve<<24|Oe<<16|Ie<<8|Qe)>>>0}if(Oe=!1,++je,++ee>=F&&(ee=0,++Q,G!=null&&Q<=V&&!(Q%16)&&G(p,Q),xe!=null))for(;Ne<je;)Ie=w[Ne++],xe.X[(506832829*Ie&4294967295)>>>xe.Mb]=Ie}else if(280>Ie){if(Ie=$n(Ie-256,ne),Qe=Rr(Le.G[4],Le.H[4],ne),Y(ne),Qe=ma(F,Qe=$n(Qe,ne)),ne.h)break;if(je-D<Qe||H-je<Ie)break e;for(Ve=0;Ve<Ie;++Ve)w[je+Ve]=w[je+Ve-Qe];for(je+=Ie,ee+=Ie;ee>=F;)ee-=F,++Q,G!=null&&Q<=V&&!(Q%16)&&G(p,Q);if(e(je<=H),ee&ge&&(Le=Ls(pe,ee,Q)),xe!=null)for(;Ne<je;)Ie=w[Ne++],xe.X[(506832829*Ie&4294967295)>>>xe.Mb]=Ie}else{if(!(Ie<Me))break e;for(Oe=Ie-280,e(xe!=null);Ne<je;)Ie=w[Ne++],xe.X[(506832829*Ie&4294967295)>>>xe.Mb]=Ie;Ie=je,e(!(Oe>>>(Qe=xe).Xa)),w[Ie]=Qe.X[Oe],Oe=!0}Oe||e(ne.h==B(ne))}if(p.Pb&&ne.h&&je<H)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&ke(p.s.vb,p.s.Wa);else{if(ne.h)break e;G?.(p,Q>V?V:Q),p.a=0,p.$=je-D}return 1}return p.a=3,0}function fa(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var w=p.Wa;w!=null&&(w.X=null),p.vb=null,e(p!=null)}function yn(){var p=new ox;return p==null?null:(p.a=0,p.xb=Zb,da("Predictor","VP8LPredictors"),da("Predictor","VP8LPredictors_C"),da("PredictorAdd","VP8LPredictorsAdd"),da("PredictorAdd","VP8LPredictorsAdd_C"),Fh=Xe,wo=rt,Br=qe,Er=Ft,Ei=gt,Qa=mr,Ja=It,v.VP8LMapColor32b=Ol,v.VP8LMapColor8b=Rh,p)}function pa(p,w,D,F,H){var V=1,G=[p],Q=[w],ee=F.m,ne=F.s,pe=null,je=0;e:for(;;){if(D)for(;V&&J(ee,1);){var Ne=G,ye=Q,Me=F,Pe=1,xe=Me.m,ge=Me.gc[Me.ab],Le=J(xe,2);if(Me.Oc&1<<Le)V=0;else{switch(Me.Oc|=1<<Le,ge.hc=Le,ge.Ea=Ne[0],ge.nc=ye[0],ge.K=[null],++Me.ab,e(4>=Me.ab),Le){case 0:case 1:ge.b=J(xe,3)+2,Pe=pa(te(ge.Ea,ge.b),te(ge.nc,ge.b),0,Me,ge.K),ge.K=ge.K[0];break;case 3:var Oe,Ie=J(xe,8)+1,Qe=16<Ie?0:4<Ie?1:2<Ie?2:3;if(Ne[0]=te(ge.Ea,Qe),ge.b=Qe,Oe=Pe=pa(Ie,1,0,Me,ge.K)){var Ve,at=Ie,Ye=ge,Et=1<<(8>>Ye.b),Ot=i(Et);if(Ot==null)Oe=0;else{var Ct=Ye.K[0],jt=Ye.w;for(Ot[0]=Ye.K[0][0],Ve=1;Ve<1*at;++Ve)Ot[Ve]=oe(Ct[jt+Ve],Ot[Ve-1]);for(;Ve<4*Et;++Ve)Ot[Ve]=0;Ye.K[0]=null,Ye.K[0]=Ot,Oe=1}}Pe=Oe;break;case 2:break;default:e(0)}V=Pe}}if(G=G[0],Q=Q[0],V&&J(ee,1)&&!(V=1<=(je=J(ee,4))&&11>=je)){F.a=3;break e}var Ht;if(Ht=V)t:{var Bt,xt,Ms,qr=F,Ts=G,Hr=Q,Rt=je,rn=D,nn=qr.m,Qs=qr.s,rr=[null],Lr=1,_n=0,ba=R_[Rt];s:for(;;){if(rn&&J(nn,1)){var Js=J(nn,3)+2,si=te(Ts,Js),So=te(Hr,Js),ql=si*So;if(!pa(si,So,0,qr,rr))break s;for(rr=rr[0],Qs.xc=Js,Bt=0;Bt<ql;++Bt){var Ti=rr[Bt]>>8&65535;rr[Bt]=Ti,Ti>=Lr&&(Lr=Ti+1)}}if(nn.h)break s;for(xt=0;5>xt;++xt){var ps=Qb[xt];!xt&&0<Rt&&(ps+=1<<Rt),_n<ps&&(_n=ps)}var gx=o(Lr*ba,C),lv=Lr,cv=o(lv,z);if(cv==null)var Xh=null;else e(65536>=lv),Xh=cv;var wd=i(_n);if(Xh==null||wd==null||gx==null){qr.a=1;break s}var Qh=gx;for(Bt=Ms=0;Bt<Lr;++Bt){var Yn=Xh[Bt],Hl=Yn.G,Wl=Yn.H,dv=0,Jh=1,uv=0;for(xt=0;5>xt;++xt){ps=Qb[xt],Hl[xt]=Qh,Wl[xt]=Ms,!xt&&0<Rt&&(ps+=1<<Rt);n:{var Zh,yx=ps,em=qr,jd=wd,aS=Qh,iS=Ms,bx=0,Fi=em.m,oS=J(Fi,1);if(a(jd,0,0,yx),oS){var lS=J(Fi,1)+1,cS=J(Fi,1),hv=J(Fi,cS==0?1:8);jd[hv]=1,lS==2&&(jd[hv=J(Fi,8)]=1);var tm=1}else{var mv=i(19),fv=J(Fi,4)+4;if(19<fv){em.a=3;var sm=0;break n}for(Zh=0;Zh<fv;++Zh)mv[F_[Zh]]=J(Fi,3);var vx=void 0,Nd=void 0,pv=em,dS=mv,rm=yx,xv=jd,wx=0,Oi=pv.m,gv=8,yv=o(128,C);r:for(;S(yv,0,7,dS,19);){if(J(Oi,1)){var uS=2+2*J(Oi,3);if((vx=2+J(Oi,uS))>rm)break r}else vx=rm;for(Nd=0;Nd<rm&&vx--;){Y(Oi);var bv=yv[0+(127&T(Oi))];K(Oi,Oi.u+bv.g);var Ul=bv.value;if(16>Ul)xv[Nd++]=Ul,Ul!=0&&(gv=Ul);else{var hS=Ul==16,vv=Ul-16,mS=M_[vv],wv=J(Oi,I_[vv])+mS;if(Nd+wv>rm)break r;for(var fS=hS?gv:0;0<wv--;)xv[Nd++]=fS}}wx=1;break r}wx||(pv.a=3),tm=wx}(tm=tm&&!Fi.h)&&(bx=S(aS,iS,8,jd,yx)),tm&&bx!=0?sm=bx:(em.a=3,sm=0)}if(sm==0)break s;if(Jh&&T_[xt]==1&&(Jh=Qh[Ms].g==0),dv+=Qh[Ms].g,Ms+=sm,3>=xt){var kd,jx=wd[0];for(kd=1;kd<ps;++kd)wd[kd]>jx&&(jx=wd[kd]);uv+=jx}}if(Yn.nd=Jh,Yn.Qb=0,Jh&&(Yn.qb=(Hl[3][Wl[3]+0].value<<24|Hl[1][Wl[1]+0].value<<16|Hl[2][Wl[2]+0].value)>>>0,dv==0&&256>Hl[0][Wl[0]+0].value&&(Yn.Qb=1,Yn.qb+=Hl[0][Wl[0]+0].value<<8)),Yn.jc=!Yn.Qb&&6>uv,Yn.jc){var nm,ri=Yn;for(nm=0;nm<sr;++nm){var Ri=nm,$i=ri.pd[Ri],am=ri.G[0][ri.H[0]+Ri];256<=am.value?($i.g=am.g+256,$i.value=am.value):($i.g=0,$i.value=0,Ri>>=Bs(am,8,$i),Ri>>=Bs(ri.G[1][ri.H[1]+Ri],16,$i),Ri>>=Bs(ri.G[2][ri.H[2]+Ri],0,$i),Bs(ri.G[3][ri.H[3]+Ri],24,$i))}}}Qs.vc=rr,Qs.Wb=Lr,Qs.Ya=Xh,Qs.yc=gx,Ht=1;break t}Ht=0}if(!(V=Ht)){F.a=3;break e}if(0<je){if(ne.ua=1<<je,!He(ne.Wa,je)){F.a=1,V=0;break e}}else ne.ua=0;var Nx=F,jv=G,pS=Q,kx=Nx.s,_x=kx.xc;if(Nx.c=jv,Nx.i=pS,kx.md=te(jv,_x),kx.wc=_x==0?-1:(1<<_x)-1,D){F.xb=V_;break e}if((pe=i(G*Q))==null){F.a=1,V=0;break e}V=(V=qn(F,pe,0,G,Q,Q,null))&&!ee.h;break e}return V?(H!=null?H[0]=pe:(e(pe==null),e(D)),F.$=0,D||fa(ne)):fa(ne),V}function xo(p,w){var D=p.c*p.i,F=D+w+16*w;return e(p.c<=w),p.V=i(F),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+D+w,1)}function yl(p,w){var D=p.C,F=w-D,H=p.V,V=p.Ba+p.c*D;for(e(w<=p.l.o);0<F;){var G=16<F?16:F,Q=p.l.ma,ee=p.l.width,ne=ee*G,pe=Q.ca,je=Q.tb+ee*D,Ne=p.Ta,ye=p.Ua;en(p,G,H,V),Ns(Ne,ye,pe,je,ne),zn(Q,D,D+G,pe,je,ee),F-=G,H+=G*p.c,D+=G}e(D==w),p.C=p.Ma=w}function bl(){this.ub=this.yd=this.td=this.Rb=0}function vl(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function wl(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function xh(){this.Yb=function(){var p=[];return function w(D,F,H){for(var V=H[F],G=0;G<V&&(D.push(H.length>F+1?[]:0),!(H.length<F+1));G++)w(D[G],F+1,H)}(p,0,[3,11]),p}()}function Rp(){this.jb=i(3),this.Wc=l([4,8],xh),this.Xc=l([4,17],xh)}function $p(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function jl(){this.ld=this.La=this.dd=this.tc=0}function gh(){this.Na=this.la=0}function zp(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Kc(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Bp(){this.uc=this.M=this.Nb=0,this.wa=Array(new jl),this.Y=0,this.ya=Array(new Kc),this.aa=0,this.l=new Nl}function yh(){this.y=i(16),this.f=i(8),this.ea=i(8)}function qp(){this.cb=this.a=0,this.sc="",this.m=new se,this.Od=new bl,this.Kc=new vl,this.ed=new $p,this.Qa=new wl,this.Ic=this.$c=this.Aa=0,this.D=new Bp,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,se),this.ia=0,this.pb=o(4,zp),this.Pa=new Rp,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new yh),this.Hd=0,this.rb=Array(new gh),this.sb=0,this.wa=Array(new jl),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Kc),this.L=this.aa=0,this.gd=l([4,2],jl),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Nl(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Hp(){var p=new qp;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,bd||(bd=wh)),p}function ws(p,w,D){return p.a==0&&(p.a=w,p.sc=D,p.cb=0),0}function bh(p,w,D){return 3<=D&&p[w+0]==157&&p[w+1]==1&&p[w+2]==42}function vh(p,w){if(p==null)return 0;if(p.a=0,p.sc="OK",w==null)return ws(p,2,"null VP8Io passed to VP8GetHeaders()");var D=w.data,F=w.w,H=w.ha;if(4>H)return ws(p,7,"Truncated header.");var V=D[F+0]|D[F+1]<<8|D[F+2]<<16,G=p.Od;if(G.Rb=!(1&V),G.td=V>>1&7,G.yd=V>>4&1,G.ub=V>>5,3<G.td)return ws(p,3,"Incorrect keyframe parameters.");if(!G.yd)return ws(p,4,"Frame not displayable.");F+=3,H-=3;var Q=p.Kc;if(G.Rb){if(7>H)return ws(p,7,"cannot parse picture header");if(!bh(D,F,H))return ws(p,3,"Bad code word");Q.c=16383&(D[F+4]<<8|D[F+3]),Q.Td=D[F+4]>>6,Q.i=16383&(D[F+6]<<8|D[F+5]),Q.Ud=D[F+6]>>6,F+=7,H-=7,p.za=Q.c+15>>4,p.Ub=Q.i+15>>4,w.width=Q.c,w.height=Q.i,w.Da=0,w.j=0,w.v=0,w.va=w.width,w.o=w.height,w.da=0,w.ib=w.width,w.hb=w.height,w.U=w.width,w.T=w.height,a((V=p.Pa).jb,0,255,V.jb.length),e((V=p.Qa)!=null),V.Cb=0,V.Bb=0,V.Fb=1,a(V.Zb,0,0,V.Zb.length),a(V.Lb,0,0,V.Lb)}if(G.ub>H)return ws(p,7,"bad partition length");Z(V=p.m,D,F,G.ub),F+=G.ub,H-=G.ub,G.Rb&&(Q.Ld=ie(V),Q.Kd=ie(V)),Q=p.Qa;var ee,ne=p.Pa;if(e(V!=null),e(Q!=null),Q.Cb=ie(V),Q.Cb){if(Q.Bb=ie(V),ie(V)){for(Q.Fb=ie(V),ee=0;4>ee;++ee)Q.Zb[ee]=ie(V)?R(V,7):0;for(ee=0;4>ee;++ee)Q.Lb[ee]=ie(V)?R(V,6):0}if(Q.Bb)for(ee=0;3>ee;++ee)ne.jb[ee]=ie(V)?q(V,8):255}else Q.Bb=0;if(V.Ka)return ws(p,3,"cannot parse segment header");if((Q=p.ed).zd=ie(V),Q.Tb=q(V,6),Q.wb=q(V,3),Q.Pc=ie(V),Q.Pc&&ie(V)){for(ne=0;4>ne;++ne)ie(V)&&(Q.vd[ne]=R(V,6));for(ne=0;4>ne;++ne)ie(V)&&(Q.od[ne]=R(V,6))}if(p.L=Q.Tb==0?0:Q.zd?1:2,V.Ka)return ws(p,3,"cannot parse filter header");var pe=H;if(H=ee=F,F=ee+pe,Q=pe,p.Xb=(1<<q(p.m,2))-1,pe<3*(ne=p.Xb))D=7;else{for(ee+=3*ne,Q-=3*ne,pe=0;pe<ne;++pe){var je=D[H+0]|D[H+1]<<8|D[H+2]<<16;je>Q&&(je=Q),Z(p.Jc[+pe],D,ee,je),ee+=je,Q-=je,H+=3}Z(p.Jc[+ne],D,ee,Q),D=ee<F?0:5}if(D!=0)return ws(p,D,"cannot parse partitions");for(D=q(ee=p.m,7),H=ie(ee)?R(ee,4):0,F=ie(ee)?R(ee,4):0,Q=ie(ee)?R(ee,4):0,ne=ie(ee)?R(ee,4):0,ee=ie(ee)?R(ee,4):0,pe=p.Qa,je=0;4>je;++je){if(pe.Cb){var Ne=pe.Zb[je];pe.Fb||(Ne+=D)}else{if(0<je){p.pb[je]=p.pb[0];continue}Ne=D}var ye=p.pb[je];ye.Sc[0]=fx[tn(Ne+H,127)],ye.Sc[1]=px[tn(Ne+0,127)],ye.Eb[0]=2*fx[tn(Ne+F,127)],ye.Eb[1]=101581*px[tn(Ne+Q,127)]>>16,8>ye.Eb[1]&&(ye.Eb[1]=8),ye.Qc[0]=fx[tn(Ne+ne,117)],ye.Qc[1]=px[tn(Ne+ee,127)],ye.lc=Ne+ee}if(!G.Rb)return ws(p,4,"Not a key frame.");for(ie(V),G=p.Pa,D=0;4>D;++D){for(H=0;8>H;++H)for(F=0;3>F;++F)for(Q=0;11>Q;++Q)ne=he(V,W_[D][H][F][Q])?q(V,8):q_[D][H][F][Q],G.Wc[D][H].Yb[F][Q]=ne;for(H=0;17>H;++H)G.Xc[D][H]=G.Wc[D][U_[H]]}return p.kc=ie(V),p.kc&&(p.Bd=q(V,8)),p.cb=1}function wh(p,w,D,F,H,V,G){var Q=w[H].Yb[D];for(D=0;16>H;++H){if(!he(p,Q[D+0]))return H;for(;!he(p,Q[D+1]);)if(Q=w[++H].Yb[0],D=0,H==16)return 16;var ee=w[H+1].Yb;if(he(p,Q[D+2])){var ne=p,pe=0;if(he(ne,(Ne=Q)[(je=D)+3]))if(he(ne,Ne[je+6])){for(Q=0,je=2*(pe=he(ne,Ne[je+8]))+(Ne=he(ne,Ne[je+9+pe])),pe=0,Ne=z_[je];Ne[Q];++Q)pe+=pe+he(ne,Ne[Q]);pe+=3+(8<<je)}else he(ne,Ne[je+7])?(pe=7+2*he(ne,165),pe+=he(ne,145)):pe=5+he(ne,159);else pe=he(ne,Ne[je+4])?3+he(ne,Ne[je+5]):2;Q=ee[2]}else pe=1,Q=ee[1];ee=G+B_[H],0>(ne=p).b&&re(ne);var je,Ne=ne.b,ye=(je=ne.Ca>>1)-(ne.I>>Ne)>>31;--ne.b,ne.Ca+=ye,ne.Ca|=1,ne.I-=(je+1&ye)<<Ne,V[ee]=((pe^ye)-ye)*F[(0<H)+0]}return 16}function Xc(p){var w=p.rb[p.sb-1];w.la=0,w.Na=0,a(p.zc,0,0,p.zc.length),p.ja=0}function Wp(p,w){if(p==null)return 0;if(w==null)return ws(p,2,"NULL VP8Io parameter in VP8Decode().");if(!p.cb&&!vh(p,w))return 0;if(e(p.cb),w.ac==null||w.ac(w)){w.ob&&(p.L=0);var D=Kh[p.L];if(p.L==2?(p.yb=0,p.zb=0):(p.yb=w.v-D>>4,p.zb=w.j-D>>4,0>p.yb&&(p.yb=0),0>p.zb&&(p.zb=0)),p.Va=w.o+15+D>>4,p.Hb=w.va+15+D>>4,p.Hb>p.za&&(p.Hb=p.za),p.Va>p.Ub&&(p.Va=p.Ub),0<p.L){var F=p.ed;for(D=0;4>D;++D){var H;if(p.Qa.Cb){var V=p.Qa.Lb[D];p.Qa.Fb||(V+=F.Tb)}else V=F.Tb;for(H=0;1>=H;++H){var G=p.gd[D][H],Q=V;if(F.Pc&&(Q+=F.vd[0],H&&(Q+=F.od[0])),0<(Q=0>Q?0:63<Q?63:Q)){var ee=Q;0<F.wb&&(ee=4<F.wb?ee>>2:ee>>1)>9-F.wb&&(ee=9-F.wb),1>ee&&(ee=1),G.dd=ee,G.tc=2*Q+ee,G.ld=40<=Q?2:15<=Q?1:0}else G.tc=0;G.La=H}}}D=0}else ws(p,6,"Frame setup failed"),D=p.a;if(D=D==0){if(D){p.$c=0,0<p.Aa||(p.Ic=nS);e:{D=p.Ic,F=4*(ee=p.za);var ne=32*ee,pe=ee+1,je=0<p.L?ee*(0<p.Aa?2:1):0,Ne=(p.Aa==2?2:1)*ee;if((G=F+832+(H=3*(16*D+Kh[p.L])/2*ne)+(V=p.Fa!=null&&0<p.Fa.length?p.Kc.c*p.Kc.i:0))!=G)D=0;else{if(G>p.Vb){if(p.Vb=0,p.Ec=i(G),p.Fc=0,p.Ec==null){D=ws(p,1,"no memory during frame initialization.");break e}p.Vb=G}G=p.Ec,Q=p.Fc,p.Ac=G,p.Bc=Q,Q+=F,p.Gd=o(ne,yh),p.Hd=0,p.rb=o(pe+1,gh),p.sb=1,p.wa=je?o(je,jl):null,p.Y=0,p.D.Nb=0,p.D.wa=p.wa,p.D.Y=p.Y,0<p.Aa&&(p.D.Y+=ee),e(!0),p.oc=G,p.pc=Q,Q+=832,p.ya=o(Ne,Kc),p.aa=0,p.D.ya=p.ya,p.D.aa=p.aa,p.Aa==2&&(p.D.aa+=ee),p.R=16*ee,p.B=8*ee,ee=(ne=Kh[p.L])*p.R,ne=ne/2*p.B,p.sa=G,p.ta=Q+ee,p.qa=p.sa,p.ra=p.ta+16*D*p.R+ne,p.Ha=p.qa,p.Ia=p.ra+8*D*p.B+ne,p.$c=0,Q+=H,p.mb=V?G:null,p.nb=V?Q:null,e(Q+V<=p.Fc+p.Vb),Xc(p),a(p.Ac,p.Bc,0,F),D=1}}if(D){if(w.ka=0,w.y=p.sa,w.O=p.ta,w.f=p.qa,w.N=p.ra,w.ea=p.Ha,w.Vd=p.Ia,w.fa=p.R,w.Rc=p.B,w.F=null,w.J=0,!zh){for(D=-255;255>=D;++D)qs[255+D]=0>D?-D:D;for(D=-1020;1020>=D;++D)ei[1020+D]=-128>D?-128:127<D?127:D;for(D=-112;112>=D;++D)yd[112+D]=-16>D?-16:15<D?15:D;for(D=-255;510>=D;++D)Bl[255+D]=0>D?0:255<D?255:D;zh=1}Rl=Yp,Za=Up,pd=Nh,Dr=Vp,vn=kh,js=jh,$l=sd,$h=bo,xd=ix,jo=rd,No=ax,Di=Pl,ko=nd,zl=Ih,_o=Lh,Li=ga,gd=Xa,wn=nx,Vn[0]=xa,Vn[1]=Gp,Vn[2]=Jp,Vn[3]=Zp,Vn[4]=Ah,Vn[5]=Al,Vn[6]=Ch,Vn[7]=Zc,Vn[8]=tx,Vn[9]=ex,Ii[0]=_h,Ii[1]=Xp,Ii[2]=Ka,Ii[3]=_l,Ii[4]=fr,Ii[5]=Qp,Ii[6]=Sh,ti[0]=Si,ti[1]=Kp,ti[2]=sx,ti[3]=ed,ti[4]=yo,ti[5]=rx,ti[6]=td,D=1}else D=0}D&&(D=function(ye,Me){for(ye.M=0;ye.M<ye.Va;++ye.M){var Pe,xe=ye.Jc[ye.M&ye.Xb],ge=ye.m,Le=ye;for(Pe=0;Pe<Le.za;++Pe){var Oe=ge,Ie=Le,Qe=Ie.Ac,Ve=Ie.Bc+4*Pe,at=Ie.zc,Ye=Ie.ya[Ie.aa+Pe];if(Ie.Qa.Bb?Ye.$b=he(Oe,Ie.Pa.jb[0])?2+he(Oe,Ie.Pa.jb[2]):he(Oe,Ie.Pa.jb[1]):Ye.$b=0,Ie.kc&&(Ye.Ad=he(Oe,Ie.Bd)),Ye.Za=!he(Oe,145)+0,Ye.Za){var Et=Ye.Ob,Ot=0;for(Ie=0;4>Ie;++Ie){var Ct,jt=at[0+Ie];for(Ct=0;4>Ct;++Ct){jt=H_[Qe[Ve+Ct]][jt];for(var Ht=Jb[he(Oe,jt[0])];0<Ht;)Ht=Jb[2*Ht+he(Oe,jt[Ht])];jt=-Ht,Qe[Ve+Ct]=jt}n(Et,Ot,Qe,Ve,4),Ot+=4,at[0+Ie]=jt}}else jt=he(Oe,156)?he(Oe,128)?1:3:he(Oe,163)?2:0,Ye.Ob[0]=jt,a(Qe,Ve,jt,4),a(at,0,jt,4);Ye.Dd=he(Oe,142)?he(Oe,114)?he(Oe,183)?1:3:2:0}if(Le.m.Ka)return ws(ye,7,"Premature end-of-partition0 encountered.");for(;ye.ja<ye.za;++ye.ja){if(Le=xe,Oe=(ge=ye).rb[ge.sb-1],Qe=ge.rb[ge.sb+ge.ja],Pe=ge.ya[ge.aa+ge.ja],Ve=ge.kc?Pe.Ad:0)Oe.la=Qe.la=0,Pe.Za||(Oe.Na=Qe.Na=0),Pe.Hc=0,Pe.Gc=0,Pe.ia=0;else{var Bt,xt;if(Oe=Qe,Qe=Le,Ve=ge.Pa.Xc,at=ge.ya[ge.aa+ge.ja],Ye=ge.pb[at.$b],Ie=at.ad,Et=0,Ot=ge.rb[ge.sb-1],jt=Ct=0,a(Ie,Et,0,384),at.Za)var Ms=0,qr=Ve[3];else{Ht=i(16);var Ts=Oe.Na+Ot.Na;if(Ts=bd(Qe,Ve[1],Ts,Ye.Eb,0,Ht,0),Oe.Na=Ot.Na=(0<Ts)+0,1<Ts)Rl(Ht,0,Ie,Et);else{var Hr=Ht[0]+3>>3;for(Ht=0;256>Ht;Ht+=16)Ie[Et+Ht]=Hr}Ms=1,qr=Ve[0]}var Rt=15&Oe.la,rn=15&Ot.la;for(Ht=0;4>Ht;++Ht){var nn=1&rn;for(Hr=xt=0;4>Hr;++Hr)Rt=Rt>>1|(nn=(Ts=bd(Qe,qr,Ts=nn+(1&Rt),Ye.Sc,Ms,Ie,Et))>Ms)<<7,xt=xt<<2|(3<Ts?3:1<Ts?2:Ie[Et+0]!=0),Et+=16;Rt>>=4,rn=rn>>1|nn<<7,Ct=(Ct<<8|xt)>>>0}for(qr=Rt,Ms=rn>>4,Bt=0;4>Bt;Bt+=2){for(xt=0,Rt=Oe.la>>4+Bt,rn=Ot.la>>4+Bt,Ht=0;2>Ht;++Ht){for(nn=1&rn,Hr=0;2>Hr;++Hr)Ts=nn+(1&Rt),Rt=Rt>>1|(nn=0<(Ts=bd(Qe,Ve[2],Ts,Ye.Qc,0,Ie,Et)))<<3,xt=xt<<2|(3<Ts?3:1<Ts?2:Ie[Et+0]!=0),Et+=16;Rt>>=2,rn=rn>>1|nn<<5}jt|=xt<<4*Bt,qr|=Rt<<4<<Bt,Ms|=(240&rn)<<Bt}Oe.la=qr,Ot.la=Ms,at.Hc=Ct,at.Gc=jt,at.ia=43690&jt?0:Ye.ia,Ve=!(Ct|jt)}if(0<ge.L&&(ge.wa[ge.Y+ge.ja]=ge.gd[Pe.$b][Pe.Za],ge.wa[ge.Y+ge.ja].La|=!Ve),Le.Ka)return ws(ye,7,"Premature end-of-file encountered.")}if(Xc(ye),ge=Me,Le=1,Pe=(xe=ye).D,Oe=0<xe.L&&xe.M>=xe.zb&&xe.M<=xe.Va,xe.Aa==0)e:{if(Pe.M=xe.M,Pe.uc=Oe,dd(xe,Pe),Le=1,Pe=(xt=xe.D).Nb,Oe=(jt=Kh[xe.L])*xe.R,Qe=jt/2*xe.B,Ht=16*Pe*xe.R,Hr=8*Pe*xe.B,Ve=xe.sa,at=xe.ta-Oe+Ht,Ye=xe.qa,Ie=xe.ra-Qe+Hr,Et=xe.Ha,Ot=xe.Ia-Qe+Hr,rn=(Rt=xt.M)==0,Ct=Rt>=xe.Va-1,xe.Aa==2&&dd(xe,xt),xt.uc)for(nn=(Ts=xe).D.M,e(Ts.D.uc),xt=Ts.yb;xt<Ts.Hb;++xt){Ms=xt,qr=nn;var Qs=(rr=(ps=Ts).D).Nb;Bt=ps.R;var rr=rr.wa[rr.Y+Ms],Lr=ps.sa,_n=ps.ta+16*Qs*Bt+16*Ms,ba=rr.dd,Js=rr.tc;if(Js!=0)if(e(3<=Js),ps.L==1)0<Ms&&Li(Lr,_n,Bt,Js+4),rr.La&&wn(Lr,_n,Bt,Js),0<qr&&_o(Lr,_n,Bt,Js+4),rr.La&&gd(Lr,_n,Bt,Js);else{var si=ps.B,So=ps.qa,ql=ps.ra+8*Qs*si+8*Ms,Ti=ps.Ha,ps=ps.Ia+8*Qs*si+8*Ms;Qs=rr.ld,0<Ms&&($h(Lr,_n,Bt,Js+4,ba,Qs),jo(So,ql,Ti,ps,si,Js+4,ba,Qs)),rr.La&&(Di(Lr,_n,Bt,Js,ba,Qs),zl(So,ql,Ti,ps,si,Js,ba,Qs)),0<qr&&($l(Lr,_n,Bt,Js+4,ba,Qs),xd(So,ql,Ti,ps,si,Js+4,ba,Qs)),rr.La&&(No(Lr,_n,Bt,Js,ba,Qs),ko(So,ql,Ti,ps,si,Js,ba,Qs))}}if(xe.ia&&alert("todo:DitherRow"),ge.put!=null){if(xt=16*Rt,Rt=16*(Rt+1),rn?(ge.y=xe.sa,ge.O=xe.ta+Ht,ge.f=xe.qa,ge.N=xe.ra+Hr,ge.ea=xe.Ha,ge.W=xe.Ia+Hr):(xt-=jt,ge.y=Ve,ge.O=at,ge.f=Ye,ge.N=Ie,ge.ea=Et,ge.W=Ot),Ct||(Rt-=jt),Rt>ge.o&&(Rt=ge.o),ge.F=null,ge.J=null,xe.Fa!=null&&0<xe.Fa.length&&xt<Rt&&(ge.J=ld(xe,ge,xt,Rt-xt),ge.F=xe.mb,ge.F==null&&ge.F.length==0)){Le=ws(xe,3,"Could not decode alpha data.");break e}xt<ge.j&&(jt=ge.j-xt,xt=ge.j,e(!(1&jt)),ge.O+=xe.R*jt,ge.N+=xe.B*(jt>>1),ge.W+=xe.B*(jt>>1),ge.F!=null&&(ge.J+=ge.width*jt)),xt<Rt&&(ge.O+=ge.v,ge.N+=ge.v>>1,ge.W+=ge.v>>1,ge.F!=null&&(ge.J+=ge.v),ge.ka=xt-ge.j,ge.U=ge.va-ge.v,ge.T=Rt-xt,Le=ge.put(ge))}Pe+1!=xe.Ic||Ct||(n(xe.sa,xe.ta-Oe,Ve,at+16*xe.R,Oe),n(xe.qa,xe.ra-Qe,Ye,Ie+8*xe.B,Qe),n(xe.Ha,xe.Ia-Qe,Et,Ot+8*xe.B,Qe))}if(!Le)return ws(ye,6,"Output aborted.")}return 1}(p,w)),w.bc!=null&&w.bc(w),D&=1}return D?(p.cb=0,D):0}function Hn(p,w,D,F,H){H=p[w+D+32*F]+(H>>3),p[w+D+32*F]=-256&H?0>H?0:255:H}function kl(p,w,D,F,H,V){Hn(p,w,0,D,F+H),Hn(p,w,1,D,F+V),Hn(p,w,2,D,F-V),Hn(p,w,3,D,F-H)}function $r(p){return(20091*p>>16)+p}function Qc(p,w,D,F){var H,V=0,G=i(16);for(H=0;4>H;++H){var Q=p[w+0]+p[w+8],ee=p[w+0]-p[w+8],ne=(35468*p[w+4]>>16)-$r(p[w+12]),pe=$r(p[w+4])+(35468*p[w+12]>>16);G[V+0]=Q+pe,G[V+1]=ee+ne,G[V+2]=ee-ne,G[V+3]=Q-pe,V+=4,w++}for(H=V=0;4>H;++H)Q=(p=G[V+0]+4)+G[V+8],ee=p-G[V+8],ne=(35468*G[V+4]>>16)-$r(G[V+12]),Hn(D,F,0,0,Q+(pe=$r(G[V+4])+(35468*G[V+12]>>16))),Hn(D,F,1,0,ee+ne),Hn(D,F,2,0,ee-ne),Hn(D,F,3,0,Q-pe),V++,F+=32}function jh(p,w,D,F){var H=p[w+0]+4,V=35468*p[w+4]>>16,G=$r(p[w+4]),Q=35468*p[w+1]>>16;kl(D,F,0,H+G,p=$r(p[w+1]),Q),kl(D,F,1,H+V,p,Q),kl(D,F,2,H-V,p,Q),kl(D,F,3,H-G,p,Q)}function Up(p,w,D,F,H){Qc(p,w,D,F),H&&Qc(p,w+16,D,F+4)}function Nh(p,w,D,F){Za(p,w+0,D,F,1),Za(p,w+32,D,F+128,1)}function Vp(p,w,D,F){var H;for(p=p[w+0]+4,H=0;4>H;++H)for(w=0;4>w;++w)Hn(D,F,w,H,p)}function kh(p,w,D,F){p[w+0]&&Dr(p,w+0,D,F),p[w+16]&&Dr(p,w+16,D,F+4),p[w+32]&&Dr(p,w+32,D,F+128),p[w+48]&&Dr(p,w+48,D,F+128+4)}function Yp(p,w,D,F){var H,V=i(16);for(H=0;4>H;++H){var G=p[w+0+H]+p[w+12+H],Q=p[w+4+H]+p[w+8+H],ee=p[w+4+H]-p[w+8+H],ne=p[w+0+H]-p[w+12+H];V[0+H]=G+Q,V[8+H]=G-Q,V[4+H]=ne+ee,V[12+H]=ne-ee}for(H=0;4>H;++H)G=(p=V[0+4*H]+3)+V[3+4*H],Q=V[1+4*H]+V[2+4*H],ee=V[1+4*H]-V[2+4*H],ne=p-V[3+4*H],D[F+0]=G+Q>>3,D[F+16]=ne+ee>>3,D[F+32]=G-Q>>3,D[F+48]=ne-ee>>3,F+=64}function Jc(p,w,D){var F,H=w-32,V=sn,G=255-p[H-1];for(F=0;F<D;++F){var Q,ee=V,ne=G+p[w-1];for(Q=0;Q<D;++Q)p[w+Q]=ee[ne+p[H+Q]];w+=32}}function Gp(p,w){Jc(p,w,4)}function Kp(p,w){Jc(p,w,8)}function Xp(p,w){Jc(p,w,16)}function Ka(p,w){var D;for(D=0;16>D;++D)n(p,w+32*D,p,w-32,16)}function _l(p,w){var D;for(D=16;0<D;--D)a(p,w,p[w-1],16),w+=32}function Sl(p,w,D){var F;for(F=0;16>F;++F)a(w,D+32*F,p,16)}function _h(p,w){var D,F=16;for(D=0;16>D;++D)F+=p[w-1+32*D]+p[w+D-32];Sl(F>>5,p,w)}function fr(p,w){var D,F=8;for(D=0;16>D;++D)F+=p[w-1+32*D];Sl(F>>4,p,w)}function Qp(p,w){var D,F=8;for(D=0;16>D;++D)F+=p[w+D-32];Sl(F>>4,p,w)}function Sh(p,w){Sl(128,p,w)}function dt(p,w,D){return p+2*w+D+2>>2}function Jp(p,w){var D,F=w-32;for(F=new Uint8Array([dt(p[F-1],p[F+0],p[F+1]),dt(p[F+0],p[F+1],p[F+2]),dt(p[F+1],p[F+2],p[F+3]),dt(p[F+2],p[F+3],p[F+4])]),D=0;4>D;++D)n(p,w+32*D,F,0,F.length)}function Zp(p,w){var D=p[w-1],F=p[w-1+32],H=p[w-1+64],V=p[w-1+96];Ce(p,w+0,16843009*dt(p[w-1-32],D,F)),Ce(p,w+32,16843009*dt(D,F,H)),Ce(p,w+64,16843009*dt(F,H,V)),Ce(p,w+96,16843009*dt(H,V,V))}function xa(p,w){var D,F=4;for(D=0;4>D;++D)F+=p[w+D-32]+p[w-1+32*D];for(F>>=3,D=0;4>D;++D)a(p,w+32*D,F,4)}function Ah(p,w){var D=p[w-1+0],F=p[w-1+32],H=p[w-1+64],V=p[w-1-32],G=p[w+0-32],Q=p[w+1-32],ee=p[w+2-32],ne=p[w+3-32];p[w+0+96]=dt(F,H,p[w-1+96]),p[w+1+96]=p[w+0+64]=dt(D,F,H),p[w+2+96]=p[w+1+64]=p[w+0+32]=dt(V,D,F),p[w+3+96]=p[w+2+64]=p[w+1+32]=p[w+0+0]=dt(G,V,D),p[w+3+64]=p[w+2+32]=p[w+1+0]=dt(Q,G,V),p[w+3+32]=p[w+2+0]=dt(ee,Q,G),p[w+3+0]=dt(ne,ee,Q)}function Ch(p,w){var D=p[w+1-32],F=p[w+2-32],H=p[w+3-32],V=p[w+4-32],G=p[w+5-32],Q=p[w+6-32],ee=p[w+7-32];p[w+0+0]=dt(p[w+0-32],D,F),p[w+1+0]=p[w+0+32]=dt(D,F,H),p[w+2+0]=p[w+1+32]=p[w+0+64]=dt(F,H,V),p[w+3+0]=p[w+2+32]=p[w+1+64]=p[w+0+96]=dt(H,V,G),p[w+3+32]=p[w+2+64]=p[w+1+96]=dt(V,G,Q),p[w+3+64]=p[w+2+96]=dt(G,Q,ee),p[w+3+96]=dt(Q,ee,ee)}function Al(p,w){var D=p[w-1+0],F=p[w-1+32],H=p[w-1+64],V=p[w-1-32],G=p[w+0-32],Q=p[w+1-32],ee=p[w+2-32],ne=p[w+3-32];p[w+0+0]=p[w+1+64]=V+G+1>>1,p[w+1+0]=p[w+2+64]=G+Q+1>>1,p[w+2+0]=p[w+3+64]=Q+ee+1>>1,p[w+3+0]=ee+ne+1>>1,p[w+0+96]=dt(H,F,D),p[w+0+64]=dt(F,D,V),p[w+0+32]=p[w+1+96]=dt(D,V,G),p[w+1+32]=p[w+2+96]=dt(V,G,Q),p[w+2+32]=p[w+3+96]=dt(G,Q,ee),p[w+3+32]=dt(Q,ee,ne)}function Zc(p,w){var D=p[w+0-32],F=p[w+1-32],H=p[w+2-32],V=p[w+3-32],G=p[w+4-32],Q=p[w+5-32],ee=p[w+6-32],ne=p[w+7-32];p[w+0+0]=D+F+1>>1,p[w+1+0]=p[w+0+64]=F+H+1>>1,p[w+2+0]=p[w+1+64]=H+V+1>>1,p[w+3+0]=p[w+2+64]=V+G+1>>1,p[w+0+32]=dt(D,F,H),p[w+1+32]=p[w+0+96]=dt(F,H,V),p[w+2+32]=p[w+1+96]=dt(H,V,G),p[w+3+32]=p[w+2+96]=dt(V,G,Q),p[w+3+64]=dt(G,Q,ee),p[w+3+96]=dt(Q,ee,ne)}function ex(p,w){var D=p[w-1+0],F=p[w-1+32],H=p[w-1+64],V=p[w-1+96];p[w+0+0]=D+F+1>>1,p[w+2+0]=p[w+0+32]=F+H+1>>1,p[w+2+32]=p[w+0+64]=H+V+1>>1,p[w+1+0]=dt(D,F,H),p[w+3+0]=p[w+1+32]=dt(F,H,V),p[w+3+32]=p[w+1+64]=dt(H,V,V),p[w+3+64]=p[w+2+64]=p[w+0+96]=p[w+1+96]=p[w+2+96]=p[w+3+96]=V}function tx(p,w){var D=p[w-1+0],F=p[w-1+32],H=p[w-1+64],V=p[w-1+96],G=p[w-1-32],Q=p[w+0-32],ee=p[w+1-32],ne=p[w+2-32];p[w+0+0]=p[w+2+32]=D+G+1>>1,p[w+0+32]=p[w+2+64]=F+D+1>>1,p[w+0+64]=p[w+2+96]=H+F+1>>1,p[w+0+96]=V+H+1>>1,p[w+3+0]=dt(Q,ee,ne),p[w+2+0]=dt(G,Q,ee),p[w+1+0]=p[w+3+32]=dt(D,G,Q),p[w+1+32]=p[w+3+64]=dt(F,D,G),p[w+1+64]=p[w+3+96]=dt(H,F,D),p[w+1+96]=dt(V,H,F)}function sx(p,w){var D;for(D=0;8>D;++D)n(p,w+32*D,p,w-32,8)}function ed(p,w){var D;for(D=0;8>D;++D)a(p,w,p[w-1],8),w+=32}function go(p,w,D){var F;for(F=0;8>F;++F)a(w,D+32*F,p,8)}function Si(p,w){var D,F=8;for(D=0;8>D;++D)F+=p[w+D-32]+p[w-1+32*D];go(F>>4,p,w)}function rx(p,w){var D,F=4;for(D=0;8>D;++D)F+=p[w+D-32];go(F>>3,p,w)}function yo(p,w){var D,F=4;for(D=0;8>D;++D)F+=p[w-1+32*D];go(F>>3,p,w)}function td(p,w){go(128,p,w)}function Cl(p,w,D){var F=p[w-D],H=p[w+0],V=3*(H-F)+cx[1020+p[w-2*D]-p[w+D]],G=Bh[112+(V+4>>3)];p[w-D]=sn[255+F+Bh[112+(V+3>>3)]],p[w+0]=sn[255+H-G]}function Ph(p,w,D,F){var H=p[w+0],V=p[w+D];return Nn[255+p[w-2*D]-p[w-D]]>F||Nn[255+V-H]>F}function Eh(p,w,D,F){return 4*Nn[255+p[w-D]-p[w+0]]+Nn[255+p[w-2*D]-p[w+D]]<=F}function Dh(p,w,D,F,H){var V=p[w-3*D],G=p[w-2*D],Q=p[w-D],ee=p[w+0],ne=p[w+D],pe=p[w+2*D],je=p[w+3*D];return 4*Nn[255+Q-ee]+Nn[255+G-ne]>F?0:Nn[255+p[w-4*D]-V]<=H&&Nn[255+V-G]<=H&&Nn[255+G-Q]<=H&&Nn[255+je-pe]<=H&&Nn[255+pe-ne]<=H&&Nn[255+ne-ee]<=H}function Lh(p,w,D,F){var H=2*F+1;for(F=0;16>F;++F)Eh(p,w+F,D,H)&&Cl(p,w+F,D)}function ga(p,w,D,F){var H=2*F+1;for(F=0;16>F;++F)Eh(p,w+F*D,1,H)&&Cl(p,w+F*D,1)}function Xa(p,w,D,F){var H;for(H=3;0<H;--H)Lh(p,w+=4*D,D,F)}function nx(p,w,D,F){var H;for(H=3;0<H;--H)ga(p,w+=4,D,F)}function Ai(p,w,D,F,H,V,G,Q){for(V=2*V+1;0<H--;){if(Dh(p,w,D,V,G))if(Ph(p,w,D,Q))Cl(p,w,D);else{var ee=p,ne=w,pe=D,je=ee[ne-2*pe],Ne=ee[ne-pe],ye=ee[ne+0],Me=ee[ne+pe],Pe=ee[ne+2*pe],xe=27*(Le=cx[1020+3*(ye-Ne)+cx[1020+je-Me]])+63>>7,ge=18*Le+63>>7,Le=9*Le+63>>7;ee[ne-3*pe]=sn[255+ee[ne-3*pe]+Le],ee[ne-2*pe]=sn[255+je+ge],ee[ne-pe]=sn[255+Ne+xe],ee[ne+0]=sn[255+ye-xe],ee[ne+pe]=sn[255+Me-ge],ee[ne+2*pe]=sn[255+Pe-Le]}w+=F}}function Wn(p,w,D,F,H,V,G,Q){for(V=2*V+1;0<H--;){if(Dh(p,w,D,V,G))if(Ph(p,w,D,Q))Cl(p,w,D);else{var ee=p,ne=w,pe=D,je=ee[ne-pe],Ne=ee[ne+0],ye=ee[ne+pe],Me=Bh[112+((Pe=3*(Ne-je))+4>>3)],Pe=Bh[112+(Pe+3>>3)],xe=Me+1>>1;ee[ne-2*pe]=sn[255+ee[ne-2*pe]+xe],ee[ne-pe]=sn[255+je+Pe],ee[ne+0]=sn[255+Ne-Me],ee[ne+pe]=sn[255+ye-xe]}w+=F}}function sd(p,w,D,F,H,V){Ai(p,w,D,1,16,F,H,V)}function bo(p,w,D,F,H,V){Ai(p,w,1,D,16,F,H,V)}function ax(p,w,D,F,H,V){var G;for(G=3;0<G;--G)Wn(p,w+=4*D,D,1,16,F,H,V)}function Pl(p,w,D,F,H,V){var G;for(G=3;0<G;--G)Wn(p,w+=4,1,D,16,F,H,V)}function ix(p,w,D,F,H,V,G,Q){Ai(p,w,H,1,8,V,G,Q),Ai(D,F,H,1,8,V,G,Q)}function rd(p,w,D,F,H,V,G,Q){Ai(p,w,1,H,8,V,G,Q),Ai(D,F,1,H,8,V,G,Q)}function nd(p,w,D,F,H,V,G,Q){Wn(p,w+4*H,H,1,8,V,G,Q),Wn(D,F+4*H,H,1,8,V,G,Q)}function Ih(p,w,D,F,H,V,G,Q){Wn(p,w+4,1,H,8,V,G,Q),Wn(D,F+4,1,H,8,V,G,Q)}function El(){this.ba=new Rn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ms,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ad(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function id(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Mh(){this.ua=0,this.Wa=new ae,this.vb=new ae,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new z,this.yc=new C}function ox(){this.xb=this.a=0,this.l=new Nl,this.ca=new Rn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new M,this.Pb=0,this.wd=new M,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Mh,this.ab=0,this.gc=o(4,id),this.Oc=0}function Dl(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Nl,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function vo(p,w,D,F,H,V,G){for(p=p==null?0:p[w+0],w=0;w<G;++w)H[V+w]=p+D[F+w]&255,p=H[V+w]}function od(p,w,D,F,H,V,G){var Q;if(p==null)vo(null,null,D,F,H,V,G);else for(Q=0;Q<G;++Q)H[V+Q]=p[w+Q]+D[F+Q]&255}function Ci(p,w,D,F,H,V,G){if(p==null)vo(null,null,D,F,H,V,G);else{var Q,ee=p[w+0],ne=ee,pe=ee;for(Q=0;Q<G;++Q)ne=pe+(ee=p[w+Q])-ne,pe=D[F+Q]+(-256&ne?0>ne?0:255:ne)&255,ne=ee,H[V+Q]=pe}}function ld(p,w,D,F){var H=w.width,V=w.o;if(e(p!=null&&w!=null),0>D||0>=F||D+F>V)return null;if(!p.Cc){if(p.ga==null){var G;if(p.ga=new Dl,(G=p.ga==null)||(G=w.width*w.o,e(p.Gb.length==0),p.Gb=i(G),p.Uc=0,p.Gb==null?G=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,G=1),G=!G),!G){G=p.ga;var Q=p.Fa,ee=p.P,ne=p.qc,pe=p.mb,je=p.nb,Ne=ee+1,ye=ne-1,Me=G.l;if(e(Q!=null&&pe!=null&&w!=null),Mi[0]=null,Mi[1]=vo,Mi[2]=od,Mi[3]=Ci,G.ca=pe,G.tb=je,G.c=w.width,G.i=w.height,e(0<G.c&&0<G.i),1>=ne)w=0;else if(G.$a=Q[ee+0]>>0&3,G.Z=Q[ee+0]>>2&3,G.Lc=Q[ee+0]>>4&3,ee=Q[ee+0]>>6&3,0>G.$a||1<G.$a||4<=G.Z||1<G.Lc||ee)w=0;else if(Me.put=ua,Me.ac=tr,Me.bc=ha,Me.ma=G,Me.width=w.width,Me.height=w.height,Me.Da=w.Da,Me.v=w.v,Me.va=w.va,Me.j=w.j,Me.o=w.o,G.$a)e:{e(G.$a==1),w=yn();t:for(;;){if(w==null){w=0;break e}if(e(G!=null),G.mc=w,w.c=G.c,w.i=G.i,w.l=G.l,w.l.ma=G,w.l.width=G.c,w.l.height=G.i,w.a=0,X(w.m,Q,Ne,ye),!pa(G.c,G.i,1,w,null)||(w.ab==1&&w.gc[0].hc==3&&Ga(w.s)?(G.ic=1,Q=w.c*w.i,w.Ta=null,w.Ua=0,w.V=i(Q),w.Ba=0,w.V==null?(w.a=1,w=0):w=1):(G.ic=0,w=xo(w,G.c)),!w))break t;w=1;break e}G.mc=null,w=0}else w=ye>=G.c*G.i;G=!w}if(G)return null;p.ga.Lc!=1?p.Ga=0:F=V-D}e(p.ga!=null),e(D+F<=V);e:{if(w=(Q=p.ga).c,V=Q.l.o,Q.$a==0){if(Ne=p.rc,ye=p.Vc,Me=p.Fa,ee=p.P+1+D*w,ne=p.mb,pe=p.nb+D*w,e(ee<=p.P+p.qc),Q.Z!=0)for(e(Mi[Q.Z]!=null),G=0;G<F;++G)Mi[Q.Z](Ne,ye,Me,ee,ne,pe,w),Ne=ne,ye=pe,pe+=w,ee+=w;else for(G=0;G<F;++G)n(ne,pe,Me,ee,w),Ne=ne,ye=pe,pe+=w,ee+=w;p.rc=Ne,p.Vc=ye}else{if(e(Q.mc!=null),w=D+F,e((G=Q.mc)!=null),e(w<=G.i),G.C>=w)w=1;else if(Q.ic||ve(),Q.ic){Q=G.V,Ne=G.Ba,ye=G.c;var Pe=G.i,xe=(Me=1,ee=G.$/ye,ne=G.$%ye,pe=G.m,je=G.s,G.$),ge=ye*Pe,Le=ye*w,Oe=je.wc,Ie=xe<Le?Ls(je,ne,ee):null;e(xe<=ge),e(w<=Pe),e(Ga(je));t:for(;;){for(;!pe.h&&xe<Le;){if(ne&Oe||(Ie=Ls(je,ne,ee)),e(Ie!=null),Y(pe),256>(Pe=Rr(Ie.G[0],Ie.H[0],pe)))Q[Ne+xe]=Pe,++xe,++ne>=ye&&(ne=0,++ee<=w&&!(ee%16)&&Bn(G,ee));else{if(!(280>Pe)){Me=0;break t}Pe=$n(Pe-256,pe);var Qe,Ve=Rr(Ie.G[4],Ie.H[4],pe);if(Y(pe),!(xe>=(Ve=ma(ye,Ve=$n(Ve,pe)))&&ge-xe>=Pe)){Me=0;break t}for(Qe=0;Qe<Pe;++Qe)Q[Ne+xe+Qe]=Q[Ne+xe+Qe-Ve];for(xe+=Pe,ne+=Pe;ne>=ye;)ne-=ye,++ee<=w&&!(ee%16)&&Bn(G,ee);xe<Le&&ne&Oe&&(Ie=Ls(je,ne,ee))}e(pe.h==B(pe))}Bn(G,ee>w?w:ee);break t}!Me||pe.h&&xe<ge?(Me=0,G.a=pe.h?5:3):G.$=xe,w=Me}else w=qn(G,G.V,G.Ba,G.c,G.i,w,yl);if(!w){F=0;break e}}D+F>=V&&(p.Cc=1),F=1}if(!F)return null;if(p.Cc&&((F=p.ga)!=null&&(F.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+D*H}function N(p,w,D,F,H,V){for(;0<H--;){var G,Q=p,ee=w+(D?1:0),ne=p,pe=w+(D?0:3);for(G=0;G<F;++G){var je=ne[pe+4*G];je!=255&&(je*=32897,Q[ee+4*G+0]=Q[ee+4*G+0]*je>>23,Q[ee+4*G+1]=Q[ee+4*G+1]*je>>23,Q[ee+4*G+2]=Q[ee+4*G+2]*je>>23)}w+=V}}function W(p,w,D,F,H){for(;0<F--;){var V;for(V=0;V<D;++V){var G=p[w+2*V+0],Q=15&(ne=p[w+2*V+1]),ee=4369*Q,ne=(240&ne|ne>>4)*ee>>16;p[w+2*V+0]=(240&G|G>>4)*ee>>16&240|(15&G|G<<4)*ee>>16>>4&15,p[w+2*V+1]=240&ne|Q}w+=H}}function le(p,w,D,F,H,V,G,Q){var ee,ne,pe=255;for(ne=0;ne<H;++ne){for(ee=0;ee<F;++ee){var je=p[w+ee];V[G+4*ee]=je,pe&=je}w+=D,G+=Q}return pe!=255}function me(p,w,D,F,H){var V;for(V=0;V<H;++V)D[F+V]=p[w+V]>>8}function ve(){jn=N,Gt=W,Kt=le,Ns=me}function Ee(p,w,D){v[p]=function(F,H,V,G,Q,ee,ne,pe,je,Ne,ye,Me,Pe,xe,ge,Le,Oe){var Ie,Qe=Oe-1>>1,Ve=Q[ee+0]|ne[pe+0]<<16,at=je[Ne+0]|ye[Me+0]<<16;e(F!=null);var Ye=3*Ve+at+131074>>2;for(w(F[H+0],255&Ye,Ye>>16,Pe,xe),V!=null&&(Ye=3*at+Ve+131074>>2,w(V[G+0],255&Ye,Ye>>16,ge,Le)),Ie=1;Ie<=Qe;++Ie){var Et=Q[ee+Ie]|ne[pe+Ie]<<16,Ot=je[Ne+Ie]|ye[Me+Ie]<<16,Ct=Ve+Et+at+Ot+524296,jt=Ct+2*(Et+at)>>3;Ye=jt+Ve>>1,Ve=(Ct=Ct+2*(Ve+Ot)>>3)+Et>>1,w(F[H+2*Ie-1],255&Ye,Ye>>16,Pe,xe+(2*Ie-1)*D),w(F[H+2*Ie-0],255&Ve,Ve>>16,Pe,xe+(2*Ie-0)*D),V!=null&&(Ye=Ct+at>>1,Ve=jt+Ot>>1,w(V[G+2*Ie-1],255&Ye,Ye>>16,ge,Le+(2*Ie-1)*D),w(V[G+2*Ie+0],255&Ve,Ve>>16,ge,Le+(2*Ie+0)*D)),Ve=Et,at=Ot}1&Oe||(Ye=3*Ve+at+131074>>2,w(F[H+Oe-1],255&Ye,Ye>>16,Pe,xe+(Oe-1)*D),V!=null&&(Ye=3*at+Ve+131074>>2,w(V[G+Oe-1],255&Ye,Ye>>16,ge,Le+(Oe-1)*D)))}}function $e(){kn[qh]=Y_,kn[Hh]=ev,kn[Kb]=G_,kn[Wh]=tv,kn[Uh]=sv,kn[dx]=rv,kn[Xb]=K_,kn[ux]=ev,kn[hx]=tv,kn[Vh]=sv,kn[mx]=rv}function Ke(p){return p&~X_?0>p?0:255:p>>nv}function st(p,w){return Ke((19077*p>>8)+(26149*w>>8)-14234)}function pt(p,w,D){return Ke((19077*p>>8)-(6419*w>>8)-(13320*D>>8)+8708)}function mt(p,w){return Ke((19077*p>>8)+(33050*w>>8)-17685)}function At(p,w,D,F,H){F[H+0]=st(p,D),F[H+1]=pt(p,w,D),F[H+2]=mt(p,w)}function is(p,w,D,F,H){F[H+0]=mt(p,w),F[H+1]=pt(p,w,D),F[H+2]=st(p,D)}function fs(p,w,D,F,H){var V=pt(p,w,D);w=V<<3&224|mt(p,w)>>3,F[H+0]=248&st(p,D)|V>>5,F[H+1]=w}function Is(p,w,D,F,H){var V=240&mt(p,w)|15;F[H+0]=240&st(p,D)|pt(p,w,D)>>4,F[H+1]=V}function pr(p,w,D,F,H){F[H+0]=255,At(p,w,D,F,H+1)}function Xs(p,w,D,F,H){is(p,w,D,F,H),F[H+3]=255}function Un(p,w,D,F,H){At(p,w,D,F,H),F[H+3]=255}function tn(p,w){return 0>p?0:p>w?w:p}function ya(p,w,D){v[p]=function(F,H,V,G,Q,ee,ne,pe,je){for(var Ne=pe+(-2&je)*D;pe!=Ne;)w(F[H+0],V[G+0],Q[ee+0],ne,pe),w(F[H+1],V[G+0],Q[ee+0],ne,pe+D),H+=2,++G,++ee,pe+=2*D;1&je&&w(F[H+0],V[G+0],Q[ee+0],ne,pe)}}function Th(p,w,D){return D==0?p==0?w==0?6:5:w==0?4:0:D}function cd(p,w,D,F,H){switch(p>>>30){case 3:Za(w,D,F,H,0);break;case 2:js(w,D,F,H);break;case 1:Dr(w,D,F,H)}}function dd(p,w){var D,F,H=w.M,V=w.Nb,G=p.oc,Q=p.pc+40,ee=p.oc,ne=p.pc+584,pe=p.oc,je=p.pc+600;for(D=0;16>D;++D)G[Q+32*D-1]=129;for(D=0;8>D;++D)ee[ne+32*D-1]=129,pe[je+32*D-1]=129;for(0<H?G[Q-1-32]=ee[ne-1-32]=pe[je-1-32]=129:(a(G,Q-32-1,127,21),a(ee,ne-32-1,127,9),a(pe,je-32-1,127,9)),F=0;F<p.za;++F){var Ne=w.ya[w.aa+F];if(0<F){for(D=-1;16>D;++D)n(G,Q+32*D-4,G,Q+32*D+12,4);for(D=-1;8>D;++D)n(ee,ne+32*D-4,ee,ne+32*D+4,4),n(pe,je+32*D-4,pe,je+32*D+4,4)}var ye=p.Gd,Me=p.Hd+F,Pe=Ne.ad,xe=Ne.Hc;if(0<H&&(n(G,Q-32,ye[Me].y,0,16),n(ee,ne-32,ye[Me].f,0,8),n(pe,je-32,ye[Me].ea,0,8)),Ne.Za){var ge=G,Le=Q-32+16;for(0<H&&(F>=p.za-1?a(ge,Le,ye[Me].y[15],4):n(ge,Le,ye[Me+1].y,0,4)),D=0;4>D;D++)ge[Le+128+D]=ge[Le+256+D]=ge[Le+384+D]=ge[Le+0+D];for(D=0;16>D;++D,xe<<=2)ge=G,Le=Q+iv[D],Vn[Ne.Ob[D]](ge,Le),cd(xe,Pe,16*+D,ge,Le)}else if(ge=Th(F,H,Ne.Ob[0]),Ii[ge](G,Q),xe!=0)for(D=0;16>D;++D,xe<<=2)cd(xe,Pe,16*+D,G,Q+iv[D]);for(D=Ne.Gc,ge=Th(F,H,Ne.Dd),ti[ge](ee,ne),ti[ge](pe,je),xe=Pe,ge=ee,Le=ne,255&(Ne=D>>0)&&(170&Ne?pd(xe,256,ge,Le):vn(xe,256,ge,Le)),Ne=pe,xe=je,255&(D>>=8)&&(170&D?pd(Pe,320,Ne,xe):vn(Pe,320,Ne,xe)),H<p.Ub-1&&(n(ye[Me].y,0,G,Q+480,16),n(ye[Me].f,0,ee,ne+224,8),n(ye[Me].ea,0,pe,je+224,8)),D=8*V*p.B,ye=p.sa,Me=p.ta+16*F+16*V*p.R,Pe=p.qa,Ne=p.ra+8*F+D,xe=p.Ha,ge=p.Ia+8*F+D,D=0;16>D;++D)n(ye,Me+D*p.R,G,Q+32*D,16);for(D=0;8>D;++D)n(Pe,Ne+D*p.B,ee,ne+32*D,8),n(xe,ge+D*p.B,pe,je+32*D,8)}}function Ll(p,w,D,F,H,V,G,Q,ee){var ne=[0],pe=[0],je=0,Ne=ee!=null?ee.kd:0,ye=ee??new ad;if(p==null||12>D)return 7;ye.data=p,ye.w=w,ye.ha=D,w=[w],D=[D],ye.gb=[ye.gb];e:{var Me=w,Pe=D,xe=ye.gb;if(e(p!=null),e(Pe!=null),e(xe!=null),xe[0]=0,12<=Pe[0]&&!s(p,Me[0],"RIFF")){if(s(p,Me[0]+8,"WEBP")){xe=3;break e}var ge=Re(p,Me[0]+4);if(12>ge||4294967286<ge){xe=3;break e}if(Ne&&ge>Pe[0]-8){xe=7;break e}xe[0]=ge,Me[0]+=12,Pe[0]-=12}xe=0}if(xe!=0)return xe;for(ge=0<ye.gb[0],D=D[0];;){e:{var Le=p;Pe=w,xe=D;var Oe=ne,Ie=pe,Qe=Me=[0];if((Ye=je=[je])[0]=0,8>xe[0])xe=7;else{if(!s(Le,Pe[0],"VP8X")){if(Re(Le,Pe[0]+4)!=10){xe=3;break e}if(18>xe[0]){xe=7;break e}var Ve=Re(Le,Pe[0]+8),at=1+Fe(Le,Pe[0]+12);if(2147483648<=at*(Le=1+Fe(Le,Pe[0]+15))){xe=3;break e}Qe!=null&&(Qe[0]=Ve),Oe!=null&&(Oe[0]=at),Ie!=null&&(Ie[0]=Le),Pe[0]+=18,xe[0]-=18,Ye[0]=1}xe=0}}if(je=je[0],Me=Me[0],xe!=0)return xe;if(Pe=!!(2&Me),!ge&&je)return 3;if(V!=null&&(V[0]=!!(16&Me)),G!=null&&(G[0]=Pe),Q!=null&&(Q[0]=0),G=ne[0],Me=pe[0],je&&Pe&&ee==null){xe=0;break}if(4>D){xe=7;break}if(ge&&je||!ge&&!je&&!s(p,w[0],"ALPH")){D=[D],ye.na=[ye.na],ye.P=[ye.P],ye.Sa=[ye.Sa];e:{Ve=p,xe=w,ge=D;var Ye=ye.gb;Oe=ye.na,Ie=ye.P,Qe=ye.Sa,at=22,e(Ve!=null),e(ge!=null),Le=xe[0];var Et=ge[0];for(e(Oe!=null),e(Qe!=null),Oe[0]=null,Ie[0]=null,Qe[0]=0;;){if(xe[0]=Le,ge[0]=Et,8>Et){xe=7;break e}var Ot=Re(Ve,Le+4);if(4294967286<Ot){xe=3;break e}var Ct=8+Ot+1&-2;if(at+=Ct,0<Ye&&at>Ye){xe=3;break e}if(!s(Ve,Le,"VP8 ")||!s(Ve,Le,"VP8L")){xe=0;break e}if(Et[0]<Ct){xe=7;break e}s(Ve,Le,"ALPH")||(Oe[0]=Ve,Ie[0]=Le+8,Qe[0]=Ot),Le+=Ct,Et-=Ct}}if(D=D[0],ye.na=ye.na[0],ye.P=ye.P[0],ye.Sa=ye.Sa[0],xe!=0)break}D=[D],ye.Ja=[ye.Ja],ye.xa=[ye.xa];e:if(Ye=p,xe=w,ge=D,Oe=ye.gb[0],Ie=ye.Ja,Qe=ye.xa,Ve=xe[0],Le=!s(Ye,Ve,"VP8 "),at=!s(Ye,Ve,"VP8L"),e(Ye!=null),e(ge!=null),e(Ie!=null),e(Qe!=null),8>ge[0])xe=7;else{if(Le||at){if(Ye=Re(Ye,Ve+4),12<=Oe&&Ye>Oe-12){xe=3;break e}if(Ne&&Ye>ge[0]-8){xe=7;break e}Ie[0]=Ye,xe[0]+=8,ge[0]-=8,Qe[0]=at}else Qe[0]=5<=ge[0]&&Ye[Ve+0]==47&&!(Ye[Ve+4]>>5),Ie[0]=ge[0];xe=0}if(D=D[0],ye.Ja=ye.Ja[0],ye.xa=ye.xa[0],w=w[0],xe!=0)break;if(4294967286<ye.Ja)return 3;if(Q==null||Pe||(Q[0]=ye.xa?2:1),G=[G],Me=[Me],ye.xa){if(5>D){xe=7;break}Q=G,Ne=Me,Pe=V,p==null||5>D?p=0:5<=D&&p[w+0]==47&&!(p[w+4]>>5)?(ge=[0],Ye=[0],Oe=[0],X(Ie=new M,p,w,D),ot(Ie,ge,Ye,Oe)?(Q!=null&&(Q[0]=ge[0]),Ne!=null&&(Ne[0]=Ye[0]),Pe!=null&&(Pe[0]=Oe[0]),p=1):p=0):p=0}else{if(10>D){xe=7;break}Q=Me,p==null||10>D||!bh(p,w+3,D-3)?p=0:(Ne=p[w+0]|p[w+1]<<8|p[w+2]<<16,Pe=16383&(p[w+7]<<8|p[w+6]),p=16383&(p[w+9]<<8|p[w+8]),1&Ne||3<(Ne>>1&7)||!(Ne>>4&1)||Ne>>5>=ye.Ja||!Pe||!p?p=0:(G&&(G[0]=Pe),Q&&(Q[0]=p),p=1))}if(!p||(G=G[0],Me=Me[0],je&&(ne[0]!=G||pe[0]!=Me)))return 3;ee!=null&&(ee[0]=ye,ee.offset=w-ee.w,e(4294967286>w-ee.w),e(ee.offset==ee.ha-D));break}return xe==0||xe==7&&je&&ee==null?(V!=null&&(V[0]|=ye.na!=null&&0<ye.na.length),F!=null&&(F[0]=G),H!=null&&(H[0]=Me),0):xe}function ud(p,w,D){var F=w.width,H=w.height,V=0,G=0,Q=F,ee=H;if(w.Da=p!=null&&0<p.Da,w.Da&&(Q=p.cd,ee=p.bd,V=p.v,G=p.j,11>D||(V&=-2,G&=-2),0>V||0>G||0>=Q||0>=ee||V+Q>F||G+ee>H))return 0;if(w.v=V,w.j=G,w.va=V+Q,w.o=G+ee,w.U=Q,w.T=ee,w.da=p!=null&&0<p.da,w.da){if(!et(Q,ee,D=[p.ib],V=[p.hb]))return 0;w.ib=D[0],w.hb=V[0]}return w.ob=p!=null&&p.ob,w.Kb=p==null||!p.Sd,w.da&&(w.ob=w.ib<3*F/4&&w.hb<3*H/4,w.Kb=0),1}function hd(p){if(p==null)return 2;if(11>p.S){var w=p.f.RGBA;w.fb+=(p.height-1)*w.A,w.A=-w.A}else w=p.f.kb,p=p.height,w.O+=(p-1)*w.fa,w.fa=-w.fa,w.N+=(p-1>>1)*w.Ab,w.Ab=-w.Ab,w.W+=(p-1>>1)*w.Db,w.Db=-w.Db,w.F!=null&&(w.J+=(p-1)*w.lb,w.lb=-w.lb);return 0}function Il(p,w,D,F){if(F==null||0>=p||0>=w)return 2;if(D!=null){if(D.Da){var H=D.cd,V=D.bd,G=-2&D.v,Q=-2&D.j;if(0>G||0>Q||0>=H||0>=V||G+H>p||Q+V>w)return 2;p=H,w=V}if(D.da){if(!et(p,w,H=[D.ib],V=[D.hb]))return 2;p=H[0],w=V[0]}}F.width=p,F.height=w;e:{var ee=F.width,ne=F.height;if(p=F.S,0>=ee||0>=ne||!(p>=qh&&13>p))p=2;else{if(0>=F.Rd&&F.sd==null){G=V=H=w=0;var pe=(Q=ee*ov[p])*ne;if(11>p||(V=(ne+1)/2*(w=(ee+1)/2),p==12&&(G=(H=ee)*ne)),(ne=i(pe+2*V+G))==null){p=1;break e}F.sd=ne,11>p?((ee=F.f.RGBA).eb=ne,ee.fb=0,ee.A=Q,ee.size=pe):((ee=F.f.kb).y=ne,ee.O=0,ee.fa=Q,ee.Fd=pe,ee.f=ne,ee.N=0+pe,ee.Ab=w,ee.Cd=V,ee.ea=ne,ee.W=0+pe+V,ee.Db=w,ee.Ed=V,p==12&&(ee.F=ne,ee.J=0+pe+2*V),ee.Tc=G,ee.lb=H)}if(w=1,H=F.S,V=F.width,G=F.height,H>=qh&&13>H)if(11>H)p=F.f.RGBA,w&=(Q=Math.abs(p.A))*(G-1)+V<=p.size,w&=Q>=V*ov[H],w&=p.eb!=null;else{p=F.f.kb,Q=(V+1)/2,pe=(G+1)/2,ee=Math.abs(p.fa),ne=Math.abs(p.Ab);var je=Math.abs(p.Db),Ne=Math.abs(p.lb),ye=Ne*(G-1)+V;w&=ee*(G-1)+V<=p.Fd,w&=ne*(pe-1)+Q<=p.Cd,w=(w&=je*(pe-1)+Q<=p.Ed)&ee>=V&ne>=Q&je>=Q,w&=p.y!=null,w&=p.f!=null,w&=p.ea!=null,H==12&&(w&=Ne>=V,w&=ye<=p.Tc,w&=p.F!=null)}else w=0;p=w?0:2}}return p!=0||D!=null&&D.fd&&(p=hd(F)),p}var sr=64,Ml=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Tl=24,Fl=32,md=8,zr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ue("Predictor0","PredictorAdd0"),v.Predictor0=function(){return 4278190080},v.Predictor1=function(p){return p},v.Predictor2=function(p,w,D){return w[D+0]},v.Predictor3=function(p,w,D){return w[D+1]},v.Predictor4=function(p,w,D){return w[D-1]},v.Predictor5=function(p,w,D){return we(we(p,w[D+1]),w[D+0])},v.Predictor6=function(p,w,D){return we(p,w[D-1])},v.Predictor7=function(p,w,D){return we(p,w[D+0])},v.Predictor8=function(p,w,D){return we(w[D-1],w[D+0])},v.Predictor9=function(p,w,D){return we(w[D+0],w[D+1])},v.Predictor10=function(p,w,D){return we(we(p,w[D-1]),we(w[D+0],w[D+1]))},v.Predictor11=function(p,w,D){var F=w[D+0];return 0>=ze(F>>24&255,p>>24&255,(w=w[D-1])>>24&255)+ze(F>>16&255,p>>16&255,w>>16&255)+ze(F>>8&255,p>>8&255,w>>8&255)+ze(255&F,255&p,255&w)?F:p},v.Predictor12=function(p,w,D){var F=w[D+0];return(Se((p>>24&255)+(F>>24&255)-((w=w[D-1])>>24&255))<<24|Se((p>>16&255)+(F>>16&255)-(w>>16&255))<<16|Se((p>>8&255)+(F>>8&255)-(w>>8&255))<<8|Se((255&p)+(255&F)-(255&w)))>>>0},v.Predictor13=function(p,w,D){var F=w[D-1];return(De((p=we(p,w[D+0]))>>24&255,F>>24&255)<<24|De(p>>16&255,F>>16&255)<<16|De(p>>8&255,F>>8&255)<<8|De(p>>0&255,F>>0&255))>>>0};var lx=v.PredictorAdd0;v.PredictorAdd1=Ue,ue("Predictor2","PredictorAdd2"),ue("Predictor3","PredictorAdd3"),ue("Predictor4","PredictorAdd4"),ue("Predictor5","PredictorAdd5"),ue("Predictor6","PredictorAdd6"),ue("Predictor7","PredictorAdd7"),ue("Predictor8","PredictorAdd8"),ue("Predictor9","PredictorAdd9"),ue("Predictor10","PredictorAdd10"),ue("Predictor11","PredictorAdd11"),ue("Predictor12","PredictorAdd12"),ue("Predictor13","PredictorAdd13");var fd=v.PredictorAdd2;ut("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),ut("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var Fh,bn=v.ColorIndexInverseTransform,Ol=v.MapARGB,Oh=v.VP8LColorIndexInverseTransformAlpha,Rh=v.MapAlpha,Pi=v.VP8LPredictorsAdd=[];Pi.length=16,(v.VP8LPredictors=[]).length=16,(v.VP8LPredictorsAdd_C=[]).length=16,(v.VP8LPredictors_C=[]).length=16;var wo,Br,Er,Ei,Qa,Ja,Rl,Za,js,pd,Dr,vn,$l,$h,xd,jo,No,Di,ko,zl,_o,Li,gd,wn,jn,Gt,Kt,Ns,qs=i(511),ei=i(2041),yd=i(225),Bl=i(767),zh=0,cx=ei,Bh=yd,sn=Bl,Nn=qs,qh=0,Hh=1,Kb=2,Wh=3,Uh=4,dx=5,Xb=6,ux=7,hx=8,Vh=9,mx=10,I_=[2,3,7],M_=[3,3,11],Qb=[280,256,256,256,40],T_=[0,1,1,1,0],F_=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],O_=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],R_=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],$_=8,fx=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],px=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],bd=null,z_=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],B_=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Jb=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],q_=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],H_=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],W_=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],U_=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ii=[],Vn=[],ti=[],V_=1,Zb=2,Mi=[],kn=[];Ee("UpsampleRgbLinePair",At,3),Ee("UpsampleBgrLinePair",is,3),Ee("UpsampleRgbaLinePair",Un,4),Ee("UpsampleBgraLinePair",Xs,4),Ee("UpsampleArgbLinePair",pr,4),Ee("UpsampleRgba4444LinePair",Is,2),Ee("UpsampleRgb565LinePair",fs,2);var Y_=v.UpsampleRgbLinePair,G_=v.UpsampleBgrLinePair,ev=v.UpsampleRgbaLinePair,tv=v.UpsampleBgraLinePair,sv=v.UpsampleArgbLinePair,rv=v.UpsampleRgba4444LinePair,K_=v.UpsampleRgb565LinePair,Yh=16,Gh=1<<Yh-1,vd=-227,xx=482,nv=6,X_=(256<<nv)-1,av=0,Q_=i(256),J_=i(256),Z_=i(256),eS=i(256),tS=i(xx-vd),sS=i(xx-vd);ya("YuvToRgbRow",At,3),ya("YuvToBgrRow",is,3),ya("YuvToRgbaRow",Un,4),ya("YuvToBgraRow",Xs,4),ya("YuvToArgbRow",pr,4),ya("YuvToRgba4444Row",Is,2),ya("YuvToRgb565Row",fs,2);var iv=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Kh=[0,2,8],rS=[8,7,6,4,4,2,2,2,1,1,1,1],nS=1;this.WebPDecodeRGBA=function(p,w,D,F,H){var V=Hh,G=new El,Q=new Rn;G.ba=Q,Q.S=V,Q.width=[Q.width],Q.height=[Q.height];var ee=Q.width,ne=Q.height,pe=new Ya;if(pe==null||p==null)var je=2;else e(pe!=null),je=Ll(p,w,D,pe.width,pe.height,pe.Pd,pe.Qd,pe.format,null);if(je!=0?ee=0:(ee!=null&&(ee[0]=pe.width[0]),ne!=null&&(ne[0]=pe.height[0]),ee=1),ee){Q.width=Q.width[0],Q.height=Q.height[0],F!=null&&(F[0]=Q.width),H!=null&&(H[0]=Q.height);e:{if(F=new Nl,(H=new ad).data=p,H.w=w,H.ha=D,H.kd=1,w=[0],e(H!=null),((p=Ll(H.data,H.w,H.ha,null,null,null,w,null,H))==0||p==7)&&w[0]&&(p=4),(w=p)==0){if(e(G!=null),F.data=H.data,F.w=H.w+H.offset,F.ha=H.ha-H.offset,F.put=ua,F.ac=tr,F.bc=ha,F.ma=G,H.xa){if((p=yn())==null){G=1;break e}if(function(Ne,ye){var Me=[0],Pe=[0],xe=[0];t:for(;;){if(Ne==null)return 0;if(ye==null)return Ne.a=2,0;if(Ne.l=ye,Ne.a=0,X(Ne.m,ye.data,ye.w,ye.ha),!ot(Ne.m,Me,Pe,xe)){Ne.a=3;break t}if(Ne.xb=Zb,ye.width=Me[0],ye.height=Pe[0],!pa(Me[0],Pe[0],1,Ne,null))break t;return 1}return e(Ne.a!=0),0}(p,F)){if(F=(w=Il(F.width,F.height,G.Oa,G.ba))==0){t:{F=p;s:for(;;){if(F==null){F=0;break t}if(e(F.s.yc!=null),e(F.s.Ya!=null),e(0<F.s.Wb),e((D=F.l)!=null),e((H=D.ma)!=null),F.xb!=0){if(F.ca=H.ba,F.tb=H.tb,e(F.ca!=null),!ud(H.Oa,D,Wh)){F.a=2;break s}if(!xo(F,D.width)||D.da)break s;if((D.da||Mt(F.ca.S))&&ve(),11>F.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),F.ca.f.kb.F!=null&&ve()),F.Pb&&0<F.s.ua&&F.s.vb.X==null&&!He(F.s.vb,F.s.Wa.Xa)){F.a=1;break s}F.xb=0}if(!qn(F,F.V,F.Ba,F.c,F.i,D.o,gl))break s;H.Dc=F.Ma,F=1;break t}e(F.a!=0),F=0}F=!F}F&&(w=p.a)}else w=p.a}else{if((p=new Hp)==null){G=1;break e}if(p.Fa=H.na,p.P=H.P,p.qc=H.Sa,vh(p,F)){if((w=Il(F.width,F.height,G.Oa,G.ba))==0){if(p.Aa=0,D=G.Oa,e((H=p)!=null),D!=null){if(0<(ee=0>(ee=D.Md)?0:100<ee?255:255*ee/100)){for(ne=pe=0;4>ne;++ne)12>(je=H.pb[ne]).lc&&(je.ia=ee*rS[0>je.lc?0:je.lc]>>3),pe|=je.ia;pe&&(alert("todo:VP8InitRandom"),H.ia=1)}H.Ga=D.Id,100<H.Ga?H.Ga=100:0>H.Ga&&(H.Ga=0)}Wp(p,F)||(w=p.a)}}else w=p.a}w==0&&G.Oa!=null&&G.Oa.fd&&(w=hd(G.ba))}G=w}V=G!=0?null:11>V?Q.f.RGBA.eb:Q.f.kb.y}else V=null;return V};var ov=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(v,P){for(var L="",S=0;S<4;S++)L+=String.fromCharCode(v[P++]);return L}function u(v,P){return(v[P+0]<<0|v[P+1]<<8|v[P+2]<<16)>>>0}function h(v,P){return(v[P+0]<<0|v[P+1]<<8|v[P+2]<<16|v[P+3]<<24)>>>0}new c;var f=[0],m=[0],g=[],x=new c,j=t,y=function(v,P){var L={},S=0,C=!1,O=0,z=0;if(L.frames=[],!function(T,B,K,Y){for(var re=0;re<Y;re++)if(T[B+re]!=K.charCodeAt(re))return!0;return!1}(v,P,"RIFF",4)){var Z,q;for(h(v,P+=4),P+=8;P<v.length;){var R=d(v,P),X=h(v,P+=4);P+=4;var $=X+(1&X);switch(R){case"VP8 ":case"VP8L":L.frames[S]===void 0&&(L.frames[S]={}),(M=L.frames[S]).src_off=C?z:P-8,M.src_size=O+X+8,S++,C&&(C=!1,O=0,z=0);break;case"VP8X":(M=L.header={}).feature_flags=v[P];var J=P+4;M.canvas_width=1+u(v,J),J+=3,M.canvas_height=1+u(v,J),J+=3;break;case"ALPH":C=!0,O=$+8,z=P-8;break;case"ANIM":(M=L.header).bgcolor=h(v,P),J=P+4,M.loop_count=(Z=v)[(q=J)+0]<<0|Z[q+1]<<8,J+=2;break;case"ANMF":var se,M;(M=L.frames[S]={}).offset_x=2*u(v,P),P+=3,M.offset_y=2*u(v,P),P+=3,M.width=1+u(v,P),P+=3,M.height=1+u(v,P),P+=3,M.duration=u(v,P),P+=3,se=v[P++],M.dispose=1&se,M.blend=se>>1&1}R!="ANMF"&&(P+=$)}return L}}(j,0);y.response=j,y.rgbaoutput=!0,y.dataurl=!1;var b=y.header?y.header:null,k=y.frames?y.frames:null;if(b){b.loop_counter=b.loop_count,f=[b.canvas_height],m=[b.canvas_width];for(var A=0;A<k.length&&k[A].blend!=0;A++);}var E=k[0],I=x.WebPDecodeRGBA(j,E.src_off,E.src_size,m,f);E.rgba=I,E.imgwidth=m[0],E.imgheight=f[0];for(var _=0;_<m[0]*f[0]*4;_++)g[_]=I[_];return this.width=m,this.height=f,this.data=g,this}(function(t){var e=function(){return typeof mg=="function"},s=function(f,m,g,x){var j=4,y=o;switch(x){case t.image_compression.FAST:j=1,y=i;break;case t.image_compression.MEDIUM:j=6,y=l;break;case t.image_compression.SLOW:j=9,y=c}f=n(f,m,g,y);var b=mg(f,{level:j});return t.__addimage__.arrayBufferToBinaryString(b)},n=function(f,m,g,x){for(var j,y,b,k=f.length/m,A=new Uint8Array(f.length+k),E=u(),I=0;I<k;I+=1){if(b=I*m,j=f.subarray(b,b+m),x)A.set(x(j,g,y),b+I);else{for(var _,v=E.length,P=[];_<v;_+=1)P[_]=E[_](j,g,y);var L=h(P.concat());A.set(P[L],b+I)}y=j}return A},a=function(f){var m=Array.apply([],f);return m.unshift(0),m},i=function(f,m){var g,x=[],j=f.length;x[0]=1;for(var y=0;y<j;y+=1)g=f[y-m]||0,x[y+1]=f[y]-g+256&255;return x},o=function(f,m,g){var x,j=[],y=f.length;j[0]=2;for(var b=0;b<y;b+=1)x=g&&g[b]||0,j[b+1]=f[b]-x+256&255;return j},l=function(f,m,g){var x,j,y=[],b=f.length;y[0]=3;for(var k=0;k<b;k+=1)x=f[k-m]||0,j=g&&g[k]||0,y[k+1]=f[k]+256-(x+j>>>1)&255;return y},c=function(f,m,g){var x,j,y,b,k=[],A=f.length;k[0]=4;for(var E=0;E<A;E+=1)x=f[E-m]||0,j=g&&g[E]||0,y=g&&g[E-m]||0,b=d(x,j,y),k[E+1]=f[E]-b+256&255;return k},d=function(f,m,g){if(f===m&&m===g)return f;var x=Math.abs(m-g),j=Math.abs(f-g),y=Math.abs(f+m-g-g);return x<=j&&x<=y?f:j<=y?m:g},u=function(){return[a,i,o,l,c]},h=function(f){var m=f.map(function(g){return g.reduce(function(x,j){return x+Math.abs(j)},0)});return m.indexOf(Math.min.apply(null,m))};t.processPNG=function(f,m,g,x){var j,y,b,k,A,E,I,_,v,P,L,S,C,O,z,Z=this.decode.FLATE_DECODE,q="";if(this.__addimage__.isArrayBuffer(f)&&(f=new Uint8Array(f)),this.__addimage__.isArrayBufferView(f)){if(f=(b=new EY(f)).imgData,y=b.bits,j=b.colorSpace,A=b.colors,[4,6].indexOf(b.colorType)!==-1){if(b.bits===8){v=(_=b.pixelBitlength==32?new Uint32Array(b.decodePixels().buffer):b.pixelBitlength==16?new Uint16Array(b.decodePixels().buffer):new Uint8Array(b.decodePixels().buffer)).length,L=new Uint8Array(v*b.colors),P=new Uint8Array(v);var R,X=b.pixelBitlength-b.bits;for(O=0,z=0;O<v;O++){for(C=_[O],R=0;R<X;)L[z++]=C>>>R&255,R+=b.bits;P[O]=C>>>R&255}}if(b.bits===16){v=(_=new Uint32Array(b.decodePixels().buffer)).length,L=new Uint8Array(v*(32/b.pixelBitlength)*b.colors),P=new Uint8Array(v*(32/b.pixelBitlength)),S=b.colors>1,O=0,z=0;for(var $=0;O<v;)C=_[O++],L[z++]=C>>>0&255,S&&(L[z++]=C>>>16&255,C=_[O++],L[z++]=C>>>0&255),P[$++]=C>>>16&255;y=8}x!==t.image_compression.NONE&&e()?(f=s(L,b.width*b.colors,b.colors,x),I=s(P,b.width,1,x)):(f=L,I=P,Z=void 0)}if(b.colorType===3&&(j=this.color_spaces.INDEXED,E=b.palette,b.transparency.indexed)){var J=b.transparency.indexed,se=0;for(O=0,v=J.length;O<v;++O)se+=J[O];if((se/=255)===v-1&&J.indexOf(0)!==-1)k=[J.indexOf(0)];else if(se!==v){for(_=b.decodePixels(),P=new Uint8Array(_.length),O=0,v=_.length;O<v;O++)P[O]=J[_[O]];I=s(P,b.width,1)}}var M=function(T){var B;switch(T){case t.image_compression.FAST:B=11;break;case t.image_compression.MEDIUM:B=13;break;case t.image_compression.SLOW:B=14;break;default:B=12}return B}(x);return Z===this.decode.FLATE_DECODE&&(q="/Predictor "+M+" "),q+="/Colors "+A+" /BitsPerComponent "+y+" /Columns "+b.width,(this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),(I&&this.__addimage__.isArrayBuffer(I)||this.__addimage__.isArrayBufferView(I))&&(I=this.__addimage__.arrayBufferToBinaryString(I)),{alias:g,data:f,index:m,filter:Z,decodeParameters:q,transparency:k,palette:E,sMask:I,predictor:M,width:b.width,height:b.height,bitsPerComponent:y,colorSpace:j}}}})(nt.API),function(t){t.processGIF89A=function(e,s,n,a){var i=new DY(e),o=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:o,height:l},u=new o0(100).encode(d,100);return t.processJPEG.call(this,u,s,n,a)},t.processGIF87A=t.processGIF89A}(nt.API),Xn.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var s=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:n,blue:s,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Xn.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(s){Ut.log("bit decode error:"+s)}},Xn.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),s=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<e;a++)for(var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}s!==0&&(this.pos+=4-s)}},Xn.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,s=this.height-1;s>=0;s--){for(var n=this.bottom_up?s:this.height-1-s,a=0;a<t;a++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*a*4,l=i>>4,c=15&i,d=this.palette[l];if(this.data[o]=d.blue,this.data[o+1]=d.green,this.data[o+2]=d.red,this.data[o+3]=255,2*a+1>=this.width)break;d=this.palette[c],this.data[o+4]=d.blue,this.data[o+4+1]=d.green,this.data[o+4+2]=d.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Xn.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var s=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=s*this.width*4+4*n;if(a<this.palette.length){var o=this.palette[a];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},Xn.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),s=this.height-1;s>=0;s--){for(var n=this.bottom_up?s:this.height-1-s,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&e)/e*255|0,l=(i>>5&e)/e*255|0,c=(i>>10&e)/e*255|0,d=i>>15?255:0,u=n*this.width*4+4*a;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=d}this.pos+=t}},Xn.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),s=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&e)/e*255|0,c=(o>>5&s)/s*255|0,d=(o>>11)/e*255|0,u=a*this.width*4+4*i;this.data[u]=d,this.data[u+1]=c,this.data[u+2]=l,this.data[u+3]=255}this.pos+=t}},Xn.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*s;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},Xn.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*s;this.data[l]=i,this.data[l+1]=a,this.data[l+2]=n,this.data[l+3]=o}},Xn.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,s,n,a){var i=new Xn(e,!1),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},d=new o0(100).encode(c,100);return t.processJPEG.call(this,d,s,n,a)}}(nt.API),B2.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,s,n,a){var i=new B2(e),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},d=new o0(100).encode(c,100);return t.processJPEG.call(this,d,s,n,a)}}(nt.API),nt.API.processRGBA=function(t,e,s){for(var n=t.data,a=n.length,i=new Uint8Array(a/4*3),o=new Uint8Array(a/4),l=0,c=0,d=0;d<a;d+=4){var u=n[d],h=n[d+1],f=n[d+2],m=n[d+3];i[l++]=u,i[l++]=h,i[l++]=f,o[c++]=m}var g=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:g,index:e,alias:s,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},nt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Jl=nt.API,ym=Jl.getCharWidthsArray=function(t,e){var s,n,a=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:a.metadata.Unicode.widths,c=l.fof?l.fof:1,d=e.kerning?e.kerning:a.metadata.Unicode.kerning,u=d.fof?d.fof:1,h=e.doKerning!==!1,f=0,m=t.length,g=0,x=l[0]||c,j=[];for(s=0;s<m;s++)n=t.charCodeAt(s),typeof a.metadata.widthOfString=="function"?j.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+o*(1e3/i)||0)/1e3):(f=h&&_t(d[n])==="object"&&!isNaN(parseInt(d[n][g],10))?d[n][g]/u:0,j.push((l[n]||x)/c+f)),g=n;return j},O2=Jl.getStringUnitWidth=function(t,e){var s=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return Jl.processArabic&&(t=Jl.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,s,a)/s:ym.apply(this,arguments).reduce(function(i,o){return i+o},0)},R2=function(t,e,s,n){for(var a=[],i=0,o=t.length,l=0;i!==o&&l+e[i]<s;)l+=e[i],i++;a.push(t.slice(0,i));var c=i;for(l=0;i!==o;)l+e[i]>n&&(a.push(t.slice(c,i)),l=0,c=i),l+=e[i],i++;return c!==i&&a.push(t.slice(c,i)),a},$2=function(t,e,s){s||(s={});var n,a,i,o,l,c,d,u=[],h=[u],f=s.textIndent||0,m=0,g=0,x=t.split(" "),j=ym.apply(this,[" ",s])[0];if(c=s.lineIndent===-1?x[0].length+2:s.lineIndent||0){var y=Array(c).join(" "),b=[];x.map(function(A){(A=A.split(/\s*\n/)).length>1?b=b.concat(A.map(function(E,I){return(I&&E.length?`
`:"")+E})):b.push(A[0])}),x=b,c=O2.apply(this,[y,s])}for(i=0,o=x.length;i<o;i++){var k=0;if(n=x[i],c&&n[0]==`
`&&(n=n.substr(1),k=1),f+m+(g=(a=ym.apply(this,[n,s])).reduce(function(A,E){return A+E},0))>e||k){if(g>e){for(l=R2.apply(this,[n,a,e-(f+m),e]),u.push(l.shift()),u=[l.pop()];l.length;)h.push([l.shift()]);g=a.slice(n.length-(u[0]?u[0].length:0)).reduce(function(A,E){return A+E},0)}else u=[n];h.push(u),f=g+c,m=j}else u.push(n),f+=m+g,m=j}return d=c?function(A,E){return(E?y:"")+A.join(" ")}:function(A){return A.join(" ")},h.map(d)},Jl.splitTextToSize=function(t,e,s){var n,a=(s=s||{}).fontSize||this.internal.getFontSize(),i=function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var h=this.internal.getFont(u.fontName,u.fontStyle);return h.metadata.Unicode?{widths:h.metadata.Unicode.widths||{0:1},kerning:h.metadata.Unicode.kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,s);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/a;i.textIndent=s.textIndent?1*s.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=s.lineIndent;var l,c,d=[];for(l=0,c=n.length;l<c;l++)d=d.concat($2.apply(this,[n[l],o,i]));return d},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",s={},n={},a=0;a<e.length;a++)s[e[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=e[a];var i=function(h){return"0x"+parseInt(h,10).toString(16)},o=t.__fontmetrics__.compress=function(h){var f,m,g,x,j=["{"];for(var y in h){if(f=h[y],isNaN(parseInt(y,10))?m="'"+y+"'":(y=parseInt(y,10),m=(m=i(y).slice(2)).slice(0,-1)+n[m.slice(-1)]),typeof f=="number")f<0?(g=i(f).slice(3),x="-"):(g=i(f).slice(2),x=""),g=x+g.slice(0,-1)+n[g.slice(-1)];else{if(_t(f)!=="object")throw new Error("Don't know what to do with value type "+_t(f)+".");g=o(f)}j.push(m+g)}return j.push("}"),j.join("")},l=t.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,m,g,x,j={},y=1,b=j,k=[],A="",E="",I=h.length-1,_=1;_<I;_+=1)(x=h[_])=="'"?f?(g=f.join(""),f=void 0):f=[]:f?f.push(x):x=="{"?(k.push([b,g]),b={},g=void 0):x=="}"?((m=k.pop())[0][m[1]]=b,g=void 0,b=m[0]):x=="-"?y=-1:g===void 0?s.hasOwnProperty(x)?(A+=s[x],g=parseInt(A,16)*y,y=1,A=""):A+=x:s.hasOwnProperty(x)?(E+=s[x],b[g]=parseInt(E,16)*y,y=1,g=void 0,E=""):E+=x;return j},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},u={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(h){var f=h.font,m=u.Unicode[f.postScriptName];m&&(f.metadata.Unicode={},f.metadata.Unicode.widths=m.widths,f.metadata.Unicode.kerning=m.kerning);var g=d.Unicode[f.postScriptName];g&&(f.metadata.Unicode.encoding=g,f.encoding=g.codePages[0])}])}(nt.API),function(t){var e=function(s){for(var n=s.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=s.charCodeAt(i);return a};t.API.events.push(["addFont",function(s){var n=void 0,a=s.font,i=s.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(nu(l)),o.metadata=t.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(a,n)}}])}(nt),function(t){function e(){return(lt.canvg?Promise.resolve(lt.canvg):O0(()=>import("./index.es-uP8MCuNN.js"),__vite__mapDeps([0,1,2,3]))).catch(function(s){return Promise.reject(new Error("Could not load canvg: "+s))}).then(function(s){return s.default?s.default:s})}nt.API.addSvgAsImage=function(s,n,a,i,o,l,c,d){if(isNaN(n)||isNaN(a))throw Ut.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(o))throw Ut.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=i,u.height=o;var h=u.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,u.width,u.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return e().then(function(g){return g.fromString(h,s,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(f)}).then(function(){m.addImage(u.toDataURL("image/jpeg",1),n,a,i,o,c,d)})}}(),nt.API.putTotalPages=function(t){var e,s=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),s=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),s=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(e,s);return this},nt.API.viewerPreferences=function(t,e){var s;t=t||{},e=e||!1;var n,a,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],d=0,u=0,h=0;function f(g,x){var j,y=!1;for(j=0;j<g.length;j+=1)g[j]===x&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),s=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var m=l.length;for(h=0;h<m;h+=1)s[l[h]].value=s[l[h]].defaultValue,s[l[h]].explicitSet=!1}if(_t(t)==="object"){for(a in t)if(i=t[a],f(l,a)&&i!==void 0){if(s[a].type==="boolean"&&typeof i=="boolean")s[a].value=i;else if(s[a].type==="name"&&f(s[a].valueSet,i))s[a].value=i;else if(s[a].type==="integer"&&Number.isInteger(i))s[a].value=i;else if(s[a].type==="array"){for(d=0;d<i.length;d+=1)if(n=!0,i[d].length===1&&typeof i[d][0]=="number")c.push(String(i[d]-1));else if(i[d].length>1){for(u=0;u<i[d].length;u+=1)typeof i[d][u]!="number"&&(n=!1);n===!0&&c.push([i[d][0]-1,i[d][1]-1].join(" "))}s[a].value="["+c.join(" ")+"]"}else s[a].value=s[a].defaultValue;s[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,x=[];for(g in s)s[g].explicitSet===!0&&(s[g].type==="name"?x.push("/"+g+" /"+s[g].value):x.push("/"+g+" "+s[g].value));x.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+x.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=s,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=i.length+o.length+l.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(a+i+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},s=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",s),this.internal.events.subscribe("postPutResources",e)),this}}(nt.API),function(t){var e=t.API,s=e.pdfEscape16=function(i,o){for(var l,c=o.metadata.Unicode.widths,d=["","0","00","000","0000"],u=[""],h=0,f=i.length;h<f;++h){if(l=o.metadata.characterToGlyph(i.charCodeAt(h)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=i.charCodeAt(h),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return u.join("");l=l.toString(16),u.push(d[4-l.length],l)}return u.join("")},n=function(i){var o,l,c,d,u,h,f;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],h=0,f=(l=Object.keys(i).sort(function(m,g){return m-g})).length;h<f;h++)o=l[h],c.length>=100&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(d=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+d+">"));return c.length&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,d=o.newObject,u=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="Identity-H"){for(var h=l.metadata.Unicode.widths,f=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),m="",g=0;g<f.length;g++)m+=String.fromCharCode(f[g]);var x=d();u({data:m,addLength1:!0,objectId:x}),c("endobj");var j=d();u({data:n(l.metadata.toUnicode),addLength1:!0,objectId:j}),c("endobj");var y=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+ic(l.fontName)),c("/FontFile2 "+x+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var b=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+ic(l.fontName)),c("/FontDescriptor "+y+" 0 R"),c("/W "+t.API.PDFObject.convert(h)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+j+" 0 R"),c("/BaseFont /"+ic(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+b+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,d=o.newObject,u=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var h=l.metadata.rawData,f="",m=0;m<h.length;m++)f+=String.fromCharCode(h[m]);var g=d();u({data:f,addLength1:!0,objectId:g}),c("endobj");var x=d();u({data:n(l.metadata.toUnicode),addLength1:!0,objectId:x}),c("endobj");var j=d();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+g+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+ic(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=d();for(var y=0;y<l.metadata.hmtx.widths.length;y++)l.metadata.hmtx.widths[y]=parseInt(l.metadata.hmtx.widths[y]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+x+" 0 R/BaseFont/"+ic(l.fontName)+"/FontDescriptor "+j+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var a=function(i){var o,l=i.text||"",c=i.x,d=i.y,u=i.options||{},h=i.mutex||{},f=h.pdfEscape,m=h.activeFontKey,g=h.fonts,x=m,j="",y=0,b="",k=g[x].encoding;if(g[x].encoding!=="Identity-H")return{text:l,x:c,y:d,options:u,mutex:h};for(b=l,x=m,Array.isArray(l)&&(b=l[0]),y=0;y<b.length;y+=1)g[x].metadata.hasOwnProperty("cmap")&&(o=g[x].metadata.cmap.unicode.codeMap[b[y].charCodeAt(0)]),o||b[y].charCodeAt(0)<256&&g[x].metadata.hasOwnProperty("Unicode")?j+=b[y]:j+="";var A="";return parseInt(x.slice(1))<14||k==="WinAnsiEncoding"?A=f(j,x).split("").map(function(E){return E.charCodeAt(0).toString(16)}).join(""):k==="Identity-H"&&(A=s(j,g[x])),h.isHex=!0,{text:A,x:c,y:d,options:u,mutex:h}};e.events.push(["postProcessText",function(i){var o=i.text||"",l=[],c={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var d=0;for(d=0;d<o.length;d+=1)Array.isArray(o[d])&&o[d].length===3?l.push([a(Object.assign({},c,{text:o[d][0]})).text,o[d][1],o[d][2]]):l.push(a(Object.assign({},c,{text:o[d]})).text);i.text=l}else i.text=a(Object.assign({},c,{text:o})).text}])}(nt),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(s){return e.call(this),this.internal.vFS[s]!==void 0},t.addFileToVFS=function(s,n){return e.call(this),this.internal.vFS[s]=n,this},t.getFileFromVFS=function(s){return e.call(this),this.internal.vFS[s]!==void 0?this.internal.vFS[s]:null}}(nt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var a,i,o,l,c,d,u,h=e,f=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},x={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},j=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,k=0;this.__bidiEngine__={};var A=function(S){var C=S.charCodeAt(),O=C>>8,z=x[O];return z!==void 0?h[256*z+(255&C)]:O===252||O===253?"AL":y.test(O)?"L":O===8?"R":"N"},E=function(S){for(var C,O=0;O<S.length;O++){if((C=A(S.charAt(O)))==="L")return!1;if(C==="R")return!0}return!1},I=function(S,C,O,z){var Z,q,R,X,$=C[z];switch($){case"L":case"R":b=!1;break;case"N":case"AN":break;case"EN":b&&($="AN");break;case"AL":b=!0,$="R";break;case"WS":$="N";break;case"CS":z<1||z+1>=C.length||(Z=O[z-1])!=="EN"&&Z!=="AN"||(q=C[z+1])!=="EN"&&q!=="AN"?$="N":b&&(q="AN"),$=q===Z?q:"N";break;case"ES":$=(Z=z>0?O[z-1]:"B")==="EN"&&z+1<C.length&&C[z+1]==="EN"?"EN":"N";break;case"ET":if(z>0&&O[z-1]==="EN"){$="EN";break}if(b){$="N";break}for(R=z+1,X=C.length;R<X&&C[R]==="ET";)R++;$=R<X&&C[R]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(X=C.length,R=z+1;R<X&&C[R]==="NSM";)R++;if(R<X){var J=S[z],se=J>=1425&&J<=2303||J===64286;if(Z=C[R],se&&(Z==="R"||Z==="AL")){$="R";break}}}$=z<1||(Z=C[z-1])==="B"?"N":O[z-1];break;case"B":b=!1,a=!0,$=k;break;case"S":i=!0,$="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"BN":$="N"}return $},_=function(S,C,O){var z=S.split("");return O&&v(z,O,{hiLevel:k}),z.reverse(),C&&C.reverse(),z.join("")},v=function(S,C,O){var z,Z,q,R,X,$=-1,J=S.length,se=0,M=[],T=k?m:f,B=[];for(b=!1,a=!1,i=!1,Z=0;Z<J;Z++)B[Z]=A(S[Z]);for(q=0;q<J;q++){if(X=se,M[q]=I(S,B,M,q),z=240&(se=T[X][g[M[q]]]),se&=15,C[q]=R=T[se][5],z>0)if(z===16){for(Z=$;Z<q;Z++)C[Z]=1;$=-1}else $=-1;if(T[se][6])$===-1&&($=q);else if($>-1){for(Z=$;Z<q;Z++)C[Z]=R;$=-1}B[q]==="B"&&(C[q]=0),O.hiLevel|=R}i&&function(K,Y,re){for(var ie=0;ie<re;ie++)if(K[ie]==="S"){Y[ie]=k;for(var he=ie-1;he>=0&&K[he]==="WS";he--)Y[he]=k}}(B,C,J)},P=function(S,C,O,z,Z){if(!(Z.hiLevel<S)){if(S===1&&k===1&&!a)return C.reverse(),void(O&&O.reverse());for(var q,R,X,$,J=C.length,se=0;se<J;){if(z[se]>=S){for(X=se+1;X<J&&z[X]>=S;)X++;for($=se,R=X-1;$<R;$++,R--)q=C[$],C[$]=C[R],C[R]=q,O&&(q=O[$],O[$]=O[R],O[R]=q);se=X}se++}}},L=function(S,C,O){var z=S.split(""),Z={hiLevel:k};return O||(O=[]),v(z,O,Z),function(q,R,X){if(X.hiLevel!==0&&u)for(var $,J=0;J<q.length;J++)R[J]===1&&($=j.indexOf(q[J]))>=0&&(q[J]=j[$+1])}(z,O,Z),P(2,z,C,O,Z),P(1,z,C,O,Z),z.join("")};return this.__bidiEngine__.doBidiReorder=function(S,C,O){if(function(Z,q){if(q)for(var R=0;R<Z.length;R++)q[R]=R;l===void 0&&(l=E(Z)),d===void 0&&(d=E(Z))}(S,C),o||!c||d)if(o&&c&&l^d)k=l?1:0,S=_(S,C,O);else if(!o&&c&&d)k=l?1:0,S=L(S,C,O),S=_(S,C);else if(!o||l||c||d){if(o&&!c&&l^d)S=_(S,C),l?(k=0,S=L(S,C,O)):(k=1,S=L(S,C,O),S=_(S,C));else if(o&&l&&!c&&d)k=1,S=L(S,C,O),S=_(S,C);else if(!o&&!c&&l^d){var z=u;l?(k=1,S=L(S,C,O),k=0,u=!1,S=L(S,C,O),u=z):(k=0,S=L(S,C,O),S=_(S,C),k=1,u=!1,S=L(S,C,O),u=z,S=_(S,C))}}else k=0,S=L(S,C,O);else k=l?1:0,S=L(S,C,O);return S},this.__bidiEngine__.setOptions=function(S){S&&(o=S.isInputVisual,c=S.isOutputVisual,l=S.isInputRtl,d=S.isOutputRtl,u=S.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],s=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var a=n.text,i=(n.x,n.y,n.options||{}),o=(n.mutex,i.lang,[]);if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,s.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(o=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?o.push([s.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):o.push([s.doBidiReorder(a[l])]);n.text=o}else n.text=s.doBidiReorder(a);s.setOptions({isInputVisual:!0})}])}(nt),nt.API.TTFFont=function(){function t(e){var s;if(this.rawData=e,s=this.contents=new so(e),this.contents.pos=4,s.readString(4)==="ttcf")throw new Error("TTCF not supported.");s.pos=0,this.parse(),this.subset=new VY(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new LY(this.contents),this.head=new MY(this),this.name=new $Y(this),this.cmap=new i3(this),this.toUnicode={},this.hhea=new TY(this),this.maxp=new zY(this),this.hmtx=new BY(this),this.post=new OY(this),this.os2=new FY(this),this.loca=new UY(this),this.glyf=new qY(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,s,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var o,l,c,d;for(d=[],o=0,l=(c=this.bbox).length;o<l;o++)e=c[o],d.push(Math.round(e*this.scaleFactor));return d}.call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(s=a>>16)&&(s=-(1+(65535^s))),this.italicAngle=+(s+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var s;return((s=this.cmap.unicode)!=null?s.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var s;return s=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*s},t.prototype.widthOfString=function(e,s,n){var a,i,o,l;for(o=0,i=0,l=(e=""+e).length;0<=l?i<l:i>l;i=0<=l?++i:--i)a=e.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/s)||0;return o*(s/1e3)},t.prototype.lineHeight=function(e,s){var n;return s==null&&(s=!1),n=s?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var ca,so=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var s,n;for(n=[],s=0;0<=e?s<e:s>e;s=0<=e?++s:--s)n[s]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var s,n,a;for(a=[],s=0,n=e.length;0<=n?s<n:s>n;s=0<=n?++s:--s)a.push(this.writeByte(e.charCodeAt(s)));return a},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,s,n,a,i,o,l,c;return e=this.readByte(),s=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^s)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*e+281474976710656*s+1099511627776*n+4294967296*a+16777216*i+65536*o+256*l+c},t.prototype.writeLongLong=function(e){var s,n;return s=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(s>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var s,n;for(s=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)s.push(this.readByte());return s},t.prototype.write=function(e){var s,n,a,i;for(i=[],n=0,a=e.length;n<a;n++)s=e[n],i.push(this.writeByte(s));return i},t}(),LY=function(){var t;function e(s){var n,a,i;for(this.scalarType=s.readInt(),this.tableCount=s.readShort(),this.searchRange=s.readShort(),this.entrySelector=s.readShort(),this.rangeShift=s.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:s.readString(4),checksum:s.readInt(),offset:s.readInt(),length:s.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(s){var n,a,i,o,l,c,d,u,h,f,m,g,x;for(x in m=Object.keys(s).length,c=Math.log(2),h=16*Math.floor(Math.log(m)/c),o=Math.floor(h/c),u=16*m-h,(a=new so).writeInt(this.scalarType),a.writeShort(m),a.writeShort(h),a.writeShort(o),a.writeShort(u),i=16*m,d=a.pos+i,l=null,g=[],s)for(f=s[x],a.writeString(x),a.writeInt(t(f)),a.writeInt(d),a.writeInt(f.length),g=g.concat(f),x==="head"&&(l=d),d+=f.length;d%4;)g.push(0),d++;return a.write(g),n=2981146554-t(a.data),a.pos=l+8,a.writeUInt32(n),a.data},t=function(s){var n,a,i,o;for(s=o3.call(s);s.length%4;)s.push(0);for(i=new so(s),a=0,n=0,o=s.length;n<o;n=n+=4)a+=i.readUInt32();return 4294967295&a},e}(),IY={}.hasOwnProperty,Va=function(t,e){for(var s in e)IY.call(e,s)&&(t[s]=e[s]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};ca=function(){function t(e){var s;this.file=e,s=this.file.directory.tables[this.tag],this.exists=!!s,s&&(this.offset=s.offset,this.length=s.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var MY=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Va(e,ca),e.prototype.tag="head",e.prototype.parse=function(s){return s.pos=this.offset,this.version=s.readInt(),this.revision=s.readInt(),this.checkSumAdjustment=s.readInt(),this.magicNumber=s.readInt(),this.flags=s.readShort(),this.unitsPerEm=s.readShort(),this.created=s.readLongLong(),this.modified=s.readLongLong(),this.xMin=s.readShort(),this.yMin=s.readShort(),this.xMax=s.readShort(),this.yMax=s.readShort(),this.macStyle=s.readShort(),this.lowestRecPPEM=s.readShort(),this.fontDirectionHint=s.readShort(),this.indexToLocFormat=s.readShort(),this.glyphDataFormat=s.readShort()},e.prototype.encode=function(s){var n;return(n=new so).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(s),n.writeShort(this.glyphDataFormat),n.data},e}(),q2=function(){function t(e,s){var n,a,i,o,l,c,d,u,h,f,m,g,x,j,y,b,k;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=s+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(m=e.readUInt16(),f=m/2,e.pos+=6,i=function(){var A,E;for(E=[],c=A=0;0<=f?A<f:A>f;c=0<=f?++A:--A)E.push(e.readUInt16());return E}(),e.pos+=2,x=function(){var A,E;for(E=[],c=A=0;0<=f?A<f:A>f;c=0<=f?++A:--A)E.push(e.readUInt16());return E}(),d=function(){var A,E;for(E=[],c=A=0;0<=f?A<f:A>f;c=0<=f?++A:--A)E.push(e.readUInt16());return E}(),u=function(){var A,E;for(E=[],c=A=0;0<=f?A<f:A>f;c=0<=f?++A:--A)E.push(e.readUInt16());return E}(),a=(this.length-e.pos+this.offset)/2,l=function(){var A,E;for(E=[],c=A=0;0<=a?A<a:A>a;c=0<=a?++A:--A)E.push(e.readUInt16());return E}(),c=y=0,k=i.length;y<k;c=++y)for(j=i[c],n=b=g=x[c];g<=j?b<=j:b>=j;n=g<=j?++b:--b)u[c]===0?o=n+d[c]:(o=l[u[c]/2+(n-g)-(f-c)]||0)!==0&&(o+=d[c]),this.codeMap[n]=65535&o}e.pos=h}return t.encode=function(e,s){var n,a,i,o,l,c,d,u,h,f,m,g,x,j,y,b,k,A,E,I,_,v,P,L,S,C,O,z,Z,q,R,X,$,J,se,M,T,B,K,Y,re,ie,he,Ce,be,Fe;switch(z=new so,o=Object.keys(e).sort(function(Re,He){return Re-He}),s){case"macroman":for(x=0,j=function(){var Re=[];for(g=0;g<256;++g)Re.push(0);return Re}(),b={0:0},i={},Z=0,$=o.length;Z<$;Z++)b[he=e[a=o[Z]]]==null&&(b[he]=++x),i[a]={old:e[a],new:b[e[a]]},j[a]=b[e[a]];return z.writeUInt16(1),z.writeUInt16(0),z.writeUInt32(12),z.writeUInt16(0),z.writeUInt16(262),z.writeUInt16(0),z.write(j),{charMap:i,subtable:z.data,maxGlyphID:x+1};case"unicode":for(C=[],h=[],k=0,b={},n={},y=d=null,q=0,J=o.length;q<J;q++)b[E=e[a=o[q]]]==null&&(b[E]=++k),n[a]={old:E,new:b[E]},l=b[E]-a,y!=null&&l===d||(y&&h.push(y),C.push(a),d=l),y=a;for(y&&h.push(y),h.push(65535),C.push(65535),L=2*(P=C.length),v=2*Math.pow(Math.log(P)/Math.LN2,2),f=Math.log(v/2)/Math.LN2,_=2*P-v,c=[],I=[],m=[],g=R=0,se=C.length;R<se;g=++R){if(S=C[g],u=h[g],S===65535){c.push(0),I.push(0);break}if(S-(O=n[S].new)>=32768)for(c.push(0),I.push(2*(m.length+P-g)),a=X=S;S<=u?X<=u:X>=u;a=S<=u?++X:--X)m.push(n[a].new);else c.push(O-S),I.push(0)}for(z.writeUInt16(3),z.writeUInt16(1),z.writeUInt32(12),z.writeUInt16(4),z.writeUInt16(16+8*P+2*m.length),z.writeUInt16(0),z.writeUInt16(L),z.writeUInt16(v),z.writeUInt16(f),z.writeUInt16(_),re=0,M=h.length;re<M;re++)a=h[re],z.writeUInt16(a);for(z.writeUInt16(0),ie=0,T=C.length;ie<T;ie++)a=C[ie],z.writeUInt16(a);for(Ce=0,B=c.length;Ce<B;Ce++)l=c[Ce],z.writeUInt16(l);for(be=0,K=I.length;be<K;be++)A=I[be],z.writeUInt16(A);for(Fe=0,Y=m.length;Fe<Y;Fe++)x=m[Fe],z.writeUInt16(x);return{charMap:n,subtable:z.data,maxGlyphID:k+1}}},t}(),i3=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Va(e,ca),e.prototype.tag="cmap",e.prototype.parse=function(s){var n,a,i;for(s.pos=this.offset,this.version=s.readUInt16(),i=s.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)n=new q2(s,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(s,n){var a,i;return n==null&&(n="macroman"),a=q2.encode(s,n),(i=new so).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},e}(),TY=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Va(e,ca),e.prototype.tag="hhea",e.prototype.parse=function(s){return s.pos=this.offset,this.version=s.readInt(),this.ascender=s.readShort(),this.decender=s.readShort(),this.lineGap=s.readShort(),this.advanceWidthMax=s.readShort(),this.minLeftSideBearing=s.readShort(),this.minRightSideBearing=s.readShort(),this.xMaxExtent=s.readShort(),this.caretSlopeRise=s.readShort(),this.caretSlopeRun=s.readShort(),this.caretOffset=s.readShort(),s.pos+=8,this.metricDataFormat=s.readShort(),this.numberOfMetrics=s.readUInt16()},e}(),FY=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Va(e,ca),e.prototype.tag="OS/2",e.prototype.parse=function(s){if(s.pos=this.offset,this.version=s.readUInt16(),this.averageCharWidth=s.readShort(),this.weightClass=s.readUInt16(),this.widthClass=s.readUInt16(),this.type=s.readShort(),this.ySubscriptXSize=s.readShort(),this.ySubscriptYSize=s.readShort(),this.ySubscriptXOffset=s.readShort(),this.ySubscriptYOffset=s.readShort(),this.ySuperscriptXSize=s.readShort(),this.ySuperscriptYSize=s.readShort(),this.ySuperscriptXOffset=s.readShort(),this.ySuperscriptYOffset=s.readShort(),this.yStrikeoutSize=s.readShort(),this.yStrikeoutPosition=s.readShort(),this.familyClass=s.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(s.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(s.readInt());return a}(),this.vendorID=s.readString(4),this.selection=s.readShort(),this.firstCharIndex=s.readShort(),this.lastCharIndex=s.readShort(),this.version>0&&(this.ascent=s.readShort(),this.descent=s.readShort(),this.lineGap=s.readShort(),this.winAscent=s.readShort(),this.winDescent=s.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(s.readInt());return a}(),this.version>1))return this.xHeight=s.readShort(),this.capHeight=s.readShort(),this.defaultChar=s.readShort(),this.breakChar=s.readShort(),this.maxContext=s.readShort()},e}(),OY=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Va(e,ca),e.prototype.tag="post",e.prototype.parse=function(s){var n,a,i;switch(s.pos=this.offset,this.format=s.readInt(),this.italicAngle=s.readInt(),this.underlinePosition=s.readShort(),this.underlineThickness=s.readShort(),this.isFixedPitch=s.readInt(),this.minMemType42=s.readInt(),this.maxMemType42=s.readInt(),this.minMemType1=s.readInt(),this.maxMemType1=s.readInt(),this.format){case 65536:break;case 131072:var o;for(a=s.readUInt16(),this.glyphNameIndex=[],o=0;0<=a?o<a:o>a;o=0<=a?++o:--o)this.glyphNameIndex.push(s.readUInt16());for(this.names=[],i=[];s.pos<this.offset+this.length;)n=s.readByte(),i.push(this.names.push(s.readString(n)));return i;case 151552:return a=s.readUInt16(),this.offsets=s.read(a);case 196608:break;case 262144:return this.map=function(){var l,c,d;for(d=[],o=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;o=0<=c?++l:--l)d.push(s.readUInt32());return d}.call(this)}},e}(),RY=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},$Y=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Va(e,ca),e.prototype.tag="name",e.prototype.parse=function(s){var n,a,i,o,l,c,d,u,h,f,m;for(s.pos=this.offset,s.readShort(),n=s.readShort(),c=s.readShort(),a=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)a.push({platformID:s.readShort(),encodingID:s.readShort(),languageID:s.readShort(),nameID:s.readShort(),length:s.readShort(),offset:this.offset+c+s.readShort()});for(d={},o=h=0,f=a.length;h<f;o=++h)i=a[o],s.pos=i.offset,u=s.readString(i.length),l=new RY(u,i),d[m=i.nameID]==null&&(d[m]=[]),d[i.nameID].push(l);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},e}(),zY=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Va(e,ca),e.prototype.tag="maxp",e.prototype.parse=function(s){return s.pos=this.offset,this.version=s.readInt(),this.numGlyphs=s.readUInt16(),this.maxPoints=s.readUInt16(),this.maxContours=s.readUInt16(),this.maxCompositePoints=s.readUInt16(),this.maxComponentContours=s.readUInt16(),this.maxZones=s.readUInt16(),this.maxTwilightPoints=s.readUInt16(),this.maxStorage=s.readUInt16(),this.maxFunctionDefs=s.readUInt16(),this.maxInstructionDefs=s.readUInt16(),this.maxStackElements=s.readUInt16(),this.maxSizeOfInstructions=s.readUInt16(),this.maxComponentElements=s.readUInt16(),this.maxComponentDepth=s.readUInt16()},e}(),BY=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Va(e,ca),e.prototype.tag="hmtx",e.prototype.parse=function(s){var n,a,i,o,l,c,d;for(s.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:s.readUInt16(),lsb:s.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,h;for(h=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)h.push(s.readInt16());return h}(),this.widths=function(){var u,h,f,m;for(m=[],u=0,h=(f=this.metrics).length;u<h;u++)o=f[u],m.push(o.advance);return m}.call(this),a=this.widths[this.widths.length-1],d=[],n=l=0;0<=i?l<i:l>i;n=0<=i?++l:--l)d.push(this.widths.push(a));return d},e.prototype.forGlyph=function(s){return s in this.metrics?this.metrics[s]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[s-this.metrics.length]}},e}(),o3=[].slice,qY=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Va(e,ca),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(s){var n,a,i,o,l,c,d,u,h,f;return s in this.cache?this.cache[s]:(o=this.file.loca,n=this.file.contents,a=o.indexOf(s),(i=o.lengthOf(s))===0?this.cache[s]=null:(n.pos=this.offset+a,l=(c=new so(n.read(i))).readShort(),u=c.readShort(),f=c.readShort(),d=c.readShort(),h=c.readShort(),this.cache[s]=l===-1?new WY(c,u,f,d,h):new HY(c,l,u,f,d,h),this.cache[s]))},e.prototype.encode=function(s,n,a){var i,o,l,c,d;for(l=[],o=[],c=0,d=n.length;c<d;c++)i=s[n[c]],o.push(l.length),i&&(l=l.concat(i.encode(a)));return o.push(l.length),{table:l,offsets:o}},e}(),HY=function(){function t(e,s,n,a,i,o){this.raw=e,this.numberOfContours=s,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),WY=function(){function t(e,s,n,a,i){var o,l;for(this.raw=e,this.xMin=s,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return t.prototype.encode=function(){var e,s,n;for(s=new so(o3.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)s.pos=this.glyphOffsets[e];return s.data},t}(),UY=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Va(e,ca),e.prototype.tag="loca",e.prototype.parse=function(s){var n,a;return s.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?function(){var i,o;for(o=[],a=0,i=this.length;a<i;a+=2)o.push(2*s.readUInt16());return o}.call(this):function(){var i,o;for(o=[],a=0,i=this.length;a<i;a+=4)o.push(s.readUInt32());return o}.call(this)},e.prototype.indexOf=function(s){return this.offsets[s]},e.prototype.lengthOf=function(s){return this.offsets[s+1]-this.offsets[s]},e.prototype.encode=function(s,n){for(var a=new Uint32Array(this.offsets.length),i=0,o=0,l=0;l<a.length;++l)if(a[l]=i,o<n.length&&n[o]==l){++o,a[l]=i;var c=this.offsets[l],d=this.offsets[l+1]-c;d>0&&(i+=d)}for(var u=new Array(4*a.length),h=0;h<a.length;++h)u[4*h+3]=255&a[h],u[4*h+2]=(65280&a[h])>>8,u[4*h+1]=(16711680&a[h])>>16,u[4*h]=(4278190080&a[h])>>24;return u},e}(),VY=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,s,n,a,i;for(s in a=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[s],e[s]=a[n];return e},t.prototype.glyphsFor=function(e){var s,n,a,i,o,l,c;for(a={},o=0,l=e.length;o<l;o++)a[i=e[o]]=this.font.glyf.glyphFor(i);for(i in s=[],a)(n=a[i])!=null&&n.compound&&s.push.apply(s,n.glyphIDs);if(s.length>0)for(i in c=this.glyphsFor(s))n=c[i],a[i]=n;return a},t.prototype.encode=function(e,s){var n,a,i,o,l,c,d,u,h,f,m,g,x,j,y;for(a in n=i3.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),m={0:0},y=n.charMap)m[(c=y[a]).old]=c.new;for(g in f=n.maxGlyphID,o)g in m||(m[g]=f++);return u=function(b){var k,A;for(k in A={},b)A[b[k]]=k;return A}(m),h=Object.keys(u).sort(function(b,k){return b-k}),x=function(){var b,k,A;for(A=[],b=0,k=h.length;b<k;b++)l=h[b],A.push(u[l]);return A}(),i=this.font.glyf.encode(o,x,m),d=this.font.loca.encode(i.offsets,x),j={cmap:this.font.cmap.raw(),glyf:i.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(s)},this.font.os2.exists&&(j["OS/2"]=this.font.os2.raw()),this.font.directory.encode(j)},t}();nt.API.PDFObject=function(){var t;function e(){}return t=function(s,n){return(Array(n+1).join("0")+s).slice(-n)},e.convert=function(s){var n,a,i,o;if(Array.isArray(s))return"["+function(){var l,c,d;for(d=[],l=0,c=s.length;l<c;l++)n=s[l],d.push(e.convert(n));return d}().join(" ")+"]";if(typeof s=="string")return"/"+s;if(s?.isString)return"("+s+")";if(s instanceof Date)return"(D:"+t(s.getUTCFullYear(),4)+t(s.getUTCMonth(),2)+t(s.getUTCDate(),2)+t(s.getUTCHours(),2)+t(s.getUTCMinutes(),2)+t(s.getUTCSeconds(),2)+"Z)";if({}.toString.call(s)==="[object Object]"){for(a in i=["<<"],s)o=s[a],i.push("/"+a+" "+e.convert(o));return i.push(">>"),i.join(`
`)}return""+s},e}();const YY=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:kY,AcroFormAppearance:Ze,AcroFormButton:Us,AcroFormCheckBox:ou,AcroFormChoiceField:Go,AcroFormComboBox:Xo,AcroFormEditBox:au,AcroFormListBox:Ko,AcroFormPasswordField:lu,AcroFormPushButton:iu,AcroFormRadioButton:Qo,AcroFormTextField:Qi,GState:Mu,ShadingPattern:Yi,TilingPattern:Ho,default:nt,jsPDF:nt},Symbol.toStringTag,{value:"Module"}));var GY={exports:{}};const KY=gS(YY);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */(function(t,e){(function(n,a){t.exports=a(function(){try{return KY}catch{}}())})(typeof globalThis<"u"?globalThis:typeof Fr<"u"?Fr:typeof window<"u"?window:typeof self<"u"?self:Fr,function(s){return function(){var n={172:function(l,c){var d=this&&this.__extends||function(){var f=function(m,g){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,j){x.__proto__=j}||function(x,j){for(var y in j)Object.prototype.hasOwnProperty.call(j,y)&&(x[y]=j[y])},f(m,g)};return function(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");f(m,g);function x(){this.constructor=m}m.prototype=g===null?Object.create(g):(x.prototype=g.prototype,new x)}}();Object.defineProperty(c,"__esModule",{value:!0}),c.CellHookData=c.HookData=void 0;var u=function(){function f(m,g,x){this.table=g,this.pageNumber=g.pageNumber,this.pageCount=this.pageNumber,this.settings=g.settings,this.cursor=x,this.doc=m.getDocument()}return f}();c.HookData=u;var h=function(f){d(m,f);function m(g,x,j,y,b,k){var A=f.call(this,g,x,k)||this;return A.cell=j,A.row=y,A.column=b,A.section=y.section,A}return m}(u);c.CellHookData=h},340:function(l,c,d){Object.defineProperty(c,"__esModule",{value:!0});var u=d(4),h=d(136),f=d(744),m=d(776),g=d(664),x=d(972);function j(y){y.API.autoTable=function(){for(var b=[],k=0;k<arguments.length;k++)b[k]=arguments[k];var A;b.length===1?A=b[0]:(console.error("Use of deprecated autoTable initiation"),A=b[2]||{},A.columns=b[0],A.body=b[1]);var E=(0,m.parseInput)(this,A),I=(0,x.createTable)(this,E);return(0,g.drawTable)(this,I),this},y.API.lastAutoTable=!1,y.API.previousAutoTable=!1,y.API.autoTable.previous=!1,y.API.autoTableText=function(b,k,A,E){(0,h.default)(b,k,A,E,this)},y.API.autoTableSetDefaults=function(b){return f.DocHandler.setDefaults(b,this),this},y.autoTableSetDefaults=function(b,k){f.DocHandler.setDefaults(b,k)},y.API.autoTableHtmlToJson=function(b,k){var A;if(k===void 0&&(k=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var E=new f.DocHandler(this),I=(0,u.parseHtml)(E,b,window,k,!1),_=I.head,v=I.body,P=((A=_[0])===null||A===void 0?void 0:A.map(function(L){return L.content}))||[];return{columns:P,rows:v,data:v}},y.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var b=this.lastAutoTable;return b&&b.finalY?b.finalY:0},y.API.autoTableAddPageContent=function(b){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),y.API.autoTable.globalDefaults||(y.API.autoTable.globalDefaults={}),y.API.autoTable.globalDefaults.addPageContent=b,this},y.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}c.default=j},136:function(l,c){Object.defineProperty(c,"__esModule",{value:!0});function d(u,h,f,m,g){m=m||{};var x=1.15,j=g.internal.scaleFactor,y=g.internal.getFontSize()/j,b=g.getLineHeightFactor?g.getLineHeightFactor():x,k=y*b,A=/\r\n|\r|\n/g,E="",I=1;if((m.valign==="middle"||m.valign==="bottom"||m.halign==="center"||m.halign==="right")&&(E=typeof u=="string"?u.split(A):u,I=E.length||1),f+=y*(2-x),m.valign==="middle"?f-=I/2*k:m.valign==="bottom"&&(f-=I*k),m.halign==="center"||m.halign==="right"){var _=y;if(m.halign==="center"&&(_*=.5),E&&I>=1){for(var v=0;v<E.length;v++)g.text(E[v],h-g.getStringUnitWidth(E[v])*_,f),f+=k;return g}h-=g.getStringUnitWidth(u)*_}return m.halign==="justify"?g.text(u,h,f,{maxWidth:m.maxWidth||100,align:"justify"}):g.text(u,h,f),g}c.default=d},420:function(l,c){Object.defineProperty(c,"__esModule",{value:!0}),c.getPageAvailableWidth=c.parseSpacing=c.getFillStyle=c.addTableBorder=c.getStringWidth=void 0;function d(g,x,j){j.applyStyles(x,!0);var y=Array.isArray(g)?g:[g],b=y.map(function(k){return j.getTextWidth(k)}).reduce(function(k,A){return Math.max(k,A)},0);return b}c.getStringWidth=d;function u(g,x,j,y){var b=x.settings.tableLineWidth,k=x.settings.tableLineColor;g.applyStyles({lineWidth:b,lineColor:k});var A=h(b,!1);A&&g.rect(j.x,j.y,x.getWidth(g.pageSize().width),y.y-j.y,A)}c.addTableBorder=u;function h(g,x){var j=g>0,y=x||x===0;return j&&y?"DF":j?"S":y?"F":null}c.getFillStyle=h;function f(g,x){var j,y,b,k;if(g=g||x,Array.isArray(g)){if(g.length>=4)return{top:g[0],right:g[1],bottom:g[2],left:g[3]};if(g.length===3)return{top:g[0],right:g[1],bottom:g[2],left:g[1]};if(g.length===2)return{top:g[0],right:g[1],bottom:g[0],left:g[1]};g.length===1?g=g[0]:g=x}return typeof g=="object"?(typeof g.vertical=="number"&&(g.top=g.vertical,g.bottom=g.vertical),typeof g.horizontal=="number"&&(g.right=g.horizontal,g.left=g.horizontal),{left:(j=g.left)!==null&&j!==void 0?j:x,top:(y=g.top)!==null&&y!==void 0?y:x,right:(b=g.right)!==null&&b!==void 0?b:x,bottom:(k=g.bottom)!==null&&k!==void 0?k:x}):(typeof g!="number"&&(g=x),{top:g,right:g,bottom:g,left:g})}c.parseSpacing=f;function m(g,x){var j=f(x.settings.margin,0);return g.pageSize().width-(j.left+j.right)}c.getPageAvailableWidth=m},796:function(l,c){var d=this&&this.__extends||function(){var m=function(g,x){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(j,y){j.__proto__=y}||function(j,y){for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(j[b]=y[b])},m(g,x)};return function(g,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");m(g,x);function j(){this.constructor=g}g.prototype=x===null?Object.create(x):(j.prototype=x.prototype,new j)}}();Object.defineProperty(c,"__esModule",{value:!0}),c.getTheme=c.defaultStyles=c.HtmlRowInput=void 0;var u=function(m){d(g,m);function g(x){var j=m.call(this)||this;return j._element=x,j}return g}(Array);c.HtmlRowInput=u;function h(m){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/m,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}c.defaultStyles=h;function f(m){var g={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return g[m]}c.getTheme=f},903:function(l,c,d){Object.defineProperty(c,"__esModule",{value:!0}),c.parseCss=void 0;var u=d(420);function h(j,y,b,k,A){var E={},I=1.3333333333333333,_=m(y,function($){return A.getComputedStyle($).backgroundColor});_!=null&&(E.fillColor=_);var v=m(y,function($){return A.getComputedStyle($).color});v!=null&&(E.textColor=v);var P=x(k,b);P&&(E.cellPadding=P);var L="borderTopColor",S=I*b,C=k.borderTopWidth;if(k.borderBottomWidth===C&&k.borderRightWidth===C&&k.borderLeftWidth===C){var O=(parseFloat(C)||0)/S;O&&(E.lineWidth=O)}else E.lineWidth={top:(parseFloat(k.borderTopWidth)||0)/S,right:(parseFloat(k.borderRightWidth)||0)/S,bottom:(parseFloat(k.borderBottomWidth)||0)/S,left:(parseFloat(k.borderLeftWidth)||0)/S},E.lineWidth.top||(E.lineWidth.right?L="borderRightColor":E.lineWidth.bottom?L="borderBottomColor":E.lineWidth.left&&(L="borderLeftColor"));var z=m(y,function($){return A.getComputedStyle($)[L]});z!=null&&(E.lineColor=z);var Z=["left","right","center","justify"];Z.indexOf(k.textAlign)!==-1&&(E.halign=k.textAlign),Z=["middle","bottom","top"],Z.indexOf(k.verticalAlign)!==-1&&(E.valign=k.verticalAlign);var q=parseInt(k.fontSize||"");isNaN(q)||(E.fontSize=q/I);var R=f(k);R&&(E.fontStyle=R);var X=(k.fontFamily||"").toLowerCase();return j.indexOf(X)!==-1&&(E.font=X),E}c.parseCss=h;function f(j){var y="";return(j.fontWeight==="bold"||j.fontWeight==="bolder"||parseInt(j.fontWeight)>=700)&&(y="bold"),(j.fontStyle==="italic"||j.fontStyle==="oblique")&&(y+="italic"),y}function m(j,y){var b=g(j,y);if(!b)return null;var k=b.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!k||!Array.isArray(k))return null;var A=[parseInt(k[1]),parseInt(k[2]),parseInt(k[3])],E=parseInt(k[4]);return E===0||isNaN(A[0])||isNaN(A[1])||isNaN(A[2])?null:A}function g(j,y){var b=y(j);return b==="rgba(0, 0, 0, 0)"||b==="transparent"||b==="initial"||b==="inherit"?j.parentElement==null?null:g(j.parentElement,y):b}function x(j,y){var b=[j.paddingTop,j.paddingRight,j.paddingBottom,j.paddingLeft],k=96/(72/y),A=(parseInt(j.lineHeight)-parseInt(j.fontSize))/y/2,E=b.map(function(_){return parseInt(_||"0")/k}),I=(0,u.parseSpacing)(E,0);return A>I.top&&(I.top=A),A>I.bottom&&(I.bottom=A),I}},744:function(l,c){Object.defineProperty(c,"__esModule",{value:!0}),c.DocHandler=void 0;var d={},u=function(){function h(f){this.jsPDFDocument=f,this.userStyles={textColor:f.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:f.internal.getFontSize(),fontStyle:f.internal.getFont().fontStyle,font:f.internal.getFont().fontName,lineWidth:f.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:f.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return h.setDefaults=function(f,m){m===void 0&&(m=null),m?m.__autoTableDocumentDefaults=f:d=f},h.unifyColor=function(f){return Array.isArray(f)?f:typeof f=="number"?[f,f,f]:typeof f=="string"?[f]:null},h.prototype.applyStyles=function(f,m){var g,x,j;m===void 0&&(m=!1),f.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(f.fontStyle);var y=this.jsPDFDocument.internal.getFont(),b=y.fontStyle,k=y.fontName;if(f.font&&(k=f.font),f.fontStyle){b=f.fontStyle;var A=this.getFontList()[k];A&&A.indexOf(b)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(A[0]),b=A[0])}if(this.jsPDFDocument.setFont(k,b),f.fontSize&&this.jsPDFDocument.setFontSize(f.fontSize),!m){var E=h.unifyColor(f.fillColor);E&&(g=this.jsPDFDocument).setFillColor.apply(g,E),E=h.unifyColor(f.textColor),E&&(x=this.jsPDFDocument).setTextColor.apply(x,E),E=h.unifyColor(f.lineColor),E&&(j=this.jsPDFDocument).setDrawColor.apply(j,E),typeof f.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(f.lineWidth)}},h.prototype.splitTextToSize=function(f,m,g){return this.jsPDFDocument.splitTextToSize(f,m,g)},h.prototype.rect=function(f,m,g,x,j){return this.jsPDFDocument.rect(f,m,g,x,j)},h.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},h.prototype.getTextWidth=function(f){return this.jsPDFDocument.getTextWidth(f)},h.prototype.getDocument=function(){return this.jsPDFDocument},h.prototype.setPage=function(f){this.jsPDFDocument.setPage(f)},h.prototype.addPage=function(){return this.jsPDFDocument.addPage()},h.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},h.prototype.getGlobalOptions=function(){return d||{}},h.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},h.prototype.pageSize=function(){var f=this.jsPDFDocument.internal.pageSize;return f.width==null&&(f={width:f.getWidth(),height:f.getHeight()}),f},h.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},h.prototype.getLineHeightFactor=function(){var f=this.jsPDFDocument;return f.getLineHeightFactor?f.getLineHeightFactor():1.15},h.prototype.getLineHeight=function(f){return f/this.scaleFactor()*this.getLineHeightFactor()},h.prototype.pageNumber=function(){var f=this.jsPDFDocument.internal.getCurrentPageInfo();return f?f.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},h}();c.DocHandler=u},4:function(l,c,d){Object.defineProperty(c,"__esModule",{value:!0}),c.parseHtml=void 0;var u=d(903),h=d(796);function f(x,j,y,b,k){var A,E;b===void 0&&(b=!1),k===void 0&&(k=!1);var I;typeof j=="string"?I=y.document.querySelector(j):I=j;var _=Object.keys(x.getFontList()),v=x.scaleFactor(),P=[],L=[],S=[];if(!I)return console.error("Html table could not be found with input: ",j),{head:P,body:L,foot:S};for(var C=0;C<I.rows.length;C++){var O=I.rows[C],z=(E=(A=O?.parentElement)===null||A===void 0?void 0:A.tagName)===null||E===void 0?void 0:E.toLowerCase(),Z=m(_,v,y,O,b,k);Z&&(z==="thead"?P.push(Z):z==="tfoot"?S.push(Z):L.push(Z))}return{head:P,body:L,foot:S}}c.parseHtml=f;function m(x,j,y,b,k,A){for(var E=new h.HtmlRowInput(b),I=0;I<b.cells.length;I++){var _=b.cells[I],v=y.getComputedStyle(_);if(k||v.display!=="none"){var P=void 0;A&&(P=(0,u.parseCss)(x,_,j,v,y)),E.push({rowSpan:_.rowSpan,colSpan:_.colSpan,styles:P,_element:_,content:g(_)})}}var L=y.getComputedStyle(b);if(E.length>0&&(k||L.display!=="none"))return E}function g(x){var j=x.cloneNode(!0);return j.innerHTML=j.innerHTML.replace(/\n/g,"").replace(/ +/g," "),j.innerHTML=j.innerHTML.split(/<br.*?>/).map(function(y){return y.trim()}).join(`
`),j.innerText||j.textContent||""}},776:function(l,c,d){Object.defineProperty(c,"__esModule",{value:!0}),c.parseInput=void 0;var u=d(4),h=d(356),f=d(420),m=d(744),g=d(792);function x(I,_){var v=new m.DocHandler(I),P=v.getDocumentOptions(),L=v.getGlobalOptions();(0,g.default)(v,L,P,_);var S=(0,h.assign)({},L,P,_),C;typeof window<"u"&&(C=window);var O=j(L,P,_),z=y(L,P,_),Z=b(v,S),q=A(v,S,C);return{id:_.tableId,content:q,hooks:z,styles:O,settings:Z}}c.parseInput=x;function j(I,_,v){for(var P={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},L=function(z){if(z==="columnStyles"){var Z=I[z],q=_[z],R=v[z];P.columnStyles=(0,h.assign)({},Z,q,R)}else{var X=[I,_,v],$=X.map(function(J){return J[z]||{}});P[z]=(0,h.assign)({},$[0],$[1],$[2])}},S=0,C=Object.keys(P);S<C.length;S++){var O=C[S];L(O)}return P}function y(I,_,v){for(var P=[I,_,v],L={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},S=0,C=P;S<C.length;S++){var O=C[S];O.didParseCell&&L.didParseCell.push(O.didParseCell),O.willDrawCell&&L.willDrawCell.push(O.willDrawCell),O.didDrawCell&&L.didDrawCell.push(O.didDrawCell),O.willDrawPage&&L.willDrawPage.push(O.willDrawPage),O.didDrawPage&&L.didDrawPage.push(O.didDrawPage)}return L}function b(I,_){var v,P,L,S,C,O,z,Z,q,R,X,$,J=(0,f.parseSpacing)(_.margin,40/I.scaleFactor()),se=(v=k(I,_.startY))!==null&&v!==void 0?v:J.top,M;_.showFoot===!0?M="everyPage":_.showFoot===!1?M="never":M=(P=_.showFoot)!==null&&P!==void 0?P:"everyPage";var T;_.showHead===!0?T="everyPage":_.showHead===!1?T="never":T=(L=_.showHead)!==null&&L!==void 0?L:"everyPage";var B=(S=_.useCss)!==null&&S!==void 0?S:!1,K=_.theme||(B?"plain":"striped"),Y=!!_.horizontalPageBreak,re=(C=_.horizontalPageBreakRepeat)!==null&&C!==void 0?C:null;return{includeHiddenHtml:(O=_.includeHiddenHtml)!==null&&O!==void 0?O:!1,useCss:B,theme:K,startY:se,margin:J,pageBreak:(z=_.pageBreak)!==null&&z!==void 0?z:"auto",rowPageBreak:(Z=_.rowPageBreak)!==null&&Z!==void 0?Z:"auto",tableWidth:(q=_.tableWidth)!==null&&q!==void 0?q:"auto",showHead:T,showFoot:M,tableLineWidth:(R=_.tableLineWidth)!==null&&R!==void 0?R:0,tableLineColor:(X=_.tableLineColor)!==null&&X!==void 0?X:200,horizontalPageBreak:Y,horizontalPageBreakRepeat:re,horizontalPageBreakBehaviour:($=_.horizontalPageBreakBehaviour)!==null&&$!==void 0?$:"afterAllRows"}}function k(I,_){var v=I.getLastAutoTable(),P=I.scaleFactor(),L=I.pageNumber(),S=!1;if(v&&v.startPageNumber){var C=v.startPageNumber+v.pageNumber-1;S=C===L}return typeof _=="number"?_:(_==null||_===!1)&&S&&v?.finalY!=null?v.finalY+20/P:null}function A(I,_,v){var P=_.head||[],L=_.body||[],S=_.foot||[];if(_.html){var C=_.includeHiddenHtml;if(v){var O=(0,u.parseHtml)(I,_.html,v,C,_.useCss)||{};P=O.head||P,L=O.body||P,S=O.foot||P}else console.error("Cannot parse html in non browser environment")}var z=_.columns||E(P,L,S);return{columns:z,head:P,body:L,foot:S}}function E(I,_,v){var P=I[0]||_[0]||v[0]||[],L=[];return Object.keys(P).filter(function(S){return S!=="_element"}).forEach(function(S){var C=1,O;Array.isArray(P)?O=P[parseInt(S)]:O=P[S],typeof O=="object"&&!Array.isArray(O)&&(C=O?.colSpan||1);for(var z=0;z<C;z++){var Z=void 0;Array.isArray(P)?Z=L.length:Z=S+(z>0?"_".concat(z):"");var q={dataKey:Z};L.push(q)}}),L}},792:function(l,c){Object.defineProperty(c,"__esModule",{value:!0});function d(h,f,m,g){for(var x=function(k){k&&typeof k!="object"&&console.error("The options parameter should be of type object, is: "+typeof k),typeof k.extendWidth<"u"&&(k.tableWidth=k.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof k.margins<"u"&&(typeof k.margin>"u"&&(k.margin=k.margins),console.error("Use of deprecated option: margins, use margin instead.")),k.startY&&typeof k.startY!="number"&&(console.error("Invalid value for startY option",k.startY),delete k.startY),!k.didDrawPage&&(k.afterPageContent||k.beforePageContent||k.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),k.didDrawPage=function(S){h.applyStyles(h.userStyles),k.beforePageContent&&k.beforePageContent(S),h.applyStyles(h.userStyles),k.afterPageContent&&k.afterPageContent(S),h.applyStyles(h.userStyles),k.afterPageAdd&&S.pageNumber>1&&S.afterPageAdd(S),h.applyStyles(h.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(S){k[S]&&console.error('The "'.concat(S,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(S){var C=S[0],O=S[1];k[O]&&(console.error("Use of deprecated option ".concat(O,". Use ").concat(C," instead")),k[C]=k[O])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(S){var C=typeof S=="string"?S:S[0],O=typeof S=="string"?S:S[1];typeof k[C]<"u"&&(typeof k.styles[O]>"u"&&(k.styles[O]=k[C]),console.error("Use of deprecated option: "+C+", use the style "+O+" instead."))});for(var A=0,E=["styles","bodyStyles","headStyles","footStyles"];A<E.length;A++){var I=E[A];u(k[I]||{})}for(var _=k.columnStyles||{},v=0,P=Object.keys(_);v<P.length;v++){var L=P[v];u(_[L]||{})}},j=0,y=[f,m,g];j<y.length;j++){var b=y[j];x(b)}}c.default=d;function u(h){h.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),h.minCellHeight||(h.minCellHeight=h.rowHeight)):h.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),h.cellWidth||(h.cellWidth=h.columnWidth))}},260:function(l,c,d){Object.defineProperty(c,"__esModule",{value:!0}),c.Column=c.Cell=c.Row=c.Table=void 0;var u=d(796),h=d(172),f=d(420),m=function(){function y(b,k){this.pageNumber=1,this.pageCount=1,this.id=b.id,this.settings=b.settings,this.styles=b.styles,this.hooks=b.hooks,this.columns=k.columns,this.head=k.head,this.body=k.body,this.foot=k.foot}return y.prototype.getHeadHeight=function(b){return this.head.reduce(function(k,A){return k+A.getMaxCellHeight(b)},0)},y.prototype.getFootHeight=function(b){return this.foot.reduce(function(k,A){return k+A.getMaxCellHeight(b)},0)},y.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},y.prototype.callCellHooks=function(b,k,A,E,I,_){for(var v=0,P=k;v<P.length;v++){var L=P[v],S=new h.CellHookData(b,this,A,E,I,_),C=L(S)===!1;if(A.text=Array.isArray(A.text)?A.text:[A.text],C)return!1}return!0},y.prototype.callEndPageHooks=function(b,k){b.applyStyles(b.userStyles);for(var A=0,E=this.hooks.didDrawPage;A<E.length;A++){var I=E[A];I(new h.HookData(b,this,k))}},y.prototype.callWillDrawPageHooks=function(b,k){for(var A=0,E=this.hooks.willDrawPage;A<E.length;A++){var I=E[A];I(new h.HookData(b,this,k))}},y.prototype.getWidth=function(b){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var k=this.columns.reduce(function(E,I){return E+I.wrappedWidth},0);return k}else{var A=this.settings.margin;return b-A.left-A.right}},y}();c.Table=m;var g=function(){function y(b,k,A,E,I){I===void 0&&(I=!1),this.height=0,this.raw=b,b instanceof u.HtmlRowInput&&(this.raw=b._element,this.element=b._element),this.index=k,this.section=A,this.cells=E,this.spansMultiplePages=I}return y.prototype.getMaxCellHeight=function(b){var k=this;return b.reduce(function(A,E){var I;return Math.max(A,((I=k.cells[E.index])===null||I===void 0?void 0:I.height)||0)},0)},y.prototype.hasRowSpan=function(b){var k=this;return b.filter(function(A){var E=k.cells[A.index];return E?E.rowSpan>1:!1}).length>0},y.prototype.canEntireRowFit=function(b,k){return this.getMaxCellHeight(k)<=b},y.prototype.getMinimumRowHeight=function(b,k){var A=this;return b.reduce(function(E,I){var _=A.cells[I.index];if(!_)return 0;var v=k.getLineHeight(_.styles.fontSize),P=_.padding("vertical"),L=P+v;return L>E?L:E},0)},y}();c.Row=g;var x=function(){function y(b,k,A){var E,I;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=k,this.section=A,this.raw=b;var _=b;b!=null&&typeof b=="object"&&!Array.isArray(b)?(this.rowSpan=b.rowSpan||1,this.colSpan=b.colSpan||1,_=(I=(E=b.content)!==null&&E!==void 0?E:b.title)!==null&&I!==void 0?I:b,b._element&&(this.raw=b._element)):(this.rowSpan=1,this.colSpan=1);var v=_!=null?""+_:"",P=/\r\n|\r|\n/g;this.text=v.split(P)}return y.prototype.getTextPos=function(){var b;if(this.styles.valign==="top")b=this.y+this.padding("top");else if(this.styles.valign==="bottom")b=this.y+this.height-this.padding("bottom");else{var k=this.height-this.padding("vertical");b=this.y+k/2+this.padding("top")}var A;if(this.styles.halign==="right")A=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var E=this.width-this.padding("horizontal");A=this.x+E/2+this.padding("left")}else A=this.x+this.padding("left");return{x:A,y:b}},y.prototype.getContentHeight=function(b,k){k===void 0&&(k=1.15);var A=Array.isArray(this.text)?this.text.length:1,E=this.styles.fontSize/b*k,I=A*E+this.padding("vertical");return Math.max(I,this.styles.minCellHeight)},y.prototype.padding=function(b){var k=(0,f.parseSpacing)(this.styles.cellPadding,0);return b==="vertical"?k.top+k.bottom:b==="horizontal"?k.left+k.right:k[b]},y}();c.Cell=x;var j=function(){function y(b,k,A){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=b,this.raw=k,this.index=A}return y.prototype.getMaxCustomCellWidth=function(b){for(var k=0,A=0,E=b.allRows();A<E.length;A++){var I=E[A],_=I.cells[this.index];_&&typeof _.styles.cellWidth=="number"&&(k=Math.max(k,_.styles.cellWidth))}return k},y}();c.Column=j},356:function(l,c){Object.defineProperty(c,"__esModule",{value:!0}),c.assign=void 0;function d(u,h,f,m,g){if(u==null)throw new TypeError("Cannot convert undefined or null to object");for(var x=Object(u),j=1;j<arguments.length;j++){var y=arguments[j];if(y!=null)for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(x[b]=y[b])}return x}c.assign=d},972:function(l,c,d){Object.defineProperty(c,"__esModule",{value:!0}),c.createTable=void 0;var u=d(744),h=d(260),f=d(324),m=d(796),g=d(356);function x(I,_){var v=new u.DocHandler(I),P=j(_,v.scaleFactor()),L=new h.Table(_,P);return(0,f.calculateWidths)(v,L),v.applyStyles(v.userStyles),L}c.createTable=x;function j(I,_){var v=I.content,P=A(v.columns);if(v.head.length===0){var L=b(P,"head");L&&v.head.push(L)}if(v.foot.length===0){var L=b(P,"foot");L&&v.foot.push(L)}var S=I.settings.theme,C=I.styles;return{columns:P,head:y("head",v.head,P,C,S,_),body:y("body",v.body,P,C,S,_),foot:y("foot",v.foot,P,C,S,_)}}function y(I,_,v,P,L,S){var C={},O=_.map(function(z,Z){for(var q=0,R={},X=0,$=0,J=0,se=v;J<se.length;J++){var M=se[J];if(C[M.index]==null||C[M.index].left===0)if($===0){var T=void 0;Array.isArray(z)?T=z[M.index-X-q]:T=z[M.dataKey];var B={};typeof T=="object"&&!Array.isArray(T)&&(B=T?.styles||{});var K=E(I,M,Z,L,P,S,B),Y=new h.Cell(T,K,I);R[M.dataKey]=Y,R[M.index]=Y,$=Y.colSpan-1,C[M.index]={left:Y.rowSpan-1,times:$}}else $--,X++;else C[M.index].left--,$=C[M.index].times,q++}return new h.Row(z,Z,I,R)});return O}function b(I,_){var v={};return I.forEach(function(P){if(P.raw!=null){var L=k(_,P.raw);L!=null&&(v[P.dataKey]=L)}}),Object.keys(v).length>0?v:null}function k(I,_){if(I==="head"){if(typeof _=="object")return _.header||_.title||null;if(typeof _=="string"||typeof _=="number")return _}else if(I==="foot"&&typeof _=="object")return _.footer;return null}function A(I){return I.map(function(_,v){var P,L,S;return typeof _=="object"?S=(L=(P=_.dataKey)!==null&&P!==void 0?P:_.key)!==null&&L!==void 0?L:v:S=v,new h.Column(S,_,v)})}function E(I,_,v,P,L,S,C){var O=(0,m.getTheme)(P),z;I==="head"?z=L.headStyles:I==="body"?z=L.bodyStyles:I==="foot"&&(z=L.footStyles);var Z=(0,g.assign)({},O.table,O[I],L.styles,z),q=L.columnStyles[_.dataKey]||L.columnStyles[_.index]||{},R=I==="body"?q:{},X=I==="body"&&v%2===0?(0,g.assign)({},O.alternateRow,L.alternateRowStyles):{},$=(0,m.defaultStyles)(S),J=(0,g.assign)({},$,Z,X,R);return(0,g.assign)(J,C)}},664:function(l,c,d){Object.defineProperty(c,"__esModule",{value:!0}),c.addPage=c.drawTable=void 0;var u=d(420),h=d(260),f=d(744),m=d(356),g=d(136),x=d(224);function j(q,R){var X=R.settings,$=X.startY,J=X.margin,se={x:J.left,y:$},M=R.getHeadHeight(R.columns)+R.getFootHeight(R.columns),T=$+J.bottom+M;if(X.pageBreak==="avoid"){var B=R.body,K=B.reduce(function(ie,he){return ie+he.height},0);T+=K}var Y=new f.DocHandler(q);(X.pageBreak==="always"||X.startY!=null&&T>Y.pageSize().height)&&(Z(Y),se.y=J.top),R.callWillDrawPageHooks(Y,se);var re=(0,m.assign)({},se);R.startPageNumber=Y.pageNumber(),X.horizontalPageBreak?y(Y,R,re,se):(Y.applyStyles(Y.userStyles),(X.showHead==="firstPage"||X.showHead==="everyPage")&&R.head.forEach(function(ie){return L(Y,R,ie,se,R.columns)}),Y.applyStyles(Y.userStyles),R.body.forEach(function(ie,he){var Ce=he===R.body.length-1;P(Y,R,ie,Ce,re,se,R.columns)}),Y.applyStyles(Y.userStyles),(X.showFoot==="lastPage"||X.showFoot==="everyPage")&&R.foot.forEach(function(ie){return L(Y,R,ie,se,R.columns)})),(0,u.addTableBorder)(Y,R,re,se),R.callEndPageHooks(Y,se),R.finalY=se.y,q.lastAutoTable=R,q.previousAutoTable=R,q.autoTable&&(q.autoTable.previous=R),Y.applyStyles(Y.userStyles)}c.drawTable=j;function y(q,R,X,$){var J=(0,x.calculateAllColumnsCanFitInPage)(q,R),se=R.settings;if(se.horizontalPageBreakBehaviour==="afterAllRows")J.forEach(function(K,Y){q.applyStyles(q.userStyles),Y>0?z(q,R,X,$,K.columns,!0):b(q,R,$,K.columns),k(q,R,X,$,K.columns),E(q,R,$,K.columns)});else for(var M=-1,T=J[0],B=function(){var K=M;if(T){q.applyStyles(q.userStyles);var Y=T.columns;M>=0?z(q,R,X,$,Y,!0):b(q,R,$,Y),K=A(q,R,M+1,$,Y),E(q,R,$,Y)}var re=K-M;J.slice(1).forEach(function(ie){q.applyStyles(q.userStyles),z(q,R,X,$,ie.columns,!0),A(q,R,M+1,$,ie.columns,re),E(q,R,$,ie.columns)}),M=K};M<R.body.length-1;)B()}function b(q,R,X,$){var J=R.settings;q.applyStyles(q.userStyles),(J.showHead==="firstPage"||J.showHead==="everyPage")&&R.head.forEach(function(se){return L(q,R,se,X,$)})}function k(q,R,X,$,J){q.applyStyles(q.userStyles),R.body.forEach(function(se,M){var T=M===R.body.length-1;P(q,R,se,T,X,$,J)})}function A(q,R,X,$,J,se){q.applyStyles(q.userStyles),se=se??R.body.length;var M=Math.min(X+se,R.body.length),T=-1;return R.body.slice(X,M).forEach(function(B,K){var Y=X+K===R.body.length-1,re=O(q,R,Y,$);B.canEntireRowFit(re,J)&&(L(q,R,B,$,J),T=X+K)}),T}function E(q,R,X,$){var J=R.settings;q.applyStyles(q.userStyles),(J.showFoot==="lastPage"||J.showFoot==="everyPage")&&R.foot.forEach(function(se){return L(q,R,se,X,$)})}function I(q,R,X){var $=X.getLineHeight(q.styles.fontSize),J=q.padding("vertical"),se=Math.floor((R-J)/$);return Math.max(0,se)}function _(q,R,X,$){var J={};q.spansMultiplePages=!0,q.height=0;for(var se=0,M=0,T=X.columns;M<T.length;M++){var B=T[M],K=q.cells[B.index];if(K){Array.isArray(K.text)||(K.text=[K.text]);var Y=new h.Cell(K.raw,K.styles,K.section);Y=(0,m.assign)(Y,K),Y.text=[];var re=I(K,R,$);K.text.length>re&&(Y.text=K.text.splice(re,K.text.length));var ie=$.scaleFactor(),he=$.getLineHeightFactor();K.contentHeight=K.getContentHeight(ie,he),K.contentHeight>=R&&(K.contentHeight=R,Y.styles.minCellHeight-=R),K.contentHeight>q.height&&(q.height=K.contentHeight),Y.contentHeight=Y.getContentHeight(ie,he),Y.contentHeight>se&&(se=Y.contentHeight),J[B.index]=Y}}var Ce=new h.Row(q.raw,-1,q.section,J,!0);Ce.height=se;for(var be=0,Fe=X.columns;be<Fe.length;be++){var B=Fe[be],Y=Ce.cells[B.index];Y&&(Y.height=Ce.height);var K=q.cells[B.index];K&&(K.height=q.height)}return Ce}function v(q,R,X,$){var J=q.pageSize().height,se=$.settings.margin,M=se.top+se.bottom,T=J-M;R.section==="body"&&(T-=$.getHeadHeight($.columns)+$.getFootHeight($.columns));var B=R.getMinimumRowHeight($.columns,q),K=B<X;if(B>T)return console.error("Will not be able to print row ".concat(R.index," correctly since it's minimum height is larger than page height")),!0;if(!K)return!1;var Y=R.hasRowSpan($.columns),re=R.getMaxCellHeight($.columns)>T;return re?(Y&&console.error("The content of row ".concat(R.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(Y||$.settings.rowPageBreak==="avoid")}function P(q,R,X,$,J,se,M){var T=O(q,R,$,se);if(X.canEntireRowFit(T,M))L(q,R,X,se,M);else if(v(q,X,T,R)){var B=_(X,T,R,q);L(q,R,X,se,M),z(q,R,J,se,M),P(q,R,B,$,J,se,M)}else z(q,R,J,se,M),P(q,R,X,$,J,se,M)}function L(q,R,X,$,J){$.x=R.settings.margin.left;for(var se=0,M=J;se<M.length;se++){var T=M[se],B=X.cells[T.index];if(!B){$.x+=T.width;continue}q.applyStyles(B.styles),B.x=$.x,B.y=$.y;var K=R.callCellHooks(q,R.hooks.willDrawCell,B,X,T,$);if(K===!1){$.x+=T.width;continue}S(q,B,$);var Y=B.getTextPos();(0,g.default)(B.text,Y.x,Y.y,{halign:B.styles.halign,valign:B.styles.valign,maxWidth:Math.ceil(B.width-B.padding("left")-B.padding("right"))},q.getDocument()),R.callCellHooks(q,R.hooks.didDrawCell,B,X,T,$),$.x+=T.width}$.y+=X.height}function S(q,R,X){var $=R.styles;if(q.getDocument().setFillColor(q.getDocument().getFillColor()),typeof $.lineWidth=="number"){var J=(0,u.getFillStyle)($.lineWidth,$.fillColor);J&&q.rect(R.x,X.y,R.width,R.height,J)}else typeof $.lineWidth=="object"&&($.fillColor&&q.rect(R.x,X.y,R.width,R.height,"F"),C(q,R,X,$.lineWidth))}function C(q,R,X,$){var J,se,M,T;$.top&&(J=X.x,se=X.y,M=X.x+R.width,T=X.y,$.right&&(M+=.5*$.right),$.left&&(J-=.5*$.left),B($.top,J,se,M,T)),$.bottom&&(J=X.x,se=X.y+R.height,M=X.x+R.width,T=X.y+R.height,$.right&&(M+=.5*$.right),$.left&&(J-=.5*$.left),B($.bottom,J,se,M,T)),$.left&&(J=X.x,se=X.y,M=X.x,T=X.y+R.height,$.top&&(se-=.5*$.top),$.bottom&&(T+=.5*$.bottom),B($.left,J,se,M,T)),$.right&&(J=X.x+R.width,se=X.y,M=X.x+R.width,T=X.y+R.height,$.top&&(se-=.5*$.top),$.bottom&&(T+=.5*$.bottom),B($.right,J,se,M,T));function B(K,Y,re,ie,he){q.getDocument().setLineWidth(K),q.getDocument().line(Y,re,ie,he,"S")}}function O(q,R,X,$){var J=R.settings.margin.bottom,se=R.settings.showFoot;return(se==="everyPage"||se==="lastPage"&&X)&&(J+=R.getFootHeight(R.columns)),q.pageSize().height-$.y-J}function z(q,R,X,$,J,se){J===void 0&&(J=[]),se===void 0&&(se=!1),q.applyStyles(q.userStyles),R.settings.showFoot==="everyPage"&&!se&&R.foot.forEach(function(T){return L(q,R,T,$,J)}),R.callEndPageHooks(q,$);var M=R.settings.margin;(0,u.addTableBorder)(q,R,X,$),Z(q),R.pageNumber++,R.pageCount++,$.x=M.left,$.y=M.top,X.y=M.top,R.callWillDrawPageHooks(q,$),R.settings.showHead==="everyPage"&&(R.head.forEach(function(T){return L(q,R,T,$,J)}),q.applyStyles(q.userStyles))}c.addPage=z;function Z(q){var R=q.pageNumber();q.setPage(R+1);var X=q.pageNumber();return X===R?(q.addPage(),!0):!1}},224:function(l,c,d){Object.defineProperty(c,"__esModule",{value:!0}),c.calculateAllColumnsCanFitInPage=void 0;var u=d(420);function h(m,g,x){var j;x===void 0&&(x={});var y=(0,u.getPageAvailableWidth)(m,g),b=new Map,k=[],A=[],E=[];g.settings.horizontalPageBreakRepeat,Array.isArray(g.settings.horizontalPageBreakRepeat)?E=g.settings.horizontalPageBreakRepeat:(typeof g.settings.horizontalPageBreakRepeat=="string"||typeof g.settings.horizontalPageBreakRepeat=="number")&&(E=[g.settings.horizontalPageBreakRepeat]),E.forEach(function(P){var L=g.columns.find(function(S){return S.dataKey===P||S.index===P});L&&!b.has(L.index)&&(b.set(L.index,!0),k.push(L.index),A.push(g.columns[L.index]),y-=L.wrappedWidth)});for(var I=!0,_=(j=x?.start)!==null&&j!==void 0?j:0;_<g.columns.length;){if(b.has(_)){_++;continue}var v=g.columns[_].wrappedWidth;if(I||y>=v)I=!1,k.push(_),A.push(g.columns[_]),y-=v;else break;_++}return{colIndexes:k,columns:A,lastIndex:_-1}}function f(m,g){for(var x=[],j=0;j<g.columns.length;j++){var y=h(m,g,{start:j});y.columns.length&&(x.push(y),j=y.lastIndex)}return x}c.calculateAllColumnsCanFitInPage=f},324:function(l,c,d){Object.defineProperty(c,"__esModule",{value:!0}),c.ellipsize=c.resizeColumns=c.calculateWidths=void 0;var u=d(420);function h(k,A){f(k,A);var E=[],I=0;A.columns.forEach(function(v){var P=v.getMaxCustomCellWidth(A);P?v.width=P:(v.width=v.wrappedWidth,E.push(v)),I+=v.width});var _=A.getWidth(k.pageSize().width)-I;_&&(_=m(E,_,function(v){return Math.max(v.minReadableWidth,v.minWidth)})),_&&(_=m(E,_,function(v){return v.minWidth})),_=Math.abs(_),!A.settings.horizontalPageBreak&&_>.1/k.scaleFactor()&&(_=_<1?_:Math.round(_),console.warn("Of the table content, ".concat(_," units width could not fit page"))),x(A),j(A,k),g(A)}c.calculateWidths=h;function f(k,A){var E=k.scaleFactor(),I=A.settings.horizontalPageBreak,_=(0,u.getPageAvailableWidth)(k,A);A.allRows().forEach(function(v){for(var P=0,L=A.columns;P<L.length;P++){var S=L[P],C=v.cells[S.index];if(C){var O=A.hooks.didParseCell;A.callCellHooks(k,O,C,v,S,null);var z=C.padding("horizontal");C.contentWidth=(0,u.getStringWidth)(C.text,C.styles,k)+z;var Z=(0,u.getStringWidth)(C.text.join(" ").split(/[^\S\u00A0]+/),C.styles,k);if(C.minReadableWidth=Z+C.padding("horizontal"),typeof C.styles.cellWidth=="number")C.minWidth=C.styles.cellWidth,C.wrappedWidth=C.styles.cellWidth;else if(C.styles.cellWidth==="wrap"||I===!0)C.contentWidth>_?(C.minWidth=_,C.wrappedWidth=_):(C.minWidth=C.contentWidth,C.wrappedWidth=C.contentWidth);else{var q=10/E;C.minWidth=C.styles.minCellWidth||q,C.wrappedWidth=C.contentWidth,C.minWidth>C.wrappedWidth&&(C.wrappedWidth=C.minWidth)}}}}),A.allRows().forEach(function(v){for(var P=0,L=A.columns;P<L.length;P++){var S=L[P],C=v.cells[S.index];if(C&&C.colSpan===1)S.wrappedWidth=Math.max(S.wrappedWidth,C.wrappedWidth),S.minWidth=Math.max(S.minWidth,C.minWidth),S.minReadableWidth=Math.max(S.minReadableWidth,C.minReadableWidth);else{var O=A.styles.columnStyles[S.dataKey]||A.styles.columnStyles[S.index]||{},z=O.cellWidth||O.minCellWidth;z&&typeof z=="number"&&(S.minWidth=z,S.wrappedWidth=z)}C&&(C.colSpan>1&&!S.minWidth&&(S.minWidth=C.minWidth),C.colSpan>1&&!S.wrappedWidth&&(S.wrappedWidth=C.minWidth))}})}function m(k,A,E){for(var I=A,_=k.reduce(function(q,R){return q+R.wrappedWidth},0),v=0;v<k.length;v++){var P=k[v],L=P.wrappedWidth/_,S=I*L,C=P.width+S,O=E(P),z=C<O?O:C;A-=z-P.width,P.width=z}if(A=Math.round(A*1e10)/1e10,A){var Z=k.filter(function(q){return A<0?q.width>E(q):!0});Z.length&&(A=m(Z,A,E))}return A}c.resizeColumns=m;function g(k){for(var A={},E=1,I=k.allRows(),_=0;_<I.length;_++)for(var v=I[_],P=0,L=k.columns;P<L.length;P++){var S=L[P],C=A[S.index];if(E>1)E--,delete v.cells[S.index];else if(C)C.cell.height+=v.height,E=C.cell.colSpan,delete v.cells[S.index],C.left--,C.left<=1&&delete A[S.index];else{var O=v.cells[S.index];if(!O)continue;if(O.height=v.height,O.rowSpan>1){var z=I.length-_,Z=O.rowSpan>z?z:O.rowSpan;A[S.index]={cell:O,left:Z,row:v}}}}}function x(k){for(var A=k.allRows(),E=0;E<A.length;E++)for(var I=A[E],_=null,v=0,P=0,L=0;L<k.columns.length;L++){var S=k.columns[L];if(P-=1,P>1&&k.columns[L+1])v+=S.width,delete I.cells[S.index];else if(_){var C=_;delete I.cells[S.index],_=null,C.width=S.width+v}else{var C=I.cells[S.index];if(!C)continue;if(P=C.colSpan,v=0,C.colSpan>1){_=C,v+=S.width;continue}C.width=S.width+v}}}function j(k,A){for(var E={count:0,height:0},I=0,_=k.allRows();I<_.length;I++){for(var v=_[I],P=0,L=k.columns;P<L.length;P++){var S=L[P],C=v.cells[S.index];if(C){A.applyStyles(C.styles,!0);var O=C.width-C.padding("horizontal");if(C.styles.overflow==="linebreak")C.text=A.splitTextToSize(C.text,O+1/A.scaleFactor(),{fontSize:C.styles.fontSize});else if(C.styles.overflow==="ellipsize")C.text=y(C.text,O,C.styles,A,"...");else if(C.styles.overflow==="hidden")C.text=y(C.text,O,C.styles,A,"");else if(typeof C.styles.overflow=="function"){var z=C.styles.overflow(C.text,O);typeof z=="string"?C.text=[z]:C.text=z}C.contentHeight=C.getContentHeight(A.scaleFactor(),A.getLineHeightFactor());var Z=C.contentHeight/C.rowSpan;C.rowSpan>1&&E.count*E.height<Z*C.rowSpan?E={height:Z,count:C.rowSpan}:E&&E.count>0&&E.height>Z&&(Z=E.height),Z>v.height&&(v.height=Z)}}E.count--}}function y(k,A,E,I,_){return k.map(function(v){return b(v,A,E,I,_)})}c.ellipsize=y;function b(k,A,E,I,_){var v=1e4*I.scaleFactor();if(A=Math.ceil(A*v)/v,A>=(0,u.getStringWidth)(k,E,I))return k;for(;A<(0,u.getStringWidth)(k+_,E,I)&&!(k.length<=1);)k=k.substring(0,k.length-1);return k.trim()+_}},964:function(l){if(typeof s>"u"){var c=new Error("Cannot find module 'undefined'");throw c.code="MODULE_NOT_FOUND",c}l.exports=s}},a={};function i(l){var c=a[l];if(c!==void 0)return c.exports;var d=a[l]={exports:{}};return n[l].call(d.exports,d,d.exports,i),d.exports}var o={};return function(){var l=o;Object.defineProperty(l,"__esModule",{value:!0}),l.Cell=l.Column=l.Row=l.Table=l.CellHookData=l.__drawTable=l.__createTable=l.applyPlugin=void 0;var c=i(340),d=i(776),u=i(664),h=i(972),f=i(260);Object.defineProperty(l,"Table",{enumerable:!0,get:function(){return f.Table}});var m=i(172);Object.defineProperty(l,"CellHookData",{enumerable:!0,get:function(){return m.CellHookData}});var g=i(260);Object.defineProperty(l,"Cell",{enumerable:!0,get:function(){return g.Cell}}),Object.defineProperty(l,"Column",{enumerable:!0,get:function(){return g.Column}}),Object.defineProperty(l,"Row",{enumerable:!0,get:function(){return g.Row}});function x(A){(0,c.default)(A)}l.applyPlugin=x;function j(A,E){var I=(0,d.parseInput)(A,E),_=(0,h.createTable)(A,I);(0,u.drawTable)(A,_)}function y(A,E){var I=(0,d.parseInput)(A,E);return(0,h.createTable)(A,I)}l.__createTable=y;function b(A,E){(0,u.drawTable)(A,E)}l.__drawTable=b;try{var k=i(964);k.jsPDF&&(k=k.jsPDF),x(k)}catch{}l.default=j}(),o}()})})(GY);const Qy=t=>{const e=new nt,s=Dc.getState().profile||{company:"CxTrack",phone:"",address:"",city:"",state:"",zipCode:"",country:""};e.setFontSize(20),e.setTextColor(66,70,229),e.text("CXTRACK",20,20),e.setFontSize(12),e.setTextColor(100,100,100),e.text("Invoice",20,30),e.setFontSize(10),e.setTextColor(60,60,60),e.text(`Invoice Number: ${t.invoice_number}`,20,40),e.text(`Date: ${new Date(t.date).toLocaleDateString()}`,20,45),e.text(`Due Date: ${new Date(t.due_date).toLocaleDateString()}`,20,50),e.setFontSize(10);let n;switch(t.status){case"Paid":n=[39,174,96];break;case"Issued":n=[41,128,185];break;case"Draft":n=[149,165,166];break;case"Cancelled":n=[192,57,43];break;case"Disputed":n=[142,68,173];break;case"Part paid":n=[243,156,18];break;case"On hold":n=[211,84,0];break;default:n=[149,165,166]}e.setTextColor(n[0],n[1],n[2]),e.text(`Status: ${t.status}`,150,40),e.setTextColor(60,60,60),e.text("Bill To:",20,60),e.text(t.customer_name,20,65),t.customer_email&&e.text(t.customer_email,20,70),t.customer_address&&t.customer_address.split(`
`).forEach((u,h)=>{e.text(u,20,75+h*5)}),e.text("From:",150,60),e.text(s.company||"CxTrack",150,65),e.text(s.phone||"company@example.com",150,70),e.text(s.address||"123 Business Street",150,75),e.text(`${s.city||"City"}, ${s.state||"State"} ${s.zipCode||"ZIP"}`,150,80),e.text(s.country||"Country",150,85);const a=["Item","Quantity","Unit Price","Total"],i=t.items.map(d=>[d.description,d.quantity.toString(),`$${d.unit_price.toFixed(2)}`,`$${d.total.toFixed(2)}`]);e.autoTable({startY:95,head:[a],body:i,theme:"grid",headStyles:{fillColor:[79,70,229],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[245,247,250]},margin:{top:95}});const o=e.lastAutoTable.finalY+10;e.text("Subtotal:",130,o),e.text(`$${t.subtotal.toFixed(2)}`,170,o);const l=(t.tax_rate*100).toFixed(2);e.text(`Tax (${l}%):`,130,o+5),e.text(`$${t.tax.toFixed(2)}`,170,o+5),e.setFontSize(12),e.setFont("helvetica","bold"),e.text("Total:",130,o+15),e.text(`$${t.total.toFixed(2)}`,170,o+15),t.notes&&(e.setFontSize(10),e.setFont("helvetica","normal"),e.text("Notes:",20,o+30),e.text(t.notes,20,o+35));const c=e.getNumberOfPages();for(let d=1;d<=c;d++)e.setPage(d),e.setFontSize(8),e.setTextColor(150,150,150),e.text("Thank you for your business!",e.internal.pageSize.getWidth()/2,e.internal.pageSize.getHeight()-10,{align:"center"});return e},Jy=t=>{const e=new nt,s=Dc.getState().profile||{company:"CxTrack",phone:"",address:"",city:"",state:"",zipCode:"",country:""};e.setFontSize(20),e.setTextColor(66,70,229),e.text("CXTRACK",20,20),e.setFontSize(12),e.setTextColor(100,100,100),e.text("Quote",20,30),e.setFontSize(10),e.setTextColor(60,60,60),e.text(`Quote Number: ${t.quote_number}`,20,40),e.text(`Date: ${new Date(t.date).toLocaleDateString()}`,20,45),e.text(`Expiry Date: ${new Date(t.expiry_date).toLocaleDateString()}`,20,50),e.setFontSize(10);let n;switch(t.status){case"Sent":n=[41,128,185];break;case"Accepted":n=[39,174,96];break;case"Declined":n=[192,57,43];break;case"Expired":n=[243,156,18];break;default:n=[149,165,166]}e.setTextColor(n[0],n[1],n[2]),e.text(`Status: ${t.status}`,150,40),e.setTextColor(60,60,60),e.text("To:",20,60),e.text(t.customer_name,20,65),t.customer_email&&e.text(t.customer_email,20,70),t.customer_address&&t.customer_address.split(`
`).forEach((u,h)=>{e.text(u,20,75+h*5)}),e.text("From:",150,60),e.text(s.company||"CxTrack",150,65),e.text(s.phone||"company@example.com",150,70),e.text(s.address||"123 Business Street",150,75),e.text(`${s.city||"City"}, ${s.state||"State"} ${s.zipCode||"ZIP"}`,150,80),e.text(s.country||"Country",150,85);const a=["Item","Quantity","Unit Price","Total"],i=t.items.map(d=>[d.description,d.quantity.toString(),`$${d.unit_price.toFixed(2)}`,`$${d.total.toFixed(2)}`]);e.autoTable({startY:95,head:[a],body:i,theme:"grid",headStyles:{fillColor:[79,70,229],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[245,247,250]},margin:{top:95}});const o=e.lastAutoTable.finalY+10;e.text("Subtotal:",130,o),e.text(`$${t.subtotal.toFixed(2)}`,170,o);const l=(t.tax_rate*100).toFixed(2);e.text(`Tax (${l}%):`,130,o+5),e.text(`$${t.tax.toFixed(2)}`,170,o+5),e.setFontSize(12),e.setFont("helvetica","bold"),e.text("Total:",130,o+15),e.text(`$${t.total.toFixed(2)}`,170,o+15),t.message&&(e.setFontSize(10),e.setFont("helvetica","normal"),e.text("Message:",20,o+30),e.text(t.message,20,o+35)),t.notes&&(e.setFontSize(10),e.setFont("helvetica","normal"),e.text("Notes:",20,o+45),e.text(t.notes,20,o+50));const c=e.getNumberOfPages();for(let d=1;d<=c;d++)e.setPage(d),e.setFontSize(8),e.setTextColor(150,150,150),e.text("Thank you for considering our services!",e.internal.pageSize.getWidth()/2,e.internal.pageSize.getHeight()-10,{align:"center"});return e},XY=t=>{Qy(t).save(`Invoice-${t.invoice_number}.pdf`)},QY=t=>{Jy(t).save(`Quote-${t.quote_number}.pdf`)},JY=t=>{const e=Qy(t);e.autoPrint(),window.open(e.output("bloburl"),"_blank")},ZY=t=>{const e=Jy(t);e.autoPrint(),window.open(e.output("bloburl"),"_blank")},fn={async getEmailSettings(t){try{const{data:e,error:s}=await Ae.from("email_settings").select("*").eq("user_id",t).maybeSingle();return s&&s.code!=="PGRST116"?(console.error("Error fetching email settings:",s),null):e}catch(e){return console.error("Email service error:",e),null}},async checkEmailConfiguration(t){try{const{data:e,error:s}=await Ae.from("email_settings").select("id").eq("user_id",t).maybeSingle();return s&&s.code!=="PGRST116"?(console.error("Error checking email configuration:",s),!1):!!e}catch(e){return console.error("Email service error:",e),!1}},async saveEmailSettings(t,e){try{if(console.log("Saving email settings:",{...e,smtp_password:"***REDACTED***"}),!t)throw new Error("User ID is required");if(!e.smtp_host||!e.smtp_port||!e.smtp_username||!e.smtp_password||!e.from_email||!e.from_name)throw new Error("Missing required email settings");if(!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.from_email))throw new Error("Invalid email format");const n=typeof e.smtp_port=="string"?parseInt(e.smtp_port):e.smtp_port;if(isNaN(n)||n<1||n>65535)throw new Error("SMTP port must be between 1 and 65535");const{error:a}=await Ae.from("email_settings").upsert({user_id:t,smtp_host:e.smtp_host,smtp_port:n,smtp_username:e.smtp_username,smtp_password:e.smtp_password,from_email:e.from_email,from_name:e.from_name,updated_at:new Date().toISOString()},{onConflict:"user_id",ignoreDuplicates:!1});if(a)throw new Error(`Failed to save email settings: ${a.message}`);return!0}catch(s){throw console.error("Email service error:",s),s instanceof Error?s:new Error("Failed to save email settings")}},async testEmailSettings(t,e){try{if(console.log("Testing email settings:",{...e,smtp_password:"***REDACTED***"}),!e.smtp_host||!e.smtp_port||!e.smtp_username||!e.smtp_password||!e.from_email||!e.from_name)throw new Error("All email settings fields are required");if(!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.from_email))throw new Error("Invalid email format");if(e.smtp_port<1||e.smtp_port>65535)throw new Error("SMTP port must be between 1 and 65535");const n={settings:{...e,smtp_port:typeof e.smtp_port=="number"?e.smtp_port.toString():e.smtp_port}};console.log("Sending request to test-email-settings:",JSON.stringify({...n,settings:{...n.settings,smtp_password:"***REDACTED***"}}));const{data:a,error:i}=await Ae.functions.invoke("test-email-settings",{body:n,headers:{"Content-Type":"application/json"}});if(i)throw console.error("Edge function error:",i),new Error(i instanceof Error?i.message:"Failed to connect to email server. Please verify your settings.");if(!a?.success)throw console.error("Edge function response:",a),new Error(a?.error||"Failed to verify email settings. Please check your SMTP credentials.");return!0}catch(s){throw console.error("Email service error:",s),s instanceof Error?s:new Error("An unexpected error occurred while testing email settings")}},async sendEmail(t,e,s,n,a,i){try{if(console.log("Sending email to:",t,"subject:",e),a||(a=await this.getEmailSettings(n)),!a)throw new Error("Please configure your email settings in your profile before sending emails");const o={to:t,subject:e,html:s,from:`${a.from_name} <${a.from_email}>`,reply_to:a.from_email};i&&i.length>0&&(o.attachments=i);const l={to:t,subject:e,body:s,sender:n,settings:{smtp_host:a.smtp_host,smtp_port:typeof a.smtp_port=="number"?a.smtp_port.toString():a.smtp_port,smtp_username:a.smtp_username,smtp_password:a.smtp_password,from_email:a.from_email,from_name:a.from_name}};try{const{data:c,error:d}=await Ae.functions.invoke("send-email-resend",{body:o});if(d)throw console.error("Error sending email through edge function:",d),d;if(!c?.id)throw new Error("Failed to send email through Resend");return!0}catch(c){throw console.error("Error sending email:",c),c instanceof Error?c:new Error("Failed to send email. Please try again or contact support.")}}catch(o){throw console.error("Email service error:",o),o instanceof Error?o:new Error("Failed to send email. Please try again or contact support.")}},getQuoteEmailTemplate(t,e){return{subject:`Quote ${t} from CxTrack`,body:`
Dear Customer,
<br>
Please find attached quote <b>${t}</b> for <b>$${e.toFixed(2)}</b>.
<br>
You can view the quote using the following link:
[Quote Link]
<br>
If you have any questions or would like to discuss this quote further, please don't hesitate to contact us.
<br>
Thank you for considering our services!
<br>
<br>
Best regards,
CxTrack Team
      `.trim()}},getInvoiceEmailTemplate(t,e){return{subject:`Invoice ${t} from CxTrack`,body:`
Dear Customer,
<br>
Please find attached invoice <b>${t}</b> for <b>$${e.toFixed(2)}</b>.
<br>
If you have any questions, please don't hesitate to contact us.
<br>
Thank you for your business!
<br>
<br>
Best regards,
CxTrack Team
      `.trim()}},getPaymentReminderTemplate(t,e,s){return{subject:`Payment Reminder: Invoice ${t}`,body:`
Dear Customer,
<br>
This is a courteous reminder that invoice <b>${t}</b> for <b>$${e.toFixed(2)}</b> is due on <b>${s}</b>.
<br>
If you have already made the payment, please disregard this reminder.
<br>
Thank you for your business!
<br>
<br>
Best regards,
CxTrack Team
      `.trim()}}},eG=async(t,e="",s=!0)=>{try{if(!t.customer_email)throw new Error("Customer email is not available");const n=Ar.getState().user;if(!n)throw new Error("User not authenticated");if(!await fn.checkEmailConfiguration(n.id))throw new Error("Please configure your email settings in your profile before sending emails");const i=fn.getInvoiceEmailTemplate(t.invoice_number,t.total),o=`${i.body}

${e}`;let l=null;if(s){const d=Qy(t).output("datauristring").split(",")[1];l={filename:`Invoice-${t.invoice_number}.pdf`,content:d,encoding:"base64",type:"application/pdf"}}try{return await fn.sendEmail(t.customer_email,i.subject,o,n.id,void 0,l?[l]:void 0)}catch(c){throw console.error("Error sending invoice email:",c),c instanceof Error?c:new Error("Failed to send invoice email")}}catch(n){throw console.error("Error sending invoice email:",n),n instanceof Error?n:new Error("Failed to send invoice email")}},tG=async(t,e="",s=!0)=>{try{if(!t.customer_email)throw new Error("Customer email is not available");const n=Ar.getState().user;if(!n)throw new Error("User not authenticated");if(!await fn.checkEmailConfiguration(n.id))throw new Error("Please configure your email settings in your profile before sending emails");const i=fn.getQuoteEmailTemplate(t.quote_number,t.total),o=`${i.body}

${e}`;let l=null;if(s){const d=Jy(t).output("datauristring").split(",")[1];l={filename:`Quote-${t.quote_number}.pdf`,content:d,encoding:"base64",type:"application/pdf"}}try{return await fn.sendEmail(t.customer_email,i.subject,o,n.id,void 0,l?[l]:void 0)}catch(c){throw console.error("Error sending quote email:",c),c instanceof Error?c:new Error("Failed to send quote email")}}catch(n){throw console.error("Error sending quote email:",n),n instanceof Error?n:new Error("Failed to send quote email")}},sG=async(t,e,s)=>{try{const{data:{user:n}}=await Ae.auth.getUser();if(!n)throw new Error("User not authenticated");const a=await fn.getEmailSettings(n.id);if(!a)throw new Error("Please configure your email settings in your profile before sending emails");const i=fn.getPaymentReminderTemplate(t.invoice_number,t.total,new Date(t.due_date).toLocaleDateString());return await fn.sendEmail(e,i.subject,i.body,n.id,a)}catch(n){throw console.error("Error setting up payment reminder:",n),n instanceof Error?n:new Error("Failed to send payment reminder")}},rG=async t=>`https://example.com/pay/invoice/${t}`,nG=async t=>{const e=await ho.getState().getInvoiceById(t);if(!e)throw new Error("Original invoice not found");const s={...e,id:crypto.randomUUID(),invoice_number:`${e.invoice_number}-copy`,status:"Draft"};return console.log("Duplicated invoice:",s),s},aG=()=>{const{id:t}=Mn(),e=Qt(),{getInvoiceById:s,updateInvoiceStatus:n,deleteInvoice:a,loading:i,error:o}=ho(),{currentSubscription:l}=hl(),[c,d]=U.useState(null),[u,h]=U.useState(!1),[f,m]=U.useState(""),[g,x]=U.useState(!1),[j,y]=U.useState(""),[b,k]=U.useState(5),[A,E]=U.useState(null),[I,_]=U.useState(null),[v,P]=U.useState(!1),[L,S]=U.useState(!1),[C,O]=U.useState(!1),{user:z}=Ar(),Z=z?.email==="maniksharmawork@gmail.com"||l?.plan_id&&["business","enterprise"].includes(l.plan_id),q=(re,ie)=>{const he=document.createElement("div");he.className="fixed inset-0 bg-dark-900/80 backdrop-blur-sm flex items-center justify-center z-50",he.innerHTML=`
        <div class="bg-dark-800 rounded-lg p-8 max-w-md m-4 relative transform scale-100 transition-all duration-200">
          <div class="text-center">
            <div class="bg-gradient-to-r from-primary-600 to-primary-800 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
              <svg class="w-8 h-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"/>
              </svg>
            </div>
            <h3 class="text-2xl font-bold text-white mb-2">Premium Feature</h3>
            <p class="text-gray-300 text-lg mb-2">${re} is available on ${ie}</p>
            <p class="text-gray-400 mb-6">Upgrade to access AI-powered automation and advanced features</p>
            <a href="/settings?tab=billing" class="btn btn-primary bg-gradient-to-r from-primary-600 to-primary-500 hover:from-primary-500 hover:to-primary-400 px-8 py-3 text-lg font-medium inline-block">
              Upgrade Now
            </a>
          </div>
          <button class="absolute top-4 right-4 text-gray-400 hover:text-white">
            <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
          </button>
        </div>
      `,document.body.appendChild(he),he.addEventListener("click",Ce=>{(Ce.target===he||Ce.target.closest("button"))&&he.remove()})};U.useEffect(()=>{t&&s(t).then(re=>{re?(d(re),re.customer_email&&y(re.customer_email)):(fe.error("Invoice not found"),e("/invoices"))}).catch(re=>{fe.error("Failed to load invoice details")})},[t,s,e]);const R=async re=>{if(!(!t||!c)){if(re==="Paid"&&!Z){q("Marking invoices as paid","Business or Enterprise");return}try{const ie=await n(t,re);d(ie),fe.success(`Invoice marked as ${re}`)}catch{fe.error("Failed to update invoice status")}}},X=async()=>{if(t&&window.confirm("Are you sure you want to delete this invoice?"))try{await a(t),fe.success("Invoice deleted successfully"),e("/invoices")}catch{fe.error("Failed to delete invoice")}},$=async()=>{if(t)try{const re=await nG(t);fe.success("Invoice duplicated successfully"),e(`/invoices/${re.id}`)}catch(re){console.error("Duplication Error:",re),fe.error("Failed to duplicate invoice")}},J=()=>{c&&(XY(c),fe.success("Invoice PDF downloaded"))},se=()=>{c&&JY(c)},M=async()=>{if(!c)return;if(!c.customer_email){fe.error("Customer email is not available");return}await eG(c,f,!0)?(fe.success("Invoice sent successfully"),h(!1),m(""),c.status==="Draft"&&R("Issued")):fe.error("Failed to send invoice")},T=async()=>{if(c){if(!j){fe.error("Please enter an email address for the reminder");return}try{await sG(c,j,b)&&(fe.success("Payment reminder scheduled"),x(!1))}catch(re){fe.error(re.message||"Failed to schedule payment reminder"),re.message.includes("configure your email settings")&&window.confirm("Would you like to configure your email settings now?")&&e("/settings?tab=email")}}},B=async()=>{if(!t||!Z){q("Generating Payment Links","Business or Enterprise");return}try{const re=await rG(t);_(re),S(!0)}catch{fe.error("Failed to generate payment link")}},K=re=>{navigator.clipboard.writeText(re),fe.success("Link copied to clipboard")},Y=c&&new Date(c.due_date)<new Date&&c.status!=="Paid";return i?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-400",children:"Loading invoice details..."})]}):o?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("p",{className:"text-red-400 text-lg",children:o}),r.jsx(de,{to:"/invoices",className:"btn btn-primary mt-4",children:"Back to Invoices"})]}):c?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(de,{to:"/invoices",className:"btn btn-secondary p-2",children:r.jsx(ss,{size:20})}),r.jsxs("h1",{className:"text-2xl font-bold text-white",children:["Invoice ",c.invoice_number]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(GV,{currentStatus:c.status,onStatusChange:R}),r.jsxs("div",{className:"relative",children:[r.jsx("button",{onClick:()=>O(!C),className:"btn btn-secondary p-2",children:r.jsx(vC,{size:20})}),C&&r.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-dark-800 rounded-md shadow-lg py-1 z-10 border border-dark-700",children:[r.jsx("button",{onClick:()=>{O(!1),$()},className:"block w-full text-left px-4 py-2 text-sm text-gray-300 hover:bg-dark-700",children:"Duplicate Invoice"}),r.jsx("button",{onClick:()=>{O(!1),X()},className:"block w-full text-left px-4 py-2 text-sm text-red-400 hover:bg-dark-700",children:"Delete Invoice"})]})]})]})]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsxs(de,{to:`/invoices/${t}/edit`,className:"btn btn-primary flex items-center space-x-2",children:[r.jsx(Or,{size:16}),r.jsx("span",{children:"Edit"})]}),r.jsxs("button",{onClick:se,className:"btn btn-secondary flex items-center space-x-2",children:[r.jsx(Xg,{size:16}),r.jsx("span",{children:"Print"})]}),r.jsxs("button",{onClick:J,className:"btn btn-secondary flex items-center space-x-2",children:[r.jsx(lr,{size:16}),r.jsx("span",{children:"PDF"})]}),r.jsx("button",{onClick:()=>{Z?h(!0):q("Email to Customer","Business or Enterprise")},className:"btn btn-secondary flex items-center space-x-2",disabled:!c.customer_email&&!Z,children:r.jsxs("div",{className:"relative flex items-center",children:[r.jsx(yc,{size:16,className:"mr-2"}),r.jsx("span",{children:"Email to Customer"}),!Z&&r.jsx(vi,{className:"w-4 h-4 text-yellow-400 fill-yellow-400 absolute -top-2 -right-2"})]})}),r.jsx("button",{onClick:B,className:"btn btn-secondary flex items-center space-x-2",children:r.jsxs("div",{className:"relative flex items-center",children:[r.jsx(gu,{size:16,className:"mr-2"}),r.jsx("span",{children:"Payment Link"}),!Z&&r.jsx(vi,{className:"w-4 h-4 text-yellow-400 fill-yellow-400 absolute -top-2 -right-2"})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[r.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Invoice Status"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"text-gray-400",children:r.jsx(wt,{size:18})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Status"}),r.jsx(z4,{status:c.status})]})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"text-gray-400",children:r.jsx(Rs,{size:18})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Invoice Date"}),r.jsx("p",{className:"text-white",children:new Date(c.date).toLocaleDateString()})]})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"text-gray-400",children:r.jsx(Tn,{size:18})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Due Date"}),r.jsx("p",{className:"text-white",children:new Date(c.due_date).toLocaleDateString()})]})]}),c.status==="Paid"&&c.payment_date&&r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"text-gray-400",children:r.jsx(gu,{size:18})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Payment Date"}),r.jsx("p",{className:"text-white",children:new Date(c.payment_date).toLocaleDateString()})]})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"text-gray-400",children:r.jsx(us,{size:18})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Total Amount"}),r.jsxs("p",{className:"text-xl font-semibold text-white",children:["$",c.total.toLocaleString()]})]})]})]}),r.jsxs("div",{className:"mt-6 pt-6 border-t border-dark-700",children:[r.jsx("h3",{className:"text-md font-medium text-white mb-2",children:"Payment Reminder"}),Y&&r.jsx("div",{className:"bg-red-900/30 border border-red-800 text-red-400 px-3 py-2 rounded-md mb-3",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Uf,{size:16,className:"mr-2"}),r.jsx("span",{children:"This invoice is overdue"})]})}),r.jsx("p",{className:"text-sm text-gray-400 mb-3",children:"Send an automatic reminder to the customer before the due date."}),r.jsx("button",{onClick:()=>x(!0),className:`btn w-full ${!c?.customer_email||["Paid","Cancelled"].includes(c?.status||"")?"btn-secondary opacity-50 cursor-not-allowed":"btn-primary"}`,disabled:!c?.customer_email||["Paid","Cancelled"].includes(c?.status||""),children:c?.customer_email?c?.status==="Paid"?"Invoice Paid":c?.status==="Cancelled"?"Invoice Cancelled":"Schedule Reminder":"No Email Available"}),!c?.customer_email&&r.jsx("p",{className:"mt-2 text-sm text-red-400",children:"Customer email is required to schedule reminders"})]})]}),r.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[r.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Customer Information"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"text-gray-400",children:r.jsx(Qg,{size:18})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Customer"}),r.jsx("p",{className:"text-white font-medium",children:c?.customer_name})]})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"text-gray-400",children:r.jsx(aa,{size:18})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Email"}),r.jsx("p",{className:"text-white",children:c?.customer_email||"No email provided"})]})]}),c?.customer_address&&r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"text-gray-400",children:r.jsx(Kg,{size:18})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Address"}),r.jsx("p",{className:"text-white",children:c?.customer_address})]})]})]})]}),r.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[r.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Notes"}),r.jsx("p",{className:"text-gray-300",children:c?.notes||"No notes provided"}),r.jsxs("div",{className:"mt-6 pt-6 border-t border-dark-700",children:[r.jsx("h3",{className:"text-md font-medium text-white mb-2",children:"Attachments"}),r.jsx("p",{className:"text-sm text-gray-400",children:"No attachments"})]})]})]}),r.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[r.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Invoice Items"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-dark-700",children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Item"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Quantity"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Unit Price"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Total"})]})}),r.jsx("tbody",{className:"divide-y divide-dark-700",children:c?.items.map((re,ie)=>r.jsxs("tr",{className:"hover:bg-dark-700/50",children:[r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsx("span",{className:"text-sm font-medium text-white",children:re.description})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300 text-right",children:re.quantity}),r.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300 text-right",children:["$",re.unit_price.toFixed(2)]}),r.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300 text-right",children:["$",re.total.toFixed(2)]})]},ie))}),r.jsxs("tfoot",{children:[r.jsxs("tr",{className:"bg-dark-700/50",children:[r.jsx("td",{colSpan:3,className:"px-4 py-3 text-right text-sm font-medium text-gray-300",children:"Subtotal"}),r.jsxs("td",{className:"px-4 py-3 text-right text-sm font-medium text-white",children:["$",c?.subtotal.toFixed(2)]})]}),r.jsxs("tr",{className:"bg-dark-700/50",children:[r.jsxs("td",{colSpan:3,className:"px-4 py-3 text-right text-sm font-medium text-gray-300",children:["Tax (",((c?.tax_rate||0)*100).toFixed(2),"%)"]}),r.jsxs("td",{className:"px-4 py-3 text-right text-sm font-medium text-white",children:["$",c?.tax.toFixed(2)]})]}),r.jsxs("tr",{className:"bg-dark-700",children:[r.jsx("td",{colSpan:3,className:"px-4 py-3 text-right text-sm font-medium text-gray-300",children:"Total"}),r.jsxs("td",{className:"px-4 py-3 text-right text-base font-bold text-white",children:["$",c?.total.toFixed(2)]})]})]})]})})]}),u&&c&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 w-full max-w-md",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Send Invoice to Customer"}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"To"}),r.jsx("input",{type:"text",className:"input",value:c.customer_email||"",disabled:!0})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Subject"}),r.jsx("input",{type:"text",className:"input",value:`Invoice ${c.invoice_number} from Your Company`,disabled:!0})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Message (Optional)"}),r.jsx("textarea",{className:"input",rows:4,value:f,onChange:re=>m(re.target.value),placeholder:"Add a personal message to the customer..."})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx("button",{onClick:()=>h(!1),className:"btn btn-secondary",children:"Cancel"}),r.jsx("button",{onClick:M,className:"btn btn-primary",children:"Send"})]})]})}),g&&c&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 w-full max-w-md",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Schedule Payment Reminder"}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Send reminder to"}),r.jsx("input",{type:"email",className:"input",value:j,onChange:re=>y(re.target.value),placeholder:"customer@example.com"})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Days before due date"}),r.jsx("input",{type:"number",className:"input",value:b,onChange:re=>k(parseInt(re.target.value)),min:1,max:30})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx("button",{onClick:()=>x(!1),className:"btn btn-secondary",children:"Cancel"}),r.jsxs("button",{onClick:T,className:"btn btn-primary flex items-center space-x-1",children:[r.jsx("span",{className:"text-yellow-300",children:""}),r.jsx("span",{children:"Schedule reminder"})]})]})]})}),v&&A&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 w-full max-w-md",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Public Invoice Link"}),r.jsxs("div",{className:"mb-4",children:[r.jsx("p",{className:"text-sm text-gray-300 mb-2",children:"Share this link with anyone to view the invoice. No account required."}),r.jsxs("div",{className:"flex",children:[r.jsx("input",{type:"text",className:"input rounded-r-none",value:A,readOnly:!0}),r.jsx("button",{onClick:()=>K(A),className:"btn btn-primary rounded-l-none",children:r.jsx(Pv,{size:16})})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{onClick:()=>P(!1),className:"btn btn-secondary",children:"Close"})})]})}),L&&I&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 w-full max-w-md",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Payment Link"}),r.jsxs("div",{className:"mb-4",children:[r.jsx("p",{className:"text-sm text-gray-300 mb-2",children:"Share this link with your customer to allow them to pay the invoice online."}),r.jsxs("div",{className:"flex",children:[r.jsx("input",{type:"text",className:"input rounded-r-none",value:I,readOnly:!0}),r.jsx("button",{onClick:()=>K(I),className:"btn btn-primary rounded-l-none",children:r.jsx(Pv,{size:16})})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{onClick:()=>S(!1),className:"btn btn-secondary",children:"Close"})})]})})]}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx("p",{className:"text-gray-400 text-lg",children:"Invoice not found"}),r.jsx(de,{to:"/invoices",className:"btn btn-primary mt-4",children:"Back to Invoices"})]})},iG=()=>{const t=Qt(),{createInvoice:e,loading:s,error:n,clearError:a}=ho(),{customers:i,fetchCustomers:o}=On(),{products:l,fetchProducts:c,createProduct:d}=xn(),[u,h]=U.useState(!1),[f,m]=U.useState(!1),[g,x]=U.useState(""),[j,y]=U.useState(""),[b,k]=U.useState(!1),[A,E]=U.useState({name:"",sku:"SKU-",description:"",price:0,cost:0,stock:0,category:""});U.useEffect(()=>{const Y=()=>{k(window.innerWidth<768)};return Y(),window.addEventListener("resize",Y),()=>window.removeEventListener("resize",Y)},[]),U.useEffect(()=>{(async()=>{try{await Promise.all([o(),c()])}catch(re){console.error("Error loading data:",re),fe.error("Failed to load required data")}})(),a()},[o,c,a]);const{register:I,control:_,handleSubmit:v,watch:P,setValue:L,formState:{errors:S}}=Ds({defaultValues:{invoiceDate:new Date().toISOString().split("T")[0],dueDate:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],items:[{product:"",description:"",quantity:1,unitPrice:0}],taxRate:0,notes:"Thank you for your business!"}}),{fields:C,append:O,remove:z}=Gf({control:_,name:"items"}),Z=P("items"),q=P("taxRate"),R=Z.reduce((Y,re)=>Y+re.quantity*re.unitPrice,0),X=parseFloat(q.toString())/100,$=R*X,J=R+$,se=[...i].sort((Y,re)=>Y.name.localeCompare(re.name)).filter(Y=>Y.name.toLowerCase().includes(g.toLowerCase())||Y.email&&Y.email.toLowerCase().includes(g.toLowerCase())||Y.phone&&Y.phone.includes(g)),M=[...l].filter(Y=>Y.name.toLowerCase().includes(j.toLowerCase())||Y.sku.toLowerCase().includes(j.toLowerCase())||Y.category&&Y.category.toLowerCase().includes(j.toLowerCase())),T=async(Y,re)=>{const ie=l.find(he=>he.id===re);ie&&(L(`items.${Y}.description`,ie.name),L(`items.${Y}.unitPrice`,ie.price))},B=async Y=>{Y.preventDefault();try{if(!A.name||!A.sku){fe.error("Product name and SKU are required");return}const re=await d(A);fe.success("Product created successfully"),m(!1),E({name:"",sku:"SKU-",description:"",price:0,cost:0,stock:0,category:""});const ie=C.length-1;L(`items.${ie}.product`,re.id),L(`items.${ie}.description`,re.name),L(`items.${ie}.unitPrice`,re.price)}catch(re){console.error("Error creating product:",re),fe.error("Failed to create product")}},K=async Y=>{try{if(!Y.customer&&!Y.newCustomer?.name)throw new Error("Please select a customer or create a new one");if(!Y.items?.length)throw new Error("Please add at least one item");Y.items.forEach((ie,he)=>{if(!ie.description)throw new Error(`Please enter a description for item ${he+1}`);if(!ie.quantity||ie.quantity<=0)throw new Error(`Please enter a valid quantity for item ${he+1}`);if(!ie.unitPrice||ie.unitPrice<=0)throw new Error(`Please enter a valid price for item ${he+1}`)});const re=await e(Y);fe.success("Invoice has been created"),t("/invoices")}catch(re){console.error("Error creating invoice:",re),fe.error(re instanceof Error?re.message:"Failed to create invoice")}};return r.jsxs("div",{className:`space-y-6 ${b?"mobile-form-screen":""}`,children:[r.jsxs("div",{className:`flex items-center space-x-4 ${b?"mobile-form-header":""}`,children:[r.jsx(de,{to:"/invoices",className:"btn btn-secondary p-2",children:r.jsx(ss,{size:20})}),r.jsx("h1",{className:"text-2xl font-bold text-white",children:"Create New Invoice"})]}),n&&r.jsx("div",{className:"bg-red-900/50 border border-red-800 text-red-300 px-4 py-3 rounded-md",children:n}),r.jsxs("form",{onSubmit:v(K),className:`${b?"mobile-form-content pb-24":"space-y-6"}`,children:[r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 card bg-dark-800 border border-dark-700",children:[r.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Invoice Details"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Customer"}),u?r.jsxs("div",{className:"space-y-4 border border-dark-600 rounded-md p-4 bg-dark-700/50",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-md font-medium text-white",children:"New Customer Details"}),r.jsx("button",{type:"button",onClick:()=>h(!1),className:"text-gray-400 hover:text-white text-sm",children:"Cancel"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"customerName",className:"block text-sm font-medium text-gray-300 mb-1",children:["Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{id:"customerName",type:"text",className:"input",placeholder:"Customer name",...I("newCustomer.name",{required:"Customer name is required"})}),S.newCustomer?.name&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:S.newCustomer.name.message})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"customerEmail",className:"block text-sm font-medium text-gray-300 mb-1",children:["Email ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{id:"customerEmail",type:"email",className:"input",placeholder:"customer@example.com",...I("newCustomer.email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})}),S.newCustomer?.email&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:S.newCustomer.email.message})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"customerPhone",className:"block text-sm font-medium text-gray-300 mb-1",children:"Phone"}),r.jsx("input",{id:"customerPhone",type:"text",className:"input",placeholder:"(555) 123-4567",...I("newCustomer.phone")})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"customerType",className:"block text-sm font-medium text-gray-300 mb-1",children:["Type ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{id:"customerType",className:"input",...I("newCustomer.type",{required:"Customer type is required"}),children:[r.jsx("option",{value:"Individual",children:"Individual"}),r.jsx("option",{value:"Business",children:"Business"}),r.jsx("option",{value:"Government",children:"Government"}),r.jsx("option",{value:"Non-Profit",children:"Non-Profit"})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"customerCompany",className:"block text-sm font-medium text-gray-300 mb-1",children:"Company"}),r.jsx("input",{id:"customerCompany",type:"text",className:"input",placeholder:"Company name",...I("newCustomer.company")})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"customerTitle",className:"block text-sm font-medium text-gray-300 mb-1",children:"Title"}),r.jsx("input",{id:"customerTitle",type:"text",className:"input",placeholder:"Job title",...I("newCustomer.title")})]}),r.jsxs("div",{className:"col-span-2",children:[r.jsx("label",{htmlFor:"customerAddress",className:"block text-sm font-medium text-gray-300 mb-1",children:"Address"}),r.jsx("input",{id:"customerAddress",type:"text",className:"input",placeholder:"123 Business St, City",...I("newCustomer.address")})]})]})]}):r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(er,{size:16,className:"text-gray-400"})}),r.jsx("input",{type:"text",className:"input pl-10",placeholder:"Search customers...",value:g,onChange:Y=>x(Y.target.value)})]}),r.jsxs("button",{type:"button",onClick:()=>h(!0),className:"btn btn-secondary flex items-center space-x-2",children:[r.jsx(ra,{size:16}),r.jsx("span",{children:"New Customer"})]})]}),r.jsx("div",{className:"relative",children:r.jsxs("select",{className:"input",...I("customer",{required:!u}),children:[r.jsx("option",{value:"",children:"Select a customer"}),se.map(Y=>r.jsxs("option",{value:Y.id,children:[Y.name," ",Y.email?`(${Y.email})`:""]},Y.id))]})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"invoiceDate",className:"block text-sm font-medium text-gray-300 mb-1",children:"Invoice Date"}),r.jsx("input",{type:"date",id:"invoiceDate",className:"input",...I("invoiceDate",{required:"Invoice date is required"})}),S.invoiceDate&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:S.invoiceDate.message})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"dueDate",className:"block text-sm font-medium text-gray-300 mb-1",children:"Due Date"}),r.jsx("input",{type:"date",id:"dueDate",className:"input",...I("dueDate",{required:"Due date is required"})}),S.dueDate&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:S.dueDate.message})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"taxRate",className:"block text-sm font-medium text-gray-300 mb-1",children:"Tax Rate (%)"}),r.jsx("input",{type:"number",id:"taxRate",className:"input",min:"0",max:"100",step:"0.01",placeholder:"Enter tax rate percentage (e.g., 12 for 12%)",...I("taxRate",{required:"Tax rate is required",min:{value:0,message:"Tax rate cannot be negative"},max:{value:100,message:"Tax rate cannot exceed 100%"},valueAsNumber:!0})}),S.taxRate&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:S.taxRate.message})]})]})]}),r.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[r.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Notes"}),r.jsx("div",{children:r.jsx("textarea",{rows:5,className:"input",placeholder:"Add notes to the customer...",...I("notes")})})]})]}),r.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-white",children:"Invoice Items"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{type:"button",onClick:()=>m(!0),className:"btn btn-secondary flex items-center space-x-2",children:[r.jsx(cr,{size:16}),r.jsx("span",{children:"New Product"})]}),r.jsxs("button",{type:"button",onClick:()=>O({product:"",description:"",quantity:1,unitPrice:0}),className:"btn btn-secondary flex items-center space-x-2",children:[r.jsx(as,{size:16}),r.jsx("span",{children:"Add Item"})]})]})]}),f&&r.jsxs("div",{className:"mb-6 p-4 border border-dark-600 rounded-lg bg-dark-700/50",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-md font-medium text-white",children:"New Product"}),r.jsx("button",{type:"button",onClick:()=>m(!1),className:"text-gray-400 hover:text-white text-sm",children:"Cancel"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:["Product Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",className:"input",value:A.name,onChange:Y=>E({...A,name:Y.target.value}),placeholder:"Product name"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:["SKU ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",className:"input",value:A.sku,onChange:Y=>E({...A,sku:Y.target.value}),placeholder:"SKU-12345"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:["Price ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"number",className:"input",value:A.price,onChange:Y=>E({...A,price:parseFloat(Y.target.value)}),min:"0",step:"0.01"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Cost"}),r.jsx("input",{type:"number",className:"input",value:A.cost,onChange:Y=>E({...A,cost:parseFloat(Y.target.value)}),min:"0",step:"0.01"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Initial Stock"}),r.jsx("input",{type:"number",className:"input",value:A.stock,onChange:Y=>E({...A,stock:parseInt(Y.target.value)}),min:"0"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Category"}),r.jsx("input",{type:"text",className:"input",value:A.category,onChange:Y=>E({...A,category:Y.target.value}),placeholder:"Category"})]}),r.jsxs("div",{className:"col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Description"}),r.jsx("textarea",{className:"input",value:A.description,onChange:Y=>E({...A,description:Y.target.value}),placeholder:"Product description",rows:3})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{type:"button",onClick:B,className:"btn btn-primary",children:"Create Product"})})]}),r.jsx("div",{className:"mb-4",children:r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(er,{size:16,className:"text-gray-400"})}),r.jsx("input",{type:"text",className:"input pl-10",placeholder:"Search products...",value:j,onChange:Y=>y(Y.target.value)})]})}),r.jsx("div",{className:`overflow-x-auto ${b?"mobile-table":""}`,children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-dark-700",children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Product"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Description"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Quantity"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Unit Price"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Total"}),r.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-dark-700",children:C.map((Y,re)=>r.jsxs("tr",{className:"hover:bg-dark-700/50",children:[r.jsx("td",{className:"px-4 py-4","data-label":"Product",children:r.jsxs("select",{className:"input",...I(`items.${re}.product`),onChange:ie=>T(re,ie.target.value),children:[r.jsx("option",{value:"",children:"Select a product"}),M.map(ie=>r.jsxs("option",{value:ie.id,children:[ie.name," (",ie.sku,")"]},ie.id))]})}),r.jsxs("td",{className:"px-4 py-4","data-label":"Description",children:[r.jsx("input",{type:"text",className:"input",placeholder:"Description",...I(`items.${re}.description`,{required:"Description is required"})}),S.items?.[re]?.description&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:S.items[re]?.description?.message})]}),r.jsxs("td",{className:"px-4 py-4","data-label":"Quantity",children:[r.jsx("input",{type:"number",min:"1",className:"input text-right",...I(`items.${re}.quantity`,{required:"Quantity is required",min:{value:1,message:"Minimum quantity is 1"},valueAsNumber:!0})}),S.items?.[re]?.quantity&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:S.items[re]?.quantity?.message})]}),r.jsxs("td",{className:"px-4 py-4","data-label":"Unit Price",children:[r.jsx("input",{type:"number",min:"0",step:"0.01",className:"input text-right",...I(`items.${re}.unitPrice`,{required:"Unit price is required",min:{value:0,message:"Minimum price is 0"},valueAsNumber:!0})}),S.items?.[re]?.unitPrice&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:S.items[re]?.unitPrice?.message})]}),r.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-right text-sm font-medium text-white","data-label":"Total",children:["$",(Z[re]?.quantity*Z[re]?.unitPrice||0).toFixed(2)]}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:r.jsx("button",{type:"button",onClick:()=>z(re),disabled:C.length===1,className:`text-gray-400 hover:text-red-500 ${C.length===1?"opacity-50 cursor-not-allowed":""}`,children:r.jsx(Ys,{size:16})})})]},Y.id))}),r.jsxs("tfoot",{children:[r.jsxs("tr",{className:"bg-dark-700/50",children:[r.jsx("td",{colSpan:4,className:"px-4 py-3 text-right text-sm font-medium text-gray-300",children:"Subtotal"}),r.jsxs("td",{className:"px-4 py-3 text-right text-sm font-medium text-white",children:["$",R.toFixed(2)]}),r.jsx("td",{})]}),r.jsxs("tr",{className:"bg-dark-700/50",children:[r.jsxs("td",{colSpan:4,className:"px-4 py-3 text-right text-sm font-medium text-gray-300",children:["Tax (",(X*100).toFixed(2),"%)"]}),r.jsxs("td",{className:"px-4 py-3 text-right text-sm font-medium text-white",children:["$",$.toFixed(2)]}),r.jsx("td",{})]}),r.jsxs("tr",{className:"bg-dark-700",children:[r.jsx("td",{colSpan:4,className:"px-4 py-3 text-right text-sm font-medium text-gray-300",children:"Total"}),r.jsxs("td",{className:"px-4 py-3 text-right text-base font-bold text-white",children:["$",J.toFixed(2)]}),r.jsx("td",{})]})]})]})})]}),r.jsx("div",{className:`${b?"mobile-form-footer":"flex justify-end"}`,children:r.jsx("button",{type:"submit",className:`btn btn-primary flex items-center justify-center space-x-2 ${b?"w-full":""}`,disabled:s,children:s?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white"}),r.jsx("span",{children:"Creating..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(oa,{size:16}),r.jsx("span",{children:"Create Invoice"})]})})})]})]})},H2=()=>{const{id:t}=Mn(),e=Qt(),{getInvoiceById:s,updateInvoice:n,loading:a,error:i,clearError:o}=ho(),{customers:l,fetchCustomers:c,updateCustomer:d}=On(),{products:u,fetchProducts:h}=xn(),[f,m]=U.useState(!1),[g,x]=U.useState(""),[j,y]=U.useState(""),[b,k]=U.useState(null),{register:A,control:E,handleSubmit:I,watch:_,setValue:v,reset:P,formState:{errors:L}}=Ds();U.useEffect(()=>{(async()=>{try{if(t){const B=await s(t);B?(k(B),P({customer:B.customer_id,invoiceDate:B.date.split("T")[0],dueDate:B.due_date.split("T")[0],taxRate:B.tax_rate*100,notes:B.notes||"",items:B.items.map(K=>({product:K.product_id||"",description:K.description,quantity:K.quantity,unitPrice:K.unit_price}))})):(fe.error("Invoice not found"),e("/invoices"))}await Promise.all([c(),h()])}catch{fe.error("Failed to load data")}})()},[t,s,c,h,e,P]);const{fields:S,append:C,remove:O}=Gf({control:E,name:"items"}),z=_("items"),Z=_("taxRate"),q=z?.reduce((T,B)=>T+B.quantity*B.unitPrice,0)||0,R=parseFloat(Z?.toString()||"0")/100,X=q*R,$=q+X;[...l].sort((T,B)=>T.name.localeCompare(B.name)).filter(T=>T.name.toLowerCase().includes(g.toLowerCase())||T.email&&T.email.toLowerCase().includes(g.toLowerCase())||T.phone&&T.phone.includes(g));const J=[...u].filter(T=>T.name.toLowerCase().includes(j.toLowerCase())||T.sku.toLowerCase().includes(j.toLowerCase())||T.category&&T.category.toLowerCase().includes(j.toLowerCase())),se=(T,B)=>{const K=u.find(Y=>Y.id===B);K&&(v(`items.${T}.description`,K.name),v(`items.${T}.unitPrice`,K.price))},M=async T=>{if(!(!t||!b)){o();try{let B=!1;if(T.newCustomer){const be=b.customer_id;if(be){const Fe={name:T.newCustomer.name,email:T.newCustomer.email,phone:T.newCustomer.phone,address:T.newCustomer.address};await d(be,Fe),B=!0}}const K=T.items.map(be=>({product_id:be.product||null,description:be.description,quantity:be.quantity,unit_price:be.unitPrice,total:be.quantity*be.unitPrice})),Y=K.reduce((be,Fe)=>be+Fe.total,0),re=parseFloat(T.taxRate.toString())/100,ie=Y*re,he=Y+ie,Ce=await n(t,{date:T.invoiceDate,due_date:T.dueDate,items:K,subtotal:Y,tax_rate:re,tax:ie,total:he,notes:T.notes,customer_email:T.newCustomer?.email,customer_address:T.newCustomer?.address});B?fe.success("Invoice and customer information updated successfully!"):fe.success("Invoice updated successfully!"),e(`/invoices/${t}`)}catch(B){console.error("Error updating invoice:",B),fe.error("Failed to update invoice. Please try again.")}}};return a||!b?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-400",children:"Loading invoice details..."})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(de,{to:`/invoices/${t}`,className:"btn btn-secondary p-2",children:r.jsx(ss,{size:20})}),r.jsxs("h1",{className:"text-2xl font-bold text-white",children:["Edit Invoice ",b.invoice_number]})]}),i&&r.jsx("div",{className:"bg-red-900/50 border border-red-800 text-red-300 px-4 py-3 rounded-md",children:i}),r.jsxs("form",{onSubmit:I(M),className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 card bg-dark-800 border border-dark-700",children:[r.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Invoice Details"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Customer"}),f?r.jsxs("div",{className:"space-y-4 border border-dark-600 rounded-md p-4 bg-dark-700/50",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-md font-medium text-white",children:"Edit Customer Details"}),r.jsx("button",{type:"button",onClick:()=>m(!1),className:"text-gray-400 hover:text-white text-sm",children:"Cancel"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"customerName",className:"block text-sm font-medium text-gray-300 mb-1",children:"Name"}),r.jsx("input",{id:"customerName",type:"text",className:"input",placeholder:"Customer name",defaultValue:b.customer_name,...A("newCustomer.name")})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"customerEmail",className:"block text-sm font-medium text-gray-300 mb-1",children:"Email"}),r.jsx("input",{id:"customerEmail",type:"email",className:"input",placeholder:"customer@example.com",defaultValue:b.customer_email||"",...A("newCustomer.email",{pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})}),L.newCustomer?.email&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:L.newCustomer.email.message})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"customerPhone",className:"block text-sm font-medium text-gray-300 mb-1",children:"Phone"}),r.jsx("input",{id:"customerPhone",type:"text",className:"input",placeholder:"(555) 123-4567",...A("newCustomer.phone")})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"customerAddress",className:"block text-sm font-medium text-gray-300 mb-1",children:"Address"}),r.jsx("input",{id:"customerAddress",type:"text",className:"input",placeholder:"123 Business St, City",defaultValue:b.customer_address||"",...A("newCustomer.address")})]})]})]}):r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(er,{size:16,className:"text-gray-400"})}),r.jsx("input",{type:"text",className:"input pl-10",placeholder:"Search customers...",value:g,onChange:T=>x(T.target.value)})]}),r.jsxs("button",{type:"button",onClick:()=>m(!0),className:"btn btn-secondary flex items-center space-x-2",children:[r.jsx(ra,{size:16}),r.jsx("span",{children:"Edit Customer"})]})]}),r.jsx("div",{className:"relative",children:r.jsx("select",{className:"input",...A("customer"),disabled:!0,children:r.jsx("option",{value:b.customer_id,children:b.customer_name})})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"invoiceDate",className:"block text-sm font-medium text-gray-300 mb-1",children:"Invoice Date"}),r.jsx("input",{type:"date",id:"invoiceDate",className:"input",...A("invoiceDate",{required:"Invoice date is required"})}),L.invoiceDate&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:L.invoiceDate.message})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"dueDate",className:"block text-sm font-medium text-gray-300 mb-1",children:"Due Date"}),r.jsx("input",{type:"date",id:"dueDate",className:"input",...A("dueDate",{required:"Due date is required"})}),L.dueDate&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:L.dueDate.message})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"taxRate",className:"block text-sm font-medium text-gray-300 mb-1",children:"Tax Rate (%)"}),r.jsx("input",{type:"number",id:"taxRate",className:"input",min:"0",max:"100",step:"0.01",placeholder:"Enter tax rate percentage (e.g., 12 for 12%)",...A("taxRate",{required:"Tax rate is required",min:{value:0,message:"Tax rate cannot be negative"},max:{value:100,message:"Tax rate cannot exceed 100%"},valueAsNumber:!0})}),L.taxRate&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:L.taxRate.message})]})]})]}),r.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[r.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Notes"}),r.jsx("div",{children:r.jsx("textarea",{rows:5,className:"input",placeholder:"Add notes to the customer...",...A("notes")})})]})]}),r.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-white",children:"Invoice Items"}),r.jsxs("button",{type:"button",onClick:()=>C({product:"",description:"",quantity:1,unitPrice:0}),className:"btn btn-secondary flex items-center space-x-2",children:[r.jsx(as,{size:16}),r.jsx("span",{children:"Add Item"})]})]}),r.jsx("div",{className:"mb-4",children:r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(er,{size:16,className:"text-gray-400"})}),r.jsx("input",{type:"text",className:"input pl-10",placeholder:"Search products...",value:j,onChange:T=>y(T.target.value)})]})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-dark-700",children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Product"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Description"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Quantity"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Unit Price"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Total"}),r.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-dark-700",children:S.map((T,B)=>r.jsxs("tr",{className:"hover:bg-dark-700/50",children:[r.jsx("td",{className:"px-4 py-4",children:r.jsxs("select",{className:"input",...A(`items.${B}.product`),onChange:K=>se(B,K.target.value),children:[r.jsx("option",{value:"",children:"Select a product"}),J.map(K=>r.jsxs("option",{value:K.id,children:[K.name," (",K.sku,")"]},K.id))]})}),r.jsxs("td",{className:"px-4 py-4",children:[r.jsx("input",{type:"text",className:"input",placeholder:"Description",...A(`items.${B}.description`,{required:"Description is required"})}),L.items?.[B]?.description&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:L.items[B]?.description?.message})]}),r.jsxs("td",{className:"px-4 py-4",children:[r.jsx("input",{type:"number",min:"1",className:"input text-right",...A(`items.${B}.quantity`,{required:"Quantity is required",min:{value:1,message:"Minimum quantity is 1"},valueAsNumber:!0})}),L.items?.[B]?.quantity&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:L.items[B]?.quantity?.message})]}),r.jsxs("td",{className:"px-4 py-4",children:[r.jsx("input",{type:"number",min:"0",step:"0.01",className:"input text-right",...A(`items.${B}.unitPrice`,{required:"Unit price is required",min:{value:0,message:"Minimum price is 0"},valueAsNumber:!0})}),L.items?.[B]?.unitPrice&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:L.items[B]?.unitPrice?.message})]}),r.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-right text-sm font-medium text-white",children:["$",(z[B]?.quantity*z[B]?.unitPrice||0).toFixed(2)]}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:r.jsx("button",{type:"button",onClick:()=>O(B),disabled:S.length===1,className:`text-gray-400 hover:text-red-500 ${S.length===1?"opacity-50 cursor-not-allowed":""}`,children:r.jsx(Ys,{size:16})})})]},T.id))}),r.jsxs("tfoot",{children:[r.jsxs("tr",{className:"bg-dark-700/50",children:[r.jsx("td",{colSpan:4,className:"px-4 py-3 text-right text-sm font-medium text-gray-300",children:"Subtotal"}),r.jsxs("td",{className:"px-4 py-3 text-right text-sm font-medium text-white",children:["$",q.toFixed(2)]}),r.jsx("td",{})]}),r.jsxs("tr",{className:"bg-dark-700/50",children:[r.jsxs("td",{colSpan:4,className:"px-4 py-3 text-right text-sm font-medium text-gray-300",children:["Tax (",parseFloat(Z?.toString()||"0").toFixed(2),"%)"]}),r.jsxs("td",{className:"px-4 py-3 text-right text-sm font-medium text-white",children:["$",X.toFixed(2)]}),r.jsx("td",{})]}),r.jsxs("tr",{className:"bg-dark-700",children:[r.jsx("td",{colSpan:4,className:"px-4 py-3 text-right text-sm font-medium text-gray-300",children:"Total"}),r.jsxs("td",{className:"px-4 py-3 text-right text-base font-bold text-white",children:["$",$.toFixed(2)]}),r.jsx("td",{})]})]})]})})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{type:"submit",className:"btn btn-primary flex items-center space-x-2",disabled:a,children:a?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white"}),r.jsx("span",{children:"Saving..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(oa,{size:16}),r.jsx("span",{children:"Update Invoice"})]})})})]})]})},Md={async getQuotes(){try{const{data:t,error:e}=await Ae.from("quotes").select("*").order("created_at",{ascending:!1});if(e)throw console.error("Error fetching quotes:",e),e;return t||[]}catch(t){throw console.error("Quote service error:",t),t}},async getQuoteById(t){try{const{data:e,error:s}=await Ae.from("quotes").select("*").eq("id",t).single();if(s)throw console.error("Error fetching quote:",s),s;return e}catch(e){throw console.error("Quote service error:",e),e}},async generateQuoteNumber(){try{const{data:t}=await Ae.auth.getUser();if(!t?.user)throw new Error("User not authenticated");const{data:e,error:s}=await Ae.from("quotes").select("quote_number").eq("user_id",t.user.id).order("quote_number",{ascending:!1}).limit(1);if(s)throw console.error("Error fetching quote numbers:",s),s;let n=1;if(e&&e.length>0){const o=e[0].quote_number.match(/QUO-(\d+)/);o&&o[1]&&(n=parseInt(o[1],10)+1)}return`QUO-${n.toString().padStart(6,"0")}`}catch(t){console.error("Error generating quote number:",t);const e=new Date().getTime(),s=Math.floor(Math.random()*1e3);return`QUO-${e.toString().slice(-6)}-${s}`}},async createQuote(t){try{const{data:e}=await Ae.auth.getUser();if(!e?.user)throw new Error("User not authenticated");let s=t.customer||null,n="",a=null,i=null;if(t.newCustomer&&!s){const{data:u,error:h}=await Ae.from("customers").insert([{name:t.newCustomer.name,email:t.newCustomer.email,address:t.newCustomer.address,user_id:e.user.id,status:"Active",total_spent:0}]).select().single();if(h)throw h;s=u.id,n=u.name,a=u.email,i=u.address}else if(s){const{data:u}=await Ae.from("customers").select("name, email, address").eq("id",s).single();u&&(n=u.name,a=u.email,i=u.address)}let o=0;const l=3;let c=null,d=null;for(;o<l;)try{const u=await this.generateQuoteNumber(),h=t.items.map(b=>({product_id:b.product||null,description:b.description,quantity:b.quantity,unit_price:b.unit_price,total:b.quantity*b.unit_price})),f=h.reduce((b,k)=>b+k.total,0),m=parseFloat(t.tax_rate.toString())/100,g=f*m,x=f+g,j={quote_number:u,customer_id:s,customer_name:n,customer_email:a,customer_address:i,date:t.date,expiry_date:t.expiry_date,items:h,subtotal:f,tax_rate:m,tax:g,total:x,notes:t.notes||null,message:t.message||null,status:"Draft",user_id:e.user.id},y=await Ae.from("quotes").insert([j]).select().single();if(y.error){if(y.error.code==="23505"&&y.error.message.includes("quotes_quote_number_key")){o++,c=y.error;continue}throw y.error}d=y.data;break}catch(u){if(o>=l-1)throw u;o++,c=u}if(!d&&c)throw c;return d}catch(e){throw console.error("Quote service error:",e),e}},async updateQuoteStatus(t,e){try{const{data:s,error:n}=await Ae.from("quotes").update({status:e}).eq("id",t).select().single();if(n)throw console.error("Error updating quote status:",n),n;return s}catch(s){throw console.error("Quote service error:",s),s}},async deleteQuote(t){try{const{error:e}=await Ae.from("quotes").delete().eq("id",t);if(e)throw console.error("Error deleting quote:",e),e}catch(e){throw console.error("Quote service error:",e),e}}},jp=Jr((t,e)=>({quotes:[],loading:!1,error:null,clearError:()=>t({error:null}),fetchQuotes:async()=>{t({loading:!0,error:null});try{const s=await Md.getQuotes();t({quotes:s,loading:!1})}catch(s){console.error("Error in fetchQuotes:",s),t({error:s.message||"Failed to fetch quotes",loading:!1})}},getQuoteById:async s=>{t({loading:!0,error:null});try{const n=await Md.getQuoteById(s);return t({loading:!1}),n}catch(n){return console.error("Error in getQuoteById:",n),t({error:n.message||"Failed to fetch quote details",loading:!1}),null}},createQuote:async s=>{t({loading:!0,error:null});try{const n=await Md.createQuote(s),a=[...e().quotes,n];return t({quotes:a,loading:!1}),n}catch(n){throw console.error("Error in createQuote:",n),t({error:n.message||"Failed to create quote",loading:!1}),n}},updateQuoteStatus:async(s,n)=>{t({loading:!0,error:null});try{const a=await Md.updateQuoteStatus(s,n),i=e().quotes.map(o=>o.id===s?a:o);return t({quotes:i,loading:!1}),a}catch(a){throw console.error("Error in updateQuoteStatus:",a),t({error:a.message||"Failed to update quote status",loading:!1}),a}},deleteQuote:async s=>{t({loading:!0,error:null});try{await Md.deleteQuote(s);const n=e().quotes.filter(a=>a.id!==s);t({quotes:n,loading:!1})}catch(n){throw console.error("Error in deleteQuote:",n),t({error:n.message||"Failed to delete quote",loading:!1}),n}}})),l3=({status:t})=>{let e="",s="";switch(t){case"Draft":e="bg-gray-700/30",s="text-gray-400";break;case"Sent":e="bg-blue-900/30",s="text-blue-400";break;case"Accepted":e="bg-green-900/30",s="text-green-400";break;case"Declined":e="bg-red-900/30",s="text-red-400";break;case"Expired":e="bg-yellow-900/30",s="text-yellow-400";break;default:e="bg-gray-700/30",s="text-gray-400"}return r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${e} ${s}`,children:t})},oG=()=>{const{quotes:t,loading:e,error:s,fetchQuotes:n,deleteQuote:a}=jp(),[i,o]=U.useState(""),[l,c]=U.useState([]),[d,u]=U.useState("all"),[h,f]=U.useState(!1),[m,g]=U.useState(null);U.useEffect(()=>{n().catch(E=>{fe.error("Failed to load quotes")})},[n]);const x=t.filter(E=>{const I=E.quote_number?.toLowerCase().includes(i.toLowerCase())||E.customer_name?.toLowerCase().includes(i.toLowerCase()),_=d==="all"||E.status===d;return I&&_}),j=()=>{l.length===x.length?c([]):c(x.map(E=>E.id))},y=E=>{l.includes(E)?c(l.filter(I=>I!==E)):c([...l,E])},b=async E=>{g(E)},k=async()=>{if(m)try{await a(m),fe.success("Quote deleted successfully"),g(null)}catch{fe.error("Failed to delete quote")}},A=async E=>{const I=E.target.files?.[0];if(I){f(!0);try{const _=await I.text();fl.parse(_,{header:!0,skipEmptyLines:!0,complete:async v=>{const{data:P,errors:L}=v;if(L.length>0){fe.error("Error parsing CSV file"),console.error("CSV parsing errors:",L);return}let S=0,C=0;for(const O of P)try{const z={customer_name:O.customer_name,customer_email:O.customer_email,date:O.date,expiry_date:O.expiry_date,items:JSON.parse(O.items||"[]"),tax_rate:parseFloat(O.tax_rate)||0,notes:O.notes,message:O.message};S++}catch(z){console.error("Error importing quote:",z),C++}fe.success(`Imported ${S} quotes successfully${C>0?` (${C} failed)`:""}`)}})}catch(_){console.error("File upload error:",_),fe.error("Failed to upload file")}finally{f(!1),E.target.value=""}}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h1",{className:"text-2xl font-bold text-white",children:"Quotes"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("div",{className:"relative hidden md:block",children:[r.jsx("input",{type:"file",accept:".csv",onChange:A,className:"hidden",id:"csv-upload",disabled:h}),r.jsxs("label",{htmlFor:"csv-upload",className:"btn btn-secondary flex items-center space-x-2 cursor-pointer",children:[r.jsx(En,{size:16,className:h?"animate-bounce":""}),r.jsx("span",{children:h?"Importing...":"Import CSV"})]})]}),r.jsxs(de,{to:"/quotes/create",className:"btn btn-primary flex items-center space-x-2",children:[r.jsx(as,{size:16}),r.jsx("span",{children:"Create Quote"})]})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(er,{size:18,className:"text-gray-400"})}),r.jsx("input",{type:"text",placeholder:"Search quotes...",className:"input pl-10",value:i,onChange:E=>o(E.target.value)})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("select",{className:"bg-dark-800 border border-dark-700 text-white rounded-md px-3 py-2",value:d,onChange:E=>u(E.target.value),children:[r.jsx("option",{value:"all",children:"All Statuses"}),r.jsx("option",{value:"Draft",children:"Draft"}),r.jsx("option",{value:"Sent",children:"Sent"}),r.jsx("option",{value:"Accepted",children:"Accepted"}),r.jsx("option",{value:"Declined",children:"Declined"}),r.jsx("option",{value:"Expired",children:"Expired"})]}),r.jsxs("button",{className:"btn btn-secondary flex items-center space-x-2",children:[r.jsx(lr,{size:16}),r.jsx("span",{children:"Export"})]})]})]}),s&&r.jsx("div",{className:"bg-red-900/50 border border-red-800 text-red-300 px-4 py-3 rounded-md",children:s}),e&&r.jsxs("div",{className:"text-center py-4",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-500 mx-auto"}),r.jsx("p",{className:"mt-2 text-gray-400",children:"Loading quotes..."})]}),r.jsxs("div",{className:"bg-dark-800 rounded-lg border border-dark-700 overflow-hidden",children:[!e&&x.length>0?r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-dark-700",children:[r.jsx("th",{className:"px-4 py-3 text-left",children:r.jsx("div",{className:"flex items-center",children:r.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-600 bg-dark-800 text-primary-600 focus:ring-primary-500",checked:l.length===x.length&&x.length>0,onChange:j})})}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Quote #"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Customer"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Date"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Expiry Date"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Amount"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-dark-700",children:x.map(E=>r.jsxs("tr",{className:"hover:bg-dark-700/50",children:[r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-600 bg-dark-800 text-primary-600 focus:ring-primary-500",checked:l.includes(E.id),onChange:()=>y(E.id)})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsx(de,{to:`/quotes/${E.id}`,className:"text-white font-medium hover:text-primary-400",children:E.quote_number})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsx("span",{className:"text-sm text-gray-300",children:E.customer_name})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:E.date?new Date(E.date).toLocaleDateString():"-"}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:E.expiry_date?new Date(E.expiry_date).toLocaleDateString():"-"}),r.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:["$",E.total.toLocaleString()]}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsx(l3,{status:E.status})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-right text-sm font-medium",children:r.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[r.jsx(de,{to:`/quotes/${E.id}`,className:"text-gray-400 hover:text-white",children:r.jsx(Pn,{size:16})}),r.jsx(de,{to:`/quotes/${E.id}/edit`,className:"text-gray-400 hover:text-white",children:r.jsx(Or,{size:16})}),r.jsx("button",{className:"text-gray-400 hover:text-red-500",onClick:()=>b(E.id),children:r.jsx(Ys,{size:16})})]})})]},E.id))})]})}):!e&&r.jsx("div",{className:"text-center py-12",children:r.jsxs("div",{className:"flex flex-col items-center justify-center",children:[r.jsx(wt,{size:48,className:"text-gray-600 mb-4"}),r.jsx("p",{className:"text-gray-400 text-lg mb-2",children:"No quotes found"}),r.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Get started by creating your first quote"}),r.jsxs(de,{to:"/quotes/create",className:"btn btn-primary flex items-center space-x-2",children:[r.jsx(as,{size:16}),r.jsx("span",{children:"Create Quote"})]})]})}),x.length>0&&r.jsxs("div",{className:"bg-dark-800 px-4 py-3 flex items-center justify-between border-t border-dark-700",children:[r.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[r.jsx("button",{className:"btn btn-secondary",children:"Previous"}),r.jsx("button",{className:"btn btn-secondary",children:"Next"})]}),r.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[r.jsx("div",{children:r.jsxs("p",{className:"text-sm text-gray-400",children:["Showing ",r.jsx("span",{className:"font-medium",children:"1"})," to ",r.jsx("span",{className:"font-medium",children:x.length})," of"," ",r.jsx("span",{className:"font-medium",children:x.length})," results"]})}),r.jsx("div",{children:r.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[r.jsxs("button",{className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-dark-600 bg-dark-700 text-sm font-medium text-gray-400 hover:bg-dark-600",children:[r.jsx("span",{className:"sr-only",children:"Previous"}),r.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:r.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),r.jsx("button",{className:"relative inline-flex items-center px-4 py-2 border border-dark-600 bg-dark-700 text-sm font-medium text-gray-400 hover:bg-dark-600",children:"1"}),r.jsxs("button",{className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-dark-600 bg-dark-700 text-sm font-medium text-gray-400 hover:bg-dark-600",children:[r.jsx("span",{className:"sr-only",children:"Next"}),r.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:r.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})})]})]})]}),r.jsx(Lc,{isOpen:!!m,onClose:()=>g(null),onConfirm:k,title:"Delete item?",message:"Are you sure?",confirmButtonText:"Delete",cancelButtonText:"Cancel",isDanger:!0})]})},lG=()=>{const t=Qt(),{createQuote:e,loading:s,error:n,clearError:a}=jp(),{customers:i,fetchCustomers:o,loading:l,error:c}=On(),{products:d,fetchProducts:u,loading:h,error:f}=xn(),[m,g]=U.useState(!1),[x,j]=U.useState(""),[y,b]=U.useState(""),{register:k,control:A,handleSubmit:E,watch:I,setValue:_,formState:{errors:v}}=Ds({defaultValues:{date:new Date().toISOString().split("T")[0],expiry_date:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],items:[{product:"",description:"",quantity:1,unit_price:0}],tax_rate:0,message:"Thank you for your interest in our products/services.",newCustomer:{name:"",email:"",phone:"",address:""}}});U.useEffect(()=>{o().catch(M=>{fe.error("Failed to load customers")}),u().catch(M=>{fe.error("Failed to load products")}),a()},[o,u,a]);const{fields:P,append:L,remove:S}=Gf({control:A,name:"items"}),C=I("items"),O=I("tax_rate"),z=C.reduce((M,T)=>M+T.quantity*T.unit_price,0),Z=parseFloat(O.toString())/100,q=z*Z,R=z+q,X=[...i].sort((M,T)=>M.name.localeCompare(T.name)).filter(M=>M.name.toLowerCase().includes(x.toLowerCase())||M.email&&M.email.toLowerCase().includes(x.toLowerCase())||M.phone&&M.phone.includes(x)),$=[...d].filter(M=>M.name.toLowerCase().includes(y.toLowerCase())||M.sku.toLowerCase().includes(y.toLowerCase())||M.category&&M.category.toLowerCase().includes(y.toLowerCase())),J=(M,T)=>{const B=d.find(K=>K.id===T);B&&(_(`items.${M}.description`,B.name),_(`items.${M}.unit_price`,B.price))},se=async M=>{a();try{if(!M.customer&&!M.newCustomer?.name)throw new Error("Please select a customer or create a new one");if(!M.items?.length)throw new Error("Please add at least one item");M.items.forEach((B,K)=>{if(!B.description)throw new Error(`Please enter a description for item ${K+1}`);if(!B.quantity||B.quantity<=0)throw new Error(`Please enter a valid quantity for item ${K+1}`);if(!B.unit_price||B.unit_price<=0)throw new Error(`Please enter a valid price for item ${K+1}`)});const T=await e(M);fe.success("Quote created successfully!"),t(`/quotes/${T.id}`)}catch(T){console.error("Error creating quote:",T),T instanceof Error?fe.error(T.message):fe.error("Failed to create quote. Please try again.")}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(de,{to:"/quotes",className:"btn btn-secondary p-2",children:r.jsx(ss,{size:20})}),r.jsx("h1",{className:"text-2xl font-bold text-white",children:"Create New Quote"})]}),n&&r.jsx("div",{className:"bg-red-900/50 border border-red-800 text-red-300 px-4 py-3 rounded-md",children:n}),r.jsxs("form",{onSubmit:E(se),className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 card bg-dark-800 border border-dark-700",children:[r.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Quote Details"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Customer"}),m?r.jsxs("div",{className:"space-y-4 border border-dark-600 rounded-md p-4 bg-dark-700/50",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-md font-medium text-white",children:"New Customer Details"}),r.jsx("button",{type:"button",onClick:()=>g(!1),className:"text-gray-400 hover:text-white text-sm",children:"Cancel"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"customerName",className:"block text-sm font-medium text-gray-300 mb-1",children:"Name"}),r.jsx("input",{id:"customerName",type:"text",className:"input",placeholder:"Customer name",...k("newCustomer.name",{required:m?"Customer name is required":!1})}),v.newCustomer?.name&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:v.newCustomer.name.message})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"customerEmail",className:"block text-sm font-medium text-gray-300 mb-1",children:"Email"}),r.jsx("input",{id:"customerEmail",type:"email",className:"input",placeholder:"customer@example.com",...k("newCustomer.email",{required:m?"Email is required":!1,pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})}),v.newCustomer?.email&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:v.newCustomer.email.message})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"customerPhone",className:"block text-sm font-medium text-gray-300 mb-1",children:"Phone"}),r.jsx("input",{id:"customerPhone",type:"text",className:"input",placeholder:"(555) 123-4567",...k("newCustomer.phone")})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"customerAddress",className:"block text-sm font-medium text-gray-300 mb-1",children:"Address"}),r.jsx("input",{id:"customerAddress",type:"text",className:"input",placeholder:"123 Business St, City",...k("newCustomer.address")})]})]})]}):r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(er,{size:16,className:"text-gray-400"})}),r.jsx("input",{type:"text",className:"input pl-10",placeholder:"Search customers...",value:x,onChange:M=>j(M.target.value)})]}),r.jsxs("button",{type:"button",onClick:()=>g(!0),className:"btn btn-secondary flex items-center space-x-2",children:[r.jsx(ra,{size:16}),r.jsx("span",{children:"New Customer"})]})]}),r.jsx("div",{className:"relative",children:l?r.jsxs("div",{className:"input flex items-center justify-center py-3",children:[r.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-primary-500"}),r.jsx("span",{className:"ml-2 text-gray-400",children:"Loading customers..."})]}):X.length>0?r.jsxs("select",{className:"input",...k("customer",{required:m?!1:"Customer is required"}),children:[r.jsx("option",{value:"",children:"Select a customer"}),X.map(M=>r.jsxs("option",{value:M.id,children:[M.name," ",M.email?`(${M.email})`:""]},M.id))]}):r.jsx("div",{className:"input flex items-center justify-between text-gray-400",children:r.jsx("span",{children:"No customers available"})})})]}),!m&&v.customer&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:v.customer.message})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-300 mb-1",children:"Quote Date"}),r.jsx("input",{type:"date",id:"date",className:"input",...k("date",{required:"Quote date is required"})}),v.date&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:v.date.message})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"expiry_date",className:"block text-sm font-medium text-gray-300 mb-1",children:"Expiry Date"}),r.jsx("input",{type:"date",id:"expiry_date",className:"input",...k("expiry_date",{required:"Expiry date is required"})}),v.expiry_date&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:v.expiry_date.message})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"tax_rate",className:"block text-sm font-medium text-gray-300 mb-1",children:"Tax Rate (%)"}),r.jsx("input",{type:"number",id:"tax_rate",className:"input",min:"0",max:"100",step:"0.01",placeholder:"Enter tax rate percentage (e.g., 12 for 12%)",...k("tax_rate",{required:"Tax rate is required",min:{value:0,message:"Tax rate cannot be negative"},max:{value:100,message:"Tax rate cannot exceed 100%"},valueAsNumber:!0})}),v.tax_rate&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:v.tax_rate.message})]})]})]}),r.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[r.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Message & Notes"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-300 mb-1",children:"Message to Customer"}),r.jsx("textarea",{id:"message",rows:4,className:"input",placeholder:"Add a message to the customer...",...k("message")})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-300 mb-1",children:"Internal Notes"}),r.jsx("textarea",{id:"notes",rows:4,className:"input",placeholder:"Add internal notes...",...k("notes")})]})]})]})]}),r.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-white",children:"Quote Items"}),r.jsxs("button",{type:"button",onClick:()=>L({product:"",description:"",quantity:1,unit_price:0}),className:"btn btn-secondary flex items-center space-x-2",children:[r.jsx(as,{size:16}),r.jsx("span",{children:"Add Item"})]})]}),r.jsx("div",{className:"mb-4",children:r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(er,{size:16,className:"text-gray-400"})}),r.jsx("input",{type:"text",className:"input pl-10",placeholder:"Search products...",value:y,onChange:M=>b(M.target.value)})]})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-dark-700",children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Product"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Description"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Quantity"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Unit Price"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Total"}),r.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-dark-700",children:P.map((M,T)=>r.jsxs("tr",{className:"hover:bg-dark-700/50",children:[r.jsx("td",{className:"px-4 py-4",children:h?r.jsx("div",{className:"flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-primary-500"})}):r.jsxs("select",{className:"input",...k(`items.${T}.product`),onChange:B=>J(T,B.target.value),children:[r.jsx("option",{value:"",children:"Select a product"}),$.map(B=>r.jsxs("option",{value:B.id,children:[B.name," (",B.sku,")"]},B.id))]})}),r.jsxs("td",{className:"px-4 py-4",children:[r.jsx("input",{type:"text",className:"input",placeholder:"Description",...k(`items.${T}.description`,{required:"Description is required"})}),v.items?.[T]?.description&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:v.items[T]?.description?.message})]}),r.jsxs("td",{className:"px-4 py-4",children:[r.jsx("input",{type:"number",min:"1",className:"input text-right",...k(`items.${T}.quantity`,{required:"Quantity is required",min:{value:1,message:"Minimum quantity is 1"},valueAsNumber:!0})}),v.items?.[T]?.quantity&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:v.items[T]?.quantity?.message})]}),r.jsxs("td",{className:"px-4 py-4",children:[r.jsx("input",{type:"number",min:"0",step:"0.01",className:"input text-right",...k(`items.${T}.unit_price`,{required:"Unit price is required",min:{value:0,message:"Minimum price is 0"},valueAsNumber:!0})}),v.items?.[T]?.unit_price&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:v.items[T]?.unit_price?.message})]}),r.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-right text-sm font-medium text-white",children:["$",(C[T]?.quantity*C[T]?.unit_price||0).toFixed(2)]}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:r.jsx("button",{type:"button",onClick:()=>S(T),disabled:P.length===1,className:`text-gray-400 hover:text-red-500 ${P.length===1?"opacity-50 cursor-not-allowed":""}`,children:r.jsx(Ys,{size:16})})})]},M.id))}),r.jsxs("tfoot",{children:[r.jsxs("tr",{className:"bg-dark-700/50",children:[r.jsx("td",{colSpan:4,className:"px-4 py-3 text-right text-sm font-medium text-gray-300",children:"Subtotal"}),r.jsxs("td",{className:"px-4 py-3 text-right text-sm font-medium text-white",children:["$",z.toFixed(2)]}),r.jsx("td",{})]}),r.jsxs("tr",{className:"bg-dark-700/50",children:[r.jsxs("td",{colSpan:4,className:"px-4 py-3 text-right text-sm font-medium text-gray-300",children:["Tax (",(Z*100).toFixed(2),"%)"]}),r.jsxs("td",{className:"px-4 py-3 text-right text-sm font-medium text-white",children:["$",q.toFixed(2)]}),r.jsx("td",{})]}),r.jsxs("tr",{className:"bg-dark-700",children:[r.jsx("td",{colSpan:4,className:"px-4 py-3 text-right text-sm font-medium text-gray-300",children:"Total"}),r.jsxs("td",{className:"px-4 py-3 text-right text-base font-bold text-white",children:["$",R.toFixed(2)]}),r.jsx("td",{})]})]})]})})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{type:"submit",className:"btn btn-primary flex items-center space-x-2",disabled:s,children:s?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white"}),r.jsx("span",{children:"Creating..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(oa,{size:16}),r.jsx("span",{children:"Create Quote"})]})})})]})]})},cG=()=>{const{id:t}=Mn(),e=Qt(),{getQuoteById:s,updateQuoteStatus:n,deleteQuote:a,loading:i,error:o}=jp(),[l,c]=U.useState(null),[d,u]=U.useState(!1),[h,f]=U.useState(""),[m,g]=U.useState(!1);U.useEffect(()=>{t&&s(t).then(E=>{E?c(E):(fe.error("Quote not found"),e("/quotes"))}).catch(E=>{fe.error("Failed to load quote details")})},[t,s,e]);const x=async E=>{if(!(!t||!l))try{const I=await n(t,E);c(I),fe.success(`Quote marked as ${E}`)}catch{fe.error("Failed to update quote status")}},j=async()=>{t&&g(!0)},y=async()=>{if(t)try{await a(t),fe.success("Quote deleted successfully"),e("/quotes")}catch{fe.error("Failed to delete quote")}},b=()=>{l&&(QY(l),fe.success("Quote PDF downloaded"))},k=()=>{l&&ZY(l)},A=async()=>{if(!l)return;if(!l.customer_email){fe.error("Customer email is not available");return}await tG(l,h,!0)?(fe.success("Quote sent successfully"),u(!1),f(""),l.status==="Draft"&&x("Sent")):fe.error("Failed to send quote")};return i?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-400",children:"Loading quote details..."})]}):o?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("p",{className:"text-red-400 text-lg",children:o}),r.jsx(de,{to:"/quotes",className:"btn btn-primary mt-4",children:"Back to Quotes"})]}):l?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(de,{to:"/quotes",className:"btn btn-secondary p-2",children:r.jsx(ss,{size:20})}),r.jsxs("h1",{className:"text-2xl font-bold text-white",children:["Quote ",l.quote_number]})]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsxs(de,{to:`/quotes/${t}/edit`,className:"btn btn-primary flex items-center space-x-2",children:[r.jsx(Or,{size:16}),r.jsx("span",{children:"Edit"})]}),r.jsxs("button",{onClick:k,className:"btn btn-secondary flex items-center space-x-2",children:[r.jsx(Xg,{size:16}),r.jsx("span",{children:"Print"})]}),r.jsxs("button",{onClick:b,className:"btn btn-secondary flex items-center space-x-2",children:[r.jsx(lr,{size:16}),r.jsx("span",{children:"PDF"})]}),r.jsxs("button",{onClick:()=>u(!0),className:"btn btn-secondary flex items-center space-x-2",disabled:!l.customer_email,children:[r.jsx(yc,{size:16}),r.jsx("span",{children:"Send to Customer"})]}),l.status==="Draft"&&r.jsxs("button",{onClick:()=>x("Sent"),className:"btn btn-secondary flex items-center space-x-2",children:[r.jsx(yc,{size:16}),r.jsx("span",{children:"Mark as Sent"})]}),l.status==="Sent"&&r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:()=>x("Accepted"),className:"btn btn-secondary flex items-center space-x-2",children:[r.jsx(Dt,{size:16}),r.jsx("span",{children:"Mark as Accepted"})]}),r.jsxs("button",{onClick:()=>x("Declined"),className:"btn btn-secondary flex items-center space-x-2",children:[r.jsx(or,{size:16}),r.jsx("span",{children:"Mark as Declined"})]})]}),r.jsxs("button",{onClick:j,className:"btn btn-danger flex items-center space-x-2",children:[r.jsx(or,{size:16}),r.jsx("span",{children:"Delete"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[r.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Quote Status"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"text-gray-400",children:r.jsx(wt,{size:18})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Status"}),r.jsx(l3,{status:l.status})]})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"text-gray-400",children:r.jsx(Rs,{size:18})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Quote Date"}),r.jsx("p",{className:"text-white",children:new Date(l.date).toLocaleDateString()})]})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"text-gray-400",children:r.jsx(Tn,{size:18})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Expiry Date"}),r.jsx("p",{className:"text-white",children:new Date(l.expiry_date).toLocaleDateString()})]})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"text-gray-400",children:r.jsx(us,{size:18})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Total Amount"}),r.jsxs("p",{className:"text-xl font-semibold text-white",children:["$",l.total.toLocaleString()]})]})]})]})]}),r.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[r.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Customer Information"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"text-gray-400",children:r.jsx(Qg,{size:18})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Customer"}),r.jsx("p",{className:"text-white font-medium",children:l.customer_name})]})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"text-gray-400",children:r.jsx(aa,{size:18})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Email"}),r.jsx("p",{className:"text-white",children:l.customer_email||"No email provided"})]})]}),l.customer_address&&r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"text-gray-400",children:r.jsx(Kg,{size:18})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Address"}),r.jsx("p",{className:"text-white",children:l.customer_address})]})]})]})]}),r.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[r.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Notes & Message"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-md font-medium text-white mb-2",children:"Message to Customer"}),r.jsx("p",{className:"text-gray-300",children:l.message||"No message provided"})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-md font-medium text-white mb-2",children:"Internal Notes"}),r.jsx("p",{className:"text-gray-300",children:l.notes||"No notes provided"})]})]})]})]}),r.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[r.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Quote Items"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-dark-700",children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Item"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Quantity"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Unit Price"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Total"})]})}),r.jsx("tbody",{className:"divide-y divide-dark-700",children:l.items.map((E,I)=>r.jsxs("tr",{className:"hover:bg-dark-700/50",children:[r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsx("span",{className:"text-sm font-medium text-white",children:E.description})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300 text-right",children:E.quantity}),r.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300 text-right",children:["$",E.unit_price.toFixed(2)]}),r.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300 text-right",children:["$",E.total.toFixed(2)]})]},I))}),r.jsxs("tfoot",{children:[r.jsxs("tr",{className:"bg-dark-700/50",children:[r.jsx("td",{colSpan:3,className:"px-4 py-3 text-right text-sm font-medium text-gray-300",children:"Subtotal"}),r.jsxs("td",{className:"px-4 py-3 text-right text-sm font-medium text-white",children:["$",l.subtotal.toFixed(2)]})]}),r.jsxs("tr",{className:"bg-dark-700/50",children:[r.jsxs("td",{colSpan:3,className:"px-4 py-3 text-right text-sm font-medium text-gray-300",children:["Tax (",(l.tax_rate*100).toFixed(2),"%)"]}),r.jsxs("td",{className:"px-4 py-3 text-right text-sm font-medium text-white",children:["$",l.tax.toFixed(2)]})]}),r.jsxs("tr",{className:"bg-dark-700",children:[r.jsx("td",{colSpan:3,className:"px-4 py-3 text-right text-sm font-medium text-gray-300",children:"Total"}),r.jsxs("td",{className:"px-4 py-3 text-right text-base font-bold text-white",children:["$",l.total.toFixed(2)]})]})]})]})})]}),d&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 w-full max-w-md",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Send Quote to Customer"}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"To"}),r.jsx("input",{type:"text",className:"input",value:l.customer_email||"",disabled:!0})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Subject"}),r.jsx("input",{type:"text",className:"input",value:`Quote ${l.quote_number} from Your Company`,disabled:!0})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Message (Optional)"}),r.jsx("textarea",{className:"input",rows:4,value:h,onChange:E=>f(E.target.value),placeholder:"Add a personal message to the customer..."})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx("button",{onClick:()=>u(!1),className:"btn btn-secondary",children:"Cancel"}),r.jsx("button",{onClick:A,className:"btn btn-primary",children:"Send"})]})]})}),r.jsx(Lc,{isOpen:m,onClose:()=>g(!1),onConfirm:y,title:"Delete item?",message:"Are you sure?",confirmButtonText:"Delete",cancelButtonText:"Cancel",isDanger:!0})]}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx("p",{className:"text-gray-400 text-lg",children:"Quote not found"}),r.jsx(de,{to:"/quotes",className:"btn btn-primary mt-4",children:"Back to Quotes"})]})};var dG={exports:{}};(function(t){var e=function(s){var n=Object.prototype,a=n.hasOwnProperty,i=Object.defineProperty||function($,J,se){$[J]=se.value},o,l=typeof Symbol=="function"?Symbol:{},c=l.iterator||"@@iterator",d=l.asyncIterator||"@@asyncIterator",u=l.toStringTag||"@@toStringTag";function h($,J,se){return Object.defineProperty($,J,{value:se,enumerable:!0,configurable:!0,writable:!0}),$[J]}try{h({},"")}catch{h=function(J,se,M){return J[se]=M}}function f($,J,se,M){var T=J&&J.prototype instanceof k?J:k,B=Object.create(T.prototype),K=new q(M||[]);return i(B,"_invoke",{value:C($,se,K)}),B}s.wrap=f;function m($,J,se){try{return{type:"normal",arg:$.call(J,se)}}catch(M){return{type:"throw",arg:M}}}var g="suspendedStart",x="suspendedYield",j="executing",y="completed",b={};function k(){}function A(){}function E(){}var I={};h(I,c,function(){return this});var _=Object.getPrototypeOf,v=_&&_(_(R([])));v&&v!==n&&a.call(v,c)&&(I=v);var P=E.prototype=k.prototype=Object.create(I);A.prototype=E,i(P,"constructor",{value:E,configurable:!0}),i(E,"constructor",{value:A,configurable:!0}),A.displayName=h(E,u,"GeneratorFunction");function L($){["next","throw","return"].forEach(function(J){h($,J,function(se){return this._invoke(J,se)})})}s.isGeneratorFunction=function($){var J=typeof $=="function"&&$.constructor;return J?J===A||(J.displayName||J.name)==="GeneratorFunction":!1},s.mark=function($){return Object.setPrototypeOf?Object.setPrototypeOf($,E):($.__proto__=E,h($,u,"GeneratorFunction")),$.prototype=Object.create(P),$},s.awrap=function($){return{__await:$}};function S($,J){function se(B,K,Y,re){var ie=m($[B],$,K);if(ie.type==="throw")re(ie.arg);else{var he=ie.arg,Ce=he.value;return Ce&&typeof Ce=="object"&&a.call(Ce,"__await")?J.resolve(Ce.__await).then(function(be){se("next",be,Y,re)},function(be){se("throw",be,Y,re)}):J.resolve(Ce).then(function(be){he.value=be,Y(he)},function(be){return se("throw",be,Y,re)})}}var M;function T(B,K){function Y(){return new J(function(re,ie){se(B,K,re,ie)})}return M=M?M.then(Y,Y):Y()}i(this,"_invoke",{value:T})}L(S.prototype),h(S.prototype,d,function(){return this}),s.AsyncIterator=S,s.async=function($,J,se,M,T){T===void 0&&(T=Promise);var B=new S(f($,J,se,M),T);return s.isGeneratorFunction(J)?B:B.next().then(function(K){return K.done?K.value:B.next()})};function C($,J,se){var M=g;return function(B,K){if(M===j)throw new Error("Generator is already running");if(M===y){if(B==="throw")throw K;return X()}for(se.method=B,se.arg=K;;){var Y=se.delegate;if(Y){var re=O(Y,se);if(re){if(re===b)continue;return re}}if(se.method==="next")se.sent=se._sent=se.arg;else if(se.method==="throw"){if(M===g)throw M=y,se.arg;se.dispatchException(se.arg)}else se.method==="return"&&se.abrupt("return",se.arg);M=j;var ie=m($,J,se);if(ie.type==="normal"){if(M=se.done?y:x,ie.arg===b)continue;return{value:ie.arg,done:se.done}}else ie.type==="throw"&&(M=y,se.method="throw",se.arg=ie.arg)}}}function O($,J){var se=J.method,M=$.iterator[se];if(M===o)return J.delegate=null,se==="throw"&&$.iterator.return&&(J.method="return",J.arg=o,O($,J),J.method==="throw")||se!=="return"&&(J.method="throw",J.arg=new TypeError("The iterator does not provide a '"+se+"' method")),b;var T=m(M,$.iterator,J.arg);if(T.type==="throw")return J.method="throw",J.arg=T.arg,J.delegate=null,b;var B=T.arg;if(!B)return J.method="throw",J.arg=new TypeError("iterator result is not an object"),J.delegate=null,b;if(B.done)J[$.resultName]=B.value,J.next=$.nextLoc,J.method!=="return"&&(J.method="next",J.arg=o);else return B;return J.delegate=null,b}L(P),h(P,u,"Generator"),h(P,c,function(){return this}),h(P,"toString",function(){return"[object Generator]"});function z($){var J={tryLoc:$[0]};1 in $&&(J.catchLoc=$[1]),2 in $&&(J.finallyLoc=$[2],J.afterLoc=$[3]),this.tryEntries.push(J)}function Z($){var J=$.completion||{};J.type="normal",delete J.arg,$.completion=J}function q($){this.tryEntries=[{tryLoc:"root"}],$.forEach(z,this),this.reset(!0)}s.keys=function($){var J=Object($),se=[];for(var M in J)se.push(M);return se.reverse(),function T(){for(;se.length;){var B=se.pop();if(B in J)return T.value=B,T.done=!1,T}return T.done=!0,T}};function R($){if($){var J=$[c];if(J)return J.call($);if(typeof $.next=="function")return $;if(!isNaN($.length)){var se=-1,M=function T(){for(;++se<$.length;)if(a.call($,se))return T.value=$[se],T.done=!1,T;return T.value=o,T.done=!0,T};return M.next=M}}return{next:X}}s.values=R;function X(){return{value:o,done:!0}}return q.prototype={constructor:q,reset:function($){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(Z),!$)for(var J in this)J.charAt(0)==="t"&&a.call(this,J)&&!isNaN(+J.slice(1))&&(this[J]=o)},stop:function(){this.done=!0;var $=this.tryEntries[0],J=$.completion;if(J.type==="throw")throw J.arg;return this.rval},dispatchException:function($){if(this.done)throw $;var J=this;function se(re,ie){return B.type="throw",B.arg=$,J.next=re,ie&&(J.method="next",J.arg=o),!!ie}for(var M=this.tryEntries.length-1;M>=0;--M){var T=this.tryEntries[M],B=T.completion;if(T.tryLoc==="root")return se("end");if(T.tryLoc<=this.prev){var K=a.call(T,"catchLoc"),Y=a.call(T,"finallyLoc");if(K&&Y){if(this.prev<T.catchLoc)return se(T.catchLoc,!0);if(this.prev<T.finallyLoc)return se(T.finallyLoc)}else if(K){if(this.prev<T.catchLoc)return se(T.catchLoc,!0)}else if(Y){if(this.prev<T.finallyLoc)return se(T.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function($,J){for(var se=this.tryEntries.length-1;se>=0;--se){var M=this.tryEntries[se];if(M.tryLoc<=this.prev&&a.call(M,"finallyLoc")&&this.prev<M.finallyLoc){var T=M;break}}T&&($==="break"||$==="continue")&&T.tryLoc<=J&&J<=T.finallyLoc&&(T=null);var B=T?T.completion:{};return B.type=$,B.arg=J,T?(this.method="next",this.next=T.finallyLoc,b):this.complete(B)},complete:function($,J){if($.type==="throw")throw $.arg;return $.type==="break"||$.type==="continue"?this.next=$.arg:$.type==="return"?(this.rval=this.arg=$.arg,this.method="return",this.next="end"):$.type==="normal"&&J&&(this.next=J),b},finish:function($){for(var J=this.tryEntries.length-1;J>=0;--J){var se=this.tryEntries[J];if(se.finallyLoc===$)return this.complete(se.completion,se.afterLoc),Z(se),b}},catch:function($){for(var J=this.tryEntries.length-1;J>=0;--J){var se=this.tryEntries[J];if(se.tryLoc===$){var M=se.completion;if(M.type==="throw"){var T=M.arg;Z(se)}return T}}throw new Error("illegal catch attempt")},delegateYield:function($,J,se){return this.delegate={iterator:R($),resultName:J,nextLoc:se},this.method==="next"&&(this.arg=o),b}},s}(t.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})(dG);var Zy=(t,e)=>`${t}-${e}-${Math.random().toString(16).slice(3,8)}`;const uG=Zy;let W2=0;var c3=({id:t,action:e,payload:s={}})=>{let n=t;return typeof n>"u"&&(n=uG("Job",W2),W2+=1),{id:n,action:e,payload:s}},Wc={};let eb=!1;Wc.logging=eb;Wc.setLogging=t=>{eb=t};Wc.log=(...t)=>eb?console.log.apply(void 0,t):null;const hG=c3,{log:bm}=Wc,mG=Zy;let U2=0;var fG=()=>{const t=mG("Scheduler",U2),e={},s={};let n=[];U2+=1;const a=()=>n.length,i=()=>Object.keys(e).length,o=()=>{if(n.length!==0){const h=Object.keys(e);for(let f=0;f<h.length;f+=1)if(typeof s[h[f]]>"u"){n[0](e[h[f]]);break}}},l=(h,f)=>new Promise((m,g)=>{const x=hG({action:h,payload:f});n.push(async j=>{n.shift(),s[j.id]=x;try{m(await j[h].apply(void 0,[...f,x.id]))}catch(y){g(y)}finally{delete s[j.id],o()}}),bm(`[${t}]: Add ${x.id} to JobQueue`),bm(`[${t}]: JobQueue length=${n.length}`),o()});return{addWorker:h=>(e[h.id]=h,bm(`[${t}]: Add ${h.id}`),bm(`[${t}]: Number of workers=${i()}`),o(),h.id),addJob:async(h,...f)=>{if(i()===0)throw Error(`[${t}]: You need to have at least one worker before adding jobs`);return l(h,f)},terminate:async()=>{Object.keys(e).forEach(async h=>{await e[h].terminate()}),n=[]},getQueueLen:a,getNumWorkers:i}};function pG(){return!!(typeof window<"u"&&typeof window.process=="object"&&window.process.type==="renderer"||typeof process<"u"&&typeof process.versions=="object"&&process.versions.electron||typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Electron")>=0)}var xG=pG;const gG=xG;var yG=t=>{const e={};return typeof WorkerGlobalScope<"u"?e.type="webworker":gG()?e.type="electron":typeof document=="object"?e.type="browser":typeof process=="object"&&typeof jS=="function"&&(e.type="node"),typeof t>"u"?e:e[t]};const bG=yG("type")==="browser",vG=bG?t=>new URL(t,window.location.href).href:t=>t;var wG=t=>{const e={...t};return["corePath","workerPath","langPath"].forEach(s=>{t[s]&&(e[s]=vG(e[s]))}),e},jG=t=>{const e=[],s=[],n=[],a=[],i=[];return t.blocks&&t.blocks.forEach(o=>{o.paragraphs.forEach(l=>{l.lines.forEach(c=>{c.words.forEach(d=>{d.symbols.forEach(u=>{i.push({...u,page:t,block:o,paragraph:l,line:c,word:d})}),a.push({...d,page:t,block:o,paragraph:l,line:c})}),n.push({...c,page:t,block:o,paragraph:l})}),s.push({...l,page:t,block:o})}),e.push({...o,page:t})}),{...t,blocks:e,paragraphs:s,lines:n,words:a,symbols:i}},d3={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3};const NG="tesseract.js",kG="5.1.1",_G="Pure Javascript Multilingual OCR",SG="src/index.js",AG="src/index.d.ts",CG="dist/tesseract.min.js",PG="dist/tesseract.min.js",EG={start:"node scripts/server.js",build:"rimraf dist && webpack --config scripts/webpack.config.prod.js && rollup -c scripts/rollup.esm.mjs","profile:tesseract":"webpack-bundle-analyzer dist/tesseract-stats.json","profile:worker":"webpack-bundle-analyzer dist/worker-stats.json",prepublishOnly:"npm run build",wait:"rimraf dist && wait-on http://localhost:3000/dist/tesseract.min.js",test:"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser:* test:node:all","test:node":"nyc mocha --exit --bail --require ./scripts/test-helper.js","test:node:all":"npm run test:node -- ./tests/*.test.js","test:browser-tpl":"mocha-headless-chrome -a incognito -a no-sandbox -a disable-setuid-sandbox -a disable-logging -t 300000","test:browser:detect":"npm run test:browser-tpl -- -f ./tests/detect.test.html","test:browser:recognize":"npm run test:browser-tpl -- -f ./tests/recognize.test.html","test:browser:scheduler":"npm run test:browser-tpl -- -f ./tests/scheduler.test.html","test:browser:FS":"npm run test:browser-tpl -- -f ./tests/FS.test.html",lint:"eslint src","lint:fix":"eslint --fix src",postinstall:"opencollective-postinstall || true"},DG={"./src/worker/node/index.js":"./src/worker/browser/index.js"},LG="",IG=["jeromewu"],MG="Apache-2.0",TG={"@babel/core":"^7.21.4","@babel/eslint-parser":"^7.21.3","@babel/preset-env":"^7.21.4","@rollup/plugin-commonjs":"^24.1.0",acorn:"^8.8.2","babel-loader":"^9.1.2",buffer:"^6.0.3",cors:"^2.8.5",eslint:"^7.32.0","eslint-config-airbnb-base":"^14.2.1","eslint-plugin-import":"^2.27.5","expect.js":"^0.3.1",express:"^4.18.2",mocha:"^10.2.0","mocha-headless-chrome":"^4.0.0","npm-run-all":"^4.1.5",nyc:"^15.1.0",rimraf:"^5.0.0",rollup:"^3.20.7","wait-on":"^7.0.1",webpack:"^5.79.0","webpack-bundle-analyzer":"^4.8.0","webpack-cli":"^5.0.1","webpack-dev-middleware":"^6.0.2","rollup-plugin-sourcemaps":"^0.6.3"},FG={"bmp-js":"^0.1.0","idb-keyval":"^6.2.0","is-electron":"^2.2.2","is-url":"^1.2.4","node-fetch":"^2.6.9","opencollective-postinstall":"^2.0.3","regenerator-runtime":"^0.13.3","tesseract.js-core":"^5.1.1","wasm-feature-detect":"^1.2.11",zlibjs:"^0.3.1"},OG={"@rollup/pluginutils":"^5.0.2"},RG={type:"git",url:"https://github.com/naptha/tesseract.js.git"},$G={url:"https://github.com/naptha/tesseract.js/issues"},zG="https://github.com/naptha/tesseract.js",BG={type:"opencollective",url:"https://opencollective.com/tesseractjs"},qG={name:NG,version:kG,description:_G,main:SG,types:AG,unpkg:CG,jsdelivr:PG,scripts:EG,browser:DG,author:LG,contributors:IG,license:MG,devDependencies:TG,dependencies:FG,overrides:OG,repository:RG,bugs:$G,homepage:zG,collective:BG};var HG={workerBlobURL:!0,logger:()=>{}};const WG=qG.version,UG=HG;var VG={...UG,workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${WG}/dist/worker.min.js`},YG=({workerPath:t,workerBlobURL:e})=>{let s;if(Blob&&URL&&e){const n=new Blob([`importScripts("${t}");`],{type:"application/javascript"});s=new Worker(URL.createObjectURL(n))}else s=new Worker(t);return s},GG=t=>{t.terminate()},KG=(t,e)=>{t.onmessage=({data:s})=>{e(s)}},XG=async(t,e)=>{t.postMessage(e)};const l0=t=>new Promise((e,s)=>{const n=new FileReader;n.onload=()=>{e(n.result)},n.onerror=({target:{error:{code:a}}})=>{s(Error(`File could not be read! Code=${a}`))},n.readAsArrayBuffer(t)}),vg=async t=>{let e=t;if(typeof t>"u")return"undefined";if(typeof t=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(t)?e=atob(t.split(",")[1]).split("").map(s=>s.charCodeAt(0)):e=await(await fetch(t)).arrayBuffer();else if(typeof HTMLElement<"u"&&t instanceof HTMLElement)t.tagName==="IMG"&&(e=await vg(t.src)),t.tagName==="VIDEO"&&(e=await vg(t.poster)),t.tagName==="CANVAS"&&await new Promise(s=>{t.toBlob(async n=>{e=await l0(n),s()})});else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas){const s=await t.convertToBlob();e=await l0(s)}else(t instanceof File||t instanceof Blob)&&(e=await l0(t));return new Uint8Array(e)};var QG=vg;const JG=VG,ZG=YG,eK=GG,tK=KG,sK=XG,rK=QG;var nK={defaultOptions:JG,spawnWorker:ZG,terminateWorker:eK,onMessage:tK,send:sK,loadImage:rK};const aK=wG,iK=jG,Qn=c3,{log:V2}=Wc,oK=Zy,Co=d3,{defaultOptions:lK,spawnWorker:cK,terminateWorker:dK,onMessage:uK,loadImage:Y2,send:hK}=nK;let G2=0;var u3=async(t="eng",e=Co.LSTM_ONLY,s={},n={})=>{const a=oK("Worker",G2),{logger:i,errorHandler:o,...l}=aK({...lK,...s}),c={},d={},u=typeof t=="string"?t.split("+"):t;let h=e,f=n;const m=[Co.DEFAULT,Co.LSTM_ONLY].includes(e)&&!l.legacyCore;let g,x;const j=new Promise((T,B)=>{x=T,g=B}),y=T=>{g(T.message)};let b=cK(l);b.onerror=y,G2+=1;const k=(T,B)=>{c[T]=B},A=(T,B)=>{d[T]=B},E=({id:T,action:B,payload:K})=>new Promise((Y,re)=>{V2(`[${a}]: Start ${T}, action=${B}`);const ie=`${B}-${T}`;k(ie,Y),A(ie,re),hK(b,{workerId:a,jobId:T,action:B,payload:K})}),I=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),_=T=>E(Qn({id:T,action:"load",payload:{options:{lstmOnly:m,corePath:l.corePath,logging:l.logging}}})),v=(T,B,K)=>E(Qn({id:K,action:"FS",payload:{method:"writeFile",args:[T,B]}})),P=(T,B)=>E(Qn({id:B,action:"FS",payload:{method:"readFile",args:[T,{encoding:"utf8"}]}})),L=(T,B)=>E(Qn({id:B,action:"FS",payload:{method:"unlink",args:[T]}})),S=(T,B,K)=>E(Qn({id:K,action:"FS",payload:{method:T,args:B}})),C=()=>console.warn("`loadLanguage` is depreciated and should be removed from code (workers now come with language pre-loaded)"),O=(T,B)=>E(Qn({id:B,action:"loadLanguage",payload:{langs:T,options:{langPath:l.langPath,dataPath:l.dataPath,cachePath:l.cachePath,cacheMethod:l.cacheMethod,gzip:l.gzip,lstmOnly:[Co.DEFAULT,Co.LSTM_ONLY].includes(h)&&!l.legacyLang}}})),z=()=>console.warn("`initialize` is depreciated and should be removed from code (workers now come pre-initialized)"),Z=(T,B,K,Y)=>E(Qn({id:Y,action:"initialize",payload:{langs:T,oem:B,config:K}})),q=(T="eng",B,K,Y)=>{if(m&&[Co.TESSERACT_ONLY,Co.TESSERACT_LSTM_COMBINED].includes(B))throw Error("Legacy model requested but code missing.");const re=B||h;h=re;const ie=K||f;f=ie;const Ce=(typeof T=="string"?T.split("+"):T).filter(be=>!u.includes(be));return u.push(...Ce),Ce.length>0?O(Ce,Y).then(()=>Z(T,re,ie,Y)):Z(T,re,ie,Y)},R=(T={},B)=>E(Qn({id:B,action:"setParameters",payload:{params:T}})),X=async(T,B={},K={blocks:!0,text:!0,hocr:!0,tsv:!0},Y)=>E(Qn({id:Y,action:"recognize",payload:{image:await Y2(T),options:B,output:K}})),$=(T="Tesseract OCR Result",B=!1,K)=>(console.log("`getPDF` function is depreciated. `recognize` option `savePDF` should be used instead."),E(Qn({id:K,action:"getPDF",payload:{title:T,textonly:B}}))),J=async(T,B)=>{if(m)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return E(Qn({id:B,action:"detect",payload:{image:await Y2(T)}}))},se=async()=>(b!==null&&(dK(b),b=null),Promise.resolve());uK(b,({workerId:T,jobId:B,status:K,action:Y,data:re})=>{const ie=`${Y}-${B}`;if(K==="resolve"){V2(`[${T}]: Complete ${B}`);let he=re;Y==="recognize"?he=iK(re):Y==="getPDF"&&(he=Array.from({...re,length:Object.keys(re).length})),c[ie]({jobId:B,data:he})}else if(K==="reject")if(d[ie](re),Y==="load"&&g(re),o)o(re);else throw Error(re);else K==="progress"&&i({...re,userJobId:B})});const M={id:a,worker:b,setResolve:k,setReject:A,load:I,writeText:v,readText:P,removeFile:L,FS:S,loadLanguage:C,initialize:z,reinitialize:q,setParameters:R,recognize:X,getPDF:$,detect:J,terminate:se};return _().then(()=>O(t)).then(()=>Z(t,e,n)).then(()=>x(M)).catch(()=>{}),j};const h3=u3,mK=async(t,e,s)=>{const n=await h3(e,1,s);return n.recognize(t).finally(async()=>{await n.terminate()})},fK=async(t,e)=>{const s=await h3("osd",0,e);return s.detect(t).finally(async()=>{await s.terminate()})};var pK={recognize:mK,detect:fK},xK={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"},gK={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"};const yK=fG,bK=u3,vK=pK,wK=xK,jK=d3,NK=gK,{setLogging:kK}=Wc;var _K={languages:wK,OEM:jK,PSM:NK,createScheduler:yK,createWorker:bK,setLogging:kK,...vK};const SK=()=>{const[t,e]=U.useState([]),[s,n]=U.useState(""),[a,i]=U.useState("all"),[o,l]=U.useState("all"),[c,d]=U.useState(!1);U.useState("");const[u,h]=U.useState(!1),[f,m]=U.useState(!1),g=U.useRef(null),x=U.useRef(null);U.useEffect(()=>{(async()=>{try{const{data:v,error:P}=await Ae.from("expenses").select("*").order("created_at",{ascending:!1});if(P)throw P;e(v||[])}catch(v){console.error("Error fetching expenses:",v),fe.error("Failed to load expenses")}})()},[]);const j=async()=>{try{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new Error("Your browser does not support camera access");if(!(await navigator.mediaDevices.enumerateDevices()).some(L=>L.kind==="videoinput"))throw new Error("No camera found on your device");let P;try{P=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}})}catch{P=await navigator.mediaDevices.getUserMedia({video:!0})}g.current&&(g.current.srcObject=P,x.current=P),m(!0)}catch(_){console.error("Error accessing camera:",_),_ instanceof Error&&(_.name==="NotAllowedError"||_.name==="PermissionDeniedError"?fe.error("Camera access denied. Please check your camera permissions."):_.name==="NotFoundError"||_.name==="DevicesNotFoundError"?fe.error("No camera found on your device."):_.name==="NotReadableError"||_.name==="TrackStartError"?fe.error("Could not access your camera. It may be in use by another application."):fe.error(_.message||"Could not access camera. Please try again."))}},y=()=>{x.current&&(x.current.getTracks().forEach(_=>_.stop()),x.current=null),m(!1)},b=async()=>{if(g.current)try{const _=document.createElement("canvas");_.width=g.current.videoWidth,_.height=g.current.videoHeight;const v=_.getContext("2d");if(!v)throw new Error("Could not get canvas context");v.drawImage(g.current,0,0,_.width,_.height);const P=await new Promise(S=>_.toBlob(C=>S(C),"image/jpeg",.95)),L=new File([P],"receipt.jpg",{type:"image/jpeg"});await A(L),y()}catch(_){console.error("Error capturing photo:",_),fe.error("Failed to capture photo")}};U.useEffect(()=>()=>{x.current&&x.current.getTracks().forEach(_=>_.stop())},[]);const k=_=>{_.preventDefault(),_.stopPropagation(),_.type==="dragenter"||_.type==="dragover"?h(!0):_.type==="dragleave"&&h(!1)},A=U.useCallback(async _=>{d(!0);try{let v="";if(_.type==="application/pdf"){const O=await _.arrayBuffer(),z=await loadingTask({data:O}).promise;for(let Z=1;Z<=z.numPages;Z++){const R=await(await z.getPage(Z)).getTextContent();v+=R.items.map(X=>X.str).join(" ")+`
`}}else if(_.type.startsWith("image/")){const O=await _K.createWorker("eng"),z=new FileReader;v=await new Promise((Z,q)=>{z.onload=async R=>{if(R.target?.result)try{const{data:{text:X}}=await O.recognize(R.target.result);Z(X)}catch(X){q(X)}finally{await O.terminate()}},z.readAsDataURL(_)})}else throw new Error("Unsupported file type");const P=v.match(/\$?\d+\.\d{2}/),L=v.match(/\d{1,2}\/\d{1,2}\/\d{2,4}/),S=v.match(/(?:store|merchant|vendor):\s*([^\n]+)/i),C={id:Date.now().toString(),date:L?L[0]:new Date().toISOString().split("T")[0],merchant:S?S[1]:"Unknown Merchant",amount:P?parseFloat(P[0].replace("$","")):0,category:"Uncategorized",description:v.slice(0,100),status:"pending"};e(O=>[...O,C]),fe.success("Document scanned successfully")}catch(v){console.error("Error processing image:",v),fe.error("Failed to process document")}finally{d(!1)}},[]),E=U.useCallback(async _=>{_.preventDefault(),_.stopPropagation(),h(!1);const v=_.dataTransfer.files[0];v&&(v.type.startsWith("image/")||v.type==="application/pdf")?await A(v):fe.error("Please upload an image or PDF file")},[A]),I=async _=>{const v=_.target.files?.[0];v&&await A(v)};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h1",{className:"text-2xl font-bold text-white",children:"Expenses"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("select",{className:"bg-dark-800 border border-dark-700 text-white rounded-md px-3 py-2",value:o,onChange:_=>l(_.target.value),children:[r.jsx("option",{value:"all",children:"All Statuses"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"approved",children:"Approved"}),r.jsx("option",{value:"rejected",children:"Rejected"})]}),r.jsxs("select",{className:"bg-dark-800 border border-dark-700 text-white rounded-md px-3 py-2",value:a,onChange:_=>i(_.target.value),children:[r.jsx("option",{value:"all",children:"All Categories"}),r.jsx("option",{value:"travel",children:"Travel"}),r.jsx("option",{value:"meals",children:"Meals & Entertainment"}),r.jsx("option",{value:"office",children:"Office Supplies"}),r.jsx("option",{value:"utilities",children:"Utilities"}),r.jsx("option",{value:"other",children:"Other"})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("select",{className:"bg-dark-800 border border-dark-700 text-white rounded-md px-3 py-2",onChange:_=>l(_.target.value),children:[r.jsx("option",{value:"all",children:"All Statuses"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"approved",children:"Approved"}),r.jsx("option",{value:"rejected",children:"Rejected"})]}),r.jsxs("select",{className:"bg-dark-800 border border-dark-700 text-white rounded-md px-3 py-2",onChange:_=>i(_.target.value),children:[r.jsx("option",{value:"all",children:"All Categories"}),r.jsx("option",{value:"travel",children:"Travel"}),r.jsx("option",{value:"meals",children:"Meals & Entertainment"}),r.jsx("option",{value:"office",children:"Office Supplies"}),r.jsx("option",{value:"utilities",children:"Utilities"}),r.jsx("option",{value:"other",children:"Other"})]})]}),r.jsxs("button",{onClick:()=>m(!0),className:"btn btn-primary flex items-center space-x-2",children:[r.jsx(as,{size:16}),r.jsx("span",{children:"Add Expense"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx("div",{className:"card bg-dark-800 border border-dark-700",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Total Expenses"}),r.jsxs("h3",{className:"text-2xl font-bold text-white mt-1",children:["$",t.reduce((_,v)=>_+v.amount,0).toFixed(2)]})]}),r.jsx("div",{className:"p-3 rounded-lg bg-blue-500/20 text-blue-500",children:r.jsx(Ea,{size:24})})]})}),r.jsx("div",{className:"card bg-dark-800 border border-dark-700",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Pending"}),r.jsxs("h3",{className:"text-2xl font-bold text-white mt-1",children:["$",t.filter(_=>_.status==="pending").reduce((_,v)=>_+v.amount,0).toFixed(2)]})]}),r.jsx("div",{className:"p-3 rounded-lg bg-yellow-500/20 text-yellow-500",children:r.jsx(Ea,{size:24})})]})}),r.jsx("div",{className:"card bg-dark-800 border border-dark-700",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Approved"}),r.jsxs("h3",{className:"text-2xl font-bold text-white mt-1",children:["$",t.filter(_=>_.status==="approved").reduce((_,v)=>_+v.amount,0).toFixed(2)]})]}),r.jsx("div",{className:"p-3 rounded-lg bg-green-500/20 text-green-500",children:r.jsx(Ea,{size:24})})]})}),r.jsx("div",{className:"card bg-dark-800 border border-dark-700",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Rejected"}),r.jsxs("h3",{className:"text-2xl font-bold text-white mt-1",children:["$",t.filter(_=>_.status==="rejected").reduce((_,v)=>_+v.amount,0).toFixed(2)]})]}),r.jsx("div",{className:"p-3 rounded-lg bg-red-500/20 text-red-500",children:r.jsx(Ea,{size:24})})]})})]}),r.jsx("div",{className:`card bg-dark-800 border-2 ${u?"border-primary-500 bg-primary-500/10":"border-dark-700"} p-8 transition-all duration-300`,onDragEnter:k,onDragLeave:k,onDragOver:k,onDrop:E,children:r.jsx("div",{className:"text-center",children:r.jsxs("div",{className:"flex flex-col items-center justify-center",children:[r.jsx("div",{className:"mb-4",children:r.jsx(Ea,{size:48,className:`${u?"text-primary-400":"text-gray-600"}`})}),r.jsx("h3",{className:"text-lg font-medium text-white mb-2 flex items-center justify-center",children:c?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-primary-500 mr-2"}),"Scanning Document..."]}):"Upload or Scan Document"}),r.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Drag and drop your receipt or PDF here, or use the buttons below"}),r.jsxs("div",{className:"flex space-x-4",children:[r.jsxs("div",{children:[r.jsx("input",{type:"file",accept:"image/*,application/pdf",onChange:I,className:"hidden",id:"receipt-upload",disabled:c}),r.jsxs("label",{htmlFor:"receipt-upload",className:"btn btn-secondary flex items-center space-x-2 cursor-pointer hover:bg-dark-600 transition-colors duration-300",children:[r.jsx(En,{size:16,className:c?"animate-bounce":""}),r.jsx("span",{children:"Browse Files"})]})]}),r.jsxs("button",{onClick:j,className:"btn btn-secondary flex items-center space-x-2",disabled:c,children:[r.jsx(B0,{size:16}),r.jsx("span",{children:"Take Photo"})]})]})]})})}),f&&r.jsx("div",{className:"fixed inset-0 bg-black/75 flex items-center justify-center z-50",children:r.jsx("div",{className:"bg-dark-800 rounded-lg p-4 w-full max-w-2xl",children:r.jsxs("div",{className:"relative",children:[r.jsx("video",{ref:g,autoPlay:!0,playsInline:!0,className:"w-full rounded-lg"}),r.jsxs("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center space-x-4",children:[r.jsx("button",{onClick:y,className:"btn btn-danger",children:"Cancel"}),r.jsx("button",{onClick:b,className:"btn btn-primary",children:"Take Photo"})]})]})})}),r.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-white",children:"Recent Expenses"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"text",placeholder:"Search expenses...",className:"input w-64",value:s,onChange:_=>n(_.target.value)}),r.jsxs("button",{className:"btn btn-secondary flex items-center space-x-2",children:[r.jsx(lr,{size:16}),r.jsx("span",{children:"Export"})]})]})]}),r.jsxs("div",{className:"overflow-x-auto",children:[r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-dark-700",children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Date"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Merchant"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Category"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Amount"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-dark-700",children:t.map(_=>r.jsxs("tr",{className:"hover:bg-dark-700/50",children:[r.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:new Date(_.date).toLocaleDateString()}),r.jsxs("td",{className:"px-4 py-4 whitespace-nowrap group",children:[r.jsx("div",{className:"text-sm font-medium text-white",children:_.merchant}),r.jsx("div",{className:"text-sm text-gray-400",children:_.description})]}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:_.category}),r.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:["$",_.amount.toFixed(2)]}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${_.status==="approved"?"bg-green-900/30 text-green-400":_.status==="rejected"?"bg-red-900/30 text-red-400":"bg-yellow-900/30 text-yellow-400"}`,children:_.status.charAt(0).toUpperCase()+_.status.slice(1)})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-right text-sm font-medium",children:r.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[r.jsx("button",{className:"text-gray-400 hover:text-white transition-colors duration-200",children:r.jsx(Pn,{size:16})}),r.jsx("button",{className:"text-gray-400 hover:text-white transition-colors duration-200",children:r.jsx(Or,{size:16})}),r.jsx("button",{className:"text-gray-400 hover:text-red-500 transition-colors duration-200",children:r.jsx(Ys,{size:16})})]})})]},_.id))})]}),t.length===0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Ea,{size:48,className:"text-gray-600 mb-4 mx-auto"}),r.jsx("p",{className:"text-gray-400 text-lg mb-2",children:"No expenses found"}),r.jsx("p",{className:"text-gray-500 text-sm",children:"Upload a receipt or add an expense manually to get started"})]})]})]})]})},AK=()=>r.jsxs("div",{className:"space-y-16",children:[r.jsx("section",{className:"bg-gradient-to-br from-primary-900 to-primary-800 rounded-2xl p-8 md:p-12",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Smart Expense Management"}),r.jsx("p",{className:"text-primary-200 text-lg mb-6",children:"Effortlessly track and manage expenses with AI-powered receipt scanning, automated categorization, and real-time analytics."}),r.jsxs("div",{className:"flex flex-wrap gap-4",children:[r.jsx(de,{to:"/register",className:"btn btn-primary bg-white text-primary-900 hover:bg-gray-100",children:"Start Free"}),r.jsx(de,{to:"/demo",className:"btn btn-secondary border border-white text-white hover:bg-primary-700",children:"Schedule Demo"})]})]}),r.jsx("div",{className:"hidden md:block",children:r.jsx("div",{className:"bg-dark-800 rounded-lg p-8 border-2 border-dashed border-dark-600 hover:border-primary-500 transition-colors",children:r.jsxs("div",{className:"text-center",children:[r.jsx(us,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Drag and Drop Receipts"}),r.jsx("p",{className:"text-gray-300 mb-6",children:"Drop your receipts here or use your device's camera"}),r.jsxs("div",{className:"flex justify-center space-x-4",children:[r.jsx("button",{className:"btn btn-primary",children:"Take a Photo"}),r.jsx("button",{className:"btn btn-secondary",children:"Browse Files"})]})]})})})]})}),r.jsxs("section",{children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Smart Expense Features"}),r.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Powerful tools to streamline your expense management process."})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[r.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:r.jsx(B0,{className:"text-primary-400"})}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Smart Receipt Capture"}),r.jsx("p",{className:"text-gray-400",children:"Instantly scan receipts using your device's camera with automatic data extraction and validation."})]}),r.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[r.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:r.jsx(En,{className:"text-primary-400"})}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Drag & Drop Processing"}),r.jsx("p",{className:"text-gray-400",children:"Simply drag and drop receipts, invoices, or any expense documents for instant processing."})]}),r.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[r.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:r.jsx(Ge,{className:"text-primary-400"})}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"AI Data Extraction"}),r.jsx("p",{className:"text-gray-400",children:"Advanced AI technology automatically extracts and categorizes expense data with high accuracy."})]}),r.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[r.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:r.jsx(yu,{className:"text-primary-400"})}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Auto-Categorization"}),r.jsx("p",{className:"text-gray-400",children:"Smart categorization of expenses based on vendor, amount, and historical data."})]}),r.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[r.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:r.jsx(wt,{className:"text-primary-400"})}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Digital Storage"}),r.jsx("p",{className:"text-gray-400",children:"Secure cloud storage for all your receipts and expense documents with easy search and retrieval."})]}),r.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[r.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:r.jsx(na,{className:"text-primary-400"})}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Expense Analytics"}),r.jsx("p",{className:"text-gray-400",children:"Detailed expense reports and analytics to help you understand and optimize spending."})]})]})]}),r.jsxs("section",{className:"bg-dark-800 rounded-2xl p-8",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"How It Works"}),r.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Expense management has never been easier with our AI-powered solution."})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"bg-primary-900/30 p-4 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:r.jsx(B0,{className:"text-primary-400 h-8 w-8"})}),r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Capture"}),r.jsx("p",{className:"text-gray-400",children:"Take a photo of your receipt or drag and drop your documents."})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"bg-primary-900/30 p-4 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:r.jsx(Ge,{className:"text-primary-400 h-8 w-8"})}),r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Process"}),r.jsx("p",{className:"text-gray-400",children:"AI automatically extracts and validates all relevant information."})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"bg-primary-900/30 p-4 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:r.jsx(yu,{className:"text-primary-400 h-8 w-8"})}),r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Categorize"}),r.jsx("p",{className:"text-gray-400",children:"Expenses are automatically categorized and organized."})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"bg-primary-900/30 p-4 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:r.jsx(na,{className:"text-primary-400 h-8 w-8"})}),r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Analyze"}),r.jsx("p",{className:"text-gray-400",children:"Generate reports and gain insights into your spending."})]})]})]}),r.jsxs("section",{children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Benefits of Smart Expense Management"}),r.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"See how our expense management solution can transform your business operations."})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[r.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Save Time"}),r.jsx("p",{className:"text-gray-400 mb-4",children:"Eliminate manual data entry and automate your expense management process."}),r.jsxs("ul",{className:"space-y-2 text-gray-400",children:[r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"text-green-500 mr-2",children:""}),r.jsx("span",{children:"Reduce processing time by 90%"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"text-green-500 mr-2",children:""}),r.jsx("span",{children:"Automated data extraction"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"text-green-500 mr-2",children:""}),r.jsx("span",{children:"Instant categorization"})]})]})]}),r.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[r.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Reduce Errors"}),r.jsx("p",{className:"text-gray-400 mb-4",children:"AI-powered validation ensures accuracy in expense tracking."}),r.jsxs("ul",{className:"space-y-2 text-gray-400",children:[r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"text-green-500 mr-2",children:""}),r.jsx("span",{children:"AI data validation"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"text-green-500 mr-2",children:""}),r.jsx("span",{children:"Duplicate detection"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"text-green-500 mr-2",children:""}),r.jsx("span",{children:"Automatic error checking"})]})]})]}),r.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[r.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Better Insights"}),r.jsx("p",{className:"text-gray-400 mb-4",children:"Gain valuable insights into your business spending patterns."}),r.jsxs("ul",{className:"space-y-2 text-gray-400",children:[r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"text-green-500 mr-2",children:""}),r.jsx("span",{children:"Detailed spending analytics"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"text-green-500 mr-2",children:""}),r.jsx("span",{children:"Custom reporting"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"text-green-500 mr-2",children:""}),r.jsx("span",{children:"Trend analysis"})]})]})]}),r.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[r.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Stay Compliant"}),r.jsx("p",{className:"text-gray-400 mb-4",children:"Keep your expense records organized and audit-ready."}),r.jsxs("ul",{className:"space-y-2 text-gray-400",children:[r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"text-green-500 mr-2",children:""}),r.jsx("span",{children:"Digital receipt storage"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"text-green-500 mr-2",children:""}),r.jsx("span",{children:"Audit trail"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"text-green-500 mr-2",children:""}),r.jsx("span",{children:"Compliance reporting"})]})]})]})]})]}),r.jsxs("section",{className:"bg-gradient-to-r from-primary-800 to-primary-900 rounded-2xl p-8 md:p-12 text-center",children:[r.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Ready to Simplify Your Expense Management?"}),r.jsx("p",{className:"text-primary-200 text-lg mb-8 max-w-2xl mx-auto",children:"Join thousands of businesses that use our platform to automate their expense tracking and management."}),r.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[r.jsx(de,{to:"/register",className:"btn btn-primary bg-white text-primary-900 hover:bg-gray-100 px-6 py-3",children:"Start Your Free Account"}),r.jsx(de,{to:"/demo",className:"btn btn-secondary border border-white text-white hover:bg-primary-700 px-6 py-3",children:"Schedule Demo"})]})]})]}),CK=()=>r.jsxs("div",{className:"space-y-16",children:[r.jsx("section",{className:"bg-gradient-to-br from-primary-900 to-primary-800 rounded-2xl p-8 md:p-12",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Win More Business with Professional Quotes"}),r.jsx("p",{className:"text-primary-200 text-lg mb-6",children:"Create and send professional quotes in minutes, track their status, and convert them to invoices with a single click."}),r.jsxs("div",{className:"flex flex-wrap gap-4",children:[r.jsx(de,{to:"/register",className:"btn btn-primary bg-white text-primary-900 hover:bg-gray-100",children:"Start Free"}),r.jsx(de,{to:"/demo",className:"btn btn-secondary border border-white text-white hover:bg-primary-700",children:"Schedule Demo"})]})]}),r.jsx("div",{className:"hidden md:block",children:r.jsx("img",{src:"https://vmeomnmgqatezjqsrapj.supabase.co/storage/v1/object/public/public/images/quote-preview.jpg",alt:"Quote Management",className:"rounded-lg shadow-xl"})})]})}),r.jsxs("section",{children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Powerful Quote Features"}),r.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Everything you need to create professional quotes and win more business."})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[r.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:r.jsx(wt,{className:"text-primary-400"})}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Professional Templates"}),r.jsx("p",{className:"text-gray-400",children:"Choose from a variety of professionally designed quote templates that reflect your brand identity."})]}),r.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[r.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:r.jsx(yc,{className:"text-primary-400"})}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Quick Send"}),r.jsx("p",{className:"text-gray-400",children:"Send quotes directly to customers via email with optional attachments and personalized messages."})]}),r.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[r.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:r.jsx(Tn,{className:"text-primary-400"})}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Expiry Management"}),r.jsx("p",{className:"text-gray-400",children:"Set and manage quote expiry dates with automatic reminders and follow-ups."})]}),r.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[r.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:r.jsx(Dt,{className:"text-primary-400"})}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Approval Workflow"}),r.jsx("p",{className:"text-gray-400",children:"Streamline the quote approval process with customizable workflows and notifications."})]}),r.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[r.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:r.jsx(yu,{className:"text-primary-400"})}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Convert to Invoice"}),r.jsx("p",{className:"text-gray-400",children:"Convert accepted quotes to invoices with a single click, maintaining all line items and details."})]}),r.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[r.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:r.jsx(na,{className:"text-primary-400"})}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Quote Analytics"}),r.jsx("p",{className:"text-gray-400",children:"Track quote performance, conversion rates, and customer response times with detailed analytics."})]})]})]}),r.jsxs("section",{className:"bg-dark-800 rounded-2xl p-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Beautiful, Professional Quotes"}),r.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Our quotes are designed to impress your clients and help you win more business."})]}),r.jsx("div",{className:"rounded-xl overflow-hidden shadow-2xl",children:r.jsx("img",{src:"https://vmeomnmgqatezjqsrapj.supabase.co/storage/v1/object/public/public/images/quote-preview.jpg",alt:"Quote Template",className:"w-full"})})]}),r.jsxs("section",{children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Why Use Our Quote Management"}),r.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"See how our quote management solution can transform your sales process."})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[r.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Win More Business"}),r.jsx("p",{className:"text-gray-400 mb-4",children:"Create professional quotes quickly and follow up automatically to increase your win rate."}),r.jsxs("ul",{className:"space-y-2 text-gray-400",children:[r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"text-green-500 mr-2",children:""}),r.jsx("span",{children:"Professional quote templates"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"text-green-500 mr-2",children:""}),r.jsx("span",{children:"Automated follow-ups"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"text-green-500 mr-2",children:""}),r.jsx("span",{children:"Higher conversion rates"})]})]})]}),r.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[r.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Save Time"}),r.jsx("p",{className:"text-gray-400 mb-4",children:"Automate your quote process from creation to follow-up and conversion."}),r.jsxs("ul",{className:"space-y-2 text-gray-400",children:[r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"text-green-500 mr-2",children:""}),r.jsx("span",{children:"Quick quote generation"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"text-green-500 mr-2",children:""}),r.jsx("span",{children:"Automated reminders"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"text-green-500 mr-2",children:""}),r.jsx("span",{children:"One-click invoice conversion"})]})]})]}),r.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[r.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Track Everything"}),r.jsx("p",{className:"text-gray-400 mb-4",children:"Get insights into your quote performance and customer behavior."}),r.jsxs("ul",{className:"space-y-2 text-gray-400",children:[r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"text-green-500 mr-2",children:""}),r.jsx("span",{children:"Quote analytics dashboard"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"text-green-500 mr-2",children:""}),r.jsx("span",{children:"Conversion tracking"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"text-green-500 mr-2",children:""}),r.jsx("span",{children:"Customer response metrics"})]})]})]}),r.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[r.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Look Professional"}),r.jsx("p",{className:"text-gray-400 mb-4",children:"Present your business professionally with beautiful quotes and smooth client interaction."}),r.jsxs("ul",{className:"space-y-2 text-gray-400",children:[r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"text-green-500 mr-2",children:""}),r.jsx("span",{children:"Branded templates"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"text-green-500 mr-2",children:""}),r.jsx("span",{children:"Professional communication"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"text-green-500 mr-2",children:""}),r.jsx("span",{children:"Client portal access"})]})]})]})]})]}),r.jsxs("section",{className:"bg-gradient-to-r from-primary-800 to-primary-900 rounded-2xl p-8 md:p-12 text-center",children:[r.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Ready to Streamline Your Quote Process?"}),r.jsx("p",{className:"text-primary-200 text-lg mb-8 max-w-2xl mx-auto",children:"Join thousands of businesses that use our platform to create professional quotes and win more business."}),r.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[r.jsx(de,{to:"/register",className:"btn btn-primary bg-white text-primary-900 hover:bg-gray-100 px-6 py-3",children:"Start Your Free Account"}),r.jsx(de,{to:"/demo",className:"btn btn-secondary border border-white text-white hover:bg-primary-700 px-6 py-3",children:"Schedule Demo"})]})]})]}),PK=[],EK=()=>{const[t,e]=U.useState(""),[s,n]=U.useState([]),[a,i]=U.useState(!1),o=PK.filter(u=>u.id?.toLowerCase().includes(t.toLowerCase())||u.supplier?.toLowerCase().includes(t.toLowerCase())),l=()=>{s.length===o.length?n([]):n(o.map(u=>u.id))},c=u=>{s.includes(u)?n(s.filter(h=>h!==u)):n([...s,u])},d=async u=>{const h=u.target.files?.[0];if(h){i(!0);try{const f=await h.text();fl.parse(f,{header:!0,skipEmptyLines:!0,complete:async m=>{const{data:g,errors:x}=m;if(x.length>0){fe.error("Error parsing CSV file"),console.error("CSV parsing errors:",x);return}let j=0,y=0;for(const b of g)try{const k={supplier:b.supplier,order_date:b.order_date,expected_delivery:b.expected_delivery,items:JSON.parse(b.items||"[]"),notes:b.notes};j++}catch(k){console.error("Error importing purchase:",k),y++}fe.success(`Imported ${j} purchases successfully${y>0?` (${y} failed)`:""}`)}})}catch(f){console.error("File upload error:",f),fe.error("Failed to upload file")}finally{i(!1),u.target.value=""}}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h1",{className:"text-2xl font-bold text-white",children:"Purchases"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("div",{className:"relative hidden md:block",children:[r.jsx("input",{type:"file",accept:".csv",onChange:d,className:"hidden",id:"csv-upload",disabled:a}),r.jsxs("label",{htmlFor:"csv-upload",className:"btn btn-secondary flex items-center space-x-2 cursor-pointer",children:[r.jsx(En,{size:16,className:a?"animate-bounce":""}),r.jsx("span",{children:a?"Importing...":"Import CSV"})]})]}),r.jsxs(de,{to:"/purchases/create",className:"btn btn-primary flex items-center space-x-2",children:[r.jsx(as,{size:16}),r.jsx("span",{children:"Create Purchase Order"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx("div",{className:"card bg-dark-800 border border-dark-700",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Total Purchases"}),r.jsx("h3",{className:"text-2xl font-bold text-white mt-1",children:"0"})]}),r.jsx("div",{className:"p-3 rounded-lg bg-blue-500/20 text-blue-500",children:r.jsx(un,{size:24})})]})}),r.jsx("div",{className:"card bg-dark-800 border border-dark-700",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Received"}),r.jsx("h3",{className:"text-2xl font-bold text-white mt-1",children:"0"})]}),r.jsx("div",{className:"p-3 rounded-lg bg-green-500/20 text-green-500",children:r.jsx(un,{size:24})})]})}),r.jsx("div",{className:"card bg-dark-800 border border-dark-700",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Pending"}),r.jsx("h3",{className:"text-2xl font-bold text-white mt-1",children:"0"})]}),r.jsx("div",{className:"p-3 rounded-lg bg-yellow-500/20 text-yellow-500",children:r.jsx(un,{size:24})})]})}),r.jsx("div",{className:"card bg-dark-800 border border-dark-700",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Cancelled"}),r.jsx("h3",{className:"text-2xl font-bold text-white mt-1",children:"0"})]}),r.jsx("div",{className:"p-3 rounded-lg bg-red-500/20 text-red-500",children:r.jsx(un,{size:24})})]})})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(er,{size:18,className:"text-gray-400"})}),r.jsx("input",{type:"text",placeholder:"Search purchases...",className:"input pl-10",value:t,onChange:u=>e(u.target.value)})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{className:"btn btn-secondary flex items-center space-x-2",children:[r.jsx(ao,{size:16}),r.jsx("span",{children:"Filter"})]}),r.jsxs("button",{className:"btn btn-secondary flex items-center space-x-2",children:[r.jsx(lr,{size:16}),r.jsx("span",{children:"Export"})]})]})]}),r.jsxs("div",{className:"bg-dark-800 rounded-lg border border-dark-700 overflow-hidden",children:[o.length>0?r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-dark-700",children:[r.jsx("th",{className:"px-4 py-3 text-left",children:r.jsx("div",{className:"flex items-center",children:r.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-600 bg-dark-800 text-primary-600 focus:ring-primary-500",checked:s.length===o.length&&o.length>0,onChange:l})})}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Purchase #"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Supplier"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Date"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Amount"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-dark-700",children:o.map(u=>r.jsxs("tr",{className:"hover:bg-dark-700/50",children:[r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-600 bg-dark-800 text-primary-600 focus:ring-primary-500",checked:s.includes(u.id),onChange:()=>c(u.id)})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsx(de,{to:`/purchases/${u.id}`,className:"text-white font-medium hover:text-primary-400",children:u.id})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsx("span",{className:"text-sm text-gray-300",children:u.supplier})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:u.date?new Date(u.date).toLocaleDateString():"-"}),r.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:["$",u.amount?.toLocaleString()||"0.00"]}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${u.status==="Received"?"bg-green-900/30 text-green-400":u.status==="Pending"?"bg-yellow-900/30 text-yellow-400":"bg-red-900/30 text-red-400"}`,children:u.status})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-right text-sm font-medium",children:r.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[r.jsx(de,{to:`/purchases/${u.id}`,className:"text-gray-400 hover:text-white",children:r.jsx(Pn,{size:16})}),r.jsx(de,{to:`/purchases/${u.id}/edit`,className:"text-gray-400 hover:text-white",children:r.jsx(Or,{size:16})}),r.jsx("button",{className:"text-gray-400 hover:text-red-500",children:r.jsx(Ys,{size:16})})]})})]},u.id))})]})}):r.jsx("div",{className:"text-center py-12",children:r.jsxs("div",{className:"flex flex-col items-center justify-center",children:[r.jsx(un,{size:48,className:"text-gray-600 mb-4"}),r.jsx("p",{className:"text-gray-400 text-lg mb-2",children:"No purchases found"}),r.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Get started by creating your first purchase order"}),r.jsxs(de,{to:"/purchases/create",className:"btn btn-primary flex items-center space-x-2",children:[r.jsx(as,{size:16}),r.jsx("span",{children:"Create Purchase Order"})]})]})}),o.length>0&&r.jsxs("div",{className:"bg-dark-800 px-4 py-3 flex items-center justify-between border-t border-dark-700",children:[r.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[r.jsx("button",{className:"btn btn-secondary",children:"Previous"}),r.jsx("button",{className:"btn btn-secondary",children:"Next"})]}),r.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[r.jsx("div",{children:r.jsxs("p",{className:"text-sm text-gray-400",children:["Showing ",r.jsx("span",{className:"font-medium",children:"1"})," to ",r.jsx("span",{className:"font-medium",children:o.length})," of"," ",r.jsx("span",{className:"font-medium",children:o.length})," results"]})}),r.jsx("div",{children:r.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[r.jsxs("button",{className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-dark-600 bg-dark-700 text-sm font-medium text-gray-400 hover:bg-dark-600",children:[r.jsx("span",{className:"sr-only",children:"Previous"}),r.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:r.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),r.jsx("button",{className:"relative inline-flex items-center px-4 py-2 border border-dark-600 bg-dark-700 text-sm font-medium text-gray-400 hover:bg-dark-600",children:"1"}),r.jsxs("button",{className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-dark-600 bg-dark-700 text-sm font-medium text-gray-400 hover:bg-dark-600",children:[r.jsx("span",{className:"sr-only",children:"Next"}),r.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:r.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})})]})]})]})]})},DK=[{id:"PO-2023-001",supplier:{name:"Global Supplies Inc",email:"orders@globalsupplies.com",address:"456 Supplier Ave, Suite 200, Chicago, IL 60601",phone:"(555) 987-6543"},date:"2023-06-01",expectedDelivery:"2023-06-15",items:[{id:1,description:"Premium Widget Components",quantity:50,unitPrice:50,total:2500},{id:2,description:"Deluxe Gadget Parts",quantity:25,unitPrice:40,total:1e3},{id:3,description:"Shipping & Handling",quantity:1,unitPrice:250,total:250}],subtotal:3750,tax:0,total:3750,status:"Received",receivedDate:"2023-06-12",notes:"Priority order for Q3 manufacturing."}],LK=()=>{const{id:t}=Mn(),e=DK.find(s=>s.id===t);return e?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(de,{to:"/purchases",className:"btn btn-secondary p-2",children:r.jsx(ss,{size:20})}),r.jsxs("h1",{className:"text-2xl font-bold text-white",children:["Purchase Order ",e.id]})]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsxs(de,{to:`/purchases/${t}/edit`,className:"btn btn-primary flex items-center space-x-2",children:[r.jsx(Or,{size:16}),r.jsx("span",{children:"Edit"})]}),r.jsxs("button",{className:"btn btn-secondary flex items-center space-x-2",children:[r.jsx(Xg,{size:16}),r.jsx("span",{children:"Print"})]}),r.jsxs("button",{className:"btn btn-secondary flex items-center space-x-2",children:[r.jsx(lr,{size:16}),r.jsx("span",{children:"Download PDF"})]}),e.status!=="Received"&&r.jsxs("button",{className:"btn btn-secondary flex items-center space-x-2",children:[r.jsx(Dt,{size:16}),r.jsx("span",{children:"Mark as Received"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[r.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Purchase Status"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"text-gray-400",children:r.jsx(un,{size:18})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Status"}),r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${e.status==="Received"?"bg-green-900/30 text-green-400":e.status==="Pending"?"bg-yellow-900/30 text-yellow-400":"bg-red-900/30 text-red-400"}`,children:e.status})]})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"text-gray-400",children:r.jsx(Rs,{size:18})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Order Date"}),r.jsx("p",{className:"text-white",children:new Date(e.date).toLocaleDateString()})]})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"text-gray-400",children:r.jsx(Tn,{size:18})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Expected Delivery"}),r.jsx("p",{className:"text-white",children:new Date(e.expectedDelivery).toLocaleDateString()})]})]}),e.status==="Received"&&e.receivedDate&&r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"text-gray-400",children:r.jsx(Dt,{size:18})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Received Date"}),r.jsx("p",{className:"text-white",children:new Date(e.receivedDate).toLocaleDateString()})]})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"text-gray-400",children:r.jsx(us,{size:18})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Total Amount"}),r.jsxs("p",{className:"text-xl font-semibold text-white",children:["$",e.total.toLocaleString()]})]})]})]})]}),r.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[r.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Supplier Information"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"text-gray-400",children:r.jsx(xu,{size:18})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Supplier"}),r.jsx("p",{className:"text-white font-medium",children:e.supplier.name})]})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"text-gray-400",children:r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[r.jsx("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),r.jsx("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Email"}),r.jsx("p",{className:"text-white",children:e.supplier.email})]})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"text-gray-400",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"})})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Phone"}),r.jsx("p",{className:"text-white",children:e.supplier.phone})]})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"text-gray-400",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Address"}),r.jsx("p",{className:"text-white",children:e.supplier.address})]})]})]})]}),r.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[r.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Notes"}),r.jsx("p",{className:"text-gray-300",children:e.notes})]})]}),r.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[r.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Purchase Items"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-dark-700",children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Item"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Quantity"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Unit Price"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Total"})]})}),r.jsx("tbody",{className:"divide-y divide-dark-700",children:e.items.map(s=>r.jsxs("tr",{className:"hover:bg-dark-700/50",children:[r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsx("span",{className:"text-sm font-medium text-white",children:s.description})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300 text-right",children:s.quantity}),r.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300 text-right",children:["$",s.unitPrice.toFixed(2)]}),r.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300 text-right",children:["$",s.total.toFixed(2)]})]},s.id))}),r.jsxs("tfoot",{children:[r.jsxs("tr",{className:"bg-dark-700/50",children:[r.jsx("td",{colSpan:3,className:"px-4 py-3 text-right text-sm font-medium text-gray-300",children:"Subtotal"}),r.jsxs("td",{className:"px-4 py-3 text-right text-sm font-medium text-white",children:["$",e.subtotal.toFixed(2)]})]}),r.jsxs("tr",{className:"bg-dark-700/50",children:[r.jsx("td",{colSpan:3,className:"px-4 py-3 text-right text-sm font-medium text-gray-300",children:"Tax"}),r.jsxs("td",{className:"px-4 py-3 text-right text-sm font-medium text-white",children:["$",e.tax.toFixed(2)]})]}),r.jsxs("tr",{className:"bg-dark-700",children:[r.jsx("td",{colSpan:3,className:"px-4 py-3 text-right text-sm font-medium text-gray-300",children:"Total"}),r.jsxs("td",{className:"px-4 py-3 text-right text-base font-bold text-white",children:["$",e.total.toFixed(2)]})]})]})]})})]})]}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx("p",{className:"text-gray-400 text-lg",children:"Purchase order not found"}),r.jsx(de,{to:"/purchases",className:"btn btn-primary mt-4",children:"Back to Purchases"})]})},IK=[{id:"1",name:"Global Supplies Inc",email:"orders@globalsupplies.com"},{id:"2",name:"Tech Parts Co",email:"sales@techparts.com"},{id:"3",name:"Office Solutions",email:"orders@officesolutions.com"},{id:"4",name:"Manufacturing Partners",email:"procurement@mfgpartners.com"},{id:"5",name:"Industrial Supplies",email:"sales@industrialsupplies.com"}],K2=[{id:"1",name:"Premium Widget Components",price:50},{id:"2",name:"Deluxe Gadget Parts",price:40},{id:"3",name:"Super Tool Materials",price:65},{id:"4",name:"Basic Widget Components",price:25},{id:"5",name:"Advanced Gadget Parts",price:55}],MK=()=>{const t=Qt(),{register:e,control:s,handleSubmit:n,watch:a,setValue:i,formState:{errors:o}}=Ds({defaultValues:{orderDate:new Date().toISOString().split("T")[0],expectedDelivery:new Date(Date.now()+14*24*60*60*1e3).toISOString().split("T")[0],items:[{product:"",description:"",quantity:1,unitPrice:0}],notes:"Please deliver as soon as possible."}}),{fields:l,append:c,remove:d}=Gf({control:s,name:"items"}),u=a("items"),h=u.reduce((y,b)=>y+b.quantity*b.unitPrice,0),f=0,m=h*f,g=h+m,x=(y,b)=>{const k=K2.find(A=>A.id===b);k&&(i(`items.${y}.description`,k.name),i(`items.${y}.unitPrice`,k.price))},j=y=>{console.log("Purchase order data:",y),fe.success("Purchase order created successfully!"),t("/purchases")};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(de,{to:"/purchases",className:"btn btn-secondary p-2",children:r.jsx(ss,{size:20})}),r.jsx("h1",{className:"text-2xl font-bold text-white",children:"Create Purchase Order"})]}),r.jsxs("form",{onSubmit:n(j),className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 card bg-dark-800 border border-dark-700",children:[r.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Purchase Details"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"supplier",className:"block text-sm font-medium text-gray-300 mb-1",children:"Supplier"}),r.jsxs("select",{id:"supplier",className:"input",...e("supplier",{required:"Supplier is required"}),children:[r.jsx("option",{value:"",children:"Select a supplier"}),IK.map(y=>r.jsx("option",{value:y.id,children:y.name},y.id))]}),o.supplier&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.supplier.message})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"orderDate",className:"block text-sm font-medium text-gray-300 mb-1",children:"Order Date"}),r.jsx("input",{type:"date",id:"orderDate",className:"input",...e("orderDate",{required:"Order date is required"})}),o.orderDate&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.orderDate.message})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"expectedDelivery",className:"block text-sm font-medium text-gray-300 mb-1",children:"Expected Delivery"}),r.jsx("input",{type:"date",id:"expectedDelivery",className:"input",...e("expectedDelivery",{required:"Expected delivery date is required"})}),o.expectedDelivery&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.expectedDelivery.message})]})]})]})]}),r.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[r.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Notes"}),r.jsx("div",{children:r.jsx("textarea",{rows:5,className:"input",placeholder:"Add notes to the supplier...",...e("notes")})})]})]}),r.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-white",children:"Purchase Items"}),r.jsxs("button",{type:"button",onClick:()=>c({product:"",description:"",quantity:1,unitPrice:0}),className:"btn btn-secondary flex items-center space-x-2",children:[r.jsx(as,{size:16}),r.jsx("span",{children:"Add Item"})]})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-dark-700",children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Product"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Description"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Quantity"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Unit Price"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Total"}),r.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-dark-700",children:l.map((y,b)=>r.jsxs("tr",{className:"hover:bg-dark-700/50",children:[r.jsxs("td",{className:"px-4 py-4",children:[r.jsxs("select",{className:"input",...e(`items.${b}.product`,{required:"Product is required"}),onChange:k=>x(b,k.target.value),children:[r.jsx("option",{value:"",children:"Select a product"}),K2.map(k=>r.jsx("option",{value:k.id,children:k.name},k.id))]}),o.items?.[b]?.product&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.items[b]?.product?.message})]}),r.jsxs("td",{className:"px-4 py-4",children:[r.jsx("input",{type:"text",className:"input",placeholder:"Description",...e(`items.${b}.description`,{required:"Description is required"})}),o.items?.[b]?.description&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.items[b]?.description?.message})]}),r.jsxs("td",{className:"px-4 py-4",children:[r.jsx("input",{type:"number",min:"1",className:"input text-right",...e(`items.${b}.quantity`,{required:"Quantity is required",min:{value:1,message:"Minimum quantity is 1"},valueAsNumber:!0})}),o.items?.[b]?.quantity&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.items[b]?.quantity?.message})]}),r.jsxs("td",{className:"px-4 py-4",children:[r.jsx("input",{type:"number",min:"0",step:"0.01",className:"input text-right",...e(`items.${b}.unitPrice`,{required:"Unit price is required",min:{value:0,message:"Minimum price is 0"},valueAsNumber:!0})}),o.items?.[b]?.unitPrice&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:o.items[b]?.unitPrice?.message})]}),r.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-right text-sm font-medium text-white",children:["$",(u[b]?.quantity*u[b]?.unitPrice||0).toFixed(2)]}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:r.jsx("button",{type:"button",onClick:()=>d(b),disabled:l.length===1,className:`text-gray-400 hover:text-red-500 ${l.length===1?"opacity-50 cursor-not-allowed":""}`,children:r.jsx(Ys,{size:16})})})]},y.id))}),r.jsxs("tfoot",{children:[r.jsxs("tr",{className:"bg-dark-700/50",children:[r.jsx("td",{colSpan:4,className:"px-4 py-3 text-right text-sm font-medium text-gray-300",children:"Subtotal"}),r.jsxs("td",{className:"px-4 py-3 text-right text-sm font-medium text-white",children:["$",h.toFixed(2)]}),r.jsx("td",{})]}),r.jsxs("tr",{className:"bg-dark-700/50",children:[r.jsxs("td",{colSpan:4,className:"px-4 py-3 text-right text-sm font-medium text-gray-300",children:["Tax (",(f*100).toFixed(0),"%)"]}),r.jsxs("td",{className:"px-4 py-3 text-right text-sm font-medium text-white",children:["$",m.toFixed(2)]}),r.jsx("td",{})]}),r.jsxs("tr",{className:"bg-dark-700",children:[r.jsx("td",{colSpan:4,className:"px-4 py-3 text-right text-sm font-medium text-gray-300",children:"Total"}),r.jsxs("td",{className:"px-4 py-3 text-right text-base font-bold text-white",children:["$",g.toFixed(2)]}),r.jsx("td",{})]})]})]})})]}),r.jsx("div",{className:"flex justify-end",children:r.jsxs("button",{type:"submit",className:"btn btn-primary flex items-center space-x-2",children:[r.jsx(oa,{size:16}),r.jsx("span",{children:"Create Purchase Order"})]})})]})]})},TK=()=>{const{profile:t,updateProfile:e,loading:s,error:n}=Dc(),{user:a}=Ar(),[i,o]=U.useState(""),{register:l,handleSubmit:c,reset:d,formState:{errors:u}}=Ds();U.useEffect(()=>{t&&(d(t),o(Uo(t.phone)))},[t,d]);const h=async f=>{try{await e(f),fe.success("Profile updated successfully")}catch(m){console.error("Error updating profile:",m),fe.error("Failed to update profile")}};return r.jsxs("div",{className:"space-y-8",children:[r.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Profile Settings"}),n&&r.jsx("div",{className:"bg-red-900/50 border border-red-800 text-red-300 px-4 py-3 rounded-md",children:n}),r.jsxs("form",{onSubmit:c(h),className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[r.jsx("h3",{className:"text-md font-medium text-white mb-4",children:"Basic Information"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Email"}),r.jsx("input",{type:"email",className:"input bg-dark-700 text-gray-400",value:a?.email||"",disabled:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Company Name"}),r.jsx("input",{type:"text",className:"input",placeholder:"Your company name",...l("company")})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Phone"}),r.jsx("input",{type:"tel",className:"input",value:i,onChange:f=>{const g=f.target.value.replace(/\D/g,"").slice(0,10);o(Uo(g)),l("phone").onChange({target:{value:g,name:"phone"}})},placeholder:"(555) 555-5555"})]})]})]}),r.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[r.jsx("h3",{className:"text-md font-medium text-white mb-4",children:"Address Information"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Street Address"}),r.jsx("input",{type:"text",className:"input",placeholder:"123 Business St",...l("address")})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"City"}),r.jsx("input",{type:"text",className:"input",placeholder:"City",...l("city")})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"State/Province"}),r.jsx("input",{type:"text",className:"input",placeholder:"State",...l("state")})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"ZIP/Postal Code"}),r.jsx("input",{type:"text",className:"input",placeholder:"ZIP Code",...l("zipcode")})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Country"}),r.jsxs("select",{className:"input",...l("country"),children:[r.jsx("option",{value:"CA",children:"Canada"}),r.jsx("option",{value:"US",children:"United States"})]})]})]})]})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{type:"submit",className:"btn btn-primary flex items-center space-x-2",disabled:s,children:s?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white"}),r.jsx("span",{children:"Saving..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(oa,{size:16}),r.jsx("span",{children:"Save Changes"})]})})})]})]})},FK=()=>{const{notifications:t,fetchNotifications:e,markAllAsRead:s}=zN(),[n,a]=U.useState(!1);U.useEffect(()=>{e()},[e]);const i=async()=>{if(window.confirm("Are you sure you want to clear all notifications?")){a(!0);try{const{error:o}=await Ae.from("notifications").delete().neq("id","none");if(o)throw o;await e(),fe.success("All notifications cleared")}catch(o){console.error("Error clearing notifications:",o),fe.error("Failed to clear notifications")}finally{a(!1)}}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-lg font-semibold text-white",children:"Notification Settings"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>s(),className:"btn btn-secondary",disabled:n,children:"Mark all as read"}),r.jsxs("button",{onClick:i,className:"btn btn-danger flex items-center space-x-2",disabled:n,children:[r.jsx(Ys,{size:16}),r.jsx("span",{children:"Clear All"})]})]})]}),r.jsxs("div",{className:"bg-dark-800 rounded-lg border border-dark-700 overflow-hidden",children:[r.jsx("div",{className:"p-4 border-b border-dark-700",children:r.jsx("h3",{className:"text-md font-medium text-white",children:"Recent Notifications"})}),r.jsxs("div",{className:"divide-y divide-dark-700",children:[t.map(o=>r.jsx("div",{className:`p-4 ${o.read?"bg-dark-800":"bg-dark-700"}`,children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:`text-sm font-medium ${o.read?"text-gray-300":"text-white"}`,children:o.title}),r.jsx("p",{className:"text-sm text-gray-400 mt-1",children:o.message}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:yi(new Date(o.created_at),"MMM d, yyyy h:mm a")})]}),!o.read&&r.jsx("span",{className:"w-2 h-2 bg-primary-500 rounded-full"})]})},o.id)),t.length===0&&r.jsxs("div",{className:"p-8 text-center",children:[r.jsx(hN,{size:48,className:"text-gray-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400",children:"No notifications yet"})]})]})]}),r.jsxs("div",{className:"bg-dark-800 rounded-lg border border-dark-700 p-6",children:[r.jsx("h3",{className:"text-md font-medium text-white mb-4",children:"Notification Preferences"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-white",children:"Email Notifications"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Receive notifications via email"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),r.jsx("div",{className:"w-11 h-6 bg-dark-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-white",children:"Push Notifications"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Receive browser notifications"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),r.jsx("div",{className:"w-11 h-6 bg-dark-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-white",children:"Sound"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Play sound for new notifications"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-dark-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]})]})]}),r.jsxs("div",{className:"bg-dark-800 rounded-lg border border-dark-700 p-6",children:[r.jsx("h3",{className:"text-md font-medium text-white mb-4",children:"Notification Types"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-white",children:"Invoice Reminders"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Get notified about upcoming and overdue invoices"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),r.jsx("div",{className:"w-11 h-6 bg-dark-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-white",children:"Quote Updates"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Get notified when quotes are accepted or declined"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),r.jsx("div",{className:"w-11 h-6 bg-dark-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-white",children:"Low Stock Alerts"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Get notified when products are running low"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),r.jsx("div",{className:"w-11 h-6 bg-dark-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-white",children:"Team Activity"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Get notified about team member actions"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),r.jsx("div",{className:"w-11 h-6 bg-dark-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]})]})]})]})},OK=()=>{const{customers:t}=On(),{products:e}=xn(),{invoices:s}=ho(),{quotes:n}=jp(),[a,i]=U.useState(null),o=async l=>{i(l);try{let c=[],d=[];switch(l){case"customers":c=t.map(g=>({name:g.name,email:g.email||"",phone:g.phone||"",address:g.address||"",type:g.type,status:g.status,total_spent:g.total_spent,created_at:g.created_at})),d=["name","email","phone","address","type","status","total_spent","created_at"];break;case"products":c=e.map(g=>({name:g.name,sku:g.sku,description:g.description||"",price:g.price,cost:g.cost,stock:g.stock,category:g.category||"",status:g.status})),d=["name","sku","description","price","cost","stock","category","status"];break;case"invoices":c=s.map(g=>({invoice_number:g.invoice_number,customer_name:g.customer_name,date:g.date,due_date:g.due_date,subtotal:g.subtotal,tax:g.tax,total:g.total,status:g.status})),d=["invoice_number","customer_name","date","due_date","subtotal","tax","total","status"];break;case"quotes":c=n.map(g=>({quote_number:g.quote_number,customer_name:g.customer_name,date:g.date,expiry_date:g.expiry_date,subtotal:g.subtotal,tax:g.tax,total:g.total,status:g.status})),d=["quote_number","customer_name","date","expiry_date","subtotal","tax","total","status"];break}const u=fl.unparse({fields:d,data:c}),h=new Blob([u],{type:"text/csv;charset=utf-8;"}),f=document.createElement("a"),m=URL.createObjectURL(h);f.setAttribute("href",m),f.setAttribute("download",`${l}_export_${new Date().toISOString().split("T")[0]}.csv`),f.style.visibility="hidden",document.body.appendChild(f),f.click(),document.body.removeChild(f),fe.success(`${l} data exported successfully`)}catch(c){console.error(`Error exporting ${l}:`,c),fe.error(`Failed to export ${l} data`)}finally{i(null)}};return r.jsxs("div",{className:"hidden md:block space-y-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-lg font-semibold text-white",children:"Export Data"}),r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-400",children:[r.jsx(Vu,{size:16}),r.jsx("span",{children:"Download your data in CSV format"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"card bg-dark-800 border border-dark-700 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 rounded-md bg-blue-500/20 text-blue-500",children:r.jsx(dr,{size:24})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-white",children:"Customers"}),r.jsxs("p",{className:"text-sm text-gray-400",children:[t.length," customers"]})]})]}),r.jsx("button",{onClick:()=>o("customers"),disabled:a==="customers",className:"btn btn-secondary",children:a==="customers"?r.jsxs("span",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white"}),r.jsx("span",{children:"Exporting..."})]}):r.jsxs("span",{className:"flex items-center space-x-2",children:[r.jsx(lr,{size:16}),r.jsx("span",{children:"Export CSV"})]})})]}),r.jsx("p",{className:"text-sm text-gray-400",children:"Includes customer details, contact information, and purchase history."})]}),r.jsxs("div",{className:"card bg-dark-800 border border-dark-700 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 rounded-md bg-purple-500/20 text-purple-500",children:r.jsx(cr,{size:24})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-white",children:"Products"}),r.jsxs("p",{className:"text-sm text-gray-400",children:[e.length," products"]})]})]}),r.jsx("button",{onClick:()=>o("products"),disabled:a==="products",className:"btn btn-secondary",children:a==="products"?r.jsxs("span",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white"}),r.jsx("span",{children:"Exporting..."})]}):r.jsxs("span",{className:"flex items-center space-x-2",children:[r.jsx(lr,{size:16}),r.jsx("span",{children:"Export CSV"})]})})]}),r.jsx("p",{className:"text-sm text-gray-400",children:"Includes product details, pricing, inventory levels, and categories."})]}),r.jsxs("div",{className:"card bg-dark-800 border border-dark-700 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 rounded-md bg-green-500/20 text-green-500",children:r.jsx(wt,{size:24})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-white",children:"Invoices"}),r.jsxs("p",{className:"text-sm text-gray-400",children:[s.length," invoices"]})]})]}),r.jsx("button",{onClick:()=>o("invoices"),disabled:a==="invoices",className:"btn btn-secondary",children:a==="invoices"?r.jsxs("span",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white"}),r.jsx("span",{children:"Exporting..."})]}):r.jsxs("span",{className:"flex items-center space-x-2",children:[r.jsx(lr,{size:16}),r.jsx("span",{children:"Export CSV"})]})})]}),r.jsx("p",{className:"text-sm text-gray-400",children:"Includes invoice details, items, payments, and status information."})]}),r.jsxs("div",{className:"card bg-dark-800 border border-dark-700 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 rounded-md bg-yellow-500/20 text-yellow-500",children:r.jsx(Ea,{size:24})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-white",children:"Quotes"}),r.jsxs("p",{className:"text-sm text-gray-400",children:[n.length," quotes"]})]})]}),r.jsx("button",{onClick:()=>o("quotes"),disabled:a==="quotes",className:"btn btn-secondary",children:a==="quotes"?r.jsxs("span",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white"}),r.jsx("span",{children:"Exporting..."})]}):r.jsxs("span",{className:"flex items-center space-x-2",children:[r.jsx(lr,{size:16}),r.jsx("span",{children:"Export CSV"})]})})]}),r.jsx("p",{className:"text-sm text-gray-400",children:"Includes quote details, items, and status information."})]})]}),r.jsx("div",{className:"bg-primary-900/20 border border-primary-800/50 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx(Uf,{size:20,className:"text-primary-400 mr-2 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-white mb-1",children:"About Data Exports"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Exports are generated in CSV format and can be opened in spreadsheet applications like Microsoft Excel or Google Sheets. All dates are in ISO format (YYYY-MM-DD) and numerical values use period (.) as decimal separator."})]})]})})]})},RK=()=>{const[t,e]=U.useState([]),[s,n]=U.useState(!0);U.useEffect(()=>{a()},[]);const a=async()=>{try{const{data:o,error:l}=await Ae.from("waitlist").select("*").order("created_at",{ascending:!1});if(l)throw l;e(o||[])}catch(o){console.error("Error fetching waitlist:",o),fe.error("Failed to load waitlist entries")}finally{n(!1)}},i=async(o,l)=>{try{const{error:c}=await Ae.from("waitlist").update({viewed:l}).eq("id",o);if(c)throw c;e(t.map(d=>d.id===o?{...d,viewed:l}:d)),fe.success(l?"Marked as viewed":"Marked as unviewed")}catch(c){console.error("Error updating entry:",c),fe.error("Failed to update entry")}};return s?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-500 mx-auto"}),r.jsx("p",{className:"mt-2 text-gray-400",children:"Loading waitlist entries..."})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h2",{className:"text-lg font-semibold text-white",children:"Waitlist Entries"}),r.jsxs("div",{className:"text-sm text-gray-400",children:["Total Entries: ",t.length]})]}),r.jsx("div",{className:"bg-dark-800 rounded-lg border border-dark-700 overflow-hidden",children:r.jsxs("div",{className:"overflow-x-auto",children:[r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-dark-700",children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Name"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Contact"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Plan"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Date"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-dark-700",children:t.map(o=>r.jsxs("tr",{className:`hover:bg-dark-700/50 ${o.viewed?"opacity-75":""}`,children:[r.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm font-medium text-white",children:o.full_name}),o.company&&r.jsx("div",{className:"text-sm text-gray-400",children:o.company})]}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex flex-col space-y-1",children:[r.jsxs("div",{className:"flex items-center text-sm text-gray-300",children:[r.jsx(aa,{size:14,className:"mr-1"}),o.email]}),o.phone&&r.jsxs("div",{className:"flex items-center text-sm text-gray-300",children:[r.jsx(oo,{size:14,className:"mr-1"}),o.phone]})]})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-primary-900/30 text-primary-400",children:o.plan_type})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:new Date(o.created_at).toLocaleDateString()}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${o.viewed?"bg-green-900/30 text-green-400":"bg-yellow-900/30 text-yellow-400"}`,children:o.viewed?"Viewed":"New"})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-right text-sm font-medium",children:r.jsx("button",{onClick:()=>i(o.id,!o.viewed),className:"text-gray-400 hover:text-white",children:o.viewed?r.jsx(uf,{size:16}):r.jsx(Pn,{size:16})})})]},o.id))})]}),t.length===0&&r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-gray-400 text-lg",children:"No waitlist entries yet"})})]})})]})},$K=({paymentMethods:t})=>{const{setDefaultPaymentMethod:e,removePaymentMethod:s,loading:n}=hl(),a=async l=>{try{await e(l),fe.success("Default payment method updated")}catch{fe.error("Failed to update default payment method")}},i=async l=>{if(window.confirm("Are you sure you want to remove this payment method?"))try{await s(l),fe.success("Payment method removed")}catch{fe.error("Failed to remove payment method")}},o=l=>{switch(l.toLowerCase()){case"visa":return" Visa";case"mastercard":return" Mastercard";case"amex":return" American Express";case"discover":return" Discover";default:return" Card"}};return t.length===0?r.jsxs("div",{className:"text-center py-6 bg-dark-800 rounded-lg border border-dark-700",children:[r.jsx(gu,{size:48,className:"mx-auto text-gray-500 mb-2"}),r.jsx("p",{className:"text-gray-400",children:"No payment methods added yet"})]}):r.jsx("div",{className:"space-y-4",children:t.map(l=>r.jsx("div",{className:"bg-dark-800 rounded-lg border border-dark-700 p-4",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"text-white text-lg",children:o(l.card_brand)}),r.jsxs("div",{children:[r.jsxs("p",{className:"text-white",children:[" ",l.card_last4]}),r.jsxs("p",{className:"text-sm text-gray-400",children:["Expires ",l.card_exp_month,"/",l.card_exp_year]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[l.is_default?r.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-900/30 text-green-400",children:[r.jsx(Dt,{size:12,className:"mr-1"}),"Default"]}):r.jsx("button",{onClick:()=>a(l.id),disabled:n,className:"text-sm text-primary-400 hover:text-primary-300",children:"Make Default"}),r.jsx("button",{onClick:()=>i(l.id),disabled:n||l.is_default,className:`text-red-400 hover:text-red-300 ${l.is_default?"opacity-50 cursor-not-allowed":""}`,children:r.jsx(Ys,{size:16})})]})]})},l.id))})};function X2(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function Q2(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?X2(Object(s),!0).forEach(function(n){m3(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):X2(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function Zm(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Zm=function(e){return typeof e}:Zm=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zm(t)}function m3(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function f3(t,e){return zK(t)||BK(t,e)||qK(t,e)||HK()}function zK(t){if(Array.isArray(t))return t}function BK(t,e){var s=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(s!=null){var n=[],a=!0,i=!1,o,l;try{for(s=s.call(t);!(a=(o=s.next()).done)&&(n.push(o.value),!(e&&n.length===e));a=!0);}catch(c){i=!0,l=c}finally{try{!a&&s.return!=null&&s.return()}finally{if(i)throw l}}return n}}function qK(t,e){if(t){if(typeof t=="string")return J2(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return J2(t,e)}}function J2(t,e){(e==null||e>t.length)&&(e=t.length);for(var s=0,n=new Array(e);s<e;s++)n[s]=t[s];return n}function HK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var on=function(e,s,n){var a=!!n,i=ce.useRef(n);ce.useEffect(function(){i.current=n},[n]),ce.useEffect(function(){if(!a||!e)return function(){};var o=function(){i.current&&i.current.apply(i,arguments)};return e.on(s,o),function(){e.off(s,o)}},[a,s,e,i])},wg=function(e){var s=ce.useRef(e);return ce.useEffect(function(){s.current=e},[e]),s.current},Ac=function(e){return e!==null&&Zm(e)==="object"},WK=function(e){return Ac(e)&&typeof e.then=="function"},UK=function(e){return Ac(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},Z2="[object Object]",VK=function t(e,s){if(!Ac(e)||!Ac(s))return e===s;var n=Array.isArray(e),a=Array.isArray(s);if(n!==a)return!1;var i=Object.prototype.toString.call(e)===Z2,o=Object.prototype.toString.call(s)===Z2;if(i!==o)return!1;if(!i&&!n)return e===s;var l=Object.keys(e),c=Object.keys(s);if(l.length!==c.length)return!1;for(var d={},u=0;u<l.length;u+=1)d[l[u]]=!0;for(var h=0;h<c.length;h+=1)d[c[h]]=!0;var f=Object.keys(d);if(f.length!==l.length)return!1;var m=e,g=s,x=function(y){return t(m[y],g[y])};return f.every(x)},p3=function(e,s,n){return Ac(e)?Object.keys(e).reduce(function(a,i){var o=!Ac(s)||!VK(e[i],s[i]);return n.includes(i)?(o&&console.warn("Unsupported prop change: options.".concat(i," is not a mutable property.")),a):o?Q2(Q2({},a||{}),{},m3({},i,e[i])):a},null):null},x3="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",ew=function(e){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:x3;if(e===null||UK(e))return e;throw new Error(s)},YK=function(e){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:x3;if(WK(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(a){return ew(a,s)})};var n=ew(e,s);return n===null?{tag:"empty"}:{tag:"sync",stripe:n}},GK=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"2.8.1"}),e.registerAppInfo({name:"react-stripe-js",version:"2.8.1",url:"https://stripe.com/docs/stripe-js/react"}))},Np=ce.createContext(null);Np.displayName="ElementsContext";var g3=function(e,s){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(s," in an <Elements> provider."));return e},y3=function(e){var s=e.stripe,n=e.options,a=e.children,i=ce.useMemo(function(){return YK(s)},[s]),o=ce.useState(function(){return{stripe:i.tag==="sync"?i.stripe:null,elements:i.tag==="sync"?i.stripe.elements(n):null}}),l=f3(o,2),c=l[0],d=l[1];ce.useEffect(function(){var f=!0,m=function(x){d(function(j){return j.stripe?j:{stripe:x,elements:x.elements(n)}})};return i.tag==="async"&&!c.stripe?i.stripePromise.then(function(g){g&&f&&m(g)}):i.tag==="sync"&&!c.stripe&&m(i.stripe),function(){f=!1}},[i,c,n]);var u=wg(s);ce.useEffect(function(){u!==null&&u!==s&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[u,s]);var h=wg(n);return ce.useEffect(function(){if(c.elements){var f=p3(n,h,["clientSecret","fonts"]);f&&c.elements.update(f)}},[n,h,c.elements]),ce.useEffect(function(){GK(c.stripe)},[c.stripe]),ce.createElement(Np.Provider,{value:c},a)};y3.propTypes={stripe:Te.any,options:Te.object};var KK=function(e){var s=ce.useContext(Np);return g3(s,e)},XK=function(){var e=KK("calls useElements()"),s=e.elements;return s};Te.func.isRequired;var b3=ce.createContext(null);b3.displayName="CustomCheckoutSdkContext";var QK=function(e,s){if(!e)throw new Error("Could not find CustomCheckoutProvider context; You need to wrap the part of your app that ".concat(s," in an <CustomCheckoutProvider> provider."));return e},JK=ce.createContext(null);JK.displayName="CustomCheckoutContext";Te.any,Te.shape({clientSecret:Te.string.isRequired,elementsOptions:Te.object}).isRequired;var jg=function(e){var s=ce.useContext(b3),n=ce.useContext(Np);if(s&&n)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CustomCheckoutProvider> and <Elements> providers."));return s?QK(s,e):g3(n,e)},ZK=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},$s=function(e,s){var n="".concat(ZK(e),"Element"),a=function(c){var d=c.id,u=c.className,h=c.options,f=h===void 0?{}:h,m=c.onBlur,g=c.onFocus,x=c.onReady,j=c.onChange,y=c.onEscape,b=c.onClick,k=c.onLoadError,A=c.onLoaderStart,E=c.onNetworksChange,I=c.onConfirm,_=c.onCancel,v=c.onShippingAddressChange,P=c.onShippingRateChange,L=jg("mounts <".concat(n,">")),S="elements"in L?L.elements:null,C="customCheckoutSdk"in L?L.customCheckoutSdk:null,O=ce.useState(null),z=f3(O,2),Z=z[0],q=z[1],R=ce.useRef(null),X=ce.useRef(null);on(Z,"blur",m),on(Z,"focus",g),on(Z,"escape",y),on(Z,"click",b),on(Z,"loaderror",k),on(Z,"loaderstart",A),on(Z,"networkschange",E),on(Z,"confirm",I),on(Z,"cancel",_),on(Z,"shippingaddresschange",v),on(Z,"shippingratechange",P),on(Z,"change",j);var $;x&&(e==="expressCheckout"?$=x:$=function(){x(Z)}),on(Z,"ready",$),ce.useLayoutEffect(function(){if(R.current===null&&X.current!==null&&(S||C)){var se=null;C?se=C.createElement(e,f):S&&(se=S.create(e,f)),R.current=se,q(se),se&&se.mount(X.current)}},[S,C,f]);var J=wg(f);return ce.useEffect(function(){if(R.current){var se=p3(f,J,["paymentRequest"]);se&&"update"in R.current&&R.current.update(se)}},[f,J]),ce.useLayoutEffect(function(){return function(){if(R.current&&typeof R.current.destroy=="function")try{R.current.destroy(),R.current=null}catch{}}},[]),ce.createElement("div",{id:d,className:u,ref:X})},i=function(c){jg("mounts <".concat(n,">"));var d=c.id,u=c.className;return ce.createElement("div",{id:d,className:u})},o=s?i:a;return o.propTypes={id:Te.string,className:Te.string,onChange:Te.func,onBlur:Te.func,onFocus:Te.func,onReady:Te.func,onEscape:Te.func,onClick:Te.func,onLoadError:Te.func,onLoaderStart:Te.func,onNetworksChange:Te.func,onConfirm:Te.func,onCancel:Te.func,onShippingAddressChange:Te.func,onShippingRateChange:Te.func,options:Te.object},o.displayName=n,o.__elementType=e,o},zs=typeof window>"u",eX=ce.createContext(null);eX.displayName="EmbeddedCheckoutProviderContext";var tX=function(){var e=jg("calls useStripe()"),s=e.stripe;return s};$s("auBankAccount",zs);var tw=$s("card",zs);$s("cardNumber",zs);$s("cardExpiry",zs);$s("cardCvc",zs);$s("fpxBank",zs);$s("iban",zs);$s("idealBank",zs);$s("p24Bank",zs);$s("epsBank",zs);$s("payment",zs);$s("expressCheckout",zs);$s("currencySelector",zs);$s("paymentRequestButton",zs);$s("linkAuthentication",zs);$s("address",zs);$s("shippingAddress",zs);$s("paymentMethodMessaging",zs);$s("affirmMessage",zs);$s("afterpayClearpayMessage",zs);const sX=({onSuccess:t})=>{const e=tX(),s=XK(),{createSetupIntent:n,loading:a}=hl(),[i,o]=U.useState(null),[l,c]=U.useState(null),[d,u]=U.useState(!1);U.useEffect(()=>{(async()=>{try{const{clientSecret:m}=await n();o(m)}catch(m){console.error("Error creating setup intent:",m),fe.error("Failed to initialize payment form")}})()},[n]);const h=async f=>{if(f.preventDefault(),!e||!s||!i)return;u(!0),c(null);const m=s.getElement(tw);if(!m){u(!1),c("Card element not found");return}const{error:g,setupIntent:x}=await e.confirmCardSetup(i,{payment_method:{card:m}});g?(c(g.message||"An error occurred with your card"),u(!1)):x&&(fe.success("Payment method added successfully"),t&&t(),u(!1),m.clear())};return r.jsxs("form",{onSubmit:h,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Card Details"}),r.jsx("div",{className:"p-3 bg-dark-700 rounded-md border border-dark-600",children:r.jsx(tw,{options:{style:{base:{fontSize:"16px",color:"#FFFFFF","::placeholder":{color:"#9CA3AF"}},invalid:{color:"#EF4444"}}}})}),l&&r.jsx("p",{className:"text-sm text-red-400",children:l})]}),r.jsx("button",{type:"submit",disabled:!e||!i||d||a,className:"btn btn-primary w-full",children:d||a?r.jsxs("span",{className:"flex items-center justify-center",children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):"Add Payment Method"})]})},rX=({plans:t,currentSubscription:e})=>{const{createCheckoutSession:s,cancelSubscription:n,loading:a}=hl(),[i,o]=U.useState(null),l=async h=>{try{o(h);const{url:f}=await s(h);window.location.href=f}catch{fe.error("Failed to create checkout session"),o(null)}},c=async()=>{if(e&&window.confirm("Are you sure you want to cancel your subscription? You will still have access until the end of your billing period."))try{await n(),fe.success("Subscription canceled successfully")}catch{fe.error("Failed to cancel subscription")}},u=e?t.find(h=>h.id===e.plan_id):null;return r.jsxs("div",{className:"space-y-6",children:[e&&u&&r.jsx("div",{className:"bg-primary-900/20 border border-primary-800 rounded-lg p-4",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold text-white",children:["Current Plan: ",u.name]}),r.jsxs("p",{className:"text-gray-300 mt-1",children:[e.cancel_at_period_end?"Your subscription will end on ":"Your next billing date is ",new Date(e.current_period_end).toLocaleDateString()]})]}),!e.cancel_at_period_end&&r.jsx("button",{onClick:c,disabled:a,className:"text-red-400 hover:text-red-300 text-sm",children:a?"Processing...":"Cancel Subscription"})]})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:t.map(h=>{const f=u?.id===h.id&&!e?.cancel_at_period_end,m=i===h.id;return r.jsxs("div",{className:`bg-dark-800 border rounded-lg p-6 ${f?"border-primary-500":"border-dark-700"}`,children:[r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:h.name}),r.jsxs("p",{className:"text-2xl font-bold text-white mb-4",children:["$",h.price,"/",h.interval]}),r.jsx("p",{className:"text-gray-400 mb-6",children:h.description}),r.jsx("ul",{className:"space-y-2 mb-6",children:Array.isArray(h.features)&&h.features.map((g,x)=>r.jsxs("li",{className:"flex items-start",children:[r.jsx(Dt,{size:18,className:"text-green-500 mr-2 mt-0.5 flex-shrink-0"}),r.jsx("span",{className:"text-gray-300",children:g})]},x))}),r.jsx("button",{onClick:()=>l(h.id),disabled:f||m||a||h.price===0,className:`w-full btn ${f?"btn-secondary":"btn-primary"}`,children:m?r.jsxs("span",{className:"flex items-center justify-center",children:[r.jsx(hf,{size:16,className:"animate-spin mr-2"}),"Processing..."]}):f?"Current Plan":h.price===0?"Free Plan":`Subscribe to ${h.name}`})]},h.id)})})]})},nX=()=>{const{plans:t,currentSubscription:e,paymentMethods:s,loading:n,error:a,fetchSubscriptionPlans:i,fetchCurrentSubscription:o,fetchPaymentMethods:l}=hl(),[c,d]=U.useState(!1);U.useEffect(()=>{i(),o(),l()},[i,o,l]);const u=()=>{d(!1),l()};return r.jsxs("div",{className:"space-y-8",children:[r.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Billing & Subscription"}),a&&r.jsx("div",{className:"bg-red-900/50 border border-red-800 text-red-300 px-4 py-3 rounded-md",children:a}),n&&r.jsxs("div",{className:"text-center py-4",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-500 mx-auto"}),r.jsx("p",{className:"mt-2 text-gray-400",children:"Loading billing information..."})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsx("h3",{className:"text-md font-medium text-white",children:"Subscription Plans"}),r.jsx(rX,{plans:t,currentSubscription:e})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-md font-medium text-white",children:"Payment Methods"}),!c&&r.jsx("button",{onClick:()=>d(!0),className:"btn btn-secondary text-sm",children:"Add Payment Method"})]}),r.jsx($K,{paymentMethods:s}),c&&r.jsxs("div",{className:"mt-6 pt-6 border-t border-dark-700",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h4",{className:"text-md font-medium text-white",children:"Add Payment Method"}),r.jsx("button",{onClick:()=>d(!1),className:"text-sm text-gray-400 hover:text-white",children:"Cancel"})]}),r.jsx(sX,{onSuccess:u})]})]}),r.jsx("div",{className:"bg-dark-800 border border-dark-700 rounded-lg p-6",children:r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"p-2 rounded-md bg-blue-500/20 text-blue-500",children:r.jsx(gu,{size:24})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-md font-medium text-white mb-2",children:"Billing Security"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Your payment information is securely processed by Stripe. We never store your full card details on our servers."})]})]})})]})},aX=()=>{const t="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";if(!t.startsWith("sk-"))throw new Error("Invalid OpenAI API key format. Please check your key.");return new OpenAI({apiKey:t,dangerouslyAllowBrowser:!0,maxRetries:3,timeout:3e4})},Td={async createAgent(t){try{const{data:e}=await Ae.auth.getUser();if(!e?.user)throw new Error("User not authenticated");const{data:s,error:n}=await Ae.from("ai_agents").insert([{...t,user_id:e.user.id,status:"active",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select().single();if(n)throw n;return s}catch(e){throw console.error("Error creating AI agent:",e),e}},async getAgents(){try{const{data:t,error:e}=await Ae.from("ai_agents").select("*").order("created_at",{ascending:!1});if(e)throw e;return t||[]}catch(t){throw console.error("Error fetching AI agents:",t),t}},async updateAgent(t,e){try{const{data:s,error:n}=await Ae.from("ai_agents").update({...e,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(n)throw n;return s}catch(s){throw console.error("Error updating AI agent:",s),s}},async deleteAgent(t){try{const{error:e}=await Ae.from("ai_agents").delete().eq("id",t);if(e)throw e}catch(e){throw console.error("Error deleting AI agent:",e),e}},async logAgentActivity(t){try{const{data:e,error:s}=await Ae.from("ai_agent_logs").insert([{...t,created_at:new Date().toISOString()}]).select().single();if(s)throw s;return e}catch(e){throw console.error("Error logging agent activity:",e),e}},async processInvoiceReminders(t){try{const{data:e,error:s}=await Ae.from("invoices").select("*, customers(*)").eq("status","Issued").order("due_date",{ascending:!0});if(s)throw s;const n=new Date,a=e.map(async i=>{const o=new Date(i.due_date),l=Math.ceil((o.getTime()-n.getTime())/(1e3*60*60*24));if(t.settings.reminder_schedule.days_before.includes(l)){const c=await this.generateReminderMessage(t,i);for(const d of t.settings.communication_channels)try{d==="email"&&i.customer_email?await fn.sendEmail(i.customer_email,`Payment Reminder: Invoice ${i.invoice_number}`,c,t.user_id):d==="sms"&&i.customer?.phone,await this.logAgentActivity({agent_id:t.id,action_type:"reminder_sent",channel:d,customer_id:i.customer_id,invoice_id:i.id,message:c,status:"success"})}catch(u){console.error(`Error sending ${d} reminder:`,u),await this.logAgentActivity({agent_id:t.id,action_type:"reminder_sent",channel:d,customer_id:i.customer_id,invoice_id:i.id,message:c,status:"failed"})}}});await Promise.all(a)}catch(e){throw console.error("Error processing invoice reminders:",e),e}},async generateReminderMessage(t,e){try{const s=aX();try{await s.models.list()}catch(a){throw a?.status===401?new Error("Invalid API key or insufficient permissions. Please check your OpenAI API key and organization settings."):a}return(await s.chat.completions.create({model:"gpt-3.5-turbo",messages:[{role:"system",content:`You are a professional accounts receivable agent. Your tone is ${t.settings.tone}. You need to write a payment reminder for an invoice.`},{role:"user",content:`Write a payment reminder for invoice ${e.invoice_number} for ${e.customer_name}. The amount is $${e.total.toFixed(2)} and it's due on ${new Date(e.due_date).toLocaleDateString()}.`}]})).choices[0].message.content}catch(s){return console.error("Error generating AI message:",s),{professional:`Dear ${e.customer_name},

This is a reminder that invoice ${e.invoice_number} for $${e.total.toFixed(2)} is due on ${new Date(e.due_date).toLocaleDateString()}. Please ensure timely payment to maintain our excellent business relationship.

Best regards,
Your Account Manager`,friendly:`Hi ${e.customer_name}! 

Just a friendly reminder about invoice ${e.invoice_number} for $${e.total.toFixed(2)} that's due on ${new Date(e.due_date).toLocaleDateString()}. Would really appreciate if you could take care of this when you get a chance!

Thanks so much!
Your Account Manager`,formal:`Dear ${e.customer_name},

This correspondence serves as a formal reminder regarding Invoice ${e.invoice_number}, amounting to $${e.total.toFixed(2)}, which is due for payment on ${new Date(e.due_date).toLocaleDateString()}. Your prompt attention to this matter would be greatly appreciated.

Yours sincerely,
Your Account Manager`}[t.settings.tone]}}},iX=Jr((t,e)=>({agents:[],logs:[],loading:!1,error:null,clearError:()=>t({error:null}),fetchAgents:async()=>{t({loading:!0,error:null});try{const s=await Td.getAgents();t({agents:s,loading:!1})}catch(s){console.error("Error in fetchAgents:",s),t({error:s.message||"Failed to fetch AI agents",loading:!1})}},createAgent:async s=>{t({loading:!0,error:null});try{const n=await Td.createAgent(s),a=[...e().agents,n];return t({agents:a,loading:!1}),n}catch(n){throw console.error("Error in createAgent:",n),t({error:n.message||"Failed to create AI agent",loading:!1}),n}},updateAgent:async(s,n)=>{t({loading:!0,error:null});try{const a=await Td.updateAgent(s,n),i=e().agents.map(o=>o.id===s?a:o);return t({agents:i,loading:!1}),a}catch(a){throw console.error("Error in updateAgent:",a),t({error:a.message||"Failed to update AI agent",loading:!1}),a}},deleteAgent:async s=>{t({loading:!0,error:null});try{await Td.deleteAgent(s);const n=e().agents.filter(a=>a.id!==s);t({agents:n,loading:!1})}catch(n){throw console.error("Error in deleteAgent:",n),t({error:n.message||"Failed to delete AI agent",loading:!1}),n}},fetchAgentLogs:async s=>{t({loading:!0,error:null});try{const{data:n,error:a}=await Td.getAgentLogs(s);if(a)throw a;t({logs:n,loading:!1})}catch(n){console.error("Error in fetchAgentLogs:",n),t({error:n.message||"Failed to fetch agent logs",loading:!1})}}})),oX=()=>{const{agents:t,loading:e,error:s,fetchAgents:n,createAgent:a,updateAgent:i,deleteAgent:o}=iX(),[l,c]=U.useState(!1),[d,u]=U.useState(null);U.useEffect(()=>{n()},[n]);const h=async g=>{g.preventDefault();const x=new FormData(g.currentTarget);try{await a({name:x.get("name"),type:x.get("type"),settings:{tone:x.get("tone"),communication_channels:x.getAll("channels"),working_hours:{start:x.get("workingHoursStart"),end:x.get("workingHoursEnd"),timezone:Intl.DateTimeFormat().resolvedOptions().timeZone},reminder_schedule:{days_before:[1,3,7],follow_up_interval:3}}}),c(!1),fe.success("AI agent created successfully")}catch{fe.error("Failed to create AI agent")}},f=async g=>{try{await i(g.id,{status:g.status==="active"?"paused":"active"}),fe.success(`Agent ${g.status==="active"?"paused":"activated"}`)}catch{fe.error("Failed to update agent status")}},m=async g=>{if(window.confirm("Are you sure you want to delete this agent?"))try{await o(g.id),fe.success("Agent deleted successfully")}catch{fe.error("Failed to delete agent")}};return e?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-primary-500 mx-auto"}),r.jsx("p",{className:"mt-2 text-gray-400",children:"Loading AI agents..."})]}):r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h2",{className:"text-lg font-semibold text-white",children:"AI Agents"}),t.length>0&&r.jsxs("button",{onClick:()=>c(!0),className:"btn btn-primary flex items-center space-x-2",children:[r.jsx(as,{size:16}),r.jsx("span",{children:"Create Agent"})]})]}),s&&r.jsx("div",{className:"bg-red-900/50 border border-red-800 text-red-300 px-4 py-3 rounded-md",children:s}),l&&r.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-md font-medium text-white",children:"Create New AI Agent"}),r.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-white",children:"Cancel"})]}),r.jsxs("form",{onSubmit:h,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Agent Name"}),r.jsx("input",{type:"text",name:"name",required:!0,className:"input",placeholder:"e.g., Payment Reminder Agent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Agent Type"}),r.jsxs("select",{name:"type",required:!0,className:"input",children:[r.jsx("option",{value:"invoice_reminder",children:"Invoice Reminder"}),r.jsx("option",{value:"payment_collection",children:"Payment Collection"}),r.jsx("option",{value:"customer_service",children:"Customer Service"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Communication Tone"}),r.jsxs("select",{name:"tone",required:!0,className:"input",children:[r.jsx("option",{value:"professional",children:"Professional"}),r.jsx("option",{value:"friendly",children:"Friendly"}),r.jsx("option",{value:"formal",children:"Formal"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Communication Channels"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",name:"channels",value:"email",defaultChecked:!0,className:"h-4 w-4 rounded border-gray-600 bg-dark-800 text-primary-600 focus:ring-primary-500"}),r.jsx("span",{className:"ml-2 text-gray-300",children:"Email"})]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",name:"channels",value:"sms",className:"h-4 w-4 rounded border-gray-600 bg-dark-800 text-primary-600 focus:ring-primary-500"}),r.jsx("span",{className:"ml-2 text-gray-300",children:"SMS"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Working Hours"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Start"}),r.jsx("input",{type:"time",name:"workingHoursStart",defaultValue:"09:00",required:!0,className:"input"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"End"}),r.jsx("input",{type:"time",name:"workingHoursEnd",defaultValue:"17:00",required:!0,className:"input"})]})]})]}),r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-secondary",children:"Cancel"}),r.jsx("button",{type:"submit",className:"btn btn-primary",children:"Create Agent"})]})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:t.map(g=>r.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`p-2 rounded-lg ${g.status==="active"?"bg-green-500/20 text-green-500":"bg-gray-500/20 text-gray-500"}`,children:r.jsx(Ge,{size:24})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-white",children:g.name}),r.jsx("p",{className:"text-sm text-gray-400",children:g.type.replace("_"," ").replace(/\b\w/g,x=>x.toUpperCase())})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>f(g),className:`btn ${g.status==="active"?"btn-secondary":"btn-primary"}`,children:g.status==="active"?r.jsx(wC,{size:16}):r.jsx(jC,{size:16})}),r.jsx("button",{onClick:()=>u(g),className:"btn btn-secondary",children:r.jsx(Vf,{size:16})}),r.jsx("button",{onClick:()=>m(g),className:"btn btn-danger",children:r.jsx(Ys,{size:16})})]})]}),r.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-dark-700 rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-center text-gray-400 mb-1",children:[r.jsx(Tn,{size:16,className:"mr-1"}),r.jsx("span",{className:"text-xs",children:"Working Hours"})]}),r.jsxs("p",{className:"text-sm text-white",children:[g.settings.working_hours.start," - ",g.settings.working_hours.end]})]}),r.jsxs("div",{className:"bg-dark-700 rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-center text-gray-400 mb-1",children:[r.jsx(io,{size:16,className:"mr-1"}),r.jsx("span",{className:"text-xs",children:"Communication"})]}),r.jsx("p",{className:"text-sm text-white",children:g.settings.communication_channels.join(", ")})]})]}),r.jsxs("div",{className:"mt-4",children:[r.jsxs("div",{className:"flex items-center text-gray-400 mb-2",children:[r.jsx(ZA,{size:16,className:"mr-1"}),r.jsx("span",{className:"text-xs",children:"Recent Activity"})]}),r.jsx("div",{className:"text-sm text-gray-300",children:"No recent activity"})]})]},g.id))}),t.length===0&&!e&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Ge,{size:48,className:"text-gray-600 mb-4 mx-auto"}),r.jsx("p",{className:"text-gray-400 text-lg mb-2",children:"No AI agents found"}),r.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Create your first AI agent to automate tasks"}),r.jsxs("button",{onClick:()=>c(!0),className:"btn btn-primary flex items-center space-x-2 mx-auto",children:[r.jsx(as,{size:16}),r.jsx("span",{children:"Create Agent"})]})]})]})},lX=()=>{const{user:t}=Ar(),[e,s]=U.useState(!1),[n,a]=U.useState(!1),[i,o]=U.useState(!1),{register:l,handleSubmit:c,formState:{errors:d},getValues:u,setValue:h}=Ds();U.useEffect(()=>{const g=x=>{n&&(x.preventDefault(),x.returnValue="")};return window.addEventListener("beforeunload",g),()=>window.removeEventListener("beforeunload",g)},[n]),U.useEffect(()=>{(async()=>{if(t){s(!0);try{const x=await fn.getEmailSettings(t.id);x&&(h("smtp_host",x.smtp_host),h("smtp_port",x.smtp_port),h("smtp_username",x.smtp_username),h("smtp_password",x.smtp_password),h("from_email",x.from_email),h("from_name",x.from_name))}catch(x){console.error("Error loading email settings:",x)}finally{s(!1)}}})()},[t]);const f=async g=>{if(t){a(!0);try{console.log("Submitting email settings:",g),await fn.saveEmailSettings(t.id,g),fe.success("Email settings saved successfully")}catch(x){console.error("Error saving email settings:",x),fe.error(x instanceof Error?x.message:"Failed to save email settings")}finally{a(!1)}}},m=async()=>{if(t){o(!0);try{const g=u();if(console.log("Testing email settings with values:",{...g,smtp_password:"***REDACTED***"}),!g.smtp_host||!g.smtp_port||!g.smtp_username||!g.smtp_password||!g.from_email||!g.from_name){fe.error("Please fill in all required email settings fields");return}const y=await(await fetch("https://vmeomnmgqatezjqsrapj.supabase.co/functions/v1/test-email",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZtZW9tbm1ncWF0ZXpqcXNyYXBqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDA4ODI3NjQsImV4cCI6MjA1NjQ1ODc2NH0.uT7Hne2lmqLUei4931uepHFum1rtuBk7k0HRMK0V5UI"},body:JSON.stringify({to:g.from_email,subject:"CxTrack Email Settings Test",html:`
        <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px; border: 1px solid #e0e0e0; border-radius: 5px;">
          <h2 style="color: #4f46e5;">CxTrack Email Settings Test</h2>
          <p>This is a test email to verify your SMTP settings are working correctly.</p>
          <p>If you're seeing this message, your email configuration is working properly!</p>
          <div style="margin-top: 20px; padding-top: 20px; border-top: 1px solid #e0e0e0;">
            <p style="font-size: 12px; color: #666;">This is an automated message from CxTrack. Please do not reply to this email.</p>
          </div>
        </div>
      `})})).json();if(y.id)fe.success("Test email sent successfully");else throw new Error(y.error||"Failed to send test email")}catch(g){console.error("Error testing email settings:",g);const x=g instanceof Error?g.message:"Failed to test email settings. Please verify your settings and try again.";fe.error(x)}finally{o(!1)}}};return r.jsxs("div",{className:"space-y-8",children:[r.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Email Settings"}),r.jsxs("form",{onSubmit:c(f),className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[r.jsx("h3",{className:"text-md font-medium text-white mb-4",children:"SMTP Server Settings"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"smtp_host",className:"block text-sm font-medium text-gray-300 mb-1",children:"SMTP Host"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(bN,{size:16,className:"text-gray-400"})}),r.jsx("input",{id:"smtp_host",type:"text",className:`input pl-10 ${d.smtp_host?"border-red-500":""}`,placeholder:"smtp.example.com",...l("smtp_host",{required:"SMTP host is required",setValueAs:g=>g?.trim()})})]}),d.smtp_host&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:d.smtp_host.message})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"smtp_port",className:"block text-sm font-medium text-gray-300 mb-1",children:"SMTP Port"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(uC,{size:16,className:"text-gray-400"})}),r.jsx("input",{id:"smtp_port",type:"number",className:`input pl-10 ${d.smtp_port?"border-red-500":""}`,placeholder:"587",...l("smtp_port",{required:"SMTP port is required",min:{value:1,message:"Port must be greater than 0"},max:{value:65535,message:"Port must be less than 65536"},valueAsNumber:!0})})]}),d.smtp_port&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:d.smtp_port.message})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"smtp_username",className:"block text-sm font-medium text-gray-300 mb-1",children:"SMTP Username"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(aa,{size:16,className:"text-gray-400"})}),r.jsx("input",{id:"smtp_username",type:"text",className:`input pl-10 ${d.smtp_username?"border-red-500":""}`,placeholder:"username@example.com",...l("smtp_username",{required:"SMTP username is required",setValueAs:g=>g?.trim()})})]}),d.smtp_username&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:d.smtp_username.message})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"smtp_password",className:"block text-sm font-medium text-gray-300 mb-1",children:"SMTP Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(xN,{size:16,className:"text-gray-400"})}),r.jsx("input",{id:"smtp_password",type:"password",className:`input pl-10 ${d.smtp_password?"border-red-500":""}`,placeholder:"",...l("smtp_password",{required:"SMTP password is required"})})]}),d.smtp_password&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:d.smtp_password.message})]})]})]}),r.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[r.jsx("h3",{className:"text-md font-medium text-white mb-4",children:"Sender Information"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"from_email",className:"block text-sm font-medium text-gray-300 mb-1",children:"From Email"}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(aa,{size:16,className:"text-gray-400"})}),r.jsx("input",{id:"from_email",type:"email",className:`input pl-10 ${d.from_email?"border-red-500":""}`,placeholder:"noreply@yourdomain.com",...l("from_email",{required:"From email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"},setValueAs:g=>g?.trim()})})]}),d.from_email&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:d.from_email.message})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"from_name",className:"block text-sm font-medium text-gray-300 mb-1",children:"From Name"}),r.jsx("input",{id:"from_name",type:"text",className:`input ${d.from_name?"border-red-500":""}`,placeholder:"Your Company Name",...l("from_name",{required:"From name is required",setValueAs:g=>g?.trim()})}),d.from_name&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:d.from_name.message})]}),r.jsx("div",{className:"pt-4",children:r.jsx("button",{type:"button",onClick:m,disabled:i,className:"btn btn-secondary w-full",children:i?r.jsxs("span",{className:"flex items-center justify-center",children:[r.jsx("span",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white mr-2"}),"Testing..."]}):r.jsxs("span",{className:"flex items-center justify-center",children:[r.jsx(yc,{size:16,className:"mr-2"}),"Send Test Email"]})})})]})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{type:"submit",className:"btn btn-primary flex items-center space-x-2",disabled:e||n,children:e||n?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white"}),r.jsx("span",{children:"Saving..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(oa,{size:16}),r.jsx("span",{children:"Save Settings"})]})})})]})]})},cX=()=>{const[t,e]=U.useState(!1),{createCustomer:s}=On(),n=async a=>{const i=a.target.files?.[0];if(i){e(!0);try{const o=await i.text();fl.parse(o,{header:!0,skipEmptyLines:!0,complete:async l=>{const{data:c,errors:d}=l;if(d.length>0){fe.error("Error parsing CSV file"),console.error("CSV parsing errors:",d);return}let u=0,h=0;for(const f of c)try{const m={name:f.name||f.full_name||f.customer_name,email:f.email||f.email_address,phone:f.phone||f.phone_number||f.contact,address:f.address||f.street_address,type:f.type||"Individual",notes:f.notes||f.comments};if(!m.name)throw new Error("Name is required");await s(m),u++}catch(m){console.error("Error importing customer:",m),h++}fe.success(`Imported ${u} customers successfully${h>0?` (${h} failed)`:""}`)},error:l=>{console.error("CSV parsing error:",l),fe.error("Failed to parse CSV file")}})}catch(o){console.error("File upload error:",o),fe.error("Failed to upload file")}finally{e(!1),a.target.value=""}}};return r.jsxs("div",{className:"space-y-8",children:[r.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Data Import"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"hidden md:block card bg-dark-800 border border-dark-700 p-6",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx("div",{className:"p-2 rounded-md bg-primary-500/20 text-primary-400",children:r.jsx(En,{size:24})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-white",children:"Import Customers"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Import customer data from a CSV file"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"border-2 border-dashed border-dark-600 rounded-lg p-6 text-center",children:[r.jsx("input",{type:"file",accept:".csv",onChange:n,className:"hidden",id:"csv-upload",disabled:t}),r.jsxs("label",{htmlFor:"csv-upload",className:"cursor-pointer flex flex-col items-center justify-center",children:[r.jsx(En,{size:32,className:`mb-4 ${t?"animate-bounce text-primary-400":"text-gray-400"}`}),r.jsx("span",{className:"text-sm text-gray-300 mb-2",children:t?"Uploading...":"Click to upload or drag and drop"}),r.jsx("span",{className:"text-xs text-gray-400",children:"CSV files only"})]})]}),r.jsxs("div",{className:"bg-dark-700 rounded-lg p-4",children:[r.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"CSV Format Requirements"}),r.jsxs("ul",{className:"text-sm text-gray-400 space-y-1",children:[r.jsxs("li",{className:"flex items-center",children:[r.jsx(Dt,{size:16,className:"text-green-400 mr-2"}),"First row must contain column headers"]}),r.jsxs("li",{className:"flex items-center",children:[r.jsx(Dt,{size:16,className:"text-green-400 mr-2"}),"Required columns: name/full_name/customer_name"]}),r.jsxs("li",{className:"flex items-center",children:[r.jsx(Dt,{size:16,className:"text-green-400 mr-2"}),"Optional: email, phone, address, type, notes"]})]})]}),r.jsx("div",{className:"bg-primary-900/20 border border-primary-800/50 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx(Uf,{size:20,className:"text-primary-400 mr-2 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-white mb-1",children:"Important Note"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Make sure your CSV file is properly formatted and encoded in UTF-8 to avoid import errors. Large files may take longer to process."})]})]})})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"card bg-dark-800 border border-dark-700 p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Sample CSV Format"}),r.jsx("div",{className:"bg-dark-700 rounded-lg p-4 overflow-x-auto",children:r.jsx("pre",{className:"text-sm text-gray-400",children:"name,email,phone,address,type,notes John Doe,john@example.com,555-0123,123 Main St,Individual,VIP customer Jane Corp,contact@jane.com,555-0456,456 Corp Ave,Business,New client"})})]}),r.jsxs("div",{className:"card bg-dark-800 border border-dark-700 p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Supported Fields"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-white mb-1",children:"Name (Required)"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Accepted headers: name, full_name, customer_name"})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-white mb-1",children:"Email"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Accepted headers: email, email_address"})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-white mb-1",children:"Phone"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Accepted headers: phone, phone_number, contact"})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-white mb-1",children:"Address"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Accepted headers: address, street_address"})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-white mb-1",children:"Type"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Values: Individual, Business"})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-white mb-1",children:"Notes"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Accepted headers: notes, comments"})]})]})]})]})]})]})},dX=()=>{const[t]=yS(),e=t.get("tab")||"profile",s=Qt(),{user:n}=Ar();Dc();const{currentSubscription:a}=hl(),i=a?.plan_id&&["business","enterprise"].includes(a.plan_id),o=()=>{switch(e){case"profile":return r.jsx(TK,{});case"billing":return r.jsx(nX,{});case"ai-agents":return r.jsx(oX,{});case"integrations":return r.jsx(cX,{});case"email":return r.jsx(lX,{});case"data-export":return r.jsx(OK,{});case"notifications":return r.jsx(FK,{});case"waitlist":return r.jsx(RK,{});default:return null}};return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsx("h1",{className:"text-2xl font-bold text-white",children:"Settings"})}),r.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[r.jsxs("div",{className:"w-full md:w-64 space-y-1",children:[r.jsx("button",{onClick:()=>s("/settings"),className:`w-full text-left px-4 py-2 rounded-lg ${e==="profile"?"bg-primary-600 text-white":"text-gray-400 hover:bg-dark-800"}`,children:"Profile"}),r.jsx("button",{onClick:()=>s("/settings?tab=billing"),className:`w-full text-left px-4 py-2 rounded-lg ${e==="billing"?"bg-primary-600 text-white":"text-gray-400 hover:bg-dark-800"}`,children:"Billing & Subscription"}),r.jsxs("button",{onClick:()=>s("/settings?tab=ai-agents"),className:`w-full text-left px-4 py-2 rounded-lg ${e==="ai-agents"?"bg-primary-600 text-white":"text-gray-400 hover:bg-dark-800"}`,children:["AI Agents",!i&&r.jsx("span",{className:"ml-2 text-yellow-400",children:""})]}),r.jsx("button",{onClick:()=>s("/settings?tab=integrations"),className:`w-full text-left px-4 py-2 rounded-lg ${e==="integrations"?"bg-primary-600 text-white":"text-gray-400 hover:bg-dark-800"}`,children:"Integrations"}),r.jsx("button",{onClick:()=>s("/settings?tab=email"),className:`w-full text-left px-4 py-2 rounded-lg ${e==="email"?"bg-primary-600 text-white":"text-gray-400 hover:bg-dark-800"}`,children:"Email Settings"}),r.jsx("button",{onClick:()=>s("/settings?tab=data-export"),className:`w-full text-left px-4 py-2 rounded-lg ${e==="data-export"?"bg-primary-600 text-white":"text-gray-400 hover:bg-dark-800"}`,children:"Data Export"}),r.jsx("button",{onClick:()=>s("/settings?tab=notifications"),className:`w-full text-left px-4 py-2 rounded-lg ${e==="notifications"?"bg-primary-600 text-white":"text-gray-400 hover:bg-dark-800"}`,children:"Notifications"}),n?.email==="maniksharmawork@gmail.com"&&r.jsx("button",{onClick:()=>s("/settings?tab=waitlist"),className:`w-full text-left px-4 py-2 rounded-lg ${e==="waitlist"?"bg-primary-600 text-white":"text-gray-400 hover:bg-dark-800"}`,children:"Waitlist"})]}),r.jsx("div",{className:"flex-1",children:o()})]})]})},sw=()=>r.jsxs("div",{className:"min-h-screen bg-dark-950",children:[r.jsx("header",{className:"bg-primary-900 py-4 px-6",children:r.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[r.jsxs(de,{to:"/",className:"flex items-center space-x-4",children:[r.jsx("img",{src:"/logo.svg",alt:"CxTrack Logo",className:"h-10 w-10 logo-glow"}),r.jsx("h1",{className:"brand-logo text-2xl font-bold text-white brand-text",children:"CxTrack"})]}),r.jsx("div",{className:"flex items-center space-x-4",children:r.jsx(de,{to:"/register",className:"bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-md",children:"Sign Up"})})]})}),r.jsx("main",{className:"container mx-auto px-6 py-4",children:r.jsx(Qj,{})})]}),uX=()=>r.jsxs("div",{className:"space-y-16",children:[r.jsx("section",{className:"bg-gradient-to-br from-primary-900 to-primary-800 rounded-2xl p-8 md:p-12",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Customer Management That Drives Growth"}),r.jsx("p",{className:"text-primary-200 text-lg mb-6",children:"Build stronger relationships, understand your customers better, and increase retention with our comprehensive CRM solution."}),r.jsxs("div",{className:"flex flex-wrap gap-4",children:[r.jsx(de,{to:"/register",className:"btn btn-primary bg-white text-primary-900 hover:bg-gray-100",children:"Start Free"}),r.jsx(de,{to:"/login",className:"btn btn-secondary border border-white text-white hover:bg-primary-700",children:"Learn More"})]})]}),r.jsx("div",{className:"hidden md:block",children:r.jsx("img",{src:"https://images.unsplash.com/photo-1552581234-26160f608093?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=800&q=80",alt:"Customer Management Dashboard",className:"rounded-lg shadow-xl"})})]})}),r.jsxs("section",{children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Powerful Customer Management Features"}),r.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Everything you need to manage customer relationships effectively and drive business growth."})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[r.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:r.jsx(dr,{className:"text-primary-400"})}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"360 Customer View"}),r.jsx("p",{className:"text-gray-400",children:"Get a complete view of your customers including contact information, purchase history, communication logs, and more."})]}),r.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[r.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:r.jsx(io,{className:"text-primary-400"})}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Communication Tracking"}),r.jsx("p",{className:"text-gray-400",children:"Log all customer interactions in one place to ensure consistent communication and follow-ups."})]}),r.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[r.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:r.jsx(na,{className:"text-primary-400"})}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Customer Analytics"}),r.jsx("p",{className:"text-gray-400",children:"Gain insights into customer behavior, preferences, and spending patterns to optimize your sales strategy."})]}),r.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[r.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:r.jsx(vi,{className:"text-primary-400"})}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Customer Segmentation"}),r.jsx("p",{className:"text-gray-400",children:"Group customers based on demographics, purchase behavior, or custom criteria for targeted marketing."})]}),r.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[r.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:r.jsx(Tn,{className:"text-primary-400"})}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Activity Timeline"}),r.jsx("p",{className:"text-gray-400",children:"Track the complete history of customer interactions, purchases, and support requests in chronological order."})]}),r.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[r.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:r.jsx(fN,{className:"text-primary-400"})}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Task Management"}),r.jsx("p",{className:"text-gray-400",children:"Create and assign follow-up tasks to ensure no customer interaction falls through the cracks."})]})]})]}),r.jsxs("section",{className:"bg-dark-800 rounded-2xl p-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Intuitive Customer Dashboard"}),r.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Our user-friendly interface puts all customer information at your fingertips."})]}),r.jsx("div",{className:"rounded-xl overflow-hidden shadow-2xl",children:r.jsx("img",{src:"https://images.unsplash.com/photo-1551288049-bebda4e38f71?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1200&q=80",alt:"Customer Dashboard",className:"w-full"})})]}),r.jsxs("section",{className:"bg-gradient-to-r from-primary-800 to-primary-900 rounded-2xl p-8 md:p-12 text-center",children:[r.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Ready to Transform Your Customer Relationships?"}),r.jsx("p",{className:"text-primary-200 text-lg mb-8 max-w-2xl mx-auto",children:"Join thousands of businesses that use our platform to grow their customer base and increase retention."}),r.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[r.jsx(de,{to:"/register",className:"btn btn-primary bg-white text-primary-900 hover:bg-gray-100 px-6 py-3",children:"Start Your Free Account"}),r.jsx(de,{to:"/login",className:"btn btn-secondary border border-white text-white hover:bg-primary-700 px-6 py-3",children:"Learn More"})]})]})]}),hX=()=>r.jsxs("div",{className:"space-y-16",children:[r.jsx("section",{className:"bg-gradient-to-br from-primary-900 to-primary-800 rounded-2xl p-8 md:p-12",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Professional Invoicing Made Simple"}),r.jsx("p",{className:"text-primary-200 text-lg mb-6",children:"Create, send, and track professional invoices in minutes. Get paid faster and improve your cash flow."}),r.jsxs("div",{className:"flex flex-wrap gap-4",children:[r.jsx(de,{to:"/register",className:"btn btn-primary bg-white text-primary-900 hover:bg-gray-100",children:"Start Free"}),r.jsx(de,{to:"/login",className:"btn btn-secondary border border-white text-white hover:bg-primary-700",children:"View Demo"})]})]}),r.jsx("div",{className:"hidden md:block",children:r.jsx("img",{src:"https://images.unsplash.com/photo-1554224155-6726b3ff858f?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=800&q=80",alt:"Invoice Dashboard",className:"rounded-lg shadow-xl"})})]})}),r.jsxs("section",{children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Powerful Invoicing Features"}),r.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Everything you need to create professional invoices and get paid faster."})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[r.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:r.jsx(wt,{className:"text-primary-400"})}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Professional Templates"}),r.jsx("p",{className:"text-gray-400",children:"Choose from a variety of professionally designed invoice templates that reflect your brand identity."})]}),r.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[r.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:r.jsx(us,{className:"text-primary-400"})}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Multiple Payment Options"}),r.jsx("p",{className:"text-gray-400",children:"Accept payments via credit card, bank transfer, PayPal, and more to make it easy for customers to pay."})]}),r.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[r.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:r.jsx(gu,{className:"text-primary-400"})}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Automated Billing"}),r.jsx("p",{className:"text-gray-400",children:"Set up recurring invoices for subscription-based services and automate your billing process."})]}),r.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[r.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:r.jsx(na,{className:"text-primary-400"})}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Financial Reporting"}),r.jsx("p",{className:"text-gray-400",children:"Generate detailed reports on sales, outstanding invoices, and payment history to track your business performance."})]}),r.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[r.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:r.jsx(Tn,{className:"text-primary-400"})}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Payment Reminders"}),r.jsx("p",{className:"text-gray-400",children:"Send automatic reminders for overdue invoices to improve your cash flow and reduce late payments."})]}),r.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[r.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:r.jsx(Ni,{className:"text-primary-400"})}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Quick Invoice Creation"}),r.jsx("p",{className:"text-gray-400",children:"Create and send professional invoices in minutes with our intuitive interface and time-saving features."})]})]})]}),r.jsxs("section",{className:"bg-dark-800 rounded-2xl p-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Beautiful, Professional Invoices"}),r.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Our invoices are designed to look professional and make a great impression on your clients."})]}),r.jsx("div",{className:"rounded-xl overflow-hidden shadow-2xl",children:r.jsx("img",{src:"https://images.unsplash.com/photo-1633158829585-23ba8f7c8caf?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1200&q=80",alt:"Invoice Template",className:"w-full"})})]}),r.jsxs("section",{children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"How It Works"}),r.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Our invoicing system is designed to be simple and efficient, saving you time and helping you get paid faster."})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[r.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl text-center",children:[r.jsx("div",{className:"bg-primary-900/30 p-4 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:r.jsx("span",{className:"text-2xl font-bold text-primary-400",children:"1"})}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Create Invoice"}),r.jsx("p",{className:"text-gray-400",children:"Select a template and add your customer details, items, and payment terms."})]}),r.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl text-center",children:[r.jsx("div",{className:"bg-primary-900/30 p-4 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:r.jsx("span",{className:"text-2xl font-bold text-primary-400",children:"2"})}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Send Invoice"}),r.jsx("p",{className:"text-gray-400",children:"Email the invoice directly to your customer with a personalized message."})]}),r.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl text-center",children:[r.jsx("div",{className:"bg-primary-900/30 p-4 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:r.jsx("span",{className:"text-2xl font-bold text-primary-400",children:"3"})}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Get Paid"}),r.jsx("p",{className:"text-gray-400",children:"Customers can pay online through various payment methods with just a few clicks."})]}),r.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl text-center",children:[r.jsx("div",{className:"bg-primary-900/30 p-4 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:r.jsx("span",{className:"text-2xl font-bold text-primary-400",children:"4"})}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Track Payments"}),r.jsx("p",{className:"text-gray-400",children:"Monitor payment status and send automatic reminders for overdue invoices."})]})]})]}),r.jsxs("section",{className:"bg-gradient-to-r from-primary-800 to-primary-900 rounded-2xl p-8 md:p-12 text-center",children:[r.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Ready to Streamline Your Invoicing Process?"}),r.jsx("p",{className:"text-primary-200 text-lg mb-8 max-w-2xl mx-auto",children:"Join thousands of businesses that use our platform to create professional invoices and get paid faster."}),r.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[r.jsx(de,{to:"/register",className:"btn btn-primary bg-white text-primary-900 hover:bg-gray-100 px-6 py-3",children:"Start Your Free Account"}),r.jsx(de,{to:"/login",className:"btn btn-secondary border border-white text-white hover:bg-primary-700 px-6 py-3",children:"Learn More"})]})]})]}),mX=()=>r.jsxs("div",{className:"space-y-16",children:[r.jsx("section",{className:"bg-gradient-to-br from-primary-900 to-primary-800 rounded-2xl p-8 md:p-12",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Smart Inventory Management"}),r.jsx("p",{className:"text-primary-200 text-lg mb-6",children:"Track stock levels, monitor product movement, and optimize your inventory with our powerful management system."}),r.jsxs("div",{className:"flex flex-wrap gap-4",children:[r.jsx(de,{to:"/register",className:"btn btn-primary bg-white text-primary-900 hover:bg-gray-100",children:"Start Free"}),r.jsx(de,{to:"/login",className:"btn btn-secondary border border-white text-white hover:bg-primary-700",children:"View Demo"})]})]}),r.jsx("div",{className:"hidden md:block",children:r.jsx("img",{src:"https://images.unsplash.com/photo-1553413077-190dd305871c?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=800&q=80",alt:"Inventory Management",className:"rounded-lg shadow-xl"})})]})}),r.jsxs("section",{children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Powerful Inventory Features"}),r.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Everything you need to manage your inventory efficiently and prevent stockouts."})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[r.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:r.jsx(cr,{className:"text-primary-400"})}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Real-time Stock Tracking"}),r.jsx("p",{className:"text-gray-400",children:"Monitor your inventory levels in real-time across multiple locations to prevent stockouts and overstock situations."})]}),r.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[r.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:r.jsx(uN,{className:"text-primary-400"})}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Low Stock Alerts"}),r.jsx("p",{className:"text-gray-400",children:"Receive automatic notifications when inventory levels fall below your specified thresholds to ensure timely reordering."})]}),r.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[r.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:r.jsx(na,{className:"text-primary-400"})}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Inventory Analytics"}),r.jsx("p",{className:"text-gray-400",children:"Gain insights into inventory turnover, product performance, and seasonal trends to optimize your stock levels."})]}),r.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[r.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:r.jsx(vN,{className:"text-primary-400"})}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Purchase Order Management"}),r.jsx("p",{className:"text-gray-400",children:"Create and track purchase orders, manage supplier information, and streamline your procurement process."})]}),r.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[r.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:r.jsx(yu,{className:"text-primary-400"})}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Automated Reordering"}),r.jsx("p",{className:"text-gray-400",children:"Set up automatic reorder points and generate purchase orders when stock levels reach the reorder threshold."})]}),r.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[r.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:r.jsx(eu,{className:"text-primary-400"})}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Demand Forecasting"}),r.jsx("p",{className:"text-gray-400",children:"Use historical data and advanced algorithms to predict future demand and optimize your inventory levels."})]})]})]}),r.jsxs("section",{className:"bg-dark-800 rounded-2xl p-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Intuitive Inventory Dashboard"}),r.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Our user-friendly dashboard gives you a complete overview of your inventory at a glance."})]}),r.jsx("div",{className:"rounded-xl overflow-hidden shadow-2xl",children:r.jsx("img",{src:"https://images.unsplash.com/photo-1460925895917-afdab827c52f?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1200&q=80",alt:"Inventory Dashboard",className:"w-full"})})]}),r.jsxs("section",{children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Benefits of Our Inventory System"}),r.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"See how our inventory management solution can transform your business operations."})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[r.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Reduce Carrying Costs"}),r.jsx("p",{className:"text-gray-400 mb-4",children:"Optimize your inventory levels to reduce storage costs, insurance, and capital tied up in excess inventory."}),r.jsxs("ul",{className:"space-y-2 text-gray-400",children:[r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"text-green-500 mr-2",children:""}),r.jsx("span",{children:"Lower warehouse space requirements"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"text-green-500 mr-2",children:""}),r.jsx("span",{children:"Reduced insurance costs"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"text-green-500 mr-2",children:""}),r.jsx("span",{children:"Less capital tied up in inventory"})]})]})]}),r.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[r.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Prevent Stockouts"}),r.jsx("p",{className:"text-gray-400 mb-4",children:"Ensure you never miss a sale due to out-of-stock items with real-time tracking and automated alerts."}),r.jsxs("ul",{className:"space-y-2 text-gray-400",children:[r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"text-green-500 mr-2",children:""}),r.jsx("span",{children:"Automated low stock notifications"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"text-green-500 mr-2",children:""}),r.jsx("span",{children:"Timely reordering suggestions"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"text-green-500 mr-2",children:""}),r.jsx("span",{children:"Improved customer satisfaction"})]})]})]}),r.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[r.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Streamline Operations"}),r.jsx("p",{className:"text-gray-400 mb-4",children:"Automate manual processes and improve efficiency across your inventory management workflow."}),r.jsxs("ul",{className:"space-y-2 text-gray-400",children:[r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"text-green-500 mr-2",children:""}),r.jsx("span",{children:"Automated purchase orders"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"text-green-500 mr-2",children:""}),r.jsx("span",{children:"Barcode scanning capabilities"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"text-green-500 mr-2",children:""}),r.jsx("span",{children:"Reduced manual data entry"})]})]})]}),r.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[r.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Data-Driven Decisions"}),r.jsx("p",{className:"text-gray-400 mb-4",children:"Make informed inventory decisions based on accurate data and powerful analytics."}),r.jsxs("ul",{className:"space-y-2 text-gray-400",children:[r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"text-green-500 mr-2",children:""}),r.jsx("span",{children:"Detailed inventory reports"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"text-green-500 mr-2",children:""}),r.jsx("span",{children:"Product performance metrics"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"text-green-500 mr-2",children:""}),r.jsx("span",{children:"Seasonal trend analysis"})]})]})]})]})]}),r.jsxs("section",{className:"bg-gradient-to-r from-primary-800 to-primary-900 rounded-2xl p-8 md:p-12 text-center",children:[r.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Ready to Optimize Your Inventory Management?"}),r.jsx("p",{className:"text-primary-200 text-lg mb-8 max-w-2xl mx-auto",children:"Join thousands of businesses that use our platform to streamline their inventory operations and boost profitability."}),r.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[r.jsx(de,{to:"/register",className:"btn btn-primary bg-white text-primary-900 hover:bg-gray-100 px-6 py-3",children:"Start Your Free Account"}),r.jsx(de,{to:"/login",className:"btn btn-secondary border border-white text-white hover:bg-primary-700 px-6 py-3",children:"Learn More"})]})]})]}),fX=()=>r.jsxs("div",{className:"min-h-screen bg-dark-950",children:[r.jsx("div",{className:"bg-gradient-to-b from-primary-900 to-primary-800 py-16",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[r.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Research, Prospect, Close"}),r.jsx("p",{className:"text-xl text-primary-200",children:"Supercharge your sales process with AI-powered automation and insights."})]})})}),r.jsx("div",{className:"container mx-auto px-4 py-16",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[r.jsx("img",{src:"https://images.unsplash.com/photo-1552581234-26160f608093?auto=format&fit=crop&w=800&q=80",alt:"Prospect Research",className:"w-full h-48 object-cover rounded-lg mb-6"}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"Quickly understand your prospects"}),r.jsx("p",{className:"text-gray-400 mb-4",children:"Your AI teammate can easily find, summarize, and store information about your prospects."}),r.jsxs(de,{to:"/features/ai-growth-partner",className:"inline-flex items-center text-primary-400 hover:text-primary-300",children:["Learn more ",r.jsx(ct,{size:16,className:"ml-1"})]})]}),r.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[r.jsx("img",{src:"https://images.unsplash.com/photo-1553413077-190dd305871c?auto=format&fit=crop&w=800&q=80",alt:"Personalized Prospecting",className:"w-full h-48 object-cover rounded-lg mb-6"}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"Personalized prospecting"}),r.jsx("p",{className:"text-gray-400 mb-4",children:"Develop personalized emails and scripts following your playbook."}),r.jsxs(de,{to:"/features/ai-growth-partner",className:"inline-flex items-center text-primary-400 hover:text-primary-300",children:["Learn more ",r.jsx(ct,{size:16,className:"ml-1"})]})]}),r.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[r.jsx("img",{src:"https://images.unsplash.com/photo-1552664730-d307ca884978?auto=format&fit=crop&w=800&q=80",alt:"Close Deals",className:"w-full h-48 object-cover rounded-lg mb-6"}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"Close the deal"}),r.jsx("p",{className:"text-gray-400 mb-4",children:"Your AI teammate can book meetings, always making sure your CRM is up to date."}),r.jsxs(de,{to:"/features/ai-growth-partner",className:"inline-flex items-center text-primary-400 hover:text-primary-300",children:["Learn more ",r.jsx(ct,{size:16,className:"ml-1"})]})]})]})}),r.jsx("div",{className:"bg-dark-900 py-16",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsx("h2",{className:"text-3xl font-bold text-white text-center mb-12",children:"Key Features"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[{title:"AI-Powered Research",description:"Automatically gather and analyze prospect information from multiple sources."},{title:"Smart Outreach",description:"Generate personalized outreach messages based on prospect data and engagement history."},{title:"Meeting Scheduling",description:"Automate meeting scheduling with smart availability detection and reminders."},{title:"Deal Intelligence",description:"Get AI-powered insights and recommendations to close deals faster."},{title:"CRM Integration",description:"Seamlessly sync all activities and data with your existing CRM system."},{title:"Performance Analytics",description:"Track and analyze sales performance with detailed metrics and insights."}].map((t,e)=>r.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 border border-dark-700",children:[r.jsx(Ge,{className:"text-primary-500 mb-4",size:24}),r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:t.title}),r.jsx("p",{className:"text-gray-400",children:t.description})]},e))})]})}),r.jsx("div",{className:"container mx-auto px-4 py-16",children:r.jsxs("div",{className:"bg-gradient-to-r from-primary-800 to-primary-900 rounded-2xl p-8 md:p-12 text-center",children:[r.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Ready to Transform Your Sales Process?"}),r.jsx("p",{className:"text-primary-200 text-lg mb-8 max-w-2xl mx-auto",children:"Join thousands of businesses using our AI-powered sales automation to close more deals."}),r.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[r.jsx(de,{to:"/register",className:"btn btn-primary bg-white text-primary-900 hover:bg-gray-100 px-6 py-3",children:"Start Free Trial"}),r.jsx(de,{to:"/contact",className:"btn btn-secondary border border-white text-white hover:bg-primary-700 px-6 py-3",children:"Schedule Demo"})]})]})})]}),pX=()=>r.jsxs("div",{className:"min-h-screen bg-dark-950",children:[r.jsx("div",{className:"bg-gradient-to-b from-primary-900 to-primary-800 py-16",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[r.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Research, Create Content, Nurture Leads"}),r.jsx("p",{className:"text-xl text-primary-200",children:"Supercharge your marketing efforts with AI-powered content creation and lead nurturing."})]})})}),r.jsx("div",{className:"container mx-auto px-4 py-16",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[r.jsx("img",{src:"https://images.unsplash.com/photo-1551288049-bebda4e38f71?auto=format&fit=crop&w=800&q=80",alt:"Customer Research",className:"w-full h-48 object-cover rounded-lg mb-6"}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"Quickly understand your customers and prospects"}),r.jsx("p",{className:"text-gray-400 mb-4",children:"Your AI teammate can easily summarize insights and share with your team. From industry reports to user interviews."}),r.jsxs(de,{to:"/features/ai-growth-partner",className:"inline-flex items-center text-primary-400 hover:text-primary-300",children:["Learn more ",r.jsx(ct,{size:16,className:"ml-1"})]})]}),r.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[r.jsx("img",{src:"https://images.unsplash.com/photo-1542435503-956c469947f6?auto=format&fit=crop&w=800&q=80",alt:"Content Creation",className:"w-full h-48 object-cover rounded-lg mb-6"}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"Content Creation"}),r.jsx("p",{className:"text-gray-400 mb-4",children:"Develop unique content based on your own data, style, research, and guidelines."}),r.jsxs(de,{to:"/features/ai-growth-partner",className:"inline-flex items-center text-primary-400 hover:text-primary-300",children:["Learn more ",r.jsx(ct,{size:16,className:"ml-1"})]})]}),r.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[r.jsx("img",{src:"https://images.unsplash.com/photo-1557804506-669a67965ba0?auto=format&fit=crop&w=800&q=80",alt:"Lead Nurturing",className:"w-full h-48 object-cover rounded-lg mb-6"}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"Nurture leads"}),r.jsx("p",{className:"text-gray-400 mb-4",children:"Your AI teammate can develop personalized nurture sequences. Never let a lead go cold again."}),r.jsxs(de,{to:"/features/ai-growth-partner",className:"inline-flex items-center text-primary-400 hover:text-primary-300",children:["Learn more ",r.jsx(ct,{size:16,className:"ml-1"})]})]})]})}),r.jsx("div",{className:"bg-dark-900 py-16",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsx("h2",{className:"text-3xl font-bold text-white text-center mb-12",children:"Key Features"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[{title:"Market Research",description:"AI-powered research and analysis of market trends and competitor data."},{title:"Content Generation",description:"Create engaging content that resonates with your target audience."},{title:"Social Media Management",description:"Schedule and optimize posts across multiple platforms."},{title:"Email Marketing",description:"Design and execute personalized email campaigns."},{title:"Analytics & Reporting",description:"Track campaign performance and generate detailed reports."},{title:"Lead Scoring",description:"Automatically score and prioritize leads based on engagement."}].map((t,e)=>r.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 border border-dark-700",children:[r.jsx(Ge,{className:"text-primary-500 mb-4",size:24}),r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:t.title}),r.jsx("p",{className:"text-gray-400",children:t.description})]},e))})]})}),r.jsx("div",{className:"container mx-auto px-4 py-16",children:r.jsxs("div",{className:"bg-gradient-to-r from-primary-800 to-primary-900 rounded-2xl p-8 md:p-12 text-center",children:[r.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Ready to Transform Your Marketing?"}),r.jsx("p",{className:"text-primary-200 text-lg mb-8 max-w-2xl mx-auto",children:"Join thousands of businesses using our AI-powered marketing automation to drive growth."}),r.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[r.jsx(de,{to:"/register",className:"btn btn-primary bg-white text-primary-900 hover:bg-gray-100 px-6 py-3",children:"Start Free Trial"}),r.jsx(de,{to:"/contact",className:"btn btn-secondary border border-white text-white hover:bg-primary-700 px-6 py-3",children:"Schedule Demo"})]})]})})]}),xX=()=>r.jsxs("div",{className:"min-h-screen bg-dark-950",children:[r.jsx("div",{className:"bg-gradient-to-b from-primary-900 to-primary-800 py-16",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[r.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Triage, Respond, Escalate"}),r.jsx("p",{className:"text-xl text-primary-200",children:"Deliver exceptional customer support with AI-powered automation and insights."})]})})}),r.jsx("div",{className:"container mx-auto px-4 py-16",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[r.jsx("img",{src:"https://images.unsplash.com/photo-1549923746-c502d488b3ea?auto=format&fit=crop&w=800&q=80",alt:"Triage",className:"w-full h-48 object-cover rounded-lg mb-6"}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"Triage your customer enquiries"}),r.jsx("p",{className:"text-gray-400 mb-4",children:"Your AI teammate can classify your enquiries so they always end up at the right place."}),r.jsxs(de,{to:"/features/ai-growth-partner",className:"inline-flex items-center text-primary-400 hover:text-primary-300",children:["Learn more ",r.jsx(ct,{size:16,className:"ml-1"})]})]}),r.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[r.jsx("img",{src:"https://images.unsplash.com/photo-1573496359142-b8d87734a5a2?auto=format&fit=crop&w=800&q=80",alt:"Respond",className:"w-full h-48 object-cover rounded-lg mb-6"}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"Respond"}),r.jsx("p",{className:"text-gray-400 mb-4",children:"Equipped with FAQs your AI teammate can answer commonly asked questions."}),r.jsxs(de,{to:"/features/ai-growth-partner",className:"inline-flex items-center text-primary-400 hover:text-primary-300",children:["Learn more ",r.jsx(ct,{size:16,className:"ml-1"})]})]}),r.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[r.jsx("img",{src:"https://images.unsplash.com/photo-1521791136064-7986c2920216?auto=format&fit=crop&w=800&q=80",alt:"Escalate",className:"w-full h-48 object-cover rounded-lg mb-6"}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"Escalate"}),r.jsx("p",{className:"text-gray-400 mb-4",children:"For complex enquiries your AI teammate can summarize the enquiry, enrich the customers details, and escalate to a team member."}),r.jsxs(de,{to:"/features/ai-growth-partner",className:"inline-flex items-center text-primary-400 hover:text-primary-300",children:["Learn more ",r.jsx(ct,{size:16,className:"ml-1"})]})]})]})}),r.jsx("div",{className:"bg-dark-900 py-16",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsx("h2",{className:"text-3xl font-bold text-white text-center mb-12",children:"Key Features"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[{title:"Smart Ticket Routing",description:"Automatically categorize and route support tickets to the right team."},{title:"Automated Responses",description:"Generate accurate responses to common customer inquiries."},{title:"Knowledge Base Integration",description:"Seamlessly connect with your existing knowledge base."},{title:"Sentiment Analysis",description:"Detect customer sentiment and prioritize urgent issues."},{title:"Multi-channel Support",description:"Handle inquiries across email, chat, and social media."},{title:"Performance Analytics",description:"Track support metrics and team performance in real-time."}].map((t,e)=>r.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 border border-dark-700",children:[r.jsx(Ge,{className:"text-primary-500 mb-4",size:24}),r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:t.title}),r.jsx("p",{className:"text-gray-400",children:t.description})]},e))})]})}),r.jsx("div",{className:"container mx-auto px-4 py-16",children:r.jsxs("div",{className:"bg-gradient-to-r from-primary-800 to-primary-900 rounded-2xl p-8 md:p-12 text-center",children:[r.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Ready to Transform Your Customer Support?"}),r.jsx("p",{className:"text-primary-200 text-lg mb-8 max-w-2xl mx-auto",children:"Join thousands of businesses using our AI-powered customer support automation."}),r.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[r.jsx(de,{to:"/register",className:"btn btn-primary bg-white text-primary-900 hover:bg-gray-100 px-6 py-3",children:"Start Free Trial"}),r.jsx(de,{to:"/contact",className:"btn btn-secondary border border-white text-white hover:bg-primary-700 px-6 py-3",children:"Schedule Demo"})]})]})})]}),gX=()=>r.jsxs("div",{className:"min-h-screen bg-dark-950",children:[r.jsx("div",{className:"bg-gradient-to-b from-primary-900 to-primary-800 py-16",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[r.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Research, Analyze, Discover"}),r.jsx("p",{className:"text-xl text-primary-200",children:"Unlock powerful insights with AI-powered research and analysis."})]})})}),r.jsx("div",{className:"container mx-auto px-4 py-16",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[r.jsx("img",{src:"https://images.unsplash.com/photo-1460925895917-afdab827c52f?auto=format&fit=crop&w=800&q=80",alt:"Market Research",className:"w-full h-48 object-cover rounded-lg mb-6"}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"Market Research"}),r.jsx("p",{className:"text-gray-400 mb-4",children:"Your AI teammate can analyze market trends, competitor data, and industry reports."}),r.jsxs(de,{to:"/features/ai-growth-partner",className:"inline-flex items-center text-primary-400 hover:text-primary-300",children:["Learn more ",r.jsx(ct,{size:16,className:"ml-1"})]})]}),r.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[r.jsx("img",{src:"https://images.unsplash.com/photo-1551288049-bebda4e38f71?auto=format&fit=crop&w=800&q=80",alt:"Data Analysis",className:"w-full h-48 object-cover rounded-lg mb-6"}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"Data Analysis"}),r.jsx("p",{className:"text-gray-400 mb-4",children:"Process and analyze large datasets to uncover valuable insights and patterns."}),r.jsxs(de,{to:"/features/ai-growth-partner",className:"inline-flex items-center text-primary-400 hover:text-primary-300",children:["Learn more ",r.jsx(ct,{size:16,className:"ml-1"})]})]}),r.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[r.jsx("img",{src:"https://images.unsplash.com/photo-1551434678-e076c223a692?auto=format&fit=crop&w=800&q=80",alt:"Insights Generation",className:"w-full h-48 object-cover rounded-lg mb-6"}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"Insights Generation"}),r.jsx("p",{className:"text-gray-400 mb-4",children:"Generate actionable insights and recommendations from your research findings."}),r.jsxs(de,{to:"/features/ai-growth-partner",className:"inline-flex items-center text-primary-400 hover:text-primary-300",children:["Learn more ",r.jsx(ct,{size:16,className:"ml-1"})]})]})]})}),r.jsx("div",{className:"bg-dark-900 py-16",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsx("h2",{className:"text-3xl font-bold text-white text-center mb-12",children:"Key Features"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[{title:"Smart Data Collection",description:"Automatically gather data from multiple sources and formats."},{title:"Advanced Analytics",description:"Process and analyze data using cutting-edge AI algorithms."},{title:"Trend Detection",description:"Identify emerging trends and patterns in your market."},{title:"Competitor Analysis",description:"Track and analyze competitor activities and strategies."},{title:"Custom Reports",description:"Generate detailed reports tailored to your needs."},{title:"Real-time Monitoring",description:"Stay updated with real-time market and industry changes."}].map((t,e)=>r.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 border border-dark-700",children:[r.jsx(Ge,{className:"text-primary-500 mb-4",size:24}),r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:t.title}),r.jsx("p",{className:"text-gray-400",children:t.description})]},e))})]})}),r.jsx("div",{className:"container mx-auto px-4 py-16",children:r.jsxs("div",{className:"bg-gradient-to-r from-primary-800 to-primary-900 rounded-2xl p-8 md:p-12 text-center",children:[r.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Ready to Unlock Powerful Insights?"}),r.jsx("p",{className:"text-primary-200 text-lg mb-8 max-w-2xl mx-auto",children:"Join thousands of businesses using our AI-powered research platform."}),r.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[r.jsx(de,{to:"/register",className:"btn btn-primary bg-white text-primary-900 hover:bg-gray-100 px-6 py-3",children:"Start Free Trial"}),r.jsx(de,{to:"/contact",className:"btn btn-secondary border border-white text-white hover:bg-primary-700 px-6 py-3",children:"Schedule Demo"})]})]})})]}),yX=()=>r.jsxs("div",{className:"min-h-screen bg-dark-950",children:[r.jsx("div",{className:"bg-gradient-to-b from-primary-900 to-primary-800 py-16",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[r.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Triage, Inform, Resolve"}),r.jsx("p",{className:"text-xl text-primary-200",children:"Streamline your operations with AI-powered automation and workflow management."})]})})}),r.jsx("div",{className:"container mx-auto px-4 py-16",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[r.jsx("img",{src:"https://images.unsplash.com/photo-1531973576160-7125cd663d86?auto=format&fit=crop&w=800&q=80",alt:"Service Desk",className:"w-full h-48 object-cover rounded-lg mb-6"}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"Triage your service desk"}),r.jsx("p",{className:"text-gray-400 mb-4",children:"Categorize your service desk requests and get them to the right place."}),r.jsxs(de,{to:"/features/ai-growth-partner",className:"inline-flex items-center text-primary-400 hover:text-primary-300",children:["Learn more ",r.jsx(ct,{size:16,className:"ml-1"})]})]}),r.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[r.jsx("img",{src:"https://images.unsplash.com/photo-1552664730-d307ca884978?auto=format&fit=crop&w=800&q=80",alt:"Team Communication",className:"w-full h-48 object-cover rounded-lg mb-6"}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"Keep everyone informed"}),r.jsx("p",{className:"text-gray-400 mb-4",children:"Autonomously communicate updates to stakeholders."}),r.jsxs(de,{to:"/features/ai-growth-partner",className:"inline-flex items-center text-primary-400 hover:text-primary-300",children:["Learn more ",r.jsx(ct,{size:16,className:"ml-1"})]})]}),r.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[r.jsx("img",{src:"https://images.unsplash.com/photo-1454165804606-c3d57bc86b40?auto=format&fit=crop&w=800&q=80",alt:"Issue Resolution",className:"w-full h-48 object-cover rounded-lg mb-6"}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"Resolve"}),r.jsx("p",{className:"text-gray-400 mb-4",children:"Ensure requests are resolved and logged."}),r.jsxs(de,{to:"/features/ai-growth-partner",className:"inline-flex items-center text-primary-400 hover:text-primary-300",children:["Learn more ",r.jsx(ct,{size:16,className:"ml-1"})]})]})]})}),r.jsx("div",{className:"bg-dark-900 py-16",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsx("h2",{className:"text-3xl font-bold text-white text-center mb-12",children:"Key Features"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[{title:"Workflow Automation",description:"Automate repetitive tasks and streamline operations."},{title:"Smart Routing",description:"Intelligently route requests to the right team or person."},{title:"Status Tracking",description:"Real-time tracking of request status and progress."},{title:"Team Collaboration",description:"Enhanced team communication and coordination."},{title:"Performance Metrics",description:"Track and analyze operational performance."},{title:"Custom Workflows",description:"Create and optimize workflows for your needs."}].map((t,e)=>r.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 border border-dark-700",children:[r.jsx(Ge,{className:"text-primary-500 mb-4",size:24}),r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:t.title}),r.jsx("p",{className:"text-gray-400",children:t.description})]},e))})]})}),r.jsx("div",{className:"container mx-auto px-4 py-16",children:r.jsxs("div",{className:"bg-gradient-to-r from-primary-800 to-primary-900 rounded-2xl p-8 md:p-12 text-center",children:[r.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Ready to Streamline Your Operations?"}),r.jsx("p",{className:"text-primary-200 text-lg mb-8 max-w-2xl mx-auto",children:"Join thousands of businesses using our AI-powered operations platform."}),r.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[r.jsx(de,{to:"/register",className:"btn btn-primary bg-white text-primary-900 hover:bg-gray-100 px-6 py-3",children:"Start Free Trial"}),r.jsx(de,{to:"/contact",className:"btn btn-secondary border border-white text-white hover:bg-primary-700 px-6 py-3",children:"Schedule Demo"})]})]})})]}),bX=()=>r.jsxs("div",{className:"min-h-screen bg-dark-950",children:[r.jsx("div",{className:"bg-gradient-to-b from-primary-900 to-primary-800 py-16",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[r.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Your Dedicated AI Agent"}),r.jsx("p",{className:"text-xl text-primary-200",children:"Empower your business with a focused AI agent that excels at specific tasks, delivering consistent results around the clock."})]})})}),r.jsx("div",{className:"container mx-auto px-4 py-16",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[r.jsx(Ge,{className:"text-primary-500 mb-4 h-8 w-8"}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"Specialized Focus"}),r.jsx("p",{className:"text-gray-400",children:"Each AI agent is trained to excel at a specific task, ensuring high-quality, consistent results in their area of expertise."})]}),r.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[r.jsx(Wa,{className:"text-primary-500 mb-4 h-8 w-8"}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"Continuous Learning"}),r.jsx("p",{className:"text-gray-400",children:"Your AI agent learns from each interaction, constantly improving its performance and adapting to your business needs."})]}),r.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[r.jsx(Ni,{className:"text-primary-500 mb-4 h-8 w-8"}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"24/7 Availability"}),r.jsx("p",{className:"text-gray-400",children:"Never miss an opportunity with an AI agent that's always on duty, handling tasks around the clock."})]})]})}),r.jsx("div",{className:"bg-dark-900 py-16",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsx("h2",{className:"text-3xl font-bold text-white text-center mb-12",children:"Specialized AI Agents"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[r.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Collections Agent"}),r.jsxs("ul",{className:"space-y-3 text-gray-400",children:[r.jsxs("li",{className:"flex items-start",children:[r.jsx(ct,{className:"text-primary-500 mt-1 mr-2",size:16}),r.jsx("span",{children:"Automated payment follow-ups and reminders"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx(ct,{className:"text-primary-500 mt-1 mr-2",size:16}),r.jsx("span",{children:"Intelligent payment plan negotiations"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx(ct,{className:"text-primary-500 mt-1 mr-2",size:16}),r.jsx("span",{children:"Real-time payment processing"})]})]})]}),r.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[r.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Customer Service Agent"}),r.jsxs("ul",{className:"space-y-3 text-gray-400",children:[r.jsxs("li",{className:"flex items-start",children:[r.jsx(ct,{className:"text-primary-500 mt-1 mr-2",size:16}),r.jsx("span",{children:"24/7 customer inquiry handling"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx(ct,{className:"text-primary-500 mt-1 mr-2",size:16}),r.jsx("span",{children:"Smart ticket routing and escalation"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx(ct,{className:"text-primary-500 mt-1 mr-2",size:16}),r.jsx("span",{children:"Automated issue resolution"})]})]})]}),r.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[r.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Sales Agent"}),r.jsxs("ul",{className:"space-y-3 text-gray-400",children:[r.jsxs("li",{className:"flex items-start",children:[r.jsx(ct,{className:"text-primary-500 mt-1 mr-2",size:16}),r.jsx("span",{children:"Lead qualification and scoring"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx(ct,{className:"text-primary-500 mt-1 mr-2",size:16}),r.jsx("span",{children:"Automated follow-up sequences"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx(ct,{className:"text-primary-500 mt-1 mr-2",size:16}),r.jsx("span",{children:"Meeting scheduling and coordination"})]})]})]}),r.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[r.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Research Agent"}),r.jsxs("ul",{className:"space-y-3 text-gray-400",children:[r.jsxs("li",{className:"flex items-start",children:[r.jsx(ct,{className:"text-primary-500 mt-1 mr-2",size:16}),r.jsx("span",{children:"Market and competitor analysis"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx(ct,{className:"text-primary-500 mt-1 mr-2",size:16}),r.jsx("span",{children:"Data gathering and synthesis"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx(ct,{className:"text-primary-500 mt-1 mr-2",size:16}),r.jsx("span",{children:"Trend identification and reporting"})]})]})]})]})]})}),r.jsxs("div",{className:"container mx-auto px-4 py-16",children:[r.jsx("h2",{className:"text-3xl font-bold text-white text-center mb-12",children:"Why Choose a Dedicated AI Agent?"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[{title:"Focused Expertise",description:"Get better results with an AI agent that specializes in one specific task or domain."},{title:"Consistent Performance",description:"Maintain high quality standards with an agent that never gets tired or distracted."},{title:"Scalable Operations",description:"Handle increasing workloads without adding overhead or compromising quality."},{title:"Cost Effective",description:"Reduce operational costs while maintaining or improving service quality."},{title:"Quick Implementation",description:"Get started quickly with pre-trained agents ready for your specific needs."},{title:"Continuous Improvement",description:"Benefit from an agent that learns and improves from every interaction."}].map((t,e)=>r.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 border border-dark-700",children:[r.jsx(Ge,{className:"text-primary-500 mb-4",size:24}),r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:t.title}),r.jsx("p",{className:"text-gray-400",children:t.description})]},e))})]}),r.jsx("div",{className:"container mx-auto px-4 py-16",children:r.jsxs("div",{className:"bg-gradient-to-r from-primary-800 to-primary-900 rounded-2xl p-8 md:p-12 text-center",children:[r.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Ready to Get Your Dedicated AI Agent?"}),r.jsx("p",{className:"text-primary-200 text-lg mb-8 max-w-2xl mx-auto",children:"Start with a specialized AI agent today and experience the power of focused automation."}),r.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[r.jsx(de,{to:"/register",className:"btn btn-primary bg-white text-primary-900 hover:bg-gray-100 px-6 py-3",children:"Start Free Trial"}),r.jsx(de,{to:"/contact",className:"btn btn-secondary border border-white text-white hover:bg-primary-700 px-6 py-3",children:"Schedule Demo"})]})]})})]}),vX=()=>r.jsxs("div",{className:"min-h-screen bg-dark-950",children:[r.jsx("div",{className:"bg-gradient-to-b from-primary-900 to-primary-800 py-16",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[r.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"The Future of Work: AI Workforce"}),r.jsx("p",{className:"text-xl text-primary-200",children:"Experience the power of a coordinated team of AI agents working together to drive your business forward."})]})})}),r.jsx("div",{className:"container mx-auto px-4 py-16",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[r.jsx(yN,{className:"text-primary-500 mb-4 h-8 w-8"}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"Seamless Collaboration"}),r.jsx("p",{className:"text-gray-400",children:"AI agents work together in perfect harmony, sharing information and coordinating tasks automatically."})]}),r.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[r.jsx(Wa,{className:"text-primary-500 mb-4 h-8 w-8"}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"Collective Intelligence"}),r.jsx("p",{className:"text-gray-400",children:"Each agent contributes its specialized knowledge to create a powerful collective intelligence."})]}),r.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[r.jsx(Ni,{className:"text-primary-500 mb-4 h-8 w-8"}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"Automated Workflows"}),r.jsx("p",{className:"text-gray-400",children:"Tasks flow seamlessly between agents, creating efficient, automated processes."})]})]})}),r.jsx("div",{className:"bg-dark-900 py-16",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsx("h2",{className:"text-3xl font-bold text-white text-center mb-12",children:"How AI Workforce Works"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[r.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Task Distribution"}),r.jsxs("ul",{className:"space-y-3 text-gray-400",children:[r.jsxs("li",{className:"flex items-start",children:[r.jsx(ct,{className:"text-primary-500 mt-1 mr-2",size:16}),r.jsx("span",{children:"AI agents automatically distribute tasks based on specialization"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx(ct,{className:"text-primary-500 mt-1 mr-2",size:16}),r.jsx("span",{children:"Smart workload balancing ensures optimal performance"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx(ct,{className:"text-primary-500 mt-1 mr-2",size:16}),r.jsx("span",{children:"Real-time task prioritization and adjustment"})]})]})]}),r.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[r.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Information Sharing"}),r.jsxs("ul",{className:"space-y-3 text-gray-400",children:[r.jsxs("li",{className:"flex items-start",children:[r.jsx(ct,{className:"text-primary-500 mt-1 mr-2",size:16}),r.jsx("span",{children:"Seamless data exchange between AI agents"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx(ct,{className:"text-primary-500 mt-1 mr-2",size:16}),r.jsx("span",{children:"Contextual awareness across the entire workforce"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx(ct,{className:"text-primary-500 mt-1 mr-2",size:16}),r.jsx("span",{children:"Continuous knowledge base updates"})]})]})]}),r.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[r.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Process Optimization"}),r.jsxs("ul",{className:"space-y-3 text-gray-400",children:[r.jsxs("li",{className:"flex items-start",children:[r.jsx(ct,{className:"text-primary-500 mt-1 mr-2",size:16}),r.jsx("span",{children:"AI-driven workflow improvements"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx(ct,{className:"text-primary-500 mt-1 mr-2",size:16}),r.jsx("span",{children:"Automated bottleneck detection"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx(ct,{className:"text-primary-500 mt-1 mr-2",size:16}),r.jsx("span",{children:"Continuous process refinement"})]})]})]}),r.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[r.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Human Collaboration"}),r.jsxs("ul",{className:"space-y-3 text-gray-400",children:[r.jsxs("li",{className:"flex items-start",children:[r.jsx(ct,{className:"text-primary-500 mt-1 mr-2",size:16}),r.jsx("span",{children:"Seamless integration with human teams"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx(ct,{className:"text-primary-500 mt-1 mr-2",size:16}),r.jsx("span",{children:"Smart escalation to human operators"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx(ct,{className:"text-primary-500 mt-1 mr-2",size:16}),r.jsx("span",{children:"Collaborative decision-making"})]})]})]})]})]})}),r.jsxs("div",{className:"container mx-auto px-4 py-16",children:[r.jsx("h2",{className:"text-3xl font-bold text-white text-center mb-12",children:"Benefits of an AI Workforce"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[{title:"Enhanced Efficiency",description:"Multiple AI agents working together complete tasks faster than traditional methods."},{title:"Reduced Costs",description:"Scale operations without the overhead of traditional workforce expansion."},{title:"24/7 Operations",description:"Your AI workforce never sleeps, ensuring continuous business operations."},{title:"Error Reduction",description:"Coordinated AI agents double-check each other's work for accuracy."},{title:"Scalable Solution",description:"Easily add or modify AI agents as your business needs change."},{title:"Future-Proof",description:"Stay ahead with a workforce that continuously learns and evolves."}].map((t,e)=>r.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 border border-dark-700",children:[r.jsx(Ge,{className:"text-primary-500 mb-4",size:24}),r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:t.title}),r.jsx("p",{className:"text-gray-400",children:t.description})]},e))})]}),r.jsx("div",{className:"container mx-auto px-4 py-16",children:r.jsxs("div",{className:"bg-gradient-to-r from-primary-800 to-primary-900 rounded-2xl p-8 md:p-12 text-center",children:[r.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Ready to Build Your AI Workforce?"}),r.jsx("p",{className:"text-primary-200 text-lg mb-8 max-w-2xl mx-auto",children:"Join the future of work with our coordinated AI workforce solution."}),r.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[r.jsx(de,{to:"/register",className:"btn btn-primary bg-white text-primary-900 hover:bg-gray-100 px-6 py-3",children:"Start Free Trial"}),r.jsx(de,{to:"/contact",className:"btn btn-secondary border border-white text-white hover:bg-primary-700 px-6 py-3",children:"Schedule Demo"})]})]})})]}),wX=()=>r.jsxs("div",{className:"min-h-screen bg-dark-950",children:[r.jsx("div",{className:"bg-gradient-to-b from-primary-900 to-primary-800 py-16",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[r.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"AI Tools for Every Task"}),r.jsx("p",{className:"text-xl text-primary-200",children:"A comprehensive suite of AI-powered tools to automate and enhance your business processes."})]})})}),r.jsx("div",{className:"container mx-auto px-4 py-16",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"bg-dark-800 rounded-xl p-6 border border-dark-700",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(Vl,{className:"text-primary-500 mr-3",size:24}),r.jsx("h3",{className:"text-lg font-semibold text-white",children:"YouTube Video File"})]}),r.jsx("p",{className:"text-gray-400 mb-4",children:"Extract direct video file URLs from YouTube links for easy downloading and processing."}),r.jsxs(de,{to:"/tools/youtube-video",className:"text-primary-400 hover:text-primary-300 flex items-center",children:["Learn more ",r.jsx(ct,{size:16,className:"ml-1"})]})]}),r.jsxs("div",{className:"bg-dark-800 rounded-xl p-6 border border-dark-700",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(Vl,{className:"text-primary-500 mr-3",size:24}),r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Form Recognizer"})]}),r.jsx("p",{className:"text-gray-400 mb-4",children:"Extract text and data from documents using advanced OCR technology."}),r.jsxs(de,{to:"/tools/form-recognizer",className:"text-primary-400 hover:text-primary-300 flex items-center",children:["Learn more ",r.jsx(ct,{size:16,className:"ml-1"})]})]}),r.jsxs("div",{className:"bg-dark-800 rounded-xl p-6 border border-dark-700",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(Vl,{className:"text-primary-500 mr-3",size:24}),r.jsx("h3",{className:"text-lg font-semibold text-white",children:"SQL Query"})]}),r.jsx("p",{className:"text-gray-400 mb-4",children:"Run SQL queries directly on your database with an intuitive interface."}),r.jsxs(de,{to:"/tools/sql-query",className:"text-primary-400 hover:text-primary-300 flex items-center",children:["Learn more ",r.jsx(ct,{size:16,className:"ml-1"})]})]}),r.jsxs("div",{className:"bg-dark-800 rounded-xl p-6 border border-dark-700",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(Vl,{className:"text-primary-500 mr-3",size:24}),r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Escalate to Managers"})]}),r.jsx("p",{className:"text-gray-400 mb-4",children:"Quickly notify managers about important updates via Slack integration."}),r.jsxs(de,{to:"/tools/escalate",className:"text-primary-400 hover:text-primary-300 flex items-center",children:["Learn more ",r.jsx(ct,{size:16,className:"ml-1"})]})]}),r.jsxs("div",{className:"bg-dark-800 rounded-xl p-6 border border-dark-700",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(Vl,{className:"text-primary-500 mr-3",size:24}),r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Cloud Vision OCR"})]}),r.jsx("p",{className:"text-gray-400 mb-4",children:"Extract text from images and PDFs using Google Cloud Vision technology."}),r.jsxs(de,{to:"/tools/cloud-vision",className:"text-primary-400 hover:text-primary-300 flex items-center",children:["Learn more ",r.jsx(ct,{size:16,className:"ml-1"})]})]}),r.jsxs("div",{className:"bg-dark-800 rounded-xl p-6 border border-dark-700",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(Vl,{className:"text-primary-500 mr-3",size:24}),r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Airtable Toolkit"})]}),r.jsx("p",{className:"text-gray-400 mb-4",children:"Manage and manipulate your Airtable databases with powerful automation tools."}),r.jsxs(de,{to:"/tools/airtable",className:"text-primary-400 hover:text-primary-300 flex items-center",children:["Learn more ",r.jsx(ct,{size:16,className:"ml-1"})]})]})]})}),r.jsx("div",{className:"bg-dark-900 py-16",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsx("h2",{className:"text-3xl font-bold text-white text-center mb-12",children:"Why Choose Our AI Tools?"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[{title:"Easy Integration",description:"Seamlessly integrate with your existing workflow and tools."},{title:"Customizable",description:"Adapt and configure tools to match your specific needs."},{title:"Secure & Reliable",description:"Enterprise-grade security with 99.9% uptime guarantee."},{title:"Regular Updates",description:"Continuous improvements and new features added regularly."},{title:"Expert Support",description:"24/7 technical support and comprehensive documentation."},{title:"Cost-Effective",description:"Pay only for what you use with flexible pricing plans."}].map((t,e)=>r.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 border border-dark-700",children:[r.jsx(Ge,{className:"text-primary-500 mb-4",size:24}),r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:t.title}),r.jsx("p",{className:"text-gray-400",children:t.description})]},e))})]})}),r.jsx("div",{className:"container mx-auto px-4 py-16",children:r.jsxs("div",{className:"bg-gradient-to-r from-primary-800 to-primary-900 rounded-2xl p-8 md:p-12 text-center",children:[r.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Ready to Supercharge Your Workflow?"}),r.jsx("p",{className:"text-primary-200 text-lg mb-8 max-w-2xl mx-auto",children:"Get started with our AI tools today and transform your business processes."}),r.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[r.jsx(de,{to:"/register",className:"btn btn-primary bg-white text-primary-900 hover:bg-gray-100 px-6 py-3",children:"Start Free Trial"}),r.jsx(de,{to:"/contact",className:"btn btn-secondary border border-white text-white hover:bg-primary-700 px-6 py-3",children:"Schedule Demo"})]})]})})]}),jX=()=>r.jsxs("div",{className:"min-h-screen bg-dark-950",children:[r.jsx("div",{className:"bg-gradient-to-b from-primary-900 to-primary-800 py-16",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[r.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"AI-Powered CRM That Works For You"}),r.jsx("p",{className:"text-xl text-primary-200",children:"Transform your customer relationships with intelligent automation and deep insights."})]})})}),r.jsx("div",{className:"container mx-auto px-4 py-16",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[r.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:r.jsx(Ge,{className:"text-primary-400"})}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"AI Assistant"}),r.jsx("p",{className:"text-gray-400",children:"Let our AI handle routine tasks while you focus on building relationships. Automated follow-ups, meeting scheduling, and data entry."})]}),r.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[r.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:r.jsx(Wa,{className:"text-primary-400"})}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Smart Insights"}),r.jsx("p",{className:"text-gray-400",children:"Get AI-powered insights into customer behavior, preferences, and potential opportunities for growth."})]}),r.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl",children:[r.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:r.jsx(Ni,{className:"text-primary-400"})}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Automation"}),r.jsx("p",{className:"text-gray-400",children:"Automate repetitive tasks, data entry, and follow-ups to save time and reduce errors."})]})]})}),r.jsx("div",{className:"bg-dark-900 py-16",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Everything You Need to Manage Customer Relationships"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"bg-primary-900/30 p-2 rounded-lg mr-4",children:r.jsx(dr,{className:"text-primary-400",size:24})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"360 Customer View"}),r.jsx("p",{className:"text-gray-400",children:"See all customer interactions, history, and preferences in one place."})]})]}),r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"bg-primary-900/30 p-2 rounded-lg mr-4",children:r.jsx(io,{className:"text-primary-400",size:24})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Smart Communication"}),r.jsx("p",{className:"text-gray-400",children:"AI-powered email templates and automated follow-ups that get responses."})]})]}),r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"bg-primary-900/30 p-2 rounded-lg mr-4",children:r.jsx(na,{className:"text-primary-400",size:24})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Advanced Analytics"}),r.jsx("p",{className:"text-gray-400",children:"Track performance, identify trends, and make data-driven decisions."})]})]}),r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"bg-primary-900/30 p-2 rounded-lg mr-4",children:r.jsx(Tn,{className:"text-primary-400",size:24})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Activity Timeline"}),r.jsx("p",{className:"text-gray-400",children:"Never miss a follow-up with our smart activity tracking system."})]})]})]})]}),r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:"https://images.unsplash.com/photo-1552581234-26160f608093?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=800&q=80",alt:"CRM Dashboard",className:"rounded-lg shadow-xl"}),r.jsx("div",{className:"absolute -bottom-4 -right-4 bg-primary-800 p-4 rounded-lg shadow-xl",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ge,{className:"text-primary-400",size:24}),r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-semibold",children:"AI Assistant Active"}),r.jsx("p",{className:"text-sm text-primary-300",children:"Helping 24/7"})]})]})})]})]})})}),r.jsxs("div",{className:"container mx-auto px-4 py-16",children:[r.jsx("h2",{className:"text-3xl font-bold text-white text-center mb-12",children:"Why Choose Our CRM?"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{title:"Save Time",description:"Automate 80% of routine tasks and focus on what matters most - building relationships."},{title:"Increase Sales",description:"Convert 40% more leads with AI-powered insights and automated follow-ups."},{title:"Better Insights",description:"Make data-driven decisions with advanced analytics and AI predictions."}].map((t,e)=>r.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 border border-dark-700",children:[r.jsx(vi,{className:"text-primary-500 mb-4",size:24}),r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:t.title}),r.jsx("p",{className:"text-gray-400",children:t.description})]},e))})]}),r.jsx("div",{className:"container mx-auto px-4 py-16",children:r.jsxs("div",{className:"bg-gradient-to-r from-primary-800 to-primary-900 rounded-2xl p-8 md:p-12 text-center",children:[r.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Ready to Transform Your Customer Relationships?"}),r.jsx("p",{className:"text-primary-200 text-lg mb-8 max-w-2xl mx-auto",children:"Join thousands of businesses using our AI-powered CRM to grow their customer base."}),r.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[r.jsx(de,{to:"/register",className:"btn btn-primary bg-white text-primary-900 hover:bg-gray-100 px-6 py-3",children:"Start Free Trial"}),r.jsx(de,{to:"/contact",className:"btn btn-secondary border border-white text-white hover:bg-primary-700 px-6 py-3",children:"Schedule Demo"})]})]})})]});function NX(){return r.jsxs("div",{className:"min-h-screen bg-dark-950",children:[r.jsx("div",{className:"bg-gradient-to-b from-primary-900 to-primary-800 py-16",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[r.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:["Never miss out on a ",r.jsx("span",{className:"text-primary-300",children:"deal"})]}),r.jsx("p",{className:"text-xl text-primary-200",children:"Engage every lead instantly with messaging tailored to every prospect."})]})})}),r.jsxs("div",{className:"container mx-auto px-4 py-16",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-8 mb-16",children:[r.jsxs("div",{className:"text-center",children:[r.jsx(Ni,{className:"h-8 w-8 text-primary-500 mx-auto mb-2"}),r.jsx("p",{className:"text-white",children:"Faster Speed to Lead"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx(io,{className:"h-8 w-8 text-primary-500 mx-auto mb-2"}),r.jsx("p",{className:"text-white",children:"Instant responses"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx(Ge,{className:"h-8 w-8 text-primary-500 mx-auto mb-2"}),r.jsx("p",{className:"text-white",children:"Personalized outreach"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx(Rs,{className:"h-8 w-8 text-primary-500 mx-auto mb-2"}),r.jsx("p",{className:"text-white",children:"Handles meeting scheduling"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx(na,{className:"h-8 w-8 text-primary-500 mx-auto mb-2"}),r.jsx("p",{className:"text-white",children:"Customized to your sales process"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[r.jsx("h3",{className:"text-xl font-semibold text-red-400 mb-6",children:"Without an AI Agent"}),r.jsxs("ul",{className:"space-y-4",children:[r.jsxs("li",{className:"flex items-center text-gray-400",children:[r.jsx("span",{className:"h-2 w-2 bg-red-500 rounded-full mr-3"}),"BDRs are spread thin"]}),r.jsxs("li",{className:"flex items-center text-gray-400",children:[r.jsx("span",{className:"h-2 w-2 bg-red-500 rounded-full mr-3"}),"Unable to balance quality v quantity"]}),r.jsxs("li",{className:"flex items-center text-gray-400",children:[r.jsx("span",{className:"h-2 w-2 bg-red-500 rounded-full mr-3"}),"CRM is incomplete and inaccurate"]}),r.jsxs("li",{className:"flex items-center text-gray-400",children:[r.jsx("span",{className:"h-2 w-2 bg-red-500 rounded-full mr-3"}),"Leads allowed to go cold"]})]})]}),r.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[r.jsx("h3",{className:"text-xl font-semibold text-primary-400 mb-6",children:"With an AI BDR Agent"}),r.jsxs("ul",{className:"space-y-4",children:[r.jsxs("li",{className:"flex items-center text-gray-400",children:[r.jsx(Ge,{className:"text-primary-500 h-5 w-5 mr-3"}),"BDRs freed up to focus on selling"]}),r.jsxs("li",{className:"flex items-center text-gray-400",children:[r.jsx(Ge,{className:"text-primary-500 h-5 w-5 mr-3"}),"Deliver personalized outreach at scale"]}),r.jsxs("li",{className:"flex items-center text-gray-400",children:[r.jsx(Ge,{className:"text-primary-500 h-5 w-5 mr-3"}),"CRM is always up to date"]}),r.jsxs("li",{className:"flex items-center text-gray-400",children:[r.jsx(Ge,{className:"text-primary-500 h-5 w-5 mr-3"}),"Instant follow up and meeting scheduling"]})]})]})]})]}),r.jsx("div",{className:"container mx-auto px-4 py-16",children:r.jsxs("div",{className:"bg-gradient-to-r from-primary-800 to-primary-900 rounded-2xl p-8 md:p-12 text-center",children:[r.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Ready to Transform Your Sales Process?"}),r.jsx("p",{className:"text-primary-200 text-lg mb-8 max-w-2xl mx-auto",children:"Get started with your AI BDR Agent today and never miss another opportunity."}),r.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[r.jsx(de,{to:"/register",className:"btn btn-primary bg-white text-primary-900 hover:bg-gray-100 px-6 py-3",children:"Start Free Trial"}),r.jsx(de,{to:"/contact",className:"btn btn-secondary border border-white text-white hover:bg-primary-700 px-6 py-3",children:"Schedule Demo"})]})]})})]})}const kX=()=>r.jsxs("div",{className:"min-h-screen bg-dark-950",children:[r.jsx("div",{className:"bg-gradient-to-b from-primary-900 to-primary-800 py-16",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[r.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:["Put ",r.jsx("span",{className:"text-primary-300",children:"every"})," customer first"]}),r.jsx("p",{className:"text-xl text-primary-200",children:"Make every customer feel like your top priority."})]})})}),r.jsxs("div",{className:"container mx-auto px-4 py-16",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-8 mb-16",children:[r.jsxs("div",{className:"text-center",children:[r.jsx(yu,{className:"h-8 w-8 text-primary-500 mx-auto mb-2"}),r.jsx("p",{className:"text-white",children:"Reduce Churn"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx(eu,{className:"h-8 w-8 text-primary-500 mx-auto mb-2"}),r.jsx("p",{className:"text-white",children:"Increase Retention"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx(dr,{className:"h-8 w-8 text-primary-500 mx-auto mb-2"}),r.jsx("p",{className:"text-white",children:"Increase Usage"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx(io,{className:"h-8 w-8 text-primary-500 mx-auto mb-2"}),r.jsx("p",{className:"text-white",children:"Escalate to anyone"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx(Ge,{className:"h-8 w-8 text-primary-500 mx-auto mb-2"}),r.jsx("p",{className:"text-white",children:"Reply to everyone"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[r.jsx("h3",{className:"text-xl font-semibold text-red-400 mb-6",children:"Without an AI Agent"}),r.jsxs("ul",{className:"space-y-4",children:[r.jsxs("li",{className:"flex items-center text-gray-400",children:[r.jsx("span",{className:"h-2 w-2 bg-red-500 rounded-full mr-3"}),"Sending email blasts"]}),r.jsxs("li",{className:"flex items-center text-gray-400",children:[r.jsx("span",{className:"h-2 w-2 bg-red-500 rounded-full mr-3"}),"Can't reply to questions from customers"]}),r.jsxs("li",{className:"flex items-center text-gray-400",children:[r.jsx("span",{className:"h-2 w-2 bg-red-500 rounded-full mr-3"}),"100's of complicated flow diagrams"]}),r.jsxs("li",{className:"flex items-center text-gray-400",children:[r.jsx("span",{className:"h-2 w-2 bg-red-500 rounded-full mr-3"}),"Limited understanding of customers"]})]})]}),r.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[r.jsx("h3",{className:"text-xl font-semibold text-primary-400 mb-6",children:"With an AI Lifecycle Marketing Agent"}),r.jsxs("ul",{className:"space-y-4",children:[r.jsxs("li",{className:"flex items-center text-gray-400",children:[r.jsx(Ge,{className:"text-primary-500 h-5 w-5 mr-3"}),"Tailors every message to each individual customer"]}),r.jsxs("li",{className:"flex items-center text-gray-400",children:[r.jsx(Ge,{className:"text-primary-500 h-5 w-5 mr-3"}),"Train to answer any queries or escalate to colleagues"]}),r.jsxs("li",{className:"flex items-center text-gray-400",children:[r.jsx(Ge,{className:"text-primary-500 h-5 w-5 mr-3"}),"One AI Agent seamlessly interacting with your customers"]}),r.jsxs("li",{className:"flex items-center text-gray-400",children:[r.jsx(Ge,{className:"text-primary-500 h-5 w-5 mr-3"}),"Retrieve data from anywhere to understand your customer"]})]})]})]})]}),r.jsx("div",{className:"container mx-auto px-4 py-16",children:r.jsxs("div",{className:"bg-gradient-to-r from-primary-800 to-primary-900 rounded-2xl p-8 md:p-12 text-center",children:[r.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Ready to Transform Your Customer Marketing?"}),r.jsx("p",{className:"text-primary-200 text-lg mb-8 max-w-2xl mx-auto",children:"Get started with your AI Lifecycle Marketing Agent today."}),r.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[r.jsx(de,{to:"/register",className:"btn btn-primary bg-white text-primary-900 hover:bg-gray-100 px-6 py-3",children:"Start Free Trial"}),r.jsx(de,{to:"/contact",className:"btn btn-secondary border border-white text-white hover:bg-primary-700 px-6 py-3",children:"Schedule Demo"})]})]})})]}),_X=()=>r.jsxs("div",{className:"min-h-screen bg-dark-950",children:[r.jsx("div",{className:"bg-gradient-to-b from-primary-900 to-primary-800 py-16",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[r.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:["Optimize every ",r.jsx("span",{className:"text-primary-300",children:"sales call"})]}),r.jsx("p",{className:"text-xl text-primary-200",children:"Have impactful conversations without spending hours on research."})]})})}),r.jsxs("div",{className:"container mx-auto px-4 py-16",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-8 mb-16",children:[r.jsxs("div",{className:"text-center",children:[r.jsx(Ni,{className:"h-8 w-8 text-primary-500 mx-auto mb-2"}),r.jsx("p",{className:"text-white",children:"Boost Productivity"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx(er,{className:"h-8 w-8 text-primary-500 mx-auto mb-2"}),r.jsx("p",{className:"text-white",children:"Prioritize Accounts"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx(Vu,{className:"h-8 w-8 text-primary-500 mx-auto mb-2"}),r.jsx("p",{className:"text-white",children:"Maintain High Outreach"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx(na,{className:"h-8 w-8 text-primary-500 mx-auto mb-2"}),r.jsx("p",{className:"text-white",children:"Tailor Insights"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx(Ge,{className:"h-8 w-8 text-primary-500 mx-auto mb-2"}),r.jsx("p",{className:"text-white",children:"Integrate Seamlessly"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[r.jsx("h3",{className:"text-xl font-semibold text-red-400 mb-6",children:"Without an AI Research Agent"}),r.jsxs("ul",{className:"space-y-4",children:[r.jsxs("li",{className:"flex items-center text-gray-400",children:[r.jsx("span",{className:"h-2 w-2 bg-red-500 rounded-full mr-3"}),"Spending hours researching prospects"]}),r.jsxs("li",{className:"flex items-center text-gray-400",children:[r.jsx("span",{className:"h-2 w-2 bg-red-500 rounded-full mr-3"}),"Missing key insights"]}),r.jsxs("li",{className:"flex items-center text-gray-400",children:[r.jsx("span",{className:"h-2 w-2 bg-red-500 rounded-full mr-3"}),"Preparation impeding time making sales"]}),r.jsxs("li",{className:"flex items-center text-gray-400",children:[r.jsx("span",{className:"h-2 w-2 bg-red-500 rounded-full mr-3"}),"Struggle to tailor engagement at scale"]}),r.jsxs("li",{className:"flex items-center text-gray-400",children:[r.jsx("span",{className:"h-2 w-2 bg-red-500 rounded-full mr-3"}),"Failure to identify high-fit accounts"]})]})]}),r.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[r.jsx("h3",{className:"text-xl font-semibold text-primary-400 mb-6",children:"With an AI Research Agent"}),r.jsxs("ul",{className:"space-y-4",children:[r.jsxs("li",{className:"flex items-center text-gray-400",children:[r.jsx(Ge,{className:"text-primary-500 h-5 w-5 mr-3"}),"Account research delivered for each prospect instantly"]}),r.jsxs("li",{className:"flex items-center text-gray-400",children:[r.jsx(Ge,{className:"text-primary-500 h-5 w-5 mr-3"}),"Retrieves data from anywhere to understand your prospect"]}),r.jsxs("li",{className:"flex items-center text-gray-400",children:[r.jsx(Ge,{className:"text-primary-500 h-5 w-5 mr-3"}),"Conversation levers recommended based on prospect intel"]}),r.jsxs("li",{className:"flex items-center text-gray-400",children:[r.jsx(Ge,{className:"text-primary-500 h-5 w-5 mr-3"}),"Personalized insights delivered every single time"]}),r.jsxs("li",{className:"flex items-center text-gray-400",children:[r.jsx(Ge,{className:"text-primary-500 h-5 w-5 mr-3"}),"High-fit accounts prioritized automatically"]})]})]})]})]}),r.jsx("div",{className:"container mx-auto px-4 py-16",children:r.jsxs("div",{className:"bg-gradient-to-r from-primary-800 to-primary-900 rounded-2xl p-8 md:p-12 text-center",children:[r.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Ready to Optimize Your Sales Research?"}),r.jsx("p",{className:"text-primary-200 text-lg mb-8 max-w-2xl mx-auto",children:"Get started with your AI Research Agent today."}),r.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[r.jsx(de,{to:"/register",className:"btn btn-primary bg-white text-primary-900 hover:bg-gray-100 px-6 py-3",children:"Start Free Trial"}),r.jsx(de,{to:"/contact",className:"btn btn-secondary border border-white text-white hover:bg-primary-700 px-6 py-3",children:"Schedule Demo"})]})]})})]});function SX(){return r.jsxs("div",{className:"min-h-screen bg-dark-950",children:[r.jsx("div",{className:"bg-gradient-to-b from-primary-900 to-primary-800 py-16",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[r.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Keep your CRM up to date"}),r.jsx("p",{className:"text-xl text-primary-200",children:"Never rely on outdated or expensive enrichment again."})]})})}),r.jsxs("div",{className:"container mx-auto px-4 py-16",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-8 mb-16",children:[r.jsxs("div",{className:"text-center",children:[r.jsx(Vu,{className:"h-8 w-8 text-primary-500 mx-auto mb-2"}),r.jsx("p",{className:"text-white",children:"Real-Time Updates"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx(Ge,{className:"h-8 w-8 text-primary-500 mx-auto mb-2"}),r.jsx("p",{className:"text-white",children:"Any data sources"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx(ao,{className:"h-8 w-8 text-primary-500 mx-auto mb-2"}),r.jsx("p",{className:"text-white",children:"Intelligent classification"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx(us,{className:"h-8 w-8 text-primary-500 mx-auto mb-2"}),r.jsx("p",{className:"text-white",children:"Cost-efficient"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx(Wa,{className:"h-8 w-8 text-primary-500 mx-auto mb-2"}),r.jsx("p",{className:"text-white",children:"Accurate prospect insights"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[r.jsx("h3",{className:"text-xl font-semibold text-red-400 mb-6",children:"Without an AI Agent"}),r.jsxs("ul",{className:"space-y-4",children:[r.jsxs("li",{className:"flex items-center text-gray-400",children:[r.jsx("span",{className:"h-2 w-2 bg-red-500 rounded-full mr-3"}),"Outdated, manually updated CRM records"]}),r.jsxs("li",{className:"flex items-center text-gray-400",children:[r.jsx("span",{className:"h-2 w-2 bg-red-500 rounded-full mr-3"}),"Expensive enrichment providers"]}),r.jsxs("li",{className:"flex items-center text-gray-400",children:[r.jsx("span",{className:"h-2 w-2 bg-red-500 rounded-full mr-3"}),"Gaps in prospect data and company details"]}),r.jsxs("li",{className:"flex items-center text-gray-400",children:[r.jsx("span",{className:"h-2 w-2 bg-red-500 rounded-full mr-3"}),"Reliance on manual classification"]})]})]}),r.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[r.jsx("h3",{className:"text-xl font-semibold text-primary-400 mb-6",children:"With an AI CRM Enrichment Agent"}),r.jsxs("ul",{className:"space-y-4",children:[r.jsxs("li",{className:"flex items-center text-gray-400",children:[r.jsx(Ge,{className:"text-primary-500 h-5 w-5 mr-3"}),"Automated, real-time enrichment from multiple sources"]}),r.jsxs("li",{className:"flex items-center text-gray-400",children:[r.jsx(Ge,{className:"text-primary-500 h-5 w-5 mr-3"}),"90% cheaper and more accurate data"]}),r.jsxs("li",{className:"flex items-center text-gray-400",children:[r.jsx(Ge,{className:"text-primary-500 h-5 w-5 mr-3"}),"Complete prospect profiles for better targeting"]}),r.jsxs("li",{className:"flex items-center text-gray-400",children:[r.jsx(Ge,{className:"text-primary-500 h-5 w-5 mr-3"}),"Automated job function & industry categorization"]})]})]})]})]}),r.jsx("div",{className:"container mx-auto px-4 py-16",children:r.jsxs("div",{className:"bg-gradient-to-r from-primary-800 to-primary-900 rounded-2xl p-8 md:p-12 text-center",children:[r.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Ready to Automate Your CRM Enrichment?"}),r.jsx("p",{className:"text-primary-200 text-lg mb-8 max-w-2xl mx-auto",children:"Get started with your AI CRM Enrichment Agent today."}),r.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[r.jsx(de,{to:"/register",className:"btn btn-primary bg-white text-primary-900 hover:bg-gray-100 px-6 py-3",children:"Start Free Trial"}),r.jsx(de,{to:"/contact",className:"btn btn-secondary border border-white text-white hover:bg-primary-700 px-6 py-3",children:"Schedule Demo"})]})]})})]})}const AX=()=>r.jsxs("div",{className:"min-h-screen bg-dark-950",children:[r.jsx("div",{className:"bg-gradient-to-b from-primary-900 to-primary-800 py-16",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[r.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:["Focus on your ",r.jsx("span",{className:"text-primary-300",children:"best leads"})]}),r.jsx("p",{className:"text-xl text-primary-200",children:"Qualify your leads based on any criteria and schedule meetings on autopilot."})]})})}),r.jsxs("div",{className:"container mx-auto px-4 py-16",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-8 mb-16",children:[r.jsxs("div",{className:"text-center",children:[r.jsx(er,{className:"h-8 w-8 text-primary-500 mx-auto mb-2"}),r.jsx("p",{className:"text-white",children:"Qualify leads"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx(Rs,{className:"h-8 w-8 text-primary-500 mx-auto mb-2"}),r.jsx("p",{className:"text-white",children:"Schedule demos"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx(Ge,{className:"h-8 w-8 text-primary-500 mx-auto mb-2"}),r.jsx("p",{className:"text-white",children:"Enrich demo requests"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx(sC,{className:"h-8 w-8 text-primary-500 mx-auto mb-2"}),r.jsx("p",{className:"text-white",children:"Prioritize top prospects"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx(Ni,{className:"h-8 w-8 text-primary-500 mx-auto mb-2"}),r.jsx("p",{className:"text-white",children:"Eliminate manual busywork"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[r.jsx("h3",{className:"text-xl font-semibold text-red-400 mb-6",children:"Without an AI Agent"}),r.jsxs("ul",{className:"space-y-4",children:[r.jsxs("li",{className:"flex items-center text-gray-400",children:[r.jsx("span",{className:"h-2 w-2 bg-red-500 rounded-full mr-3"}),"Reps stuck manually reviewing demo requests"]}),r.jsxs("li",{className:"flex items-center text-gray-400",children:[r.jsx("span",{className:"h-2 w-2 bg-red-500 rounded-full mr-3"}),"Inconsistent follow-up and slow speed"]}),r.jsxs("li",{className:"flex items-center text-gray-400",children:[r.jsx("span",{className:"h-2 w-2 bg-red-500 rounded-full mr-3"}),"Reps have limited data on each request"]}),r.jsxs("li",{className:"flex items-center text-gray-400",children:[r.jsx("span",{className:"h-2 w-2 bg-red-500 rounded-full mr-3"}),"Human errors in qualifying prospects"]})]})]}),r.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[r.jsx("h3",{className:"text-xl font-semibold text-primary-400 mb-6",children:"With an AI Agent"}),r.jsxs("ul",{className:"space-y-4",children:[r.jsxs("li",{className:"flex items-center text-gray-400",children:[r.jsx(Ge,{className:"text-primary-500 h-5 w-5 mr-3"}),"Automated lead review & enrichment"]}),r.jsxs("li",{className:"flex items-center text-gray-400",children:[r.jsx(Ge,{className:"text-primary-500 h-5 w-5 mr-3"}),"Instant scheduling across time zones"]}),r.jsxs("li",{className:"flex items-center text-gray-400",children:[r.jsx(Ge,{className:"text-primary-500 h-5 w-5 mr-3"}),"Effortless sales hand-off"]}),r.jsxs("li",{className:"flex items-center text-gray-400",children:[r.jsx(Ge,{className:"text-primary-500 h-5 w-5 mr-3"}),"Consistent and accurate, 24x7"]})]})]})]})]}),r.jsx("div",{className:"container mx-auto px-4 py-16",children:r.jsxs("div",{className:"bg-gradient-to-r from-primary-800 to-primary-900 rounded-2xl p-8 md:p-12 text-center",children:[r.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Ready to Automate Your Lead Qualification?"}),r.jsx("p",{className:"text-primary-200 text-lg mb-8 max-w-2xl mx-auto",children:"Get started with your AI Qualification Agent today."}),r.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[r.jsx(de,{to:"/register",className:"btn btn-primary bg-white text-primary-900 hover:bg-gray-100 px-6 py-3",children:"Start Free Trial"}),r.jsx(de,{to:"/contact",className:"btn btn-secondary border border-white text-white hover:bg-primary-700 px-6 py-3",children:"Schedule Demo"})]})]})})]}),CX=()=>r.jsxs("div",{className:"min-h-screen bg-dark-950",children:[r.jsx("div",{className:"bg-gradient-to-b from-primary-900 to-primary-800 py-16",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[r.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:["Capture high-intent ",r.jsx("span",{className:"text-primary-300",children:"search traffic"})]}),r.jsx("p",{className:"text-xl text-primary-200",children:"Convert organic traffic into qualified leads and boost conversions on autopilot."})]})})}),r.jsxs("div",{className:"container mx-auto px-4 py-16",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-8 mb-16",children:[r.jsxs("div",{className:"text-center",children:[r.jsx(lC,{className:"h-8 w-8 text-primary-500 mx-auto mb-2"}),r.jsx("p",{className:"text-white",children:"Increase Visibility"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx(wt,{className:"h-8 w-8 text-primary-500 mx-auto mb-2"}),r.jsx("p",{className:"text-white",children:"Save Time"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx(er,{className:"h-8 w-8 text-primary-500 mx-auto mb-2"}),r.jsx("p",{className:"text-white",children:"Improve Accuracy"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx(na,{className:"h-8 w-8 text-primary-500 mx-auto mb-2"}),r.jsx("p",{className:"text-white",children:"Deep Research"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx(Ge,{className:"h-8 w-8 text-primary-500 mx-auto mb-2"}),r.jsx("p",{className:"text-white",children:"Publish on Autopilot"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[r.jsx("h3",{className:"text-xl font-semibold text-red-400 mb-6",children:"Without an AI Agent"}),r.jsxs("ul",{className:"space-y-4",children:[r.jsxs("li",{className:"flex items-center text-gray-400",children:[r.jsx("span",{className:"h-2 w-2 bg-red-500 rounded-full mr-3"}),"Manual content creation and publishing"]}),r.jsxs("li",{className:"flex items-center text-gray-400",children:[r.jsx("span",{className:"h-2 w-2 bg-red-500 rounded-full mr-3"}),"Prone to human error"]}),r.jsxs("li",{className:"flex items-center text-gray-400",children:[r.jsx("span",{className:"h-2 w-2 bg-red-500 rounded-full mr-3"}),"Lost opportunity due to slowness"]}),r.jsxs("li",{className:"flex items-center text-gray-400",children:[r.jsx("span",{className:"h-2 w-2 bg-red-500 rounded-full mr-3"}),"Wasting time jumping around different tools"]})]})]}),r.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[r.jsx("h3",{className:"text-xl font-semibold text-primary-400 mb-6",children:"With an AI SEO Agent"}),r.jsxs("ul",{className:"space-y-4",children:[r.jsxs("li",{className:"flex items-center text-gray-400",children:[r.jsx(Ge,{className:"text-primary-500 h-5 w-5 mr-3"}),"From research to publishing all on autopilot"]}),r.jsxs("li",{className:"flex items-center text-gray-400",children:[r.jsx(Ge,{className:"text-primary-500 h-5 w-5 mr-3"}),"Follows the same process every time"]}),r.jsxs("li",{className:"flex items-center text-gray-400",children:[r.jsx(Ge,{className:"text-primary-500 h-5 w-5 mr-3"}),"Creates content immediately when triggered"]}),r.jsxs("li",{className:"flex items-center text-gray-400",children:[r.jsx(Ge,{className:"text-primary-500 h-5 w-5 mr-3"}),"Integrates with any CMS and tech stack"]})]})]})]})]}),r.jsx("div",{className:"container mx-auto px-4 py-16",children:r.jsxs("div",{className:"bg-gradient-to-r from-primary-800 to-primary-900 rounded-2xl p-8 md:p-12 text-center",children:[r.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Ready to Automate Your SEO?"}),r.jsx("p",{className:"text-primary-200 text-lg mb-8 max-w-2xl mx-auto",children:"Get started with your AI SEO Agent today."}),r.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[r.jsx(de,{to:"/register",className:"btn btn-primary bg-white text-primary-900 hover:bg-gray-100 px-6 py-3",children:"Start Free Trial"}),r.jsx(de,{to:"/contact",className:"btn btn-secondary border border-white text-white hover:bg-primary-700 px-6 py-3",children:"Schedule Demo"})]})]})})]}),PX=()=>r.jsxs("div",{className:"min-h-screen bg-dark-950",children:[r.jsx("div",{className:"bg-gradient-to-b from-primary-900 to-primary-800 py-16",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[r.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Never Miss a Follow-Up"}),r.jsx("p",{className:"text-xl text-primary-200",children:'Convert every "yes" into a booked meeting with intelligent reply and follow-up management.'})]})})}),r.jsxs("div",{className:"container mx-auto px-4 py-16",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-8 mb-16",children:[r.jsxs("div",{className:"text-center",children:[r.jsx(aa,{className:"h-8 w-8 text-primary-500 mx-auto mb-2"}),r.jsx("p",{className:"text-white",children:"Automate Replies"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx(Tn,{className:"h-8 w-8 text-primary-500 mx-auto mb-2"}),r.jsx("p",{className:"text-white",children:"Schedule Follow-Ups"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx(Vu,{className:"h-8 w-8 text-primary-500 mx-auto mb-2"}),r.jsx("p",{className:"text-white",children:"Retrieve Knowledge"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx(Rs,{className:"h-8 w-8 text-primary-500 mx-auto mb-2"}),r.jsx("p",{className:"text-white",children:"Prioritize Prospects"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx(dC,{className:"h-8 w-8 text-primary-500 mx-auto mb-2"}),r.jsx("p",{className:"text-white",children:"Handle Multiple Inboxes"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[r.jsx("h3",{className:"text-xl font-semibold text-red-400 mb-6",children:"Without an AI Agent"}),r.jsxs("ul",{className:"space-y-4",children:[r.jsxs("li",{className:"flex items-center text-gray-400",children:[r.jsx("span",{className:"h-2 w-2 bg-red-500 rounded-full mr-3"}),"Manual, inconsistent reply handling"]}),r.jsxs("li",{className:"flex items-center text-gray-400",children:[r.jsx("span",{className:"h-2 w-2 bg-red-500 rounded-full mr-3"}),"Missed follow-ups due to overload"]}),r.jsxs("li",{className:"flex items-center text-gray-400",children:[r.jsx("span",{className:"h-2 w-2 bg-red-500 rounded-full mr-3"}),"Disconnected data across platforms"]}),r.jsxs("li",{className:"flex items-center text-gray-400",children:[r.jsx("span",{className:"h-2 w-2 bg-red-500 rounded-full mr-3"}),"High chance of human error"]})]})]}),r.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[r.jsx("h3",{className:"text-xl font-semibold text-primary-400 mb-6",children:"With an AI Inbox Manager"}),r.jsxs("ul",{className:"space-y-4",children:[r.jsxs("li",{className:"flex items-center text-gray-400",children:[r.jsx(Ge,{className:"text-primary-500 h-5 w-5 mr-3"}),"Automated, context-aware reply management"]}),r.jsxs("li",{className:"flex items-center text-gray-400",children:[r.jsx(Ge,{className:"text-primary-500 h-5 w-5 mr-3"}),"Timely, personalized follow-ups that drive bookings"]}),r.jsxs("li",{className:"flex items-center text-gray-400",children:[r.jsx(Ge,{className:"text-primary-500 h-5 w-5 mr-3"}),"Integrated, real-time multi-inbox management"]}),r.jsxs("li",{className:"flex items-center text-gray-400",children:[r.jsx(Ge,{className:"text-primary-500 h-5 w-5 mr-3"}),"Reliable, data-driven follow-up sequences"]})]})]})]})]}),r.jsx("div",{className:"container mx-auto px-4 py-16",children:r.jsxs("div",{className:"bg-gradient-to-r from-primary-800 to-primary-900 rounded-2xl p-8 md:p-12 text-center",children:[r.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Ready to Perfect Your Follow-Ups?"}),r.jsx("p",{className:"text-primary-200 text-lg mb-8 max-w-2xl mx-auto",children:"Get started with your AI Inbox Manager today."}),r.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[r.jsx(de,{to:"/register",className:"btn btn-primary bg-white text-primary-900 hover:bg-gray-100 px-6 py-3",children:"Start Free Trial"}),r.jsx(de,{to:"/contact",className:"btn btn-secondary border border-white text-white hover:bg-primary-700 px-6 py-3",children:"Schedule Demo"})]})]})})]}),Ng="RFC3986",kg={RFC1738:t=>String(t).replace(/%20/g,"+"),RFC3986:t=>String(t)},EX="RFC1738",DX=Array.isArray,wa=(()=>{const t=[];for(let e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})(),c0=1024,LX=(t,e,s,n,a)=>{if(t.length===0)return t;let i=t;if(typeof t=="symbol"?i=Symbol.prototype.toString.call(t):typeof t!="string"&&(i=String(t)),s==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(l){return"%26%23"+parseInt(l.slice(2),16)+"%3B"});let o="";for(let l=0;l<i.length;l+=c0){const c=i.length>=c0?i.slice(l,l+c0):i,d=[];for(let u=0;u<c.length;++u){let h=c.charCodeAt(u);if(h===45||h===46||h===95||h===126||h>=48&&h<=57||h>=65&&h<=90||h>=97&&h<=122||a===EX&&(h===40||h===41)){d[d.length]=c.charAt(u);continue}if(h<128){d[d.length]=wa[h];continue}if(h<2048){d[d.length]=wa[192|h>>6]+wa[128|h&63];continue}if(h<55296||h>=57344){d[d.length]=wa[224|h>>12]+wa[128|h>>6&63]+wa[128|h&63];continue}u+=1,h=65536+((h&1023)<<10|c.charCodeAt(u)&1023),d[d.length]=wa[240|h>>18]+wa[128|h>>12&63]+wa[128|h>>6&63]+wa[128|h&63]}o+=d.join("")}return o};function IX(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function rw(t,e){if(DX(t)){const s=[];for(let n=0;n<t.length;n+=1)s.push(e(t[n]));return s}return e(t)}const MX=Object.prototype.hasOwnProperty,v3={brackets(t){return String(t)+"[]"},comma:"comma",indices(t,e){return String(t)+"["+e+"]"},repeat(t){return String(t)}},Aa=Array.isArray,TX=Array.prototype.push,w3=function(t,e){TX.apply(t,Aa(e)?e:[e])},FX=Date.prototype.toISOString,Ws={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:LX,encodeValuesOnly:!1,format:Ng,formatter:kg[Ng],indices:!1,serializeDate(t){return FX.call(t)},skipNulls:!1,strictNullHandling:!1};function OX(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"}const d0={};function j3(t,e,s,n,a,i,o,l,c,d,u,h,f,m,g,x,j,y){let b=t,k=y,A=0,E=!1;for(;(k=k.get(d0))!==void 0&&!E;){const L=k.get(t);if(A+=1,typeof L<"u"){if(L===A)throw new RangeError("Cyclic object value");E=!0}typeof k.get(d0)>"u"&&(A=0)}if(typeof d=="function"?b=d(e,b):b instanceof Date?b=f?.(b):s==="comma"&&Aa(b)&&(b=rw(b,function(L){return L instanceof Date?f?.(L):L})),b===null){if(i)return c&&!x?c(e,Ws.encoder,j,"key",m):e;b=""}if(OX(b)||IX(b)){if(c){const L=x?e:c(e,Ws.encoder,j,"key",m);return[g?.(L)+"="+g?.(c(b,Ws.encoder,j,"value",m))]}return[g?.(e)+"="+g?.(String(b))]}const I=[];if(typeof b>"u")return I;let _;if(s==="comma"&&Aa(b))x&&c&&(b=rw(b,c)),_=[{value:b.length>0?b.join(",")||null:void 0}];else if(Aa(d))_=d;else{const L=Object.keys(b);_=u?L.sort(u):L}const v=l?String(e).replace(/\./g,"%2E"):String(e),P=n&&Aa(b)&&b.length===1?v+"[]":v;if(a&&Aa(b)&&b.length===0)return P+"[]";for(let L=0;L<_.length;++L){const S=_[L],C=typeof S=="object"&&typeof S.value<"u"?S.value:b[S];if(o&&C===null)continue;const O=h&&l?S.replace(/\./g,"%2E"):S,z=Aa(b)?typeof s=="function"?s(P,O):P:P+(h?"."+O:"["+O+"]");y.set(t,A);const Z=new WeakMap;Z.set(d0,y),w3(I,j3(C,z,s,n,a,i,o,l,s==="comma"&&x&&Aa(b)?null:c,d,u,h,f,m,g,x,j,Z))}return I}function RX(t=Ws){if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=t.charset||Ws.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let s=Ng;if(typeof t.format<"u"){if(!MX.call(kg,t.format))throw new TypeError("Unknown format option provided.");s=t.format}const n=kg[s];let a=Ws.filter;(typeof t.filter=="function"||Aa(t.filter))&&(a=t.filter);let i;if(t.arrayFormat&&t.arrayFormat in v3?i=t.arrayFormat:"indices"in t?i=t.indices?"indices":"repeat":i=Ws.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const o=typeof t.allowDots>"u"?t.encodeDotInKeys?!0:Ws.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:Ws.addQueryPrefix,allowDots:o,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:Ws.allowEmptyArrays,arrayFormat:i,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:Ws.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?Ws.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:Ws.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:Ws.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:Ws.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:Ws.encodeValuesOnly,filter:a,format:s,formatter:n,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:Ws.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:Ws.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:Ws.strictNullHandling}}function $X(t,e={}){let s=t;const n=RX(e);let a,i;typeof n.filter=="function"?(i=n.filter,s=i("",s)):Aa(n.filter)&&(i=n.filter,a=i);const o=[];if(typeof s!="object"||s===null)return"";const l=v3[n.arrayFormat],c=l==="comma"&&n.commaRoundTrip;a||(a=Object.keys(s)),n.sort&&a.sort(n.sort);const d=new WeakMap;for(let f=0;f<a.length;++f){const m=a[f];n.skipNulls&&s[m]===null||w3(o,j3(s[m],m,l,c,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,d))}const u=o.join(n.delimiter);let h=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?h+="utf8=%26%2310003%3B&":h+="utf8=%E2%9C%93&"),u.length>0?h+u:""}const oc="4.86.2";let nw=!1,cu,N3,k3,_g,_3,S3,A3,C3,P3;function zX(t,e={auto:!1}){if(nw)throw new Error(`you must \`import 'openai/shims/${t.kind}'\` before importing anything else from openai`);if(cu)throw new Error(`can't \`import 'openai/shims/${t.kind}'\` after \`import 'openai/shims/${cu}'\``);nw=e.auto,cu=t.kind,N3=t.fetch,k3=t.FormData,_g=t.File,_3=t.ReadableStream,S3=t.getMultipartRequestOptions,A3=t.getDefaultAgent,C3=t.fileFromPath,P3=t.isFsReadStream}class BX{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}function qX({manuallyImported:t}={}){const e=t?"You may need to use polyfills":"Add one of these imports before your first `import  from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let s,n,a,i;try{s=fetch,n=Request,a=Response,i=Headers}catch(o){throw new Error(`this environment is missing the following Web Fetch API type: ${o.message}. ${e}`)}return{kind:"web",fetch:s,Request:n,Response:a,Headers:i,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${e}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${e}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${e}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${e}`)}},getMultipartRequestOptions:async(o,l)=>({...l,body:new BX(o)}),getDefaultAgent:o=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:o=>!1}}cu||zX(qX(),{auto:!0});class Nt extends Error{}class hr extends Nt{constructor(e,s,n,a){super(`${hr.makeMessage(e,s,n)}`),this.status=e,this.headers=a,this.request_id=a?.["x-request-id"],this.error=s;const i=s;this.code=i?.code,this.param=i?.param,this.type=i?.type}static makeMessage(e,s,n){const a=s?.message?typeof s.message=="string"?s.message:JSON.stringify(s.message):s?JSON.stringify(s):n;return e&&a?`${e} ${a}`:e?`${e} status code (no body)`:a||"(no status code or body)"}static generate(e,s,n,a){if(!e||!a)return new kp({message:n,cause:Ag(s)});const i=s?.error;return e===400?new E3(e,i,n,a):e===401?new D3(e,i,n,a):e===403?new L3(e,i,n,a):e===404?new I3(e,i,n,a):e===409?new M3(e,i,n,a):e===422?new T3(e,i,n,a):e===429?new F3(e,i,n,a):e>=500?new O3(e,i,n,a):new hr(e,i,n,a)}}class ta extends hr{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class kp extends hr{constructor({message:e,cause:s}){super(void 0,void 0,e||"Connection error.",void 0),s&&(this.cause=s)}}class tb extends kp{constructor({message:e}={}){super({message:e??"Request timed out."})}}class E3 extends hr{}class D3 extends hr{}class L3 extends hr{}class I3 extends hr{}class M3 extends hr{}class T3 extends hr{}class F3 extends hr{}class O3 extends hr{}class R3 extends Nt{constructor(){super("Could not parse response content as the length limit was reached")}}class $3 extends Nt{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}var vm=function(t,e,s,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!a:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(t,s):a?a.value=s:e.set(t,s),s},Po=function(t,e,s,n){if(s==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?n:s==="a"?n.call(t):n?n.value:e.get(t)},cn;class _p{constructor(){cn.set(this,void 0),this.buffer=new Uint8Array,vm(this,cn,null,"f")}decode(e){if(e==null)return[];const s=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?new TextEncoder().encode(e):e;let n=new Uint8Array(this.buffer.length+s.length);n.set(this.buffer),n.set(s,this.buffer.length),this.buffer=n;const a=[];let i;for(;(i=HX(this.buffer,Po(this,cn,"f")))!=null;){if(i.carriage&&Po(this,cn,"f")==null){vm(this,cn,i.index,"f");continue}if(Po(this,cn,"f")!=null&&(i.index!==Po(this,cn,"f")+1||i.carriage)){a.push(this.decodeText(this.buffer.slice(0,Po(this,cn,"f")-1))),this.buffer=this.buffer.slice(Po(this,cn,"f")),vm(this,cn,null,"f");continue}const o=Po(this,cn,"f")!==null?i.preceding-1:i.preceding,l=this.decodeText(this.buffer.slice(0,o));a.push(l),this.buffer=this.buffer.slice(i.index),vm(this,cn,null,"f")}return a}decodeText(e){if(e==null)return"";if(typeof e=="string")return e;if(typeof Buffer<"u"){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new Nt(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new Nt(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new Nt("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){return this.buffer.length?this.decode(`
`):[]}}cn=new WeakMap;_p.NEWLINE_CHARS=new Set([`
`,"\r"]);_p.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function HX(t,e){for(let a=e??0;a<t.length;a++){if(t[a]===10)return{preceding:a,index:a+1,carriage:!1};if(t[a]===13)return{preceding:a,index:a+1,carriage:!0}}return null}function WX(t){for(let n=0;n<t.length-1;n++){if(t[n]===10&&t[n+1]===10||t[n]===13&&t[n+1]===13)return n+2;if(t[n]===13&&t[n+1]===10&&n+3<t.length&&t[n+2]===13&&t[n+3]===10)return n+4}return-1}function z3(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const s=await e.read();return s?.done&&e.releaseLock(),s}catch(s){throw e.releaseLock(),s}},async return(){const s=e.cancel();return e.releaseLock(),await s,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}class Ra{constructor(e,s){this.iterator=e,this.controller=s}static fromSSEResponse(e,s){let n=!1;async function*a(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let i=!1;try{for await(const o of UX(e,s))if(!i){if(o.data.startsWith("[DONE]")){i=!0;continue}if(o.event===null){let l;try{l=JSON.parse(o.data)}catch(c){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),c}if(l&&l.error)throw new hr(void 0,l.error,void 0,void 0);yield l}else{let l;try{l=JSON.parse(o.data)}catch(c){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),c}if(o.event=="error")throw new hr(void 0,l.error,l.message,void 0);yield{event:o.event,data:l}}}i=!0}catch(o){if(o instanceof Error&&o.name==="AbortError")return;throw o}finally{i||s.abort()}}return new Ra(a,s)}static fromReadableStream(e,s){let n=!1;async function*a(){const o=new _p,l=z3(e);for await(const c of l)for(const d of o.decode(c))yield d;for(const c of o.flush())yield c}async function*i(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let o=!1;try{for await(const l of a())o||l&&(yield JSON.parse(l));o=!0}catch(l){if(l instanceof Error&&l.name==="AbortError")return;throw l}finally{o||s.abort()}}return new Ra(i,s)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],s=[],n=this.iterator(),a=i=>({next:()=>{if(i.length===0){const o=n.next();e.push(o),s.push(o)}return i.shift()}});return[new Ra(()=>a(e),this.controller),new Ra(()=>a(s),this.controller)]}toReadableStream(){const e=this;let s;const n=new TextEncoder;return new _3({async start(){s=e[Symbol.asyncIterator]()},async pull(a){try{const{value:i,done:o}=await s.next();if(o)return a.close();const l=n.encode(JSON.stringify(i)+`
`);a.enqueue(l)}catch(i){a.error(i)}},async cancel(){await s.return?.()}})}}async function*UX(t,e){if(!t.body)throw e.abort(),new Nt("Attempted to iterate over a response with no body");const s=new YX,n=new _p,a=z3(t.body);for await(const i of VX(a))for(const o of n.decode(i)){const l=s.decode(o);l&&(yield l)}for(const i of n.flush()){const o=s.decode(i);o&&(yield o)}}async function*VX(t){let e=new Uint8Array;for await(const s of t){if(s==null)continue;const n=s instanceof ArrayBuffer?new Uint8Array(s):typeof s=="string"?new TextEncoder().encode(s):s;let a=new Uint8Array(e.length+n.length);a.set(e),a.set(n,e.length),e=a;let i;for(;(i=WX(e))!==-1;)yield e.slice(0,i),e=e.slice(i)}e.length>0&&(yield e)}class YX{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(e),e.startsWith(":"))return null;let[s,n,a]=GX(e,":");return a.startsWith(" ")&&(a=a.substring(1)),s==="event"?this.event=a:s==="data"&&this.data.push(a),null}}function GX(t,e){const s=t.indexOf(e);return s!==-1?[t.substring(0,s),e,t.substring(s+e.length)]:[t,"",""]}const B3=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function",q3=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Sp(t),Sp=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",KX=t=>q3(t)||B3(t)||P3(t);async function H3(t,e,s){if(t=await t,q3(t))return t;if(B3(t)){const a=await t.blob();e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()??"unknown_file");const i=Sp(a)?[await a.arrayBuffer()]:[a];return new _g(i,e,s)}const n=await XX(t);if(e||(e=JX(t)??"unknown_file"),!s?.type){const a=n[0]?.type;typeof a=="string"&&(s={...s,type:a})}return new _g(n,e,s)}async function XX(t){let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(Sp(t))e.push(await t.arrayBuffer());else if(ZX(t))for await(const s of t)e.push(s);else throw new Error(`Unexpected data type: ${typeof t}; constructor: ${t?.constructor?.name}; props: ${QX(t)}`);return e}function QX(t){return`[${Object.getOwnPropertyNames(t).map(s=>`"${s}"`).join(", ")}]`}function JX(t){return u0(t.name)||u0(t.filename)||u0(t.path)?.split(/[\\/]/).pop()}const u0=t=>{if(typeof t=="string")return t;if(typeof Buffer<"u"&&t instanceof Buffer)return String(t)},ZX=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",aw=t=>t&&typeof t=="object"&&t.body&&t[Symbol.toStringTag]==="MultipartBody",Cc=async t=>{const e=await eQ(t.body);return S3(e,t)},eQ=async t=>{const e=new k3;return await Promise.all(Object.entries(t||{}).map(([s,n])=>Sg(e,s,n))),e},Sg=async(t,e,s)=>{if(s!==void 0){if(s==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")t.append(e,String(s));else if(KX(s)){const n=await H3(s);t.append(e,n)}else if(Array.isArray(s))await Promise.all(s.map(n=>Sg(t,e+"[]",n)));else if(typeof s=="object")await Promise.all(Object.entries(s).map(([n,a])=>Sg(t,`${e}[${n}]`,a)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${s} instead`)}};var W3={},tQ=function(t,e,s,n,a){if(typeof e=="function"?t!==e||!a:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,s),s},sQ=function(t,e,s,n){if(s==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?n:s==="a"?n.call(t):n?n.value:e.get(t)},wm;async function U3(t){const{response:e}=t;if(t.options.stream)return hc("response",e.status,e.url,e.headers,e.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(e,t.controller):Ra.fromSSEResponse(e,t.controller);if(e.status===204)return null;if(t.options.__binaryResponse)return e;const s=e.headers.get("content-type");if(s?.includes("application/json")||s?.includes("application/vnd.api+json")){const i=await e.json();return hc("response",e.status,e.url,e.headers,i),V3(i,e)}const a=await e.text();return hc("response",e.status,e.url,e.headers,a),a}function V3(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}class Ap extends Promise{constructor(e,s=U3){super(n=>{n(null)}),this.responsePromise=e,this.parseResponse=s}_thenUnwrap(e){return new Ap(this.responsePromise,async s=>V3(e(await this.parseResponse(s),s),s.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,s]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:s,request_id:s.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,s){return this.parse().then(e,s)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class rQ{constructor({baseURL:e,maxRetries:s=2,timeout:n=6e5,httpAgent:a,fetch:i}){this.baseURL=e,this.maxRetries=h0("maxRetries",s),this.timeout=h0("timeout",n),this.httpAgent=a,this.fetch=i??N3}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...cQ(),...this.authHeaders(e)}}validateHeaders(e,s){}defaultIdempotencyKey(){return`stainless-node-retry-${mQ()}`}get(e,s){return this.methodRequest("get",e,s)}post(e,s){return this.methodRequest("post",e,s)}patch(e,s){return this.methodRequest("patch",e,s)}put(e,s){return this.methodRequest("put",e,s)}delete(e,s){return this.methodRequest("delete",e,s)}methodRequest(e,s,n){return this.request(Promise.resolve(n).then(async a=>{const i=a&&Sp(a?.body)?new DataView(await a.body.arrayBuffer()):a?.body instanceof DataView?a.body:a?.body instanceof ArrayBuffer?new DataView(a.body):a&&ArrayBuffer.isView(a?.body)?new DataView(a.body.buffer):a?.body;return{method:e,path:s,...a,body:i}}))}getAPIList(e,s,n){return this.requestAPIList(s,{method:"get",path:e,...n})}calculateContentLength(e){if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.byteLength(e,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(e).length.toString()}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e,{retryCount:s=0}={}){e={...e};const{method:n,path:a,query:i,headers:o={}}=e,l=ArrayBuffer.isView(e.body)||e.__binaryRequest&&typeof e.body=="string"?e.body:aw(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,c=this.calculateContentLength(l),d=this.buildURL(a,i);"timeout"in e&&h0("timeout",e.timeout),e.timeout=e.timeout??this.timeout;const u=e.httpAgent??this.httpAgent??A3(d),h=e.timeout+1e3;typeof u?.options?.timeout=="number"&&h>(u.options.timeout??0)&&(u.options.timeout=h),this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const f=this.buildHeaders({options:e,headers:o,contentLength:c,retryCount:s});return{req:{method:n,...l&&{body:l},headers:f,...u&&{agent:u},signal:e.signal??null},url:d,timeout:e.timeout}}buildHeaders({options:e,headers:s,contentLength:n,retryCount:a}){const i={};n&&(i["content-length"]=n);const o=this.defaultHeaders(e);return cw(i,o),cw(i,s),aw(e.body)&&cu!=="node"&&delete i["content-type"],Nm(o,"x-stainless-retry-count")===void 0&&Nm(s,"x-stainless-retry-count")===void 0&&(i["x-stainless-retry-count"]=String(a)),Nm(o,"x-stainless-timeout")===void 0&&Nm(s,"x-stainless-timeout")===void 0&&e.timeout&&(i["x-stainless-timeout"]=String(e.timeout)),this.validateHeaders(i,s),i}async prepareOptions(e){}async prepareRequest(e,{url:s,options:n}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(s=>[...s])):{...e}:{}}makeStatusError(e,s,n,a){return hr.generate(e,s,n,a)}request(e,s=null){return new Ap(this.makeRequest(e,s))}async makeRequest(e,s){const n=await e,a=n.maxRetries??this.maxRetries;s==null&&(s=a),await this.prepareOptions(n);const{req:i,url:o,timeout:l}=this.buildRequest(n,{retryCount:a-s});if(await this.prepareRequest(i,{url:o,options:n}),hc("request",o,n,i.headers),n.signal?.aborted)throw new ta;const c=new AbortController,d=await this.fetchWithTimeout(o,i,l,c).catch(Ag);if(d instanceof Error){if(n.signal?.aborted)throw new ta;if(s)return this.retryRequest(n,s);throw d.name==="AbortError"?new tb:new kp({cause:d})}const u=aQ(d.headers);if(!d.ok){if(s&&this.shouldRetry(d)){const j=`retrying, ${s} attempts remaining`;return hc(`response (error; ${j})`,d.status,o,u),this.retryRequest(n,s,u)}const h=await d.text().catch(j=>Ag(j).message),f=dQ(h),m=f?void 0:h;throw hc(`response (error; ${s?"(error; no more retries left)":"(error; not retryable)"})`,d.status,o,u,m),this.makeStatusError(d.status,f,m,u)}return{response:d,options:n,controller:c}}requestAPIList(e,s){const n=this.makeRequest(s,null);return new nQ(this,n,e)}buildURL(e,s){const n=hQ(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),a=this.defaultQuery();return G3(a)||(s={...a,...s}),typeof s=="object"&&s&&!Array.isArray(s)&&(n.search=this.stringifyQuery(s)),n.toString()}stringifyQuery(e){return Object.entries(e).filter(([s,n])=>typeof n<"u").map(([s,n])=>{if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")return`${encodeURIComponent(s)}=${encodeURIComponent(n)}`;if(n===null)return`${encodeURIComponent(s)}=`;throw new Nt(`Cannot stringify type ${typeof n}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(e,s,n,a){const{signal:i,...o}=s||{};i&&i.addEventListener("abort",()=>a.abort());const l=setTimeout(()=>a.abort(),n),c={signal:a.signal,...o};return c.method&&(c.method=c.method.toUpperCase()),this.fetch.call(void 0,e,c).finally(()=>{clearTimeout(l)})}shouldRetry(e){const s=e.headers.get("x-should-retry");return s==="true"?!0:s==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,s,n){let a;const i=n?.["retry-after-ms"];if(i){const l=parseFloat(i);Number.isNaN(l)||(a=l)}const o=n?.["retry-after"];if(o&&!a){const l=parseFloat(o);Number.isNaN(l)?a=Date.parse(o)-Date.now():a=l*1e3}if(!(a&&0<=a&&a<60*1e3)){const l=e.maxRetries??this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(s,l)}return await lh(a),this.makeRequest(e,s-1)}calculateDefaultRetryTimeoutMillis(e,s){const i=s-e,o=Math.min(.5*Math.pow(2,i),8),l=1-Math.random()*.25;return o*l*1e3}getUserAgent(){return`${this.constructor.name}/JS ${oc}`}}class Y3{constructor(e,s,n,a){wm.set(this,void 0),tQ(this,wm,e),this.options=a,this.response=s,this.body=n}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const e=this.nextPageInfo();if(!e)throw new Nt("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const s={...this.options};if("params"in e&&typeof s.query=="object")s.query={...s.query,...e.params};else if("url"in e){const n=[...Object.entries(s.query||{}),...e.url.searchParams.entries()];for(const[a,i]of n)e.url.searchParams.set(a,i);s.query=void 0,s.path=e.url.toString()}return await sQ(this,wm,"f").requestAPIList(this.constructor,s)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(wm=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const s of e.getPaginatedItems())yield s}}class nQ extends Ap{constructor(e,s,n){super(s,async a=>new n(e,a.response,await U3(a),a.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const s of e)yield s}}const aQ=t=>new Proxy(Object.fromEntries(t.entries()),{get(e,s){const n=s.toString();return e[n.toLowerCase()]||e[n]}}),iQ={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__metadata:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},_r=t=>typeof t=="object"&&t!==null&&!G3(t)&&Object.keys(t).every(e=>K3(iQ,e)),oQ=()=>{if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":oc,"X-Stainless-OS":ow(Deno.build.os),"X-Stainless-Arch":iw(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:Deno.version?.deno??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":oc,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":oc,"X-Stainless-OS":ow(process.platform),"X-Stainless-Arch":iw(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const t=lQ();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":oc,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":oc,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function lQ(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:s}of t){const n=s.exec(navigator.userAgent);if(n){const a=n[1]||0,i=n[2]||0,o=n[3]||0;return{browser:e,version:`${a}.${i}.${o}`}}}return null}const iw=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",ow=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let lw;const cQ=()=>lw??(lw=oQ()),dQ=t=>{try{return JSON.parse(t)}catch{return}},uQ=/^[a-z][a-z0-9+.-]*:/i,hQ=t=>uQ.test(t),lh=t=>new Promise(e=>setTimeout(e,t)),h0=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Nt(`${t} must be an integer`);if(e<0)throw new Nt(`${t} must be a positive integer`);return e},Ag=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null)try{return new Error(JSON.stringify(t))}catch{}return new Error(t)},jm=t=>{if(typeof process<"u")return W3?.[t]?.trim()??void 0;if(typeof Deno<"u")return Deno.env?.get?.(t)?.trim()};function G3(t){if(!t)return!0;for(const e in t)return!1;return!0}function K3(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function cw(t,e){for(const s in e){if(!K3(e,s))continue;const n=s.toLowerCase();if(!n)continue;const a=e[s];a===null?delete t[n]:a!==void 0&&(t[n]=a)}}const dw=new Set(["authorization","api-key"]);function hc(t,...e){if(typeof process<"u"&&W3?.DEBUG==="true"){const s=e.map(n=>{if(!n)return n;if(n.headers){const i={...n,headers:{...n.headers}};for(const o in n.headers)dw.has(o.toLowerCase())&&(i.headers[o]="REDACTED");return i}let a=null;for(const i in n)dw.has(i.toLowerCase())&&(a??(a={...n}),a[i]="REDACTED");return a??n});console.log(`OpenAI:DEBUG:${t}`,...s)}}const mQ=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)}),fQ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",pQ=t=>typeof t?.get=="function",Nm=(t,e)=>{const s=e.toLowerCase();if(pQ(t)){const n=e[0]?.toUpperCase()+e.substring(1).replace(/([^\w])(\w)/g,(a,i,o)=>i+o.toUpperCase());for(const a of[e,s,e.toUpperCase(),n]){const i=t.get(a);if(i)return i}}for(const[n,a]of Object.entries(t))if(n.toLowerCase()===s)return Array.isArray(a)?(a.length<=1||console.warn(`Received ${a.length} entries for the ${e} header, using the first entry.`),a[0]):a};function m0(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}class xQ extends Y3{constructor(e,s,n,a){super(e,s,n,a),this.data=n.data||[],this.object=n.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class gn extends Y3{constructor(e,s,n,a){super(e,s,n,a),this.data=n.data||[],this.has_more=n.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageParams(){const e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;const s=Object.fromEntries(e.url.searchParams);return Object.keys(s).length?s:null}nextPageInfo(){const e=this.getPaginatedItems();if(!e.length)return null;const s=e[e.length-1]?.id;return s?{params:{after:s}}:null}}class Pt{constructor(e){this._client=e}}let X3=class extends Pt{list(e,s={},n){return _r(s)?this.list(e,{},s):this._client.getAPIList(`/chat/completions/${e}/messages`,gQ,{query:s,...n})}},Cp=class extends Pt{constructor(){super(...arguments),this.messages=new X3(this._client)}create(e,s){return this._client.post("/chat/completions",{body:e,...s,stream:e.stream??!1})}retrieve(e,s){return this._client.get(`/chat/completions/${e}`,s)}update(e,s,n){return this._client.post(`/chat/completions/${e}`,{body:s,...n})}list(e={},s){return _r(e)?this.list({},e):this._client.getAPIList("/chat/completions",Pp,{query:e,...s})}del(e,s){return this._client.delete(`/chat/completions/${e}`,s)}};class Pp extends gn{}class gQ extends gn{}Cp.ChatCompletionsPage=Pp;Cp.Messages=X3;let Ep=class extends Pt{constructor(){super(...arguments),this.completions=new Cp(this._client)}};Ep.Completions=Cp;Ep.ChatCompletionsPage=Pp;class Q3 extends Pt{create(e,s){return this._client.post("/audio/speech",{body:e,...s,headers:{Accept:"application/octet-stream",...s?.headers},__binaryResponse:!0})}}class J3 extends Pt{create(e,s){return this._client.post("/audio/transcriptions",Cc({body:e,...s,__metadata:{model:e.model}}))}}class Z3 extends Pt{create(e,s){return this._client.post("/audio/translations",Cc({body:e,...s,__metadata:{model:e.model}}))}}class ch extends Pt{constructor(){super(...arguments),this.transcriptions=new J3(this._client),this.translations=new Z3(this._client),this.speech=new Q3(this._client)}}ch.Transcriptions=J3;ch.Translations=Z3;ch.Speech=Q3;class sb extends Pt{create(e,s){return this._client.post("/batches",{body:e,...s})}retrieve(e,s){return this._client.get(`/batches/${e}`,s)}list(e={},s){return _r(e)?this.list({},e):this._client.getAPIList("/batches",rb,{query:e,...s})}cancel(e,s){return this._client.post(`/batches/${e}/cancel`,s)}}class rb extends gn{}sb.BatchesPage=rb;class nb extends Pt{create(e,s){return this._client.post("/assistants",{body:e,...s,headers:{"OpenAI-Beta":"assistants=v2",...s?.headers}})}retrieve(e,s){return this._client.get(`/assistants/${e}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s?.headers}})}update(e,s,n){return this._client.post(`/assistants/${e}`,{body:s,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}list(e={},s){return _r(e)?this.list({},e):this._client.getAPIList("/assistants",ab,{query:e,...s,headers:{"OpenAI-Beta":"assistants=v2",...s?.headers}})}del(e,s){return this._client.delete(`/assistants/${e}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s?.headers}})}}class ab extends gn{}nb.AssistantsPage=ab;function uw(t){return typeof t.parse=="function"}const mc=t=>t?.role==="assistant",ek=t=>t?.role==="function",tk=t=>t?.role==="tool";var Jn=function(t,e,s,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!a:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(t,s):a?a.value=s:e.set(t,s),s},os=function(t,e,s,n){if(s==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?n:s==="a"?n.call(t):n?n.value:e.get(t)},Cg,ef,tf,Wd,Ud,sf,Vd,ui,Yd,Pf,Ef,lc,sk;class rk{constructor(){Cg.add(this),this.controller=new AbortController,ef.set(this,void 0),tf.set(this,()=>{}),Wd.set(this,()=>{}),Ud.set(this,void 0),sf.set(this,()=>{}),Vd.set(this,()=>{}),ui.set(this,{}),Yd.set(this,!1),Pf.set(this,!1),Ef.set(this,!1),lc.set(this,!1),Jn(this,ef,new Promise((e,s)=>{Jn(this,tf,e,"f"),Jn(this,Wd,s,"f")}),"f"),Jn(this,Ud,new Promise((e,s)=>{Jn(this,sf,e,"f"),Jn(this,Vd,s,"f")}),"f"),os(this,ef,"f").catch(()=>{}),os(this,Ud,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},os(this,Cg,"m",sk).bind(this))},0)}_connected(){this.ended||(os(this,tf,"f").call(this),this._emit("connect"))}get ended(){return os(this,Yd,"f")}get errored(){return os(this,Pf,"f")}get aborted(){return os(this,Ef,"f")}abort(){this.controller.abort()}on(e,s){return(os(this,ui,"f")[e]||(os(this,ui,"f")[e]=[])).push({listener:s}),this}off(e,s){const n=os(this,ui,"f")[e];if(!n)return this;const a=n.findIndex(i=>i.listener===s);return a>=0&&n.splice(a,1),this}once(e,s){return(os(this,ui,"f")[e]||(os(this,ui,"f")[e]=[])).push({listener:s,once:!0}),this}emitted(e){return new Promise((s,n)=>{Jn(this,lc,!0,"f"),e!=="error"&&this.once("error",n),this.once(e,s)})}async done(){Jn(this,lc,!0,"f"),await os(this,Ud,"f")}_emit(e,...s){if(os(this,Yd,"f"))return;e==="end"&&(Jn(this,Yd,!0,"f"),os(this,sf,"f").call(this));const n=os(this,ui,"f")[e];if(n&&(os(this,ui,"f")[e]=n.filter(a=>!a.once),n.forEach(({listener:a})=>a(...s))),e==="abort"){const a=s[0];!os(this,lc,"f")&&!n?.length&&Promise.reject(a),os(this,Wd,"f").call(this,a),os(this,Vd,"f").call(this,a),this._emit("end");return}if(e==="error"){const a=s[0];!os(this,lc,"f")&&!n?.length&&Promise.reject(a),os(this,Wd,"f").call(this,a),os(this,Vd,"f").call(this,a),this._emit("end")}}_emitFinal(){}}ef=new WeakMap,tf=new WeakMap,Wd=new WeakMap,Ud=new WeakMap,sf=new WeakMap,Vd=new WeakMap,ui=new WeakMap,Yd=new WeakMap,Pf=new WeakMap,Ef=new WeakMap,lc=new WeakMap,Cg=new WeakSet,sk=function(e){if(Jn(this,Pf,!0,"f"),e instanceof Error&&e.name==="AbortError"&&(e=new ta),e instanceof ta)return Jn(this,Ef,!0,"f"),this._emit("abort",e);if(e instanceof Nt)return this._emit("error",e);if(e instanceof Error){const s=new Nt(e.message);return s.cause=e,this._emit("error",s)}return this._emit("error",new Nt(String(e)))};function nk(t){return t?.$brand==="auto-parseable-response-format"}function dh(t){return t?.$brand==="auto-parseable-tool"}function yQ(t,e){return!e||!ak(e)?{...t,choices:t.choices.map(s=>({...s,message:{...s.message,parsed:null,...s.message.tool_calls?{tool_calls:s.message.tool_calls}:void 0}}))}:ib(t,e)}function ib(t,e){const s=t.choices.map(n=>{if(n.finish_reason==="length")throw new R3;if(n.finish_reason==="content_filter")throw new $3;return{...n,message:{...n.message,...n.message.tool_calls?{tool_calls:n.message.tool_calls?.map(a=>vQ(e,a))??void 0}:void 0,parsed:n.message.content&&!n.message.refusal?bQ(e,n.message.content):null}}});return{...t,choices:s}}function bQ(t,e){return t.response_format?.type!=="json_schema"?null:t.response_format?.type==="json_schema"?"$parseRaw"in t.response_format?t.response_format.$parseRaw(e):JSON.parse(e):null}function vQ(t,e){const s=t.tools?.find(n=>n.function?.name===e.function.name);return{...e,function:{...e.function,parsed_arguments:dh(s)?s.$parseRaw(e.function.arguments):s?.function.strict?JSON.parse(e.function.arguments):null}}}function wQ(t,e){if(!t)return!1;const s=t.tools?.find(n=>n.function?.name===e.function.name);return dh(s)||s?.function.strict||!1}function ak(t){return nk(t.response_format)?!0:t.tools?.some(e=>dh(e)||e.type==="function"&&e.function.strict===!0)??!1}function jQ(t){for(const e of t??[]){if(e.type!=="function")throw new Nt(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new Nt(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var Ur=function(t,e,s,n){if(s==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?n:s==="a"?n.call(t):n?n.value:e.get(t)},wr,Pg,Df,Eg,Dg,Lg,ik,Ig;const hw=10;class ok extends rk{constructor(){super(...arguments),wr.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){this._chatCompletions.push(e),this._emit("chatCompletion",e);const s=e.choices[0]?.message;return s&&this._addMessage(s),e}_addMessage(e,s=!0){if("content"in e||(e.content=null),this.messages.push(e),s){if(this._emit("message",e),(ek(e)||tk(e))&&e.content)this._emit("functionCallResult",e.content);else if(mc(e)&&e.function_call)this._emit("functionCall",e.function_call);else if(mc(e)&&e.tool_calls)for(const n of e.tool_calls)n.type==="function"&&this._emit("functionCall",n.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new Nt("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),Ur(this,wr,"m",Pg).call(this)}async finalMessage(){return await this.done(),Ur(this,wr,"m",Df).call(this)}async finalFunctionCall(){return await this.done(),Ur(this,wr,"m",Eg).call(this)}async finalFunctionCallResult(){return await this.done(),Ur(this,wr,"m",Dg).call(this)}async totalUsage(){return await this.done(),Ur(this,wr,"m",Lg).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const s=Ur(this,wr,"m",Df).call(this);s&&this._emit("finalMessage",s);const n=Ur(this,wr,"m",Pg).call(this);n&&this._emit("finalContent",n);const a=Ur(this,wr,"m",Eg).call(this);a&&this._emit("finalFunctionCall",a);const i=Ur(this,wr,"m",Dg).call(this);i!=null&&this._emit("finalFunctionCallResult",i),this._chatCompletions.some(o=>o.usage)&&this._emit("totalUsage",Ur(this,wr,"m",Lg).call(this))}async _createChatCompletion(e,s,n){const a=n?.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort())),Ur(this,wr,"m",ik).call(this,s);const i=await e.chat.completions.create({...s,stream:!1},{...n,signal:this.controller.signal});return this._connected(),this._addChatCompletion(ib(i,s))}async _runChatCompletion(e,s,n){for(const a of s.messages)this._addMessage(a,!1);return await this._createChatCompletion(e,s,n)}async _runFunctions(e,s,n){const a="function",{function_call:i="auto",stream:o,...l}=s,c=typeof i!="string"&&i?.name,{maxChatCompletions:d=hw}=n||{},u={};for(const f of s.functions)u[f.name||f.function.name]=f;const h=s.functions.map(f=>({name:f.name||f.function.name,parameters:f.parameters,description:f.description}));for(const f of s.messages)this._addMessage(f,!1);for(let f=0;f<d;++f){const g=(await this._createChatCompletion(e,{...l,function_call:i,functions:h,messages:[...this.messages]},n)).choices[0]?.message;if(!g)throw new Nt("missing message in ChatCompletion response");if(!g.function_call)return;const{name:x,arguments:j}=g.function_call,y=u[x];if(y){if(c&&c!==x){const E=`Invalid function_call: ${JSON.stringify(x)}. ${JSON.stringify(c)} requested. Please try again`;this._addMessage({role:a,name:x,content:E});continue}}else{const E=`Invalid function_call: ${JSON.stringify(x)}. Available options are: ${h.map(I=>JSON.stringify(I.name)).join(", ")}. Please try again`;this._addMessage({role:a,name:x,content:E});continue}let b;try{b=uw(y)?await y.parse(j):j}catch(E){this._addMessage({role:a,name:x,content:E instanceof Error?E.message:String(E)});continue}const k=await y.function(b,this),A=Ur(this,wr,"m",Ig).call(this,k);if(this._addMessage({role:a,name:x,content:A}),c)return}}async _runTools(e,s,n){const a="tool",{tool_choice:i="auto",stream:o,...l}=s,c=typeof i!="string"&&i?.function?.name,{maxChatCompletions:d=hw}=n||{},u=s.tools.map(m=>{if(dh(m)){if(!m.$callback)throw new Nt("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:m.$callback,name:m.function.name,description:m.function.description||"",parameters:m.function.parameters,parse:m.$parseRaw,strict:!0}}}return m}),h={};for(const m of u)m.type==="function"&&(h[m.function.name||m.function.function.name]=m.function);const f="tools"in s?u.map(m=>m.type==="function"?{type:"function",function:{name:m.function.name||m.function.function.name,parameters:m.function.parameters,description:m.function.description,strict:m.function.strict}}:m):void 0;for(const m of s.messages)this._addMessage(m,!1);for(let m=0;m<d;++m){const x=(await this._createChatCompletion(e,{...l,tool_choice:i,tools:f,messages:[...this.messages]},n)).choices[0]?.message;if(!x)throw new Nt("missing message in ChatCompletion response");if(!x.tool_calls?.length)return;for(const j of x.tool_calls){if(j.type!=="function")continue;const y=j.id,{name:b,arguments:k}=j.function,A=h[b];if(A){if(c&&c!==b){const v=`Invalid tool_call: ${JSON.stringify(b)}. ${JSON.stringify(c)} requested. Please try again`;this._addMessage({role:a,tool_call_id:y,content:v});continue}}else{const v=`Invalid tool_call: ${JSON.stringify(b)}. Available options are: ${Object.keys(h).map(P=>JSON.stringify(P)).join(", ")}. Please try again`;this._addMessage({role:a,tool_call_id:y,content:v});continue}let E;try{E=uw(A)?await A.parse(k):k}catch(v){const P=v instanceof Error?v.message:String(v);this._addMessage({role:a,tool_call_id:y,content:P});continue}const I=await A.function(E,this),_=Ur(this,wr,"m",Ig).call(this,I);if(this._addMessage({role:a,tool_call_id:y,content:_}),c)return}}}}wr=new WeakSet,Pg=function(){return Ur(this,wr,"m",Df).call(this).content??null},Df=function(){let e=this.messages.length;for(;e-- >0;){const s=this.messages[e];if(mc(s)){const{function_call:n,...a}=s,i={...a,content:s.content??null,refusal:s.refusal??null};return n&&(i.function_call=n),i}}throw new Nt("stream ended without producing a ChatCompletionMessage with role=assistant")},Eg=function(){for(let e=this.messages.length-1;e>=0;e--){const s=this.messages[e];if(mc(s)&&s?.function_call)return s.function_call;if(mc(s)&&s?.tool_calls?.length)return s.tool_calls.at(-1)?.function}},Dg=function(){for(let e=this.messages.length-1;e>=0;e--){const s=this.messages[e];if(ek(s)&&s.content!=null||tk(s)&&s.content!=null&&typeof s.content=="string"&&this.messages.some(n=>n.role==="assistant"&&n.tool_calls?.some(a=>a.type==="function"&&a.id===s.tool_call_id)))return s.content}},Lg=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:s}of this._chatCompletions)s&&(e.completion_tokens+=s.completion_tokens,e.prompt_tokens+=s.prompt_tokens,e.total_tokens+=s.total_tokens);return e},ik=function(e){if(e.n!=null&&e.n>1)throw new Nt("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},Ig=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class Tu extends ok{static runFunctions(e,s,n){const a=new Tu,i={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runFunctions"}};return a._run(()=>a._runFunctions(e,s,i)),a}static runTools(e,s,n){const a=new Tu,i={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runTools"}};return a._run(()=>a._runTools(e,s,i)),a}_addMessage(e,s=!0){super._addMessage(e,s),mc(e)&&e.content&&this._emit("content",e.content)}}const lk=1,ck=2,dk=4,uk=8,hk=16,mk=32,fk=64,pk=128,xk=256,gk=pk|xk,yk=hk|mk|gk|fk,bk=lk|ck|yk,vk=dk|uk,NQ=bk|vk,Zs={STR:lk,NUM:ck,ARR:dk,OBJ:uk,NULL:hk,BOOL:mk,NAN:fk,INFINITY:pk,MINUS_INFINITY:xk,INF:gk,SPECIAL:yk,ATOM:bk,COLLECTION:vk,ALL:NQ};class kQ extends Error{}class _Q extends Error{}function SQ(t,e=Zs.ALL){if(typeof t!="string")throw new TypeError(`expecting str, got ${typeof t}`);if(!t.trim())throw new Error(`${t} is empty`);return AQ(t.trim(),e)}const AQ=(t,e)=>{const s=t.length;let n=0;const a=f=>{throw new kQ(`${f} at position ${n}`)},i=f=>{throw new _Q(`${f} at position ${n}`)},o=()=>(h(),n>=s&&a("Unexpected end of input"),t[n]==='"'?l():t[n]==="{"?c():t[n]==="["?d():t.substring(n,n+4)==="null"||Zs.NULL&e&&s-n<4&&"null".startsWith(t.substring(n))?(n+=4,null):t.substring(n,n+4)==="true"||Zs.BOOL&e&&s-n<4&&"true".startsWith(t.substring(n))?(n+=4,!0):t.substring(n,n+5)==="false"||Zs.BOOL&e&&s-n<5&&"false".startsWith(t.substring(n))?(n+=5,!1):t.substring(n,n+8)==="Infinity"||Zs.INFINITY&e&&s-n<8&&"Infinity".startsWith(t.substring(n))?(n+=8,1/0):t.substring(n,n+9)==="-Infinity"||Zs.MINUS_INFINITY&e&&1<s-n&&s-n<9&&"-Infinity".startsWith(t.substring(n))?(n+=9,-1/0):t.substring(n,n+3)==="NaN"||Zs.NAN&e&&s-n<3&&"NaN".startsWith(t.substring(n))?(n+=3,NaN):u()),l=()=>{const f=n;let m=!1;for(n++;n<s&&(t[n]!=='"'||m&&t[n-1]==="\\");)m=t[n]==="\\"?!m:!1,n++;if(t.charAt(n)=='"')try{return JSON.parse(t.substring(f,++n-Number(m)))}catch(g){i(String(g))}else if(Zs.STR&e)try{return JSON.parse(t.substring(f,n-Number(m))+'"')}catch{return JSON.parse(t.substring(f,t.lastIndexOf("\\"))+'"')}a("Unterminated string literal")},c=()=>{n++,h();const f={};try{for(;t[n]!=="}";){if(h(),n>=s&&Zs.OBJ&e)return f;const m=l();h(),n++;try{const g=o();Object.defineProperty(f,m,{value:g,writable:!0,enumerable:!0,configurable:!0})}catch(g){if(Zs.OBJ&e)return f;throw g}h(),t[n]===","&&n++}}catch{if(Zs.OBJ&e)return f;a("Expected '}' at end of object")}return n++,f},d=()=>{n++;const f=[];try{for(;t[n]!=="]";)f.push(o()),h(),t[n]===","&&n++}catch{if(Zs.ARR&e)return f;a("Expected ']' at end of array")}return n++,f},u=()=>{if(n===0){t==="-"&&Zs.NUM&e&&a("Not sure what '-' is");try{return JSON.parse(t)}catch(m){if(Zs.NUM&e)try{return t[t.length-1]==="."?JSON.parse(t.substring(0,t.lastIndexOf("."))):JSON.parse(t.substring(0,t.lastIndexOf("e")))}catch{}i(String(m))}}const f=n;for(t[n]==="-"&&n++;t[n]&&!",]}".includes(t[n]);)n++;n==s&&!(Zs.NUM&e)&&a("Unterminated number literal");try{return JSON.parse(t.substring(f,n))}catch{t.substring(f,n)==="-"&&Zs.NUM&e&&a("Not sure what '-' is");try{return JSON.parse(t.substring(f,t.lastIndexOf("e")))}catch(g){i(String(g))}}},h=()=>{for(;n<s&&` 
\r	`.includes(t[n]);)n++};return o()},mw=t=>SQ(t,Zs.ALL^Zs.NUM);var Zl=function(t,e,s,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!a:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(t,s):a?a.value=s:e.set(t,s),s},qt=function(t,e,s,n){if(s==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?n:s==="a"?n.call(t):n?n.value:e.get(t)},Hs,ci,ec,Wi,f0,km,p0,x0,g0,_m,y0,fw;class Fu extends ok{constructor(e){super(),Hs.add(this),ci.set(this,void 0),ec.set(this,void 0),Wi.set(this,void 0),Zl(this,ci,e,"f"),Zl(this,ec,[],"f")}get currentChatCompletionSnapshot(){return qt(this,Wi,"f")}static fromReadableStream(e){const s=new Fu(null);return s._run(()=>s._fromReadableStream(e)),s}static createChatCompletion(e,s,n){const a=new Fu(s);return a._run(()=>a._runChatCompletion(e,{...s,stream:!0},{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}})),a}async _createChatCompletion(e,s,n){super._createChatCompletion;const a=n?.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort())),qt(this,Hs,"m",f0).call(this);const i=await e.chat.completions.create({...s,stream:!0},{...n,signal:this.controller.signal});this._connected();for await(const o of i)qt(this,Hs,"m",p0).call(this,o);if(i.controller.signal?.aborted)throw new ta;return this._addChatCompletion(qt(this,Hs,"m",_m).call(this))}async _fromReadableStream(e,s){const n=s?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),qt(this,Hs,"m",f0).call(this),this._connected();const a=Ra.fromReadableStream(e,this.controller);let i;for await(const o of a)i&&i!==o.id&&this._addChatCompletion(qt(this,Hs,"m",_m).call(this)),qt(this,Hs,"m",p0).call(this,o),i=o.id;if(a.controller.signal?.aborted)throw new ta;return this._addChatCompletion(qt(this,Hs,"m",_m).call(this))}[(ci=new WeakMap,ec=new WeakMap,Wi=new WeakMap,Hs=new WeakSet,f0=function(){this.ended||Zl(this,Wi,void 0,"f")},km=function(s){let n=qt(this,ec,"f")[s.index];return n||(n={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},qt(this,ec,"f")[s.index]=n,n)},p0=function(s){if(this.ended)return;const n=qt(this,Hs,"m",fw).call(this,s);this._emit("chunk",s,n);for(const a of s.choices){const i=n.choices[a.index];a.delta.content!=null&&i.message?.role==="assistant"&&i.message?.content&&(this._emit("content",a.delta.content,i.message.content),this._emit("content.delta",{delta:a.delta.content,snapshot:i.message.content,parsed:i.message.parsed})),a.delta.refusal!=null&&i.message?.role==="assistant"&&i.message?.refusal&&this._emit("refusal.delta",{delta:a.delta.refusal,snapshot:i.message.refusal}),a.logprobs?.content!=null&&i.message?.role==="assistant"&&this._emit("logprobs.content.delta",{content:a.logprobs?.content,snapshot:i.logprobs?.content??[]}),a.logprobs?.refusal!=null&&i.message?.role==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:a.logprobs?.refusal,snapshot:i.logprobs?.refusal??[]});const o=qt(this,Hs,"m",km).call(this,i);i.finish_reason&&(qt(this,Hs,"m",g0).call(this,i),o.current_tool_call_index!=null&&qt(this,Hs,"m",x0).call(this,i,o.current_tool_call_index));for(const l of a.delta.tool_calls??[])o.current_tool_call_index!==l.index&&(qt(this,Hs,"m",g0).call(this,i),o.current_tool_call_index!=null&&qt(this,Hs,"m",x0).call(this,i,o.current_tool_call_index)),o.current_tool_call_index=l.index;for(const l of a.delta.tool_calls??[]){const c=i.message.tool_calls?.[l.index];c?.type&&(c?.type==="function"?this._emit("tool_calls.function.arguments.delta",{name:c.function?.name,index:l.index,arguments:c.function.arguments,parsed_arguments:c.function.parsed_arguments,arguments_delta:l.function?.arguments??""}):(c?.type,void 0))}}},x0=function(s,n){if(qt(this,Hs,"m",km).call(this,s).done_tool_calls.has(n))return;const i=s.message.tool_calls?.[n];if(!i)throw new Error("no tool call snapshot");if(!i.type)throw new Error("tool call snapshot missing `type`");if(i.type==="function"){const o=qt(this,ci,"f")?.tools?.find(l=>l.type==="function"&&l.function.name===i.function.name);this._emit("tool_calls.function.arguments.done",{name:i.function.name,index:n,arguments:i.function.arguments,parsed_arguments:dh(o)?o.$parseRaw(i.function.arguments):o?.function.strict?JSON.parse(i.function.arguments):null})}else i.type},g0=function(s){const n=qt(this,Hs,"m",km).call(this,s);if(s.message.content&&!n.content_done){n.content_done=!0;const a=qt(this,Hs,"m",y0).call(this);this._emit("content.done",{content:s.message.content,parsed:a?a.$parseRaw(s.message.content):null})}s.message.refusal&&!n.refusal_done&&(n.refusal_done=!0,this._emit("refusal.done",{refusal:s.message.refusal})),s.logprobs?.content&&!n.logprobs_content_done&&(n.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:s.logprobs.content})),s.logprobs?.refusal&&!n.logprobs_refusal_done&&(n.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:s.logprobs.refusal}))},_m=function(){if(this.ended)throw new Nt("stream has ended, this shouldn't happen");const s=qt(this,Wi,"f");if(!s)throw new Nt("request ended without sending any chunks");return Zl(this,Wi,void 0,"f"),Zl(this,ec,[],"f"),CQ(s,qt(this,ci,"f"))},y0=function(){const s=qt(this,ci,"f")?.response_format;return nk(s)?s:null},fw=function(s){var n,a,i,o;let l=qt(this,Wi,"f");const{choices:c,...d}=s;l?Object.assign(l,d):l=Zl(this,Wi,{...d,choices:[]},"f");for(const{delta:u,finish_reason:h,index:f,logprobs:m=null,...g}of s.choices){let x=l.choices[f];if(x||(x=l.choices[f]={finish_reason:h,index:f,message:{},logprobs:m,...g}),m)if(!x.logprobs)x.logprobs=Object.assign({},m);else{const{content:I,refusal:_,...v}=m;Object.assign(x.logprobs,v),I&&((n=x.logprobs).content??(n.content=[]),x.logprobs.content.push(...I)),_&&((a=x.logprobs).refusal??(a.refusal=[]),x.logprobs.refusal.push(..._))}if(h&&(x.finish_reason=h,qt(this,ci,"f")&&ak(qt(this,ci,"f")))){if(h==="length")throw new R3;if(h==="content_filter")throw new $3}if(Object.assign(x,g),!u)continue;const{content:j,refusal:y,function_call:b,role:k,tool_calls:A,...E}=u;if(Object.assign(x.message,E),y&&(x.message.refusal=(x.message.refusal||"")+y),k&&(x.message.role=k),b&&(x.message.function_call?(b.name&&(x.message.function_call.name=b.name),b.arguments&&((i=x.message.function_call).arguments??(i.arguments=""),x.message.function_call.arguments+=b.arguments)):x.message.function_call=b),j&&(x.message.content=(x.message.content||"")+j,!x.message.refusal&&qt(this,Hs,"m",y0).call(this)&&(x.message.parsed=mw(x.message.content))),A){x.message.tool_calls||(x.message.tool_calls=[]);for(const{index:I,id:_,type:v,function:P,...L}of A){const S=(o=x.message.tool_calls)[I]??(o[I]={});Object.assign(S,L),_&&(S.id=_),v&&(S.type=v),P&&(S.function??(S.function={name:P.name??"",arguments:""})),P?.name&&(S.function.name=P.name),P?.arguments&&(S.function.arguments+=P.arguments,wQ(qt(this,ci,"f"),S)&&(S.function.parsed_arguments=mw(S.function.arguments)))}}}return l},Symbol.asyncIterator)](){const e=[],s=[];let n=!1;return this.on("chunk",a=>{const i=s.shift();i?i.resolve(a):e.push(a)}),this.on("end",()=>{n=!0;for(const a of s)a.resolve(void 0);s.length=0}),this.on("abort",a=>{n=!0;for(const i of s)i.reject(a);s.length=0}),this.on("error",a=>{n=!0;for(const i of s)i.reject(a);s.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((i,o)=>s.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Ra(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function CQ(t,e){const{id:s,choices:n,created:a,model:i,system_fingerprint:o,...l}=t,c={...l,id:s,choices:n.map(({message:d,finish_reason:u,index:h,logprobs:f,...m})=>{if(!u)throw new Nt(`missing finish_reason for choice ${h}`);const{content:g=null,function_call:x,tool_calls:j,...y}=d,b=d.role;if(!b)throw new Nt(`missing role for choice ${h}`);if(x){const{arguments:k,name:A}=x;if(k==null)throw new Nt(`missing function_call.arguments for choice ${h}`);if(!A)throw new Nt(`missing function_call.name for choice ${h}`);return{...m,message:{content:g,function_call:{arguments:k,name:A},role:b,refusal:d.refusal??null},finish_reason:u,index:h,logprobs:f}}return j?{...m,index:h,finish_reason:u,logprobs:f,message:{...y,role:b,content:g,refusal:d.refusal??null,tool_calls:j.map((k,A)=>{const{function:E,type:I,id:_,...v}=k,{arguments:P,name:L,...S}=E||{};if(_==null)throw new Nt(`missing choices[${h}].tool_calls[${A}].id
${Sm(t)}`);if(I==null)throw new Nt(`missing choices[${h}].tool_calls[${A}].type
${Sm(t)}`);if(L==null)throw new Nt(`missing choices[${h}].tool_calls[${A}].function.name
${Sm(t)}`);if(P==null)throw new Nt(`missing choices[${h}].tool_calls[${A}].function.arguments
${Sm(t)}`);return{...v,id:_,type:I,function:{...S,name:L,arguments:P}}})}}:{...m,message:{...y,content:g,role:b,refusal:d.refusal??null},finish_reason:u,index:h,logprobs:f}}),created:a,model:i,object:"chat.completion",...o?{system_fingerprint:o}:{}};return yQ(c,e)}function Sm(t){return JSON.stringify(t)}class fc extends Fu{static fromReadableStream(e){const s=new fc(null);return s._run(()=>s._fromReadableStream(e)),s}static runFunctions(e,s,n){const a=new fc(null),i={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runFunctions"}};return a._run(()=>a._runFunctions(e,s,i)),a}static runTools(e,s,n){const a=new fc(s),i={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runTools"}};return a._run(()=>a._runTools(e,s,i)),a}}let wk=class extends Pt{parse(e,s){return jQ(e.tools),this._client.chat.completions.create(e,{...s,headers:{...s?.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(n=>ib(n,e))}runFunctions(e,s){return e.stream?fc.runFunctions(this._client,e,s):Tu.runFunctions(this._client,e,s)}runTools(e,s){return e.stream?fc.runTools(this._client,e,s):Tu.runTools(this._client,e,s)}stream(e,s){return Fu.createChatCompletion(this._client,e,s)}};class Mg extends Pt{constructor(){super(...arguments),this.completions=new wk(this._client)}}(function(t){t.Completions=wk})(Mg||(Mg={}));class jk extends Pt{create(e,s){return this._client.post("/realtime/sessions",{body:e,...s,headers:{"OpenAI-Beta":"assistants=v2",...s?.headers}})}}class ob extends Pt{constructor(){super(...arguments),this.sessions=new jk(this._client)}}ob.Sessions=jk;var tt=function(t,e,s,n){if(s==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?n:s==="a"?n.call(t):n?n.value:e.get(t)},ln=function(t,e,s,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!a:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(t,s):a?a.value=s:e.set(t,s),s},ar,Tg,Ca,rf,ea,Wo,dc,$o,Lf,dn,nf,af,du,Gd,Kd,pw,xw,gw,yw,bw,vw,ww;class sa extends rk{constructor(){super(...arguments),ar.add(this),Tg.set(this,[]),Ca.set(this,{}),rf.set(this,{}),ea.set(this,void 0),Wo.set(this,void 0),dc.set(this,void 0),$o.set(this,void 0),Lf.set(this,void 0),dn.set(this,void 0),nf.set(this,void 0),af.set(this,void 0),du.set(this,void 0)}[(Tg=new WeakMap,Ca=new WeakMap,rf=new WeakMap,ea=new WeakMap,Wo=new WeakMap,dc=new WeakMap,$o=new WeakMap,Lf=new WeakMap,dn=new WeakMap,nf=new WeakMap,af=new WeakMap,du=new WeakMap,ar=new WeakSet,Symbol.asyncIterator)](){const e=[],s=[];let n=!1;return this.on("event",a=>{const i=s.shift();i?i.resolve(a):e.push(a)}),this.on("end",()=>{n=!0;for(const a of s)a.resolve(void 0);s.length=0}),this.on("abort",a=>{n=!0;for(const i of s)i.reject(a);s.length=0}),this.on("error",a=>{n=!0;for(const i of s)i.reject(a);s.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((i,o)=>s.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const s=new sa;return s._run(()=>s._fromReadableStream(e)),s}async _fromReadableStream(e,s){const n=s?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),this._connected();const a=Ra.fromReadableStream(e,this.controller);for await(const i of a)tt(this,ar,"m",Gd).call(this,i);if(a.controller.signal?.aborted)throw new ta;return this._addRun(tt(this,ar,"m",Kd).call(this))}toReadableStream(){return new Ra(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,s,n,a,i){const o=new sa;return o._run(()=>o._runToolAssistantStream(e,s,n,a,{...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"stream"}})),o}async _createToolAssistantStream(e,s,n,a,i){const o=i?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const l={...a,stream:!0},c=await e.submitToolOutputs(s,n,l,{...i,signal:this.controller.signal});this._connected();for await(const d of c)tt(this,ar,"m",Gd).call(this,d);if(c.controller.signal?.aborted)throw new ta;return this._addRun(tt(this,ar,"m",Kd).call(this))}static createThreadAssistantStream(e,s,n){const a=new sa;return a._run(()=>a._threadAssistantStream(e,s,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}})),a}static createAssistantStream(e,s,n,a){const i=new sa;return i._run(()=>i._runAssistantStream(e,s,n,{...a,headers:{...a?.headers,"X-Stainless-Helper-Method":"stream"}})),i}currentEvent(){return tt(this,nf,"f")}currentRun(){return tt(this,af,"f")}currentMessageSnapshot(){return tt(this,ea,"f")}currentRunStepSnapshot(){return tt(this,du,"f")}async finalRunSteps(){return await this.done(),Object.values(tt(this,Ca,"f"))}async finalMessages(){return await this.done(),Object.values(tt(this,rf,"f"))}async finalRun(){if(await this.done(),!tt(this,Wo,"f"))throw Error("Final run was not received.");return tt(this,Wo,"f")}async _createThreadAssistantStream(e,s,n){const a=n?.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const i={...s,stream:!0},o=await e.createAndRun(i,{...n,signal:this.controller.signal});this._connected();for await(const l of o)tt(this,ar,"m",Gd).call(this,l);if(o.controller.signal?.aborted)throw new ta;return this._addRun(tt(this,ar,"m",Kd).call(this))}async _createAssistantStream(e,s,n,a){const i=a?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const o={...n,stream:!0},l=await e.create(s,o,{...a,signal:this.controller.signal});this._connected();for await(const c of l)tt(this,ar,"m",Gd).call(this,c);if(l.controller.signal?.aborted)throw new ta;return this._addRun(tt(this,ar,"m",Kd).call(this))}static accumulateDelta(e,s){for(const[n,a]of Object.entries(s)){if(!e.hasOwnProperty(n)){e[n]=a;continue}let i=e[n];if(i==null){e[n]=a;continue}if(n==="index"||n==="type"){e[n]=a;continue}if(typeof i=="string"&&typeof a=="string")i+=a;else if(typeof i=="number"&&typeof a=="number")i+=a;else if(m0(i)&&m0(a))i=this.accumulateDelta(i,a);else if(Array.isArray(i)&&Array.isArray(a)){if(i.every(o=>typeof o=="string"||typeof o=="number")){i.push(...a);continue}for(const o of a){if(!m0(o))throw new Error(`Expected array delta entry to be an object but got: ${o}`);const l=o.index;if(l==null)throw console.error(o),new Error("Expected array delta entry to have an `index` property");if(typeof l!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${l}`);const c=i[l];c==null?i.push(o):i[l]=this.accumulateDelta(c,o)}continue}else throw Error(`Unhandled record type: ${n}, deltaValue: ${a}, accValue: ${i}`);e[n]=i}return e}_addRun(e){return e}async _threadAssistantStream(e,s,n){return await this._createThreadAssistantStream(s,e,n)}async _runAssistantStream(e,s,n,a){return await this._createAssistantStream(s,e,n,a)}async _runToolAssistantStream(e,s,n,a,i){return await this._createToolAssistantStream(n,e,s,a,i)}}Gd=function(e){if(!this.ended)switch(ln(this,nf,e,"f"),tt(this,ar,"m",gw).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":tt(this,ar,"m",ww).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":tt(this,ar,"m",xw).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":tt(this,ar,"m",pw).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},Kd=function(){if(this.ended)throw new Nt("stream has ended, this shouldn't happen");if(!tt(this,Wo,"f"))throw Error("Final run has not been received");return tt(this,Wo,"f")},pw=function(e){const[s,n]=tt(this,ar,"m",bw).call(this,e,tt(this,ea,"f"));ln(this,ea,s,"f"),tt(this,rf,"f")[s.id]=s;for(const a of n){const i=s.content[a.index];i?.type=="text"&&this._emit("textCreated",i.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,s),e.data.delta.content)for(const a of e.data.delta.content){if(a.type=="text"&&a.text){let i=a.text,o=s.content[a.index];if(o&&o.type=="text")this._emit("textDelta",i,o.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(a.index!=tt(this,dc,"f")){if(tt(this,$o,"f"))switch(tt(this,$o,"f").type){case"text":this._emit("textDone",tt(this,$o,"f").text,tt(this,ea,"f"));break;case"image_file":this._emit("imageFileDone",tt(this,$o,"f").image_file,tt(this,ea,"f"));break}ln(this,dc,a.index,"f")}ln(this,$o,s.content[a.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(tt(this,dc,"f")!==void 0){const a=e.data.content[tt(this,dc,"f")];if(a)switch(a.type){case"image_file":this._emit("imageFileDone",a.image_file,tt(this,ea,"f"));break;case"text":this._emit("textDone",a.text,tt(this,ea,"f"));break}}tt(this,ea,"f")&&this._emit("messageDone",e.data),ln(this,ea,void 0,"f")}},xw=function(e){const s=tt(this,ar,"m",yw).call(this,e);switch(ln(this,du,s,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const n=e.data.delta;if(n.step_details&&n.step_details.type=="tool_calls"&&n.step_details.tool_calls&&s.step_details.type=="tool_calls")for(const i of n.step_details.tool_calls)i.index==tt(this,Lf,"f")?this._emit("toolCallDelta",i,s.step_details.tool_calls[i.index]):(tt(this,dn,"f")&&this._emit("toolCallDone",tt(this,dn,"f")),ln(this,Lf,i.index,"f"),ln(this,dn,s.step_details.tool_calls[i.index],"f"),tt(this,dn,"f")&&this._emit("toolCallCreated",tt(this,dn,"f")));this._emit("runStepDelta",e.data.delta,s);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":ln(this,du,void 0,"f"),e.data.step_details.type=="tool_calls"&&tt(this,dn,"f")&&(this._emit("toolCallDone",tt(this,dn,"f")),ln(this,dn,void 0,"f")),this._emit("runStepDone",e.data,s);break}},gw=function(e){tt(this,Tg,"f").push(e),this._emit("event",e)},yw=function(e){switch(e.event){case"thread.run.step.created":return tt(this,Ca,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let s=tt(this,Ca,"f")[e.data.id];if(!s)throw Error("Received a RunStepDelta before creation of a snapshot");let n=e.data;if(n.delta){const a=sa.accumulateDelta(s,n.delta);tt(this,Ca,"f")[e.data.id]=a}return tt(this,Ca,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":tt(this,Ca,"f")[e.data.id]=e.data;break}if(tt(this,Ca,"f")[e.data.id])return tt(this,Ca,"f")[e.data.id];throw new Error("No snapshot available")},bw=function(e,s){let n=[];switch(e.event){case"thread.message.created":return[e.data,n];case"thread.message.delta":if(!s)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let a=e.data;if(a.delta.content)for(const i of a.delta.content)if(i.index in s.content){let o=s.content[i.index];s.content[i.index]=tt(this,ar,"m",vw).call(this,i,o)}else s.content[i.index]=i,n.push(i);return[s,n];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(s)return[s,n];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},vw=function(e,s){return sa.accumulateDelta(s,e)},ww=function(e){switch(ln(this,af,e.data,"f"),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":ln(this,Wo,e.data,"f"),tt(this,dn,"f")&&(this._emit("toolCallDone",tt(this,dn,"f")),ln(this,dn,void 0,"f"));break}};class lb extends Pt{create(e,s,n){return this._client.post(`/threads/${e}/messages`,{body:s,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}retrieve(e,s,n){return this._client.get(`/threads/${e}/messages/${s}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}update(e,s,n,a){return this._client.post(`/threads/${e}/messages/${s}`,{body:n,...a,headers:{"OpenAI-Beta":"assistants=v2",...a?.headers}})}list(e,s={},n){return _r(s)?this.list(e,{},s):this._client.getAPIList(`/threads/${e}/messages`,cb,{query:s,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}del(e,s,n){return this._client.delete(`/threads/${e}/messages/${s}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}}class cb extends gn{}lb.MessagesPage=cb;class db extends Pt{retrieve(e,s,n,a={},i){return _r(a)?this.retrieve(e,s,n,{},a):this._client.get(`/threads/${e}/runs/${s}/steps/${n}`,{query:a,...i,headers:{"OpenAI-Beta":"assistants=v2",...i?.headers}})}list(e,s,n={},a){return _r(n)?this.list(e,s,{},n):this._client.getAPIList(`/threads/${e}/runs/${s}/steps`,ub,{query:n,...a,headers:{"OpenAI-Beta":"assistants=v2",...a?.headers}})}}class ub extends gn{}db.RunStepsPage=ub;class uh extends Pt{constructor(){super(...arguments),this.steps=new db(this._client)}create(e,s,n){const{include:a,...i}=s;return this._client.post(`/threads/${e}/runs`,{query:{include:a},body:i,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers},stream:s.stream??!1})}retrieve(e,s,n){return this._client.get(`/threads/${e}/runs/${s}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}update(e,s,n,a){return this._client.post(`/threads/${e}/runs/${s}`,{body:n,...a,headers:{"OpenAI-Beta":"assistants=v2",...a?.headers}})}list(e,s={},n){return _r(s)?this.list(e,{},s):this._client.getAPIList(`/threads/${e}/runs`,hb,{query:s,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}cancel(e,s,n){return this._client.post(`/threads/${e}/runs/${s}/cancel`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}async createAndPoll(e,s,n){const a=await this.create(e,s,n);return await this.poll(e,a.id,n)}createAndStream(e,s,n){return sa.createAssistantStream(e,this._client.beta.threads.runs,s,n)}async poll(e,s,n){const a={...n?.headers,"X-Stainless-Poll-Helper":"true"};for(n?.pollIntervalMs&&(a["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){const{data:i,response:o}=await this.retrieve(e,s,{...n,headers:{...n?.headers,...a}}).withResponse();switch(i.status){case"queued":case"in_progress":case"cancelling":let l=5e3;if(n?.pollIntervalMs)l=n.pollIntervalMs;else{const c=o.headers.get("openai-poll-after-ms");if(c){const d=parseInt(c);isNaN(d)||(l=d)}}await lh(l);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return i}}}stream(e,s,n){return sa.createAssistantStream(e,this._client.beta.threads.runs,s,n)}submitToolOutputs(e,s,n,a){return this._client.post(`/threads/${e}/runs/${s}/submit_tool_outputs`,{body:n,...a,headers:{"OpenAI-Beta":"assistants=v2",...a?.headers},stream:n.stream??!1})}async submitToolOutputsAndPoll(e,s,n,a){const i=await this.submitToolOutputs(e,s,n,a);return await this.poll(e,i.id,a)}submitToolOutputsStream(e,s,n,a){return sa.createToolAssistantStream(e,s,this._client.beta.threads.runs,n,a)}}class hb extends gn{}uh.RunsPage=hb;uh.Steps=db;uh.RunStepsPage=ub;class Uc extends Pt{constructor(){super(...arguments),this.runs=new uh(this._client),this.messages=new lb(this._client)}create(e={},s){return _r(e)?this.create({},e):this._client.post("/threads",{body:e,...s,headers:{"OpenAI-Beta":"assistants=v2",...s?.headers}})}retrieve(e,s){return this._client.get(`/threads/${e}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s?.headers}})}update(e,s,n){return this._client.post(`/threads/${e}`,{body:s,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}del(e,s){return this._client.delete(`/threads/${e}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s?.headers}})}createAndRun(e,s){return this._client.post("/threads/runs",{body:e,...s,headers:{"OpenAI-Beta":"assistants=v2",...s?.headers},stream:e.stream??!1})}async createAndRunPoll(e,s){const n=await this.createAndRun(e,s);return await this.runs.poll(n.thread_id,n.id,s)}createAndRunStream(e,s){return sa.createThreadAssistantStream(e,this._client.beta.threads,s)}}Uc.Runs=uh;Uc.RunsPage=hb;Uc.Messages=lb;Uc.MessagesPage=cb;const PQ=async t=>{const e=await Promise.allSettled(t),s=e.filter(a=>a.status==="rejected");if(s.length){for(const a of s)console.error(a.reason);throw new Error(`${s.length} promise(s) failed - see the above errors`)}const n=[];for(const a of e)a.status==="fulfilled"&&n.push(a.value);return n};let mb=class extends Pt{create(e,s,n){return this._client.post(`/vector_stores/${e}/files`,{body:s,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}retrieve(e,s,n){return this._client.get(`/vector_stores/${e}/files/${s}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}list(e,s={},n){return _r(s)?this.list(e,{},s):this._client.getAPIList(`/vector_stores/${e}/files`,Dp,{query:s,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}del(e,s,n){return this._client.delete(`/vector_stores/${e}/files/${s}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}async createAndPoll(e,s,n){const a=await this.create(e,s,n);return await this.poll(e,a.id,n)}async poll(e,s,n){const a={...n?.headers,"X-Stainless-Poll-Helper":"true"};for(n?.pollIntervalMs&&(a["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){const i=await this.retrieve(e,s,{...n,headers:a}).withResponse(),o=i.data;switch(o.status){case"in_progress":let l=5e3;if(n?.pollIntervalMs)l=n.pollIntervalMs;else{const c=i.response.headers.get("openai-poll-after-ms");if(c){const d=parseInt(c);isNaN(d)||(l=d)}}await lh(l);break;case"failed":case"completed":return o}}}async upload(e,s,n){const a=await this._client.files.create({file:s,purpose:"assistants"},n);return this.create(e,{file_id:a.id},n)}async uploadAndPoll(e,s,n){const a=await this.upload(e,s,n);return await this.poll(e,a.id,n)}};class Dp extends gn{}mb.VectorStoreFilesPage=Dp;class Nk extends Pt{create(e,s,n){return this._client.post(`/vector_stores/${e}/file_batches`,{body:s,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}retrieve(e,s,n){return this._client.get(`/vector_stores/${e}/file_batches/${s}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}cancel(e,s,n){return this._client.post(`/vector_stores/${e}/file_batches/${s}/cancel`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}async createAndPoll(e,s,n){const a=await this.create(e,s);return await this.poll(e,a.id,n)}listFiles(e,s,n={},a){return _r(n)?this.listFiles(e,s,{},n):this._client.getAPIList(`/vector_stores/${e}/file_batches/${s}/files`,Dp,{query:n,...a,headers:{"OpenAI-Beta":"assistants=v2",...a?.headers}})}async poll(e,s,n){const a={...n?.headers,"X-Stainless-Poll-Helper":"true"};for(n?.pollIntervalMs&&(a["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){const{data:i,response:o}=await this.retrieve(e,s,{...n,headers:a}).withResponse();switch(i.status){case"in_progress":let l=5e3;if(n?.pollIntervalMs)l=n.pollIntervalMs;else{const c=o.headers.get("openai-poll-after-ms");if(c){const d=parseInt(c);isNaN(d)||(l=d)}}await lh(l);break;case"failed":case"cancelled":case"completed":return i}}}async uploadAndPoll(e,{files:s,fileIds:n=[]},a){if(s==null||s.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const i=a?.maxConcurrency??5,o=Math.min(i,s.length),l=this._client,c=s.values(),d=[...n];async function u(f){for(let m of f){const g=await l.files.create({file:m,purpose:"assistants"},a);d.push(g.id)}}const h=Array(o).fill(c).map(u);return await PQ(h),await this.createAndPoll(e,{file_ids:d})}}class Vc extends Pt{constructor(){super(...arguments),this.files=new mb(this._client),this.fileBatches=new Nk(this._client)}create(e,s){return this._client.post("/vector_stores",{body:e,...s,headers:{"OpenAI-Beta":"assistants=v2",...s?.headers}})}retrieve(e,s){return this._client.get(`/vector_stores/${e}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s?.headers}})}update(e,s,n){return this._client.post(`/vector_stores/${e}`,{body:s,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}list(e={},s){return _r(e)?this.list({},e):this._client.getAPIList("/vector_stores",fb,{query:e,...s,headers:{"OpenAI-Beta":"assistants=v2",...s?.headers}})}del(e,s){return this._client.delete(`/vector_stores/${e}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s?.headers}})}}class fb extends gn{}Vc.VectorStoresPage=fb;Vc.Files=mb;Vc.VectorStoreFilesPage=Dp;Vc.FileBatches=Nk;class mo extends Pt{constructor(){super(...arguments),this.realtime=new ob(this._client),this.vectorStores=new Vc(this._client),this.chat=new Mg(this._client),this.assistants=new nb(this._client),this.threads=new Uc(this._client)}}mo.Realtime=ob;mo.VectorStores=Vc;mo.VectorStoresPage=fb;mo.Assistants=nb;mo.AssistantsPage=ab;mo.Threads=Uc;class kk extends Pt{create(e,s){return this._client.post("/completions",{body:e,...s,stream:e.stream??!1})}}class _k extends Pt{create(e,s){return this._client.post("/embeddings",{body:e,...s})}}class pb extends Pt{create(e,s){return this._client.post("/files",Cc({body:e,...s}))}retrieve(e,s){return this._client.get(`/files/${e}`,s)}list(e={},s){return _r(e)?this.list({},e):this._client.getAPIList("/files",xb,{query:e,...s})}del(e,s){return this._client.delete(`/files/${e}`,s)}content(e,s){return this._client.get(`/files/${e}/content`,{...s,headers:{Accept:"application/binary",...s?.headers},__binaryResponse:!0})}retrieveContent(e,s){return this._client.get(`/files/${e}/content`,s)}async waitForProcessing(e,{pollInterval:s=5e3,maxWait:n=30*60*1e3}={}){const a=new Set(["processed","error","deleted"]),i=Date.now();let o=await this.retrieve(e);for(;!o.status||!a.has(o.status);)if(await lh(s),o=await this.retrieve(e),Date.now()-i>n)throw new tb({message:`Giving up on waiting for file ${e} to finish processing after ${n} milliseconds.`});return o}}class xb extends gn{}pb.FileObjectsPage=xb;class gb extends Pt{list(e,s={},n){return _r(s)?this.list(e,{},s):this._client.getAPIList(`/fine_tuning/jobs/${e}/checkpoints`,yb,{query:s,...n})}}class yb extends gn{}gb.FineTuningJobCheckpointsPage=yb;class Yc extends Pt{constructor(){super(...arguments),this.checkpoints=new gb(this._client)}create(e,s){return this._client.post("/fine_tuning/jobs",{body:e,...s})}retrieve(e,s){return this._client.get(`/fine_tuning/jobs/${e}`,s)}list(e={},s){return _r(e)?this.list({},e):this._client.getAPIList("/fine_tuning/jobs",bb,{query:e,...s})}cancel(e,s){return this._client.post(`/fine_tuning/jobs/${e}/cancel`,s)}listEvents(e,s={},n){return _r(s)?this.listEvents(e,{},s):this._client.getAPIList(`/fine_tuning/jobs/${e}/events`,vb,{query:s,...n})}}class bb extends gn{}class vb extends gn{}Yc.FineTuningJobsPage=bb;Yc.FineTuningJobEventsPage=vb;Yc.Checkpoints=gb;Yc.FineTuningJobCheckpointsPage=yb;class hh extends Pt{constructor(){super(...arguments),this.jobs=new Yc(this._client)}}hh.Jobs=Yc;hh.FineTuningJobsPage=bb;hh.FineTuningJobEventsPage=vb;class Sk extends Pt{createVariation(e,s){return this._client.post("/images/variations",Cc({body:e,...s}))}edit(e,s){return this._client.post("/images/edits",Cc({body:e,...s}))}generate(e,s){return this._client.post("/images/generations",{body:e,...s})}}class wb extends Pt{retrieve(e,s){return this._client.get(`/models/${e}`,s)}list(e){return this._client.getAPIList("/models",jb,e)}del(e,s){return this._client.delete(`/models/${e}`,s)}}class jb extends xQ{}wb.ModelsPage=jb;class Ak extends Pt{create(e,s){return this._client.post("/moderations",{body:e,...s})}}class Ck extends Pt{create(e,s,n){return this._client.post(`/uploads/${e}/parts`,Cc({body:s,...n}))}}class Nb extends Pt{constructor(){super(...arguments),this.parts=new Ck(this._client)}create(e,s){return this._client.post("/uploads",{body:e,...s})}cancel(e,s){return this._client.post(`/uploads/${e}/cancel`,s)}complete(e,s,n){return this._client.post(`/uploads/${e}/complete`,{body:s,...n})}}Nb.Parts=Ck;var Pk;let St=class extends rQ{constructor({baseURL:e=jm("OPENAI_BASE_URL"),apiKey:s=jm("OPENAI_API_KEY"),organization:n=jm("OPENAI_ORG_ID")??null,project:a=jm("OPENAI_PROJECT_ID")??null,...i}={}){if(s===void 0)throw new Nt("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const o={apiKey:s,organization:n,project:a,...i,baseURL:e||"https://api.openai.com/v1"};if(!o.dangerouslyAllowBrowser&&fQ())throw new Nt(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:o.baseURL,timeout:o.timeout??6e5,httpAgent:o.httpAgent,maxRetries:o.maxRetries,fetch:o.fetch}),this.completions=new kk(this),this.chat=new Ep(this),this.embeddings=new _k(this),this.files=new pb(this),this.images=new Sk(this),this.audio=new ch(this),this.moderations=new Ak(this),this.models=new wb(this),this.fineTuning=new hh(this),this.beta=new mo(this),this.batches=new sb(this),this.uploads=new Nb(this),this._options=o,this.apiKey=s,this.organization=n,this.project=a}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(e){return $X(e,{arrayFormat:"brackets"})}};Pk=St;St.OpenAI=Pk;St.DEFAULT_TIMEOUT=6e5;St.OpenAIError=Nt;St.APIError=hr;St.APIConnectionError=kp;St.APIConnectionTimeoutError=tb;St.APIUserAbortError=ta;St.NotFoundError=I3;St.ConflictError=M3;St.RateLimitError=F3;St.BadRequestError=E3;St.AuthenticationError=D3;St.InternalServerError=O3;St.PermissionDeniedError=L3;St.UnprocessableEntityError=T3;St.toFile=H3;St.fileFromPath=C3;St.Completions=kk;St.Chat=Ep;St.ChatCompletionsPage=Pp;St.Embeddings=_k;St.Files=pb;St.FileObjectsPage=xb;St.Images=Sk;St.Audio=ch;St.Moderations=Ak;St.Models=wb;St.ModelsPage=jb;St.FineTuning=hh;St.Beta=mo;St.Batches=sb;St.BatchesPage=rb;St.Uploads=Nb;const b0=new St({apiKey:"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",dangerouslyAllowBrowser:!0}),EQ={async generateArticle(t){try{const s=(await b0.chat.completions.create({model:"gpt-3.5-turbo",messages:[{role:"system",content:`You are an expert AI technology and market analyst. Write an insightful article about ${t} in the AI industry. Include current trends, statistics, and future predictions. Format the response in markdown.`}],temperature:.7,max_tokens:1500})).choices[0].message.content,a=(await b0.chat.completions.create({model:"gpt-3.5-turbo",messages:[{role:"system",content:"Generate a compelling title for this article:"},{role:"user",content:s}],temperature:.7,max_tokens:50})).choices[0].message.content,o=(await b0.chat.completions.create({model:"gpt-3.5-turbo",messages:[{role:"system",content:"Generate a brief 2-3 sentence summary of this article:"},{role:"user",content:s}],temperature:.7,max_tokens:100})).choices[0].message.content,{data:l,error:c}=await Ae.from("ai_articles").insert([{title:a?.replace(/["']/g,""),content:s,summary:o,category:t,status:"published",published_at:new Date().toISOString(),image_url:`https://source.unsplash.com/featured/?${t},technology,ai`}]).select().single();if(c)throw c;return l}catch(e){throw console.error("Error generating article:",e),e}},async getLatestArticles(t=3){try{const{data:e,error:s}=await Ae.from("ai_articles").select("*").eq("status","published").order("published_at",{ascending:!1}).limit(t);if(s)throw s;return e||[]}catch(e){throw console.error("Error fetching articles:",e),e}},async getArticleById(t){try{const{data:e,error:s}=await Ae.from("ai_articles").select("*").eq("id",t).single();if(s)throw s;return e}catch(e){throw console.error("Error fetching article:",e),e}},async scheduleArticleGeneration(){try{const t=["market_trends","technology","business_impact"];for(const e of t)await this.generateArticle(e)}catch(t){throw console.error("Error scheduling article generation:",t),t}}},DQ=()=>{const[t,e]=U.useState([]),[s,n]=U.useState(!0);return U.useEffect(()=>{(async()=>{try{const i=await EQ.getLatestArticles(3);e(i)}catch(i){console.error("Error loading articles:",i),fe.error("Failed to load latest articles")}finally{n(!1)}})()},[]),r.jsxs("div",{className:"min-h-screen bg-dark-950",children:[r.jsx("div",{className:"bg-gradient-to-b from-primary-900 to-primary-800 py-16",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[r.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"AI Market Insights"}),r.jsx("p",{className:"text-xl text-primary-200",children:"Stay ahead with the latest trends, insights, and innovations in AI technology."})]})})}),r.jsx("div",{className:"container mx-auto px-4 py-16",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:s?r.jsxs("div",{className:"col-span-3 text-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-400",children:"Loading latest articles..."})]}):t.length>0?t.map(a=>r.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[r.jsx("img",{src:a.image_url,alt:a.title,className:"w-full h-48 object-cover rounded-lg mb-6"}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:a.title}),r.jsx("p",{className:"text-gray-400 mb-4",children:a.summary}),r.jsxs(de,{to:`/blog/article/${a.id}`,className:"inline-flex items-center text-primary-400 hover:text-primary-300",children:["Read more ",r.jsx(ct,{size:16,className:"ml-1"})]})]},a.id)):r.jsx("div",{className:"col-span-3 text-center py-12",children:r.jsx("p",{className:"text-gray-400",children:"No articles available"})})})}),r.jsx("div",{className:"bg-dark-900 py-16",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsx("h2",{className:"text-3xl font-bold text-white text-center mb-12",children:"AI Market Statistics"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 border border-dark-700",children:[r.jsx("div",{className:"text-4xl font-bold text-primary-400 mb-2",children:"$500B+"}),r.jsx("p",{className:"text-gray-400",children:"Global AI market size by 2025"})]}),r.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 border border-dark-700",children:[r.jsx("div",{className:"text-4xl font-bold text-primary-400 mb-2",children:"85%"}),r.jsx("p",{className:"text-gray-400",children:"Companies adopting AI by 2025"})]}),r.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 border border-dark-700",children:[r.jsx("div",{className:"text-4xl font-bold text-primary-400 mb-2",children:"40%"}),r.jsx("p",{className:"text-gray-400",children:"Productivity increase with AI"})]})]})]})}),r.jsxs("div",{className:"container mx-auto px-4 py-16",children:[r.jsx("h2",{className:"text-3xl font-bold text-white text-center mb-12",children:"Latest Market Insights"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[{title:"AI Security Trends",description:"Latest developments in AI security and compliance.",icon:Yf},{title:"Workforce Impact",description:"How AI is transforming the modern workforce.",icon:dr},{title:"Investment Opportunities",description:"Key areas for AI investment in 2025.",icon:vi}].map((a,i)=>r.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 border border-dark-700",children:[r.jsx(a.icon,{className:"text-primary-500 mb-4",size:24}),r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:a.title}),r.jsx("p",{className:"text-gray-400",children:a.description})]},i))})]}),r.jsx("div",{className:"container mx-auto px-4 py-16",children:r.jsxs("div",{className:"bg-gradient-to-r from-primary-800 to-primary-900 rounded-2xl p-8 md:p-12 text-center",children:[r.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Stay Ahead of the AI Curve"}),r.jsx("p",{className:"text-primary-200 text-lg mb-8 max-w-2xl mx-auto",children:"Subscribe to our newsletter for weekly AI market insights and analysis."}),r.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[r.jsx(de,{to:"/register",className:"btn btn-primary bg-white text-primary-900 hover:bg-gray-100 px-6 py-3",children:"Subscribe Now"}),r.jsx(de,{to:"/blog",className:"btn btn-secondary border border-white text-white hover:bg-primary-700 px-6 py-3",children:"View All Articles"})]})]})})]})},LQ=()=>r.jsxs("div",{className:"space-y-16",children:[r.jsx("section",{className:"bg-gradient-to-br from-primary-900 to-primary-800 rounded-2xl p-8 md:p-12",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Your AI Sales Team, Built Right In"}),r.jsx("p",{className:"text-primary-200 text-lg mb-6",children:"Get a fully trained AI sales team that works 24/7, integrated directly with your CxTrack system for seamless operations and maximum efficiency."}),r.jsxs("div",{className:"flex flex-wrap gap-4",children:[r.jsx(de,{to:"/register",className:"btn btn-primary bg-white text-primary-900 hover:bg-gray-100",children:"Start Free Trial"}),r.jsx(de,{to:"/contact",className:"btn btn-secondary border border-white text-white hover:bg-primary-700",children:"Schedule Demo"})]})]}),r.jsx("div",{className:"hidden md:block",children:r.jsx("img",{src:"https://images.unsplash.com/photo-1677442136019-21780ecad995?auto=format&fit=crop&w=800&q=80",alt:"AI Sales Team",className:"rounded-lg shadow-xl"})})]})}),r.jsxs("section",{children:[r.jsx("div",{className:"text-center mb-12",children:r.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Why Hire Our AI Sales Team?"})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"bg-dark-800/50 p-6 rounded-xl border border-dark-700",children:[r.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Traditional Sales Employees"}),r.jsxs("ul",{className:"space-y-4",children:[r.jsxs("li",{className:"flex items-start text-gray-300",children:[r.jsx("span",{className:"text-red-400 mr-2",children:""}),"Manual hiring requires time, then it takes 3.2 months to hit KPIs"]}),r.jsxs("li",{className:"flex items-start text-gray-300",children:[r.jsx("span",{className:"text-red-400 mr-2",children:""}),"Requires training, management, HR & Benefits (payroll taxes, etc)"]}),r.jsxs("li",{className:"flex items-start text-gray-300",children:[r.jsx("span",{className:"text-red-400 mr-2",children:""}),"Clocks in/out, goes on vacation, works 8 hours a day"]}),r.jsxs("li",{className:"flex items-start text-gray-300",children:[r.jsx("span",{className:"text-red-400 mr-2",children:""}),'72% of their shifts are spent doing "busy" work and not income producing activities']}),r.jsxs("li",{className:"flex items-start text-gray-300",children:[r.jsx("span",{className:"text-red-400 mr-2",children:""}),"Inconsistency in performance, burns out, lacks motivation, etc."]})]})]}),r.jsxs("div",{className:"bg-primary-900/20 p-6 rounded-xl border border-primary-800",children:[r.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"AI Sales Employees"}),r.jsxs("ul",{className:"space-y-4",children:[r.jsxs("li",{className:"flex items-start text-gray-300",children:[r.jsx("span",{className:"text-green-400 mr-2",children:""}),"1 time build out, and it can hit KPI's within the first 30 days"]}),r.jsxs("li",{className:"flex items-start text-gray-300",children:[r.jsx("span",{className:"text-green-400 mr-2",children:""}),"Training is done instantly, it learns and memorizes immediately"]}),r.jsxs("li",{className:"flex items-start text-gray-300",children:[r.jsx("span",{className:"text-green-400 mr-2",children:""}),"Works 24/7, never takes a day off"]}),r.jsxs("li",{className:"flex items-start text-gray-300",children:[r.jsx("span",{className:"text-green-400 mr-2",children:""}),"99.9% of their shift is spent doing sales activities"]}),r.jsxs("li",{className:"flex items-start text-gray-300",children:[r.jsx("span",{className:"text-green-400 mr-2",children:""}),"Never burns out, always has a great attitude; consistent performance"]})]})]})]})]}),r.jsxs("section",{className:"bg-gradient-to-r from-primary-800 to-primary-900 rounded-2xl p-8 md:p-12 text-center",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Our Big Bold Promise"}),r.jsx("p",{className:"text-xl text-primary-200 max-w-4xl mx-auto",children:"We guarantee your AI Employees will generate 3x more appointments within 90 daysor we'll personally optimize it until it does."})]}),r.jsxs("section",{children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"How It Works"}),r.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Hire Your AI Employees in 3 Simple Steps"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl border border-dark-700",children:[r.jsx("img",{src:"https://images.unsplash.com/photo-1460925895917-afdab827c52f?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=500&q=80",alt:"Step 1",className:"w-full h-48 object-cover rounded-lg mb-4"}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Step 1: You Choose"}),r.jsx("p",{className:"text-gray-400",children:"Select the right AI Agent(s) for your business and sales needswhether it's lead generation, nurturing, or customer retention."})]}),r.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl border border-dark-700",children:[r.jsx("img",{src:"https://images.unsplash.com/photo-1551288049-bebda4e38f71?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=500&q=80",alt:"Step 2",className:"w-full h-48 object-cover rounded-lg mb-4"}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Step 2: We Build"}),r.jsx("p",{className:"text-gray-400",children:"We'll train the AI to fit your specific needs, ensuring it understands your brand, services, and lead engagement strategy."})]}),r.jsxs("div",{className:"bg-dark-800 p-6 rounded-xl border border-dark-700",children:[r.jsx("img",{src:"https://images.unsplash.com/photo-1677442136019-21780ecad995?auto=format&fit=crop&w=500&q=80",alt:"Step 3",className:"w-full h-48 object-cover rounded-lg mb-4"}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Step 3: You Scale"}),r.jsx("p",{className:"text-gray-400",children:"Your AI Agent goes to work, reaching out, booking appointments, reactivating leads, and driving consistent engagement."})]})]})]}),r.jsxs("section",{children:[r.jsx("div",{className:"text-center mb-12",children:r.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Who This Is Perfect For"})}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:["BUSINESS OWNERS","INSURANCE AGENTS","B2B CONSULTANTS","SOLAR COMPANIES","GYMS & COACHES","BUSINESS LENDING","REAL ESTATE AGENTS","BUSINESS COACHES","AND MORE..."].map(t=>r.jsxs("div",{className:"bg-dark-800 border border-dark-700 rounded-lg p-4 flex items-center space-x-2",children:[r.jsx("span",{className:"text-primary-400",children:""}),r.jsx("span",{className:"text-white font-medium",children:t})]},t))})]}),r.jsxs("section",{className:"bg-dark-800 rounded-2xl p-8",children:[r.jsx("div",{className:"text-center mb-12",children:r.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Frequently Asked Questions"})}),r.jsxs("div",{className:"space-y-6 max-w-3xl mx-auto",children:[r.jsxs("div",{className:"bg-dark-700 rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"How do the setup fees work?"}),r.jsx("p",{className:"text-gray-300",children:"Each use case is considered an employee and each employee is trained on a set of automations, scripts, etc. Each setup is $3k/per employee as a one-time fee. If you purchase the Go All In plan you would get 4 employees for $10k ($2k in savings)."})]}),r.jsxs("div",{className:"bg-dark-700 rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Is this a subscription?"}),r.jsx("p",{className:"text-gray-300",children:"Yes, our AI Sales Employees are offered on a subscription basis. This ensures ongoing support, updates, and seamless integration with your evolving sales processes. We also provide flexible plans to match your business needs."})]}),r.jsxs("div",{className:"bg-dark-700 rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Is this considered robocalling?"}),r.jsx("p",{className:"text-gray-300",children:"No, our AI Sales Agents focus on meaningful, personalized interactions. Unlike traditional robocalls, our agents use natural language processing to engage leads in real conversations, ensuring a human-like experience that drives better results."})]}),r.jsxs("div",{className:"bg-dark-700 rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"What if the AI Sales Agent makes a mistake?"}),r.jsx("p",{className:"text-gray-300",children:"Our AI is continuously learning and improving. While mistakes are rare, we provide monitoring tools and human oversight to quickly address and correct any issues, ensuring your brand reputation remains intact."})]})]})]}),r.jsxs("section",{className:"bg-gradient-to-r from-primary-800 to-primary-900 rounded-2xl p-8 md:p-12 text-center",children:[r.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Ready to Scale Your Sales Team?"}),r.jsx("p",{className:"text-primary-200 text-lg mb-8 max-w-2xl mx-auto",children:"Get started with your AI sales team today and see the difference in your bottom line."}),r.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[r.jsx(de,{to:"/contact",className:"btn btn-primary bg-white text-primary-900 hover:bg-gray-100 px-6 py-3",children:"Schedule A Demo"}),r.jsx(de,{to:"/register",className:"btn btn-secondary border border-white text-white hover:bg-primary-700 px-6 py-3",children:"Start Free Trial"})]})]})]}),IQ=()=>r.jsxs("div",{className:"min-h-screen bg-dark-950",children:[r.jsx("div",{className:"bg-gradient-to-b from-primary-900 to-primary-800 py-16",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[r.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Enterprise-Grade AI Solution"}),r.jsx("p",{className:"text-xl text-primary-200",children:"Transform your business with our comprehensive AI-powered platform designed for enterprise operations."})]})})}),r.jsxs("div",{className:"container mx-auto px-4 py-16",children:[r.jsx("h2",{className:"text-3xl font-bold text-white text-center mb-12",children:"Advanced AI Capabilities"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[r.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:r.jsx(Ge,{className:"text-primary-400"})}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"AI Sales Team"}),r.jsx("p",{className:"text-gray-400 mb-4",children:"Deploy a full team of AI agents that work 24/7 to engage leads, qualify prospects, and drive conversions."}),r.jsxs("ul",{className:"space-y-2 text-gray-400",children:[r.jsxs("li",{className:"flex items-start",children:[r.jsx(Dt,{className:"text-primary-500 mt-1 mr-2",size:16}),r.jsx("span",{children:"Automated lead qualification"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx(Dt,{className:"text-primary-500 mt-1 mr-2",size:16}),r.jsx("span",{children:"Intelligent follow-up sequences"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx(Dt,{className:"text-primary-500 mt-1 mr-2",size:16}),r.jsx("span",{children:"Meeting scheduling automation"})]})]})]}),r.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[r.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:r.jsx(oo,{className:"text-primary-400"})}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"Voice Collections"}),r.jsx("p",{className:"text-gray-400 mb-4",children:"AI-powered voice calling system for automated payment collection and follow-ups."}),r.jsxs("ul",{className:"space-y-2 text-gray-400",children:[r.jsxs("li",{className:"flex items-start",children:[r.jsx(Dt,{className:"text-primary-500 mt-1 mr-2",size:16}),r.jsx("span",{children:"Natural conversation flow"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx(Dt,{className:"text-primary-500 mt-1 mr-2",size:16}),r.jsx("span",{children:"Sentiment analysis"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx(Dt,{className:"text-primary-500 mt-1 mr-2",size:16}),r.jsx("span",{children:"Payment plan negotiation"})]})]})]}),r.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[r.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:r.jsx(Wa,{className:"text-primary-400"})}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"Smart Analytics"}),r.jsx("p",{className:"text-gray-400 mb-4",children:"Advanced analytics and predictions powered by machine learning."}),r.jsxs("ul",{className:"space-y-2 text-gray-400",children:[r.jsxs("li",{className:"flex items-start",children:[r.jsx(Dt,{className:"text-primary-500 mt-1 mr-2",size:16}),r.jsx("span",{children:"Revenue forecasting"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx(Dt,{className:"text-primary-500 mt-1 mr-2",size:16}),r.jsx("span",{children:"Customer behavior analysis"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx(Dt,{className:"text-primary-500 mt-1 mr-2",size:16}),r.jsx("span",{children:"Payment prediction"})]})]})]})]})]}),r.jsx("div",{className:"bg-dark-900 py-16",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsx("h2",{className:"text-3xl font-bold text-white text-center mb-12",children:"Specialized AI Agents"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 border border-dark-700",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"BDR Agent"}),r.jsxs("ul",{className:"space-y-3 text-gray-400",children:[r.jsxs("li",{className:"flex items-start",children:[r.jsx(Ge,{className:"text-primary-500 mt-1 mr-2",size:16}),r.jsx("span",{children:"Automated lead qualification and scoring"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx(Ge,{className:"text-primary-500 mt-1 mr-2",size:16}),r.jsx("span",{children:"Personalized outreach at scale"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx(Ge,{className:"text-primary-500 mt-1 mr-2",size:16}),r.jsx("span",{children:"Instant meeting scheduling"})]})]})]}),r.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 border border-dark-700",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Marketing Agent"}),r.jsxs("ul",{className:"space-y-3 text-gray-400",children:[r.jsxs("li",{className:"flex items-start",children:[r.jsx(Ge,{className:"text-primary-500 mt-1 mr-2",size:16}),r.jsx("span",{children:"Automated content generation"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx(Ge,{className:"text-primary-500 mt-1 mr-2",size:16}),r.jsx("span",{children:"Campaign optimization"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx(Ge,{className:"text-primary-500 mt-1 mr-2",size:16}),r.jsx("span",{children:"Customer journey automation"})]})]})]}),r.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 border border-dark-700",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Research Agent"}),r.jsxs("ul",{className:"space-y-3 text-gray-400",children:[r.jsxs("li",{className:"flex items-start",children:[r.jsx(Ge,{className:"text-primary-500 mt-1 mr-2",size:16}),r.jsx("span",{children:"Market and competitor analysis"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx(Ge,{className:"text-primary-500 mt-1 mr-2",size:16}),r.jsx("span",{children:"Data gathering and synthesis"})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx(Ge,{className:"text-primary-500 mt-1 mr-2",size:16}),r.jsx("span",{children:"Trend identification"})]})]})]})]})]})}),r.jsxs("div",{className:"container mx-auto px-4 py-16",children:[r.jsx("h2",{className:"text-3xl font-bold text-white text-center mb-12",children:"Enterprise-Grade Features"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 border border-dark-700",children:[r.jsx(Yf,{className:"text-primary-500 mb-4",size:24}),r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Advanced Security"}),r.jsx("p",{className:"text-gray-400",children:"Enterprise-grade security with role-based access control, audit logs, and data encryption."})]}),r.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 border border-dark-700",children:[r.jsx(dr,{className:"text-primary-500 mb-4",size:24}),r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Unlimited Users"}),r.jsx("p",{className:"text-gray-400",children:"Support for unlimited team members with customizable roles and permissions."})]}),r.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 border border-dark-700",children:[r.jsx(na,{className:"text-primary-500 mb-4",size:24}),r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Advanced Analytics"}),r.jsx("p",{className:"text-gray-400",children:"Comprehensive reporting and analytics with custom dashboards and KPIs."})]}),r.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 border border-dark-700",children:[r.jsx(wt,{className:"text-primary-500 mb-4",size:24}),r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Custom Integrations"}),r.jsx("p",{className:"text-gray-400",children:"Custom API access and integration support for your existing systems."})]}),r.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 border border-dark-700",children:[r.jsx(Tn,{className:"text-primary-500 mb-4",size:24}),r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"24/7 Support"}),r.jsx("p",{className:"text-gray-400",children:"Priority support with dedicated account manager and technical assistance."})]}),r.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 border border-dark-700",children:[r.jsx(us,{className:"text-primary-500 mb-4",size:24}),r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Custom Pricing"}),r.jsx("p",{className:"text-gray-400",children:"Flexible pricing options tailored to your business needs and usage."})]})]})]}),r.jsx("div",{className:"bg-dark-900 py-16",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsx("h2",{className:"text-3xl font-bold text-white text-center mb-12",children:"Enterprise ROI"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"bg-dark-800 rounded-xl p-6 border border-dark-700 text-center",children:[r.jsx("div",{className:"text-4xl font-bold text-primary-400 mb-2",children:"85%"}),r.jsx("p",{className:"text-gray-300",children:"Reduction in response time"})]}),r.jsxs("div",{className:"bg-dark-800 rounded-xl p-6 border border-dark-700 text-center",children:[r.jsx("div",{className:"text-4xl font-bold text-primary-400 mb-2",children:"60%"}),r.jsx("p",{className:"text-gray-300",children:"Increase in sales efficiency"})]}),r.jsxs("div",{className:"bg-dark-800 rounded-xl p-6 border border-dark-700 text-center",children:[r.jsx("div",{className:"text-4xl font-bold text-primary-400 mb-2",children:"40%"}),r.jsx("p",{className:"text-gray-300",children:"Cost reduction"})]})]})]})}),r.jsx("div",{className:"container mx-auto px-4 py-16",children:r.jsxs("div",{className:"bg-gradient-to-r from-primary-800 to-primary-900 rounded-2xl p-8 md:p-12 text-center",children:[r.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Ready to Transform Your Business?"}),r.jsx("p",{className:"text-primary-200 text-lg mb-8 max-w-2xl mx-auto",children:"Get started with our Enterprise solution and experience the power of AI-driven automation."}),r.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[r.jsx(de,{to:"/contact",className:"btn btn-primary bg-white text-primary-900 hover:bg-gray-100 px-6 py-3",children:"Schedule Demo"}),r.jsx(de,{to:"/register",className:"btn btn-secondary border border-white text-white hover:bg-primary-700 px-6 py-3",children:"Start Free Trial"})]})]})})]}),MQ=()=>{const t=[{title:"Financial Services",icon:tC,description:"Automate client communications, risk assessment, and compliance monitoring.",useCases:["Automated credit assessment","KYC process automation","Investment advisory","Fraud detection"]},{title:"Healthcare",icon:NC,description:"Streamline patient scheduling, billing, and administrative tasks.",useCases:["Patient appointment scheduling","Insurance verification","Medical billing automation","Patient follow-up management"]},{title:"Real Estate",icon:mC,description:"Enhance property management and client engagement.",useCases:["Property inquiry handling","Showing scheduling","Tenant communication","Lease renewal automation"]},{title:"Legal Services",icon:oC,description:"Automate client intake, document processing, and case management.",useCases:["Client intake automation","Document review","Case status updates","Appointment scheduling"]},{title:"Education",icon:cC,description:"Improve student engagement and administrative efficiency.",useCases:["Student enrollment","Course inquiries","Assignment tracking","Parent communication"]},{title:"Professional Services",icon:mN,description:"Streamline client services and project management.",useCases:["Client onboarding","Project updates","Resource allocation","Time tracking"]}];return r.jsxs("div",{className:"min-h-screen bg-dark-950",children:[r.jsx("div",{className:"bg-gradient-to-b from-primary-900 to-primary-800 py-16",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[r.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Industry Solutions"}),r.jsx("p",{className:"text-xl text-primary-200",children:"Discover how our AI agents can transform operations across different industries"})]})})}),r.jsx("div",{className:"container mx-auto px-4 py-16",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map((e,s)=>r.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[r.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:r.jsx(e.icon,{className:"text-primary-400"})}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:e.title}),r.jsx("p",{className:"text-gray-400 mb-4",children:e.description}),r.jsx("div",{className:"space-y-2",children:e.useCases.map((n,a)=>r.jsxs("div",{className:"flex items-start",children:[r.jsx(Ge,{className:"text-primary-500 mt-1 mr-2",size:16}),r.jsx("span",{className:"text-gray-300",children:n})]},a))})]},s))})}),r.jsx("div",{className:"bg-dark-900 py-16",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[r.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Don't See Your Industry?"}),r.jsx("p",{className:"text-lg text-gray-400 mb-8",children:"Our AI agents can be customized for any industry. Contact us to discuss your specific needs and how we can help transform your operations."}),r.jsx(de,{to:"/contact",className:"btn btn-primary bg-white text-primary-900 hover:bg-gray-100 px-8 py-3",children:"Contact Sales"})]})})})]})},TQ=()=>{const t=[{name:"Free",price:0,description:"Basic features for small businesses",features:["Up to 5 invoices per month","Basic invoice templates","PDF generation & download","Single user access","Basic customer database","Email support"],link:"/register"},{name:"Business",price:99.99,description:"Advanced features for growing businesses",features:["Unlimited invoices","Custom invoice templates","Automated reminders","Team collaboration","Advanced reporting","Priority support","API access","Custom integrations"],link:"/features/business-plan"},{name:"Enterprise",price:399.99,description:"Complete AI-powered solution for large businesses",highlightFeatures:[{icon:Ge,title:"AI Assistant",description:"Intelligent virtual assistant for customer interactions"},{icon:Wa,title:"Smart Analytics",description:"Predictive analysis and insights"},{icon:Tn,title:"24/7 Support",description:"Round-the-clock dedicated support"}],features:["AI-powered automation","Voice collection calls","Smart payment reminders","Sentiment analysis","Custom AI training","Dedicated support"],link:"/features/enterprise-plan"}];return r.jsxs("div",{className:"min-h-screen bg-dark-950",children:[r.jsx("div",{className:"bg-gradient-to-b from-primary-900 to-primary-800 py-16",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[r.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Simple, Transparent Pricing"}),r.jsx("p",{className:"text-xl text-primary-200",children:"Choose the plan that best fits your business needs"})]})})}),r.jsxs("div",{className:"container mx-auto px-4 py-16",children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:t.map(e=>r.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[e.name==="Enterprise"&&r.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:r.jsx("span",{className:"bg-gradient-to-r from-primary-600 to-purple-600 text-white px-4 py-1 rounded-full text-sm font-medium",children:"AI-Powered"})}),r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:e.name}),r.jsxs("div",{className:"text-4xl font-bold text-white mb-2",children:["$",e.price,r.jsx("span",{className:"text-lg text-gray-400",children:"/mo"})]}),r.jsx("p",{className:"text-gray-400",children:e.description})]}),e.highlightFeatures&&r.jsx("div",{className:"mb-8 space-y-4",children:e.highlightFeatures.map((s,n)=>r.jsxs("div",{className:"flex items-center p-3 bg-dark-700/50 rounded-lg",children:[r.jsx(s.icon,{className:"text-primary-400 mr-3",size:24}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-white font-medium",children:s.title}),r.jsx("p",{className:"text-sm text-gray-400",children:s.description})]})]},n))}),r.jsx("ul",{className:"space-y-3 mb-8",children:e.features.map((s,n)=>r.jsxs("li",{className:"flex items-start",children:[r.jsx(Dt,{className:"text-primary-500 mt-1 mr-2",size:16}),r.jsx("span",{className:"text-gray-300 text-sm",children:s})]},n))}),r.jsx(de,{to:e.link,className:"w-full btn btn-primary flex items-center justify-center space-x-2 group",children:r.jsx("span",{children:e.price===0?"Sign Up Free":"Learn More"})})]},e.name))}),r.jsx("div",{className:"text-center mt-12",children:r.jsxs(de,{to:"/pricing/compare",className:"text-primary-400 hover:text-primary-300 flex items-center justify-center",children:[r.jsx(vi,{className:"mr-2",size:16}),"Compare all features"]})})]}),r.jsxs("div",{className:"container mx-auto px-4 py-16",children:[r.jsx("h2",{className:"text-2xl font-bold text-white text-center mb-8",children:"Frequently Asked Questions"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:[r.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 border border-dark-700",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Can I upgrade or downgrade my plan?"}),r.jsx("p",{className:"text-gray-400",children:"Yes, you can upgrade or downgrade your plan at any time. Changes will be reflected in your next billing cycle."})]}),r.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 border border-dark-700",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Is there a long-term contract?"}),r.jsx("p",{className:"text-gray-400",children:"No, all our plans are month-to-month with no long-term commitment required."})]}),r.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 border border-dark-700",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"What payment methods do you accept?"}),r.jsx("p",{className:"text-gray-400",children:"We accept all major credit cards, PayPal, and bank transfers for Enterprise plans."})]}),r.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 border border-dark-700",children:[r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Do you offer a free trial?"}),r.jsx("p",{className:"text-gray-400",children:"Yes, you can start with our Free plan to test our basic features, or request a demo for Business and Enterprise features."})]})]})]}),r.jsx("div",{className:"container mx-auto px-4 py-16",children:r.jsxs("div",{className:"bg-gradient-to-r from-primary-800 to-primary-900 rounded-2xl p-8 md:p-12 text-center",children:[r.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Need Help Choosing?"}),r.jsx("p",{className:"text-primary-200 text-lg mb-8 max-w-2xl mx-auto",children:"Our team is here to help you find the perfect plan for your business needs."}),r.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[r.jsx(de,{to:"/contact",className:"btn btn-primary bg-white text-primary-900 hover:bg-gray-100 px-6 py-3",children:"Contact Sales"}),r.jsx(de,{to:"/demo",className:"btn btn-secondary border border-white text-white hover:bg-primary-700 px-6 py-3",children:"Schedule Demo"})]})]})})]})},FQ=()=>{const t={basic:["All Free Plan features","Email delivery to customers","Invoice templates","Recurring invoices","Up to 25 customers","Customer contact management","Basic customer history","Up to 10 products","Basic product catalog","Email notifications","Basic reporting","CSV data export","Standard support","Mobile app access","Basic inventory tracking","Simple dashboard","Payment reminders","Basic document storage","Customer notes","Basic search functionality","Email templates","Basic task management","Simple workflow automation","Basic API access"],business:["All Basic Plan features","Up to 50 customers","Customer segmentation","Advanced customer analytics","Customer communication history","Up to 50 products","Product categories","Stock tracking","Accounting software integration","Payment gateway integration","Email marketing tools","Multiple invoice templates","Bulk invoice generation","Invoice scheduling","Custom branding","Advanced reporting","Team collaboration","Role-based access control","Audit logs","Priority support","Advanced search","Custom fields","Automated workflows","Data backup","API access","Multi-currency support","Customizable dashboards","Advanced document management","Batch processing","Business intelligence tools"],enterprise:["All Business Plan features","AI-Powered Virtual Assistant","Automated Voice Collection Calls","Smart Payment Reminders","AI Customer Sentiment Analysis","Voice-to-Text Transcription","Predictive Payment Analysis","Natural Language Processing","Automated Follow-up System","AI Revenue Forecasting","Smart Customer Segmentation","Voice Authentication","Multi-Language Support","Custom AI Training","Unlimited Team Members","Advanced Analytics Dashboard","Custom Integration Support","Priority 24/7 Support","Dedicated Account Manager"]};return r.jsxs("div",{className:"min-h-screen bg-dark-950",children:[r.jsx("div",{className:"bg-gradient-to-b from-primary-900 to-primary-800 py-16",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[r.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Compare Plans"}),r.jsx("p",{className:"text-xl text-primary-200",children:"Find the perfect plan for your business needs"})]})})}),r.jsx("div",{className:"container mx-auto px-4 py-16",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-dark-700",children:[r.jsx("th",{className:"py-4 px-6 text-left"}),r.jsxs("th",{className:"py-4 px-6 text-center",children:[r.jsx("div",{className:"text-xl font-bold text-white mb-2",children:"Free"}),r.jsx("div",{className:"text-3xl font-bold text-white mb-2",children:"$0"}),r.jsx("div",{className:"text-sm text-gray-400 mb-4",children:"per month"}),r.jsx(de,{to:"/register",className:"btn btn-secondary w-full",children:"Start Free"})]}),r.jsxs("th",{className:"py-4 px-6 text-center",children:[r.jsx("div",{className:"text-xl font-bold text-white mb-2",children:"Basic"}),r.jsx("div",{className:"text-3xl font-bold text-white mb-2",children:"$19.99"}),r.jsx("div",{className:"text-sm text-gray-400 mb-4",children:"per month"}),r.jsx(de,{to:"/features/basic-plan",className:"btn btn-primary w-full",children:"Learn More"})]}),r.jsxs("th",{className:"py-4 px-6 text-center",children:[r.jsx("div",{className:"text-xl font-bold text-white mb-2",children:"Business"}),r.jsx("div",{className:"text-3xl font-bold text-white mb-2",children:"$99.99"}),r.jsx("div",{className:"text-sm text-gray-400 mb-4",children:"per month"}),r.jsx(de,{to:"/features/business-plan",className:"btn btn-primary w-full",children:"Learn More"})]}),r.jsxs("th",{className:"py-4 px-6 text-center",children:[r.jsx("div",{className:"text-xl font-bold text-white mb-2",children:"Enterprise"}),r.jsx("div",{className:"text-3xl font-bold text-white mb-2",children:"$399.99"}),r.jsx("div",{className:"text-sm text-gray-400 mb-4",children:"per month"}),r.jsx(de,{to:"/features/enterprise-plan",className:"btn btn-primary w-full",children:"Learn More"})]})]})}),r.jsxs("tbody",{className:"divide-y divide-dark-700",children:[r.jsx("tr",{children:r.jsx("td",{colSpan:4,className:"py-4 px-6",children:r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Basic Features"})})}),t.basic.map((e,s)=>r.jsxs("tr",{className:"hover:bg-dark-800/50",children:[r.jsx("td",{className:"py-3 px-6 text-gray-300",children:e}),r.jsx("td",{className:"py-3 px-6 text-center",children:r.jsx(Dt,{className:"mx-auto text-green-500",size:20})}),r.jsx("td",{className:"py-3 px-6 text-center",children:r.jsx(Dt,{className:"mx-auto text-green-500",size:20})}),r.jsx("td",{className:"py-3 px-6 text-center",children:r.jsx(Dt,{className:"mx-auto text-green-500",size:20})}),r.jsx("td",{className:"py-3 px-6 text-center",children:r.jsx(Dt,{className:"mx-auto text-green-500",size:20})})]},s)),r.jsx("tr",{children:r.jsx("td",{colSpan:4,className:"py-4 px-6",children:r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Business Features"})})}),t.business.map((e,s)=>r.jsxs("tr",{className:"hover:bg-dark-800/50",children:[r.jsx("td",{className:"py-3 px-6 text-gray-300",children:e}),r.jsx("td",{className:"py-3 px-6 text-center",children:r.jsx(or,{className:"mx-auto text-red-500",size:20})}),r.jsx("td",{className:"py-3 px-6 text-center",children:r.jsx(or,{className:"mx-auto text-red-500",size:20})}),r.jsx("td",{className:"py-3 px-6 text-center",children:r.jsx(Dt,{className:"mx-auto text-green-500",size:20})}),r.jsx("td",{className:"py-3 px-6 text-center",children:r.jsx(Dt,{className:"mx-auto text-green-500",size:20})})]},s)),r.jsx("tr",{children:r.jsx("td",{colSpan:4,className:"py-4 px-6",children:r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Enterprise Features"})})}),t.enterprise.map((e,s)=>r.jsxs("tr",{className:"hover:bg-dark-800/50",children:[r.jsx("td",{className:"py-3 px-6 text-gray-300",children:e}),r.jsx("td",{className:"py-3 px-6 text-center",children:r.jsx(or,{className:"mx-auto text-red-500",size:20})}),r.jsx("td",{className:"py-3 px-6 text-center",children:r.jsx(or,{className:"mx-auto text-red-500",size:20})}),r.jsx("td",{className:"py-3 px-6 text-center",children:r.jsx(or,{className:"mx-auto text-red-500",size:20})}),r.jsx("td",{className:"py-3 px-6 text-center",children:r.jsx(Dt,{className:"mx-auto text-green-500",size:20})})]},s))]})]})})}),r.jsx("div",{className:"container mx-auto px-4 py-16",children:r.jsxs("div",{className:"bg-gradient-to-r from-primary-800 to-primary-900 rounded-2xl p-8 md:p-12 text-center",children:[r.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Need Help Choosing?"}),r.jsx("p",{className:"text-primary-200 text-lg mb-8 max-w-2xl mx-auto",children:"Our team is here to help you find the perfect plan for your business needs."}),r.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[r.jsx(de,{to:"/contact",className:"btn btn-primary bg-white text-primary-900 hover:bg-gray-100 px-6 py-3",children:"Contact Sales"}),r.jsx(de,{to:"/demo",className:"btn btn-secondary border border-white text-white hover:bg-primary-700 px-6 py-3",children:"Schedule Demo"})]})]})})]})},OQ=()=>{const t=[{title:"Data Encryption",icon:pC,description:"Enterprise-grade encryption for all data at rest and in transit",features:["AES-256 encryption at rest","TLS 1.3 for data in transit","End-to-end encryption for sensitive communications","Secure key management"]},{title:"Access Control",icon:xN,description:"Granular access controls and user management",features:["Role-based access control (RBAC)","Multi-factor authentication","Single sign-on (SSO)","IP whitelisting"]},{title:"Data Privacy",icon:Pn,description:"Comprehensive data privacy measures",features:["GDPR compliance","Data anonymization","Privacy by design","Data retention policies"]},{title:"Compliance",icon:iC,description:"Industry standard compliance and certifications",features:["SOC 2 Type II certified","HIPAA compliance","GDPR compliance","Regular security audits"]},{title:"Infrastructure Security",icon:bN,description:"Secure and reliable infrastructure",features:["DDoS protection","WAF (Web Application Firewall)","Regular penetration testing","Automated security scanning"]},{title:"AI Security",icon:Yf,description:"Specialized security for AI operations",features:["AI model protection","Training data security","Inference protection","Bias detection and mitigation"]}];return r.jsxs("div",{className:"min-h-screen bg-dark-950",children:[r.jsx("div",{className:"bg-gradient-to-b from-primary-900 to-primary-800 py-16",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[r.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Enterprise-Grade Security"}),r.jsx("p",{className:"text-xl text-primary-200",children:"Your data security and privacy are our top priorities"})]})})}),r.jsx("div",{className:"container mx-auto px-4 py-16",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map((e,s)=>r.jsxs("div",{className:"bg-dark-800 rounded-xl p-8 border border-dark-700",children:[r.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full w-12 h-12 flex items-center justify-center mb-4",children:r.jsx(e.icon,{className:"text-primary-400"})}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:e.title}),r.jsx("p",{className:"text-gray-400 mb-4",children:e.description}),r.jsx("ul",{className:"space-y-2",children:e.features.map((n,a)=>r.jsxs("li",{className:"flex items-start",children:[r.jsx(fN,{className:"text-primary-500 mt-1 mr-2",size:16}),r.jsx("span",{className:"text-gray-300",children:n})]},a))})]},s))})}),r.jsx("div",{className:"bg-dark-900 py-16",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[r.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Trusted by Enterprises Worldwide"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-12",children:[r.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 border border-dark-700",children:[r.jsx("div",{className:"text-4xl font-bold text-primary-400 mb-2",children:"99.9%"}),r.jsx("p",{className:"text-gray-300",children:"Uptime SLA"})]}),r.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 border border-dark-700",children:[r.jsx("div",{className:"text-4xl font-bold text-primary-400 mb-2",children:"24/7"}),r.jsx("p",{className:"text-gray-300",children:"Security Monitoring"})]}),r.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 border border-dark-700",children:[r.jsx("div",{className:"text-4xl font-bold text-primary-400 mb-2",children:"ISO 27001"}),r.jsx("p",{className:"text-gray-300",children:"Certified"})]})]}),r.jsx(de,{to:"/contact",className:"btn btn-primary bg-white text-primary-900 hover:bg-gray-100 px-8 py-3",children:"Contact Security Team"})]})})})]})};var RQ=Object.defineProperty,$Q=(t,e,s)=>e in t?RQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,v0=(t,e,s)=>($Q(t,typeof e!="symbol"?e+"":e,s),s);let zQ=class{constructor(){v0(this,"current",this.detect()),v0(this,"handoffState","pending"),v0(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Jo=new zQ,If=(t,e)=>{Jo.isServer?U.useEffect(t,e):U.useLayoutEffect(t,e)};function BQ(t){let e=U.useRef(t);return If(()=>{e.current=t},[t]),e}let uu=function(t){let e=BQ(t);return ce.useCallback((...s)=>e.current(...s),[e])};function qQ(){let t=typeof document>"u";return"useSyncExternalStore"in Nv?(e=>e.useSyncExternalStore)(Nv)(()=>()=>{},()=>!1,()=>!t):!1}function HQ(){let t=qQ(),[e,s]=U.useState(Jo.isHandoffComplete);return e&&Jo.isHandoffComplete===!1&&s(!1),U.useEffect(()=>{e!==!0&&s(!0)},[e]),U.useEffect(()=>Jo.handoff(),[]),t?!1:e}var jw;let Ek=(jw=ce.useId)!=null?jw:function(){let t=HQ(),[e,s]=ce.useState(t?()=>Jo.nextId():null);return If(()=>{e===null&&s(Jo.nextId())},[e]),e!=null?""+e:void 0};function mh(t,e,...s){if(t in e){let a=e[t];return typeof a=="function"?a(...s):a}let n=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(a=>`"${a}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,mh),n}function WQ(t){return Jo.isServer?null:t instanceof Node?t.ownerDocument:t!=null&&t.hasOwnProperty("current")&&t.current instanceof Node?t.current.ownerDocument:document}function Nw(t){var e;if(t.type)return t.type;let s=(e=t.as)!=null?e:"button";if(typeof s=="string"&&s.toLowerCase()==="button")return"button"}function UQ(t,e){let[s,n]=U.useState(()=>Nw(t));return If(()=>{n(Nw(t))},[t.type,t.as]),If(()=>{s||e.current&&e.current instanceof HTMLButtonElement&&!e.current.hasAttribute("type")&&n("button")},[s,e]),s}let Dk=Symbol();function VQ(t,e=!0){return Object.assign(t,{[Dk]:e})}function kb(...t){let e=U.useRef(t);U.useEffect(()=>{e.current=t},[t]);let s=uu(n=>{for(let a of e.current)a!=null&&(typeof a=="function"?a(n):a.current=n)});return t.every(n=>n==null||n?.[Dk])?void 0:s}function kw(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}var Fg=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(Fg||{}),YQ=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(YQ||{});function _b({ourProps:t,theirProps:e,slot:s,defaultTag:n,features:a,visible:i=!0,name:o,mergeRefs:l}){l=l??GQ;let c=Ik(e,t);if(i)return Am(c,s,n,o,l);let d=a??0;if(d&2){let{static:u=!1,...h}=c;if(u)return Am(h,s,n,o,l)}if(d&1){let{unmount:u=!0,...h}=c;return mh(u?0:1,{0(){return null},1(){return Am({...h,hidden:!0,style:{display:"none"}},s,n,o,l)}})}return Am(c,s,n,o,l)}function Am(t,e={},s,n,a){let{as:i=s,children:o,refName:l="ref",...c}=w0(t,["unmount","static"]),d=t.ref!==void 0?{[l]:t.ref}:{},u=typeof o=="function"?o(e):o;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(e));let h={};if(e){let f=!1,m=[];for(let[g,x]of Object.entries(e))typeof x=="boolean"&&(f=!0),x===!0&&m.push(g);f&&(h["data-headlessui-state"]=m.join(" "))}if(i===U.Fragment&&Object.keys(_w(c)).length>0){if(!U.isValidElement(u)||Array.isArray(u)&&u.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(c).map(x=>`  - ${x}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(x=>`  - ${x}`).join(`
`)].join(`
`));let f=u.props,m=typeof f?.className=="function"?(...x)=>kw(f?.className(...x),c.className):kw(f?.className,c.className),g=m?{className:m}:{};return U.cloneElement(u,Object.assign({},Ik(u.props,_w(w0(c,["ref"]))),h,d,{ref:a(u.ref,d.ref)},g))}return U.createElement(i,Object.assign({},w0(c,["ref"]),i!==U.Fragment&&d,i!==U.Fragment&&h),u)}function Lk(){let t=U.useRef([]),e=U.useCallback(s=>{for(let n of t.current)n!=null&&(typeof n=="function"?n(s):n.current=s)},[]);return(...s)=>{if(!s.every(n=>n==null))return t.current=s,e}}function GQ(...t){return t.every(e=>e==null)?void 0:e=>{for(let s of t)s!=null&&(typeof s=="function"?s(e):s.current=e)}}function Ik(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},s={};for(let n of t)for(let a in n)a.startsWith("on")&&typeof n[a]=="function"?(s[a]!=null||(s[a]=[]),s[a].push(n[a])):e[a]=n[a];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(s).map(n=>[n,void 0])));for(let n in s)Object.assign(e,{[n](a,...i){let o=s[n];for(let l of o){if((a instanceof Event||a?.nativeEvent instanceof Event)&&a.defaultPrevented)return;l(a,...i)}}});return e}function Sb(t){var e;return Object.assign(U.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function _w(t){let e=Object.assign({},t);for(let s in e)e[s]===void 0&&delete e[s];return e}function w0(t,e=[]){let s=Object.assign({},t);for(let n of e)n in s&&delete s[n];return s}let Ab=U.createContext(null);Ab.displayName="OpenClosedContext";var Ou=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Ou||{});function KQ(){return U.useContext(Ab)}function XQ({value:t,children:e}){return ce.createElement(Ab.Provider,{value:t},e)}function QQ(t){let e=t.parentElement,s=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(s=e),e=e.parentElement;let n=e?.getAttribute("disabled")==="";return n&&JQ(s)?!1:n}function JQ(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}var cc=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(cc||{}),Sw;let ZQ=(Sw=ce.startTransition)!=null?Sw:function(t){t()};var eJ=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(eJ||{}),tJ=(t=>(t[t.ToggleDisclosure=0]="ToggleDisclosure",t[t.CloseDisclosure=1]="CloseDisclosure",t[t.SetButtonId=2]="SetButtonId",t[t.SetPanelId=3]="SetPanelId",t[t.LinkPanel=4]="LinkPanel",t[t.UnlinkPanel=5]="UnlinkPanel",t))(tJ||{});let sJ={0:t=>({...t,disclosureState:mh(t.disclosureState,{0:1,1:0})}),1:t=>t.disclosureState===1?t:{...t,disclosureState:1},4(t){return t.linkedPanel===!0?t:{...t,linkedPanel:!0}},5(t){return t.linkedPanel===!1?t:{...t,linkedPanel:!1}},2(t,e){return t.buttonId===e.buttonId?t:{...t,buttonId:e.buttonId}},3(t,e){return t.panelId===e.panelId?t:{...t,panelId:e.panelId}}},Cb=U.createContext(null);Cb.displayName="DisclosureContext";function Pb(t){let e=U.useContext(Cb);if(e===null){let s=new Error(`<${t} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,Pb),s}return e}let Eb=U.createContext(null);Eb.displayName="DisclosureAPIContext";function Mk(t){let e=U.useContext(Eb);if(e===null){let s=new Error(`<${t} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,Mk),s}return e}let Db=U.createContext(null);Db.displayName="DisclosurePanelContext";function rJ(){return U.useContext(Db)}function nJ(t,e){return mh(e.type,sJ,t,e)}let aJ=U.Fragment;function iJ(t,e){let{defaultOpen:s=!1,...n}=t,a=U.useRef(null),i=kb(e,VQ(j=>{a.current=j},t.as===void 0||t.as===U.Fragment)),o=U.useRef(null),l=U.useRef(null),c=U.useReducer(nJ,{disclosureState:s?0:1,linkedPanel:!1,buttonRef:l,panelRef:o,buttonId:null,panelId:null}),[{disclosureState:d,buttonId:u},h]=c,f=uu(j=>{h({type:1});let y=WQ(a);if(!y||!u)return;let b=j?j instanceof HTMLElement?j:j.current instanceof HTMLElement?j.current:y.getElementById(u):y.getElementById(u);b?.focus()}),m=U.useMemo(()=>({close:f}),[f]),g=U.useMemo(()=>({open:d===0,close:f}),[d,f]),x={ref:i};return ce.createElement(Cb.Provider,{value:c},ce.createElement(Eb.Provider,{value:m},ce.createElement(XQ,{value:mh(d,{0:Ou.Open,1:Ou.Closed})},_b({ourProps:x,theirProps:n,slot:g,defaultTag:aJ,name:"Disclosure"}))))}let oJ="button";function lJ(t,e){let s=Ek(),{id:n=`headlessui-disclosure-button-${s}`,...a}=t,[i,o]=Pb("Disclosure.Button"),l=rJ(),c=l===null?!1:l===i.panelId,d=U.useRef(null),u=kb(d,e,c?null:i.buttonRef),h=Lk();U.useEffect(()=>{if(!c)return o({type:2,buttonId:n}),()=>{o({type:2,buttonId:null})}},[n,o,c]);let f=uu(b=>{var k;if(c){if(i.disclosureState===1)return;switch(b.key){case cc.Space:case cc.Enter:b.preventDefault(),b.stopPropagation(),o({type:0}),(k=i.buttonRef.current)==null||k.focus();break}}else switch(b.key){case cc.Space:case cc.Enter:b.preventDefault(),b.stopPropagation(),o({type:0});break}}),m=uu(b=>{switch(b.key){case cc.Space:b.preventDefault();break}}),g=uu(b=>{var k;QQ(b.currentTarget)||t.disabled||(c?(o({type:0}),(k=i.buttonRef.current)==null||k.focus()):o({type:0}))}),x=U.useMemo(()=>({open:i.disclosureState===0}),[i]),j=UQ(t,d),y=c?{ref:u,type:j,onKeyDown:f,onClick:g}:{ref:u,id:n,type:j,"aria-expanded":i.disclosureState===0,"aria-controls":i.linkedPanel?i.panelId:void 0,onKeyDown:f,onKeyUp:m,onClick:g};return _b({mergeRefs:h,ourProps:y,theirProps:a,slot:x,defaultTag:oJ,name:"Disclosure.Button"})}let cJ="div",dJ=Fg.RenderStrategy|Fg.Static;function uJ(t,e){let s=Ek(),{id:n=`headlessui-disclosure-panel-${s}`,...a}=t,[i,o]=Pb("Disclosure.Panel"),{close:l}=Mk("Disclosure.Panel"),c=Lk(),d=kb(e,i.panelRef,g=>{ZQ(()=>o({type:g?4:5}))});U.useEffect(()=>(o({type:3,panelId:n}),()=>{o({type:3,panelId:null})}),[n,o]);let u=KQ(),h=u!==null?(u&Ou.Open)===Ou.Open:i.disclosureState===0,f=U.useMemo(()=>({open:i.disclosureState===0,close:l}),[i,l]),m={ref:d,id:n};return ce.createElement(Db.Provider,{value:i.panelId},_b({mergeRefs:c,ourProps:m,theirProps:a,slot:f,defaultTag:cJ,features:dJ,visible:h,name:"Disclosure.Panel"}))}let hJ=Sb(iJ),mJ=Sb(lJ),fJ=Sb(uJ),tc=Object.assign(hJ,{Button:mJ,Panel:fJ});const pJ=()=>{U.useState(null),U.useState(null);const t=[{title:"Requirements Analysis",icon:wt,description:"Deep dive into your business needs and objectives",details:{importance:"The foundation of successful AI implementation lies in thoroughly understanding your business processes, challenges, and objectives.",process:["Stakeholder interviews and workshops","Current process analysis and documentation","Pain point identification","Opportunity assessment","ROI calculation and business case development"],impact:"A thorough requirements analysis ensures your AI solution addresses real business needs and delivers measurable value. This phase typically reduces project risks by 60% and increases success rates by 40%."}},{title:"Custom Development",icon:rC,description:"Building your tailored AI solution",details:{importance:"Custom development ensures your AI solution perfectly matches your unique business requirements and integrates seamlessly with your existing systems.",process:["Architecture design and planning","AI model selection and customization","Integration framework development","Security implementation","Custom feature development"],impact:"Custom-developed AI solutions typically achieve 35% higher user adoption rates and deliver 45% more business value compared to off-the-shelf solutions."}},{title:"Training & Integration",icon:Ge,description:"Teaching your AI and connecting systems",details:{importance:"Proper training and integration are crucial for ensuring your AI agents perform effectively and work harmoniously with your existing infrastructure.",process:["Data preparation and cleaning","Model training and validation","System integration testing","Performance optimization","Integration with existing workflows"],impact:"Well-trained and properly integrated AI agents show 80% higher accuracy rates and reduce manual intervention by up to 70%."}},{title:"Testing & Refinement",icon:Vf,description:"Ensuring perfect performance",details:{importance:"Rigorous testing and continuous refinement ensure your AI solution performs reliably and accurately in real-world conditions.",process:["Comprehensive testing scenarios","Performance benchmarking","User acceptance testing","Edge case handling","Continuous improvement cycles"],impact:"Thorough testing and refinement typically reduce post-deployment issues by 75% and increase user satisfaction by 60%."}},{title:"Deployment & Support",icon:Ni,description:"Going live and ensuring success",details:{importance:"Successful deployment and ongoing support ensure your AI solution delivers long-term value and adapts to changing business needs.",process:["Phased deployment strategy","User training and documentation","Performance monitoring","Continuous optimization","24/7 support and maintenance"],impact:"Proper deployment and support lead to 90% higher user adoption rates and 50% faster time to value."}}],e=[{title:"Communication Systems",icon:io,description:"Seamless integration with your communication platforms",details:{features:["Email system integration","Chat platform connectivity","VoIP system integration","Unified messaging support","Multi-channel communication"],benefits:"Reduce response times by 75% and improve customer satisfaction by 40%",techSpecs:"Supports REST APIs, webhooks, and native integrations with major platforms"}},{title:"Calendar Systems",icon:Rs,description:"Connect with your scheduling and calendar tools",details:{features:["Multi-calendar synchronization","Automated scheduling","Availability management","Time zone handling","Meeting coordination"],benefits:"Reduce scheduling conflicts by 90% and save 5+ hours per week per employee",techSpecs:"Compatible with Google Calendar, Outlook, and other major calendar systems"}},{title:"CRM Integration",icon:dr,description:"Seamless integration with your CRM system",details:{features:["Bi-directional data sync","Automated record updates","Custom field mapping","Activity logging","Lead scoring automation"],benefits:"Improve data accuracy by 95% and reduce manual data entry by 80%",techSpecs:"Supports Salesforce, HubSpot, and other major CRM platforms"}},{title:"Phone Systems",icon:oo,description:"Connect with your existing phone infrastructure",details:{features:["VoIP integration","Call routing automation","Voice transcription","Call analytics","Interactive voice response"],benefits:"Handle 70% more calls with 50% fewer resources",techSpecs:"Compatible with major VoIP providers and PBX systems"}}];return r.jsxs("div",{className:"min-h-screen bg-dark-950",children:[r.jsx("div",{className:"bg-gradient-to-b from-primary-900 to-primary-800 py-16",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[r.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Custom AI Development"}),r.jsx("p",{className:"text-xl text-primary-200 mb-8",children:"We are at a pivotal moment in business history. AI is not just another technology upgrade  it's a fundamental shift in how businesses operate and compete."}),r.jsx("p",{className:"text-lg text-primary-300",children:"Companies that embrace and adapt to AI now will have a significant competitive advantage in the years to come."})]})})}),r.jsx("div",{className:"bg-dark-900 py-16",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsx("h2",{className:"text-3xl font-bold text-white text-center mb-12",children:"Development Process"}),r.jsx("div",{className:"space-y-6",children:t.map((s,n)=>r.jsx(tc,{children:({open:a})=>r.jsxs("div",{className:"bg-dark-800 rounded-lg border border-dark-700 overflow-hidden",children:[r.jsxs(tc.Button,{className:"w-full p-6 flex items-center justify-between text-left",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full",children:r.jsx(s.icon,{className:"text-primary-400",size:24})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:s.title}),r.jsx("p",{className:"text-gray-400",children:s.description})]})]}),r.jsx(Da,{className:`text-gray-400 transition-transform duration-200 ${a?"transform rotate-180":""}`})]}),r.jsxs(tc.Panel,{className:"px-6 pb-6 space-y-4 animate-fadeIn",children:[r.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg",children:[r.jsx("h4",{className:"text-white font-medium mb-2",children:"Why It's Important"}),r.jsx("p",{className:"text-gray-300",children:s.details.importance})]}),r.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg",children:[r.jsx("h4",{className:"text-white font-medium mb-2",children:"Process Steps"}),r.jsx("ul",{className:"space-y-2",children:s.details.process.map((i,o)=>r.jsxs("li",{className:"flex items-start",children:[r.jsx(Ge,{className:"text-primary-500 mt-1 mr-2",size:16}),r.jsx("span",{className:"text-gray-300",children:i})]},o))})]}),r.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg",children:[r.jsx("h4",{className:"text-white font-medium mb-2",children:"Business Impact"}),r.jsx("p",{className:"text-gray-300",children:s.details.impact})]})]})]})},n))})]})}),r.jsxs("div",{className:"container mx-auto px-4 py-16",children:[r.jsx("h2",{className:"text-3xl font-bold text-white text-center mb-12",children:"Integration Capabilities"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.map((s,n)=>r.jsx(tc,{children:({open:a})=>r.jsxs("div",{className:"bg-dark-800 rounded-lg border border-dark-700 overflow-hidden",children:[r.jsxs(tc.Button,{className:"w-full p-6 flex items-center justify-between text-left",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"bg-primary-900/30 p-3 rounded-full",children:r.jsx(s.icon,{className:"text-primary-400",size:24})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:s.title}),r.jsx("p",{className:"text-gray-400",children:s.description})]})]}),r.jsx(Da,{className:`text-gray-400 transition-transform duration-200 ${a?"transform rotate-180":""}`})]}),r.jsxs(tc.Panel,{className:"px-6 pb-6 space-y-4 animate-fadeIn",children:[r.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg",children:[r.jsx("h4",{className:"text-white font-medium mb-2",children:"Key Features"}),r.jsx("ul",{className:"space-y-2",children:s.details.features.map((i,o)=>r.jsxs("li",{className:"flex items-start",children:[r.jsx(Ge,{className:"text-primary-500 mt-1 mr-2",size:16}),r.jsx("span",{className:"text-gray-300",children:i})]},o))})]}),r.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg",children:[r.jsx("h4",{className:"text-white font-medium mb-2",children:"Business Benefits"}),r.jsx("p",{className:"text-gray-300",children:s.details.benefits})]}),r.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg",children:[r.jsx("h4",{className:"text-white font-medium mb-2",children:"Technical Specifications"}),r.jsx("p",{className:"text-gray-300",children:s.details.techSpecs})]})]})]})},n))})]}),r.jsx("div",{className:"bg-dark-900 py-16",children:r.jsx("div",{className:"container mx-auto px-4",children:r.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[r.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"The Future of Business is AI-Powered"}),r.jsx("p",{className:"text-lg text-gray-300 mb-8",children:"By 2025, 85% of enterprises will be using AI in their operations. Don't get left behind  start your AI transformation journey today and position your business for success in the AI-driven future."}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-12",children:[r.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 border border-dark-700",children:[r.jsx(Wa,{className:"text-primary-400 h-8 w-8 mb-4 mx-auto"}),r.jsx("div",{className:"text-4xl font-bold text-primary-400 mb-2",children:"40%"}),r.jsx("p",{className:"text-gray-300",children:"Increase in Productivity"})]}),r.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 border border-dark-700",children:[r.jsx(yN,{className:"text-primary-400 h-8 w-8 mb-4 mx-auto"}),r.jsx("div",{className:"text-4xl font-bold text-primary-400 mb-2",children:"24/7"}),r.jsx("p",{className:"text-gray-300",children:"Automated Operations"})]}),r.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 border border-dark-700",children:[r.jsx(Vu,{className:"text-primary-400 h-8 w-8 mb-4 mx-auto"}),r.jsx("div",{className:"text-4xl font-bold text-primary-400 mb-2",children:"60%"}),r.jsx("p",{className:"text-gray-300",children:"Cost Reduction"})]})]})]})})}),r.jsx("div",{className:"container mx-auto px-4 py-16",children:r.jsxs("div",{className:"bg-gradient-to-r from-primary-800 to-primary-900 rounded-2xl p-8 md:p-12 text-center",children:[r.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Ready to Transform Your Business?"}),r.jsx("p",{className:"text-primary-200 text-lg mb-8 max-w-2xl mx-auto",children:"Join the AI revolution and give your business a competitive edge. Let's discuss your requirements and create a custom AI solution that perfectly fits your needs."}),r.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[r.jsx(de,{to:"/contact",className:"btn btn-primary bg-white text-primary-900 hover:bg-gray-100 px-6 py-3",children:"Schedule Consultation"}),r.jsx(de,{to:"/demo",className:"btn btn-secondary border border-white text-white hover:bg-primary-700 px-6 py-3",children:"Request Demo"})]})]})})]})},xJ={"free-plan":{name:"Free Plan",price:0,description:"Basic features for small businesses",features:["Basic invoicing functionality","PDF invoice generation","Manual invoice downloads","Limited to 5 invoices per month"],benefits:[{title:"Perfect for Freelancers",description:"Get started with essential invoicing tools at no cost."},{title:"Professional PDFs",description:"Generate professional-looking invoices in PDF format."},{title:"Easy to Use",description:"Simple and intuitive interface for basic business needs."}],stripeId:null},"basic-plan":{name:"Basic Plan",price:19.99,description:"Essential features for small businesses",features:["All Free Plan features","Email delivery to customers","Invoice templates","Recurring invoices","Up to 25 customers","Customer contact management","Basic customer history","Up to 10 products","Basic product catalog"],benefits:[{title:"Streamlined Communication",description:"Send invoices directly to customers via email."},{title:"Time-Saving Templates",description:"Create and reuse professional invoice templates."},{title:"Customer Management",description:"Keep track of customer information and history."}],stripeId:"price_1Qz7DWGmarpEtABMVmArHtSG"},"business-plan":{name:"Business Plan",price:99.99,description:"Advanced features for growing businesses",features:["All Basic Plan features","Up to 50 customers","Customer segmentation","Advanced customer analytics","Up to 50 products","Third-party integrations","Multiple invoice templates","Bulk invoice generation"],benefits:[{title:"Comprehensive Analytics",description:"Make data-driven decisions with advanced customer insights."},{title:"Integrated Solutions",description:"Connect with your favorite accounting and payment tools."},{title:"Automation",description:"Save time with bulk operations and scheduled invoicing."}],stripeId:"price_1Qz7GkGmarpEtABMeMjmUnPu"},"enterprise-plan":{name:"Enterprise Plan",price:399.99,description:"Complete solution for established businesses",features:["All Business Plan features","Unlimited customers","AI-powered features","Advanced analytics","Priority support","Custom integrations","White-label options"],benefits:[{title:"Advanced AI Collections",description:"Our AI-powered voice calling system automatically handles collection calls with natural conversation flow, sentiment analysis, and smart payment negotiations."},{title:"Intelligent Virtual Assistant",description:"AI assistant handles customer inquiries, processes payments, and manages follow-ups with human-like interaction and understanding."},{title:"Smart Analytics & Predictions",description:"Leverage machine learning for accurate revenue forecasting, customer behavior analysis, and payment prediction."}],aiFeatures:[{title:"Voice Collections",description:"AI-powered calling system that:",capabilities:["Makes automated collection calls","Understands customer responses","Negotiates payment plans","Detects customer sentiment","Escalates to human agents when needed"]},{title:"Virtual Assistant",description:"Intelligent AI assistant that:",capabilities:["Handles customer inquiries 24/7","Processes payments automatically","Sends smart payment reminders","Manages follow-up communications","Learns from each interaction"]},{title:"Predictive Analytics",description:"Machine learning system that:",capabilities:["Forecasts payment likelihood","Identifies at-risk accounts","Suggests optimal collection times","Analyzes customer patterns","Recommends collection strategies"]}],stripeId:"price_1Qz7HwGmarpEtABMrgE6JEo0"}},gJ=()=>{const{planId:t}=Mn(),e=Qt(),[s,n]=U.useState(!1),a=xJ[t];if(!a)return r.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"Plan not found"}),r.jsx(de,{to:"/",className:"text-primary-400 hover:text-primary-300",children:"Return to home"})]})});const i=async()=>{e(`/waitlist?plan=${a.name.toLowerCase()}`)};return r.jsxs("div",{className:"min-h-screen bg-dark-950",children:[r.jsx("div",{className:"bg-gradient-to-b from-primary-900 to-primary-800 py-16",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsxs(de,{to:"/",className:"inline-flex items-center text-white mb-8 hover:text-primary-200",children:[r.jsx(ss,{size:20,className:"mr-2"}),"Back to Home"]}),r.jsxs("div",{className:"max-w-4xl",children:[r.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:a.name}),r.jsx("p",{className:"text-xl text-primary-200 mb-6",children:a.description}),r.jsxs("div",{className:"flex items-baseline",children:[r.jsxs("span",{className:"text-5xl font-bold text-white",children:["$",a.price]}),r.jsx("span",{className:"text-xl text-primary-200 ml-2",children:"/month"})]}),r.jsx("button",{onClick:i,disabled:s,className:"inline-block mt-8 btn btn-primary text-lg px-8 py-3 disabled:opacity-50 disabled:cursor-not-allowed",children:s?r.jsxs("span",{className:"flex items-center",children:[r.jsx(hf,{className:"animate-spin -ml-1 mr-3 h-5 w-5"}),"Processing..."]}):"Get Started"})]})]})}),r.jsxs("div",{className:"container mx-auto px-4 py-16",children:[a.aiFeatures&&r.jsxs("div",{className:"mb-16",children:[r.jsx("h2",{className:"text-3xl font-bold text-white mb-8 text-center",children:"AI-Powered Features"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:a.aiFeatures.map((o,l)=>r.jsxs("div",{className:"bg-dark-800 rounded-xl p-6 border border-dark-700",children:[r.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:o.title}),r.jsx("p",{className:"text-gray-400 mb-4",children:o.description}),r.jsx("ul",{className:"space-y-2",children:o.capabilities.map((c,d)=>r.jsxs("li",{className:"flex items-start",children:[r.jsx(Dt,{className:"text-primary-500 mt-1 mr-2",size:16}),r.jsx("span",{className:"text-gray-300",children:c})]},d))})]},l))})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-8",children:"Features"}),r.jsx("ul",{className:"space-y-4",children:a.features.map((o,l)=>r.jsxs("li",{className:"flex items-start",children:[r.jsx(Dt,{className:"text-primary-500 mt-1 mr-3",size:20}),r.jsx("span",{className:"text-gray-300",children:o})]},l))})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-8",children:"Key Benefits"}),r.jsx("div",{className:"space-y-8",children:a.benefits.map((o,l)=>r.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 border border-dark-700",children:[r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:o.title}),r.jsx("p",{className:"text-gray-400",children:o.description})]},l))})]})]}),r.jsxs("div",{className:"mt-16 text-center",children:[r.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Ready to get started?"}),r.jsx("p",{className:"text-gray-400 mb-8 max-w-2xl mx-auto",children:"Start using our platform to streamline your operations today."}),r.jsx("div",{className:"flex flex-wrap justify-center gap-4",children:r.jsx("button",{onClick:i,disabled:s,className:"btn btn-primary text-lg px-8 py-3 disabled:opacity-50 disabled:cursor-not-allowed",children:s?r.jsxs("span",{className:"flex items-center",children:[r.jsx(hf,{className:"animate-spin -ml-1 mr-3 h-5 w-5"}),"Processing..."]}):"Sign Up"})})]})]})]})},yJ=()=>{const{register:t,handleSubmit:e,reset:s,formState:{errors:n,isSubmitting:a}}=Ds(),i=Qt(),o=async l=>{try{const c=`
Name: ${l.name}
Email: ${l.email}

Message:
${l.message}
      `.trim();if(await fn.sendEmail("info@cxtrack.com",`Contact Form: ${l.subject}`,c))fe.success("Message sent successfully!"),s();else throw new Error("Failed to send message")}catch(c){console.error("Error sending contact form:",c),fe.error("Failed to send message. Please try again.")}};return r.jsxs("div",{className:"min-h-screen bg-dark-950",children:[r.jsx("div",{className:"bg-gradient-to-b from-primary-900 to-primary-800 py-16",children:r.jsxs("div",{className:"container mx-auto px-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-8",children:[r.jsxs("button",{onClick:()=>i(-1),className:"flex items-center space-x-2 text-white hover:text-primary-200",children:[r.jsx(ss,{size:20}),r.jsx("span",{children:"Back"})]}),r.jsxs(de,{to:"/",className:"flex items-center space-x-3",children:[r.jsx("img",{src:"/logo.svg",alt:"CxTrack Logo",className:"h-8 w-8 logo-glow"}),r.jsx("span",{className:"brand-logo text-xl font-bold text-white brand-text",children:"CxTrack"})]})]}),r.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[r.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Contact Our Sales Team"}),r.jsx("p",{className:"text-xl text-primary-200",children:"Get in touch with our team to discuss your business needs and find the perfect solution."})]})]})}),r.jsx("div",{className:"container mx-auto px-4 py-16",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-12",children:[r.jsxs("div",{className:"bg-dark-800 p-6 rounded-lg border border-dark-700",children:[r.jsx(aa,{className:"text-primary-500 mb-4",size:24}),r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Email"}),r.jsx("p",{className:"text-gray-400",children:"info@cxtrack.com"})]}),r.jsxs("div",{className:"bg-dark-800 p-6 rounded-lg border border-dark-700",children:[r.jsx(io,{className:"text-primary-500 mb-4",size:24}),r.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Live Chat"}),r.jsx("p",{className:"text-gray-400",children:"Available 24/7"})]})]}),r.jsxs("div",{className:"bg-dark-800 rounded-xl border border-dark-700 p-8",children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Send us a message"}),r.jsxs("form",{onSubmit:e(o),className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-300 mb-1",children:["Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{id:"name",type:"text",className:"input",placeholder:"Your name",...t("name",{required:"Name is required"})}),n.name&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:n.name.message})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-1",children:["Email ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{id:"email",type:"email",className:"input",placeholder:"you@example.com",...t("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})}),n.email&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:n.email.message})]})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-300 mb-1",children:["Subject ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{id:"subject",type:"text",className:"input",placeholder:"What's this about?",...t("subject",{required:"Subject is required"})}),n.subject&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:n.subject.message})]}),r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-300 mb-1",children:["Message ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("textarea",{id:"message",rows:6,className:"input",placeholder:"How can we help you?",...t("message",{required:"Message is required"})}),n.message&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:n.message.message})]}),r.jsx("div",{children:r.jsx("button",{type:"submit",disabled:a,className:"btn btn-primary w-full py-3",children:a?r.jsxs("span",{className:"flex items-center justify-center",children:[r.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending..."]}):"Send Message"})})]})]})]})})]})},bJ=()=>{const{activeTemplate:t,setActiveTemplate:e,getActiveTemplate:s,loading:n}=e5();U.useEffect(()=>{s()},[s]);const a=async o=>{try{await e(o),fe.success(`Successfully switched to ${i.find(l=>l.id===o)?.name} template`)}catch{fe.error("Failed to switch template")}},i=[{id:"small-business",name:"Small Business",description:"Perfect for small businesses and startups",isActive:t==="small-business",items:[{type:"Customer Types",data:["Individual Customer","Small Business","Freelancer","Local Business"]},{type:"Product Categories",data:["Services","Products","Consulting","Support"]},{type:"Invoice Terms",data:["Net 30","Due on Receipt","Net 15","Custom Terms"]},{type:"Payment Methods",data:["Credit Card","Bank Transfer","Cash","Check"]}],features:["Basic customer management","Simple invoicing workflow","Essential product tracking","Basic reporting"]},{id:"realtors",name:"Realtors",description:"Tailored for real estate professionals",isActive:t==="realtors",items:[{type:"Client Types",data:["Home Buyer","Home Seller","Property Investor","Commercial Client"]},{type:"Property Categories",data:["Residential","Commercial","Investment","Luxury"]},{type:"Service Types",data:["Property Listing","Buyer Representation","Property Management","Market Analysis"]},{type:"Commission Types",data:["Fixed Rate","Percentage Based","Tiered Commission","Split Commission"]}],features:["Property listing management","Client pipeline tracking","Commission calculation","Showing schedule management","Document management","Market analysis tools"]},{id:"mortgage-brokers",name:"Mortgage Brokers",description:"Specialized for mortgage and lending professionals",isActive:t==="mortgage-brokers",items:[{type:"Client Types",data:["First-time Buyer","Refinancing","Investment Property","Commercial Loan"]},{type:"Loan Types",data:["Conventional","FHA","VA","Commercial"]},{type:"Document Categories",data:["Income Verification","Credit Reports","Property Appraisals","Loan Applications"]},{type:"Status Tracking",data:["Pre-Approval","Application","Underwriting","Closing"]}],features:["Loan application tracking","Document collection system","Rate comparison tools","Payment calculators","Automated follow-ups","Lender relationship management"]},{id:"insurance-brokers",name:"Insurance Brokers",description:"Complete solution for insurance professionals",isActive:t==="insurance-brokers",items:[{type:"Policy Types",data:["Life Insurance","Health Insurance","Property Insurance","Business Insurance"]},{type:"Client Categories",data:["Individual","Family","Small Business","Corporate"]},{type:"Renewal Tracking",data:["30 Days Notice","60 Days Notice","90 Days Notice","Annual Review"]},{type:"Claims Status",data:["New Claim","In Progress","Under Review","Settled"]}],features:["Policy management","Claims tracking","Renewal automation","Premium calculators","Client risk assessment","Commission tracking"]}];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h1",{className:"text-2xl font-bold text-white",children:"CRM Templates"}),r.jsxs("button",{className:"btn btn-primary flex items-center space-x-2",children:[r.jsx(as,{size:16}),r.jsx("span",{children:"Create Template"})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(o=>r.jsxs("div",{className:"bg-dark-800 rounded-xl border border-dark-700 overflow-hidden",children:[r.jsxs("div",{className:"p-6 border-b border-dark-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("h3",{className:"text-xl font-semibold text-white",children:o.name}),o.isActive&&r.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-green-900/30 text-green-400 rounded-full",children:"Active"})]}),r.jsx("div",{className:"p-2 rounded-lg bg-primary-500/20",children:r.jsx(xu,{className:"text-primary-400",size:20})})]}),r.jsx("p",{className:"text-gray-400",children:o.description})]}),r.jsxs("div",{className:"p-6 space-y-6",children:[o.items.map((l,c)=>r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:l.type}),r.jsx("div",{className:"grid grid-cols-2 gap-2",children:l.data.map((d,u)=>r.jsx("div",{className:"bg-dark-700/50 px-3 py-2 rounded text-sm text-gray-300",children:d},u))})]},c)),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"Features"}),r.jsx("ul",{className:"space-y-2",children:o.features.map((l,c)=>r.jsxs("li",{className:"flex items-center text-gray-300 text-sm",children:[r.jsx("span",{className:"w-1.5 h-1.5 bg-primary-500 rounded-full mr-2"}),l]},c))})]})]}),r.jsx("div",{className:"p-6 bg-dark-700/50 border-t border-dark-700",children:o.isActive?r.jsx("button",{disabled:!0,className:"btn btn-secondary w-full flex items-center justify-center space-x-2 opacity-50 cursor-not-allowed",children:r.jsx("span",{children:"Currently Active"})}):r.jsxs("button",{onClick:()=>a(o.id),disabled:n,className:"btn btn-primary w-full flex items-center justify-center space-x-2",children:[r.jsx(lr,{size:16}),r.jsx("span",{children:n?"Switching...":"Use Template"})]})})]},o.id))})]})},vJ=()=>{const{invoices:t}=ho(),e=t.filter(o=>o.status==="Paid").reduce((o,l)=>o+l.total,0),s=new Date().getMonth(),n=t.filter(o=>o.status==="Paid"&&new Date(o.payment_date).getMonth()===s).reduce((o,l)=>o+l.total,0),a=t.filter(o=>o.status==="Paid"&&new Date(o.payment_date).getMonth()===s-1).reduce((o,l)=>o+l.total,0),i=a?(n-a)/a*100:0;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h1",{className:"text-2xl font-bold text-white",children:"Revenue"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs("button",{className:"btn btn-secondary flex items-center space-x-2",children:[r.jsx(Rs,{size:16}),r.jsx("span",{children:"Filter by Date"})]}),r.jsxs("button",{className:"btn btn-secondary flex items-center space-x-2",children:[r.jsx(lr,{size:16}),r.jsx("span",{children:"Export"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsx("div",{className:"card bg-dark-800 border border-dark-700",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Total Revenue"}),r.jsxs("h3",{className:"text-2xl font-bold text-white mt-1",children:["$",e.toLocaleString()]}),r.jsxs("div",{className:"flex items-center mt-2",children:[i>=0?r.jsx(Bo,{size:16,className:"text-green-500"}):r.jsx(df,{size:16,className:"text-red-500"}),r.jsxs("span",{className:`text-sm ml-1 ${i>=0?"text-green-500":"text-red-500"}`,children:[Math.abs(i).toFixed(1),"%"]}),r.jsx("span",{className:"text-gray-500 text-sm ml-1",children:"vs last month"})]})]}),r.jsx("div",{className:"p-3 rounded-lg bg-green-500/20 text-green-500",children:r.jsx(us,{size:24})})]})}),r.jsx("div",{className:"card bg-dark-800 border border-dark-700",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Current Month"}),r.jsxs("h3",{className:"text-2xl font-bold text-white mt-1",children:["$",n.toLocaleString()]})]}),r.jsx("div",{className:"p-3 rounded-lg bg-blue-500/20 text-blue-500",children:r.jsx(Rs,{size:24})})]})}),r.jsx("div",{className:"card bg-dark-800 border border-dark-700",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Last Month"}),r.jsxs("h3",{className:"text-2xl font-bold text-white mt-1",children:["$",a.toLocaleString()]})]}),r.jsx("div",{className:"p-3 rounded-lg bg-purple-500/20 text-purple-500",children:r.jsx(Rs,{size:24})})]})})]}),r.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-white",children:"Revenue History"}),r.jsx("div",{className:"flex items-center space-x-2",children:r.jsxs("button",{className:"btn btn-secondary flex items-center space-x-2",children:[r.jsx(ao,{size:16}),r.jsx("span",{children:"Filter"})]})})]}),r.jsxs("div",{className:"overflow-x-auto",children:[r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"bg-dark-700",children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Invoice #"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Customer"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Date"}),r.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Amount"})]})}),r.jsx("tbody",{className:"divide-y divide-dark-700",children:t.filter(o=>o.status==="Paid").sort((o,l)=>new Date(l.payment_date).getTime()-new Date(o.payment_date).getTime()).map(o=>r.jsxs("tr",{className:"hover:bg-dark-700/50",children:[r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsx(de,{to:`/invoices/${o.id}`,className:"text-white hover:text-primary-400",children:o.invoice_number})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:o.customer_name}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:new Date(o.payment_date).toLocaleDateString()}),r.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-right text-gray-300",children:["$",o.total.toLocaleString()]})]},o.id))})]}),t.filter(o=>o.status==="Paid").length===0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(us,{size:48,className:"text-gray-600 mb-4 mx-auto"}),r.jsx("p",{className:"text-gray-400 text-lg mb-2",children:"No revenue data yet"}),r.jsx("p",{className:"text-gray-500 text-sm",children:"Start collecting payments to see your revenue history"})]})]})]})]})},j0=[{code:"CA",name:"Canada",states:["Alberta","British Columbia","Manitoba","New Brunswick","Newfoundland and Labrador","Nova Scotia","Ontario","Prince Edward Island","Quebec","Saskatchewan","Northwest Territories","Nunavut","Yukon"]},{code:"US",name:"United States",states:["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"]},{code:"UK",name:"United Kingdom"},{code:"AU",name:"Australia"},{code:"NZ",name:"New Zealand"}],Aw=()=>{const{id:t}=Mn(),e=Qt(),{createSupplier:s,updateSupplier:n,getSupplierById:a,loading:i,error:o,clearError:l}=yp(),[c,d]=U.useState("CA"),[u,h]=U.useState(!1),[f,m]=U.useState(""),[g,x]=U.useState(!1),[j,y]=U.useState(null),{register:b,handleSubmit:k,formState:{errors:A},reset:E}=Ds({defaultValues:{first_name:"",last_name:"",email:"",phone:"",company:"",notes:""}});U.useEffect(()=>{(async()=>{if(t){const v=await a(t);v&&E({first_name:v.first_name,last_name:v.last_name,email:v.email||"",phone:v.phone||"",company:v.company||"",notes:v.notes||"",street:v.street||"",city:v.city||"",state:v.state||"",country:v.country||"CA",postal_code:v.postal_code||""})}})()},[t,a,E]);const I=async _=>{h(!0),l();try{let v;if(t)v=await n(t,_),fe.success("Supplier updated successfully!");else{console.log(_),v=await s(_),fe.success("Supplier created successfully!"),y(v.id),e("/suppliers");return}e(`/suppliers/${v.id}`)}catch(v){console.error("Error creating supplier:",v),fe.error("Failed to create supplier. Please try again.")}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(de,{to:"/suppliers",className:"btn btn-secondary p-2",children:r.jsx(ss,{size:20})}),r.jsx("h1",{className:"text-2xl font-bold text-white",children:t?"Edit Supplier":"Add New Supplier"})]}),o&&r.jsx("div",{className:"bg-red-900/50 border border-red-800 text-red-300 px-4 py-3 rounded-md",children:o}),r.jsxs("form",{onSubmit:k(I),className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[r.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Basic Information"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"company",className:"block text-sm font-medium text-gray-300 mb-1",children:["Company ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{id:"company",type:"text",className:"input",placeholder:"Company name",...b("company",{required:"Last name is required"})})]}),r.jsx("div",{children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"first_name",className:"block text-sm font-medium text-gray-300 mb-1",children:"Contact First Name"}),r.jsx("input",{id:"first_name",type:"text",className:"input",placeholder:"First name",...b("first_name")}),A.first_name&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:A.first_name.message})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"last_name",className:"block text-sm font-medium text-gray-300 mb-1",children:"Contact Last Name"}),r.jsx("input",{id:"last_name",type:"text",className:"input",placeholder:"Last name",...b("last_name")}),A.last_name&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:A.last_name.message})]})]})}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-1",children:"Email"}),r.jsx("input",{id:"email",type:"email",className:"input",placeholder:"supplier@example.com",...b("email",{pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})}),A.email&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:A.email.message})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-300 mb-1",children:"Phone Number"}),r.jsx("input",{id:"phone",type:"tel",className:"input",value:f,onChange:_=>{const P=_.target.value.replace(/\D/g,"").slice(0,10),L=P.replace(/(\d{3})(\d{3})(\d{4})/,"($1) $2-$3");m(L),b("phone").onChange({target:{value:P,name:"phone"}})},placeholder:"(555) 555-5555"})]})]})]}),r.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[r.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Address Information"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-300 mb-1",children:["Country ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("select",{id:"country",className:"input",value:c,onChange:_=>d(_.target.value),...b("country",{required:"Country is required"}),children:j0.map(_=>r.jsx("option",{value:_.code,children:_.name},_.code))})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"street",className:"block text-sm font-medium text-gray-300 mb-1",children:"Street Address"}),r.jsx("input",{id:"street",type:"text",className:"input",placeholder:"123 Main St",...b("street")})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-300 mb-1",children:"City"}),r.jsx("input",{id:"city",type:"text",className:"input",placeholder:"City",...b("city")})]}),c==="CA"&&r.jsxs("div",{children:[r.jsx("label",{htmlFor:"province",className:"block text-sm font-medium text-gray-300 mb-1",children:"Province"}),r.jsxs("select",{id:"province",className:"input",...b("state"),children:[r.jsx("option",{value:"",children:"Select Province"}),j0.find(_=>_.code==="CA")?.states.map(_=>r.jsx("option",{value:_,children:_},_))]})]}),c==="US"&&r.jsxs("div",{children:[r.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-300 mb-1",children:"State"}),r.jsxs("select",{id:"state",className:"input",...b("state"),children:[r.jsx("option",{value:"",children:"Select State"}),j0.find(_=>_.code==="US")?.states.map(_=>r.jsx("option",{value:_,children:_},_))]})]}),["UK","AU","NZ"].includes(c)&&r.jsxs("div",{children:[r.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-300 mb-1",children:c==="UK"?"County":c==="AU"?"State/Territory":"Region"}),r.jsx("input",{id:"state",type:"text",className:"input",placeholder:c==="UK"?"County":c==="AU"?"State/Territory":"Region",...b("state")})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"postal_code",className:"block text-sm font-medium text-gray-300 mb-1",children:c==="US"?"ZIP Code":c==="UK"?"Post Code":"Postal Code"}),r.jsx("input",{id:"postal_code",type:"text",className:"input",placeholder:c==="US"?"12345":c==="CA"?"A1A 1A1":c==="UK"?"SW1A 1AA":"Postal Code",...b("postal_code",{pattern:c==="CA"?{value:/^[A-Za-z]\d[A-Za-z][ -]?\d[A-Za-z]\d$/,message:"Please enter a valid Canadian postal code"}:c==="US"?{value:/^\d{5}(-\d{4})?$/,message:"Please enter a valid US ZIP code"}:c==="UK"?{value:/^[A-Z]{1,2}\d[A-Z\d]? ?\d[A-Z]{2}$/i,message:"Please enter a valid UK post code"}:void 0})}),A.postal_code&&r.jsx("p",{className:"mt-1 text-sm text-red-400",children:A.postal_code.message})]})]})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{type:"submit",className:"btn btn-primary flex items-center space-x-2",disabled:i,children:i?r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white"}),r.jsx("span",{children:"Saving..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(oa,{size:16}),r.jsx("span",{children:"Save Supplier"})]})})})]}),g&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-dark-800 rounded-lg p-6 w-full max-w-md",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Create Lead"}),r.jsx("button",{onClick:()=>{x(!1),e(`/suppliers/${j}`)},className:"text-gray-400 hover:text-white",children:r.jsx(or,{size:20})})]}),r.jsx("p",{className:"text-gray-300 mb-6",children:"Would you like to create a lead for this customer? This will add them to your sales pipeline."}),r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx("button",{onClick:()=>{x(!1),e(`/suppliers/${j}`)},className:"btn btn-secondary",children:"Skip"}),r.jsxs(de,{to:`/crm?supplier=${j}&action=create-lead`,className:"btn btn-primary flex items-center space-x-2",children:[r.jsx(as,{size:16}),r.jsx("span",{children:"Create Lead"})]})]})]})})]})},wJ=()=>{const{id:t}=Mn(),e=Qt(),{getSupplierById:s,updateSupplier:n,deleteSupplier:a,loading:i,error:o}=yp(),[l,c]=U.useState(null),[d,u]=U.useState(null),[h,f]=U.useState("");U.useEffect(()=>{t&&s(t).then(y=>{y?c(y):(fe.error("Supplier not found"),e("/supplier"))}).catch(y=>{fe.error("Failed to load supplier details")})},[t,s,e]);const m=async()=>{if(t&&window.confirm("Are you sure you want to delete this supplier?"))try{await a(t),fe.success("Supplier deleted successfully"),e("/suppliers")}catch{fe.error("Failed to delete supplier")}},g=(y,b)=>{u(y),f(b)},x=async y=>{if(!(!t||!l))try{const b=await n(t,{[y]:h});c(b),u(null),f(""),fe.success("Updated successfully")}catch{fe.error("Failed to update")}},j=(y,b)=>{y.key==="Enter"?x(b):y.key==="Escape"&&(u(null),f(""))};return i?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-400",children:"Loading supplier details..."})]}):o?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("p",{className:"text-red-400 text-lg",children:o}),r.jsx(de,{to:"/suppliers",className:"btn btn-primary mt-4",children:"Back to suppliers"})]}):l?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(de,{to:"/suppliers",className:"btn btn-secondary p-2",children:r.jsx(ss,{size:20})}),r.jsx("h1",{className:"text-2xl font-bold text-white",children:l.name})]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsxs(de,{to:`/suppliers/${t}/edit`,className:"btn btn-primary flex items-center space-x-2",children:[r.jsx(Or,{size:16}),r.jsx("span",{children:"Edit suppliers"})]}),r.jsxs(de,{to:`/invoices/create?suppliers=${t}`,className:"btn btn-secondary flex items-center space-x-2",children:[r.jsx(wt,{size:16}),r.jsx("span",{children:"Create Invoice"})]}),r.jsxs("button",{className:"btn btn-danger flex items-center space-x-2",onClick:m,children:[r.jsx(Ys,{size:16}),r.jsx("span",{children:"Delete"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[r.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Supplier Information"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"flex items-start space-x-3",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Contact Details"}),r.jsx("div",{className:"cursor-pointer",onClick:()=>g("name",l.name),children:d==="name"?r.jsx("input",{type:"text",className:"input py-1 px-2",value:h,onChange:y=>f(y.target.value),onBlur:()=>x("name"),onKeyDown:y=>j(y,"name"),autoFocus:!0}):r.jsx("p",{className:"text-white font-medium hover:text-primary-400",children:l.name})})]})}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"text-gray-400",children:r.jsx(xu,{size:18})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Company"}),r.jsx("div",{className:"cursor-pointer",onClick:()=>g("company",l.company||""),children:d==="company"?r.jsx("input",{type:"text",className:"input py-1 px-2",value:h,onChange:y=>f(y.target.value),onBlur:()=>x("company"),onKeyDown:y=>j(y,"company"),autoFocus:!0}):r.jsx("p",{className:"text-white hover:text-primary-400",children:l.company||"No company"})})]})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"text-gray-400",children:r.jsx(aa,{size:18})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Email"}),r.jsx("div",{className:"cursor-pointer",onClick:()=>g("email",l.email||""),children:d==="email"?r.jsx("input",{type:"email",className:"input py-1 px-2",value:h,onChange:y=>f(y.target.value),onBlur:()=>x("email"),onKeyDown:y=>j(y,"email"),autoFocus:!0}):r.jsx("p",{className:"text-white hover:text-primary-400",children:l.email||"No email provided"})})]})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"text-gray-400",children:r.jsx(oo,{size:18})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Phone"}),r.jsx("div",{className:"cursor-pointer",onClick:()=>g("phone",l.phone||""),children:d==="phone"?r.jsx("input",{type:"tel",className:"input py-1 px-2",value:h,onChange:y=>f(y.target.value),onBlur:()=>x("phone"),onKeyDown:y=>j(y,"phone"),autoFocus:!0}):r.jsx("p",{className:"text-white hover:text-primary-400",children:Uo(l.phone)||"No phone provided"})})]})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"text-gray-400",children:r.jsx(Rs,{size:18})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Created At"}),r.jsx("p",{className:"text-white",children:l.created_at?new Date(l.created_at).toLocaleDateString():"N/A"})]})]})]}),r.jsxs("div",{className:"mt-6",children:[r.jsx("h3",{className:"text-md font-medium text-white mb-2",children:"Notes"}),r.jsx("p",{className:"text-gray-300 text-sm",children:l.notes||"No notes available"})]})]}),r.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[r.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Financial Summary"}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-dark-700 rounded-md p-4",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 rounded-md bg-green-500/20 text-green-500",children:r.jsx(wt,{size:20})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Total Invoices"}),r.jsx("p",{className:"text-xl font-semibold text-white",children:"0"})]})]})}),r.jsx("div",{className:"bg-dark-700 rounded-md p-4",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 rounded-md bg-blue-500/20 text-blue-500",children:r.jsx(un,{size:20})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Total Purchases"}),r.jsx("p",{className:"text-xl font-semibold text-white",children:"0"})]})]})}),r.jsx("div",{className:"bg-dark-700 rounded-md p-4",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 rounded-md bg-purple-500/20 text-purple-500",children:r.jsx(Rs,{size:20})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-400",children:"Last Purchase"}),r.jsx("p",{className:"text-white",children:l.last_purchase?new Date(l.last_purchase).toLocaleDateString():"Never"})]})]})})]})]}),r.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[r.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Recent Activity"}),r.jsx("div",{className:"text-center py-6",children:r.jsx("p",{className:"text-gray-400",children:"No recent activity"})})]})]}),r.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-white",children:"Invoices"}),r.jsxs(de,{to:`/invoices/create?customer=${t}`,className:"btn btn-primary flex items-center space-x-2",children:[r.jsx(wt,{size:16}),r.jsx("span",{children:"Create Invoice"})]})]}),r.jsx("div",{className:"text-center py-6",children:r.jsx("p",{className:"text-gray-400",children:"No invoices found for this customer"})})]}),r.jsxs("div",{className:"card bg-dark-800 border border-dark-700",children:[r.jsx("div",{className:"flex justify-between items-center mb-4",children:r.jsx("h2",{className:"text-lg font-semibold text-white",children:"Purchase History"})}),r.jsx("div",{className:"text-center py-6",children:r.jsx("p",{className:"text-gray-400",children:"No purchase history found for this customer"})})]})]}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx("p",{className:"text-gray-400 text-lg",children:"Supplier not found"}),r.jsx(de,{to:"/suppliers",className:"btn btn-primary mt-4",children:"Back to suppliers"})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function fh(t){return t+.5|0}const Ki=(t,e,s)=>Math.max(Math.min(t,s),e);function Xd(t){return Ki(fh(t*2.55),0,255)}function Ji(t){return Ki(fh(t*255),0,255)}function pi(t){return Ki(fh(t/2.55)/100,0,1)}function Cw(t){return Ki(fh(t*100),0,100)}const Sn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Og=[..."0123456789ABCDEF"],jJ=t=>Og[t&15],NJ=t=>Og[(t&240)>>4]+Og[t&15],Cm=t=>(t&240)>>4===(t&15),kJ=t=>Cm(t.r)&&Cm(t.g)&&Cm(t.b)&&Cm(t.a);function _J(t){var e=t.length,s;return t[0]==="#"&&(e===4||e===5?s={r:255&Sn[t[1]]*17,g:255&Sn[t[2]]*17,b:255&Sn[t[3]]*17,a:e===5?Sn[t[4]]*17:255}:(e===7||e===9)&&(s={r:Sn[t[1]]<<4|Sn[t[2]],g:Sn[t[3]]<<4|Sn[t[4]],b:Sn[t[5]]<<4|Sn[t[6]],a:e===9?Sn[t[7]]<<4|Sn[t[8]]:255})),s}const SJ=(t,e)=>t<255?e(t):"";function AJ(t){var e=kJ(t)?jJ:NJ;return t?"#"+e(t.r)+e(t.g)+e(t.b)+SJ(t.a,e):void 0}const CJ=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Tk(t,e,s){const n=e*Math.min(s,1-s),a=(i,o=(i+t/30)%12)=>s-n*Math.max(Math.min(o-3,9-o,1),-1);return[a(0),a(8),a(4)]}function PJ(t,e,s){const n=(a,i=(a+t/60)%6)=>s-s*e*Math.max(Math.min(i,4-i,1),0);return[n(5),n(3),n(1)]}function EJ(t,e,s){const n=Tk(t,1,.5);let a;for(e+s>1&&(a=1/(e+s),e*=a,s*=a),a=0;a<3;a++)n[a]*=1-e-s,n[a]+=e;return n}function DJ(t,e,s,n,a){return t===a?(e-s)/n+(e<s?6:0):e===a?(s-t)/n+2:(t-e)/n+4}function Lb(t){const s=t.r/255,n=t.g/255,a=t.b/255,i=Math.max(s,n,a),o=Math.min(s,n,a),l=(i+o)/2;let c,d,u;return i!==o&&(u=i-o,d=l>.5?u/(2-i-o):u/(i+o),c=DJ(s,n,a,u,i),c=c*60+.5),[c|0,d||0,l]}function Ib(t,e,s,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,s,n)).map(Ji)}function Mb(t,e,s){return Ib(Tk,t,e,s)}function LJ(t,e,s){return Ib(EJ,t,e,s)}function IJ(t,e,s){return Ib(PJ,t,e,s)}function Fk(t){return(t%360+360)%360}function MJ(t){const e=CJ.exec(t);let s=255,n;if(!e)return;e[5]!==n&&(s=e[6]?Xd(+e[5]):Ji(+e[5]));const a=Fk(+e[2]),i=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?n=LJ(a,i,o):e[1]==="hsv"?n=IJ(a,i,o):n=Mb(a,i,o),{r:n[0],g:n[1],b:n[2],a:s}}function TJ(t,e){var s=Lb(t);s[0]=Fk(s[0]+e),s=Mb(s),t.r=s[0],t.g=s[1],t.b=s[2]}function FJ(t){if(!t)return;const e=Lb(t),s=e[0],n=Cw(e[1]),a=Cw(e[2]);return t.a<255?`hsla(${s}, ${n}%, ${a}%, ${pi(t.a)})`:`hsl(${s}, ${n}%, ${a}%)`}const Pw={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Ew={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function OJ(){const t={},e=Object.keys(Ew),s=Object.keys(Pw);let n,a,i,o,l;for(n=0;n<e.length;n++){for(o=l=e[n],a=0;a<s.length;a++)i=s[a],l=l.replace(i,Pw[i]);i=parseInt(Ew[o],16),t[l]=[i>>16&255,i>>8&255,i&255]}return t}let Pm;function RJ(t){Pm||(Pm=OJ(),Pm.transparent=[0,0,0,0]);const e=Pm[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const $J=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function zJ(t){const e=$J.exec(t);let s=255,n,a,i;if(e){if(e[7]!==n){const o=+e[7];s=e[8]?Xd(o):Ki(o*255,0,255)}return n=+e[1],a=+e[3],i=+e[5],n=255&(e[2]?Xd(n):Ki(n,0,255)),a=255&(e[4]?Xd(a):Ki(a,0,255)),i=255&(e[6]?Xd(i):Ki(i,0,255)),{r:n,g:a,b:i,a:s}}}function BJ(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${pi(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const N0=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,sc=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function qJ(t,e,s){const n=sc(pi(t.r)),a=sc(pi(t.g)),i=sc(pi(t.b));return{r:Ji(N0(n+s*(sc(pi(e.r))-n))),g:Ji(N0(a+s*(sc(pi(e.g))-a))),b:Ji(N0(i+s*(sc(pi(e.b))-i))),a:t.a+s*(e.a-t.a)}}function Em(t,e,s){if(t){let n=Lb(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*s,e===0?360:1)),n=Mb(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function Ok(t,e){return t&&Object.assign(e||{},t)}function Dw(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Ji(t[3]))):(e=Ok(t,{r:0,g:0,b:0,a:1}),e.a=Ji(e.a)),e}function HJ(t){return t.charAt(0)==="r"?zJ(t):MJ(t)}class Ru{constructor(e){if(e instanceof Ru)return e;const s=typeof e;let n;s==="object"?n=Dw(e):s==="string"&&(n=_J(e)||RJ(e)||HJ(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=Ok(this._rgb);return e&&(e.a=pi(e.a)),e}set rgb(e){this._rgb=Dw(e)}rgbString(){return this._valid?BJ(this._rgb):void 0}hexString(){return this._valid?AJ(this._rgb):void 0}hslString(){return this._valid?FJ(this._rgb):void 0}mix(e,s){if(e){const n=this.rgb,a=e.rgb;let i;const o=s===i?.5:s,l=2*o-1,c=n.a-a.a,d=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;i=1-d,n.r=255&d*n.r+i*a.r+.5,n.g=255&d*n.g+i*a.g+.5,n.b=255&d*n.b+i*a.b+.5,n.a=o*n.a+(1-o)*a.a,this.rgb=n}return this}interpolate(e,s){return e&&(this._rgb=qJ(this._rgb,e._rgb,s)),this}clone(){return new Ru(this.rgb)}alpha(e){return this._rgb.a=Ji(e),this}clearer(e){const s=this._rgb;return s.a*=1-e,this}greyscale(){const e=this._rgb,s=fh(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=s,this}opaquer(e){const s=this._rgb;return s.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Em(this._rgb,2,e),this}darken(e){return Em(this._rgb,2,-e),this}saturate(e){return Em(this._rgb,1,e),this}desaturate(e){return Em(this._rgb,1,-e),this}rotate(e){return TJ(this._rgb,e),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function di(){}const WJ=(()=>{let t=0;return()=>t++})();function Yt(t){return t==null}function Os(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function kt(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Sr(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function ja(t,e){return Sr(t)?t:e}function vt(t,e){return typeof t>"u"?e:t}const UJ=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,Rk=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Zt(t,e,s){if(t&&typeof t.call=="function")return t.apply(s,e)}function zt(t,e,s,n){let a,i,o;if(Os(t))for(i=t.length,a=0;a<i;a++)e.call(s,t[a],a);else if(kt(t))for(o=Object.keys(t),i=o.length,a=0;a<i;a++)e.call(s,t[o[a]],o[a])}function Mf(t,e){let s,n,a,i;if(!t||!e||t.length!==e.length)return!1;for(s=0,n=t.length;s<n;++s)if(a=t[s],i=e[s],a.datasetIndex!==i.datasetIndex||a.index!==i.index)return!1;return!0}function Tf(t){if(Os(t))return t.map(Tf);if(kt(t)){const e=Object.create(null),s=Object.keys(t),n=s.length;let a=0;for(;a<n;++a)e[s[a]]=Tf(t[s[a]]);return e}return t}function $k(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function VJ(t,e,s,n){if(!$k(t))return;const a=e[t],i=s[t];kt(a)&&kt(i)?$u(a,i,n):e[t]=Tf(i)}function $u(t,e,s){const n=Os(e)?e:[e],a=n.length;if(!kt(t))return t;s=s||{};const i=s.merger||VJ;let o;for(let l=0;l<a;++l){if(o=n[l],!kt(o))continue;const c=Object.keys(o);for(let d=0,u=c.length;d<u;++d)i(c[d],t,o,s)}return t}function hu(t,e){return $u(t,e,{merger:YJ})}function YJ(t,e,s){if(!$k(t))return;const n=e[t],a=s[t];kt(n)&&kt(a)?hu(n,a):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Tf(a))}const Lw={"":t=>t,x:t=>t.x,y:t=>t.y};function GJ(t){const e=t.split("."),s=[];let n="";for(const a of e)n+=a,n.endsWith("\\")?n=n.slice(0,-1)+".":(s.push(n),n="");return s}function KJ(t){const e=GJ(t);return s=>{for(const n of e){if(n==="")break;s=s&&s[n]}return s}}function ll(t,e){return(Lw[e]||(Lw[e]=KJ(e)))(t)}function Tb(t){return t.charAt(0).toUpperCase()+t.slice(1)}const zu=t=>typeof t<"u",ro=t=>typeof t=="function",Iw=(t,e)=>{if(t.size!==e.size)return!1;for(const s of t)if(!e.has(s))return!1;return!0};function XJ(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const bs=Math.PI,ds=2*bs,QJ=ds+bs,Ff=Number.POSITIVE_INFINITY,JJ=bs/180,Vs=bs/2,Eo=bs/4,Mw=bs*2/3,Rg=Math.log10,qa=Math.sign;function mu(t,e,s){return Math.abs(t-e)<s}function Tw(t){const e=Math.round(t);t=mu(t,e,t/1e3)?e:t;const s=Math.pow(10,Math.floor(Rg(t))),n=t/s;return(n<=1?1:n<=2?2:n<=5?5:10)*s}function ZJ(t){const e=[],s=Math.sqrt(t);let n;for(n=1;n<s;n++)t%n===0&&(e.push(n),e.push(t/n));return s===(s|0)&&e.push(s),e.sort((a,i)=>a-i).pop(),e}function eZ(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Of(t){return!eZ(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function tZ(t,e){const s=Math.round(t);return s-e<=t&&s+e>=t}function sZ(t,e,s){let n,a,i;for(n=0,a=t.length;n<a;n++)i=t[n][s],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function xi(t){return t*(bs/180)}function rZ(t){return t*(180/bs)}function Fw(t){if(!Sr(t))return;let e=1,s=0;for(;Math.round(t*e)/e!==t;)e*=10,s++;return s}function zk(t,e){const s=e.x-t.x,n=e.y-t.y,a=Math.sqrt(s*s+n*n);let i=Math.atan2(n,s);return i<-.5*bs&&(i+=ds),{angle:i,distance:a}}function $g(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function nZ(t,e){return(t-e+QJ)%ds-bs}function Pa(t){return(t%ds+ds)%ds}function Bu(t,e,s,n){const a=Pa(t),i=Pa(e),o=Pa(s),l=Pa(i-a),c=Pa(o-a),d=Pa(a-i),u=Pa(a-o);return a===i||a===o||n&&i===o||l>c&&d<u}function Yr(t,e,s){return Math.max(e,Math.min(s,t))}function aZ(t){return Yr(t,-32768,32767)}function gi(t,e,s,n=1e-6){return t>=Math.min(e,s)-n&&t<=Math.max(e,s)+n}function Fb(t,e,s){s=s||(o=>t[o]<e);let n=t.length-1,a=0,i;for(;n-a>1;)i=a+n>>1,s(i)?a=i:n=i;return{lo:a,hi:n}}const zg=(t,e,s,n)=>Fb(t,s,n?a=>{const i=t[a][e];return i<s||i===s&&t[a+1][e]===s}:a=>t[a][e]<s),iZ=(t,e,s)=>Fb(t,s,n=>t[n][e]>=s);function oZ(t,e,s){let n=0,a=t.length;for(;n<a&&t[n]<e;)n++;for(;a>n&&t[a-1]>s;)a--;return n>0||a<t.length?t.slice(n,a):t}const Bk=["push","pop","shift","splice","unshift"];function lZ(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Bk.forEach(s=>{const n="_onData"+Tb(s),a=t[s];Object.defineProperty(t,s,{configurable:!0,enumerable:!1,value(...i){const o=a.apply(this,i);return t._chartjs.listeners.forEach(l=>{typeof l[n]=="function"&&l[n](...i)}),o}})})}function Ow(t,e){const s=t._chartjs;if(!s)return;const n=s.listeners,a=n.indexOf(e);a!==-1&&n.splice(a,1),!(n.length>0)&&(Bk.forEach(i=>{delete t[i]}),delete t._chartjs)}function qk(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Hk=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function Wk(t,e){let s=[],n=!1;return function(...a){s=a,n||(n=!0,Hk.call(window,()=>{n=!1,t.apply(e,s)}))}}function cZ(t,e){let s;return function(...n){return e?(clearTimeout(s),s=setTimeout(t,e,n)):t.apply(this,n),e}}const Ob=t=>t==="start"?"left":t==="end"?"right":"center",jr=(t,e,s)=>t==="start"?e:t==="end"?s:(e+s)/2,dZ=(t,e,s,n)=>t===(n?"left":"right")?s:t==="center"?(e+s)/2:e,Dm=t=>t===0||t===1,Rw=(t,e,s)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*ds/s)),$w=(t,e,s)=>Math.pow(2,-10*t)*Math.sin((t-e)*ds/s)+1,fu={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Vs)+1,easeOutSine:t=>Math.sin(t*Vs),easeInOutSine:t=>-.5*(Math.cos(bs*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Dm(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Dm(t)?t:Rw(t,.075,.3),easeOutElastic:t=>Dm(t)?t:$w(t,.075,.3),easeInOutElastic(t){return Dm(t)?t:t<.5?.5*Rw(t*2,.1125,.45):.5+.5*$w(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-fu.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?fu.easeInBounce(t*2)*.5:fu.easeOutBounce(t*2-1)*.5+.5};function Rb(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function zw(t){return Rb(t)?t:new Ru(t)}function k0(t){return Rb(t)?t:new Ru(t).saturate(.5).darken(.1).hexString()}const uZ=["x","y","borderWidth","radius","tension"],hZ=["color","borderColor","backgroundColor"];function mZ(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:hZ},numbers:{type:"number",properties:uZ}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function fZ(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Bw=new Map;function pZ(t,e){e=e||{};const s=t+JSON.stringify(e);let n=Bw.get(s);return n||(n=new Intl.NumberFormat(t,e),Bw.set(s,n)),n}function $b(t,e,s){return pZ(e,s).format(t)}const Uk={values(t){return Os(t)?t:""+t},numeric(t,e,s){if(t===0)return"0";const n=this.chart.options.locale;let a,i=t;if(s.length>1){const d=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(d<1e-4||d>1e15)&&(a="scientific"),i=xZ(t,s)}const o=Rg(Math.abs(i)),l=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:a,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),$b(t,n,c)},logarithmic(t,e,s){if(t===0)return"0";const n=s[e].significand||t/Math.pow(10,Math.floor(Rg(t)));return[1,2,3,5,10,15].includes(n)||e>.8*s.length?Uk.numeric.call(this,t,e,s):""}};function xZ(t,e){let s=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(s)>=1&&t!==Math.floor(t)&&(s=t-Math.floor(t)),s}var Vk={formatters:Uk};function gZ(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,s)=>s.lineWidth,tickColor:(e,s)=>s.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Vk.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const cl=Object.create(null),Bg=Object.create(null);function pu(t,e){if(!e)return t;const s=e.split(".");for(let n=0,a=s.length;n<a;++n){const i=s[n];t=t[i]||(t[i]=Object.create(null))}return t}function _0(t,e,s){return typeof e=="string"?$u(pu(t,e),s):$u(pu(t,""),e)}class yZ{constructor(e,s){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,a)=>k0(a.backgroundColor),this.hoverBorderColor=(n,a)=>k0(a.borderColor),this.hoverColor=(n,a)=>k0(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(s)}set(e,s){return _0(this,e,s)}get(e){return pu(this,e)}describe(e,s){return _0(Bg,e,s)}override(e,s){return _0(cl,e,s)}route(e,s,n,a){const i=pu(this,e),o=pu(this,n),l="_"+s;Object.defineProperties(i,{[l]:{value:i[s],writable:!0},[s]:{enumerable:!0,get(){const c=this[l],d=o[a];return kt(c)?Object.assign({},d,c):vt(c,d)},set(c){this[l]=c}}})}apply(e){e.forEach(s=>s(this))}}var Ps=new yZ({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[mZ,fZ,gZ]);function bZ(t){return!t||Yt(t.size)||Yt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function qw(t,e,s,n,a){let i=e[a];return i||(i=e[a]=t.measureText(a).width,s.push(a)),i>n&&(n=i),n}function Do(t,e,s){const n=t.currentDevicePixelRatio,a=s!==0?Math.max(s/2,.5):0;return Math.round((e-a)*n)/n+a}function Hw(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function qg(t,e,s,n){Yk(t,e,s,n,null)}function Yk(t,e,s,n,a){let i,o,l,c,d,u,h,f;const m=e.pointStyle,g=e.rotation,x=e.radius;let j=(g||0)*JJ;if(m&&typeof m=="object"&&(i=m.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(s,n),t.rotate(j),t.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),t.restore();return}if(!(isNaN(x)||x<=0)){switch(t.beginPath(),m){default:a?t.ellipse(s,n,a/2,x,0,0,ds):t.arc(s,n,x,0,ds),t.closePath();break;case"triangle":u=a?a/2:x,t.moveTo(s+Math.sin(j)*u,n-Math.cos(j)*x),j+=Mw,t.lineTo(s+Math.sin(j)*u,n-Math.cos(j)*x),j+=Mw,t.lineTo(s+Math.sin(j)*u,n-Math.cos(j)*x),t.closePath();break;case"rectRounded":d=x*.516,c=x-d,o=Math.cos(j+Eo)*c,h=Math.cos(j+Eo)*(a?a/2-d:c),l=Math.sin(j+Eo)*c,f=Math.sin(j+Eo)*(a?a/2-d:c),t.arc(s-h,n-l,d,j-bs,j-Vs),t.arc(s+f,n-o,d,j-Vs,j),t.arc(s+h,n+l,d,j,j+Vs),t.arc(s-f,n+o,d,j+Vs,j+bs),t.closePath();break;case"rect":if(!g){c=Math.SQRT1_2*x,u=a?a/2:c,t.rect(s-u,n-c,2*u,2*c);break}j+=Eo;case"rectRot":h=Math.cos(j)*(a?a/2:x),o=Math.cos(j)*x,l=Math.sin(j)*x,f=Math.sin(j)*(a?a/2:x),t.moveTo(s-h,n-l),t.lineTo(s+f,n-o),t.lineTo(s+h,n+l),t.lineTo(s-f,n+o),t.closePath();break;case"crossRot":j+=Eo;case"cross":h=Math.cos(j)*(a?a/2:x),o=Math.cos(j)*x,l=Math.sin(j)*x,f=Math.sin(j)*(a?a/2:x),t.moveTo(s-h,n-l),t.lineTo(s+h,n+l),t.moveTo(s+f,n-o),t.lineTo(s-f,n+o);break;case"star":h=Math.cos(j)*(a?a/2:x),o=Math.cos(j)*x,l=Math.sin(j)*x,f=Math.sin(j)*(a?a/2:x),t.moveTo(s-h,n-l),t.lineTo(s+h,n+l),t.moveTo(s+f,n-o),t.lineTo(s-f,n+o),j+=Eo,h=Math.cos(j)*(a?a/2:x),o=Math.cos(j)*x,l=Math.sin(j)*x,f=Math.sin(j)*(a?a/2:x),t.moveTo(s-h,n-l),t.lineTo(s+h,n+l),t.moveTo(s+f,n-o),t.lineTo(s-f,n+o);break;case"line":o=a?a/2:Math.cos(j)*x,l=Math.sin(j)*x,t.moveTo(s-o,n-l),t.lineTo(s+o,n+l);break;case"dash":t.moveTo(s,n),t.lineTo(s+Math.cos(j)*(a?a/2:x),n+Math.sin(j)*x);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function qu(t,e,s){return s=s||.5,!e||t&&t.x>e.left-s&&t.x<e.right+s&&t.y>e.top-s&&t.y<e.bottom+s}function Lp(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Ip(t){t.restore()}function vZ(t,e,s,n,a){if(!e)return t.lineTo(s.x,s.y);if(a==="middle"){const i=(e.x+s.x)/2;t.lineTo(i,e.y),t.lineTo(i,s.y)}else a==="after"!=!!n?t.lineTo(e.x,s.y):t.lineTo(s.x,e.y);t.lineTo(s.x,s.y)}function wZ(t,e,s,n){if(!e)return t.lineTo(s.x,s.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?s.cp2x:s.cp1x,n?s.cp2y:s.cp1y,s.x,s.y)}function jZ(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Yt(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function NZ(t,e,s,n,a){if(a.strikethrough||a.underline){const i=t.measureText(n),o=e-i.actualBoundingBoxLeft,l=e+i.actualBoundingBoxRight,c=s-i.actualBoundingBoxAscent,d=s+i.actualBoundingBoxDescent,u=a.strikethrough?(c+d)/2:d;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=a.decorationWidth||2,t.moveTo(o,u),t.lineTo(l,u),t.stroke()}}function kZ(t,e){const s=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=s}function Hu(t,e,s,n,a,i={}){const o=Os(e)?e:[e],l=i.strokeWidth>0&&i.strokeColor!=="";let c,d;for(t.save(),t.font=a.string,jZ(t,i),c=0;c<o.length;++c)d=o[c],i.backdrop&&kZ(t,i.backdrop),l&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),Yt(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(d,s,n,i.maxWidth)),t.fillText(d,s,n,i.maxWidth),NZ(t,s,n,d,i),n+=Number(a.lineHeight);t.restore()}function Rf(t,e){const{x:s,y:n,w:a,h:i,radius:o}=e;t.arc(s+o.topLeft,n+o.topLeft,o.topLeft,1.5*bs,bs,!0),t.lineTo(s,n+i-o.bottomLeft),t.arc(s+o.bottomLeft,n+i-o.bottomLeft,o.bottomLeft,bs,Vs,!0),t.lineTo(s+a-o.bottomRight,n+i),t.arc(s+a-o.bottomRight,n+i-o.bottomRight,o.bottomRight,Vs,0,!0),t.lineTo(s+a,n+o.topRight),t.arc(s+a-o.topRight,n+o.topRight,o.topRight,0,-Vs,!0),t.lineTo(s+o.topLeft,n)}const _Z=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,SZ=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function AZ(t,e){const s=(""+t).match(_Z);if(!s||s[1]==="normal")return e*1.2;switch(t=+s[2],s[3]){case"px":return t;case"%":t/=100;break}return e*t}const CZ=t=>+t||0;function zb(t,e){const s={},n=kt(e),a=n?Object.keys(e):e,i=kt(t)?n?o=>vt(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of a)s[o]=CZ(i(o));return s}function Gk(t){return zb(t,{top:"y",right:"x",bottom:"y",left:"x"})}function pc(t){return zb(t,["topLeft","topRight","bottomLeft","bottomRight"])}function In(t){const e=Gk(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function kr(t,e){t=t||{},e=e||Ps.font;let s=vt(t.size,e.size);typeof s=="string"&&(s=parseInt(s,10));let n=vt(t.style,e.style);n&&!(""+n).match(SZ)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const a={family:vt(t.family,e.family),lineHeight:AZ(vt(t.lineHeight,e.lineHeight),s),size:s,style:n,weight:vt(t.weight,e.weight),string:""};return a.string=bZ(a),a}function Lm(t,e,s,n){let a,i,o;for(a=0,i=t.length;a<i;++a)if(o=t[a],o!==void 0&&o!==void 0)return o}function PZ(t,e,s){const{min:n,max:a}=t,i=Rk(e,(a-n)/2),o=(l,c)=>s&&l===0?0:l+c;return{min:o(n,-Math.abs(i)),max:o(a,i)}}function xl(t,e){return Object.assign(Object.create(t),e)}function Bb(t,e=[""],s,n,a=()=>t[0]){const i=s||t;typeof n>"u"&&(n=Jk("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:n,_getTarget:a,override:l=>Bb([l,...t],e,i,n)};return new Proxy(o,{deleteProperty(l,c){return delete l[c],delete l._keys,delete t[0][c],!0},get(l,c){return Xk(l,c,()=>OZ(c,e,t,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(l,c){return Uw(l).includes(c)},ownKeys(l){return Uw(l)},set(l,c,d){const u=l._storage||(l._storage=a());return l[c]=u[c]=d,delete l._keys,!0}})}function Pc(t,e,s,n){const a={_cacheable:!1,_proxy:t,_context:e,_subProxy:s,_stack:new Set,_descriptors:Kk(t,n),setContext:i=>Pc(t,i,s,n),override:i=>Pc(t.override(i),e,s,n)};return new Proxy(a,{deleteProperty(i,o){return delete i[o],delete t[o],!0},get(i,o,l){return Xk(i,o,()=>DZ(i,o,l))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(i,o,l){return t[o]=l,delete i[o],!0}})}function Kk(t,e={scriptable:!0,indexable:!0}){const{_scriptable:s=e.scriptable,_indexable:n=e.indexable,_allKeys:a=e.allKeys}=t;return{allKeys:a,scriptable:s,indexable:n,isScriptable:ro(s)?s:()=>s,isIndexable:ro(n)?n:()=>n}}const EZ=(t,e)=>t?t+Tb(e):e,qb=(t,e)=>kt(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Xk(t,e,s){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const n=s();return t[e]=n,n}function DZ(t,e,s){const{_proxy:n,_context:a,_subProxy:i,_descriptors:o}=t;let l=n[e];return ro(l)&&o.isScriptable(e)&&(l=LZ(e,l,t,s)),Os(l)&&l.length&&(l=IZ(e,l,t,o.isIndexable)),qb(e,l)&&(l=Pc(l,a,i&&i[e],o)),l}function LZ(t,e,s,n){const{_proxy:a,_context:i,_subProxy:o,_stack:l}=s;if(l.has(t))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+t);l.add(t);let c=e(i,o||n);return l.delete(t),qb(t,c)&&(c=Hb(a._scopes,a,t,c)),c}function IZ(t,e,s,n){const{_proxy:a,_context:i,_subProxy:o,_descriptors:l}=s;if(typeof i.index<"u"&&n(t))return e[i.index%e.length];if(kt(e[0])){const c=e,d=a._scopes.filter(u=>u!==c);e=[];for(const u of c){const h=Hb(d,a,t,u);e.push(Pc(h,i,o&&o[t],l))}}return e}function Qk(t,e,s){return ro(t)?t(e,s):t}const MZ=(t,e)=>t===!0?e:typeof t=="string"?ll(e,t):void 0;function TZ(t,e,s,n,a){for(const i of e){const o=MZ(s,i);if(o){t.add(o);const l=Qk(o._fallback,s,a);if(typeof l<"u"&&l!==s&&l!==n)return l}else if(o===!1&&typeof n<"u"&&s!==n)return null}return!1}function Hb(t,e,s,n){const a=e._rootScopes,i=Qk(e._fallback,s,n),o=[...t,...a],l=new Set;l.add(n);let c=Ww(l,o,s,i||s,n);return c===null||typeof i<"u"&&i!==s&&(c=Ww(l,o,i,c,n),c===null)?!1:Bb(Array.from(l),[""],a,i,()=>FZ(e,s,n))}function Ww(t,e,s,n,a){for(;s;)s=TZ(t,e,s,n,a);return s}function FZ(t,e,s){const n=t._getTarget();e in n||(n[e]={});const a=n[e];return Os(a)&&kt(s)?s:a||{}}function OZ(t,e,s,n){let a;for(const i of e)if(a=Jk(EZ(i,t),s),typeof a<"u")return qb(t,a)?Hb(s,n,t,a):a}function Jk(t,e){for(const s of e){if(!s)continue;const n=s[t];if(typeof n<"u")return n}}function Uw(t){let e=t._keys;return e||(e=t._keys=RZ(t._scopes)),e}function RZ(t){const e=new Set;for(const s of t)for(const n of Object.keys(s).filter(a=>!a.startsWith("_")))e.add(n);return Array.from(e)}const $Z=Number.EPSILON||1e-14,Ec=(t,e)=>e<t.length&&!t[e].skip&&t[e],Zk=t=>t==="x"?"y":"x";function zZ(t,e,s,n){const a=t.skip?e:t,i=e,o=s.skip?e:s,l=$g(i,a),c=$g(o,i);let d=l/(l+c),u=c/(l+c);d=isNaN(d)?0:d,u=isNaN(u)?0:u;const h=n*d,f=n*u;return{previous:{x:i.x-h*(o.x-a.x),y:i.y-h*(o.y-a.y)},next:{x:i.x+f*(o.x-a.x),y:i.y+f*(o.y-a.y)}}}function BZ(t,e,s){const n=t.length;let a,i,o,l,c,d=Ec(t,0);for(let u=0;u<n-1;++u)if(c=d,d=Ec(t,u+1),!(!c||!d)){if(mu(e[u],0,$Z)){s[u]=s[u+1]=0;continue}a=s[u]/e[u],i=s[u+1]/e[u],l=Math.pow(a,2)+Math.pow(i,2),!(l<=9)&&(o=3/Math.sqrt(l),s[u]=a*o*e[u],s[u+1]=i*o*e[u])}}function qZ(t,e,s="x"){const n=Zk(s),a=t.length;let i,o,l,c=Ec(t,0);for(let d=0;d<a;++d){if(o=l,l=c,c=Ec(t,d+1),!l)continue;const u=l[s],h=l[n];o&&(i=(u-o[s])/3,l[`cp1${s}`]=u-i,l[`cp1${n}`]=h-i*e[d]),c&&(i=(c[s]-u)/3,l[`cp2${s}`]=u+i,l[`cp2${n}`]=h+i*e[d])}}function HZ(t,e="x"){const s=Zk(e),n=t.length,a=Array(n).fill(0),i=Array(n);let o,l,c,d=Ec(t,0);for(o=0;o<n;++o)if(l=c,c=d,d=Ec(t,o+1),!!c){if(d){const u=d[e]-c[e];a[o]=u!==0?(d[s]-c[s])/u:0}i[o]=l?d?qa(a[o-1])!==qa(a[o])?0:(a[o-1]+a[o])/2:a[o-1]:a[o]}BZ(t,a,i),qZ(t,i,e)}function Im(t,e,s){return Math.max(Math.min(t,s),e)}function WZ(t,e){let s,n,a,i,o,l=qu(t[0],e);for(s=0,n=t.length;s<n;++s)o=i,i=l,l=s<n-1&&qu(t[s+1],e),i&&(a=t[s],o&&(a.cp1x=Im(a.cp1x,e.left,e.right),a.cp1y=Im(a.cp1y,e.top,e.bottom)),l&&(a.cp2x=Im(a.cp2x,e.left,e.right),a.cp2y=Im(a.cp2y,e.top,e.bottom)))}function UZ(t,e,s,n,a){let i,o,l,c;if(e.spanGaps&&(t=t.filter(d=>!d.skip)),e.cubicInterpolationMode==="monotone")HZ(t,a);else{let d=n?t[t.length-1]:t[0];for(i=0,o=t.length;i<o;++i)l=t[i],c=zZ(d,l,t[Math.min(i+1,o-(n?0:1))%o],e.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,d=l}e.capBezierPoints&&WZ(t,s)}function Wb(){return typeof window<"u"&&typeof document<"u"}function Ub(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function $f(t,e,s){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*e.parentNode[s])):n=t,n}const Mp=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function VZ(t,e){return Mp(t).getPropertyValue(e)}const YZ=["top","right","bottom","left"];function Zo(t,e,s){const n={};s=s?"-"+s:"";for(let a=0;a<4;a++){const i=YZ[a];n[i]=parseFloat(t[e+"-"+i+s])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const GZ=(t,e,s)=>(t>0||e>0)&&(!s||!s.shadowRoot);function KZ(t,e){const s=t.touches,n=s&&s.length?s[0]:t,{offsetX:a,offsetY:i}=n;let o=!1,l,c;if(GZ(a,i,t.target))l=a,c=i;else{const d=e.getBoundingClientRect();l=n.clientX-d.left,c=n.clientY-d.top,o=!0}return{x:l,y:c,box:o}}function Fo(t,e){if("native"in t)return t;const{canvas:s,currentDevicePixelRatio:n}=e,a=Mp(s),i=a.boxSizing==="border-box",o=Zo(a,"padding"),l=Zo(a,"border","width"),{x:c,y:d,box:u}=KZ(t,s),h=o.left+(u&&l.left),f=o.top+(u&&l.top);let{width:m,height:g}=e;return i&&(m-=o.width+l.width,g-=o.height+l.height),{x:Math.round((c-h)/m*s.width/n),y:Math.round((d-f)/g*s.height/n)}}function XZ(t,e,s){let n,a;if(e===void 0||s===void 0){const i=t&&Ub(t);if(!i)e=t.clientWidth,s=t.clientHeight;else{const o=i.getBoundingClientRect(),l=Mp(i),c=Zo(l,"border","width"),d=Zo(l,"padding");e=o.width-d.width-c.width,s=o.height-d.height-c.height,n=$f(l.maxWidth,i,"clientWidth"),a=$f(l.maxHeight,i,"clientHeight")}}return{width:e,height:s,maxWidth:n||Ff,maxHeight:a||Ff}}const Mm=t=>Math.round(t*10)/10;function QZ(t,e,s,n){const a=Mp(t),i=Zo(a,"margin"),o=$f(a.maxWidth,t,"clientWidth")||Ff,l=$f(a.maxHeight,t,"clientHeight")||Ff,c=XZ(t,e,s);let{width:d,height:u}=c;if(a.boxSizing==="content-box"){const f=Zo(a,"border","width"),m=Zo(a,"padding");d-=m.width+f.width,u-=m.height+f.height}return d=Math.max(0,d-i.width),u=Math.max(0,n?d/n:u-i.height),d=Mm(Math.min(d,o,c.maxWidth)),u=Mm(Math.min(u,l,c.maxHeight)),d&&!u&&(u=Mm(d/2)),(e!==void 0||s!==void 0)&&n&&c.height&&u>c.height&&(u=c.height,d=Mm(Math.floor(u*n))),{width:d,height:u}}function Vw(t,e,s){const n=e||1,a=Math.floor(t.height*n),i=Math.floor(t.width*n);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(s||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||o.height!==a||o.width!==i?(t.currentDevicePixelRatio=n,o.height=a,o.width=i,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}const JZ=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Wb()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function Yw(t,e){const s=VZ(t,e),n=s&&s.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function Oo(t,e,s,n){return{x:t.x+s*(e.x-t.x),y:t.y+s*(e.y-t.y)}}function ZZ(t,e,s,n){return{x:t.x+s*(e.x-t.x),y:n==="middle"?s<.5?t.y:e.y:n==="after"?s<1?t.y:e.y:s>0?e.y:t.y}}function eee(t,e,s,n){const a={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},o=Oo(t,a,s),l=Oo(a,i,s),c=Oo(i,e,s),d=Oo(o,l,s),u=Oo(l,c,s);return Oo(d,u,s)}const tee=function(t,e){return{x(s){return t+t+e-s},setWidth(s){e=s},textAlign(s){return s==="center"?s:s==="right"?"left":"right"},xPlus(s,n){return s-n},leftForLtr(s,n){return s-n}}},see=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function xc(t,e,s){return t?tee(e,s):see()}function e_(t,e){let s,n;(e==="ltr"||e==="rtl")&&(s=t.canvas.style,n=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",e,"important"),t.prevTextDirection=n)}function t_(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function s_(t){return t==="angle"?{between:Bu,compare:nZ,normalize:Pa}:{between:gi,compare:(e,s)=>e-s,normalize:e=>e}}function Gw({start:t,end:e,count:s,loop:n,style:a}){return{start:t%s,end:e%s,loop:n&&(e-t+1)%s===0,style:a}}function ree(t,e,s){const{property:n,start:a,end:i}=s,{between:o,normalize:l}=s_(n),c=e.length;let{start:d,end:u,loop:h}=t,f,m;if(h){for(d+=c,u+=c,f=0,m=c;f<m&&o(l(e[d%c][n]),a,i);++f)d--,u--;d%=c,u%=c}return u<d&&(u+=c),{start:d,end:u,loop:h,style:t.style}}function r_(t,e,s){if(!s)return[t];const{property:n,start:a,end:i}=s,o=e.length,{compare:l,between:c,normalize:d}=s_(n),{start:u,end:h,loop:f,style:m}=ree(t,e,s),g=[];let x=!1,j=null,y,b,k;const A=()=>c(a,k,y)&&l(a,k)!==0,E=()=>l(i,y)===0||c(i,k,y),I=()=>x||A(),_=()=>!x||E();for(let v=u,P=u;v<=h;++v)b=e[v%o],!b.skip&&(y=d(b[n]),y!==k&&(x=c(y,a,i),j===null&&I()&&(j=l(y,a)===0?v:P),j!==null&&_()&&(g.push(Gw({start:j,end:v,loop:f,count:o,style:m})),j=null),P=v,k=y));return j!==null&&g.push(Gw({start:j,end:h,loop:f,count:o,style:m})),g}function n_(t,e){const s=[],n=t.segments;for(let a=0;a<n.length;a++){const i=r_(n[a],t.points,e);i.length&&s.push(...i)}return s}function nee(t,e,s,n){let a=0,i=e-1;if(s&&!n)for(;a<e&&!t[a].skip;)a++;for(;a<e&&t[a].skip;)a++;for(a%=e,s&&(i+=a);i>a&&t[i%e].skip;)i--;return i%=e,{start:a,end:i}}function aee(t,e,s,n){const a=t.length,i=[];let o=e,l=t[e],c;for(c=e+1;c<=s;++c){const d=t[c%a];d.skip||d.stop?l.skip||(n=!1,i.push({start:e%a,end:(c-1)%a,loop:n}),e=o=d.stop?c:null):(o=c,l.skip&&(e=c)),l=d}return o!==null&&i.push({start:e%a,end:o%a,loop:n}),i}function iee(t,e){const s=t.points,n=t.options.spanGaps,a=s.length;if(!a)return[];const i=!!t._loop,{start:o,end:l}=nee(s,a,i,n);if(n===!0)return Kw(t,[{start:o,end:l,loop:i}],s,e);const c=l<o?l+a:l,d=!!t._fullLoop&&o===0&&l===a-1;return Kw(t,aee(s,o,c,d),s,e)}function Kw(t,e,s,n){return!n||!n.setContext||!s?e:oee(t,e,s,n)}function oee(t,e,s,n){const a=t._chart.getContext(),i=Xw(t.options),{_datasetIndex:o,options:{spanGaps:l}}=t,c=s.length,d=[];let u=i,h=e[0].start,f=h;function m(g,x,j,y){const b=l?-1:1;if(g!==x){for(g+=c;s[g%c].skip;)g-=b;for(;s[x%c].skip;)x+=b;g%c!==x%c&&(d.push({start:g%c,end:x%c,loop:j,style:y}),u=y,h=x%c)}}for(const g of e){h=l?h:g.start;let x=s[h%c],j;for(f=h+1;f<=g.end;f++){const y=s[f%c];j=Xw(n.setContext(xl(a,{type:"segment",p0:x,p1:y,p0DataIndex:(f-1)%c,p1DataIndex:f%c,datasetIndex:o}))),lee(j,u)&&m(h,f-1,g.loop,u),x=y,u=j}h<f-1&&m(h,f-1,g.loop,u)}return d}function Xw(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function lee(t,e){if(!e)return!1;const s=[],n=function(a,i){return Rb(i)?(s.includes(i)||s.push(i),s.indexOf(i)):i};return JSON.stringify(t,n)!==JSON.stringify(e,n)}function Tm(t,e,s){return t.options.clip?t[s]:e[s]}function cee(t,e){const{xScale:s,yScale:n}=t;return s&&n?{left:Tm(s,e,"left"),right:Tm(s,e,"right"),top:Tm(n,e,"top"),bottom:Tm(n,e,"bottom")}:e}function a_(t,e){const s=e._clip;if(s.disabled)return!1;const n=cee(e,t.chartArea);return{left:s.left===!1?0:n.left-(s.left===!0?0:s.left),right:s.right===!1?t.width:n.right+(s.right===!0?0:s.right),top:s.top===!1?0:n.top-(s.top===!0?0:s.top),bottom:s.bottom===!1?t.height:n.bottom+(s.bottom===!0?0:s.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class dee{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,s,n,a){const i=s.listeners[a],o=s.duration;i.forEach(l=>l({chart:e,initial:s.initial,numSteps:o,currentStep:Math.min(n-s.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Hk.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let s=0;this._charts.forEach((n,a)=>{if(!n.running||!n.items.length)return;const i=n.items;let o=i.length-1,l=!1,c;for(;o>=0;--o)c=i[o],c._active?(c._total>n.duration&&(n.duration=c._total),c.tick(e),l=!0):(i[o]=i[i.length-1],i.pop());l&&(a.draw(),this._notify(a,n,e,"progress")),i.length||(n.running=!1,this._notify(a,n,e,"complete"),n.initial=!1),s+=i.length}),this._lastDate=e,s===0&&(this._running=!1)}_getAnims(e){const s=this._charts;let n=s.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},s.set(e,n)),n}listen(e,s,n){this._getAnims(e).listeners[s].push(n)}add(e,s){!s||!s.length||this._getAnims(e).items.push(...s)}has(e){return this._getAnims(e).items.length>0}start(e){const s=this._charts.get(e);s&&(s.running=!0,s.start=Date.now(),s.duration=s.items.reduce((n,a)=>Math.max(n,a._duration),0),this._refresh())}running(e){if(!this._running)return!1;const s=this._charts.get(e);return!(!s||!s.running||!s.items.length)}stop(e){const s=this._charts.get(e);if(!s||!s.items.length)return;const n=s.items;let a=n.length-1;for(;a>=0;--a)n[a].cancel();s.items=[],this._notify(e,s,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var hi=new dee;const Qw="transparent",uee={boolean(t,e,s){return s>.5?e:t},color(t,e,s){const n=zw(t||Qw),a=n.valid&&zw(e||Qw);return a&&a.valid?a.mix(n,s).hexString():e},number(t,e,s){return t+(e-t)*s}};class hee{constructor(e,s,n,a){const i=s[n];a=Lm([e.to,a,i,e.from]);const o=Lm([e.from,i,a]);this._active=!0,this._fn=e.fn||uee[e.type||typeof o],this._easing=fu[e.easing]||fu.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=s,this._prop=n,this._from=o,this._to=a,this._promises=void 0}active(){return this._active}update(e,s,n){if(this._active){this._notify(!1);const a=this._target[this._prop],i=n-this._start,o=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=Lm([e.to,s,a,e.from]),this._from=Lm([e.from,a,s])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const s=e-this._start,n=this._duration,a=this._prop,i=this._from,o=this._loop,l=this._to;let c;if(this._active=i!==l&&(o||s<n),!this._active){this._target[a]=l,this._notify(!0);return}if(s<0){this._target[a]=i;return}c=s/n%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[a]=this._fn(i,l,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((s,n)=>{e.push({res:s,rej:n})})}_notify(e){const s=e?"res":"rej",n=this._promises||[];for(let a=0;a<n.length;a++)n[a][s]()}}class i_{constructor(e,s){this._chart=e,this._properties=new Map,this.configure(s)}configure(e){if(!kt(e))return;const s=Object.keys(Ps.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(a=>{const i=e[a];if(!kt(i))return;const o={};for(const l of s)o[l]=i[l];(Os(i.properties)&&i.properties||[a]).forEach(l=>{(l===a||!n.has(l))&&n.set(l,o)})})}_animateOptions(e,s){const n=s.options,a=fee(e,n);if(!a)return[];const i=this._createAnimations(a,n);return n.$shared&&mee(e.options.$animations,n).then(()=>{e.options=n},()=>{}),i}_createAnimations(e,s){const n=this._properties,a=[],i=e.$animations||(e.$animations={}),o=Object.keys(s),l=Date.now();let c;for(c=o.length-1;c>=0;--c){const d=o[c];if(d.charAt(0)==="$")continue;if(d==="options"){a.push(...this._animateOptions(e,s));continue}const u=s[d];let h=i[d];const f=n.get(d);if(h)if(f&&h.active()){h.update(f,u,l);continue}else h.cancel();if(!f||!f.duration){e[d]=u;continue}i[d]=h=new hee(f,e,d,u),a.push(h)}return a}update(e,s){if(this._properties.size===0){Object.assign(e,s);return}const n=this._createAnimations(e,s);if(n.length)return hi.add(this._chart,n),!0}}function mee(t,e){const s=[],n=Object.keys(e);for(let a=0;a<n.length;a++){const i=t[n[a]];i&&i.active()&&s.push(i.wait())}return Promise.all(s)}function fee(t,e){if(!e)return;let s=t.options;if(!s){t.options=e;return}return s.$shared&&(t.options=s=Object.assign({},s,{$shared:!1,$animations:{}})),s}function Jw(t,e){const s=t&&t.options||{},n=s.reverse,a=s.min===void 0?e:0,i=s.max===void 0?e:0;return{start:n?i:a,end:n?a:i}}function pee(t,e,s){if(s===!1)return!1;const n=Jw(t,s),a=Jw(e,s);return{top:a.end,right:n.end,bottom:a.start,left:n.start}}function xee(t){let e,s,n,a;return kt(t)?(e=t.top,s=t.right,n=t.bottom,a=t.left):e=s=n=a=t,{top:e,right:s,bottom:n,left:a,disabled:t===!1}}function o_(t,e){const s=[],n=t._getSortedDatasetMetas(e);let a,i;for(a=0,i=n.length;a<i;++a)s.push(n[a].index);return s}function Zw(t,e,s,n={}){const a=t.keys,i=n.mode==="single";let o,l,c,d;if(e===null)return;let u=!1;for(o=0,l=a.length;o<l;++o){if(c=+a[o],c===s){if(u=!0,n.all)continue;break}d=t.values[c],Sr(d)&&(i||e===0||qa(e)===qa(d))&&(e+=d)}return!u&&!n.all?0:e}function gee(t,e){const{iScale:s,vScale:n}=e,a=s.axis==="x"?"x":"y",i=n.axis==="x"?"x":"y",o=Object.keys(t),l=new Array(o.length);let c,d,u;for(c=0,d=o.length;c<d;++c)u=o[c],l[c]={[a]:u,[i]:t[u]};return l}function S0(t,e){const s=t&&t.options.stacked;return s||s===void 0&&e.stack!==void 0}function yee(t,e,s){return`${t.id}.${e.id}.${s.stack||s.type}`}function bee(t){const{min:e,max:s,minDefined:n,maxDefined:a}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:a?s:Number.POSITIVE_INFINITY}}function vee(t,e,s){const n=t[e]||(t[e]={});return n[s]||(n[s]={})}function ej(t,e,s,n){for(const a of e.getMatchingVisibleMetas(n).reverse()){const i=t[a.index];if(s&&i>0||!s&&i<0)return a.index}return null}function tj(t,e){const{chart:s,_cachedMeta:n}=t,a=s._stacks||(s._stacks={}),{iScale:i,vScale:o,index:l}=n,c=i.axis,d=o.axis,u=yee(i,o,n),h=e.length;let f;for(let m=0;m<h;++m){const g=e[m],{[c]:x,[d]:j}=g,y=g._stacks||(g._stacks={});f=y[d]=vee(a,u,x),f[l]=j,f._top=ej(f,o,!0,n.type),f._bottom=ej(f,o,!1,n.type);const b=f._visualValues||(f._visualValues={});b[l]=j}}function A0(t,e){const s=t.scales;return Object.keys(s).filter(n=>s[n].axis===e).shift()}function wee(t,e){return xl(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function jee(t,e,s){return xl(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:s,index:e,mode:"default",type:"data"})}function Fd(t,e){const s=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(const a of e){const i=a._stacks;if(!i||i[n]===void 0||i[n][s]===void 0)return;delete i[n][s],i[n]._visualValues!==void 0&&i[n]._visualValues[s]!==void 0&&delete i[n]._visualValues[s]}}}const C0=t=>t==="reset"||t==="none",sj=(t,e)=>e?t:Object.assign({},t),Nee=(t,e,s)=>t&&!e.hidden&&e._stacked&&{keys:o_(s,!0),values:null};class Vb{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,s){this.chart=e,this._ctx=e.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=S0(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Fd(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,s=this._cachedMeta,n=this.getDataset(),a=(h,f,m,g)=>h==="x"?f:h==="r"?g:m,i=s.xAxisID=vt(n.xAxisID,A0(e,"x")),o=s.yAxisID=vt(n.yAxisID,A0(e,"y")),l=s.rAxisID=vt(n.rAxisID,A0(e,"r")),c=s.indexAxis,d=s.iAxisID=a(c,i,o,l),u=s.vAxisID=a(c,o,i,l);s.xScale=this.getScaleForId(i),s.yScale=this.getScaleForId(o),s.rScale=this.getScaleForId(l),s.iScale=this.getScaleForId(d),s.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const s=this._cachedMeta;return e===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Ow(this._data,this),e._stacked&&Fd(e)}_dataCheck(){const e=this.getDataset(),s=e.data||(e.data=[]),n=this._data;if(kt(s)){const a=this._cachedMeta;this._data=gee(s,a)}else if(n!==s){if(n){Ow(n,this);const a=this._cachedMeta;Fd(a),a._parsed=[]}s&&Object.isExtensible(s)&&lZ(s,this),this._syncList=[],this._data=s}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const s=this._cachedMeta,n=this.getDataset();let a=!1;this._dataCheck();const i=s._stacked;s._stacked=S0(s.vScale,s),s.stack!==n.stack&&(a=!0,Fd(s),s.stack=n.stack),this._resyncElements(e),(a||i!==s._stacked)&&(tj(this,s._parsed),s._stacked=S0(s.vScale,s))}configure(){const e=this.chart.config,s=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),s,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,s){const{_cachedMeta:n,_data:a}=this,{iScale:i,_stacked:o}=n,l=i.axis;let c=e===0&&s===a.length?!0:n._sorted,d=e>0&&n._parsed[e-1],u,h,f;if(this._parsing===!1)n._parsed=a,n._sorted=!0,f=a;else{Os(a[e])?f=this.parseArrayData(n,a,e,s):kt(a[e])?f=this.parseObjectData(n,a,e,s):f=this.parsePrimitiveData(n,a,e,s);const m=()=>h[l]===null||d&&h[l]<d[l];for(u=0;u<s;++u)n._parsed[u+e]=h=f[u],c&&(m()&&(c=!1),d=h);n._sorted=c}o&&tj(this,f)}parsePrimitiveData(e,s,n,a){const{iScale:i,vScale:o}=e,l=i.axis,c=o.axis,d=i.getLabels(),u=i===o,h=new Array(a);let f,m,g;for(f=0,m=a;f<m;++f)g=f+n,h[f]={[l]:u||i.parse(d[g],g),[c]:o.parse(s[g],g)};return h}parseArrayData(e,s,n,a){const{xScale:i,yScale:o}=e,l=new Array(a);let c,d,u,h;for(c=0,d=a;c<d;++c)u=c+n,h=s[u],l[c]={x:i.parse(h[0],u),y:o.parse(h[1],u)};return l}parseObjectData(e,s,n,a){const{xScale:i,yScale:o}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=new Array(a);let u,h,f,m;for(u=0,h=a;u<h;++u)f=u+n,m=s[f],d[u]={x:i.parse(ll(m,l),f),y:o.parse(ll(m,c),f)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,s,n){const a=this.chart,i=this._cachedMeta,o=s[e.axis],l={keys:o_(a,!0),values:s._stacks[e.axis]._visualValues};return Zw(l,o,i.index,{mode:n})}updateRangeFromParsed(e,s,n,a){const i=n[s.axis];let o=i===null?NaN:i;const l=a&&n._stacks[s.axis];a&&l&&(a.values=l,o=Zw(a,i,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,s){const n=this._cachedMeta,a=n._parsed,i=n._sorted&&e===n.iScale,o=a.length,l=this._getOtherScale(e),c=Nee(s,n,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=bee(l);let f,m;function g(){m=a[f];const x=m[l.axis];return!Sr(m[e.axis])||u>x||h<x}for(f=0;f<o&&!(!g()&&(this.updateRangeFromParsed(d,e,m,c),i));++f);if(i){for(f=o-1;f>=0;--f)if(!g()){this.updateRangeFromParsed(d,e,m,c);break}}return d}getAllParsedValues(e){const s=this._cachedMeta._parsed,n=[];let a,i,o;for(a=0,i=s.length;a<i;++a)o=s[a][e.axis],Sr(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const s=this._cachedMeta,n=s.iScale,a=s.vScale,i=this.getParsed(e);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:a?""+a.getLabelForValue(i[a.axis]):""}}_update(e){const s=this._cachedMeta;this.update(e||"default"),s._clip=xee(vt(this.options.clip,pee(s.xScale,s.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,s=this.chart,n=this._cachedMeta,a=n.data||[],i=s.chartArea,o=[],l=this._drawStart||0,c=this._drawCount||a.length-l,d=this.options.drawActiveElementsOnTop;let u;for(n.dataset&&n.dataset.draw(e,i,l,c),u=l;u<l+c;++u){const h=a[u];h.hidden||(h.active&&d?o.push(h):h.draw(e,i))}for(u=0;u<o.length;++u)o[u].draw(e,i)}getStyle(e,s){const n=s?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,s,n){const a=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];i=o.$context||(o.$context=jee(this.getContext(),e,o)),i.parsed=this.getParsed(e),i.raw=a.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=wee(this.chart.getContext(),this.index)),i.dataset=a,i.index=i.datasetIndex=this.index;return i.active=!!s,i.mode=n,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,s){return this._resolveElementOptions(this.dataElementType.id,s,e)}_resolveElementOptions(e,s="default",n){const a=s==="active",i=this._cachedDataOpts,o=e+"-"+s,l=i[o],c=this.enableOptionSharing&&zu(n);if(l)return sj(l,c);const d=this.chart.config,u=d.datasetElementScopeKeys(this._type,e),h=a?[`${e}Hover`,"hover",e,""]:[e,""],f=d.getOptionScopes(this.getDataset(),u),m=Object.keys(Ps.elements[e]),g=()=>this.getContext(n,a,s),x=d.resolveNamedOptions(f,m,g,h);return x.$shared&&(x.$shared=c,i[o]=Object.freeze(sj(x,c))),x}_resolveAnimations(e,s,n){const a=this.chart,i=this._cachedDataOpts,o=`animation-${s}`,l=i[o];if(l)return l;let c;if(a.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,s),f=u.getOptionScopes(this.getDataset(),h);c=u.createResolver(f,this.getContext(e,n,s))}const d=new i_(a,c&&c.animations);return c&&c._cacheable&&(i[o]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,s){return!s||C0(e)||this.chart._animationsDisabled}_getSharedOptions(e,s){const n=this.resolveDataElementOptions(e,s),a=this._sharedOptions,i=this.getSharedOptions(n),o=this.includeOptions(s,i)||i!==a;return this.updateSharedOptions(i,s,n),{sharedOptions:i,includeOptions:o}}updateElement(e,s,n,a){C0(a)?Object.assign(e,n):this._resolveAnimations(s,a).update(e,n)}updateSharedOptions(e,s,n){e&&!C0(s)&&this._resolveAnimations(void 0,s).update(e,n)}_setStyle(e,s,n,a){e.active=a;const i=this.getStyle(s,a);this._resolveAnimations(s,n,a).update(e,{options:!a&&this.getSharedOptions(i)||i})}removeHoverStyle(e,s,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,s,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const s=this._data,n=this._cachedMeta.data;for(const[l,c,d]of this._syncList)this[l](c,d);this._syncList=[];const a=n.length,i=s.length,o=Math.min(i,a);o&&this.parse(0,o),i>a?this._insertElements(a,i-a,e):i<a&&this._removeElements(i,a-i)}_insertElements(e,s,n=!0){const a=this._cachedMeta,i=a.data,o=e+s;let l;const c=d=>{for(d.length+=s,l=d.length-1;l>=o;l--)d[l]=d[l-s]};for(c(i),l=e;l<o;++l)i[l]=new this.dataElementType;this._parsing&&c(a._parsed),this.parse(e,s),n&&this.updateElements(i,e,s,"reset")}updateElements(e,s,n,a){}_removeElements(e,s){const n=this._cachedMeta;if(this._parsing){const a=n._parsed.splice(e,s);n._stacked&&Fd(n,a)}n.data.splice(e,s)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[s,n,a]=e;this[s](n,a)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,s){s&&this._sync(["_removeElements",e,s]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function kee(t,e){if(!t._cache.$bar){const s=t.getMatchingVisibleMetas(e);let n=[];for(let a=0,i=s.length;a<i;a++)n=n.concat(s[a].controller.getAllParsedValues(t));t._cache.$bar=qk(n.sort((a,i)=>a-i))}return t._cache.$bar}function _ee(t){const e=t.iScale,s=kee(e,t.type);let n=e._length,a,i,o,l;const c=()=>{o===32767||o===-32768||(zu(l)&&(n=Math.min(n,Math.abs(o-l)||n)),l=o)};for(a=0,i=s.length;a<i;++a)o=e.getPixelForValue(s[a]),c();for(l=void 0,a=0,i=e.ticks.length;a<i;++a)o=e.getPixelForTick(a),c();return n}function See(t,e,s,n){const a=s.barThickness;let i,o;return Yt(a)?(i=e.min*s.categoryPercentage,o=s.barPercentage):(i=a*n,o=1),{chunk:i/n,ratio:o,start:e.pixels[t]-i/2}}function Aee(t,e,s,n){const a=e.pixels,i=a[t];let o=t>0?a[t-1]:null,l=t<a.length-1?a[t+1]:null;const c=s.categoryPercentage;o===null&&(o=i-(l===null?e.end-e.start:l-i)),l===null&&(l=i+i-o);const d=i-(i-Math.min(o,l))/2*c;return{chunk:Math.abs(l-o)/2*c/n,ratio:s.barPercentage,start:d}}function Cee(t,e,s,n){const a=s.parse(t[0],n),i=s.parse(t[1],n),o=Math.min(a,i),l=Math.max(a,i);let c=o,d=l;Math.abs(o)>Math.abs(l)&&(c=l,d=o),e[s.axis]=d,e._custom={barStart:c,barEnd:d,start:a,end:i,min:o,max:l}}function l_(t,e,s,n){return Os(t)?Cee(t,e,s,n):e[s.axis]=s.parse(t,n),e}function rj(t,e,s,n){const a=t.iScale,i=t.vScale,o=a.getLabels(),l=a===i,c=[];let d,u,h,f;for(d=s,u=s+n;d<u;++d)f=e[d],h={},h[a.axis]=l||a.parse(o[d],d),c.push(l_(f,h,i,d));return c}function P0(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function Pee(t,e,s){return t!==0?qa(t):(e.isHorizontal()?1:-1)*(e.min>=s?1:-1)}function Eee(t){let e,s,n,a,i;return t.horizontal?(e=t.base>t.x,s="left",n="right"):(e=t.base<t.y,s="bottom",n="top"),e?(a="end",i="start"):(a="start",i="end"),{start:s,end:n,reverse:e,top:a,bottom:i}}function Dee(t,e,s,n){let a=e.borderSkipped;const i={};if(!a){t.borderSkipped=i;return}if(a===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:l,reverse:c,top:d,bottom:u}=Eee(t);a==="middle"&&s&&(t.enableBorderRadius=!0,(s._top||0)===n?a=d:(s._bottom||0)===n?a=u:(i[nj(u,o,l,c)]=!0,a=d)),i[nj(a,o,l,c)]=!0,t.borderSkipped=i}function nj(t,e,s,n){return n?(t=Lee(t,e,s),t=aj(t,s,e)):t=aj(t,e,s),t}function Lee(t,e,s){return t===e?s:t===s?e:t}function aj(t,e,s){return t==="start"?e:t==="end"?s:t}function Iee(t,{inflateAmount:e},s){t.inflateAmount=e==="auto"?s===1?.33:0:e}class Mee extends Vb{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,s,n,a){return rj(e,s,n,a)}parseArrayData(e,s,n,a){return rj(e,s,n,a)}parseObjectData(e,s,n,a){const{iScale:i,vScale:o}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=i.axis==="x"?l:c,u=o.axis==="x"?l:c,h=[];let f,m,g,x;for(f=n,m=n+a;f<m;++f)x=s[f],g={},g[i.axis]=i.parse(ll(x,d),f),h.push(l_(ll(x,u),g,o,f));return h}updateRangeFromParsed(e,s,n,a){super.updateRangeFromParsed(e,s,n,a);const i=n._custom;i&&s===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const s=this._cachedMeta,{iScale:n,vScale:a}=s,i=this.getParsed(e),o=i._custom,l=P0(o)?"["+o.start+", "+o.end+"]":""+a.getLabelForValue(i[a.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const s=this._cachedMeta;this.updateElements(s.data,0,s.data.length,e)}updateElements(e,s,n,a){const i=a==="reset",{index:o,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),d=l.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(s,a);for(let m=s;m<s+n;m++){const g=this.getParsed(m),x=i||Yt(g[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(m),j=this._calculateBarIndexPixels(m,u),y=(g._stacks||{})[l.axis],b={horizontal:d,base:x.base,enableBorderRadius:!y||P0(g._custom)||o===y._top||o===y._bottom,x:d?x.head:j.center,y:d?j.center:x.head,height:d?j.size:Math.abs(x.size),width:d?Math.abs(x.size):j.size};f&&(b.options=h||this.resolveDataElementOptions(m,e[m].active?"active":a));const k=b.options||e[m].options;Dee(b,k,y,o),Iee(b,k,u.ratio),this.updateElement(e[m],m,b,a)}}_getStacks(e,s){const{iScale:n}=this._cachedMeta,a=n.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),i=n.options.stacked,o=[],l=this._cachedMeta.controller.getParsed(s),c=l&&l[n.axis],d=u=>{const h=u._parsed.find(m=>m[n.axis]===c),f=h&&h[u.vScale.axis];if(Yt(f)||isNaN(f))return!0};for(const u of a)if(!(s!==void 0&&d(u))&&((i===!1||o.indexOf(u.stack)===-1||i===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,s,n){const a=this._getStacks(e,n),i=s!==void 0?a.indexOf(s):-1;return i===-1?a.length-1:i}_getRuler(){const e=this.options,s=this._cachedMeta,n=s.iScale,a=[];let i,o;for(i=0,o=s.data.length;i<o;++i)a.push(n.getPixelForValue(this.getParsed(i)[n.axis],i));const l=e.barThickness;return{min:l||_ee(s),pixels:a,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:s,_stacked:n,index:a},options:{base:i,minBarLength:o}}=this,l=i||0,c=this.getParsed(e),d=c._custom,u=P0(d);let h=c[s.axis],f=0,m=n?this.applyStack(s,c,n):h,g,x;m!==h&&(f=m-h,m=h),u&&(h=d.barStart,m=d.barEnd-d.barStart,h!==0&&qa(h)!==qa(d.barEnd)&&(f=0),f+=h);const j=!Yt(i)&&!u?i:f;let y=s.getPixelForValue(j);if(this.chart.getDataVisibility(e)?g=s.getPixelForValue(f+m):g=y,x=g-y,Math.abs(x)<o){x=Pee(x,s,l)*o,h===l&&(y-=x/2);const b=s.getPixelForDecimal(0),k=s.getPixelForDecimal(1),A=Math.min(b,k),E=Math.max(b,k);y=Math.max(Math.min(y,E),A),g=y+x,n&&!u&&(c._stacks[s.axis]._visualValues[a]=s.getValueForPixel(g)-s.getValueForPixel(y))}if(y===s.getPixelForValue(l)){const b=qa(x)*s.getLineWidthForValue(l)/2;y+=b,x-=b}return{size:x,base:y,head:g,center:g+x/2}}_calculateBarIndexPixels(e,s){const n=s.scale,a=this.options,i=a.skipNull,o=vt(a.maxBarThickness,1/0);let l,c;if(s.grouped){const d=i?this._getStackCount(e):s.stackCount,u=a.barThickness==="flex"?Aee(e,s,a,d):See(e,s,a,d),h=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0);l=u.start+u.chunk*h+u.chunk/2,c=Math.min(o,u.chunk*u.ratio)}else l=n.getPixelForValue(this.getParsed(e)[n.axis],e),c=Math.min(o,s.min*s.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const e=this._cachedMeta,s=e.vScale,n=e.data,a=n.length;let i=0;for(;i<a;++i)this.getParsed(i)[s.axis]!==null&&!n[i].hidden&&n[i].draw(this._ctx)}}function Tee(t,e,s){let n=1,a=1,i=0,o=0;if(e<ds){const l=t,c=l+e,d=Math.cos(l),u=Math.sin(l),h=Math.cos(c),f=Math.sin(c),m=(k,A,E)=>Bu(k,l,c,!0)?1:Math.max(A,A*s,E,E*s),g=(k,A,E)=>Bu(k,l,c,!0)?-1:Math.min(A,A*s,E,E*s),x=m(0,d,h),j=m(Vs,u,f),y=g(bs,d,h),b=g(bs+Vs,u,f);n=(x-y)/2,a=(j-b)/2,i=-(x+y)/2,o=-(j+b)/2}return{ratioX:n,ratioY:a,offsetX:i,offsetY:o}}class Fee extends Vb{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const s=e.data;if(s.labels.length&&s.datasets.length){const{labels:{pointStyle:n,color:a}}=e.legend.options;return s.labels.map((i,o)=>{const c=e.getDatasetMeta(0).controller.getStyle(o);return{text:i,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:a,lineWidth:c.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,s,n){n.chart.toggleDataVisibility(s.index),n.chart.update()}}}};constructor(e,s){super(e,s),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,s){const n=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=n;else{let i=c=>+n[c];if(kt(n[e])){const{key:c="value"}=this._parsing;i=d=>+ll(n[d],c)}let o,l;for(o=e,l=e+s;o<l;++o)a._parsed[o]=i(o)}}_getRotation(){return xi(this.options.rotation-90)}_getCircumference(){return xi(this.options.circumference)}_getRotationExtents(){let e=ds,s=-ds;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const a=this.chart.getDatasetMeta(n).controller,i=a._getRotation(),o=a._getCircumference();e=Math.min(e,i),s=Math.max(s,i+o)}return{rotation:e,circumference:s-e}}update(e){const s=this.chart,{chartArea:n}=s,a=this._cachedMeta,i=a.data,o=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,l=Math.max((Math.min(n.width,n.height)-o)/2,0),c=Math.min(UJ(this.options.cutout,l),1),d=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:m,offsetX:g,offsetY:x}=Tee(h,u,c),j=(n.width-o)/f,y=(n.height-o)/m,b=Math.max(Math.min(j,y)/2,0),k=Rk(this.options.radius,b),A=Math.max(k*c,0),E=(k-A)/this._getVisibleDatasetWeightTotal();this.offsetX=g*k,this.offsetY=x*k,a.total=this.calculateTotal(),this.outerRadius=k-E*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-E*d,0),this.updateElements(i,0,i.length,e)}_circumference(e,s){const n=this.options,a=this._cachedMeta,i=this._getCircumference();return s&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||a._parsed[e]===null||a.data[e].hidden?0:this.calculateCircumference(a._parsed[e]*i/ds)}updateElements(e,s,n,a){const i=a==="reset",o=this.chart,l=o.chartArea,d=o.options.animation,u=(l.left+l.right)/2,h=(l.top+l.bottom)/2,f=i&&d.animateScale,m=f?0:this.innerRadius,g=f?0:this.outerRadius,{sharedOptions:x,includeOptions:j}=this._getSharedOptions(s,a);let y=this._getRotation(),b;for(b=0;b<s;++b)y+=this._circumference(b,i);for(b=s;b<s+n;++b){const k=this._circumference(b,i),A=e[b],E={x:u+this.offsetX,y:h+this.offsetY,startAngle:y,endAngle:y+k,circumference:k,outerRadius:g,innerRadius:m};j&&(E.options=x||this.resolveDataElementOptions(b,A.active?"active":a)),y+=k,this.updateElement(A,b,E,a)}}calculateTotal(){const e=this._cachedMeta,s=e.data;let n=0,a;for(a=0;a<s.length;a++){const i=e._parsed[a];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(a)&&!s[a].hidden&&(n+=Math.abs(i))}return n}calculateCircumference(e){const s=this._cachedMeta.total;return s>0&&!isNaN(e)?ds*(Math.abs(e)/s):0}getLabelAndValue(e){const s=this._cachedMeta,n=this.chart,a=n.data.labels||[],i=$b(s._parsed[e],n.options.locale);return{label:a[e]||"",value:i}}getMaxBorderWidth(e){let s=0;const n=this.chart;let a,i,o,l,c;if(!e){for(a=0,i=n.data.datasets.length;a<i;++a)if(n.isDatasetVisible(a)){o=n.getDatasetMeta(a),e=o.data,l=o.controller;break}}if(!e)return 0;for(a=0,i=e.length;a<i;++a)c=l.resolveDataElementOptions(a),c.borderAlign!=="inner"&&(s=Math.max(s,c.borderWidth||0,c.hoverBorderWidth||0));return s}getMaxOffset(e){let s=0;for(let n=0,a=e.length;n<a;++n){const i=this.resolveDataElementOptions(n);s=Math.max(s,i.offset||0,i.hoverOffset||0)}return s}_getRingWeightOffset(e){let s=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(s+=this._getRingWeight(n));return s}_getRingWeight(e){return Math.max(vt(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class Oee extends Fee{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}function Lo(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Yb{static override(e){Object.assign(Yb.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Lo()}parse(){return Lo()}format(){return Lo()}add(){return Lo()}diff(){return Lo()}startOf(){return Lo()}endOf(){return Lo()}}var Ree={_date:Yb};function $ee(t,e,s,n){const{controller:a,data:i,_sorted:o}=t,l=a._cachedMeta.iScale,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&o&&i.length){const d=l._reversePixels?iZ:zg;if(n){if(a._sharedOptions){const u=i[0],h=typeof u.getRange=="function"&&u.getRange(e);if(h){const f=d(i,e,s-h),m=d(i,e,s+h);return{lo:f.lo,hi:m.hi}}}}else{const u=d(i,e,s);if(c){const{vScale:h}=a._cachedMeta,{_parsed:f}=t,m=f.slice(0,u.lo+1).reverse().findIndex(x=>!Yt(x[h.axis]));u.lo-=Math.max(0,m);const g=f.slice(u.hi).findIndex(x=>!Yt(x[h.axis]));u.hi+=Math.max(0,g)}return u}}return{lo:0,hi:i.length-1}}function ph(t,e,s,n,a){const i=t.getSortedVisibleDatasetMetas(),o=s[e];for(let l=0,c=i.length;l<c;++l){const{index:d,data:u}=i[l],{lo:h,hi:f}=$ee(i[l],e,o,a);for(let m=h;m<=f;++m){const g=u[m];g.skip||n(g,d,m)}}}function zee(t){const e=t.indexOf("x")!==-1,s=t.indexOf("y")!==-1;return function(n,a){const i=e?Math.abs(n.x-a.x):0,o=s?Math.abs(n.y-a.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function E0(t,e,s,n,a){const i=[];return!a&&!t.isPointInArea(e)||ph(t,s,e,function(l,c,d){!a&&!qu(l,t.chartArea,0)||l.inRange(e.x,e.y,n)&&i.push({element:l,datasetIndex:c,index:d})},!0),i}function Bee(t,e,s,n){let a=[];function i(o,l,c){const{startAngle:d,endAngle:u}=o.getProps(["startAngle","endAngle"],n),{angle:h}=zk(o,{x:e.x,y:e.y});Bu(h,d,u)&&a.push({element:o,datasetIndex:l,index:c})}return ph(t,s,e,i),a}function qee(t,e,s,n,a,i){let o=[];const l=zee(s);let c=Number.POSITIVE_INFINITY;function d(u,h,f){const m=u.inRange(e.x,e.y,a);if(n&&!m)return;const g=u.getCenterPoint(a);if(!(!!i||t.isPointInArea(g))&&!m)return;const j=l(e,g);j<c?(o=[{element:u,datasetIndex:h,index:f}],c=j):j===c&&o.push({element:u,datasetIndex:h,index:f})}return ph(t,s,e,d),o}function D0(t,e,s,n,a,i){return!i&&!t.isPointInArea(e)?[]:s==="r"&&!n?Bee(t,e,s,a):qee(t,e,s,n,a,i)}function ij(t,e,s,n,a){const i=[],o=s==="x"?"inXRange":"inYRange";let l=!1;return ph(t,s,e,(c,d,u)=>{c[o]&&c[o](e[s],a)&&(i.push({element:c,datasetIndex:d,index:u}),l=l||c.inRange(e.x,e.y,a))}),n&&!l?[]:i}var Hee={evaluateInteractionItems:ph,modes:{index(t,e,s,n){const a=Fo(e,t),i=s.axis||"x",o=s.includeInvisible||!1,l=s.intersect?E0(t,a,i,n,o):D0(t,a,i,!1,n,o),c=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach(d=>{const u=l[0].index,h=d.data[u];h&&!h.skip&&c.push({element:h,datasetIndex:d.index,index:u})}),c):[]},dataset(t,e,s,n){const a=Fo(e,t),i=s.axis||"xy",o=s.includeInvisible||!1;let l=s.intersect?E0(t,a,i,n,o):D0(t,a,i,!1,n,o);if(l.length>0){const c=l[0].datasetIndex,d=t.getDatasetMeta(c).data;l=[];for(let u=0;u<d.length;++u)l.push({element:d[u],datasetIndex:c,index:u})}return l},point(t,e,s,n){const a=Fo(e,t),i=s.axis||"xy",o=s.includeInvisible||!1;return E0(t,a,i,n,o)},nearest(t,e,s,n){const a=Fo(e,t),i=s.axis||"xy",o=s.includeInvisible||!1;return D0(t,a,i,s.intersect,n,o)},x(t,e,s,n){const a=Fo(e,t);return ij(t,a,"x",s.intersect,n)},y(t,e,s,n){const a=Fo(e,t);return ij(t,a,"y",s.intersect,n)}}};const c_=["left","top","right","bottom"];function Od(t,e){return t.filter(s=>s.pos===e)}function oj(t,e){return t.filter(s=>c_.indexOf(s.pos)===-1&&s.box.axis===e)}function Rd(t,e){return t.sort((s,n)=>{const a=e?n:s,i=e?s:n;return a.weight===i.weight?a.index-i.index:a.weight-i.weight})}function Wee(t){const e=[];let s,n,a,i,o,l;for(s=0,n=(t||[]).length;s<n;++s)a=t[s],{position:i,options:{stack:o,stackWeight:l=1}}=a,e.push({index:s,box:a,pos:i,horizontal:a.isHorizontal(),weight:a.weight,stack:o&&i+o,stackWeight:l});return e}function Uee(t){const e={};for(const s of t){const{stack:n,pos:a,stackWeight:i}=s;if(!n||!c_.includes(a))continue;const o=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return e}function Vee(t,e){const s=Uee(t),{vBoxMaxWidth:n,hBoxMaxHeight:a}=e;let i,o,l;for(i=0,o=t.length;i<o;++i){l=t[i];const{fullSize:c}=l.box,d=s[l.stack],u=d&&l.stackWeight/d.weight;l.horizontal?(l.width=u?u*n:c&&e.availableWidth,l.height=a):(l.width=n,l.height=u?u*a:c&&e.availableHeight)}return s}function Yee(t){const e=Wee(t),s=Rd(e.filter(d=>d.box.fullSize),!0),n=Rd(Od(e,"left"),!0),a=Rd(Od(e,"right")),i=Rd(Od(e,"top"),!0),o=Rd(Od(e,"bottom")),l=oj(e,"x"),c=oj(e,"y");return{fullSize:s,leftAndTop:n.concat(i),rightAndBottom:a.concat(c).concat(o).concat(l),chartArea:Od(e,"chartArea"),vertical:n.concat(a).concat(c),horizontal:i.concat(o).concat(l)}}function lj(t,e,s,n){return Math.max(t[s],e[s])+Math.max(t[n],e[n])}function d_(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Gee(t,e,s,n){const{pos:a,box:i}=s,o=t.maxPadding;if(!kt(a)){s.size&&(t[a]-=s.size);const h=n[s.stack]||{size:0,count:1};h.size=Math.max(h.size,s.horizontal?i.height:i.width),s.size=h.size/h.count,t[a]+=s.size}i.getPadding&&d_(o,i.getPadding());const l=Math.max(0,e.outerWidth-lj(o,t,"left","right")),c=Math.max(0,e.outerHeight-lj(o,t,"top","bottom")),d=l!==t.w,u=c!==t.h;return t.w=l,t.h=c,s.horizontal?{same:d,other:u}:{same:u,other:d}}function Kee(t){const e=t.maxPadding;function s(n){const a=Math.max(e[n]-t[n],0);return t[n]+=a,a}t.y+=s("top"),t.x+=s("left"),s("right"),s("bottom")}function Xee(t,e){const s=e.maxPadding;function n(a){const i={left:0,top:0,right:0,bottom:0};return a.forEach(o=>{i[o]=Math.max(e[o],s[o])}),i}return n(t?["left","right"]:["top","bottom"])}function Qd(t,e,s,n){const a=[];let i,o,l,c,d,u;for(i=0,o=t.length,d=0;i<o;++i){l=t[i],c=l.box,c.update(l.width||e.w,l.height||e.h,Xee(l.horizontal,e));const{same:h,other:f}=Gee(e,s,l,n);d|=h&&a.length,u=u||f,c.fullSize||a.push(l)}return d&&Qd(a,e,s,n)||u}function Fm(t,e,s,n,a){t.top=s,t.left=e,t.right=e+n,t.bottom=s+a,t.width=n,t.height=a}function cj(t,e,s,n){const a=s.padding;let{x:i,y:o}=e;for(const l of t){const c=l.box,d=n[l.stack]||{count:1,placed:0,weight:1},u=l.stackWeight/d.weight||1;if(l.horizontal){const h=e.w*u,f=d.size||c.height;zu(d.start)&&(o=d.start),c.fullSize?Fm(c,a.left,o,s.outerWidth-a.right-a.left,f):Fm(c,e.left+d.placed,o,h,f),d.start=o,d.placed+=h,o=c.bottom}else{const h=e.h*u,f=d.size||c.width;zu(d.start)&&(i=d.start),c.fullSize?Fm(c,i,a.top,f,s.outerHeight-a.bottom-a.top):Fm(c,i,e.top+d.placed,f,h),d.start=i,d.placed+=h,i=c.right}}e.x=i,e.y=o}var Cn={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(s){e.draw(s)}}]},t.boxes.push(e)},removeBox(t,e){const s=t.boxes?t.boxes.indexOf(e):-1;s!==-1&&t.boxes.splice(s,1)},configure(t,e,s){e.fullSize=s.fullSize,e.position=s.position,e.weight=s.weight},update(t,e,s,n){if(!t)return;const a=In(t.options.layout.padding),i=Math.max(e-a.width,0),o=Math.max(s-a.height,0),l=Yee(t.boxes),c=l.vertical,d=l.horizontal;zt(t.boxes,x=>{typeof x.beforeLayout=="function"&&x.beforeLayout()});const u=c.reduce((x,j)=>j.box.options&&j.box.options.display===!1?x:x+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:s,padding:a,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},a);d_(f,In(n));const m=Object.assign({maxPadding:f,w:i,h:o,x:a.left,y:a.top},a),g=Vee(c.concat(d),h);Qd(l.fullSize,m,h,g),Qd(c,m,h,g),Qd(d,m,h,g)&&Qd(c,m,h,g),Kee(m),cj(l.leftAndTop,m,h,g),m.x+=m.w,m.y+=m.h,cj(l.rightAndBottom,m,h,g),t.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},zt(l.chartArea,x=>{const j=x.box;Object.assign(j,t.chartArea),j.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class u_{acquireContext(e,s){}releaseContext(e){return!1}addEventListener(e,s,n){}removeEventListener(e,s,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,s,n,a){return s=Math.max(0,s||e.width),n=n||e.height,{width:s,height:Math.max(0,a?Math.floor(s/a):n)}}isAttached(e){return!0}updateConfig(e){}}class Qee extends u_{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const of="$chartjs",Jee={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},dj=t=>t===null||t==="";function Zee(t,e){const s=t.style,n=t.getAttribute("height"),a=t.getAttribute("width");if(t[of]={initial:{height:n,width:a,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",dj(a)){const i=Yw(t,"width");i!==void 0&&(t.width=i)}if(dj(n))if(t.style.height==="")t.height=t.width/(e||2);else{const i=Yw(t,"height");i!==void 0&&(t.height=i)}return t}const h_=JZ?{passive:!0}:!1;function ete(t,e,s){t&&t.addEventListener(e,s,h_)}function tte(t,e,s){t&&t.canvas&&t.canvas.removeEventListener(e,s,h_)}function ste(t,e){const s=Jee[t.type]||t.type,{x:n,y:a}=Fo(t,e);return{type:s,chart:e,native:t,x:n!==void 0?n:null,y:a!==void 0?a:null}}function zf(t,e){for(const s of t)if(s===e||s.contains(e))return!0}function rte(t,e,s){const n=t.canvas,a=new MutationObserver(i=>{let o=!1;for(const l of i)o=o||zf(l.addedNodes,n),o=o&&!zf(l.removedNodes,n);o&&s()});return a.observe(document,{childList:!0,subtree:!0}),a}function nte(t,e,s){const n=t.canvas,a=new MutationObserver(i=>{let o=!1;for(const l of i)o=o||zf(l.removedNodes,n),o=o&&!zf(l.addedNodes,n);o&&s()});return a.observe(document,{childList:!0,subtree:!0}),a}const Wu=new Map;let uj=0;function m_(){const t=window.devicePixelRatio;t!==uj&&(uj=t,Wu.forEach((e,s)=>{s.currentDevicePixelRatio!==t&&e()}))}function ate(t,e){Wu.size||window.addEventListener("resize",m_),Wu.set(t,e)}function ite(t){Wu.delete(t),Wu.size||window.removeEventListener("resize",m_)}function ote(t,e,s){const n=t.canvas,a=n&&Ub(n);if(!a)return;const i=Wk((l,c)=>{const d=a.clientWidth;s(l,c),d<a.clientWidth&&s()},window),o=new ResizeObserver(l=>{const c=l[0],d=c.contentRect.width,u=c.contentRect.height;d===0&&u===0||i(d,u)});return o.observe(a),ate(t,i),o}function L0(t,e,s){s&&s.disconnect(),e==="resize"&&ite(t)}function lte(t,e,s){const n=t.canvas,a=Wk(i=>{t.ctx!==null&&s(ste(i,t))},t);return ete(n,e,a),a}class cte extends u_{acquireContext(e,s){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(Zee(e,s),n):null}releaseContext(e){const s=e.canvas;if(!s[of])return!1;const n=s[of].initial;["height","width"].forEach(i=>{const o=n[i];Yt(o)?s.removeAttribute(i):s.setAttribute(i,o)});const a=n.style||{};return Object.keys(a).forEach(i=>{s.style[i]=a[i]}),s.width=s.width,delete s[of],!0}addEventListener(e,s,n){this.removeEventListener(e,s);const a=e.$proxies||(e.$proxies={}),o={attach:rte,detach:nte,resize:ote}[s]||lte;a[s]=o(e,s,n)}removeEventListener(e,s){const n=e.$proxies||(e.$proxies={}),a=n[s];if(!a)return;({attach:L0,detach:L0,resize:L0}[s]||tte)(e,s,a),n[s]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,s,n,a){return QZ(e,s,n,a)}isAttached(e){const s=e&&Ub(e);return!!(s&&s.isConnected)}}function dte(t){return!Wb()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?Qee:cte}let _i=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:s,y:n}=this.getProps(["x","y"],e);return{x:s,y:n}}hasValue(){return Of(this.x)&&Of(this.y)}getProps(e,s){const n=this.$animations;if(!s||!n)return this;const a={};return e.forEach(i=>{a[i]=n[i]&&n[i].active()?n[i]._to:this[i]}),a}};function ute(t,e){const s=t.options.ticks,n=hte(t),a=Math.min(s.maxTicksLimit||n,n),i=s.major.enabled?fte(e):[],o=i.length,l=i[0],c=i[o-1],d=[];if(o>a)return pte(e,d,i,o/a),d;const u=mte(i,e,a);if(o>0){let h,f;const m=o>1?Math.round((c-l)/(o-1)):null;for(Om(e,d,u,Yt(m)?0:l-m,l),h=0,f=o-1;h<f;h++)Om(e,d,u,i[h],i[h+1]);return Om(e,d,u,c,Yt(m)?e.length:c+m),d}return Om(e,d,u),d}function hte(t){const e=t.options.offset,s=t._tickSize(),n=t._length/s+(e?0:1),a=t._maxLength/s;return Math.floor(Math.min(n,a))}function mte(t,e,s){const n=xte(t),a=e.length/s;if(!n)return Math.max(a,1);const i=ZJ(n);for(let o=0,l=i.length-1;o<l;o++){const c=i[o];if(c>a)return c}return Math.max(a,1)}function fte(t){const e=[];let s,n;for(s=0,n=t.length;s<n;s++)t[s].major&&e.push(s);return e}function pte(t,e,s,n){let a=0,i=s[0],o;for(n=Math.ceil(n),o=0;o<t.length;o++)o===i&&(e.push(t[o]),a++,i=s[a*n])}function Om(t,e,s,n,a){const i=vt(n,0),o=Math.min(vt(a,t.length),t.length);let l=0,c,d,u;for(s=Math.ceil(s),a&&(c=a-n,s=c/Math.floor(c/s)),u=i;u<0;)l++,u=Math.round(i+l*s);for(d=Math.max(i,0);d<o;d++)d===u&&(e.push(t[d]),l++,u=Math.round(i+l*s))}function xte(t){const e=t.length;let s,n;if(e<2)return!1;for(n=t[0],s=1;s<e;++s)if(t[s]-t[s-1]!==n)return!1;return n}const gte=t=>t==="left"?"right":t==="right"?"left":t,hj=(t,e,s)=>e==="top"||e==="left"?t[e]+s:t[e]-s,mj=(t,e)=>Math.min(e||t,t);function fj(t,e){const s=[],n=t.length/e,a=t.length;let i=0;for(;i<a;i+=n)s.push(t[Math.floor(i)]);return s}function yte(t,e,s){const n=t.ticks.length,a=Math.min(e,n-1),i=t._startPixel,o=t._endPixel,l=1e-6;let c=t.getPixelForTick(a),d;if(!(s&&(n===1?d=Math.max(c-i,o-c):e===0?d=(t.getPixelForTick(1)-c)/2:d=(c-t.getPixelForTick(a-1))/2,c+=a<e?d:-d,c<i-l||c>o+l)))return c}function bte(t,e){zt(t,s=>{const n=s.gc,a=n.length/2;let i;if(a>e){for(i=0;i<a;++i)delete s.data[n[i]];n.splice(0,a)}})}function $d(t){return t.drawTicks?t.tickLength:0}function pj(t,e){if(!t.display)return 0;const s=kr(t.font,e),n=In(t.padding);return(Os(t.text)?t.text.length:1)*s.lineHeight+n.height}function vte(t,e){return xl(t,{scale:e,type:"scale"})}function wte(t,e,s){return xl(t,{tick:s,index:e,type:"tick"})}function jte(t,e,s){let n=Ob(t);return(s&&e!=="right"||!s&&e==="right")&&(n=gte(n)),n}function Nte(t,e,s,n){const{top:a,left:i,bottom:o,right:l,chart:c}=t,{chartArea:d,scales:u}=c;let h=0,f,m,g;const x=o-a,j=l-i;if(t.isHorizontal()){if(m=jr(n,i,l),kt(s)){const y=Object.keys(s)[0],b=s[y];g=u[y].getPixelForValue(b)+x-e}else s==="center"?g=(d.bottom+d.top)/2+x-e:g=hj(t,s,e);f=l-i}else{if(kt(s)){const y=Object.keys(s)[0],b=s[y];m=u[y].getPixelForValue(b)-j+e}else s==="center"?m=(d.left+d.right)/2-j+e:m=hj(t,s,e);g=jr(n,o,a),h=s==="left"?-Vs:Vs}return{titleX:m,titleY:g,maxWidth:f,rotation:h}}class Gc extends _i{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,s){return e}getUserBounds(){let{_userMin:e,_userMax:s,_suggestedMin:n,_suggestedMax:a}=this;return e=ja(e,Number.POSITIVE_INFINITY),s=ja(s,Number.NEGATIVE_INFINITY),n=ja(n,Number.POSITIVE_INFINITY),a=ja(a,Number.NEGATIVE_INFINITY),{min:ja(e,n),max:ja(s,a),minDefined:Sr(e),maxDefined:Sr(s)}}getMinMax(e){let{min:s,max:n,minDefined:a,maxDefined:i}=this.getUserBounds(),o;if(a&&i)return{min:s,max:n};const l=this.getMatchingVisibleMetas();for(let c=0,d=l.length;c<d;++c)o=l[c].controller.getMinMax(this,e),a||(s=Math.min(s,o.min)),i||(n=Math.max(n,o.max));return s=i&&s>n?n:s,n=a&&s>n?s:n,{min:ja(s,ja(n,s)),max:ja(n,ja(s,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Zt(this.options.beforeUpdate,[this])}update(e,s,n){const{beginAtZero:a,grace:i,ticks:o}=this.options,l=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=s,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=PZ(this,i,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?fj(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=ute(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,s,n;this.isHorizontal()?(s=this.left,n=this.right):(s=this.top,n=this.bottom,e=!e),this._startPixel=s,this._endPixel=n,this._reversePixels=e,this._length=n-s,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Zt(this.options.afterUpdate,[this])}beforeSetDimensions(){Zt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Zt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Zt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Zt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const s=this.options.ticks;let n,a,i;for(n=0,a=e.length;n<a;n++)i=e[n],i.label=Zt(s.callback,[i.value,n,e],this)}afterTickToLabelConversion(){Zt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Zt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,s=e.ticks,n=mj(this.ticks.length,e.ticks.maxTicksLimit),a=s.minRotation||0,i=s.maxRotation;let o=a,l,c,d;if(!this._isVisible()||!s.display||a>=i||n<=1||!this.isHorizontal()){this.labelRotation=a;return}const u=this._getLabelSizes(),h=u.widest.width,f=u.highest.height,m=Yr(this.chart.width-h,0,this.maxWidth);l=e.offset?this.maxWidth/n:m/(n-1),h+6>l&&(l=m/(n-(e.offset?.5:1)),c=this.maxHeight-$d(e.grid)-s.padding-pj(e.title,this.chart.options.font),d=Math.sqrt(h*h+f*f),o=rZ(Math.min(Math.asin(Yr((u.highest.height+6)/l,-1,1)),Math.asin(Yr(c/d,-1,1))-Math.asin(Yr(f/d,-1,1)))),o=Math.max(a,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){Zt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Zt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:s,options:{ticks:n,title:a,grid:i}}=this,o=this._isVisible(),l=this.isHorizontal();if(o){const c=pj(a,s.options.font);if(l?(e.width=this.maxWidth,e.height=$d(i)+c):(e.height=this.maxHeight,e.width=$d(i)+c),n.display&&this.ticks.length){const{first:d,last:u,widest:h,highest:f}=this._getLabelSizes(),m=n.padding*2,g=xi(this.labelRotation),x=Math.cos(g),j=Math.sin(g);if(l){const y=n.mirror?0:j*h.width+x*f.height;e.height=Math.min(this.maxHeight,e.height+y+m)}else{const y=n.mirror?0:x*h.width+j*f.height;e.width=Math.min(this.maxWidth,e.width+y+m)}this._calculatePadding(d,u,j,x)}}this._handleMargins(),l?(this.width=this._length=s.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=s.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,s,n,a){const{ticks:{align:i,padding:o},position:l}=this.options,c=this.labelRotation!==0,d=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,m=0;c?d?(f=a*e.width,m=n*s.height):(f=n*e.height,m=a*s.width):i==="start"?m=s.width:i==="end"?f=e.width:i!=="inner"&&(f=e.width/2,m=s.width/2),this.paddingLeft=Math.max((f-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((m-h+o)*this.width/(this.width-h),0)}else{let u=s.height/2,h=e.height/2;i==="start"?(u=0,h=e.height):i==="end"&&(u=s.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Zt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:s}=this.options;return s==="top"||s==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let s,n;for(s=0,n=e.length;s<n;s++)Yt(e[s].label)&&(e.splice(s,1),n--,s--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const s=this.options.ticks.sampleSize;let n=this.ticks;s<n.length&&(n=fj(n,s)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,s,n){const{ctx:a,_longestTextCache:i}=this,o=[],l=[],c=Math.floor(s/mj(s,n));let d=0,u=0,h,f,m,g,x,j,y,b,k,A,E;for(h=0;h<s;h+=c){if(g=e[h].label,x=this._resolveTickFontOptions(h),a.font=j=x.string,y=i[j]=i[j]||{data:{},gc:[]},b=x.lineHeight,k=A=0,!Yt(g)&&!Os(g))k=qw(a,y.data,y.gc,k,g),A=b;else if(Os(g))for(f=0,m=g.length;f<m;++f)E=g[f],!Yt(E)&&!Os(E)&&(k=qw(a,y.data,y.gc,k,E),A+=b);o.push(k),l.push(A),d=Math.max(k,d),u=Math.max(A,u)}bte(i,s);const I=o.indexOf(d),_=l.indexOf(u),v=P=>({width:o[P]||0,height:l[P]||0});return{first:v(0),last:v(s-1),widest:v(I),highest:v(_),widths:o,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,s){return NaN}getValueForPixel(e){}getPixelForTick(e){const s=this.ticks;return e<0||e>s.length-1?null:this.getPixelForValue(s[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const s=this._startPixel+e*this._length;return aZ(this._alignToPixels?Do(this.chart,s,0):s)}getDecimalForPixel(e){const s=(e-this._startPixel)/this._length;return this._reversePixels?1-s:s}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:s}=this;return e<0&&s<0?s:e>0&&s>0?e:0}getContext(e){const s=this.ticks||[];if(e>=0&&e<s.length){const n=s[e];return n.$context||(n.$context=wte(this.getContext(),e,n))}return this.$context||(this.$context=vte(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,s=xi(this.labelRotation),n=Math.abs(Math.cos(s)),a=Math.abs(Math.sin(s)),i=this._getLabelSizes(),o=e.autoSkipPadding||0,l=i?i.widest.width+o:0,c=i?i.highest.height+o:0;return this.isHorizontal()?c*n>l*a?l/n:c/a:c*a<l*n?c/n:l/a}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const s=this.axis,n=this.chart,a=this.options,{grid:i,position:o,border:l}=a,c=i.offset,d=this.isHorizontal(),h=this.ticks.length+(c?1:0),f=$d(i),m=[],g=l.setContext(this.getContext()),x=g.display?g.width:0,j=x/2,y=function(q){return Do(n,q,x)};let b,k,A,E,I,_,v,P,L,S,C,O;if(o==="top")b=y(this.bottom),_=this.bottom-f,P=b-j,S=y(e.top)+j,O=e.bottom;else if(o==="bottom")b=y(this.top),S=e.top,O=y(e.bottom)-j,_=b+j,P=this.top+f;else if(o==="left")b=y(this.right),I=this.right-f,v=b-j,L=y(e.left)+j,C=e.right;else if(o==="right")b=y(this.left),L=e.left,C=y(e.right)-j,I=b+j,v=this.left+f;else if(s==="x"){if(o==="center")b=y((e.top+e.bottom)/2+.5);else if(kt(o)){const q=Object.keys(o)[0],R=o[q];b=y(this.chart.scales[q].getPixelForValue(R))}S=e.top,O=e.bottom,_=b+j,P=_+f}else if(s==="y"){if(o==="center")b=y((e.left+e.right)/2);else if(kt(o)){const q=Object.keys(o)[0],R=o[q];b=y(this.chart.scales[q].getPixelForValue(R))}I=b-j,v=I-f,L=e.left,C=e.right}const z=vt(a.ticks.maxTicksLimit,h),Z=Math.max(1,Math.ceil(h/z));for(k=0;k<h;k+=Z){const q=this.getContext(k),R=i.setContext(q),X=l.setContext(q),$=R.lineWidth,J=R.color,se=X.dash||[],M=X.dashOffset,T=R.tickWidth,B=R.tickColor,K=R.tickBorderDash||[],Y=R.tickBorderDashOffset;A=yte(this,k,c),A!==void 0&&(E=Do(n,A,$),d?I=v=L=C=E:_=P=S=O=E,m.push({tx1:I,ty1:_,tx2:v,ty2:P,x1:L,y1:S,x2:C,y2:O,width:$,color:J,borderDash:se,borderDashOffset:M,tickWidth:T,tickColor:B,tickBorderDash:K,tickBorderDashOffset:Y}))}return this._ticksLength=h,this._borderValue=b,m}_computeLabelItems(e){const s=this.axis,n=this.options,{position:a,ticks:i}=n,o=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:d,padding:u,mirror:h}=i,f=$d(n.grid),m=f+u,g=h?-u:m,x=-xi(this.labelRotation),j=[];let y,b,k,A,E,I,_,v,P,L,S,C,O="middle";if(a==="top")I=this.bottom-g,_=this._getXAxisLabelAlignment();else if(a==="bottom")I=this.top+g,_=this._getXAxisLabelAlignment();else if(a==="left"){const Z=this._getYAxisLabelAlignment(f);_=Z.textAlign,E=Z.x}else if(a==="right"){const Z=this._getYAxisLabelAlignment(f);_=Z.textAlign,E=Z.x}else if(s==="x"){if(a==="center")I=(e.top+e.bottom)/2+m;else if(kt(a)){const Z=Object.keys(a)[0],q=a[Z];I=this.chart.scales[Z].getPixelForValue(q)+m}_=this._getXAxisLabelAlignment()}else if(s==="y"){if(a==="center")E=(e.left+e.right)/2-m;else if(kt(a)){const Z=Object.keys(a)[0],q=a[Z];E=this.chart.scales[Z].getPixelForValue(q)}_=this._getYAxisLabelAlignment(f).textAlign}s==="y"&&(c==="start"?O="top":c==="end"&&(O="bottom"));const z=this._getLabelSizes();for(y=0,b=l.length;y<b;++y){k=l[y],A=k.label;const Z=i.setContext(this.getContext(y));v=this.getPixelForTick(y)+i.labelOffset,P=this._resolveTickFontOptions(y),L=P.lineHeight,S=Os(A)?A.length:1;const q=S/2,R=Z.color,X=Z.textStrokeColor,$=Z.textStrokeWidth;let J=_;o?(E=v,_==="inner"&&(y===b-1?J=this.options.reverse?"left":"right":y===0?J=this.options.reverse?"right":"left":J="center"),a==="top"?d==="near"||x!==0?C=-S*L+L/2:d==="center"?C=-z.highest.height/2-q*L+L:C=-z.highest.height+L/2:d==="near"||x!==0?C=L/2:d==="center"?C=z.highest.height/2-q*L:C=z.highest.height-S*L,h&&(C*=-1),x!==0&&!Z.showLabelBackdrop&&(E+=L/2*Math.sin(x))):(I=v,C=(1-S)*L/2);let se;if(Z.showLabelBackdrop){const M=In(Z.backdropPadding),T=z.heights[y],B=z.widths[y];let K=C-M.top,Y=0-M.left;switch(O){case"middle":K-=T/2;break;case"bottom":K-=T;break}switch(_){case"center":Y-=B/2;break;case"right":Y-=B;break;case"inner":y===b-1?Y-=B:y>0&&(Y-=B/2);break}se={left:Y,top:K,width:B+M.width,height:T+M.height,color:Z.backdropColor}}j.push({label:A,font:P,textOffset:C,options:{rotation:x,color:R,strokeColor:X,strokeWidth:$,textAlign:J,textBaseline:O,translation:[E,I],backdrop:se}})}return j}_getXAxisLabelAlignment(){const{position:e,ticks:s}=this.options;if(-xi(this.labelRotation))return e==="top"?"left":"right";let a="center";return s.align==="start"?a="left":s.align==="end"?a="right":s.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(e){const{position:s,ticks:{crossAlign:n,mirror:a,padding:i}}=this.options,o=this._getLabelSizes(),l=e+i,c=o.widest.width;let d,u;return s==="left"?a?(u=this.right+i,n==="near"?d="left":n==="center"?(d="center",u+=c/2):(d="right",u+=c)):(u=this.right-l,n==="near"?d="right":n==="center"?(d="center",u-=c/2):(d="left",u=this.left)):s==="right"?a?(u=this.left+i,n==="near"?d="right":n==="center"?(d="center",u-=c/2):(d="left",u-=c)):(u=this.left+l,n==="near"?d="left":n==="center"?(d="center",u+=c/2):(d="right",u=this.right)):d="right",{textAlign:d,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,s=this.options.position;if(s==="left"||s==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(s==="top"||s==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:s},left:n,top:a,width:i,height:o}=this;s&&(e.save(),e.fillStyle=s,e.fillRect(n,a,i,o),e.restore())}getLineWidthForValue(e){const s=this.options.grid;if(!this._isVisible()||!s.display)return 0;const a=this.ticks.findIndex(i=>i.value===e);return a>=0?s.setContext(this.getContext(a)).lineWidth:0}drawGrid(e){const s=this.options.grid,n=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,o;const l=(c,d,u)=>{!u.width||!u.color||(n.save(),n.lineWidth=u.width,n.strokeStyle=u.color,n.setLineDash(u.borderDash||[]),n.lineDashOffset=u.borderDashOffset,n.beginPath(),n.moveTo(c.x,c.y),n.lineTo(d.x,d.y),n.stroke(),n.restore())};if(s.display)for(i=0,o=a.length;i<o;++i){const c=a[i];s.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),s.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:s,options:{border:n,grid:a}}=this,i=n.setContext(this.getContext()),o=n.display?i.width:0;if(!o)return;const l=a.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let d,u,h,f;this.isHorizontal()?(d=Do(e,this.left,o)-o/2,u=Do(e,this.right,l)+l/2,h=f=c):(h=Do(e,this.top,o)-o/2,f=Do(e,this.bottom,l)+l/2,d=u=c),s.save(),s.lineWidth=i.width,s.strokeStyle=i.color,s.beginPath(),s.moveTo(d,h),s.lineTo(u,f),s.stroke(),s.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,a=this._computeLabelArea();a&&Lp(n,a);const i=this.getLabelItems(e);for(const o of i){const l=o.options,c=o.font,d=o.label,u=o.textOffset;Hu(n,d,0,u,c,l)}a&&Ip(n)}drawTitle(){const{ctx:e,options:{position:s,title:n,reverse:a}}=this;if(!n.display)return;const i=kr(n.font),o=In(n.padding),l=n.align;let c=i.lineHeight/2;s==="bottom"||s==="center"||kt(s)?(c+=o.bottom,Os(n.text)&&(c+=i.lineHeight*(n.text.length-1))):c+=o.top;const{titleX:d,titleY:u,maxWidth:h,rotation:f}=Nte(this,c,s,l);Hu(e,n.text,0,0,i,{color:n.color,maxWidth:h,rotation:f,textAlign:jte(l,s,a),textBaseline:"middle",translation:[d,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,s=e.ticks&&e.ticks.z||0,n=vt(e.grid&&e.grid.z,-1),a=vt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Gc.prototype.draw?[{z:s,draw:i=>{this.draw(i)}}]:[{z:n,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:s,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const s=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",a=[];let i,o;for(i=0,o=s.length;i<o;++i){const l=s[i];l[n]===this.id&&(!e||l.type===e)&&a.push(l)}return a}_resolveTickFontOptions(e){const s=this.options.ticks.setContext(this.getContext(e));return kr(s.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Rm{constructor(e,s,n){this.type=e,this.scope=s,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const s=Object.getPrototypeOf(e);let n;Ste(s)&&(n=this.register(s));const a=this.items,i=e.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in a||(a[i]=e,kte(e,o,n),this.override&&Ps.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const s=this.items,n=e.id,a=this.scope;n in s&&delete s[n],a&&n in Ps[a]&&(delete Ps[a][n],this.override&&delete cl[n])}}function kte(t,e,s){const n=$u(Object.create(null),[s?Ps.get(s):{},Ps.get(e),t.defaults]);Ps.set(e,n),t.defaultRoutes&&_te(e,t.defaultRoutes),t.descriptors&&Ps.describe(e,t.descriptors)}function _te(t,e){Object.keys(e).forEach(s=>{const n=s.split("."),a=n.pop(),i=[t].concat(n).join("."),o=e[s].split("."),l=o.pop(),c=o.join(".");Ps.route(i,a,c,l)})}function Ste(t){return"id"in t&&"defaults"in t}class Ate{constructor(){this.controllers=new Rm(Vb,"datasets",!0),this.elements=new Rm(_i,"elements"),this.plugins=new Rm(Object,"plugins"),this.scales=new Rm(Gc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,s,n){[...s].forEach(a=>{const i=n||this._getRegistryForType(a);n||i.isForType(a)||i===this.plugins&&a.id?this._exec(e,i,a):zt(a,o=>{const l=n||this._getRegistryForType(o);this._exec(e,l,o)})})}_exec(e,s,n){const a=Tb(e);Zt(n["before"+a],[],n),s[e](n),Zt(n["after"+a],[],n)}_getRegistryForType(e){for(let s=0;s<this._typedRegistries.length;s++){const n=this._typedRegistries[s];if(n.isForType(e))return n}return this.plugins}_get(e,s,n){const a=s.get(e);if(a===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return a}}var _a=new Ate;class Cte{constructor(){this._init=[]}notify(e,s,n,a){s==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=a?this._descriptors(e).filter(a):this._descriptors(e),o=this._notify(i,e,s,n);return s==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,s,n,a){a=a||{};for(const i of e){const o=i.plugin,l=o[n],c=[s,a,i.options];if(Zt(l,c,o)===!1&&a.cancelable)return!1}return!0}invalidate(){Yt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const s=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),s}_createDescriptors(e,s){const n=e&&e.config,a=vt(n.options&&n.options.plugins,{}),i=Pte(n);return a===!1&&!s?[]:Dte(e,i,a,s)}_notifyStateChanges(e){const s=this._oldCache||[],n=this._cache,a=(i,o)=>i.filter(l=>!o.some(c=>l.plugin.id===c.plugin.id));this._notify(a(s,n),e,"stop"),this._notify(a(n,s),e,"start")}}function Pte(t){const e={},s=[],n=Object.keys(_a.plugins.items);for(let i=0;i<n.length;i++)s.push(_a.getPlugin(n[i]));const a=t.plugins||[];for(let i=0;i<a.length;i++){const o=a[i];s.indexOf(o)===-1&&(s.push(o),e[o.id]=!0)}return{plugins:s,localIds:e}}function Ete(t,e){return!e&&t===!1?null:t===!0?{}:t}function Dte(t,{plugins:e,localIds:s},n,a){const i=[],o=t.getContext();for(const l of e){const c=l.id,d=Ete(n[c],a);d!==null&&i.push({plugin:l,options:Lte(t.config,{plugin:l,local:s[c]},d,o)})}return i}function Lte(t,{plugin:e,local:s},n,a){const i=t.pluginScopeKeys(e),o=t.getOptionScopes(n,i);return s&&e.defaults&&o.push(e.defaults),t.createResolver(o,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Hg(t,e){const s=Ps.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||s.indexAxis||"x"}function Ite(t,e){let s=t;return t==="_index_"?s=e:t==="_value_"&&(s=e==="x"?"y":"x"),s}function Mte(t,e){return t===e?"_index_":"_value_"}function xj(t){if(t==="x"||t==="y"||t==="r")return t}function Tte(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Wg(t,...e){if(xj(t))return t;for(const s of e){const n=s.axis||Tte(s.position)||t.length>1&&xj(t[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function gj(t,e,s){if(s[e+"AxisID"]===t)return{axis:e}}function Fte(t,e){if(e.data&&e.data.datasets){const s=e.data.datasets.filter(n=>n.xAxisID===t||n.yAxisID===t);if(s.length)return gj(t,"x",s[0])||gj(t,"y",s[0])}return{}}function Ote(t,e){const s=cl[t.type]||{scales:{}},n=e.scales||{},a=Hg(t.type,e),i=Object.create(null);return Object.keys(n).forEach(o=>{const l=n[o];if(!kt(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const c=Wg(o,l,Fte(o,t),Ps.scales[l.type]),d=Mte(c,a),u=s.scales||{};i[o]=hu(Object.create(null),[{axis:c},l,u[c],u[d]])}),t.data.datasets.forEach(o=>{const l=o.type||t.type,c=o.indexAxis||Hg(l,e),u=(cl[l]||{}).scales||{};Object.keys(u).forEach(h=>{const f=Ite(h,c),m=o[f+"AxisID"]||f;i[m]=i[m]||Object.create(null),hu(i[m],[{axis:f},n[m],u[h]])})}),Object.keys(i).forEach(o=>{const l=i[o];hu(l,[Ps.scales[l.type],Ps.scale])}),i}function f_(t){const e=t.options||(t.options={});e.plugins=vt(e.plugins,{}),e.scales=Ote(t,e)}function p_(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function Rte(t){return t=t||{},t.data=p_(t.data),f_(t),t}const yj=new Map,x_=new Set;function $m(t,e){let s=yj.get(t);return s||(s=e(),yj.set(t,s),x_.add(s)),s}const zd=(t,e,s)=>{const n=ll(e,s);n!==void 0&&t.add(n)};class $te{constructor(e){this._config=Rte(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=p_(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),f_(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return $m(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,s){return $m(`${e}.transition.${s}`,()=>[[`datasets.${e}.transitions.${s}`,`transitions.${s}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,s){return $m(`${e}-${s}`,()=>[[`datasets.${e}.elements.${s}`,`datasets.${e}`,`elements.${s}`,""]])}pluginScopeKeys(e){const s=e.id,n=this.type;return $m(`${n}-plugin-${s}`,()=>[[`plugins.${s}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,s){const n=this._scopeCache;let a=n.get(e);return(!a||s)&&(a=new Map,n.set(e,a)),a}getOptionScopes(e,s,n){const{options:a,type:i}=this,o=this._cachedScopes(e,n),l=o.get(s);if(l)return l;const c=new Set;s.forEach(u=>{e&&(c.add(e),u.forEach(h=>zd(c,e,h))),u.forEach(h=>zd(c,a,h)),u.forEach(h=>zd(c,cl[i]||{},h)),u.forEach(h=>zd(c,Ps,h)),u.forEach(h=>zd(c,Bg,h))});const d=Array.from(c);return d.length===0&&d.push(Object.create(null)),x_.has(s)&&o.set(s,d),d}chartOptionScopes(){const{options:e,type:s}=this;return[e,cl[s]||{},Ps.datasets[s]||{},{type:s},Ps,Bg]}resolveNamedOptions(e,s,n,a=[""]){const i={$shared:!0},{resolver:o,subPrefixes:l}=bj(this._resolverCache,e,a);let c=o;if(Bte(o,s)){i.$shared=!1,n=ro(n)?n():n;const d=this.createResolver(e,n,l);c=Pc(o,n,d)}for(const d of s)i[d]=c[d];return i}createResolver(e,s,n=[""],a){const{resolver:i}=bj(this._resolverCache,e,n);return kt(s)?Pc(i,s,void 0,a):i}}function bj(t,e,s){let n=t.get(e);n||(n=new Map,t.set(e,n));const a=s.join();let i=n.get(a);return i||(i={resolver:Bb(e,s),subPrefixes:s.filter(l=>!l.toLowerCase().includes("hover"))},n.set(a,i)),i}const zte=t=>kt(t)&&Object.getOwnPropertyNames(t).some(e=>ro(t[e]));function Bte(t,e){const{isScriptable:s,isIndexable:n}=Kk(t);for(const a of e){const i=s(a),o=n(a),l=(o||i)&&t[a];if(i&&(ro(l)||zte(l))||o&&Os(l))return!0}return!1}var qte="4.4.9";const Hte=["top","bottom","left","right","chartArea"];function vj(t,e){return t==="top"||t==="bottom"||Hte.indexOf(t)===-1&&e==="x"}function wj(t,e){return function(s,n){return s[t]===n[t]?s[e]-n[e]:s[t]-n[t]}}function jj(t){const e=t.chart,s=e.options.animation;e.notifyPlugins("afterRender"),Zt(s&&s.onComplete,[t],e)}function Wte(t){const e=t.chart,s=e.options.animation;Zt(s&&s.onProgress,[t],e)}function g_(t){return Wb()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const lf={},Nj=t=>{const e=g_(t);return Object.values(lf).filter(s=>s.canvas===e).pop()};function Ute(t,e,s){const n=Object.keys(t);for(const a of n){const i=+a;if(i>=e){const o=t[a];delete t[a],(s>0||i>e)&&(t[i+s]=o)}}}function Vte(t,e,s,n){return!s||t.type==="mouseout"?null:n?e:t}let Tp=class{static defaults=Ps;static instances=lf;static overrides=cl;static registry=_a;static version=qte;static getChart=Nj;static register(...e){_a.add(...e),kj()}static unregister(...e){_a.remove(...e),kj()}constructor(e,s){const n=this.config=new $te(s),a=g_(e),i=Nj(a);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||dte(a)),this.platform.updateConfig(n);const l=this.platform.acquireContext(a,o.aspectRatio),c=l&&l.canvas,d=c&&c.height,u=c&&c.width;if(this.id=WJ(),this.ctx=l,this.canvas=c,this.width=u,this.height=d,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Cte,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=cZ(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],lf[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}hi.listen(this,"complete",jj),hi.listen(this,"progress",Wte),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:s},width:n,height:a,_aspectRatio:i}=this;return Yt(e)?s&&i?i:a?n/a:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return _a}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Vw(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Hw(this.canvas,this.ctx),this}stop(){return hi.stop(this),this}resize(e,s){hi.running(this)?this._resizeBeforeDraw={width:e,height:s}:this._resize(e,s)}_resize(e,s){const n=this.options,a=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(a,e,s,i),l=n.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Vw(this,l,!0)&&(this.notifyPlugins("resize",{size:o}),Zt(n.onResize,[this,o],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const s=this.options.scales||{};zt(s,(n,a)=>{n.id=a})}buildOrUpdateScales(){const e=this.options,s=e.scales,n=this.scales,a=Object.keys(n).reduce((o,l)=>(o[l]=!1,o),{});let i=[];s&&(i=i.concat(Object.keys(s).map(o=>{const l=s[o],c=Wg(o,l),d=c==="r",u=c==="x";return{options:l,dposition:d?"chartArea":u?"bottom":"left",dtype:d?"radialLinear":u?"category":"linear"}}))),zt(i,o=>{const l=o.options,c=l.id,d=Wg(c,l),u=vt(l.type,o.dtype);(l.position===void 0||vj(l.position,d)!==vj(o.dposition))&&(l.position=o.dposition),a[c]=!0;let h=null;if(c in n&&n[c].type===u)h=n[c];else{const f=_a.getScale(u);h=new f({id:c,type:u,ctx:this.ctx,chart:this}),n[h.id]=h}h.init(l,e)}),zt(a,(o,l)=>{o||delete n[l]}),zt(n,o=>{Cn.configure(this,o,o.options),Cn.addBox(this,o)})}_updateMetasets(){const e=this._metasets,s=this.data.datasets.length,n=e.length;if(e.sort((a,i)=>a.index-i.index),n>s){for(let a=s;a<n;++a)this._destroyDatasetMeta(a);e.splice(s,n-s)}this._sortedMetasets=e.slice(0).sort(wj("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:s}}=this;e.length>s.length&&delete this._stacks,e.forEach((n,a)=>{s.filter(i=>i===n._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const e=[],s=this.data.datasets;let n,a;for(this._removeUnreferencedMetasets(),n=0,a=s.length;n<a;n++){const i=s[n];let o=this.getDatasetMeta(n);const l=i.type||this.config.type;if(o.type&&o.type!==l&&(this._destroyDatasetMeta(n),o=this.getDatasetMeta(n)),o.type=l,o.indexAxis=i.indexAxis||Hg(l,this.options),o.order=i.order||0,o.index=n,o.label=""+i.label,o.visible=this.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{const c=_a.getController(l),{datasetElementType:d,dataElementType:u}=Ps.datasets[l];Object.assign(c,{dataElementType:_a.getElement(u),datasetElementType:d&&_a.getElement(d)}),o.controller=new c(this,n),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){zt(this.data.datasets,(e,s)=>{this.getDatasetMeta(s).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const s=this.config;s.update();const n=this._options=s.createResolver(s.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let d=0,u=this.data.datasets.length;d<u;d++){const{controller:h}=this.getDatasetMeta(d),f=!a&&i.indexOf(h)===-1;h.buildOrUpdateElements(f),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),a||zt(i,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(wj("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){zt(this.scales,e=>{Cn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,s=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!Iw(s,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,s=this._getUniformDataChanges()||[];for(const{method:n,start:a,count:i}of s){const o=n==="_removeElements"?-i:i;Ute(e,a,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const s=this.data.datasets.length,n=i=>new Set(e.filter(o=>o[0]===i).map((o,l)=>l+","+o.splice(1).join(","))),a=n(0);for(let i=1;i<s;i++)if(!Iw(a,n(i)))return;return Array.from(a).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Cn.update(this,this.width,this.height,e);const s=this.chartArea,n=s.width<=0||s.height<=0;this._layers=[],zt(this.boxes,a=>{n&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,i)=>{a._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let s=0,n=this.data.datasets.length;s<n;++s)this.getDatasetMeta(s).controller.configure();for(let s=0,n=this.data.datasets.length;s<n;++s)this._updateDataset(s,ro(e)?e({datasetIndex:s}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,s){const n=this.getDatasetMeta(e),a={meta:n,index:e,mode:s,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(n.controller._update(s),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(hi.has(this)?this.attached&&!hi.running(this)&&hi.start(this):(this.draw(),jj({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const s=this._layers;for(e=0;e<s.length&&s[e].z<=0;++e)s[e].draw(this.chartArea);for(this._drawDatasets();e<s.length;++e)s[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const s=this._sortedMetasets,n=[];let a,i;for(a=0,i=s.length;a<i;++a){const o=s[a];(!e||o.visible)&&n.push(o)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let s=e.length-1;s>=0;--s)this._drawDataset(e[s]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const s=this.ctx,n={meta:e,index:e.index,cancelable:!0},a=a_(this,e);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(a&&Lp(s,a),e.controller.draw(),a&&Ip(s),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return qu(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,s,n,a){const i=Hee.modes[s];return typeof i=="function"?i(this,e,n,a):[]}getDatasetMeta(e){const s=this.data.datasets[e],n=this._metasets;let a=n.filter(i=>i&&i._dataset===s).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:s&&s.order||0,index:e,_dataset:s,_parsed:[],_sorted:!1},n.push(a)),a}getContext(){return this.$context||(this.$context=xl(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const s=this.data.datasets[e];if(!s)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!s.hidden}setDatasetVisibility(e,s){const n=this.getDatasetMeta(e);n.hidden=!s}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,s,n){const a=n?"show":"hide",i=this.getDatasetMeta(e),o=i.controller._resolveAnimations(void 0,a);zu(s)?(i.data[s].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),o.update(i,{visible:n}),this.update(l=>l.datasetIndex===e?a:void 0))}hide(e,s){this._updateVisibility(e,s,!1)}show(e,s){this._updateVisibility(e,s,!0)}_destroyDatasetMeta(e){const s=this._metasets[e];s&&s.controller&&s.controller._destroy(),delete this._metasets[e]}_stop(){let e,s;for(this.stop(),hi.remove(this),e=0,s=this.data.datasets.length;e<s;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:s}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Hw(e,s),this.platform.releaseContext(s),this.canvas=null,this.ctx=null),delete lf[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,s=this.platform,n=(i,o)=>{s.addEventListener(this,i,o),e[i]=o},a=(i,o,l)=>{i.offsetX=o,i.offsetY=l,this._eventHandler(i)};zt(this.options.events,i=>n(i,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,s=this.platform,n=(c,d)=>{s.addEventListener(this,c,d),e[c]=d},a=(c,d)=>{e[c]&&(s.removeEventListener(this,c,d),delete e[c])},i=(c,d)=>{this.canvas&&this.resize(c,d)};let o;const l=()=>{a("attach",l),this.attached=!0,this.resize(),n("resize",i),n("detach",o)};o=()=>{this.attached=!1,a("resize",i),this._stop(),this._resize(0,0),n("attach",l)},s.isAttached(this.canvas)?l():o()}unbindEvents(){zt(this._listeners,(e,s)=>{this.platform.removeEventListener(this,s,e)}),this._listeners={},zt(this._responsiveListeners,(e,s)=>{this.platform.removeEventListener(this,s,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,s,n){const a=n?"set":"remove";let i,o,l,c;for(s==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+a+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){o=e[l];const d=o&&this.getDatasetMeta(o.datasetIndex).controller;d&&d[a+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const s=this._active||[],n=e.map(({datasetIndex:i,index:o})=>{const l=this.getDatasetMeta(i);if(!l)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:l.data[o],index:o}});!Mf(n,s)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,s))}notifyPlugins(e,s,n){return this._plugins.notify(this,e,s,n)}isPluginEnabled(e){return this._plugins._cache.filter(s=>s.plugin.id===e).length===1}_updateHoverStyles(e,s,n){const a=this.options.hover,i=(c,d)=>c.filter(u=>!d.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=i(s,e),l=n?e:i(e,s);o.length&&this.updateHoverStyle(o,a.mode,!1),l.length&&a.mode&&this.updateHoverStyle(l,a.mode,!0)}_eventHandler(e,s){const n={event:e,replay:s,cancelable:!0,inChartArea:this.isPointInArea(e)},a=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,a)===!1)return;const i=this._handleEvent(e,s,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,a),(i||n.changed)&&this.render(),this}_handleEvent(e,s,n){const{_active:a=[],options:i}=this,o=s,l=this._getActiveElements(e,a,n,o),c=XJ(e),d=Vte(e,this._lastEvent,n,c);n&&(this._lastEvent=null,Zt(i.onHover,[e,l,this],this),c&&Zt(i.onClick,[e,l,this],this));const u=!Mf(l,a);return(u||s)&&(this._active=l,this._updateHoverStyles(l,a,s)),this._lastEvent=d,u}_getActiveElements(e,s,n,a){if(e.type==="mouseout")return[];if(!n)return s;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,a)}};function kj(){return zt(Tp.instances,t=>t._plugins.invalidate())}function Yte(t,e,s){const{startAngle:n,pixelMargin:a,x:i,y:o,outerRadius:l,innerRadius:c}=e;let d=a/l;t.beginPath(),t.arc(i,o,l,n-d,s+d),c>a?(d=a/c,t.arc(i,o,c,s+d,n-d,!0)):t.arc(i,o,a,s+Vs,n-Vs),t.closePath(),t.clip()}function Gte(t){return zb(t,["outerStart","outerEnd","innerStart","innerEnd"])}function Kte(t,e,s,n){const a=Gte(t.options.borderRadius),i=(s-e)/2,o=Math.min(i,n*e/2),l=c=>{const d=(s-Math.min(i,c))*n/2;return Yr(c,0,Math.min(i,d))};return{outerStart:l(a.outerStart),outerEnd:l(a.outerEnd),innerStart:Yr(a.innerStart,0,o),innerEnd:Yr(a.innerEnd,0,o)}}function rc(t,e,s,n){return{x:s+t*Math.cos(e),y:n+t*Math.sin(e)}}function Bf(t,e,s,n,a,i){const{x:o,y:l,startAngle:c,pixelMargin:d,innerRadius:u}=e,h=Math.max(e.outerRadius+n+s-d,0),f=u>0?u+n+s+d:0;let m=0;const g=a-c;if(n){const Z=u>0?u-n:0,q=h>0?h-n:0,R=(Z+q)/2,X=R!==0?g*R/(R+n):g;m=(g-X)/2}const x=Math.max(.001,g*h-s/bs)/h,j=(g-x)/2,y=c+j+m,b=a-j-m,{outerStart:k,outerEnd:A,innerStart:E,innerEnd:I}=Kte(e,f,h,b-y),_=h-k,v=h-A,P=y+k/_,L=b-A/v,S=f+E,C=f+I,O=y+E/S,z=b-I/C;if(t.beginPath(),i){const Z=(P+L)/2;if(t.arc(o,l,h,P,Z),t.arc(o,l,h,Z,L),A>0){const $=rc(v,L,o,l);t.arc($.x,$.y,A,L,b+Vs)}const q=rc(C,b,o,l);if(t.lineTo(q.x,q.y),I>0){const $=rc(C,z,o,l);t.arc($.x,$.y,I,b+Vs,z+Math.PI)}const R=(b-I/f+(y+E/f))/2;if(t.arc(o,l,f,b-I/f,R,!0),t.arc(o,l,f,R,y+E/f,!0),E>0){const $=rc(S,O,o,l);t.arc($.x,$.y,E,O+Math.PI,y-Vs)}const X=rc(_,y,o,l);if(t.lineTo(X.x,X.y),k>0){const $=rc(_,P,o,l);t.arc($.x,$.y,k,y-Vs,P)}}else{t.moveTo(o,l);const Z=Math.cos(P)*h+o,q=Math.sin(P)*h+l;t.lineTo(Z,q);const R=Math.cos(L)*h+o,X=Math.sin(L)*h+l;t.lineTo(R,X)}t.closePath()}function Xte(t,e,s,n,a){const{fullCircles:i,startAngle:o,circumference:l}=e;let c=e.endAngle;if(i){Bf(t,e,s,n,c,a);for(let d=0;d<i;++d)t.fill();isNaN(l)||(c=o+(l%ds||ds))}return Bf(t,e,s,n,c,a),t.fill(),c}function Qte(t,e,s,n,a){const{fullCircles:i,startAngle:o,circumference:l,options:c}=e,{borderWidth:d,borderJoinStyle:u,borderDash:h,borderDashOffset:f}=c,m=c.borderAlign==="inner";if(!d)return;t.setLineDash(h||[]),t.lineDashOffset=f,m?(t.lineWidth=d*2,t.lineJoin=u||"round"):(t.lineWidth=d,t.lineJoin=u||"bevel");let g=e.endAngle;if(i){Bf(t,e,s,n,g,a);for(let x=0;x<i;++x)t.stroke();isNaN(l)||(g=o+(l%ds||ds))}m&&Yte(t,e,g),i||(Bf(t,e,s,n,g,a),t.stroke())}class Jte extends _i{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,s,n){const a=this.getProps(["x","y"],n),{angle:i,distance:o}=zk(a,{x:e,y:s}),{startAngle:l,endAngle:c,innerRadius:d,outerRadius:u,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),f=(this.options.spacing+this.options.borderWidth)/2,m=vt(h,c-l),g=Bu(i,l,c)&&l!==c,x=m>=ds||g,j=gi(o,d+f,u+f);return x&&j}getCenterPoint(e){const{x:s,y:n,startAngle:a,endAngle:i,innerRadius:o,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:c,spacing:d}=this.options,u=(a+i)/2,h=(o+l+d+c)/2;return{x:s+Math.cos(u)*h,y:n+Math.sin(u)*h}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:s,circumference:n}=this,a=(s.offset||0)/4,i=(s.spacing||0)/2,o=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=n>ds?Math.floor(n/ds):0,n===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const l=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(l)*a,Math.sin(l)*a);const c=1-Math.sin(Math.min(bs,n||0)),d=a*c;e.fillStyle=s.backgroundColor,e.strokeStyle=s.borderColor,Xte(e,this,d,i,o),Qte(e,this,d,i,o),e.restore()}}function y_(t,e,s=e){t.lineCap=vt(s.borderCapStyle,e.borderCapStyle),t.setLineDash(vt(s.borderDash,e.borderDash)),t.lineDashOffset=vt(s.borderDashOffset,e.borderDashOffset),t.lineJoin=vt(s.borderJoinStyle,e.borderJoinStyle),t.lineWidth=vt(s.borderWidth,e.borderWidth),t.strokeStyle=vt(s.borderColor,e.borderColor)}function Zte(t,e,s){t.lineTo(s.x,s.y)}function ese(t){return t.stepped?vZ:t.tension||t.cubicInterpolationMode==="monotone"?wZ:Zte}function b_(t,e,s={}){const n=t.length,{start:a=0,end:i=n-1}=s,{start:o,end:l}=e,c=Math.max(a,o),d=Math.min(i,l),u=a<o&&i<o||a>l&&i>l;return{count:n,start:c,loop:e.loop,ilen:d<c&&!u?n+d-c:d-c}}function tse(t,e,s,n){const{points:a,options:i}=e,{count:o,start:l,loop:c,ilen:d}=b_(a,s,n),u=ese(i);let{move:h=!0,reverse:f}=n||{},m,g,x;for(m=0;m<=d;++m)g=a[(l+(f?d-m:m))%o],!g.skip&&(h?(t.moveTo(g.x,g.y),h=!1):u(t,x,g,f,i.stepped),x=g);return c&&(g=a[(l+(f?d:0))%o],u(t,x,g,f,i.stepped)),!!c}function sse(t,e,s,n){const a=e.points,{count:i,start:o,ilen:l}=b_(a,s,n),{move:c=!0,reverse:d}=n||{};let u=0,h=0,f,m,g,x,j,y;const b=A=>(o+(d?l-A:A))%i,k=()=>{x!==j&&(t.lineTo(u,j),t.lineTo(u,x),t.lineTo(u,y))};for(c&&(m=a[b(0)],t.moveTo(m.x,m.y)),f=0;f<=l;++f){if(m=a[b(f)],m.skip)continue;const A=m.x,E=m.y,I=A|0;I===g?(E<x?x=E:E>j&&(j=E),u=(h*u+A)/++h):(k(),t.lineTo(A,E),g=I,h=0,x=j=E),y=E}k()}function Ug(t){const e=t.options,s=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!s?sse:tse}function rse(t){return t.stepped?ZZ:t.tension||t.cubicInterpolationMode==="monotone"?eee:Oo}function nse(t,e,s,n){let a=e._path;a||(a=e._path=new Path2D,e.path(a,s,n)&&a.closePath()),y_(t,e.options),t.stroke(a)}function ase(t,e,s,n){const{segments:a,options:i}=e,o=Ug(e);for(const l of a)y_(t,i,l.style),t.beginPath(),o(t,e,l,{start:s,end:s+n-1})&&t.closePath(),t.stroke()}const ise=typeof Path2D=="function";function ose(t,e,s,n){ise&&!e.options.segment?nse(t,e,s,n):ase(t,e,s,n)}class Fp extends _i{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,s){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const a=n.spanGaps?this._loop:this._fullLoop;UZ(this._points,n,e,a,s),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=iee(this,this.options.segment))}first(){const e=this.segments,s=this.points;return e.length&&s[e[0].start]}last(){const e=this.segments,s=this.points,n=e.length;return n&&s[e[n-1].end]}interpolate(e,s){const n=this.options,a=e[s],i=this.points,o=n_(this,{property:s,start:a,end:a});if(!o.length)return;const l=[],c=rse(n);let d,u;for(d=0,u=o.length;d<u;++d){const{start:h,end:f}=o[d],m=i[h],g=i[f];if(m===g){l.push(m);continue}const x=Math.abs((a-m[s])/(g[s]-m[s])),j=c(m,g,x,n.stepped);j[s]=e[s],l.push(j)}return l.length===1?l[0]:l}pathSegment(e,s,n){return Ug(this)(e,this,s,n)}path(e,s,n){const a=this.segments,i=Ug(this);let o=this._loop;s=s||0,n=n||this.points.length-s;for(const l of a)o&=i(e,this,l,{start:s,end:s+n-1});return!!o}draw(e,s,n,a){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),ose(e,this,n,a),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function _j(t,e,s,n){const a=t.options,{[s]:i}=t.getProps([s],n);return Math.abs(e-i)<a.radius+a.hitRadius}class lse extends _i{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,s,n){const a=this.options,{x:i,y:o}=this.getProps(["x","y"],n);return Math.pow(e-i,2)+Math.pow(s-o,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(e,s){return _j(this,e,"x",s)}inYRange(e,s){return _j(this,e,"y",s)}getCenterPoint(e){const{x:s,y:n}=this.getProps(["x","y"],e);return{x:s,y:n}}size(e){e=e||this.options||{};let s=e.radius||0;s=Math.max(s,s&&e.hoverRadius||0);const n=s&&e.borderWidth||0;return(s+n)*2}draw(e,s){const n=this.options;this.skip||n.radius<.1||!qu(this,s,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,qg(e,n,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function v_(t,e){const{x:s,y:n,base:a,width:i,height:o}=t.getProps(["x","y","base","width","height"],e);let l,c,d,u,h;return t.horizontal?(h=o/2,l=Math.min(s,a),c=Math.max(s,a),d=n-h,u=n+h):(h=i/2,l=s-h,c=s+h,d=Math.min(n,a),u=Math.max(n,a)),{left:l,top:d,right:c,bottom:u}}function Xi(t,e,s,n){return t?0:Yr(e,s,n)}function cse(t,e,s){const n=t.options.borderWidth,a=t.borderSkipped,i=Gk(n);return{t:Xi(a.top,i.top,0,s),r:Xi(a.right,i.right,0,e),b:Xi(a.bottom,i.bottom,0,s),l:Xi(a.left,i.left,0,e)}}function dse(t,e,s){const{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),a=t.options.borderRadius,i=pc(a),o=Math.min(e,s),l=t.borderSkipped,c=n||kt(a);return{topLeft:Xi(!c||l.top||l.left,i.topLeft,0,o),topRight:Xi(!c||l.top||l.right,i.topRight,0,o),bottomLeft:Xi(!c||l.bottom||l.left,i.bottomLeft,0,o),bottomRight:Xi(!c||l.bottom||l.right,i.bottomRight,0,o)}}function use(t){const e=v_(t),s=e.right-e.left,n=e.bottom-e.top,a=cse(t,s/2,n/2),i=dse(t,s/2,n/2);return{outer:{x:e.left,y:e.top,w:s,h:n,radius:i},inner:{x:e.left+a.l,y:e.top+a.t,w:s-a.l-a.r,h:n-a.t-a.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,i.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(a.b,a.r))}}}}function I0(t,e,s,n){const a=e===null,i=s===null,l=t&&!(a&&i)&&v_(t,n);return l&&(a||gi(e,l.left,l.right))&&(i||gi(s,l.top,l.bottom))}function hse(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function mse(t,e){t.rect(e.x,e.y,e.w,e.h)}function M0(t,e,s={}){const n=t.x!==s.x?-e:0,a=t.y!==s.y?-e:0,i=(t.x+t.w!==s.x+s.w?e:0)-n,o=(t.y+t.h!==s.y+s.h?e:0)-a;return{x:t.x+n,y:t.y+a,w:t.w+i,h:t.h+o,radius:t.radius}}class fse extends _i{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:s,options:{borderColor:n,backgroundColor:a}}=this,{inner:i,outer:o}=use(this),l=hse(o.radius)?Rf:mse;e.save(),(o.w!==i.w||o.h!==i.h)&&(e.beginPath(),l(e,M0(o,s,i)),e.clip(),l(e,M0(i,-s,o)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),l(e,M0(i,s)),e.fillStyle=a,e.fill(),e.restore()}inRange(e,s,n){return I0(this,e,s,n)}inXRange(e,s){return I0(this,e,null,s)}inYRange(e,s){return I0(this,null,e,s)}getCenterPoint(e){const{x:s,y:n,base:a,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(s+a)/2:s,y:i?n:(n+a)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}function pse(t,e,s){const n=t.segments,a=t.points,i=e.points,o=[];for(const l of n){let{start:c,end:d}=l;d=Gb(c,d,a);const u=Vg(s,a[c],a[d],l.loop);if(!e.segments){o.push({source:l,target:u,start:a[c],end:a[d]});continue}const h=n_(e,u);for(const f of h){const m=Vg(s,i[f.start],i[f.end],f.loop),g=r_(l,a,m);for(const x of g)o.push({source:x,target:f,start:{[s]:Sj(u,m,"start",Math.max)},end:{[s]:Sj(u,m,"end",Math.min)}})}}return o}function Vg(t,e,s,n){if(n)return;let a=e[t],i=s[t];return t==="angle"&&(a=Pa(a),i=Pa(i)),{property:t,start:a,end:i}}function xse(t,e){const{x:s=null,y:n=null}=t||{},a=e.points,i=[];return e.segments.forEach(({start:o,end:l})=>{l=Gb(o,l,a);const c=a[o],d=a[l];n!==null?(i.push({x:c.x,y:n}),i.push({x:d.x,y:n})):s!==null&&(i.push({x:s,y:c.y}),i.push({x:s,y:d.y}))}),i}function Gb(t,e,s){for(;e>t;e--){const n=s[e];if(!isNaN(n.x)&&!isNaN(n.y))break}return e}function Sj(t,e,s,n){return t&&e?n(t[s],e[s]):t?t[s]:e?e[s]:0}function w_(t,e){let s=[],n=!1;return Os(t)?(n=!0,s=t):s=xse(t,e),s.length?new Fp({points:s,options:{tension:0},_loop:n,_fullLoop:n}):null}function Aj(t){return t&&t.fill!==!1}function gse(t,e,s){let a=t[e].fill;const i=[e];let o;if(!s)return a;for(;a!==!1&&i.indexOf(a)===-1;){if(!Sr(a))return a;if(o=t[a],!o)return!1;if(o.visible)return a;i.push(a),a=o.fill}return!1}function yse(t,e,s){const n=jse(t);if(kt(n))return isNaN(n.value)?!1:n;let a=parseFloat(n);return Sr(a)&&Math.floor(a)===a?bse(n[0],e,a,s):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function bse(t,e,s,n){return(t==="-"||t==="+")&&(s=e+s),s===e||s<0||s>=n?!1:s}function vse(t,e){let s=null;return t==="start"?s=e.bottom:t==="end"?s=e.top:kt(t)?s=e.getPixelForValue(t.value):e.getBasePixel&&(s=e.getBasePixel()),s}function wse(t,e,s){let n;return t==="start"?n=s:t==="end"?n=e.options.reverse?e.min:e.max:kt(t)?n=t.value:n=e.getBaseValue(),n}function jse(t){const e=t.options,s=e.fill;let n=vt(s&&s.target,s);return n===void 0&&(n=!!e.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function Nse(t){const{scale:e,index:s,line:n}=t,a=[],i=n.segments,o=n.points,l=kse(e,s);l.push(w_({x:null,y:e.bottom},n));for(let c=0;c<i.length;c++){const d=i[c];for(let u=d.start;u<=d.end;u++)_se(a,o[u],l)}return new Fp({points:a,options:{}})}function kse(t,e){const s=[],n=t.getMatchingVisibleMetas("line");for(let a=0;a<n.length;a++){const i=n[a];if(i.index===e)break;i.hidden||s.unshift(i.dataset)}return s}function _se(t,e,s){const n=[];for(let a=0;a<s.length;a++){const i=s[a],{first:o,last:l,point:c}=Sse(i,e,"x");if(!(!c||o&&l)){if(o)n.unshift(c);else if(t.push(c),!l)break}}t.push(...n)}function Sse(t,e,s){const n=t.interpolate(e,s);if(!n)return{};const a=n[s],i=t.segments,o=t.points;let l=!1,c=!1;for(let d=0;d<i.length;d++){const u=i[d],h=o[u.start][s],f=o[u.end][s];if(gi(a,h,f)){l=a===h,c=a===f;break}}return{first:l,last:c,point:n}}class j_{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,s,n){const{x:a,y:i,radius:o}=this;return s=s||{start:0,end:ds},e.arc(a,i,o,s.end,s.start,!0),!n.bounds}interpolate(e){const{x:s,y:n,radius:a}=this,i=e.angle;return{x:s+Math.cos(i)*a,y:n+Math.sin(i)*a,angle:i}}}function Ase(t){const{chart:e,fill:s,line:n}=t;if(Sr(s))return Cse(e,s);if(s==="stack")return Nse(t);if(s==="shape")return!0;const a=Pse(t);return a instanceof j_?a:w_(a,n)}function Cse(t,e){const s=t.getDatasetMeta(e);return s&&t.isDatasetVisible(e)?s.dataset:null}function Pse(t){return(t.scale||{}).getPointPositionForValue?Dse(t):Ese(t)}function Ese(t){const{scale:e={},fill:s}=t,n=vse(s,e);if(Sr(n)){const a=e.isHorizontal();return{x:a?n:null,y:a?null:n}}return null}function Dse(t){const{scale:e,fill:s}=t,n=e.options,a=e.getLabels().length,i=n.reverse?e.max:e.min,o=wse(s,e,i),l=[];if(n.grid.circular){const c=e.getPointPositionForValue(0,i);return new j_({x:c.x,y:c.y,radius:e.getDistanceFromCenterForValue(o)})}for(let c=0;c<a;++c)l.push(e.getPointPositionForValue(c,o));return l}function T0(t,e,s){const n=Ase(e),{chart:a,index:i,line:o,scale:l,axis:c}=e,d=o.options,u=d.fill,h=d.backgroundColor,{above:f=h,below:m=h}=u||{},g=a.getDatasetMeta(i),x=a_(a,g);n&&o.points.length&&(Lp(t,s),Lse(t,{line:o,target:n,above:f,below:m,area:s,scale:l,axis:c,clip:x}),Ip(t))}function Lse(t,e){const{line:s,target:n,above:a,below:i,area:o,scale:l,clip:c}=e,d=s._loop?"angle":e.axis;t.save(),d==="x"&&i!==a&&(Cj(t,n,o.top),Pj(t,{line:s,target:n,color:a,scale:l,property:d,clip:c}),t.restore(),t.save(),Cj(t,n,o.bottom)),Pj(t,{line:s,target:n,color:i,scale:l,property:d,clip:c}),t.restore()}function Cj(t,e,s){const{segments:n,points:a}=e;let i=!0,o=!1;t.beginPath();for(const l of n){const{start:c,end:d}=l,u=a[c],h=a[Gb(c,d,a)];i?(t.moveTo(u.x,u.y),i=!1):(t.lineTo(u.x,s),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,l,{move:o}),o?t.closePath():t.lineTo(h.x,s)}t.lineTo(e.first().x,s),t.closePath(),t.clip()}function Pj(t,e){const{line:s,target:n,property:a,color:i,scale:o,clip:l}=e,c=pse(s,n,a);for(const{source:d,target:u,start:h,end:f}of c){const{style:{backgroundColor:m=i}={}}=d,g=n!==!0;t.save(),t.fillStyle=m,Ise(t,o,l,g&&Vg(a,h,f)),t.beginPath();const x=!!s.pathSegment(t,d);let j;if(g){x?t.closePath():Ej(t,n,f,a);const y=!!n.pathSegment(t,u,{move:x,reverse:!0});j=x&&y,j||Ej(t,n,h,a)}t.closePath(),t.fill(j?"evenodd":"nonzero"),t.restore()}}function Ise(t,e,s,n){const a=e.chart.chartArea,{property:i,start:o,end:l}=n||{};if(i==="x"||i==="y"){let c,d,u,h;i==="x"?(c=o,d=a.top,u=l,h=a.bottom):(c=a.left,d=o,u=a.right,h=l),t.beginPath(),s&&(c=Math.max(c,s.left),u=Math.min(u,s.right),d=Math.max(d,s.top),h=Math.min(h,s.bottom)),t.rect(c,d,u-c,h-d),t.clip()}}function Ej(t,e,s,n){const a=e.interpolate(s,n);a&&t.lineTo(a.x,a.y)}var Mse={id:"filler",afterDatasetsUpdate(t,e,s){const n=(t.data.datasets||[]).length,a=[];let i,o,l,c;for(o=0;o<n;++o)i=t.getDatasetMeta(o),l=i.dataset,c=null,l&&l.options&&l instanceof Fp&&(c={visible:t.isDatasetVisible(o),index:o,fill:yse(l,o,n),chart:t,axis:i.controller.options.indexAxis,scale:i.vScale,line:l}),i.$filler=c,a.push(c);for(o=0;o<n;++o)c=a[o],!(!c||c.fill===!1)&&(c.fill=gse(a,o,s.propagate))},beforeDraw(t,e,s){const n=s.drawTime==="beforeDraw",a=t.getSortedVisibleDatasetMetas(),i=t.chartArea;for(let o=a.length-1;o>=0;--o){const l=a[o].$filler;l&&(l.line.updateControlPoints(i,l.axis),n&&l.fill&&T0(t.ctx,l,i))}},beforeDatasetsDraw(t,e,s){if(s.drawTime!=="beforeDatasetsDraw")return;const n=t.getSortedVisibleDatasetMetas();for(let a=n.length-1;a>=0;--a){const i=n[a].$filler;Aj(i)&&T0(t.ctx,i,t.chartArea)}},beforeDatasetDraw(t,e,s){const n=e.meta.$filler;!Aj(n)||s.drawTime!=="beforeDatasetDraw"||T0(t.ctx,n,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Dj=(t,e)=>{let{boxHeight:s=e,boxWidth:n=e}=t;return t.usePointStyle&&(s=Math.min(s,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:s,itemHeight:Math.max(e,s)}},Tse=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Lj extends _i{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,s,n){this.maxWidth=e,this.maxHeight=s,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let s=Zt(e.generateLabels,[this.chart],this)||[];e.filter&&(s=s.filter(n=>e.filter(n,this.chart.data))),e.sort&&(s=s.sort((n,a)=>e.sort(n,a,this.chart.data))),this.options.reverse&&s.reverse(),this.legendItems=s}fit(){const{options:e,ctx:s}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,a=kr(n.font),i=a.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=Dj(n,i);let d,u;s.font=a.string,this.isHorizontal()?(d=this.maxWidth,u=this._fitRows(o,i,l,c)+10):(u=this.maxHeight,d=this._fitCols(o,a,l,c)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,s,n,a){const{ctx:i,maxWidth:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.lineWidths=[0],u=a+l;let h=e;i.textAlign="left",i.textBaseline="middle";let f=-1,m=-u;return this.legendItems.forEach((g,x)=>{const j=n+s/2+i.measureText(g.text).width;(x===0||d[d.length-1]+j+2*l>o)&&(h+=u,d[d.length-(x>0?0:1)]=0,m+=u,f++),c[x]={left:0,top:m,row:f,width:j,height:a},d[d.length-1]+=j+l}),h}_fitCols(e,s,n,a){const{ctx:i,maxHeight:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.columnSizes=[],u=o-e;let h=l,f=0,m=0,g=0,x=0;return this.legendItems.forEach((j,y)=>{const{itemWidth:b,itemHeight:k}=Fse(n,s,i,j,a);y>0&&m+k+2*l>u&&(h+=f+l,d.push({width:f,height:m}),g+=f+l,x++,f=m=0),c[y]={left:g,top:m,col:x,width:b,height:k},f=Math.max(f,b),m+=k+l}),h+=f,d.push({width:f,height:m}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:s,options:{align:n,labels:{padding:a},rtl:i}}=this,o=xc(i,this.left,this.width);if(this.isHorizontal()){let l=0,c=jr(n,this.left+a,this.right-this.lineWidths[l]);for(const d of s)l!==d.row&&(l=d.row,c=jr(n,this.left+a,this.right-this.lineWidths[l])),d.top+=this.top+e+a,d.left=o.leftForLtr(o.x(c),d.width),c+=d.width+a}else{let l=0,c=jr(n,this.top+e+a,this.bottom-this.columnSizes[l].height);for(const d of s)d.col!==l&&(l=d.col,c=jr(n,this.top+e+a,this.bottom-this.columnSizes[l].height)),d.top=c,d.left+=this.left+a,d.left=o.leftForLtr(o.x(d.left),d.width),c+=d.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Lp(e,this),this._draw(),Ip(e)}}_draw(){const{options:e,columnSizes:s,lineWidths:n,ctx:a}=this,{align:i,labels:o}=e,l=Ps.color,c=xc(e.rtl,this.left,this.width),d=kr(o.font),{padding:u}=o,h=d.size,f=h/2;let m;this.drawTitle(),a.textAlign=c.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=d.string;const{boxWidth:g,boxHeight:x,itemHeight:j}=Dj(o,h),y=function(I,_,v){if(isNaN(g)||g<=0||isNaN(x)||x<0)return;a.save();const P=vt(v.lineWidth,1);if(a.fillStyle=vt(v.fillStyle,l),a.lineCap=vt(v.lineCap,"butt"),a.lineDashOffset=vt(v.lineDashOffset,0),a.lineJoin=vt(v.lineJoin,"miter"),a.lineWidth=P,a.strokeStyle=vt(v.strokeStyle,l),a.setLineDash(vt(v.lineDash,[])),o.usePointStyle){const L={radius:x*Math.SQRT2/2,pointStyle:v.pointStyle,rotation:v.rotation,borderWidth:P},S=c.xPlus(I,g/2),C=_+f;Yk(a,L,S,C,o.pointStyleWidth&&g)}else{const L=_+Math.max((h-x)/2,0),S=c.leftForLtr(I,g),C=pc(v.borderRadius);a.beginPath(),Object.values(C).some(O=>O!==0)?Rf(a,{x:S,y:L,w:g,h:x,radius:C}):a.rect(S,L,g,x),a.fill(),P!==0&&a.stroke()}a.restore()},b=function(I,_,v){Hu(a,v.text,I,_+j/2,d,{strikethrough:v.hidden,textAlign:c.textAlign(v.textAlign)})},k=this.isHorizontal(),A=this._computeTitleHeight();k?m={x:jr(i,this.left+u,this.right-n[0]),y:this.top+u+A,line:0}:m={x:this.left+u,y:jr(i,this.top+A+u,this.bottom-s[0].height),line:0},e_(this.ctx,e.textDirection);const E=j+u;this.legendItems.forEach((I,_)=>{a.strokeStyle=I.fontColor,a.fillStyle=I.fontColor;const v=a.measureText(I.text).width,P=c.textAlign(I.textAlign||(I.textAlign=o.textAlign)),L=g+f+v;let S=m.x,C=m.y;c.setWidth(this.width),k?_>0&&S+L+u>this.right&&(C=m.y+=E,m.line++,S=m.x=jr(i,this.left+u,this.right-n[m.line])):_>0&&C+E>this.bottom&&(S=m.x=S+s[m.line].width+u,m.line++,C=m.y=jr(i,this.top+A+u,this.bottom-s[m.line].height));const O=c.x(S);if(y(O,C,I),S=dZ(P,S+g+f,k?S+L:this.right,e.rtl),b(c.x(S),C,I),k)m.x+=L+u;else if(typeof I.text!="string"){const z=d.lineHeight;m.y+=N_(I,z)+u}else m.y+=E}),t_(this.ctx,e.textDirection)}drawTitle(){const e=this.options,s=e.title,n=kr(s.font),a=In(s.padding);if(!s.display)return;const i=xc(e.rtl,this.left,this.width),o=this.ctx,l=s.position,c=n.size/2,d=a.top+c;let u,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+d,h=jr(e.align,h,this.right-f);else{const g=this.columnSizes.reduce((x,j)=>Math.max(x,j.height),0);u=d+jr(e.align,this.top,this.bottom-g-e.labels.padding-this._computeTitleHeight())}const m=jr(l,h,h+f);o.textAlign=i.textAlign(Ob(l)),o.textBaseline="middle",o.strokeStyle=s.color,o.fillStyle=s.color,o.font=n.string,Hu(o,s.text,m,u,n)}_computeTitleHeight(){const e=this.options.title,s=kr(e.font),n=In(e.padding);return e.display?s.lineHeight+n.height:0}_getLegendItemAt(e,s){let n,a,i;if(gi(e,this.left,this.right)&&gi(s,this.top,this.bottom)){for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(a=i[n],gi(e,a.left,a.left+a.width)&&gi(s,a.top,a.top+a.height))return this.legendItems[n]}return null}handleEvent(e){const s=this.options;if(!$se(e.type,s))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const a=this._hoveredItem,i=Tse(a,n);a&&!i&&Zt(s.onLeave,[e,a,this],this),this._hoveredItem=n,n&&!i&&Zt(s.onHover,[e,n,this],this)}else n&&Zt(s.onClick,[e,n,this],this)}}function Fse(t,e,s,n,a){const i=Ose(n,t,e,s),o=Rse(a,n,e.lineHeight);return{itemWidth:i,itemHeight:o}}function Ose(t,e,s,n){let a=t.text;return a&&typeof a!="string"&&(a=a.reduce((i,o)=>i.length>o.length?i:o)),e+s.size/2+n.measureText(a).width}function Rse(t,e,s){let n=t;return typeof e.text!="string"&&(n=N_(e,s)),n}function N_(t,e){const s=t.text?t.text.length:0;return e*s}function $se(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var zse={id:"legend",_element:Lj,start(t,e,s){const n=t.legend=new Lj({ctx:t.ctx,options:s,chart:t});Cn.configure(t,n,s),Cn.addBox(t,n)},stop(t){Cn.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,s){const n=t.legend;Cn.configure(t,n,s),n.options=s},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,s){const n=e.datasetIndex,a=s.chart;a.isDatasetVisible(n)?(a.hide(n),e.hidden=!0):(a.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:s,pointStyle:n,textAlign:a,color:i,useBorderRadius:o,borderRadius:l}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{const d=c.controller.getStyle(s?0:void 0),u=In(d.borderWidth);return{text:e[c.index].label,fillStyle:d.backgroundColor,fontColor:i,hidden:!c.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:d.borderColor,pointStyle:n||d.pointStyle,rotation:d.rotation,textAlign:a||d.textAlign,borderRadius:o&&(l||d.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class k_ extends _i{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,s){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=s;const a=Os(n.text)?n.text.length:1;this._padding=In(n.padding);const i=a*kr(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:s,left:n,bottom:a,right:i,options:o}=this,l=o.align;let c=0,d,u,h;return this.isHorizontal()?(u=jr(l,n,i),h=s+e,d=i-n):(o.position==="left"?(u=n+e,h=jr(l,a,s),c=bs*-.5):(u=i-e,h=jr(l,s,a),c=bs*.5),d=a-s),{titleX:u,titleY:h,maxWidth:d,rotation:c}}draw(){const e=this.ctx,s=this.options;if(!s.display)return;const n=kr(s.font),i=n.lineHeight/2+this._padding.top,{titleX:o,titleY:l,maxWidth:c,rotation:d}=this._drawArgs(i);Hu(e,s.text,0,0,n,{color:s.color,maxWidth:c,rotation:d,textAlign:Ob(s.align),textBaseline:"middle",translation:[o,l]})}}function Bse(t,e){const s=new k_({ctx:t.ctx,options:e,chart:t});Cn.configure(t,s,e),Cn.addBox(t,s),t.titleBlock=s}var qse={id:"title",_element:k_,start(t,e,s){Bse(t,s)},stop(t){const e=t.titleBlock;Cn.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,s){const n=t.titleBlock;Cn.configure(t,n,s),n.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Jd={average(t){if(!t.length)return!1;let e,s,n=new Set,a=0,i=0;for(e=0,s=t.length;e<s;++e){const l=t[e].element;if(l&&l.hasValue()){const c=l.tooltipPosition();n.add(c.x),a+=c.y,++i}}return i===0||n.size===0?!1:{x:[...n].reduce((l,c)=>l+c)/n.size,y:a/i}},nearest(t,e){if(!t.length)return!1;let s=e.x,n=e.y,a=Number.POSITIVE_INFINITY,i,o,l;for(i=0,o=t.length;i<o;++i){const c=t[i].element;if(c&&c.hasValue()){const d=c.getCenterPoint(),u=$g(e,d);u<a&&(a=u,l=c)}}if(l){const c=l.tooltipPosition();s=c.x,n=c.y}return{x:s,y:n}}};function ka(t,e){return e&&(Os(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function mi(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function Hse(t,e){const{element:s,datasetIndex:n,index:a}=e,i=t.getDatasetMeta(n).controller,{label:o,value:l}=i.getLabelAndValue(a);return{chart:t,label:o,parsed:i.getParsed(a),raw:t.data.datasets[n].data[a],formattedValue:l,dataset:i.getDataset(),dataIndex:a,datasetIndex:n,element:s}}function Ij(t,e){const s=t.chart.ctx,{body:n,footer:a,title:i}=t,{boxWidth:o,boxHeight:l}=e,c=kr(e.bodyFont),d=kr(e.titleFont),u=kr(e.footerFont),h=i.length,f=a.length,m=n.length,g=In(e.padding);let x=g.height,j=0,y=n.reduce((A,E)=>A+E.before.length+E.lines.length+E.after.length,0);if(y+=t.beforeBody.length+t.afterBody.length,h&&(x+=h*d.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),y){const A=e.displayColors?Math.max(l,c.lineHeight):c.lineHeight;x+=m*A+(y-m)*c.lineHeight+(y-1)*e.bodySpacing}f&&(x+=e.footerMarginTop+f*u.lineHeight+(f-1)*e.footerSpacing);let b=0;const k=function(A){j=Math.max(j,s.measureText(A).width+b)};return s.save(),s.font=d.string,zt(t.title,k),s.font=c.string,zt(t.beforeBody.concat(t.afterBody),k),b=e.displayColors?o+2+e.boxPadding:0,zt(n,A=>{zt(A.before,k),zt(A.lines,k),zt(A.after,k)}),b=0,s.font=u.string,zt(t.footer,k),s.restore(),j+=g.width,{width:j,height:x}}function Wse(t,e){const{y:s,height:n}=e;return s<n/2?"top":s>t.height-n/2?"bottom":"center"}function Use(t,e,s,n){const{x:a,width:i}=n,o=s.caretSize+s.caretPadding;if(t==="left"&&a+i+o>e.width||t==="right"&&a-i-o<0)return!0}function Vse(t,e,s,n){const{x:a,width:i}=s,{width:o,chartArea:{left:l,right:c}}=t;let d="center";return n==="center"?d=a<=(l+c)/2?"left":"right":a<=i/2?d="left":a>=o-i/2&&(d="right"),Use(d,t,e,s)&&(d="center"),d}function Mj(t,e,s){const n=s.yAlign||e.yAlign||Wse(t,s);return{xAlign:s.xAlign||e.xAlign||Vse(t,e,s,n),yAlign:n}}function Yse(t,e){let{x:s,width:n}=t;return e==="right"?s-=n:e==="center"&&(s-=n/2),s}function Gse(t,e,s){let{y:n,height:a}=t;return e==="top"?n+=s:e==="bottom"?n-=a+s:n-=a/2,n}function Tj(t,e,s,n){const{caretSize:a,caretPadding:i,cornerRadius:o}=t,{xAlign:l,yAlign:c}=s,d=a+i,{topLeft:u,topRight:h,bottomLeft:f,bottomRight:m}=pc(o);let g=Yse(e,l);const x=Gse(e,c,d);return c==="center"?l==="left"?g+=d:l==="right"&&(g-=d):l==="left"?g-=Math.max(u,f)+a:l==="right"&&(g+=Math.max(h,m)+a),{x:Yr(g,0,n.width-e.width),y:Yr(x,0,n.height-e.height)}}function zm(t,e,s){const n=In(s.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-n.right:t.x+n.left}function Fj(t){return ka([],mi(t))}function Kse(t,e,s){return xl(t,{tooltip:e,tooltipItems:s,type:"tooltip"})}function Oj(t,e){const s=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return s?t.override(s):t}const __={beforeTitle:di,title(t){if(t.length>0){const e=t[0],s=e.chart.data.labels,n=s?s.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return s[e.dataIndex]}return""},afterTitle:di,beforeBody:di,beforeLabel:di,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const s=t.formattedValue;return Yt(s)||(e+=s),e},labelColor(t){const s=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:s.borderColor,backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const s=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:s.pointStyle,rotation:s.rotation}},afterLabel:di,afterBody:di,beforeFooter:di,footer:di,afterFooter:di};function Wr(t,e,s,n){const a=t[e].call(s,n);return typeof a>"u"?__[e].call(s,n):a}class Rj extends _i{static positioners=Jd;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const s=this.chart,n=this.options.setContext(this.getContext()),a=n.enabled&&s.options.animation&&n.animations,i=new i_(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=Kse(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,s){const{callbacks:n}=s,a=Wr(n,"beforeTitle",this,e),i=Wr(n,"title",this,e),o=Wr(n,"afterTitle",this,e);let l=[];return l=ka(l,mi(a)),l=ka(l,mi(i)),l=ka(l,mi(o)),l}getBeforeBody(e,s){return Fj(Wr(s.callbacks,"beforeBody",this,e))}getBody(e,s){const{callbacks:n}=s,a=[];return zt(e,i=>{const o={before:[],lines:[],after:[]},l=Oj(n,i);ka(o.before,mi(Wr(l,"beforeLabel",this,i))),ka(o.lines,Wr(l,"label",this,i)),ka(o.after,mi(Wr(l,"afterLabel",this,i))),a.push(o)}),a}getAfterBody(e,s){return Fj(Wr(s.callbacks,"afterBody",this,e))}getFooter(e,s){const{callbacks:n}=s,a=Wr(n,"beforeFooter",this,e),i=Wr(n,"footer",this,e),o=Wr(n,"afterFooter",this,e);let l=[];return l=ka(l,mi(a)),l=ka(l,mi(i)),l=ka(l,mi(o)),l}_createItems(e){const s=this._active,n=this.chart.data,a=[],i=[],o=[];let l=[],c,d;for(c=0,d=s.length;c<d;++c)l.push(Hse(this.chart,s[c]));return e.filter&&(l=l.filter((u,h,f)=>e.filter(u,h,f,n))),e.itemSort&&(l=l.sort((u,h)=>e.itemSort(u,h,n))),zt(l,u=>{const h=Oj(e.callbacks,u);a.push(Wr(h,"labelColor",this,u)),i.push(Wr(h,"labelPointStyle",this,u)),o.push(Wr(h,"labelTextColor",this,u))}),this.labelColors=a,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=l,l}update(e,s){const n=this.options.setContext(this.getContext()),a=this._active;let i,o=[];if(!a.length)this.opacity!==0&&(i={opacity:0});else{const l=Jd[n.position].call(this,a,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const c=this._size=Ij(this,n),d=Object.assign({},l,c),u=Mj(this.chart,n,d),h=Tj(n,d,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,i={opacity:1,x:h.x,y:h.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(e,s,n,a){const i=this.getCaretPosition(e,n,a);s.lineTo(i.x1,i.y1),s.lineTo(i.x2,i.y2),s.lineTo(i.x3,i.y3)}getCaretPosition(e,s,n){const{xAlign:a,yAlign:i}=this,{caretSize:o,cornerRadius:l}=n,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:h}=pc(l),{x:f,y:m}=e,{width:g,height:x}=s;let j,y,b,k,A,E;return i==="center"?(A=m+x/2,a==="left"?(j=f,y=j-o,k=A+o,E=A-o):(j=f+g,y=j+o,k=A-o,E=A+o),b=j):(a==="left"?y=f+Math.max(c,u)+o:a==="right"?y=f+g-Math.max(d,h)-o:y=this.caretX,i==="top"?(k=m,A=k-o,j=y-o,b=y+o):(k=m+x,A=k+o,j=y+o,b=y-o),E=k),{x1:j,x2:y,x3:b,y1:k,y2:A,y3:E}}drawTitle(e,s,n){const a=this.title,i=a.length;let o,l,c;if(i){const d=xc(n.rtl,this.x,this.width);for(e.x=zm(this,n.titleAlign,n),s.textAlign=d.textAlign(n.titleAlign),s.textBaseline="middle",o=kr(n.titleFont),l=n.titleSpacing,s.fillStyle=n.titleColor,s.font=o.string,c=0;c<i;++c)s.fillText(a[c],d.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+l,c+1===i&&(e.y+=n.titleMarginBottom-l)}}_drawColorBox(e,s,n,a,i){const o=this.labelColors[n],l=this.labelPointStyles[n],{boxHeight:c,boxWidth:d}=i,u=kr(i.bodyFont),h=zm(this,"left",i),f=a.x(h),m=c<u.lineHeight?(u.lineHeight-c)/2:0,g=s.y+m;if(i.usePointStyle){const x={radius:Math.min(d,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},j=a.leftForLtr(f,d)+d/2,y=g+c/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,qg(e,x,j,y),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,qg(e,x,j,y)}else{e.lineWidth=kt(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const x=a.leftForLtr(f,d),j=a.leftForLtr(a.xPlus(f,1),d-2),y=pc(o.borderRadius);Object.values(y).some(b=>b!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,Rf(e,{x,y:g,w:d,h:c,radius:y}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Rf(e,{x:j,y:g+1,w:d-2,h:c-2,radius:y}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(x,g,d,c),e.strokeRect(x,g,d,c),e.fillStyle=o.backgroundColor,e.fillRect(j,g+1,d-2,c-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,s,n){const{body:a}=this,{bodySpacing:i,bodyAlign:o,displayColors:l,boxHeight:c,boxWidth:d,boxPadding:u}=n,h=kr(n.bodyFont);let f=h.lineHeight,m=0;const g=xc(n.rtl,this.x,this.width),x=function(v){s.fillText(v,g.x(e.x+m),e.y+f/2),e.y+=f+i},j=g.textAlign(o);let y,b,k,A,E,I,_;for(s.textAlign=o,s.textBaseline="middle",s.font=h.string,e.x=zm(this,j,n),s.fillStyle=n.bodyColor,zt(this.beforeBody,x),m=l&&j!=="right"?o==="center"?d/2+u:d+2+u:0,A=0,I=a.length;A<I;++A){for(y=a[A],b=this.labelTextColors[A],s.fillStyle=b,zt(y.before,x),k=y.lines,l&&k.length&&(this._drawColorBox(s,e,A,g,n),f=Math.max(h.lineHeight,c)),E=0,_=k.length;E<_;++E)x(k[E]),f=h.lineHeight;zt(y.after,x)}m=0,f=h.lineHeight,zt(this.afterBody,x),e.y-=i}drawFooter(e,s,n){const a=this.footer,i=a.length;let o,l;if(i){const c=xc(n.rtl,this.x,this.width);for(e.x=zm(this,n.footerAlign,n),e.y+=n.footerMarginTop,s.textAlign=c.textAlign(n.footerAlign),s.textBaseline="middle",o=kr(n.footerFont),s.fillStyle=n.footerColor,s.font=o.string,l=0;l<i;++l)s.fillText(a[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+n.footerSpacing}}drawBackground(e,s,n,a){const{xAlign:i,yAlign:o}=this,{x:l,y:c}=e,{width:d,height:u}=n,{topLeft:h,topRight:f,bottomLeft:m,bottomRight:g}=pc(a.cornerRadius);s.fillStyle=a.backgroundColor,s.strokeStyle=a.borderColor,s.lineWidth=a.borderWidth,s.beginPath(),s.moveTo(l+h,c),o==="top"&&this.drawCaret(e,s,n,a),s.lineTo(l+d-f,c),s.quadraticCurveTo(l+d,c,l+d,c+f),o==="center"&&i==="right"&&this.drawCaret(e,s,n,a),s.lineTo(l+d,c+u-g),s.quadraticCurveTo(l+d,c+u,l+d-g,c+u),o==="bottom"&&this.drawCaret(e,s,n,a),s.lineTo(l+m,c+u),s.quadraticCurveTo(l,c+u,l,c+u-m),o==="center"&&i==="left"&&this.drawCaret(e,s,n,a),s.lineTo(l,c+h),s.quadraticCurveTo(l,c,l+h,c),s.closePath(),s.fill(),a.borderWidth>0&&s.stroke()}_updateAnimationTarget(e){const s=this.chart,n=this.$animations,a=n&&n.x,i=n&&n.y;if(a||i){const o=Jd[e.position].call(this,this._active,this._eventPosition);if(!o)return;const l=this._size=Ij(this,e),c=Object.assign({},o,this._size),d=Mj(s,e,c),u=Tj(e,c,d,s);(a._to!==u.x||i._to!==u.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const s=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(s);const a={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=In(s.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;s.enabled&&l&&(e.save(),e.globalAlpha=n,this.drawBackground(i,e,a,s),e_(e,s.textDirection),i.y+=o.top,this.drawTitle(i,e,s),this.drawBody(i,e,s),this.drawFooter(i,e,s),t_(e,s.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,s){const n=this._active,a=e.map(({datasetIndex:l,index:c})=>{const d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[c],index:c}}),i=!Mf(n,a),o=this._positionChanged(a,s);(i||o)&&(this._active=a,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,s,n=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,i=this._active||[],o=this._getActiveElements(e,i,s,n),l=this._positionChanged(o,e),c=s||!Mf(o,i)||l;return c&&(this._active=o,(a.enabled||a.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,s))),c}_getActiveElements(e,s,n,a){const i=this.options;if(e.type==="mouseout")return[];if(!a)return s.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,i.mode,i,n);return i.reverse&&o.reverse(),o}_positionChanged(e,s){const{caretX:n,caretY:a,options:i}=this,o=Jd[i.position].call(this,e,s);return o!==!1&&(n!==o.x||a!==o.y)}}var Xse={id:"tooltip",_element:Rj,positioners:Jd,afterInit(t,e,s){s&&(t.tooltip=new Rj({chart:t,options:s}))},beforeUpdate(t,e,s){t.tooltip&&t.tooltip.initialize(s)},reset(t,e,s){t.tooltip&&t.tooltip.initialize(s)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const s={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...s,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",s)}},afterEvent(t,e){if(t.tooltip){const s=e.replay;t.tooltip.handleEvent(e.event,s,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:__},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Qse=(t,e,s,n)=>(typeof e=="string"?(s=t.push(e)-1,n.unshift({index:s,label:e})):isNaN(e)&&(s=null),s);function Jse(t,e,s,n){const a=t.indexOf(e);if(a===-1)return Qse(t,e,s,n);const i=t.lastIndexOf(e);return a!==i?s:a}const Zse=(t,e)=>t===null?null:Yr(Math.round(t),0,e);function $j(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class ere extends Gc{static id="category";static defaults={ticks:{callback:$j}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const s=this._addedLabels;if(s.length){const n=this.getLabels();for(const{index:a,label:i}of s)n[a]===i&&n.splice(a,1);this._addedLabels=[]}super.init(e)}parse(e,s){if(Yt(e))return null;const n=this.getLabels();return s=isFinite(s)&&n[s]===e?s:Jse(n,e,vt(s,e),this._addedLabels),Zse(s,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:s}=this.getUserBounds();let{min:n,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),s||(a=this.getLabels().length-1)),this.min=n,this.max=a}buildTicks(){const e=this.min,s=this.max,n=this.options.offset,a=[];let i=this.getLabels();i=e===0&&s===i.length-1?i:i.slice(e,s+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=e;o<=s;o++)a.push({value:o});return a}getLabelForValue(e){return $j.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const s=this.ticks;return e<0||e>s.length-1?null:this.getPixelForValue(s[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function tre(t,e){const s=[],{bounds:a,step:i,min:o,max:l,precision:c,count:d,maxTicks:u,maxDigits:h,includeBounds:f}=t,m=i||1,g=u-1,{min:x,max:j}=e,y=!Yt(o),b=!Yt(l),k=!Yt(d),A=(j-x)/(h+1);let E=Tw((j-x)/g/m)*m,I,_,v,P;if(E<1e-14&&!y&&!b)return[{value:x},{value:j}];P=Math.ceil(j/E)-Math.floor(x/E),P>g&&(E=Tw(P*E/g/m)*m),Yt(c)||(I=Math.pow(10,c),E=Math.ceil(E*I)/I),a==="ticks"?(_=Math.floor(x/E)*E,v=Math.ceil(j/E)*E):(_=x,v=j),y&&b&&i&&tZ((l-o)/i,E/1e3)?(P=Math.round(Math.min((l-o)/E,u)),E=(l-o)/P,_=o,v=l):k?(_=y?o:_,v=b?l:v,P=d-1,E=(v-_)/P):(P=(v-_)/E,mu(P,Math.round(P),E/1e3)?P=Math.round(P):P=Math.ceil(P));const L=Math.max(Fw(E),Fw(_));I=Math.pow(10,Yt(c)?L:c),_=Math.round(_*I)/I,v=Math.round(v*I)/I;let S=0;for(y&&(f&&_!==o?(s.push({value:o}),_<o&&S++,mu(Math.round((_+S*E)*I)/I,o,zj(o,A,t))&&S++):_<o&&S++);S<P;++S){const C=Math.round((_+S*E)*I)/I;if(b&&C>l)break;s.push({value:C})}return b&&f&&v!==l?s.length&&mu(s[s.length-1].value,l,zj(l,A,t))?s[s.length-1].value=l:s.push({value:l}):(!b||v===l)&&s.push({value:v}),s}function zj(t,e,{horizontal:s,minRotation:n}){const a=xi(n),i=(s?Math.sin(a):Math.cos(a))||.001,o=.75*e*(""+t).length;return Math.min(e/i,o)}class sre extends Gc{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,s){return Yt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:s,maxDefined:n}=this.getUserBounds();let{min:a,max:i}=this;const o=c=>a=s?a:c,l=c=>i=n?i:c;if(e){const c=qa(a),d=qa(i);c<0&&d<0?l(0):c>0&&d>0&&o(0)}if(a===i){let c=i===0?1:Math.abs(i*.05);l(i+c),e||o(a-c)}this.min=a,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:s,stepSize:n}=e,a;return n?(a=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),s=s||11),s&&(a=Math.min(s,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,s=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const a={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:s.minRotation||0,includeBounds:s.includeBounds!==!1},i=this._range||this,o=tre(a,i);return e.bounds==="ticks"&&sZ(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let s=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const a=(n-s)/Math.max(e.length-1,1)/2;s-=a,n+=a}this._startValue=s,this._endValue=n,this._valueRange=n-s}getLabelForValue(e){return $b(e,this.chart.options.locale,this.options.ticks.format)}}class rre extends sre{static id="linear";static defaults={ticks:{callback:Vk.formatters.numeric}};determineDataLimits(){const{min:e,max:s}=this.getMinMax(!0);this.min=Sr(e)?e:0,this.max=Sr(s)?s:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),s=e?this.width:this.height,n=xi(this.options.ticks.minRotation),a=(e?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,i.lineHeight/a))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const Op={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Vr=Object.keys(Op);function Bj(t,e){return t-e}function qj(t,e){if(Yt(e))return null;const s=t._adapter,{parser:n,round:a,isoWeekday:i}=t._parseOpts;let o=e;return typeof n=="function"&&(o=n(o)),Sr(o)||(o=typeof n=="string"?s.parse(o,n):s.parse(o)),o===null?null:(a&&(o=a==="week"&&(Of(i)||i===!0)?s.startOf(o,"isoWeek",i):s.startOf(o,a)),+o)}function Hj(t,e,s,n){const a=Vr.length;for(let i=Vr.indexOf(t);i<a-1;++i){const o=Op[Vr[i]],l=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((s-e)/(l*o.size))<=n)return Vr[i]}return Vr[a-1]}function nre(t,e,s,n,a){for(let i=Vr.length-1;i>=Vr.indexOf(s);i--){const o=Vr[i];if(Op[o].common&&t._adapter.diff(a,n,o)>=e-1)return o}return Vr[s?Vr.indexOf(s):0]}function are(t){for(let e=Vr.indexOf(t)+1,s=Vr.length;e<s;++e)if(Op[Vr[e]].common)return Vr[e]}function Wj(t,e,s){if(!s)t[e]=!0;else if(s.length){const{lo:n,hi:a}=Fb(s,e),i=s[n]>=e?s[n]:s[a];t[i]=!0}}function ire(t,e,s,n){const a=t._adapter,i=+a.startOf(e[0].value,n),o=e[e.length-1].value;let l,c;for(l=i;l<=o;l=+a.add(l,1,n))c=s[l],c>=0&&(e[c].major=!0);return e}function Uj(t,e,s){const n=[],a={},i=e.length;let o,l;for(o=0;o<i;++o)l=e[o],a[l]=o,n.push({value:l,major:!1});return i===0||!s?n:ire(t,n,a,s)}class Vj extends Gc{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,s={}){const n=e.time||(e.time={}),a=this._adapter=new Ree._date(e.adapters.date);a.init(s),hu(n.displayFormats,a.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=s.normalized}parse(e,s){return e===void 0?null:qj(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,s=this._adapter,n=e.time.unit||"day";let{min:a,max:i,minDefined:o,maxDefined:l}=this.getUserBounds();function c(d){!o&&!isNaN(d.min)&&(a=Math.min(a,d.min)),!l&&!isNaN(d.max)&&(i=Math.max(i,d.max))}(!o||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),a=Sr(a)&&!isNaN(a)?a:+s.startOf(Date.now(),n),i=Sr(i)&&!isNaN(i)?i:+s.endOf(Date.now(),n)+1,this.min=Math.min(a,i-1),this.max=Math.max(a+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let s=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(s=e[0],n=e[e.length-1]),{min:s,max:n}}buildTicks(){const e=this.options,s=e.time,n=e.ticks,a=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const i=this.min,o=this.max,l=oZ(a,i,o);return this._unit=s.unit||(n.autoSkip?Hj(s.minUnit,this.min,this.max,this._getLabelCapacity(i)):nre(this,l.length,s.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:are(this._unit),this.initOffsets(a),e.reverse&&l.reverse(),Uj(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let s=0,n=0,a,i;this.options.offset&&e.length&&(a=this.getDecimalForValue(e[0]),e.length===1?s=1-a:s=(this.getDecimalForValue(e[1])-a)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?n=i:n=(i-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;s=Yr(s,0,o),n=Yr(n,0,o),this._offsets={start:s,end:n,factor:1/(s+1+n)}}_generate(){const e=this._adapter,s=this.min,n=this.max,a=this.options,i=a.time,o=i.unit||Hj(i.minUnit,s,n,this._getLabelCapacity(s)),l=vt(a.ticks.stepSize,1),c=o==="week"?i.isoWeekday:!1,d=Of(c)||c===!0,u={};let h=s,f,m;if(d&&(h=+e.startOf(h,"isoWeek",c)),h=+e.startOf(h,d?"day":o),e.diff(n,s,o)>1e5*l)throw new Error(s+" and "+n+" are too far apart with stepSize of "+l+" "+o);const g=a.ticks.source==="data"&&this.getDataTimestamps();for(f=h,m=0;f<n;f=+e.add(f,l,o),m++)Wj(u,f,g);return(f===n||a.bounds==="ticks"||m===1)&&Wj(u,f,g),Object.keys(u).sort(Bj).map(x=>+x)}getLabelForValue(e){const s=this._adapter,n=this.options.time;return n.tooltipFormat?s.format(e,n.tooltipFormat):s.format(e,n.displayFormats.datetime)}format(e,s){const a=this.options.time.displayFormats,i=this._unit,o=s||a[i];return this._adapter.format(e,o)}_tickFormatFunction(e,s,n,a){const i=this.options,o=i.ticks.callback;if(o)return Zt(o,[e,s,n],this);const l=i.time.displayFormats,c=this._unit,d=this._majorUnit,u=c&&l[c],h=d&&l[d],f=n[s],m=d&&h&&f&&f.major;return this._adapter.format(e,a||(m?h:u))}generateTickLabels(e){let s,n,a;for(s=0,n=e.length;s<n;++s)a=e[s],a.label=this._tickFormatFunction(a.value,s,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const s=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((s.start+n)*s.factor)}getValueForPixel(e){const s=this._offsets,n=this.getDecimalForPixel(e)/s.factor-s.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const s=this.options.ticks,n=this.ctx.measureText(e).width,a=xi(this.isHorizontal()?s.maxRotation:s.minRotation),i=Math.cos(a),o=Math.sin(a),l=this._resolveTickFontOptions(0).size;return{w:n*i+l*o,h:n*o+l*i}}_getLabelCapacity(e){const s=this.options.time,n=s.displayFormats,a=n[s.unit]||n.millisecond,i=this._tickFormatFunction(e,0,Uj(this,[e],this._majorUnit),a),o=this._getLabelSize(i),l=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],s,n;if(e.length)return e;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(s=0,n=a.length;s<n;++s)e=e.concat(a[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let s,n;if(e.length)return e;const a=this.getLabels();for(s=0,n=a.length;s<n;++s)e.push(qj(this,a[s]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return qk(e.sort(Bj))}}function Bm(t,e,s){let n=0,a=t.length-1,i,o,l,c;s?(e>=t[n].pos&&e<=t[a].pos&&({lo:n,hi:a}=zg(t,"pos",e)),{pos:i,time:l}=t[n],{pos:o,time:c}=t[a]):(e>=t[n].time&&e<=t[a].time&&({lo:n,hi:a}=zg(t,"time",e)),{time:i,pos:l}=t[n],{time:o,pos:c}=t[a]);const d=o-i;return d?l+(c-l)*(e-i)/d:l}class Hre extends Vj{static id="timeseries";static defaults=Vj.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),s=this._table=this.buildLookupTable(e);this._minPos=Bm(s,this.min),this._tableRange=Bm(s,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:s,max:n}=this,a=[],i=[];let o,l,c,d,u;for(o=0,l=e.length;o<l;++o)d=e[o],d>=s&&d<=n&&a.push(d);if(a.length<2)return[{time:s,pos:0},{time:n,pos:1}];for(o=0,l=a.length;o<l;++o)u=a[o+1],c=a[o-1],d=a[o],Math.round((u+c)/2)!==d&&i.push({time:d,pos:o/(l-1)});return i}_generate(){const e=this.min,s=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(s)||n.length===1)&&n.push(s),n.sort((a,i)=>a-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const s=this.getDataTimestamps(),n=this.getLabelTimestamps();return s.length&&n.length?e=this.normalize(s.concat(n)):e=s.length?s:n,e=this._cache.all=e,e}getDecimalForValue(e){return(Bm(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const s=this._offsets,n=this.getDecimalForPixel(e)/s.factor-s.end;return Bm(this._table,n*this._tableRange+this._minPos,!0)}}const S_="label";function Yj(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function ore(t,e){const s=t.options;s&&e&&Object.assign(s,e)}function A_(t,e){t.labels=e}function C_(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:S_;const n=[];t.datasets=e.map(a=>{const i=t.datasets.find(o=>o[s]===a[s]);return!i||!a.data||n.includes(i)?{...a}:(n.push(i),Object.assign(i,a),i)})}function lre(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:S_;const s={labels:[],datasets:[]};return A_(s,t.labels),C_(s,t.datasets,e),s}function cre(t,e){const{height:s=150,width:n=300,redraw:a=!1,datasetIdKey:i,type:o,data:l,options:c,plugins:d=[],fallbackContent:u,updateMode:h,...f}=t,m=U.useRef(null),g=U.useRef(null),x=()=>{m.current&&(g.current=new Tp(m.current,{type:o,data:lre(l,i),options:c&&{...c},plugins:d}),Yj(e,g.current))},j=()=>{Yj(e,null),g.current&&(g.current.destroy(),g.current=null)};return U.useEffect(()=>{!a&&g.current&&c&&ore(g.current,c)},[a,c]),U.useEffect(()=>{!a&&g.current&&A_(g.current.config.data,l.labels)},[a,l.labels]),U.useEffect(()=>{!a&&g.current&&l.datasets&&C_(g.current.config.data,l.datasets,i)},[a,l.datasets]),U.useEffect(()=>{g.current&&(a?(j(),setTimeout(x)):g.current.update(h))},[a,c,l.labels,l.datasets,h]),U.useEffect(()=>{g.current&&(j(),setTimeout(x))},[o]),U.useEffect(()=>(x(),()=>j()),[]),ce.createElement("canvas",{ref:m,role:"img",height:s,width:n,...f},u)}const dre=U.forwardRef(cre);function P_(t,e){return Tp.register(e),U.forwardRef((s,n)=>ce.createElement(dre,{...s,ref:n,type:t}))}const F0=P_("bar",Mee),ure=P_("pie",Oee),hre={async fetchCalls(){await Yy.getState().fetchCalls()}};Tp.register(ere,rre,fse,qse,Xse,zse,Jte,lse,Fp,Mse);const mre=()=>{const{calls:t,agents:e,totalCallsDuration:s,loading:n,error:a}=Yy(),[i,o]=U.useState(1),l=20;U.useEffect(()=>{hre.fetchCalls()},[]);const c=U.useMemo(()=>{if(!t)return{};const v={};return t.forEach(P=>{if(P.start_time){const L=new Date(P.start_time),S=yi(L,"yyyy-MM");v[S]=(v[S]||0)+1}}),v},[t]),d=U.useMemo(()=>{if(!t||t.length===0)return 0;const v=t.filter(C=>C.start_time&&C.end_time);if(v.length===0)return 0;const S=(v.reduce((C,O)=>{const z=new Date(O.start_time).getTime(),q=(new Date(O.end_time).getTime()-z)/1e3;return C+q},0)/v.length/60).toFixed(2);return parseFloat(S)},[t]),u=U.useMemo(()=>{const v={};return t&&t.forEach(P=>{const L=P.disconnection_reason||"Completed";v[L]=(v[L]||0)+1}),v},[t]),h=U.useMemo(()=>{if(!t||t.length===0)return{labels:[],datasets:[]};const v={};t.forEach(O=>{if(O.start_time){const z=new Date(O.start_time).toISOString().split("T")[0];v[z]=(v[z]||0)+1}});const P=Object.keys(v).sort(),L=[],S=[];let C=0;return P.forEach(O=>{L.push(O),C+=v[O],S.push(C)}),{labels:L,datasets:[{label:"Total Calls",data:S,backgroundColor:"rgba(79, 70, 229, 0.6)",borderColor:"rgba(79, 70, 229, 1)",borderWidth:1}]}},[t]),f=U.useMemo(()=>({labels:["Average Call Length (minutes)"],datasets:[{label:"Average Duration",data:[d],backgroundColor:"rgba(34, 197, 94, 0.6)",borderColor:"rgba(34, 197, 94, 1)",borderWidth:1}]}),[d]),m=U.useMemo(()=>{const v=Object.keys(u),P=Object.values(u);return{labels:v,datasets:[{data:P,backgroundColor:["#FF6384","#36A2EB","#FFCE56","#4BC0C0","#9966CC","#FF9F40","#E7E9ED"].slice(0,v.length),borderColor:"#ffffff",borderWidth:2}]}},[u]),g=U.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{color:"#ffffff"}},title:{display:!0,text:"Total Calls Over Time",color:"#ffffff"},tooltip:{callbacks:{label:function(v){let P=v.dataset.label||"";return P&&(P+=": "),v.parsed.y!==null&&(P+=v.parsed.y),P}}}},scales:{y:{beginAtZero:!0,ticks:{stepSize:1,color:"#cccccc"},grid:{color:"#333333"}},x:{ticks:{color:"#cccccc"},grid:{color:"#333333"}}}}),[]),x=U.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{color:"#ffffff"}},title:{display:!0,color:"#ffffff"},tooltip:{callbacks:{label:function(v){let P=v.dataset.label||"";if(P&&(P+=": "),v.parsed.y!==null)if(v.chart.config.type==="pie"){const L=v.dataset.data.reduce((C,O)=>C+O,0),S=(v.parsed/L*100).toFixed(1)+"%";P+=`${v.parsed} (${S})`}else P+=v.parsed.y;return P}}}},scales:{y:{beginAtZero:!0,ticks:{color:"#cccccc"},grid:{color:"#333333"},display:!0},x:{ticks:{color:"#cccccc"},grid:{color:"#333333"},display:!0}}}),[]),j=U.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{color:"#ffffff"}},title:{display:!0,color:"#ffffff"},tooltip:{callbacks:{label:function(v){let P=v.label||"";P&&(P+=": ");const L=v.dataset.data.reduce((C,O)=>C+O,0),S=(v.raw/L*100).toFixed(1)+"%";return P+=`${v.raw} (${S})`,P}}}}}),[]),y=U.useMemo(()=>{const P=Object.keys(c).sort((S,C)=>{const[O,z]=S.split("-").map(Number),[Z,q]=C.split("-").map(Number),R=new Date(O,z-1).getTime(),X=new Date(Z,q-1).getTime();return R-X}),L=P.map(S=>c[S]);return{labels:P,datasets:[{label:"Number of Calls",data:L,backgroundColor:"rgba(54, 162, 235, 0.6)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1}]}},[c]),b=i*l,k=b-l,A=U.useMemo(()=>t.slice(k,b),[t,i]),E=v=>o(v),I=U.useMemo(()=>{const v=[];for(let P=1;P<=Math.ceil(t.length/l);P++)v.push(P);return v},[t,l]),_=U.useMemo(()=>{const v=I.length,P=5,L=3;if(v<=P)return I;const S=[];for(let C=1;C<=Math.min(L,v);C++)S.push(C);i>L+1&&S.push("...");for(let C=Math.max(v-L+1,L+1);C<=v;C++)S.push(C);return S},[I,i]);return r.jsxs("div",{className:"container mx-auto p-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-white mb-6",children:"Calls Dashboard - last 1000 calls"}),n&&r.jsx("p",{className:"text-white",children:"Loading calls..."}),a&&r.jsxs("p",{className:"text-red-500",children:["Error fetching calls: ",a]}),!n&&!a&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[r.jsx(de,{to:"/calls",className:"card bg-dark-800 border border-dark-700 hover:bg-dark-700/50 transition-colors",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Agents Amount"}),r.jsx("h3",{className:"text-2xl font-bold text-white mt-1",children:e.length})]}),r.jsx("div",{className:"p-3 rounded-lg bg-orange-500/20 text-orange-500",children:r.jsx(hC,{size:24})})]})}),r.jsx(de,{to:"/calls",className:"card bg-dark-800 border border-dark-700 hover:bg-dark-700/50 transition-colors",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Total Calls"}),r.jsx("h3",{className:"text-2xl font-bold text-white mt-1",children:t.length})]}),r.jsx("div",{className:"p-3 rounded-lg bg-orange-500/20 text-orange-500",children:r.jsx(oo,{size:24})})]})}),r.jsx(de,{to:"/calls",className:"card bg-dark-800 border border-dark-700 hover:bg-dark-700/50 transition-colors",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Total Calls Duration"}),r.jsxs("h3",{className:"text-2xl font-bold text-white mt-1",children:[s," min"]})]}),r.jsx("div",{className:"p-3 rounded-lg bg-orange-500/20 text-orange-500",children:r.jsx(_C,{size:24})})]})})]}),r.jsx("div",{className:"bg-dark-800 rounded-lg border border-dark-700 p-6 h-80 mb-6",children:r.jsx(F0,{data:h,options:g})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[r.jsx("div",{className:"bg-dark-800 rounded-lg border border-dark-700 p-6 h-80",children:r.jsx(F0,{data:f,options:{...x,plugins:{...x.plugins,title:{...x.plugins.title,text:"Average Call Length (minutes)"}},scales:{...x.scales,y:{...x.scales.y,beginAtZero:!0,display:!0},x:{...x.scales.x,display:!1}}}})}),r.jsx("div",{className:"bg-dark-800 rounded-lg border border-dark-700 p-6 h-80",children:r.jsx(ure,{data:m,options:{...j,plugins:{...j.plugins,text:"Disconnection Reason"}}})}),r.jsx("div",{className:"bg-dark-800 rounded-lg border border-dark-700 p-6 h-80",children:r.jsx(F0,{data:y,options:{...x,plugins:{...x.plugins,title:{...x.plugins,text:"Calls by Month"}},scales:{...x.scales,y:{...x.scales.y,beginAtZero:!0,display:!0},x:{...x.scales.x,display:!0}}}})})]}),r.jsxs("div",{className:"bg-dark-800 rounded-lg border border-dark-700 p-6",children:[r.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Recent Calls"}),t.length===0?r.jsx("p",{className:"text-white",children:"No calls found."}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-dark-700",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-dark-300 uppercase tracking-wider",children:"From"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-dark-300 uppercase tracking-wider",children:"To"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-dark-300 uppercase tracking-wider",children:"Start Time"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-dark-300 uppercase tracking-wider",children:"End Time"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-dark-300 uppercase tracking-wider",children:"Duration (s)"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-dark-300 uppercase tracking-wider",children:"Audio"})]})}),r.jsx("tbody",{className:"divide-y divide-dark-700",children:A.map(v=>r.jsxs("tr",{className:"text-white",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:v.from_number}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:v.to_number}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:v.start_time?new Date(v.start_time).toLocaleString():"N/A"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:v.end_time?new Date(v.end_time).toLocaleString():"N/A"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:v.start_time&&v.end_time?Math.round((new Date(v.end_time).getTime()-new Date(v.start_time).getTime())/1e3):"N/A"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:v.recording_url?r.jsx("audio",{controls:!0,src:v.recording_url,style:{width:"150px",height:"30px",display:"block",objectFit:"contain"},children:"Download audio"}):"N/A"})]},v.id))})]})})]}),t.length>0&&r.jsxs("div",{className:"bg-dark-800 px-4 py-3 flex items-center justify-between border-t border-dark-700",children:[r.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[r.jsx("button",{onClick:()=>E(i-1),disabled:i===1,className:"btn btn-secondary",children:"Previous"}),r.jsx("button",{onClick:()=>E(i+1),disabled:i===I.length,className:"btn btn-secondary",children:"Next"})]}),r.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[r.jsx("div",{children:r.jsxs("p",{className:"text-sm text-gray-400",children:["Showing ",r.jsx("span",{className:"font-medium text-white",children:k+1})," to ",r.jsx("span",{className:"font-medium text-white",children:b>t.length?t.length:b})," of ",r.jsx("span",{className:"font-medium text-white",children:t.length})," results"]})}),r.jsx("div",{children:r.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[r.jsx("button",{onClick:()=>E(i-1),disabled:i===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-dark-700 bg-dark-800 text-sm font-medium text-gray-400 hover:bg-dark-700",children:"Previous"}),_.map(v=>r.jsx("button",{onClick:()=>{v!=="..."&&E(Number(v))},"aria-current":"page",className:`${i===v?"z-10 bg-indigo-500 border-indigo-500 text-white":"bg-dark-800 border-dark-700 text-gray-400 hover:bg-dark-700"} relative inline-flex items-center px-4 py-2 border text-sm font-medium`,disabled:v==="...",children:v},v)),r.jsx("button",{onClick:()=>E(i+1),disabled:i===I.length,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-dark-700 bg-dark-800 text-sm font-medium text-gray-400 hover:bg-dark-700",children:"Next"})]})})]})]})]})]})};function fre(){const{user:t,initialized:e,initialize:s,checkAuthStatus:n}=Ar(),{fetchProfile:a}=Dc(),i=Yg(),o=Qt(),[l,c]=U.useState(!1);return U.useEffect(()=>{const{data:d}=Ae.auth.onAuthStateChange((u,h)=>{u==="SIGNED_IN"&&h&&o("/dashboard")});return()=>{d?.subscription.unsubscribe()}},[o]),U.useEffect(()=>{(async()=>{t&&i.pathname!=="/login"&&i.pathname!=="/register"&&!i.pathname.startsWith("/features")&&i.pathname!=="/contact"&&(c(!0),await n()||(fe.error("Your session has expired. Please sign in again."),o("/login")),c(!1))})()},[i.pathname,t,n,o]),U.useEffect(()=>{e||s()},[e,s]),U.useEffect(()=>{t&&a()},[t,a]),U.useEffect(()=>{const d=u=>{u.detail?.online&&n()};return document.addEventListener("networkStatusChange",d),()=>{document.removeEventListener("networkStatusChange",d)}},[n]),U.useEffect(()=>{const d=()=>{document.visibilityState==="visible"&&t&&Date.now()-u>18e5&&n(),u=Date.now()};let u=Date.now();return document.addEventListener("visibilitychange",d),()=>{document.removeEventListener("visibilitychange",d)}},[n,t]),!e||l?r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})}):r.jsxs(r.Fragment,{children:[r.jsxs(bS,{children:[r.jsx(We,{path:"/",element:r.jsx(p6,{})}),r.jsx(We,{path:"/waitlist",element:r.jsx(Rv,{})}),r.jsx(We,{path:"/demo",element:r.jsx($v,{})}),r.jsxs(We,{element:r.jsx(sw,{}),children:[r.jsx(We,{path:"/legal/privacy-policy",element:r.jsx(l6,{})}),r.jsx(We,{path:"/legal/terms-of-service",element:r.jsx(c6,{})}),r.jsx(We,{path:"/legal/cookie-policy",element:r.jsx(d6,{})})]}),r.jsx(We,{path:"/login",element:t?r.jsx(yt,{to:"/dashboard"}):r.jsx(AV,{})}),r.jsx(We,{path:"/gdpr",element:r.jsx(CV,{})}),r.jsx(We,{path:"/forgot-password",element:t?r.jsx(yt,{to:"/dashboard"}):r.jsx(EV,{})}),r.jsx(We,{path:"/reset-password",element:t?r.jsx(yt,{to:"/dashboard"}):r.jsx(PV,{})}),r.jsxs(We,{element:r.jsx(sw,{}),children:[r.jsx(We,{path:"/features/customer-management",element:r.jsx(uX,{})}),r.jsx(We,{path:"/features/invoicing",element:r.jsx(hX,{})}),r.jsx(We,{path:"/features/inventory-tracking",element:r.jsx(mX,{})}),r.jsx(We,{path:"/function/sales",element:r.jsx(fX,{})}),r.jsx(We,{path:"/function/marketing",element:r.jsx(pX,{})}),r.jsx(We,{path:"/function/customer-support",element:r.jsx(xX,{})}),r.jsx(We,{path:"/function/research",element:r.jsx(gX,{})}),r.jsx(We,{path:"/function/operations",element:r.jsx(yX,{})}),r.jsx(We,{path:"/products/ai-agent",element:r.jsx(bX,{})}),r.jsx(We,{path:"/products/ai-workforce",element:r.jsx(vX,{})}),r.jsx(We,{path:"/products/ai-tools",element:r.jsx(wX,{})}),r.jsx(We,{path:"/products/crm",element:r.jsx(jX,{})}),r.jsx(We,{path:"/agents/bdr",element:r.jsx(NX,{})}),r.jsx(We,{path:"/agents/marketer",element:r.jsx(kX,{})}),r.jsx(We,{path:"/agents/researcher",element:r.jsx(_X,{})}),r.jsx(We,{path:"/agents/crm",element:r.jsx(SX,{})}),r.jsx(We,{path:"/agents/qualification",element:r.jsx(AX,{})}),r.jsx(We,{path:"/agents/seo",element:r.jsx(CX,{})}),r.jsx(We,{path:"/agents/inbox",element:r.jsx(PX,{})}),r.jsx(We,{path:"/blog/ai-market",element:r.jsx(DQ,{})}),r.jsx(We,{path:"/features/expenses",element:r.jsx(AK,{})}),r.jsx(We,{path:"/features/quotes",element:r.jsx(CK,{})}),r.jsx(We,{path:"/features/ai-growth-partner",element:r.jsx(LQ,{})}),r.jsx(We,{path:"/features/enterprise-plan",element:r.jsx(IQ,{})}),r.jsx(We,{path:"/enterprise/solutions",element:r.jsx(MQ,{})}),r.jsx(We,{path:"/enterprise/security",element:r.jsx(OQ,{})}),r.jsx(We,{path:"/enterprise/custom",element:r.jsx(pJ,{})}),r.jsx(We,{path:"/pricing",element:r.jsx(TQ,{})}),r.jsx(We,{path:"/pricing/compare",element:r.jsx(FQ,{})}),r.jsx(We,{path:"/features/:planId",element:r.jsx(gJ,{})})]}),r.jsx(We,{path:"/contact",element:r.jsx(yJ,{})}),r.jsx(We,{path:"/demo",element:r.jsx($v,{})}),r.jsx(We,{path:"/waitlist",element:r.jsx(Rv,{})}),r.jsxs(We,{element:r.jsx(SV,{}),children:[r.jsx(We,{path:"/dashboard",element:t?r.jsx(LV,{}):r.jsx(yt,{to:"/login"})}),r.jsx(We,{path:"/crm",element:t?r.jsx(RV,{}):r.jsx(yt,{to:"/login"})}),r.jsx(We,{path:"/customers",element:t?r.jsx($V,{}):r.jsx(yt,{to:"/login"})}),r.jsx(We,{path:"/customers/new",element:t?r.jsx(w2,{}):r.jsx(yt,{to:"/login"})}),r.jsx(We,{path:"/customers/:id",element:t?r.jsx(zV,{}):r.jsx(yt,{to:"/login"})}),r.jsx(We,{path:"/customers/:id/edit",element:t?r.jsx(w2,{}):r.jsx(yt,{to:"/login"})}),r.jsx(We,{path:"/suppliers",element:t?r.jsx(j2,{}):r.jsx(yt,{to:"/login"})}),r.jsx(We,{path:"/suppliers/new",element:t?r.jsx(Aw,{}):r.jsx(yt,{to:"/login"})}),r.jsx(We,{path:"/suppliers/:id",element:t?r.jsx(wJ,{}):r.jsx(yt,{to:"/login"})}),r.jsx(We,{path:"/suppliers/:id/edit",element:t?r.jsx(Aw,{}):r.jsx(yt,{to:"/login"})}),r.jsx(We,{path:"/Calls",element:t?r.jsx(mre,{}):r.jsx(yt,{to:"/login"})}),r.jsx(We,{path:"/products",element:t?r.jsx(qV,{}):r.jsx(yt,{to:"/login"})}),r.jsx(We,{path:"/products/new",element:t?r.jsx(HV,{}):r.jsx(yt,{to:"/login"})}),r.jsx(We,{path:"/products/:id",element:t?r.jsx(WV,{}):r.jsx(yt,{to:"/login"})}),r.jsx(We,{path:"/products/:id/edit",element:t?r.jsx(UV,{}):r.jsx(yt,{to:"/login"})}),r.jsx(We,{path:"/inventory",element:t?r.jsx(VV,{}):r.jsx(yt,{to:"/login"})}),r.jsx(We,{path:"/invoices",element:t?r.jsx(YV,{}):r.jsx(yt,{to:"/login"})}),r.jsx(We,{path:"/invoices/create",element:t?r.jsx(iG,{}):r.jsx(yt,{to:"/login"})}),r.jsx(We,{path:"/invoices/:id/edit",element:t?r.jsx(H2,{}):r.jsx(yt,{to:"/login"})}),r.jsx(We,{path:"/invoices/:id",element:t?r.jsx(aG,{}):r.jsx(yt,{to:"/login"})}),r.jsx(We,{path:"/invoices/:id/edit",element:t?r.jsx(H2,{}):r.jsx(yt,{to:"/login"})}),r.jsx(We,{path:"/pipeline",element:t?r.jsx(SC,{}):r.jsx(yt,{to:"/login"})}),r.jsx(We,{path:"/pipeline/:stage",element:t?r.jsx(AC,{}):r.jsx(yt,{to:"/login"})}),r.jsx(We,{path:"/suppliers",element:t?r.jsx(j2,{}):r.jsx(yt,{to:"/login"})}),r.jsx(We,{path:"/team",element:t?r.jsx(KC,{}):r.jsx(yt,{to:"/login"})}),r.jsx(We,{path:"/quotes",element:t?r.jsx(oG,{}):r.jsx(yt,{to:"/login"})}),r.jsx(We,{path:"/quotes/create",element:t?r.jsx(lG,{}):r.jsx(yt,{to:"/login"})}),r.jsx(We,{path:"/quotes/:id",element:t?r.jsx(cG,{}):r.jsx(yt,{to:"/login"})}),r.jsx(We,{path:"/purchases",element:t?r.jsx(EK,{}):r.jsx(yt,{to:"/login"})}),r.jsx(We,{path:"/expenses",element:t?r.jsx(SK,{}):r.jsx(yt,{to:"/login"})}),r.jsx(We,{path:"/purchases/create",element:t?r.jsx(MK,{}):r.jsx(yt,{to:"/login"})}),r.jsx(We,{path:"/purchases/:id",element:t?r.jsx(LK,{}):r.jsx(yt,{to:"/login"})}),r.jsx(We,{path:"/revenue",element:t?r.jsx(vJ,{}):r.jsx(yt,{to:"/login"})}),r.jsx(We,{path:"/settings",element:t?r.jsx(dX,{}):r.jsx(yt,{to:"/login"})}),r.jsx(We,{path:"/templates",element:t?r.jsx(bJ,{}):r.jsx(yt,{to:"/login"})})]}),r.jsx(We,{path:"*",element:r.jsx(yt,{to:t?"/dashboard":"/"})})]}),!t&&!i.pathname.includes("/dashboard")&&!i.pathname.includes("/login")&&!i.pathname.includes("/register")&&r.jsx($N,{isOpen:!1})]})}var E_="https://js.stripe.com/v3",pre=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,Gj="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",xre=function(){for(var e=document.querySelectorAll('script[src^="'.concat(E_,'"]')),s=0;s<e.length;s++){var n=e[s];if(pre.test(n.src))return n}return null},Kj=function(e){var s="",n=document.createElement("script");n.src="".concat(E_).concat(s);var a=document.head||document.body;if(!a)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return a.appendChild(n),n},gre=function(e,s){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"2.4.0",startTime:s})},Bd=null,qm=null,Hm=null,yre=function(e){return function(){e(new Error("Failed to load Stripe.js"))}},bre=function(e,s){return function(){window.Stripe?e(window.Stripe):s(new Error("Stripe.js not available"))}},vre=function(e){return Bd!==null?Bd:(Bd=new Promise(function(s,n){if(typeof window>"u"||typeof document>"u"){s(null);return}if(window.Stripe&&e&&console.warn(Gj),window.Stripe){s(window.Stripe);return}try{var a=xre();if(a&&e)console.warn(Gj);else if(!a)a=Kj(e);else if(a&&Hm!==null&&qm!==null){var i;a.removeEventListener("load",Hm),a.removeEventListener("error",qm),(i=a.parentNode)===null||i===void 0||i.removeChild(a),a=Kj(e)}Hm=bre(s,n),qm=yre(n),a.addEventListener("load",Hm),a.addEventListener("error",qm)}catch(o){n(o);return}}),Bd.catch(function(s){return Bd=null,Promise.reject(s)}))},wre=function(e,s,n){if(e===null)return null;var a=e.apply(void 0,s);return gre(a,n),a},qd,D_=!1,L_=function(){return qd||(qd=vre(null).catch(function(e){return qd=null,Promise.reject(e)}),qd)};Promise.resolve().then(function(){return L_()}).catch(function(t){D_||console.warn(t)});var jre=function(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];D_=!0;var a=Date.now();return L_().then(function(i){return wre(i,s,a)})};const Nre=jre("pk_live_51QypERGmarpEtABMTcKBe5wEaaqY3EWbyIpDqcXVWbheGjKUCdMnaPwPEscNALaoOrQBg5THRELp7HJAAGa6XRU400cGHFDtax"),kre=({children:t})=>r.jsx(y3,{stripe:Nre,children:t}),_re={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_APP_URL:"https://cxtrack.com",VITE_HUGGINGFACE_API_KEY:"hf_your-huggingface-key",VITE_OPENAI_API_KEY:"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",VITE_STRIPE_PUBLISHABLE_KEY:"pk_live_51QypERGmarpEtABMTcKBe5wEaaqY3EWbyIpDqcXVWbheGjKUCdMnaPwPEscNALaoOrQBg5THRELp7HJAAGa6XRU400cGHFDtax",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZtZW9tbm1ncWF0ZXpqcXNyYXBqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDA4ODI3NjQsImV4cCI6MjA1NjQ1ODc2NH0.uT7Hne2lmqLUei4931uepHFum1rtuBk7k0HRMK0V5UI",VITE_SUPABASE_URL:"https://vmeomnmgqatezjqsrapj.supabase.co"};console.log("Environment:","production");try{const e=["VITE_SUPABASE_URL","VITE_SUPABASE_ANON_KEY","VITE_OPENAI_API_KEY"].filter(s=>!_re[s]);if(e.length>0)throw new Error(`Missing required environment variables: ${e.join(", ")}`);"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".startsWith("sk-")||console.error('Warning: OpenAI API key format may be invalid. Expected key to start with "sk-"')}catch(t){console.error("Environment validation error:",t),fe.error("Application configuration error. Please check the console.")}const Sre=!1;eN(document.getElementById("root")).render(r.jsx(U.StrictMode,{children:r.jsx(vS,{children:r.jsxs(kre,{children:[r.jsx(fre,{}),r.jsx(yA,{position:"top-right",toastOptions:{style:{background:"#1e293b",color:"#fff"},duration:4e3}}),Sre]})})}));export{Ro as _};
